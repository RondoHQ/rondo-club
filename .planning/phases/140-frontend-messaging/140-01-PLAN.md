---
phase: 140-frontend-messaging
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/components/layout/Layout.jsx
  - src/pages/Todos/TodosList.jsx
  - src/components/Timeline/GlobalTodoModal.jsx
autonomous: true

must_haves:
  truths:
    - "Tasks navigation item is visible to all users including restricted users"
    - "Tasks list page shows persistent info message indicating tasks are personal"
    - "Task creation modal shows info message that task will only be visible to creator"
  artifacts:
    - path: "src/components/layout/Layout.jsx"
      provides: "Navigation without capability gating for Tasks"
      contains: "{ name: 'Taken', href: '/todos', icon: CheckSquare }"
    - path: "src/pages/Todos/TodosList.jsx"
      provides: "Personal tasks info message in header"
      contains: "Taken zijn alleen zichtbaar voor jou"
    - path: "src/components/Timeline/GlobalTodoModal.jsx"
      provides: "Personal tasks info message in modal"
      contains: "Deze taak is alleen zichtbaar voor jou"
  key_links:
    - from: "Layout.jsx navigation"
      to: "/todos route"
      via: "NavLink without requiresUnrestricted"
      pattern: "Taken.*href.*todos"
---

<objective>
Add UI messaging to communicate that tasks are personal and only visible to the creator.

Purpose: Complete the personal tasks feature by making the isolation clear to users through informational UI elements
Output: Updated navigation, TodosList page with info message, GlobalTodoModal with info message
</objective>

<execution_context>
@/Users/joostdevalk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joostdevalk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/140-frontend-messaging/140-CONTEXT.md
@.planning/phases/140-frontend-messaging/140-RESEARCH.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove capability gating from Tasks navigation</name>
  <files>src/components/layout/Layout.jsx</files>
  <action>
In the navigation array (around line 59), remove the `requiresUnrestricted: true` property from the Taken entry.

Change from:
```jsx
{ name: 'Taken', href: '/todos', icon: CheckSquare, requiresUnrestricted: true },
```

To:
```jsx
{ name: 'Taken', href: '/todos', icon: CheckSquare },
```

This allows all users (including restricted VOG-only and Fairplay-only users) to see and access the Tasks page. Since tasks are now user-isolated at the backend level, every user only sees their own tasks anyway.
  </action>
  <verify>Grep for "Taken" in Layout.jsx and confirm requiresUnrestricted is removed</verify>
  <done>Tasks navigation item no longer has capability gating - visible to all users</done>
</task>

<task type="auto">
  <name>Task 2: Add personal tasks info message to TodosList page</name>
  <files>src/pages/Todos/TodosList.jsx</files>
  <action>
1. Add `Info` to the lucide-react import (line 2):
```jsx
import { CheckSquare, Square, Clock, Plus, Info } from 'lucide-react';
```

2. Add an info message between the header and filter controls. After the closing `</div>` of the header section (after line 217) and before the filter controls `<div>` (line 220), insert:

```jsx
      {/* Personal tasks info message */}
      <div className="flex items-start gap-3 p-3 bg-blue-50 border border-blue-200 rounded-lg text-sm dark:bg-blue-900/30 dark:border-blue-700">
        <Info className="w-4 h-4 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5" />
        <p className="text-blue-700 dark:text-blue-300">
          Taken zijn alleen zichtbaar voor jou
        </p>
      </div>
```

The message uses the blue informational style matching existing codebase patterns. It is always visible (not dismissible) per user decision.
  </action>
  <verify>Run `npm run lint` to check for errors. Visually verify the info box appears below the header.</verify>
  <done>TodosList page shows persistent Dutch info message "Taken zijn alleen zichtbaar voor jou"</done>
</task>

<task type="auto">
  <name>Task 3: Add personal tasks info message to GlobalTodoModal</name>
  <files>src/components/Timeline/GlobalTodoModal.jsx</files>
  <action>
1. Add `Info` to the lucide-react import (line 2):
```jsx
import { X, User, ChevronDown, Search, Plus, Info } from 'lucide-react';
```

2. Add an info message inside the modal, after the header section (after line 139, closing `</div>` of the header) and before the `<form>` element (line 141). Insert:

```jsx
        {/* Personal tasks info message */}
        <div className="mx-4 mt-4 mb-2 flex items-start gap-2 p-2 bg-blue-50 border border-blue-200 rounded-lg text-xs dark:bg-blue-900/30 dark:border-blue-700">
          <Info className="w-3.5 h-3.5 text-blue-600 dark:text-blue-400 flex-shrink-0 mt-0.5" />
          <p className="text-blue-700 dark:text-blue-300">
            Deze taak is alleen zichtbaar voor jou
          </p>
        </div>
```

The message uses a compact size (text-xs, smaller icon, p-2 padding) appropriate for modal context. It appears at the top of the modal form area to inform users before they create a task.
  </action>
  <verify>Run `npm run lint` to check for errors. Visually verify the info box appears in the modal.</verify>
  <done>GlobalTodoModal shows info message "Deze taak is alleen zichtbaar voor jou" at top of form</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm run lint` passes with no errors
2. `npm run build` succeeds
3. Navigate to /todos as a regular user - page is accessible
4. Info message "Taken zijn alleen zichtbaar voor jou" visible below header
5. Click "Taak toevoegen" button - modal opens
6. Info message "Deze taak is alleen zichtbaar voor jou" visible at top of modal form
7. Both messages have correct blue styling in light and dark mode
</verification>

<success_criteria>
- UX-01: Tasks navigation visible to all users (no requiresUnrestricted property)
- UX-02: Tasks list page shows persistent "Taken zijn alleen zichtbaar voor jou" message
- UX-03: Task creation modal shows "Deze taak is alleen zichtbaar voor jou" message
- All info messages use consistent blue styling with Info icon
- Dark mode styling works correctly
- Build and lint pass
</success_criteria>

<output>
After completion, create `.planning/phases/140-frontend-messaging/140-01-SUMMARY.md`
</output>
