---
phase: 176-frontend-cleanup
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/api/client.js
  - src/hooks/usePeople.js
  - src/hooks/useListPreferences.js
  - src/pages/Settings/Labels.jsx
  - src/pages/Settings/Settings.jsx
  - src/router.jsx
autonomous: true

must_haves:
  truths:
    - "Settings/Labels page no longer exists in navigation or routing"
    - "person_label and team_label API client methods are removed"
    - "commissie_label API client methods are preserved (still live)"
    - "usePeople hook no longer extracts or passes labels data"
    - "Frontend builds successfully after changes"
  artifacts:
    - path: "src/api/client.js"
      provides: "API client without person_label/team_label methods"
      contains: "getCommissieLabels"
    - path: "src/hooks/usePeople.js"
      provides: "People hook without labels extraction or filter"
    - path: "src/router.jsx"
      provides: "Router without /settings/labels route"
    - path: "src/pages/Settings/Settings.jsx"
      provides: "Settings page without Labels navigation link"
  key_links:
    - from: "src/pages/Settings/Settings.jsx"
      to: "/settings/labels"
      via: "Link removed"
      pattern: "settings/labels"
    - from: "src/router.jsx"
      to: "Labels component"
      via: "Route and lazy import removed"
      pattern: "Labels"
---

<objective>
Remove label data layer from the frontend: Settings/Labels page, person_label/team_label API methods, labels extraction from usePeople hook, and default label column preference.

Purpose: With person_label and team_label taxonomies removed from the backend (Phase 175), the frontend data layer that fetches and manages these labels is now dead code calling nonexistent endpoints.

Output: Clean frontend data layer with no person_label/team_label references. commissie_label functionality preserved (still live on backend).
</objective>

<execution_context>
@/Users/joostdevalk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joostdevalk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/175-backend-cleanup/175-01-SUMMARY.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Remove Settings/Labels page, route, and navigation link</name>
  <files>
    src/pages/Settings/Labels.jsx
    src/pages/Settings/Settings.jsx
    src/router.jsx
  </files>
  <action>
1. **Delete `src/pages/Settings/Labels.jsx`** entirely — the Settings/Labels page managed person_label and team_label taxonomies which no longer exist.

2. **Edit `src/router.jsx`:**
   - Remove the lazy import: `const Labels = lazy(() => import('@/pages/Settings/Labels'));`
   - Remove the route: `{ path: 'settings/labels', element: <Labels /> }`

3. **Edit `src/pages/Settings/Settings.jsx`:**
   - Remove the `<Link to="/settings/labels">` block (approximately lines 2936-2942) that shows the "Labels" card in the admin section. The block contains "Labels" heading and "Beheer labels voor personen en organisaties" description.

**IMPORTANT:** Do NOT remove the commissie_label references from the API client or any other file. commissie_label is still a live taxonomy.
  </action>
  <verify>
    - `grep -r "Settings/Labels" src/router.jsx` returns no matches
    - `grep -r "settings/labels" src/pages/Settings/Settings.jsx` returns no matches
    - File `src/pages/Settings/Labels.jsx` no longer exists
  </verify>
  <done>Settings/Labels page is fully removed from navigation, routing, and filesystem. No dead routes remain.</done>
</task>

<task type="auto">
  <name>Task 2: Remove person_label/team_label API methods and clean up hooks</name>
  <files>
    src/api/client.js
    src/hooks/usePeople.js
    src/hooks/useListPreferences.js
  </files>
  <action>
1. **Edit `src/api/client.js`:**
   - Remove the 4 person_label methods (lines ~68-71):
     ```
     getPersonLabels, createPersonLabel, updatePersonLabel, deletePersonLabel
     ```
   - Remove the 4 team_label methods (lines ~73-76):
     ```
     getTeamLabels, createTeamLabel, updateTeamLabel, deleteTeamLabel
     ```
   - **KEEP** the 4 commissie_label methods (lines ~78-81) — commissie_label is still a live taxonomy.

2. **Edit `src/hooks/usePeople.js`:**
   - Remove the labels extraction block (~lines 27-30):
     ```js
     // Extract labels from embedded terms
     const labels = person._embedded?.['wp:term']?.flat()
       ?.filter(term => term?.taxonomy === 'person_label')
       ?.map(term => term.name) || [];
     ```
   - Remove `labels` from the return object (~line 46)
   - Remove the `labels` JSDoc parameter (~line 101): `@param {number[]} filters.labels - Array of label term IDs (OR logic)`
   - Remove `labels: filters.labels || [],` from the params object (~line 127)

3. **Edit `src/hooks/useListPreferences.js`:**
   - In the fallback/default columns array (~line 107), change `['team', 'labels']` to `['team']` — labels column no longer exists.
   - Also change in column_order fallback if present.

**IMPORTANT:** Do NOT remove commissie_label API methods. They are still used by CommissiesList.
  </action>
  <verify>
    - `grep "person_label\|team_label" src/api/client.js` returns no matches (only commissie_label should remain)
    - `grep "person_label" src/hooks/usePeople.js` returns no matches
    - `grep "'labels'" src/hooks/useListPreferences.js` returns no matches
    - `npm run build` succeeds (may show existing lint warnings but no new errors from these changes)
  </verify>
  <done>person_label and team_label API methods removed from client. usePeople hook no longer extracts or passes label data. Default column preferences no longer include labels. commissie_label methods preserved.</done>
</task>

</tasks>

<verification>
After both tasks:
1. `grep -r "person_label" src/api/ src/hooks/` returns no matches
2. `grep -r "team_label" src/api/ src/hooks/` returns no matches
3. `grep -r "commissie_label" src/api/client.js` still shows 4 methods (preserved)
4. Settings/Labels page file is deleted
5. No route to /settings/labels exists
6. `npm run build` completes successfully
</verification>

<success_criteria>
- Settings/Labels page removed from navigation, routing, and filesystem
- 8 dead API methods removed (4 person_label + 4 team_label)
- 4 commissie_label API methods preserved
- usePeople hook cleaned of label extraction and filter params
- Default column preferences no longer include labels
- Build passes
</success_criteria>

<output>
After completion, create `.planning/phases/176-frontend-cleanup/176-01-SUMMARY.md`
</output>
