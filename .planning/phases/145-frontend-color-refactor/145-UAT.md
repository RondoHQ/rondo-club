---
status: diagnosed
phase: 145-frontend-color-refactor
source: 145-01-SUMMARY.md, 145-02-SUMMARY.md
started: 2026-02-05T16:10:00Z
updated: 2026-02-05T16:25:00Z
---

## Current Test

[testing complete]

## Tests

### 1. Club Label in Accent Picker
expected: In Settings, the accent color picker shows "Club" as the first color option (not "AWC").
result: pass

### 2. Dynamic Club Color Swatch
expected: The "Club" swatch in the accent picker displays the actual configured club color (from admin settings), not a hardcoded green.
result: pass

### 3. Club Configuration Section (Admin Only)
expected: In Settings, there is a "Club Configuration" section visible to admin users with fields for club name, accent color (with color picker), and FreeScout URL.
result: pass

### 4. Live Color Preview
expected: When picking a new club color in the color picker, the accent colors throughout the app update in real-time as you drag the picker (while your accent is set to "Club").
result: pass

### 5. Save Club Configuration
expected: After changing club name and color in Settings and saving, the values persist after a page refresh.
result: issue
reported: "getting an error that it can't save."
severity: major

### 6. Login Page Club Color
expected: The WordPress login page uses the configured club color for its gradient/accent instead of hardcoded AWC green.
result: skipped
reason: Can't test — depends on saving club color (test 5)

### 7. Login Page Club Name
expected: The WordPress login page displays the configured club name instead of the default site name.
result: skipped
reason: Can't test — depends on saving club settings (test 5)

### 8. Auto-Migration from AWC
expected: If you previously had "AWC" selected as accent color, it automatically switches to "Club" without manual action (no broken theme).
result: pass

## Summary

total: 8
passed: 5
issues: 1
pending: 0
skipped: 2

## Gaps

- truth: "After changing club name and color in Settings and saving, the values persist after a page refresh."
  status: fixed
  reason: "User reported: getting an error that it can't save."
  severity: major
  test: 5
  root_cause: "Settings.jsx called prmApi.post('/config', ...) but prmApi has no generic .post() method — only named methods. TypeError at runtime prevented save request."
  artifacts:
    - path: "src/pages/Settings/Settings.jsx"
      issue: "Called non-existent prmApi.post() instead of named method"
    - path: "src/api/client.js"
      issue: "Missing getClubConfig and updateClubConfig methods on prmApi"
  missing:
    - "Add getClubConfig() and updateClubConfig() to prmApi in client.js"
    - "Use prmApi.updateClubConfig() in Settings.jsx save handler"
  debug_session: ".planning/debug/club-config-save-error.md"
