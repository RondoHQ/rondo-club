---
phase: 71-dark-mode-fixes
plan: 02
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/Settings/Settings.jsx
  - src/components/Timeline/TimelineView.jsx
  - src/components/ImportantDateModal.jsx
autonomous: true

must_haves:
  truths:
    - "User can read Settings Connections subtab buttons in dark mode"
    - "User can see activity type labels in timeline in dark mode"
    - "User can read related people names in date modal in dark mode"
  artifacts:
    - path: "src/pages/Settings/Settings.jsx"
      provides: "Improved subtab button contrast"
      contains: "dark:text-gray-300"
    - path: "src/components/Timeline/TimelineView.jsx"
      provides: "Dark mode support for activity type labels"
      contains: "dark:text-gray-300"
    - path: "src/components/ImportantDateModal.jsx"
      provides: "Improved people selector contrast"
      contains: "dark:text-accent-200"
  key_links:
    - from: "Settings.jsx"
      to: "Tailwind dark: variants"
      via: "CSS classes"
      pattern: "dark:text-gray-300"
---

<objective>
Fix dark mode contrast issues in Settings subtab buttons, Timeline activity type labels, and ImportantDateModal related people display.

Purpose: These elements have insufficient contrast in dark mode (gray-400 on dark background), making them difficult to read.

Output: All three components will have improved text contrast in dark mode.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/todos/pending/2026-01-16-settings-subtab-headings-dark-mode.md
@.planning/todos/pending/2026-01-16-activity-modal-improvements.md
@.planning/todos/pending/2026-01-16-add-date-modal-dark-mode-contrast.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Fix Settings Connections subtab button contrast</name>
  <files>src/pages/Settings/Settings.jsx</files>
  <action>
In the ConnectionsTab component (around line 1564-1567), update the inactive subtab button text color for better dark mode contrast.

Find the subtab button className:
```
text-gray-600 hover:bg-gray-100 dark:text-gray-400 dark:hover:bg-gray-800
```

Change `dark:text-gray-400` to `dark:text-gray-300` for better readability:
```
text-gray-600 hover:bg-gray-100 dark:text-gray-300 dark:hover:bg-gray-800
```

This improves contrast by using a lighter text color (gray-300 vs gray-400) on the dark background.
  </action>
  <verify>
1. Run `npm run build` - should complete without errors
2. Visual inspection: Settings > Connections subtab buttons should be more readable in dark mode
  </verify>
  <done>Settings Connections subtab buttons (Calendars, CardDAV, Slack) have readable contrast in dark mode</done>
</task>

<task type="auto">
  <name>Task 2: Fix Timeline activity type label contrast</name>
  <files>src/components/Timeline/TimelineView.jsx</files>
  <action>
Add dark mode variants to text elements in TimelineView.jsx that lack them:

1. Line 104 - Activity type label:
   Change: `className="text-xs font-medium text-gray-600"`
   To: `className="text-xs font-medium text-gray-600 dark:text-gray-300"`

2. Line 100-101 - Icon colors (activity vs note):
   Change: `text-blue-600` to `text-blue-600 dark:text-blue-400`
   Change: `text-gray-500` to `text-gray-500 dark:text-gray-400`

3. Line 108 - Bullet separator:
   Change: `text-gray-400` to `text-gray-400 dark:text-gray-500`

4. Line 109 - Date text:
   Change: `text-gray-500` to `text-gray-500 dark:text-gray-400`

5. Line 158 - "With:" label for participants:
   Change: `text-gray-500` to `text-gray-500 dark:text-gray-400`

6. Line 180 - Due date text:
   Change: `text-gray-500` to `text-gray-500 dark:text-gray-400`

7. Line 204 - Edit button hover:
   Change: `hover:bg-gray-100` to `hover:bg-gray-100 dark:hover:bg-gray-700`

8. Line 207 - Edit icon colors:
   Change: `text-gray-400 hover:text-gray-600` to `text-gray-400 hover:text-gray-600 dark:text-gray-500 dark:hover:text-gray-300`

9. Line 213 - Delete button hover:
   Change: `hover:bg-red-50` to `hover:bg-red-50 dark:hover:bg-red-900/30`

10. Line 216 - Delete icon colors:
    Change: `text-gray-400 hover:text-red-600` to `text-gray-400 hover:text-red-600 dark:text-gray-500 dark:hover:text-red-400`

11. Line 231 - Group heading:
    Change: `text-gray-700` to `text-gray-700 dark:text-gray-300`

12. Line 234 - Timeline border:
    Change: `border-gray-200` to `border-gray-200 dark:border-gray-700`

13. Line 250 - Empty state text:
    Change: `text-gray-500` to `text-gray-500 dark:text-gray-400`
  </action>
  <verify>
1. Run `npm run build` - should complete without errors
2. Visual inspection: Timeline activity entries should be fully readable in dark mode
  </verify>
  <done>Timeline activity type labels and all text elements display correctly in dark mode</done>
</task>

<task type="auto">
  <name>Task 3: Improve ImportantDateModal people selector contrast</name>
  <files>src/components/ImportantDateModal.jsx</files>
  <action>
In the PeopleSelector component within ImportantDateModal.jsx, improve the contrast of selected people badges in dark mode.

1. Line 43 - Selected people badge:
   Change: `text-accent-800 dark:text-accent-300`
   To: `text-accent-800 dark:text-accent-200`

This uses a slightly lighter text color (accent-200 vs accent-300) which provides better contrast against the accent-900/30 background in dark mode.
  </action>
  <verify>
1. Run `npm run build` - should complete without errors
2. Visual inspection: Related people names in add/edit date modal are easily readable in dark mode
  </verify>
  <done>ImportantDateModal related people names have good contrast in dark mode</done>
</task>

</tasks>

<verification>
1. `npm run lint` passes with no errors
2. `npm run build` completes successfully
3. Settings Connections subtab buttons readable in dark mode
4. Timeline activity type labels readable in dark mode
5. ImportantDateModal related people names readable in dark mode
</verification>

<success_criteria>
- Settings Connections subtab buttons use dark:text-gray-300
- TimelineView has dark mode variants for all text elements
- ImportantDateModal PeopleSelector uses dark:text-accent-200
- No console errors
- Visual contrast meets accessibility standards in dark mode
</success_criteria>

<output>
After completion, create `.planning/phases/71-dark-mode-fixes/71-02-SUMMARY.md`
</output>
