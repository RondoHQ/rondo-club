---
phase: 104-datums-taken
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - src/pages/Dates/DatesList.jsx
  - src/components/ImportantDateModal.jsx
  - src/hooks/useDocumentTitle.js
autonomous: true

must_haves:
  truths:
    - "Dates page shows 'Datum toevoegen' button"
    - "Dates page shows 'aankomende datums' count text"
    - "Empty state shows 'Geen belangrijke datums' message"
    - "Date modal shows 'Datum toevoegen' or 'Datum bewerken' title"
    - "Date form shows Dutch labels (Gerelateerde personen, Datumtype, Datum)"
    - "Date form shows 'Jaarlijks terugkerend' checkbox label"
    - "Browser tab shows 'Datums' instead of 'Events'"
    - "Date type labels display in Dutch (Verjaardag, Trouwdag, Herdenking)"
  artifacts:
    - path: "src/pages/Dates/DatesList.jsx"
      provides: "Dutch dates list page with date type translation"
      contains: "Datum toevoegen"
    - path: "src/components/ImportantDateModal.jsx"
      provides: "Dutch date form modal"
      contains: "Gerelateerde personen"
    - path: "src/hooks/useDocumentTitle.js"
      provides: "Dutch document titles for dates routes"
      contains: "Datums"
  key_links:
    - from: "src/pages/Dates/DatesList.jsx"
      to: "ImportantDateModal.jsx"
      via: "modal trigger"
      pattern: "ImportantDateModal"
---

<objective>
Translate all Important Dates pages and forms to Dutch.

Purpose: Complete Dutch localization of the Dates section, including list view, date modal, document titles, and date type labels.

Output: Fully translated DatesList.jsx, ImportantDateModal.jsx, and useDocumentTitle.js with Dutch labels, headers, buttons, and date type translations.
</objective>

<execution_context>
@/Users/joostdevalk/.claude/get-shit-done/workflows/execute-plan.md
@/Users/joostdevalk/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
@.planning/phases/104-datums-taken/104-CONTEXT.md
@.planning/phases/104-datums-taken/104-RESEARCH.md
@src/pages/Dates/DatesList.jsx
@src/components/ImportantDateModal.jsx
@src/hooks/useDocumentTitle.js
</context>

<tasks>

<task type="auto">
  <name>Task 1: Translate DatesList.jsx with date type mapping</name>
  <files>src/pages/Dates/DatesList.jsx</files>
  <action>
Translate all English strings to Dutch in DatesList.jsx following RESEARCH.md mappings:

**Add date type translation mapping at top of file (after imports):**
```jsx
// Date type translations (Dutch labels for date type slugs/names)
const DATE_TYPE_LABELS = {
  'birthday': 'Verjaardag',
  'wedding': 'Trouwdag',
  'marriage': 'Huwelijk',
  'memorial': 'Herdenking',
  'other': 'Overig',
  'first-met': 'Eerste ontmoeting',
  'new-relationship': 'Nieuwe relatie',
  'engagement': 'Verloving',
  'expecting-a-baby': 'Verwacht een baby',
  'new-child': 'Nieuw kind',
  'new-family-member': 'Nieuw familielid',
  'new-pet': 'Nieuw huisdier',
  'end-of-relationship': 'Einde relatie',
  'loss-of-a-loved-one': 'Verlies van een geliefde',
  'new-job': 'Nieuwe baan',
  'retirement': 'Pensioen',
  'new-school': 'Nieuwe school',
  'study-abroad': 'Studie in buitenland',
  'volunteer-work': 'Vrijwilligerswerk',
  'published-book-or-paper': 'Boek of paper gepubliceerd',
  'military-service': 'Militaire dienst',
  'moved': 'Verhuisd',
  'bought-a-home': 'Huis gekocht',
  'home-improvement': 'Verbouwing',
  'holidays': 'Vakantie',
  'new-vehicle': 'Nieuw voertuig',
  'new-roommate': 'Nieuwe huisgenoot',
  'overcame-an-illness': 'Ziekte overwonnen',
  'quit-a-habit': 'Gewoonte gestopt',
  'new-eating-habits': 'Nieuwe eetgewoontes',
  'weight-loss': 'Afgevallen',
  'surgery': 'Operatie',
  'new-sport': 'Nieuwe sport',
  'new-hobby': 'Nieuwe hobby',
  'new-instrument': 'Nieuw instrument',
  'new-language': 'Nieuwe taal',
  'travel': 'Reis',
  'achievement-or-award': 'Prestatie of prijs',
  'first-word': 'Eerste woord',
  'first-kiss': 'Eerste kus',
  'died': 'Overleden',
};

// Helper function to translate date type
const getDateTypeLabel = (dateType) => {
  if (!dateType) return '';
  const normalized = dateType.toLowerCase().replace(/\s+/g, '-');
  return DATE_TYPE_LABELS[normalized] || DATE_TYPE_LABELS[dateType.toLowerCase()] || dateType;
};
```

**Update PersonDateEntry component:**
- Change `{dateType}` display to use `{getDateTypeLabel(dateType)}`

**Page elements:**
- "{dates?.length || 0} upcoming dates" -> "{dates?.length || 0} aankomende datums"
- "Add date" button text -> "Datum toevoegen"

**Error state:**
- "Failed to load dates." -> "Datums konden niet worden geladen."

**Empty state:**
- "No important dates" -> "Geen belangrijke datums"
- "Add birthdays, anniversaries, and more." -> "Voeg verjaardagen, trouwdagen en meer toe."
  </action>
  <verify>
1. Run `npm run lint` - no errors
2. Search for remaining English: `grep -E "upcoming dates|Add date|Failed to load dates|No important dates|Add birthdays" src/pages/Dates/DatesList.jsx` - should return nothing
  </verify>
  <done>
DatesList.jsx contains Dutch page text, empty states, error messages, and date type translation mapping. All date type labels display in Dutch.
  </done>
</task>

<task type="auto">
  <name>Task 2: Translate ImportantDateModal.jsx to Dutch</name>
  <files>src/components/ImportantDateModal.jsx</files>
  <action>
Translate all English strings to Dutch in ImportantDateModal.jsx following RESEARCH.md and CONTEXT.md mappings:

**Modal headers:**
- "Edit date" -> "Datum bewerken"
- "Add date" -> "Datum toevoegen"

**Form labels:**
- "Related people" -> "Gerelateerde personen"
- "Date type *" -> "Datumtype *"
- "Select a type..." -> "Selecteer een type..."
- "Label" -> "Label" (keep as is - understood in Dutch)
- "Date *" -> "Datum *"

**Placeholders:**
- "e.g., Mom's Birthday" -> "bijv. Moeders verjaardag"
- "Search for people to add..." -> "Zoek leden om toe te voegen..."

**Helper text:**
- "Auto-generated from person and date type. You can customize it." -> "Automatisch gegenereerd op basis van persoon en type. Je kunt dit aanpassen."

**Checkboxes (per CONTEXT.md):**
- "Year unknown" -> "Jaar onbekend"
- "Repeats every year" -> "Jaarlijks terugkerend"

**Validation messages:**
- "Please select a date type" -> "Selecteer een datumtype"
- "Date is required" -> "Datum is verplicht"

**People selector:**
- "No people found" -> "Geen leden gevonden"

**Buttons:**
- "Cancel" -> "Annuleren"
- "Saving..." -> "Opslaan..."
- "Save changes" -> "Wijzigingen opslaan"
- "Add date" (submit button) -> "Datum toevoegen"

**Auto-generated title templates (in useEffect):**
Update the title generation to use Dutch:
- "Wedding of {name1} & {name2}" -> "Trouwdag van {name1} & {name2}"
- "{name}'s {type}" -> Keep the format but note: the type name comes from WordPress taxonomy (already handled by frontend display mapping in Task 1). The auto-title can remain in format "{name}'s {typeName}" since typeName comes from the API.

Note: The auto-generated title uses the taxonomy name from the API. Since we're translating the date types in WordPress taxonomy or handling display separately, the auto-title can use the translated type name if available from the dateTypes array.
  </action>
  <verify>
1. Run `npm run lint` - no errors
2. Search for remaining English: `grep -E "Edit date|Add date|Related people|Date type|Search for people|No people found|Cancel|Saving\.\.\." src/components/ImportantDateModal.jsx` - should only return translated versions
  </verify>
  <done>
ImportantDateModal.jsx contains Dutch modal headers, form labels, placeholders, validation messages, and buttons. Checkbox labels use CONTEXT.md terminology (Jaarlijks terugkerend).
  </done>
</task>

<task type="auto">
  <name>Task 3: Translate useDocumentTitle.js dates routes to Dutch</name>
  <files>src/hooks/useDocumentTitle.js</files>
  <action>
Translate the date-related document titles in useDocumentTitle.js:

**In useRouteTitle function, update the /dates routes section:**
- "Events" -> "Datums" (for /dates and /dates/)
- "New date" -> "Nieuwe datum" (for /dates/new)
- "Edit date" -> "Datum bewerken" (for /dates/*/edit)

**Also translate the already-present organization/team references to Dutch if any remain from prior phases (should already be done, but verify):**
- If "Organizations" still appears for /teams -> should be "Teams"
- If "New organization" still appears -> should be "Nieuw team"
- If "Organization" (singular) still appears -> should be "Team"

Note: Do NOT translate "Dashboard", "Login", "Settings", "People", "Person" - these are handled in other phases or may already be translated.
  </action>
  <verify>
1. Run `npm run lint` - no errors
2. Search for remaining English date terms: `grep -E "Events|New date|Edit date" src/hooks/useDocumentTitle.js` - should return nothing
  </verify>
  <done>
useDocumentTitle.js shows "Datums" for the dates route, "Nieuwe datum" for new date, and "Datum bewerken" for edit date. Browser tabs now display Dutch titles for dates pages.
  </done>
</task>

</tasks>

<verification>
1. Run `npm run lint` - passes
2. Run `npm run build` - passes
3. Navigate to /dates - page shows "aankomende datums" count and "Datum toevoegen" button
4. Empty dates state shows "Geen belangrijke datums"
5. Open add date modal - shows "Datum toevoegen" header and Dutch form labels
6. Browser tab shows "Datums" not "Events"
7. Date type labels display in Dutch (e.g., "Verjaardag" instead of "Birthday")
</verification>

<success_criteria>
- DatesList.jsx fully translated with Dutch text, date type mapping object, and getDateTypeLabel helper
- ImportantDateModal.jsx fully translated with Dutch headers, labels, placeholders, and buttons
- useDocumentTitle.js dates routes show Dutch titles
- Build and lint pass
</success_criteria>

<output>
After completion, create `.planning/phases/104-datums-taken/104-01-SUMMARY.md`
</output>
