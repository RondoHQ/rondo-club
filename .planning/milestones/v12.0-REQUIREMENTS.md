# Requirements Archive: v12.0 Membership Fees

**Archived:** 2026-02-01
**Status:** SHIPPED

This is the archived requirements specification for v12.0.
For current requirements, see `.planning/REQUIREMENTS.md` (created for next milestone).

---

# Requirements: Stadion v12.0 Membership Fees

**Defined:** 2026-01-31
**Core Value:** Calculate membership fees with family discounts and pro-rata for mid-season joins

## v12.0 Requirements

Requirements for membership fee calculation system. Each maps to roadmap phases.

### Navigation & Display

- [x] **NAV-01**: User sees "Contributie" section in sidebar below Leden, above VOG
- [x] **NAV-02**: List displays columns: Name, Age Group, Base Fee, Family Discount, Final Amount

### Fee Calculation

- [x] **FEE-01**: System calculates fees based on leeftijdsgroep (ignoring "Meiden" suffix)
- [x] **FEE-02**: Mini (JO6-JO7), Pupil (JO8-JO11), Junior (JO12-JO19), Senior (JO23/Senioren) use configured base fees
- [x] **FEE-03**: Recreant/Walking Football uses configured flat fee
- [x] **FEE-04**: Donateur uses configured flat fee
- [x] **FEE-05**: Non-playing members (no leeftijdsgroep) excluded from age-based calculation

### Family Discount

- [x] **FAM-01**: System groups youth members by normalized address
- [x] **FAM-02**: 2nd youth member at same address gets 25% discount
- [x] **FAM-03**: 3rd+ youth members at same address get 50% discount
- [x] **FAM-04**: Discount applied to youngest/cheapest member first
- [x] **FAM-05**: Family discount only applies to youth (<18), not recreants/donateurs

### Pro-rata Calculation

- [x] **PRO-01**: System uses Sportlink join date field for pro-rata calculation
- [x] **PRO-02**: July-Sept = 100%, Oct-Dec = 75%, Jan-Mar = 50%, Apr-Jun = 25%
- [x] **PRO-03**: Pro-rata applies to all fee types
- [x] **PRO-04**: Pro-rata uses `lid-sinds` field (not `registratiedatum`)

### Settings

- [x] **SET-01**: Admin can configure Mini fee amount
- [x] **SET-02**: Admin can configure Pupil fee amount
- [x] **SET-03**: Admin can configure Junior fee amount
- [x] **SET-04**: Admin can configure Senior fee amount
- [x] **SET-05**: Admin can configure Recreant fee amount
- [x] **SET-06**: Admin can configure Donateur fee amount

### Caching

- [x] **CACHE-01**: Calculated fees stored in person meta for fast list loading
- [x] **CACHE-02**: Fees recalculated when relevant fields change (age group, address, team, lid-sinds, settings)

### Export

- [x] **EXP-01**: Export fee data to Google Sheets

## Future Requirements

None identified for this milestone.

## Out of Scope

| Feature | Reason |
|---------|--------|
| Payment tracking (paid/unpaid) | Calculate only for v12.0, payment tracking deferred to future |
| Invoice generation | External system handles invoicing |
| Payment reminders | Deferred to future milestone |
| Multiple seasons | Focus on current season calculation |

## Traceability

Which phases cover which requirements. Updated during roadmap creation.

| Requirement | Phase | Status |
|-------------|-------|--------|
| NAV-01 | Phase 126 | Complete |
| NAV-02 | Phase 126 | Complete |
| FEE-01 | Phase 124 | Complete |
| FEE-02 | Phase 124 | Complete |
| FEE-03 | Phase 124 | Complete |
| FEE-04 | Phase 124 | Complete |
| FEE-05 | Phase 124 | Complete |
| FAM-01 | Phase 125 | Complete |
| FAM-02 | Phase 125 | Complete |
| FAM-03 | Phase 125 | Complete |
| FAM-04 | Phase 125 | Complete |
| FAM-05 | Phase 125 | Complete |
| PRO-01 | Phase 126 | Complete |
| PRO-02 | Phase 126 | Complete |
| PRO-03 | Phase 126 | Complete |
| PRO-04 | Phase 127 | Complete |
| SET-01 | Phase 123 | Complete |
| SET-02 | Phase 123 | Complete |
| SET-03 | Phase 123 | Complete |
| SET-04 | Phase 123 | Complete |
| SET-05 | Phase 123 | Complete |
| SET-06 | Phase 123 | Complete |
| CACHE-01 | Phase 127 | Complete |
| CACHE-02 | Phase 127 | Complete |
| EXP-01 | Phase 128 | Complete |

**Coverage:**
- v12.0 requirements: 25 total
- Mapped to phases: 25
- Unmapped: 0

---

## Milestone Summary

**Shipped:** 25 of 25 v12.0 requirements
**Adjusted:** None
**Dropped:** None

---
*Archived: 2026-02-01 as part of v12.0 milestone completion*
