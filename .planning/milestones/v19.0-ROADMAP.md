# Milestone v19.0: Birthdate Simplification

**Status:** SHIPPED 2026-02-06
**Phases:** 147-150
**Total Plans:** 5

## Overview

Simplified birthdate handling by moving from the Important Dates CPT to a simple person field, then removing the now-unnecessary Important Dates infrastructure. This reduces complexity and aligns with the Sportlink data model where birthdates are person attributes.

## Phases

### Phase 147: Birthdate Field & Widget

**Goal**: Users can see birthdates on person profiles and dashboard shows upcoming birthdays
**Depends on**: Nothing (first phase of milestone)
**Requirements**: BDAY-01, BDAY-02, DASH-01, DASH-02
**Plans:** 1 plan

Plans:
- [x] 147-01-PLAN.md — Add birthdate ACF field, update person header, update dashboard widget

**Details:**
- Added birthdate ACF field to person records (readonly, Sportlink-synced)
- Person header displays "43 jaar (6 feb 1982)" format
- Dashboard birthday widget queries person meta directly
- Dutch month abbreviations in lowercase

### Phase 148: Infrastructure Removal

**Goal**: Important Dates subsystem completely removed from codebase
**Depends on**: Phase 147
**Requirements**: DATA-01, REMV-01, REMV-02, REMV-03, REMV-04, REMV-05, REMV-06, REMV-07, REMV-08
**Plans:** 2 plans

Plans:
- [x] 148-01-PLAN.md — Delete production data, remove backend PHP code and tests
- [x] 148-02-PLAN.md — Remove frontend components, update documentation, deploy

**Details:**
- Deleted 1,069 important_date posts and 40 date_type terms from production
- Removed CPT registration, taxonomy, all related hooks
- Updated 16 PHP classes to remove important_date references
- Rewrote reminders and iCal systems for birthdate-only operation
- Removed DatesList page, ImportantDateModal, useDates hook
- Removed "Datums" navigation item

### Phase 149: Fix vCard Birthday Export (INSERTED)

**Goal**: vCard exports include BDAY field from person.birthdate
**Depends on**: Phase 148
**Gap Closure**: Closes integration gap from v19.0 audit (vCard reads from deleted personDates)
**Plans:** 1 plan

Plans:
- [x] 149-01-PLAN.md — Update vCard export to read from person.acf.birthdate

**Details:**
- Updated generateVCard to read birthdate from acf.birthdate field
- Aligned JavaScript export with PHP backend pattern
- Fixed integration gap discovered during milestone audit

### Phase 150: Update Documentation (INSERTED)

**Goal**: Documentation reflects new birthdate model without "important dates" references
**Depends on**: Phase 148
**Gap Closure**: Closes tech debt from v19.0 audit (5 docs with stale references)
**Plans:** 1 plan

Plans:
- [x] 150-01-PLAN.md — Fix stale "important dates" references in 5 docs

**Details:**
- Updated carddav.md, api-leden-crud.md, ical-feed.md
- Removed /dates routes from frontend-architecture.md
- Updated multi-user.md for birthday-only reminders
- Version bumped to 19.0.1

---

## Milestone Summary

**Decimal Phases:**
- Phase 149: vCard Birthday Export (inserted after Phase 148 for gap closure)
- Phase 150: Update Documentation (inserted after Phase 148 for gap closure)

**Key Decisions:**
- Store birthdate directly on person records (not as Important Date CPT)
- Display format: "43 jaar (6 feb 1982)" includes full birth year for clarity
- Delete production data before code removal (while CPT still registered)
- Keep deprecated WP-CLI commands as error stubs for safety
- is_deceased computed field always returns false (death date feature removed)
- Version 19.0.0 major release (removing Important Dates is breaking change)

**Issues Resolved:**
- Simplified data model from 3 CPTs to 2
- Eliminated complex Important Dates → Person relationship queries
- Fixed vCard export reading from deleted personDates array
- Cleaned 5 documentation files with stale references

**Issues Deferred:**
- 2 stale comments in code (cosmetic only, code is correct)

**Technical Debt Incurred:**
- Dashboard.jsx comment says "important dates" but code queries birthdays
- class-ical-feed.php comment says "important dates" but code queries birthdate meta

---

_For current project status, see .planning/ROADMAP.md_
