# Milestone v4.9: Dashboard & Calendar Polish

**Status:** SHIPPED 2026-01-17
**Phases:** 77-78
**Total Plans:** 4 (including FIX plans)

## Overview

This milestone delivers two polish features: fixed-height dashboard widgets for layout stability, and multi-calendar selection for Google Calendar connections. Both are independent UI/UX enhancements building on existing v4.0+ calendar and dashboard infrastructure.

## Phases

### Phase 77: Fixed Height Dashboard Widgets

**Goal**: All dashboard widgets have consistent fixed heights with internal scrolling when content overflows
**Depends on**: Nothing (first phase of milestone)
**Requirements**: DASH-01, DASH-02, DASH-03, DASH-04, DASH-05, DASH-06, DASH-07, DASH-08
**Plans**: 2 plans (77-01, 77-FIX)

Plans:
- [x] 77-01: Fixed Height Dashboard Widgets — Added max-h-[280px] overflow-y-auto to content widgets, skeleton loading
- [x] 77-FIX: Layout Jump Fix — Added placeholderData pattern to useDateMeetings for stable layout during navigation

**Details:**
- All 7 content widgets have fixed 280px height with internal scrolling
- Loading state shows skeleton cards matching final layout dimensions
- Layout remains stable during data loading and refresh
- Events widget no longer jumps during date navigation

### Phase 78: Multi-Calendar Selection

**Goal**: Users can select multiple calendars per Google Calendar connection
**Depends on**: Nothing (independent of Phase 77)
**Requirements**: CAL-01, CAL-02, CAL-03, CAL-04, CAL-05
**Plans**: 2 plans (78-01, 78-FIX)

Plans:
- [x] 78-01: Multi-Calendar Selection — Backend get_calendar_ids() helper, checkbox UI, array storage
- [x] 78-FIX: Modal Layout Fix — Two-column layout for EditConnectionModal

**Details:**
- Backend `get_calendar_ids()` helper normalizes old/new calendar format
- Checkbox UI replaces dropdown for multiple calendar selection
- Sync loops through all selected calendars
- Connection card shows "N calendars selected"
- EditConnectionModal uses responsive two-column layout (calendar list left, sync settings right)

---

## Milestone Summary

**Key Decisions:**
- 280px content height chosen to show ~5 items comfortably
- 6 skeleton widgets shown during loading to match typical dashboard
- placeholderData pattern for layout stability (TanStack Query v5)
- get_calendar_ids() static helper for centralized backward compatibility
- Two-column modal layout with md:grid-cols-2 responsive breakpoint
- Wider modal (max-w-2xl) to accommodate two columns

**Issues Resolved:**
- Dashboard widgets expanding/contracting with content (fixed heights)
- Layout jump during date navigation (placeholderData)
- Modal too tall for screen (two-column layout)
- Multi-calendar selection not supported (checkbox UI + backend loop)

**Issues Deferred:**
- Multi-calendar selection for CalDAV providers (CAL-V2-01)

**Technical Debt Incurred:**
None

---

*For current project status, see .planning/ROADMAP.md*
