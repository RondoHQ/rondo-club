var EI=t=>{throw TypeError(t)};var im=(t,e,r)=>e.has(t)||EI("Cannot "+r);var N=(t,e,r)=>(im(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?EI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ne=(t,e,r,n)=>(im(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(im(t,e,"access private method"),r);var nh=(t,e,r,n)=>({set _(i){ne(t,e,i,r)},get _(){return N(t,e,n)}});function lY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function uY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var NH={exports:{}},Yf={},$H={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var ud=Symbol.for("react.element"),cY=Symbol.for("react.portal"),dY=Symbol.for("react.fragment"),hY=Symbol.for("react.strict_mode"),fY=Symbol.for("react.profiler"),pY=Symbol.for("react.provider"),mY=Symbol.for("react.context"),vY=Symbol.for("react.forward_ref"),yY=Symbol.for("react.suspense"),gY=Symbol.for("react.memo"),bY=Symbol.for("react.lazy"),OI=Symbol.iterator;function wY(t){return t===null||typeof t!="object"?null:(t=OI&&t[OI]||t["@@iterator"],typeof t=="function"?t:null)}var jH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},kH=Object.assign,DH={};function Ql(t,e,r){this.props=t,this.context=e,this.refs=DH,this.updater=r||jH}Ql.prototype.isReactComponent={};Ql.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Ql.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function qH(){}qH.prototype=Ql.prototype;function nT(t,e,r){this.props=t,this.context=e,this.refs=DH,this.updater=r||jH}var iT=nT.prototype=new qH;iT.constructor=nT;kH(iT,Ql.prototype);iT.isPureReactComponent=!0;var PI=Array.isArray,MH=Object.prototype.hasOwnProperty,sT={current:null},AH={key:!0,ref:!0,__self:!0,__source:!0};function FH(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)MH.call(e,n)&&!AH.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:ud,type:t,key:s,ref:o,props:i,_owner:sT.current}}function _Y(t,e){return{$$typeof:ud,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function oT(t){return typeof t=="object"&&t!==null&&t.$$typeof===ud}function xY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var TI=/\/+/g;function sm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?xY(""+t.key):e.toString(36)}function kh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case ud:case cY:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+sm(o,0):n,PI(i)?(r="",t!=null&&(r=t.replace(TI,"$&/")+"/"),kh(i,e,r,"",function(u){return u})):i!=null&&(oT(i)&&(i=_Y(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(TI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",PI(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+sm(s,a);o+=kh(s,e,r,l,i)}else if(l=wY(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+sm(s,a++),o+=kh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ih(t,e,r){if(t==null)return t;var n=[],i=0;return kh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function SY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var jr={current:null},Dh={transition:null},EY={ReactCurrentDispatcher:jr,ReactCurrentBatchConfig:Dh,ReactCurrentOwner:sT};function LH(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:ih,forEach:function(t,e,r){ih(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return ih(t,function(){e++}),e},toArray:function(t){return ih(t,function(e){return e})||[]},only:function(t){if(!oT(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=Ql;je.Fragment=dY;je.Profiler=fY;je.PureComponent=nT;je.StrictMode=hY;je.Suspense=yY;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=EY;je.act=LH;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=kH({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=sT.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)MH.call(e,l)&&!AH.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:ud,type:t.type,key:i,ref:s,props:n,_owner:o}};je.createContext=function(t){return t={$$typeof:mY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:pY,_context:t},t.Consumer=t};je.createElement=FH;je.createFactory=function(t){var e=FH.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:vY,render:t}};je.isValidElement=oT;je.lazy=function(t){return{$$typeof:bY,_payload:{_status:-1,_result:t},_init:SY}};je.memo=function(t,e){return{$$typeof:gY,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Dh.transition;Dh.transition={};try{t()}finally{Dh.transition=e}};je.unstable_act=LH;je.useCallback=function(t,e){return jr.current.useCallback(t,e)};je.useContext=function(t){return jr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return jr.current.useDeferredValue(t)};je.useEffect=function(t,e){return jr.current.useEffect(t,e)};je.useId=function(){return jr.current.useId()};je.useImperativeHandle=function(t,e,r){return jr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return jr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return jr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return jr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return jr.current.useReducer(t,e,r)};je.useRef=function(t){return jr.current.useRef(t)};je.useState=function(t){return jr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return jr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return jr.current.useTransition()};je.version="18.3.1";$H.exports=je;var k=$H.exports;const Te=uY(k),OY=lY({__proto__:null,default:Te},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var PY=k,TY=Symbol.for("react.element"),CY=Symbol.for("react.fragment"),IY=Object.prototype.hasOwnProperty,RY=PY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,NY={key:!0,ref:!0,__self:!0,__source:!0};function BH(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)IY.call(e,n)&&!NY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:TY,type:t,key:s,ref:o,props:i,_owner:RY.current}}Yf.Fragment=CY;Yf.jsx=BH;Yf.jsxs=BH;NH.exports=Yf;var h=NH.exports,dO={},zH={exports:{}},dn={},UH={exports:{}},WH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var U=L.length;L.push(V);e:for(;0<U;){var z=U-1>>>1,Z=L[z];if(0<i(Z,V))L[z]=V,L[U]=Z,U=z;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],U=L.pop();if(U!==V){L[0]=U;e:for(var z=0,Z=L.length,he=Z>>>1;z<he;){var ve=2*(z+1)-1,ke=L[ve],be=ve+1,xe=L[be];if(0>i(ke,U))be<Z&&0>i(xe,ke)?(L[z]=xe,L[be]=U,z=be):(L[z]=ke,L[ve]=U,z=ve);else if(be<Z&&0>i(xe,U))L[z]=xe,L[be]=U,z=be;else break e}}return V}function i(L,V){var U=L.sortIndex-V.sortIndex;return U!==0?U:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,d=null,f=3,p=!1,m=!1,g=!1,w=typeof setTimeout=="function"?setTimeout:null,y=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function _(L){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=L)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function b(L){if(g=!1,_(L),!m)if(r(l)!==null)m=!0,J(x);else{var V=r(u);V!==null&&Q(b,V.startTime-L)}}function x(L,V){m=!1,g&&(g=!1,y(S),S=-1),p=!0;var U=f;try{for(_(V),d=r(l);d!==null&&(!(d.expirationTime>V)||L&&!I());){var z=d.callback;if(typeof z=="function"){d.callback=null,f=d.priorityLevel;var Z=z(d.expirationTime<=V);V=t.unstable_now(),typeof Z=="function"?d.callback=Z:d===r(l)&&n(l),_(V)}else n(l);d=r(l)}if(d!==null)var he=!0;else{var ve=r(u);ve!==null&&Q(b,ve.startTime-V),he=!1}return he}finally{d=null,f=U,p=!1}}var E=!1,T=null,S=-1,O=5,P=-1;function I(){return!(t.unstable_now()-P<O)}function C(){if(T!==null){var L=t.unstable_now();P=L;var V=!0;try{V=T(!0,L)}finally{V?R():(E=!1,T=null)}}else E=!1}var R;if(typeof v=="function")R=function(){v(C)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=C,R=function(){B.postMessage(null)}}else R=function(){w(C,0)};function J(L){T=L,E||(E=!0,R())}function Q(L,V){S=w(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,J(x))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var U=f;f=V;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return V()}finally{f=U}},t.unstable_scheduleCallback=function(L,V,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,L){case 1:var Z=-1;break;case 2:Z=250;break;case 5:Z=1073741823;break;case 4:Z=1e4;break;default:Z=5e3}return Z=U+Z,L={id:c++,callback:V,priorityLevel:L,startTime:U,expirationTime:Z,sortIndex:-1},U>z?(L.sortIndex=U,e(u,L),r(l)===null&&L===r(u)&&(g?(y(S),S=-1):g=!0,Q(b,U-z))):(L.sortIndex=Z,e(l,L),m||p||(m=!0,J(x))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var V=f;return function(){var U=f;f=V;try{return L.apply(this,arguments)}finally{f=U}}}})(WH);UH.exports=WH;var $Y=UH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var jY=k,cn=$Y;function G(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var HH=new Set,bc={};function da(t,e){Nl(t,e),Nl(t+"Capture",e)}function Nl(t,e){for(bc[t]=e,t=0;t<e.length;t++)HH.add(e[t])}var Hi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),hO=Object.prototype.hasOwnProperty,kY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,CI={},II={};function DY(t){return hO.call(II,t)?!0:hO.call(CI,t)?!1:kY.test(t)?II[t]=!0:(CI[t]=!0,!1)}function qY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function MY(t,e,r,n){if(e===null||typeof e>"u"||qY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function kr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ar={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ar[t]=new kr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ar[e]=new kr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ar[t]=new kr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ar[t]=new kr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ar[t]=new kr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ar[t]=new kr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ar[t]=new kr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ar[t]=new kr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ar[t]=new kr(t,5,!1,t.toLowerCase(),null,!1,!1)});var aT=/[\-:]([a-z])/g;function lT(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(aT,lT);ar[e]=new kr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(aT,lT);ar[e]=new kr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(aT,lT);ar[e]=new kr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ar[t]=new kr(t,1,!1,t.toLowerCase(),null,!1,!1)});ar.xlinkHref=new kr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ar[t]=new kr(t,1,!1,t.toLowerCase(),null,!0,!0)});function uT(t,e,r,n){var i=ar.hasOwnProperty(e)?ar[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(MY(e,r,i,n)&&(r=null),n||i===null?DY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Yi=jY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,sh=Symbol.for("react.element"),Ba=Symbol.for("react.portal"),za=Symbol.for("react.fragment"),cT=Symbol.for("react.strict_mode"),fO=Symbol.for("react.profiler"),VH=Symbol.for("react.provider"),KH=Symbol.for("react.context"),dT=Symbol.for("react.forward_ref"),pO=Symbol.for("react.suspense"),mO=Symbol.for("react.suspense_list"),hT=Symbol.for("react.memo"),cs=Symbol.for("react.lazy"),GH=Symbol.for("react.offscreen"),RI=Symbol.iterator;function $u(t){return t===null||typeof t!="object"?null:(t=RI&&t[RI]||t["@@iterator"],typeof t=="function"?t:null)}var ft=Object.assign,om;function Gu(t){if(om===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);om=e&&e[1]||""}return`
`+om+t}var am=!1;function lm(t,e){if(!t||am)return"";am=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{am=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Gu(t):""}function AY(t){switch(t.tag){case 5:return Gu(t.type);case 16:return Gu("Lazy");case 13:return Gu("Suspense");case 19:return Gu("SuspenseList");case 0:case 2:case 15:return t=lm(t.type,!1),t;case 11:return t=lm(t.type.render,!1),t;case 1:return t=lm(t.type,!0),t;default:return""}}function vO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case za:return"Fragment";case Ba:return"Portal";case fO:return"Profiler";case cT:return"StrictMode";case pO:return"Suspense";case mO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case KH:return(t.displayName||"Context")+".Consumer";case VH:return(t._context.displayName||"Context")+".Provider";case dT:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case hT:return e=t.displayName||null,e!==null?e:vO(t.type)||"Memo";case cs:e=t._payload,t=t._init;try{return vO(t(e))}catch{}}return null}function FY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return vO(e);case 8:return e===cT?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Gs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function YH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function LY(t){var e=YH(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function oh(t){t._valueTracker||(t._valueTracker=LY(t))}function QH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=YH(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function tf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function yO(t,e){var r=e.checked;return ft({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function NI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Gs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function XH(t,e){e=e.checked,e!=null&&uT(t,"checked",e,!1)}function gO(t,e){XH(t,e);var r=Gs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?bO(t,e.type,r):e.hasOwnProperty("defaultValue")&&bO(t,e.type,Gs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function $I(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function bO(t,e,r){(e!=="number"||tf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Yu=Array.isArray;function sl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Gs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function wO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(G(91));return ft({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function jI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(G(92));if(Yu(r)){if(1<r.length)throw Error(G(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Gs(r)}}function JH(t,e){var r=Gs(e.value),n=Gs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function kI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function ZH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function _O(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?ZH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ah,eV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ah=ah||document.createElement("div"),ah.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ah.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function wc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var tc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},BY=["Webkit","ms","Moz","O"];Object.keys(tc).forEach(function(t){BY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),tc[e]=tc[t]})});function tV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||tc.hasOwnProperty(t)&&tc[t]?(""+e).trim():e+"px"}function rV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=tV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var zY=ft({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function xO(t,e){if(e){if(zY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(G(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(G(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(G(61))}if(e.style!=null&&typeof e.style!="object")throw Error(G(62))}}function SO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var EO=null;function fT(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var OO=null,ol=null,al=null;function DI(t){if(t=hd(t)){if(typeof OO!="function")throw Error(G(280));var e=t.stateNode;e&&(e=ep(e),OO(t.stateNode,t.type,e))}}function nV(t){ol?al?al.push(t):al=[t]:ol=t}function iV(){if(ol){var t=ol,e=al;if(al=ol=null,DI(t),e)for(t=0;t<e.length;t++)DI(e[t])}}function sV(t,e){return t(e)}function oV(){}var um=!1;function aV(t,e,r){if(um)return t(e,r);um=!0;try{return sV(t,e,r)}finally{um=!1,(ol!==null||al!==null)&&(oV(),iV())}}function _c(t,e){var r=t.stateNode;if(r===null)return null;var n=ep(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(G(231,e,typeof r));return r}var PO=!1;if(Hi)try{var ju={};Object.defineProperty(ju,"passive",{get:function(){PO=!0}}),window.addEventListener("test",ju,ju),window.removeEventListener("test",ju,ju)}catch{PO=!1}function UY(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var rc=!1,rf=null,nf=!1,TO=null,WY={onError:function(t){rc=!0,rf=t}};function HY(t,e,r,n,i,s,o,a,l){rc=!1,rf=null,UY.apply(WY,arguments)}function VY(t,e,r,n,i,s,o,a,l){if(HY.apply(this,arguments),rc){if(rc){var u=rf;rc=!1,rf=null}else throw Error(G(198));nf||(nf=!0,TO=u)}}function ha(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function lV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function qI(t){if(ha(t)!==t)throw Error(G(188))}function KY(t){var e=t.alternate;if(!e){if(e=ha(t),e===null)throw Error(G(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return qI(i),t;if(s===n)return qI(i),e;s=s.sibling}throw Error(G(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(G(189))}}if(r.alternate!==n)throw Error(G(190))}if(r.tag!==3)throw Error(G(188));return r.stateNode.current===r?t:e}function uV(t){return t=KY(t),t!==null?cV(t):null}function cV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=cV(t);if(e!==null)return e;t=t.sibling}return null}var dV=cn.unstable_scheduleCallback,MI=cn.unstable_cancelCallback,GY=cn.unstable_shouldYield,YY=cn.unstable_requestPaint,Et=cn.unstable_now,QY=cn.unstable_getCurrentPriorityLevel,pT=cn.unstable_ImmediatePriority,hV=cn.unstable_UserBlockingPriority,sf=cn.unstable_NormalPriority,XY=cn.unstable_LowPriority,fV=cn.unstable_IdlePriority,Qf=null,mi=null;function JY(t){if(mi&&typeof mi.onCommitFiberRoot=="function")try{mi.onCommitFiberRoot(Qf,t,void 0,(t.current.flags&128)===128)}catch{}}var Kn=Math.clz32?Math.clz32:tQ,ZY=Math.log,eQ=Math.LN2;function tQ(t){return t>>>=0,t===0?32:31-(ZY(t)/eQ|0)|0}var lh=64,uh=4194304;function Qu(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function of(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=Qu(a):(s&=o,s!==0&&(n=Qu(s)))}else o=r&~i,o!==0?n=Qu(o):s!==0&&(n=Qu(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Kn(e),i=1<<r,n|=t[r],e&=~i;return n}function rQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function nQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Kn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=rQ(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function CO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function pV(){var t=lh;return lh<<=1,!(lh&4194240)&&(lh=64),t}function cm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function cd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Kn(e),t[e]=r}function iQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Kn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function mT(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Kn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var He=0;function mV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var vV,vT,yV,gV,bV,IO=!1,ch=[],$s=null,js=null,ks=null,xc=new Map,Sc=new Map,ms=[],sQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function AI(t,e){switch(t){case"focusin":case"focusout":$s=null;break;case"dragenter":case"dragleave":js=null;break;case"mouseover":case"mouseout":ks=null;break;case"pointerover":case"pointerout":xc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Sc.delete(e.pointerId)}}function ku(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=hd(e),e!==null&&vT(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oQ(t,e,r,n,i){switch(e){case"focusin":return $s=ku($s,t,e,r,n,i),!0;case"dragenter":return js=ku(js,t,e,r,n,i),!0;case"mouseover":return ks=ku(ks,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return xc.set(s,ku(xc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Sc.set(s,ku(Sc.get(s)||null,t,e,r,n,i)),!0}return!1}function wV(t){var e=go(t.target);if(e!==null){var r=ha(e);if(r!==null){if(e=r.tag,e===13){if(e=lV(r),e!==null){t.blockedOn=e,bV(t.priority,function(){yV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function qh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=RO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);EO=n,r.target.dispatchEvent(n),EO=null}else return e=hd(r),e!==null&&vT(e),t.blockedOn=r,!1;e.shift()}return!0}function FI(t,e,r){qh(t)&&r.delete(e)}function aQ(){IO=!1,$s!==null&&qh($s)&&($s=null),js!==null&&qh(js)&&(js=null),ks!==null&&qh(ks)&&(ks=null),xc.forEach(FI),Sc.forEach(FI)}function Du(t,e){t.blockedOn===e&&(t.blockedOn=null,IO||(IO=!0,cn.unstable_scheduleCallback(cn.unstable_NormalPriority,aQ)))}function Ec(t){function e(i){return Du(i,t)}if(0<ch.length){Du(ch[0],t);for(var r=1;r<ch.length;r++){var n=ch[r];n.blockedOn===t&&(n.blockedOn=null)}}for($s!==null&&Du($s,t),js!==null&&Du(js,t),ks!==null&&Du(ks,t),xc.forEach(e),Sc.forEach(e),r=0;r<ms.length;r++)n=ms[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ms.length&&(r=ms[0],r.blockedOn===null);)wV(r),r.blockedOn===null&&ms.shift()}var ll=Yi.ReactCurrentBatchConfig,af=!0;function lQ(t,e,r,n){var i=He,s=ll.transition;ll.transition=null;try{He=1,yT(t,e,r,n)}finally{He=i,ll.transition=s}}function uQ(t,e,r,n){var i=He,s=ll.transition;ll.transition=null;try{He=4,yT(t,e,r,n)}finally{He=i,ll.transition=s}}function yT(t,e,r,n){if(af){var i=RO(t,e,r,n);if(i===null)wm(t,e,n,lf,r),AI(t,n);else if(oQ(i,t,e,r,n))n.stopPropagation();else if(AI(t,n),e&4&&-1<sQ.indexOf(t)){for(;i!==null;){var s=hd(i);if(s!==null&&vV(s),s=RO(t,e,r,n),s===null&&wm(t,e,n,lf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else wm(t,e,n,null,r)}}var lf=null;function RO(t,e,r,n){if(lf=null,t=fT(n),t=go(t),t!==null)if(e=ha(t),e===null)t=null;else if(r=e.tag,r===13){if(t=lV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return lf=t,null}function _V(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(QY()){case pT:return 1;case hV:return 4;case sf:case XY:return 16;case fV:return 536870912;default:return 16}default:return 16}}var Cs=null,gT=null,Mh=null;function xV(){if(Mh)return Mh;var t,e=gT,r=e.length,n,i="value"in Cs?Cs.value:Cs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Mh=i.slice(t,1<n?1-n:void 0)}function Ah(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function dh(){return!0}function LI(){return!1}function hn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?dh:LI,this.isPropagationStopped=LI,this}return ft(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=dh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=dh)},persist:function(){},isPersistent:dh}),e}var Xl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},bT=hn(Xl),dd=ft({},Xl,{view:0,detail:0}),cQ=hn(dd),dm,hm,qu,Xf=ft({},dd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:wT,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==qu&&(qu&&t.type==="mousemove"?(dm=t.screenX-qu.screenX,hm=t.screenY-qu.screenY):hm=dm=0,qu=t),dm)},movementY:function(t){return"movementY"in t?t.movementY:hm}}),BI=hn(Xf),dQ=ft({},Xf,{dataTransfer:0}),hQ=hn(dQ),fQ=ft({},dd,{relatedTarget:0}),fm=hn(fQ),pQ=ft({},Xl,{animationName:0,elapsedTime:0,pseudoElement:0}),mQ=hn(pQ),vQ=ft({},Xl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yQ=hn(vQ),gQ=ft({},Xl,{data:0}),zI=hn(gQ),bQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_Q={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function xQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_Q[t])?!!e[t]:!1}function wT(){return xQ}var SQ=ft({},dd,{key:function(t){if(t.key){var e=bQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Ah(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:wT,charCode:function(t){return t.type==="keypress"?Ah(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Ah(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),EQ=hn(SQ),OQ=ft({},Xf,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),UI=hn(OQ),PQ=ft({},dd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:wT}),TQ=hn(PQ),CQ=ft({},Xl,{propertyName:0,elapsedTime:0,pseudoElement:0}),IQ=hn(CQ),RQ=ft({},Xf,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),NQ=hn(RQ),$Q=[9,13,27,32],_T=Hi&&"CompositionEvent"in window,nc=null;Hi&&"documentMode"in document&&(nc=document.documentMode);var jQ=Hi&&"TextEvent"in window&&!nc,SV=Hi&&(!_T||nc&&8<nc&&11>=nc),WI=" ",HI=!1;function EV(t,e){switch(t){case"keyup":return $Q.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function OV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ua=!1;function kQ(t,e){switch(t){case"compositionend":return OV(e);case"keypress":return e.which!==32?null:(HI=!0,WI);case"textInput":return t=e.data,t===WI&&HI?null:t;default:return null}}function DQ(t,e){if(Ua)return t==="compositionend"||!_T&&EV(t,e)?(t=xV(),Mh=gT=Cs=null,Ua=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return SV&&e.locale!=="ko"?null:e.data;default:return null}}var qQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function VI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qQ[t.type]:e==="textarea"}function PV(t,e,r,n){nV(n),e=uf(e,"onChange"),0<e.length&&(r=new bT("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var ic=null,Oc=null;function MQ(t){MV(t,0)}function Jf(t){var e=Va(t);if(QH(e))return t}function AQ(t,e){if(t==="change")return e}var TV=!1;if(Hi){var pm;if(Hi){var mm="oninput"in document;if(!mm){var KI=document.createElement("div");KI.setAttribute("oninput","return;"),mm=typeof KI.oninput=="function"}pm=mm}else pm=!1;TV=pm&&(!document.documentMode||9<document.documentMode)}function GI(){ic&&(ic.detachEvent("onpropertychange",CV),Oc=ic=null)}function CV(t){if(t.propertyName==="value"&&Jf(Oc)){var e=[];PV(e,Oc,t,fT(t)),aV(MQ,e)}}function FQ(t,e,r){t==="focusin"?(GI(),ic=e,Oc=r,ic.attachEvent("onpropertychange",CV)):t==="focusout"&&GI()}function LQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Jf(Oc)}function BQ(t,e){if(t==="click")return Jf(e)}function zQ(t,e){if(t==="input"||t==="change")return Jf(e)}function UQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Yn=typeof Object.is=="function"?Object.is:UQ;function Pc(t,e){if(Yn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!hO.call(e,i)||!Yn(t[i],e[i]))return!1}return!0}function YI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function QI(t,e){var r=YI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=YI(r)}}function IV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?IV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function RV(){for(var t=window,e=tf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=tf(t.document)}return e}function xT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function WQ(t){var e=RV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&IV(r.ownerDocument.documentElement,r)){if(n!==null&&xT(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=QI(r,s);var o=QI(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HQ=Hi&&"documentMode"in document&&11>=document.documentMode,Wa=null,NO=null,sc=null,$O=!1;function XI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;$O||Wa==null||Wa!==tf(n)||(n=Wa,"selectionStart"in n&&xT(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),sc&&Pc(sc,n)||(sc=n,n=uf(NO,"onSelect"),0<n.length&&(e=new bT("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Wa)))}function hh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ha={animationend:hh("Animation","AnimationEnd"),animationiteration:hh("Animation","AnimationIteration"),animationstart:hh("Animation","AnimationStart"),transitionend:hh("Transition","TransitionEnd")},vm={},NV={};Hi&&(NV=document.createElement("div").style,"AnimationEvent"in window||(delete Ha.animationend.animation,delete Ha.animationiteration.animation,delete Ha.animationstart.animation),"TransitionEvent"in window||delete Ha.transitionend.transition);function Zf(t){if(vm[t])return vm[t];if(!Ha[t])return t;var e=Ha[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in NV)return vm[t]=e[r];return t}var $V=Zf("animationend"),jV=Zf("animationiteration"),kV=Zf("animationstart"),DV=Zf("transitionend"),qV=new Map,JI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function to(t,e){qV.set(t,e),da(e,[t])}for(var ym=0;ym<JI.length;ym++){var gm=JI[ym],VQ=gm.toLowerCase(),KQ=gm[0].toUpperCase()+gm.slice(1);to(VQ,"on"+KQ)}to($V,"onAnimationEnd");to(jV,"onAnimationIteration");to(kV,"onAnimationStart");to("dblclick","onDoubleClick");to("focusin","onFocus");to("focusout","onBlur");to(DV,"onTransitionEnd");Nl("onMouseEnter",["mouseout","mouseover"]);Nl("onMouseLeave",["mouseout","mouseover"]);Nl("onPointerEnter",["pointerout","pointerover"]);Nl("onPointerLeave",["pointerout","pointerover"]);da("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));da("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));da("onBeforeInput",["compositionend","keypress","textInput","paste"]);da("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));da("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));da("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Xu="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),GQ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Xu));function ZI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,VY(n,e,void 0,t),t.currentTarget=null}function MV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;ZI(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;ZI(i,a,u),s=l}}}if(nf)throw t=TO,nf=!1,TO=null,t}function nt(t,e){var r=e[MO];r===void 0&&(r=e[MO]=new Set);var n=t+"__bubble";r.has(n)||(AV(e,t,2,!1),r.add(n))}function bm(t,e,r){var n=0;e&&(n|=4),AV(r,t,n,e)}var fh="_reactListening"+Math.random().toString(36).slice(2);function Tc(t){if(!t[fh]){t[fh]=!0,HH.forEach(function(r){r!=="selectionchange"&&(GQ.has(r)||bm(r,!1,t),bm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[fh]||(e[fh]=!0,bm("selectionchange",!1,e))}}function AV(t,e,r,n){switch(_V(e)){case 1:var i=lQ;break;case 4:i=uQ;break;default:i=yT}r=i.bind(null,e,r,t),i=void 0,!PO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function wm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=go(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}aV(function(){var u=s,c=fT(r),d=[];e:{var f=qV.get(t);if(f!==void 0){var p=bT,m=t;switch(t){case"keypress":if(Ah(r)===0)break e;case"keydown":case"keyup":p=EQ;break;case"focusin":m="focus",p=fm;break;case"focusout":m="blur",p=fm;break;case"beforeblur":case"afterblur":p=fm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=BI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=hQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=TQ;break;case $V:case jV:case kV:p=mQ;break;case DV:p=IQ;break;case"scroll":p=cQ;break;case"wheel":p=NQ;break;case"copy":case"cut":case"paste":p=yQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=UI}var g=(e&4)!==0,w=!g&&t==="scroll",y=g?f!==null?f+"Capture":null:f;g=[];for(var v=u,_;v!==null;){_=v;var b=_.stateNode;if(_.tag===5&&b!==null&&(_=b,y!==null&&(b=_c(v,y),b!=null&&g.push(Cc(v,b,_)))),w)break;v=v.return}0<g.length&&(f=new p(f,m,null,r,c),d.push({event:f,listeners:g}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==EO&&(m=r.relatedTarget||r.fromElement)&&(go(m)||m[Vi]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?go(m):null,m!==null&&(w=ha(m),m!==w||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(g=BI,b="onMouseLeave",y="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(g=UI,b="onPointerLeave",y="onPointerEnter",v="pointer"),w=p==null?f:Va(p),_=m==null?f:Va(m),f=new g(b,v+"leave",p,r,c),f.target=w,f.relatedTarget=_,b=null,go(c)===u&&(g=new g(y,v+"enter",m,r,c),g.target=_,g.relatedTarget=w,b=g),w=b,p&&m)t:{for(g=p,y=m,v=0,_=g;_;_=ja(_))v++;for(_=0,b=y;b;b=ja(b))_++;for(;0<v-_;)g=ja(g),v--;for(;0<_-v;)y=ja(y),_--;for(;v--;){if(g===y||y!==null&&g===y.alternate)break t;g=ja(g),y=ja(y)}g=null}else g=null;p!==null&&eR(d,f,p,g,!1),m!==null&&w!==null&&eR(d,w,m,g,!0)}}e:{if(f=u?Va(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var x=AQ;else if(VI(f))if(TV)x=zQ;else{x=LQ;var E=FQ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(x=BQ);if(x&&(x=x(t,u))){PV(d,x,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&bO(f,"number",f.value)}switch(E=u?Va(u):window,t){case"focusin":(VI(E)||E.contentEditable==="true")&&(Wa=E,NO=u,sc=null);break;case"focusout":sc=NO=Wa=null;break;case"mousedown":$O=!0;break;case"contextmenu":case"mouseup":case"dragend":$O=!1,XI(d,r,c);break;case"selectionchange":if(HQ)break;case"keydown":case"keyup":XI(d,r,c)}var T;if(_T)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ua?EV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(SV&&r.locale!=="ko"&&(Ua||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ua&&(T=xV()):(Cs=c,gT="value"in Cs?Cs.value:Cs.textContent,Ua=!0)),E=uf(u,S),0<E.length&&(S=new zI(S,t,null,r,c),d.push({event:S,listeners:E}),T?S.data=T:(T=OV(r),T!==null&&(S.data=T)))),(T=jQ?kQ(t,r):DQ(t,r))&&(u=uf(u,"onBeforeInput"),0<u.length&&(c=new zI("onBeforeInput","beforeinput",null,r,c),d.push({event:c,listeners:u}),c.data=T))}MV(d,e)})}function Cc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function uf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=_c(t,r),s!=null&&n.unshift(Cc(t,s,i)),s=_c(t,e),s!=null&&n.push(Cc(t,s,i))),t=t.return}return n}function ja(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function eR(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=_c(r,s),l!=null&&o.unshift(Cc(r,l,a))):i||(l=_c(r,s),l!=null&&o.push(Cc(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var YQ=/\r\n?/g,QQ=/\u0000|\uFFFD/g;function tR(t){return(typeof t=="string"?t:""+t).replace(YQ,`
`).replace(QQ,"")}function ph(t,e,r){if(e=tR(e),tR(t)!==e&&r)throw Error(G(425))}function cf(){}var jO=null,kO=null;function DO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var qO=typeof setTimeout=="function"?setTimeout:void 0,XQ=typeof clearTimeout=="function"?clearTimeout:void 0,rR=typeof Promise=="function"?Promise:void 0,JQ=typeof queueMicrotask=="function"?queueMicrotask:typeof rR<"u"?function(t){return rR.resolve(null).then(t).catch(ZQ)}:qO;function ZQ(t){setTimeout(function(){throw t})}function _m(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Ec(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Ec(e)}function Ds(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function nR(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Jl=Math.random().toString(36).slice(2),ci="__reactFiber$"+Jl,Ic="__reactProps$"+Jl,Vi="__reactContainer$"+Jl,MO="__reactEvents$"+Jl,eX="__reactListeners$"+Jl,tX="__reactHandles$"+Jl;function go(t){var e=t[ci];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Vi]||r[ci]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=nR(t);t!==null;){if(r=t[ci])return r;t=nR(t)}return e}t=r,r=t.parentNode}return null}function hd(t){return t=t[ci]||t[Vi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Va(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(G(33))}function ep(t){return t[Ic]||null}var AO=[],Ka=-1;function ro(t){return{current:t}}function st(t){0>Ka||(t.current=AO[Ka],AO[Ka]=null,Ka--)}function rt(t,e){Ka++,AO[Ka]=t.current,t.current=e}var Ys={},_r=ro(Ys),Hr=ro(!1),Vo=Ys;function $l(t,e){var r=t.type.contextTypes;if(!r)return Ys;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vr(t){return t=t.childContextTypes,t!=null}function df(){st(Hr),st(_r)}function iR(t,e,r){if(_r.current!==Ys)throw Error(G(168));rt(_r,e),rt(Hr,r)}function FV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(G(108,FY(t)||"Unknown",i));return ft({},r,n)}function hf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ys,Vo=_r.current,rt(_r,t),rt(Hr,Hr.current),!0}function sR(t,e,r){var n=t.stateNode;if(!n)throw Error(G(169));r?(t=FV(t,e,Vo),n.__reactInternalMemoizedMergedChildContext=t,st(Hr),st(_r),rt(_r,t)):st(Hr),rt(Hr,r)}var Pi=null,tp=!1,xm=!1;function LV(t){Pi===null?Pi=[t]:Pi.push(t)}function rX(t){tp=!0,LV(t)}function no(){if(!xm&&Pi!==null){xm=!0;var t=0,e=He;try{var r=Pi;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Pi=null,tp=!1}catch(i){throw Pi!==null&&(Pi=Pi.slice(t+1)),dV(pT,no),i}finally{He=e,xm=!1}}return null}var Ga=[],Ya=0,ff=null,pf=0,_n=[],xn=0,Ko=null,Ni=1,$i="";function mo(t,e){Ga[Ya++]=pf,Ga[Ya++]=ff,ff=t,pf=e}function BV(t,e,r){_n[xn++]=Ni,_n[xn++]=$i,_n[xn++]=Ko,Ko=t;var n=Ni;t=$i;var i=32-Kn(n)-1;n&=~(1<<i),r+=1;var s=32-Kn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,Ni=1<<32-Kn(e)+i|r<<i|n,$i=s+t}else Ni=1<<s|r<<i|n,$i=t}function ST(t){t.return!==null&&(mo(t,1),BV(t,1,0))}function ET(t){for(;t===ff;)ff=Ga[--Ya],Ga[Ya]=null,pf=Ga[--Ya],Ga[Ya]=null;for(;t===Ko;)Ko=_n[--xn],_n[xn]=null,$i=_n[--xn],_n[xn]=null,Ni=_n[--xn],_n[xn]=null}var un=null,ln=null,at=!1,zn=null;function zV(t,e){var r=En(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function oR(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,un=t,ln=Ds(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,un=t,ln=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Ko!==null?{id:Ni,overflow:$i}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=En(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,un=t,ln=null,!0):!1;default:return!1}}function FO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function LO(t){if(at){var e=ln;if(e){var r=e;if(!oR(t,e)){if(FO(t))throw Error(G(418));e=Ds(r.nextSibling);var n=un;e&&oR(t,e)?zV(n,r):(t.flags=t.flags&-4097|2,at=!1,un=t)}}else{if(FO(t))throw Error(G(418));t.flags=t.flags&-4097|2,at=!1,un=t}}}function aR(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;un=t}function mh(t){if(t!==un)return!1;if(!at)return aR(t),at=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!DO(t.type,t.memoizedProps)),e&&(e=ln)){if(FO(t))throw UV(),Error(G(418));for(;e;)zV(t,e),e=Ds(e.nextSibling)}if(aR(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(G(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){ln=Ds(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}ln=null}}else ln=un?Ds(t.stateNode.nextSibling):null;return!0}function UV(){for(var t=ln;t;)t=Ds(t.nextSibling)}function jl(){ln=un=null,at=!1}function OT(t){zn===null?zn=[t]:zn.push(t)}var nX=Yi.ReactCurrentBatchConfig;function Mu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(G(309));var n=r.stateNode}if(!n)throw Error(G(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(G(284));if(!r._owner)throw Error(G(290,t))}return t}function vh(t,e){throw t=Object.prototype.toString.call(e),Error(G(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function lR(t){var e=t._init;return e(t._payload)}function WV(t){function e(y,v){if(t){var _=y.deletions;_===null?(y.deletions=[v],y.flags|=16):_.push(v)}}function r(y,v){if(!t)return null;for(;v!==null;)e(y,v),v=v.sibling;return null}function n(y,v){for(y=new Map;v!==null;)v.key!==null?y.set(v.key,v):y.set(v.index,v),v=v.sibling;return y}function i(y,v){return y=Fs(y,v),y.index=0,y.sibling=null,y}function s(y,v,_){return y.index=_,t?(_=y.alternate,_!==null?(_=_.index,_<v?(y.flags|=2,v):_):(y.flags|=2,v)):(y.flags|=1048576,v)}function o(y){return t&&y.alternate===null&&(y.flags|=2),y}function a(y,v,_,b){return v===null||v.tag!==6?(v=Im(_,y.mode,b),v.return=y,v):(v=i(v,_),v.return=y,v)}function l(y,v,_,b){var x=_.type;return x===za?c(y,v,_.props.children,b,_.key):v!==null&&(v.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===cs&&lR(x)===v.type)?(b=i(v,_.props),b.ref=Mu(y,v,_),b.return=y,b):(b=Hh(_.type,_.key,_.props,null,y.mode,b),b.ref=Mu(y,v,_),b.return=y,b)}function u(y,v,_,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==_.containerInfo||v.stateNode.implementation!==_.implementation?(v=Rm(_,y.mode,b),v.return=y,v):(v=i(v,_.children||[]),v.return=y,v)}function c(y,v,_,b,x){return v===null||v.tag!==7?(v=Ao(_,y.mode,b,x),v.return=y,v):(v=i(v,_),v.return=y,v)}function d(y,v,_){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Im(""+v,y.mode,_),v.return=y,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case sh:return _=Hh(v.type,v.key,v.props,null,y.mode,_),_.ref=Mu(y,null,v),_.return=y,_;case Ba:return v=Rm(v,y.mode,_),v.return=y,v;case cs:var b=v._init;return d(y,b(v._payload),_)}if(Yu(v)||$u(v))return v=Ao(v,y.mode,_,null),v.return=y,v;vh(y,v)}return null}function f(y,v,_,b){var x=v!==null?v.key:null;if(typeof _=="string"&&_!==""||typeof _=="number")return x!==null?null:a(y,v,""+_,b);if(typeof _=="object"&&_!==null){switch(_.$$typeof){case sh:return _.key===x?l(y,v,_,b):null;case Ba:return _.key===x?u(y,v,_,b):null;case cs:return x=_._init,f(y,v,x(_._payload),b)}if(Yu(_)||$u(_))return x!==null?null:c(y,v,_,b,null);vh(y,_)}return null}function p(y,v,_,b,x){if(typeof b=="string"&&b!==""||typeof b=="number")return y=y.get(_)||null,a(v,y,""+b,x);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case sh:return y=y.get(b.key===null?_:b.key)||null,l(v,y,b,x);case Ba:return y=y.get(b.key===null?_:b.key)||null,u(v,y,b,x);case cs:var E=b._init;return p(y,v,_,E(b._payload),x)}if(Yu(b)||$u(b))return y=y.get(_)||null,c(v,y,b,x,null);vh(v,b)}return null}function m(y,v,_,b){for(var x=null,E=null,T=v,S=v=0,O=null;T!==null&&S<_.length;S++){T.index>S?(O=T,T=null):O=T.sibling;var P=f(y,T,_[S],b);if(P===null){T===null&&(T=O);break}t&&T&&P.alternate===null&&e(y,T),v=s(P,v,S),E===null?x=P:E.sibling=P,E=P,T=O}if(S===_.length)return r(y,T),at&&mo(y,S),x;if(T===null){for(;S<_.length;S++)T=d(y,_[S],b),T!==null&&(v=s(T,v,S),E===null?x=T:E.sibling=T,E=T);return at&&mo(y,S),x}for(T=n(y,T);S<_.length;S++)O=p(T,y,S,_[S],b),O!==null&&(t&&O.alternate!==null&&T.delete(O.key===null?S:O.key),v=s(O,v,S),E===null?x=O:E.sibling=O,E=O);return t&&T.forEach(function(I){return e(y,I)}),at&&mo(y,S),x}function g(y,v,_,b){var x=$u(_);if(typeof x!="function")throw Error(G(150));if(_=x.call(_),_==null)throw Error(G(151));for(var E=x=null,T=v,S=v=0,O=null,P=_.next();T!==null&&!P.done;S++,P=_.next()){T.index>S?(O=T,T=null):O=T.sibling;var I=f(y,T,P.value,b);if(I===null){T===null&&(T=O);break}t&&T&&I.alternate===null&&e(y,T),v=s(I,v,S),E===null?x=I:E.sibling=I,E=I,T=O}if(P.done)return r(y,T),at&&mo(y,S),x;if(T===null){for(;!P.done;S++,P=_.next())P=d(y,P.value,b),P!==null&&(v=s(P,v,S),E===null?x=P:E.sibling=P,E=P);return at&&mo(y,S),x}for(T=n(y,T);!P.done;S++,P=_.next())P=p(T,y,S,P.value,b),P!==null&&(t&&P.alternate!==null&&T.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?x=P:E.sibling=P,E=P);return t&&T.forEach(function(C){return e(y,C)}),at&&mo(y,S),x}function w(y,v,_,b){if(typeof _=="object"&&_!==null&&_.type===za&&_.key===null&&(_=_.props.children),typeof _=="object"&&_!==null){switch(_.$$typeof){case sh:e:{for(var x=_.key,E=v;E!==null;){if(E.key===x){if(x=_.type,x===za){if(E.tag===7){r(y,E.sibling),v=i(E,_.props.children),v.return=y,y=v;break e}}else if(E.elementType===x||typeof x=="object"&&x!==null&&x.$$typeof===cs&&lR(x)===E.type){r(y,E.sibling),v=i(E,_.props),v.ref=Mu(y,E,_),v.return=y,y=v;break e}r(y,E);break}else e(y,E);E=E.sibling}_.type===za?(v=Ao(_.props.children,y.mode,b,_.key),v.return=y,y=v):(b=Hh(_.type,_.key,_.props,null,y.mode,b),b.ref=Mu(y,v,_),b.return=y,y=b)}return o(y);case Ba:e:{for(E=_.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===_.containerInfo&&v.stateNode.implementation===_.implementation){r(y,v.sibling),v=i(v,_.children||[]),v.return=y,y=v;break e}else{r(y,v);break}else e(y,v);v=v.sibling}v=Rm(_,y.mode,b),v.return=y,y=v}return o(y);case cs:return E=_._init,w(y,v,E(_._payload),b)}if(Yu(_))return m(y,v,_,b);if($u(_))return g(y,v,_,b);vh(y,_)}return typeof _=="string"&&_!==""||typeof _=="number"?(_=""+_,v!==null&&v.tag===6?(r(y,v.sibling),v=i(v,_),v.return=y,y=v):(r(y,v),v=Im(_,y.mode,b),v.return=y,y=v),o(y)):r(y,v)}return w}var kl=WV(!0),HV=WV(!1),mf=ro(null),vf=null,Qa=null,PT=null;function TT(){PT=Qa=vf=null}function CT(t){var e=mf.current;st(mf),t._currentValue=e}function BO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function ul(t,e){vf=t,PT=Qa=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wr=!0),t.firstContext=null)}function Cn(t){var e=t._currentValue;if(PT!==t)if(t={context:t,memoizedValue:e,next:null},Qa===null){if(vf===null)throw Error(G(308));Qa=t,vf.dependencies={lanes:0,firstContext:t}}else Qa=Qa.next=t;return e}var bo=null;function IT(t){bo===null?bo=[t]:bo.push(t)}function VV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,IT(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ki(t,n)}function Ki(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ds=!1;function RT(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function KV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Di(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function qs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Le&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ki(t,r)}return i=n.interleaved,i===null?(e.next=e,IT(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ki(t,r)}function Fh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mT(t,r)}}function uR(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function yf(t,e,r,n){var i=t.updateQueue;ds=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var d=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var m=t,g=a;switch(f=e,p=r,g.tag){case 1:if(m=g.payload,typeof m=="function"){d=m.call(p,d,f);break e}d=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=g.payload,f=typeof m=="function"?m.call(p,d,f):m,f==null)break e;d=ft({},d,f);break e;case 2:ds=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=d):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=d),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Yo|=o,t.lanes=o,t.memoizedState=d}}function cR(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(G(191,i));i.call(n)}}}var fd={},vi=ro(fd),Rc=ro(fd),Nc=ro(fd);function wo(t){if(t===fd)throw Error(G(174));return t}function NT(t,e){switch(rt(Nc,e),rt(Rc,t),rt(vi,fd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:_O(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=_O(e,t)}st(vi),rt(vi,e)}function Dl(){st(vi),st(Rc),st(Nc)}function GV(t){wo(Nc.current);var e=wo(vi.current),r=_O(e,t.type);e!==r&&(rt(Rc,t),rt(vi,r))}function $T(t){Rc.current===t&&(st(vi),st(Rc))}var ut=ro(0);function gf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Sm=[];function jT(){for(var t=0;t<Sm.length;t++)Sm[t]._workInProgressVersionPrimary=null;Sm.length=0}var Lh=Yi.ReactCurrentDispatcher,Em=Yi.ReactCurrentBatchConfig,Go=0,ct=null,zt=null,Kt=null,bf=!1,oc=!1,$c=0,iX=0;function pr(){throw Error(G(321))}function kT(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Yn(t[r],e[r]))return!1;return!0}function DT(t,e,r,n,i,s){if(Go=s,ct=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Lh.current=t===null||t.memoizedState===null?lX:uX,t=r(n,i),oc){s=0;do{if(oc=!1,$c=0,25<=s)throw Error(G(301));s+=1,Kt=zt=null,e.updateQueue=null,Lh.current=cX,t=r(n,i)}while(oc)}if(Lh.current=wf,e=zt!==null&&zt.next!==null,Go=0,Kt=zt=ct=null,bf=!1,e)throw Error(G(300));return t}function qT(){var t=$c!==0;return $c=0,t}function ii(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Kt===null?ct.memoizedState=Kt=t:Kt=Kt.next=t,Kt}function In(){if(zt===null){var t=ct.alternate;t=t!==null?t.memoizedState:null}else t=zt.next;var e=Kt===null?ct.memoizedState:Kt.next;if(e!==null)Kt=e,zt=t;else{if(t===null)throw Error(G(310));zt=t,t={memoizedState:zt.memoizedState,baseState:zt.baseState,baseQueue:zt.baseQueue,queue:zt.queue,next:null},Kt===null?ct.memoizedState=Kt=t:Kt=Kt.next=t}return Kt}function jc(t,e){return typeof e=="function"?e(t):e}function Om(t){var e=In(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=zt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Go&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var d={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=d,o=n):l=l.next=d,ct.lanes|=c,Yo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Yn(n,e.memoizedState)||(Wr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ct.lanes|=s,Yo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Pm(t){var e=In(),r=e.queue;if(r===null)throw Error(G(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Yn(s,e.memoizedState)||(Wr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function YV(){}function QV(t,e){var r=ct,n=In(),i=e(),s=!Yn(n.memoizedState,i);if(s&&(n.memoizedState=i,Wr=!0),n=n.queue,MT(ZV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Kt!==null&&Kt.memoizedState.tag&1){if(r.flags|=2048,kc(9,JV.bind(null,r,n,i,e),void 0,null),Yt===null)throw Error(G(349));Go&30||XV(r,e,i)}return i}function XV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function JV(t,e,r,n){e.value=r,e.getSnapshot=n,e8(e)&&t8(t)}function ZV(t,e,r){return r(function(){e8(e)&&t8(t)})}function e8(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Yn(t,r)}catch{return!0}}function t8(t){var e=Ki(t,1);e!==null&&Gn(e,t,1,-1)}function dR(t){var e=ii();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:jc,lastRenderedState:t},e.queue=t,t=t.dispatch=aX.bind(null,ct,t),[e.memoizedState,t]}function kc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ct.updateQueue,e===null?(e={lastEffect:null,stores:null},ct.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function r8(){return In().memoizedState}function Bh(t,e,r,n){var i=ii();ct.flags|=t,i.memoizedState=kc(1|e,r,void 0,n===void 0?null:n)}function rp(t,e,r,n){var i=In();n=n===void 0?null:n;var s=void 0;if(zt!==null){var o=zt.memoizedState;if(s=o.destroy,n!==null&&kT(n,o.deps)){i.memoizedState=kc(e,r,s,n);return}}ct.flags|=t,i.memoizedState=kc(1|e,r,s,n)}function hR(t,e){return Bh(8390656,8,t,e)}function MT(t,e){return rp(2048,8,t,e)}function n8(t,e){return rp(4,2,t,e)}function i8(t,e){return rp(4,4,t,e)}function s8(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function o8(t,e,r){return r=r!=null?r.concat([t]):null,rp(4,4,s8.bind(null,e,t),r)}function AT(){}function a8(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kT(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function l8(t,e){var r=In();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&kT(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function u8(t,e,r){return Go&21?(Yn(r,e)||(r=pV(),ct.lanes|=r,Yo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wr=!0),t.memoizedState=r)}function sX(t,e){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=Em.transition;Em.transition={};try{t(!1),e()}finally{He=r,Em.transition=n}}function c8(){return In().memoizedState}function oX(t,e,r){var n=As(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},d8(t))h8(e,r);else if(r=VV(t,e,r,n),r!==null){var i=Rr();Gn(r,t,n,i),f8(r,e,n)}}function aX(t,e,r){var n=As(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(d8(t))h8(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Yn(a,o)){var l=e.interleaved;l===null?(i.next=i,IT(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=VV(t,e,i,n),r!==null&&(i=Rr(),Gn(r,t,n,i),f8(r,e,n))}}function d8(t){var e=t.alternate;return t===ct||e!==null&&e===ct}function h8(t,e){oc=bf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function f8(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,mT(t,r)}}var wf={readContext:Cn,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},lX={readContext:Cn,useCallback:function(t,e){return ii().memoizedState=[t,e===void 0?null:e],t},useContext:Cn,useEffect:hR,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Bh(4194308,4,s8.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Bh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Bh(4,2,t,e)},useMemo:function(t,e){var r=ii();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=ii();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=oX.bind(null,ct,t),[n.memoizedState,t]},useRef:function(t){var e=ii();return t={current:t},e.memoizedState=t},useState:dR,useDebugValue:AT,useDeferredValue:function(t){return ii().memoizedState=t},useTransition:function(){var t=dR(!1),e=t[0];return t=sX.bind(null,t[1]),ii().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ct,i=ii();if(at){if(r===void 0)throw Error(G(407));r=r()}else{if(r=e(),Yt===null)throw Error(G(349));Go&30||XV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,hR(ZV.bind(null,n,s,t),[t]),n.flags|=2048,kc(9,JV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=ii(),e=Yt.identifierPrefix;if(at){var r=$i,n=Ni;r=(n&~(1<<32-Kn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=$c++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=iX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},uX={readContext:Cn,useCallback:a8,useContext:Cn,useEffect:MT,useImperativeHandle:o8,useInsertionEffect:n8,useLayoutEffect:i8,useMemo:l8,useReducer:Om,useRef:r8,useState:function(){return Om(jc)},useDebugValue:AT,useDeferredValue:function(t){var e=In();return u8(e,zt.memoizedState,t)},useTransition:function(){var t=Om(jc)[0],e=In().memoizedState;return[t,e]},useMutableSource:YV,useSyncExternalStore:QV,useId:c8,unstable_isNewReconciler:!1},cX={readContext:Cn,useCallback:a8,useContext:Cn,useEffect:MT,useImperativeHandle:o8,useInsertionEffect:n8,useLayoutEffect:i8,useMemo:l8,useReducer:Pm,useRef:r8,useState:function(){return Pm(jc)},useDebugValue:AT,useDeferredValue:function(t){var e=In();return zt===null?e.memoizedState=t:u8(e,zt.memoizedState,t)},useTransition:function(){var t=Pm(jc)[0],e=In().memoizedState;return[t,e]},useMutableSource:YV,useSyncExternalStore:QV,useId:c8,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=ft({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function zO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:ft({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var np={isMounted:function(t){return(t=t._reactInternals)?ha(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=As(t),s=Di(n,i);s.payload=e,r!=null&&(s.callback=r),e=qs(t,s,i),e!==null&&(Gn(e,t,i,n),Fh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=As(t),s=Di(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=qs(t,s,i),e!==null&&(Gn(e,t,i,n),Fh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Rr(),n=As(t),i=Di(r,n);i.tag=2,e!=null&&(i.callback=e),e=qs(t,i,n),e!==null&&(Gn(e,t,n,r),Fh(e,t,n))}};function fR(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!Pc(r,n)||!Pc(i,s):!0}function p8(t,e,r){var n=!1,i=Ys,s=e.contextType;return typeof s=="object"&&s!==null?s=Cn(s):(i=Vr(e)?Vo:_r.current,n=e.contextTypes,s=(n=n!=null)?$l(t,i):Ys),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=np,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function pR(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&np.enqueueReplaceState(e,e.state,null)}function UO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},RT(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Cn(s):(s=Vr(e)?Vo:_r.current,i.context=$l(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(zO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&np.enqueueReplaceState(i,i.state,null),yf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function ql(t,e){try{var r="",n=e;do r+=AY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Tm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function WO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var dX=typeof WeakMap=="function"?WeakMap:Map;function m8(t,e,r){r=Di(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){xf||(xf=!0,eP=n),WO(t,e)},r}function v8(t,e,r){r=Di(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){WO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){WO(t,e),typeof n!="function"&&(Ms===null?Ms=new Set([this]):Ms.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function mR(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new dX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=OX.bind(null,t,e,r),e.then(t,t))}function vR(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function yR(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Di(-1,1),e.tag=2,qs(r,e,1))),r.lanes|=1),t)}var hX=Yi.ReactCurrentOwner,Wr=!1;function Or(t,e,r,n){e.child=t===null?HV(e,null,r,n):kl(e,t.child,r,n)}function gR(t,e,r,n,i){r=r.render;var s=e.ref;return ul(e,i),n=DT(t,e,r,n,s,i),r=qT(),t!==null&&!Wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gi(t,e,i)):(at&&r&&ST(e),e.flags|=1,Or(t,e,n,i),e.child)}function bR(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!VT(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,y8(t,e,s,n,i)):(t=Hh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:Pc,r(o,n)&&t.ref===e.ref)return Gi(t,e,i)}return e.flags|=1,t=Fs(s,n),t.ref=e.ref,t.return=e,e.child=t}function y8(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Pc(s,n)&&t.ref===e.ref)if(Wr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Wr=!0);else return e.lanes=t.lanes,Gi(t,e,i)}return HO(t,e,r,n,i)}function g8(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(Ja,sn),sn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(Ja,sn),sn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rt(Ja,sn),sn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rt(Ja,sn),sn|=n;return Or(t,e,i,r),e.child}function b8(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function HO(t,e,r,n,i){var s=Vr(r)?Vo:_r.current;return s=$l(e,s),ul(e,i),r=DT(t,e,r,n,s,i),n=qT(),t!==null&&!Wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Gi(t,e,i)):(at&&n&&ST(e),e.flags|=1,Or(t,e,r,i),e.child)}function wR(t,e,r,n,i){if(Vr(r)){var s=!0;hf(e)}else s=!1;if(ul(e,i),e.stateNode===null)zh(t,e),p8(e,r,n),UO(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=Cn(u):(u=Vr(r)?Vo:_r.current,u=$l(e,u));var c=r.getDerivedStateFromProps,d=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";d||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&pR(e,o,n,u),ds=!1;var f=e.memoizedState;o.state=f,yf(e,n,o,i),l=e.memoizedState,a!==n||f!==l||Hr.current||ds?(typeof c=="function"&&(zO(e,r,c,n),l=e.memoizedState),(a=ds||fR(e,r,a,n,f,l,u))?(d||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,KV(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:An(e.type,a),o.props=u,d=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=Cn(l):(l=Vr(r)?Vo:_r.current,l=$l(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==d||f!==l)&&pR(e,o,n,l),ds=!1,f=e.memoizedState,o.state=f,yf(e,n,o,i);var m=e.memoizedState;a!==d||f!==m||Hr.current||ds?(typeof p=="function"&&(zO(e,r,p,n),m=e.memoizedState),(u=ds||fR(e,r,u,n,f,m,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,m,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,m,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),o.props=n,o.state=m,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return VO(t,e,r,n,s,i)}function VO(t,e,r,n,i,s){b8(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&sR(e,r,!1),Gi(t,e,s);n=e.stateNode,hX.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=kl(e,t.child,null,s),e.child=kl(e,null,a,s)):Or(t,e,a,s),e.memoizedState=n.state,i&&sR(e,r,!0),e.child}function w8(t){var e=t.stateNode;e.pendingContext?iR(t,e.pendingContext,e.pendingContext!==e.context):e.context&&iR(t,e.context,!1),NT(t,e.containerInfo)}function _R(t,e,r,n,i){return jl(),OT(i),e.flags|=256,Or(t,e,r,n),e.child}var KO={dehydrated:null,treeContext:null,retryLane:0};function GO(t){return{baseLanes:t,cachePool:null,transitions:null}}function _8(t,e,r){var n=e.pendingProps,i=ut.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(ut,i&1),t===null)return LO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=op(o,n,0,null),t=Ao(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=GO(r),e.memoizedState=KO,t):FT(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return fX(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Fs(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Fs(a,s):(s=Ao(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?GO(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=KO,n}return s=t.child,t=s.sibling,n=Fs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function FT(t,e){return e=op({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function yh(t,e,r,n){return n!==null&&OT(n),kl(e,t.child,null,r),t=FT(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function fX(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Tm(Error(G(422))),yh(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=op({mode:"visible",children:n.children},i,0,null),s=Ao(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&kl(e,t.child,null,o),e.child.memoizedState=GO(o),e.memoizedState=KO,s);if(!(e.mode&1))return yh(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(G(419)),n=Tm(s,n,void 0),yh(t,e,o,n)}if(a=(o&t.childLanes)!==0,Wr||a){if(n=Yt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ki(t,i),Gn(n,t,i,-1))}return HT(),n=Tm(Error(G(421))),yh(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=PX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,ln=Ds(i.nextSibling),un=e,at=!0,zn=null,t!==null&&(_n[xn++]=Ni,_n[xn++]=$i,_n[xn++]=Ko,Ni=t.id,$i=t.overflow,Ko=e),e=FT(e,n.children),e.flags|=4096,e)}function xR(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),BO(t.return,e,r)}function Cm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function x8(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Or(t,e,n.children,r),n=ut.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&xR(t,r,e);else if(t.tag===19)xR(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rt(ut,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&gf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Cm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&gf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Cm(e,!0,r,null,s);break;case"together":Cm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function zh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Gi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Yo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(G(153));if(e.child!==null){for(t=e.child,r=Fs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Fs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function pX(t,e,r){switch(e.tag){case 3:w8(e),jl();break;case 5:GV(e);break;case 1:Vr(e.type)&&hf(e);break;case 4:NT(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rt(mf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rt(ut,ut.current&1),e.flags|=128,null):r&e.child.childLanes?_8(t,e,r):(rt(ut,ut.current&1),t=Gi(t,e,r),t!==null?t.sibling:null);rt(ut,ut.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return x8(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ut,ut.current),n)break;return null;case 22:case 23:return e.lanes=0,g8(t,e,r)}return Gi(t,e,r)}var S8,YO,E8,O8;S8=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};YO=function(){};E8=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,wo(vi.current);var s=null;switch(r){case"input":i=yO(t,i),n=yO(t,n),s=[];break;case"select":i=ft({},i,{value:void 0}),n=ft({},n,{value:void 0}),s=[];break;case"textarea":i=wO(t,i),n=wO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=cf)}xO(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(bc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(bc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&nt("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};O8=function(t,e,r,n){r!==n&&(e.flags|=4)};function Au(t,e){if(!at)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function mX(t,e,r){var n=e.pendingProps;switch(ET(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(e),null;case 1:return Vr(e.type)&&df(),mr(e),null;case 3:return n=e.stateNode,Dl(),st(Hr),st(_r),jT(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,zn!==null&&(nP(zn),zn=null))),YO(t,e),mr(e),null;case 5:$T(e);var i=wo(Nc.current);if(r=e.type,t!==null&&e.stateNode!=null)E8(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(G(166));return mr(e),null}if(t=wo(vi.current),mh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[ci]=e,n[Ic]=s,t=(e.mode&1)!==0,r){case"dialog":nt("cancel",n),nt("close",n);break;case"iframe":case"object":case"embed":nt("load",n);break;case"video":case"audio":for(i=0;i<Xu.length;i++)nt(Xu[i],n);break;case"source":nt("error",n);break;case"img":case"image":case"link":nt("error",n),nt("load",n);break;case"details":nt("toggle",n);break;case"input":NI(n,s),nt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},nt("invalid",n);break;case"textarea":jI(n,s),nt("invalid",n)}xO(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&ph(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&ph(n.textContent,a,t),i=["children",""+a]):bc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&nt("scroll",n)}switch(r){case"input":oh(n),$I(n,s,!0);break;case"textarea":oh(n),kI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=cf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=ZH(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[ci]=e,t[Ic]=n,S8(t,e,!1,!1),e.stateNode=t;e:{switch(o=SO(r,n),r){case"dialog":nt("cancel",t),nt("close",t),i=n;break;case"iframe":case"object":case"embed":nt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Xu.length;i++)nt(Xu[i],t);i=n;break;case"source":nt("error",t),i=n;break;case"img":case"image":case"link":nt("error",t),nt("load",t),i=n;break;case"details":nt("toggle",t),i=n;break;case"input":NI(t,n),i=yO(t,n),nt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=ft({},n,{value:void 0}),nt("invalid",t);break;case"textarea":jI(t,n),i=wO(t,n),nt("invalid",t);break;default:i=n}xO(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?rV(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&eV(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&wc(t,l):typeof l=="number"&&wc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(bc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&nt("scroll",t):l!=null&&uT(t,s,l,o))}switch(r){case"input":oh(t),$I(t,n,!1);break;case"textarea":oh(t),kI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Gs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?sl(t,!!n.multiple,s,!1):n.defaultValue!=null&&sl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=cf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mr(e),null;case 6:if(t&&e.stateNode!=null)O8(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(G(166));if(r=wo(Nc.current),wo(vi.current),mh(e)){if(n=e.stateNode,r=e.memoizedProps,n[ci]=e,(s=n.nodeValue!==r)&&(t=un,t!==null))switch(t.tag){case 3:ph(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&ph(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[ci]=e,e.stateNode=n}return mr(e),null;case 13:if(st(ut),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(at&&ln!==null&&e.mode&1&&!(e.flags&128))UV(),jl(),e.flags|=98560,s=!1;else if(s=mh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(G(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(G(317));s[ci]=e}else jl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mr(e),s=!1}else zn!==null&&(nP(zn),zn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ut.current&1?Ut===0&&(Ut=3):HT())),e.updateQueue!==null&&(e.flags|=4),mr(e),null);case 4:return Dl(),YO(t,e),t===null&&Tc(e.stateNode.containerInfo),mr(e),null;case 10:return CT(e.type._context),mr(e),null;case 17:return Vr(e.type)&&df(),mr(e),null;case 19:if(st(ut),s=e.memoizedState,s===null)return mr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Au(s,!1);else{if(Ut!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=gf(t),o!==null){for(e.flags|=128,Au(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rt(ut,ut.current&1|2),e.child}t=t.sibling}s.tail!==null&&Et()>Ml&&(e.flags|=128,n=!0,Au(s,!1),e.lanes=4194304)}else{if(!n)if(t=gf(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Au(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!at)return mr(e),null}else 2*Et()-s.renderingStartTime>Ml&&r!==1073741824&&(e.flags|=128,n=!0,Au(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Et(),e.sibling=null,r=ut.current,rt(ut,n?r&1|2:r&1),e):(mr(e),null);case 22:case 23:return WT(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?sn&1073741824&&(mr(e),e.subtreeFlags&6&&(e.flags|=8192)):mr(e),null;case 24:return null;case 25:return null}throw Error(G(156,e.tag))}function vX(t,e){switch(ET(e),e.tag){case 1:return Vr(e.type)&&df(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Dl(),st(Hr),st(_r),jT(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return $T(e),null;case 13:if(st(ut),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(G(340));jl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ut),null;case 4:return Dl(),null;case 10:return CT(e.type._context),null;case 22:case 23:return WT(),null;case 24:return null;default:return null}}var gh=!1,yr=!1,yX=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Xa(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){bt(t,e,n)}else r.current=null}function QO(t,e,r){try{r()}catch(n){bt(t,e,n)}}var SR=!1;function gX(t,e){if(jO=af,t=RV(),xT(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,d=t,f=null;t:for(;;){for(var p;d!==r||i!==0&&d.nodeType!==3||(a=o+i),d!==s||n!==0&&d.nodeType!==3||(l=o+n),d.nodeType===3&&(o+=d.nodeValue.length),(p=d.firstChild)!==null;)f=d,d=p;for(;;){if(d===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++c===n&&(l=o),(p=d.nextSibling)!==null)break;d=f,f=d.parentNode}d=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(kO={focusedElem:t,selectionRange:r},af=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var g=m.memoizedProps,w=m.memoizedState,y=e.stateNode,v=y.getSnapshotBeforeUpdate(e.elementType===e.type?g:An(e.type,g),w);y.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var _=e.stateNode.containerInfo;_.nodeType===1?_.textContent="":_.nodeType===9&&_.documentElement&&_.removeChild(_.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(G(163))}}catch(b){bt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=SR,SR=!1,m}function ac(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&QO(e,r,s)}i=i.next}while(i!==n)}}function ip(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function XO(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function P8(t){var e=t.alternate;e!==null&&(t.alternate=null,P8(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[ci],delete e[Ic],delete e[MO],delete e[eX],delete e[tX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function T8(t){return t.tag===5||t.tag===3||t.tag===4}function ER(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||T8(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function JO(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=cf));else if(n!==4&&(t=t.child,t!==null))for(JO(t,e,r),t=t.sibling;t!==null;)JO(t,e,r),t=t.sibling}function ZO(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(ZO(t,e,r),t=t.sibling;t!==null;)ZO(t,e,r),t=t.sibling}var sr=null,Bn=!1;function as(t,e,r){for(r=r.child;r!==null;)C8(t,e,r),r=r.sibling}function C8(t,e,r){if(mi&&typeof mi.onCommitFiberUnmount=="function")try{mi.onCommitFiberUnmount(Qf,r)}catch{}switch(r.tag){case 5:yr||Xa(r,e);case 6:var n=sr,i=Bn;sr=null,as(t,e,r),sr=n,Bn=i,sr!==null&&(Bn?(t=sr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):sr.removeChild(r.stateNode));break;case 18:sr!==null&&(Bn?(t=sr,r=r.stateNode,t.nodeType===8?_m(t.parentNode,r):t.nodeType===1&&_m(t,r),Ec(t)):_m(sr,r.stateNode));break;case 4:n=sr,i=Bn,sr=r.stateNode.containerInfo,Bn=!0,as(t,e,r),sr=n,Bn=i;break;case 0:case 11:case 14:case 15:if(!yr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&QO(r,e,o),i=i.next}while(i!==n)}as(t,e,r);break;case 1:if(!yr&&(Xa(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){bt(r,e,a)}as(t,e,r);break;case 21:as(t,e,r);break;case 22:r.mode&1?(yr=(n=yr)||r.memoizedState!==null,as(t,e,r),yr=n):as(t,e,r);break;default:as(t,e,r)}}function OR(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yX),e.forEach(function(n){var i=TX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function qn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:sr=a.stateNode,Bn=!1;break e;case 3:sr=a.stateNode.containerInfo,Bn=!0;break e;case 4:sr=a.stateNode.containerInfo,Bn=!0;break e}a=a.return}if(sr===null)throw Error(G(160));C8(s,o,i),sr=null,Bn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){bt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)I8(e,t),e=e.sibling}function I8(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(qn(e,t),ri(t),n&4){try{ac(3,t,t.return),ip(3,t)}catch(g){bt(t,t.return,g)}try{ac(5,t,t.return)}catch(g){bt(t,t.return,g)}}break;case 1:qn(e,t),ri(t),n&512&&r!==null&&Xa(r,r.return);break;case 5:if(qn(e,t),ri(t),n&512&&r!==null&&Xa(r,r.return),t.flags&32){var i=t.stateNode;try{wc(i,"")}catch(g){bt(t,t.return,g)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&XH(i,s),SO(a,o);var u=SO(a,s);for(o=0;o<l.length;o+=2){var c=l[o],d=l[o+1];c==="style"?rV(i,d):c==="dangerouslySetInnerHTML"?eV(i,d):c==="children"?wc(i,d):uT(i,c,d,u)}switch(a){case"input":gO(i,s);break;case"textarea":JH(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?sl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?sl(i,!!s.multiple,s.defaultValue,!0):sl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Ic]=s}catch(g){bt(t,t.return,g)}}break;case 6:if(qn(e,t),ri(t),n&4){if(t.stateNode===null)throw Error(G(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(g){bt(t,t.return,g)}}break;case 3:if(qn(e,t),ri(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Ec(e.containerInfo)}catch(g){bt(t,t.return,g)}break;case 4:qn(e,t),ri(t);break;case 13:qn(e,t),ri(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(zT=Et())),n&4&&OR(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(yr=(u=yr)||c,qn(e,t),yr=u):qn(e,t),ri(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(d=ce=c;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:ac(4,f,f.return);break;case 1:Xa(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(g){bt(n,r,g)}}break;case 5:Xa(f,f.return);break;case 22:if(f.memoizedState!==null){TR(d);continue}}p!==null?(p.return=f,ce=p):TR(d)}c=c.sibling}e:for(c=null,d=t;;){if(d.tag===5){if(c===null){c=d;try{i=d.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=d.stateNode,l=d.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=tV("display",o))}catch(g){bt(t,t.return,g)}}}else if(d.tag===6){if(c===null)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(g){bt(t,t.return,g)}}else if((d.tag!==22&&d.tag!==23||d.memoizedState===null||d===t)&&d.child!==null){d.child.return=d,d=d.child;continue}if(d===t)break e;for(;d.sibling===null;){if(d.return===null||d.return===t)break e;c===d&&(c=null),d=d.return}c===d&&(c=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:qn(e,t),ri(t),n&4&&OR(t);break;case 21:break;default:qn(e,t),ri(t)}}function ri(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(T8(r)){var n=r;break e}r=r.return}throw Error(G(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(wc(i,""),n.flags&=-33);var s=ER(t);ZO(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=ER(t);JO(t,a,o);break;default:throw Error(G(161))}}catch(l){bt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function bX(t,e,r){ce=t,R8(t)}function R8(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||gh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yr;a=gh;var u=yr;if(gh=o,(yr=l)&&!u)for(ce=i;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?CR(i):l!==null?(l.return=o,ce=l):CR(i);for(;s!==null;)ce=s,R8(s),s=s.sibling;ce=i,gh=a,yr=u}PR(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):PR(t)}}function PR(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||ip(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!yr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:An(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&cR(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}cR(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var d=c.dehydrated;d!==null&&Ec(d)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(G(163))}yr||e.flags&512&&XO(e)}catch(f){bt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function TR(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function CR(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{ip(4,e)}catch(l){bt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){bt(e,i,l)}}var s=e.return;try{XO(e)}catch(l){bt(e,s,l)}break;case 5:var o=e.return;try{XO(e)}catch(l){bt(e,o,l)}}}catch(l){bt(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var wX=Math.ceil,_f=Yi.ReactCurrentDispatcher,LT=Yi.ReactCurrentOwner,On=Yi.ReactCurrentBatchConfig,Le=0,Yt=null,Rt=null,or=0,sn=0,Ja=ro(0),Ut=0,Dc=null,Yo=0,sp=0,BT=0,lc=null,zr=null,zT=0,Ml=1/0,Oi=null,xf=!1,eP=null,Ms=null,bh=!1,Is=null,Sf=0,uc=0,tP=null,Uh=-1,Wh=0;function Rr(){return Le&6?Et():Uh!==-1?Uh:Uh=Et()}function As(t){return t.mode&1?Le&2&&or!==0?or&-or:nX.transition!==null?(Wh===0&&(Wh=pV()),Wh):(t=He,t!==0||(t=window.event,t=t===void 0?16:_V(t.type)),t):1}function Gn(t,e,r,n){if(50<uc)throw uc=0,tP=null,Error(G(185));cd(t,r,n),(!(Le&2)||t!==Yt)&&(t===Yt&&(!(Le&2)&&(sp|=r),Ut===4&&vs(t,or)),Kr(t,n),r===1&&Le===0&&!(e.mode&1)&&(Ml=Et()+500,tp&&no()))}function Kr(t,e){var r=t.callbackNode;nQ(t,e);var n=of(t,t===Yt?or:0);if(n===0)r!==null&&MI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&MI(r),e===1)t.tag===0?rX(IR.bind(null,t)):LV(IR.bind(null,t)),JQ(function(){!(Le&6)&&no()}),r=null;else{switch(mV(n)){case 1:r=pT;break;case 4:r=hV;break;case 16:r=sf;break;case 536870912:r=fV;break;default:r=sf}r=A8(r,N8.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function N8(t,e){if(Uh=-1,Wh=0,Le&6)throw Error(G(327));var r=t.callbackNode;if(cl()&&t.callbackNode!==r)return null;var n=of(t,t===Yt?or:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Ef(t,n);else{e=n;var i=Le;Le|=2;var s=j8();(Yt!==t||or!==e)&&(Oi=null,Ml=Et()+500,Mo(t,e));do try{SX();break}catch(a){$8(t,a)}while(!0);TT(),_f.current=s,Le=i,Rt!==null?e=0:(Yt=null,or=0,e=Ut)}if(e!==0){if(e===2&&(i=CO(t),i!==0&&(n=i,e=rP(t,i))),e===1)throw r=Dc,Mo(t,0),vs(t,n),Kr(t,Et()),r;if(e===6)vs(t,n);else{if(i=t.current.alternate,!(n&30)&&!_X(i)&&(e=Ef(t,n),e===2&&(s=CO(t),s!==0&&(n=s,e=rP(t,s))),e===1))throw r=Dc,Mo(t,0),vs(t,n),Kr(t,Et()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(G(345));case 2:vo(t,zr,Oi);break;case 3:if(vs(t,n),(n&130023424)===n&&(e=zT+500-Et(),10<e)){if(of(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=qO(vo.bind(null,t,zr,Oi),e);break}vo(t,zr,Oi);break;case 4:if(vs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Kn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Et()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wX(n/1960))-n,10<n){t.timeoutHandle=qO(vo.bind(null,t,zr,Oi),n);break}vo(t,zr,Oi);break;case 5:vo(t,zr,Oi);break;default:throw Error(G(329))}}}return Kr(t,Et()),t.callbackNode===r?N8.bind(null,t):null}function rP(t,e){var r=lc;return t.current.memoizedState.isDehydrated&&(Mo(t,e).flags|=256),t=Ef(t,e),t!==2&&(e=zr,zr=r,e!==null&&nP(e)),t}function nP(t){zr===null?zr=t:zr.push.apply(zr,t)}function _X(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Yn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function vs(t,e){for(e&=~BT,e&=~sp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Kn(e),n=1<<r;t[r]=-1,e&=~n}}function IR(t){if(Le&6)throw Error(G(327));cl();var e=of(t,0);if(!(e&1))return Kr(t,Et()),null;var r=Ef(t,e);if(t.tag!==0&&r===2){var n=CO(t);n!==0&&(e=n,r=rP(t,n))}if(r===1)throw r=Dc,Mo(t,0),vs(t,e),Kr(t,Et()),r;if(r===6)throw Error(G(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,vo(t,zr,Oi),Kr(t,Et()),null}function UT(t,e){var r=Le;Le|=1;try{return t(e)}finally{Le=r,Le===0&&(Ml=Et()+500,tp&&no())}}function Qo(t){Is!==null&&Is.tag===0&&!(Le&6)&&cl();var e=Le;Le|=1;var r=On.transition,n=He;try{if(On.transition=null,He=1,t)return t()}finally{He=n,On.transition=r,Le=e,!(Le&6)&&no()}}function WT(){sn=Ja.current,st(Ja)}function Mo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,XQ(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(ET(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&df();break;case 3:Dl(),st(Hr),st(_r),jT();break;case 5:$T(n);break;case 4:Dl();break;case 13:st(ut);break;case 19:st(ut);break;case 10:CT(n.type._context);break;case 22:case 23:WT()}r=r.return}if(Yt=t,Rt=t=Fs(t.current,null),or=sn=e,Ut=0,Dc=null,BT=sp=Yo=0,zr=lc=null,bo!==null){for(e=0;e<bo.length;e++)if(r=bo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}bo=null}return t}function $8(t,e){do{var r=Rt;try{if(TT(),Lh.current=wf,bf){for(var n=ct.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}bf=!1}if(Go=0,Kt=zt=ct=null,oc=!1,$c=0,LT.current=null,r===null||r.return===null){Ut=1,Dc=e,Rt=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=or,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,d=c.tag;if(!(c.mode&1)&&(d===0||d===11||d===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=vR(o);if(p!==null){p.flags&=-257,yR(p,o,a,s,e),p.mode&1&&mR(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var g=new Set;g.add(l),e.updateQueue=g}else m.add(l);break e}else{if(!(e&1)){mR(s,u,e),HT();break e}l=Error(G(426))}}else if(at&&a.mode&1){var w=vR(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),yR(w,o,a,s,e),OT(ql(l,a));break e}}s=l=ql(l,a),Ut!==4&&(Ut=2),lc===null?lc=[s]:lc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var y=m8(s,l,e);uR(s,y);break e;case 1:a=l;var v=s.type,_=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||_!==null&&typeof _.componentDidCatch=="function"&&(Ms===null||!Ms.has(_)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=v8(s,a,e);uR(s,b);break e}}s=s.return}while(s!==null)}D8(r)}catch(x){e=x,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function j8(){var t=_f.current;return _f.current=wf,t===null?wf:t}function HT(){(Ut===0||Ut===3||Ut===2)&&(Ut=4),Yt===null||!(Yo&268435455)&&!(sp&268435455)||vs(Yt,or)}function Ef(t,e){var r=Le;Le|=2;var n=j8();(Yt!==t||or!==e)&&(Oi=null,Mo(t,e));do try{xX();break}catch(i){$8(t,i)}while(!0);if(TT(),Le=r,_f.current=n,Rt!==null)throw Error(G(261));return Yt=null,or=0,Ut}function xX(){for(;Rt!==null;)k8(Rt)}function SX(){for(;Rt!==null&&!GY();)k8(Rt)}function k8(t){var e=M8(t.alternate,t,sn);t.memoizedProps=t.pendingProps,e===null?D8(t):Rt=e,LT.current=null}function D8(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=vX(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ut=6,Rt=null;return}}else if(r=mX(r,e,sn),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ut===0&&(Ut=5)}function vo(t,e,r){var n=He,i=On.transition;try{On.transition=null,He=1,EX(t,e,r,n)}finally{On.transition=i,He=n}return null}function EX(t,e,r,n){do cl();while(Is!==null);if(Le&6)throw Error(G(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(G(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(iQ(t,s),t===Yt&&(Rt=Yt=null,or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||bh||(bh=!0,A8(sf,function(){return cl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=On.transition,On.transition=null;var o=He;He=1;var a=Le;Le|=4,LT.current=null,gX(t,r),I8(r,t),WQ(kO),af=!!jO,kO=jO=null,t.current=r,bX(r),YY(),Le=a,He=o,On.transition=s}else t.current=r;if(bh&&(bh=!1,Is=t,Sf=i),s=t.pendingLanes,s===0&&(Ms=null),JY(r.stateNode),Kr(t,Et()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(xf)throw xf=!1,t=eP,eP=null,t;return Sf&1&&t.tag!==0&&cl(),s=t.pendingLanes,s&1?t===tP?uc++:(uc=0,tP=t):uc=0,no(),null}function cl(){if(Is!==null){var t=mV(Sf),e=On.transition,r=He;try{if(On.transition=null,He=16>t?16:t,Is===null)var n=!1;else{if(t=Is,Is=null,Sf=0,Le&6)throw Error(G(331));var i=Le;for(Le|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:ac(8,c,s)}var d=c.child;if(d!==null)d.return=c,ce=d;else for(;ce!==null;){c=ce;var f=c.sibling,p=c.return;if(P8(c),c===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=s.alternate;if(m!==null){var g=m.child;if(g!==null){m.child=null;do{var w=g.sibling;g.sibling=null,g=w}while(g!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:ac(9,s,s.return)}var y=s.sibling;if(y!==null){y.return=s.return,ce=y;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){o=ce;var _=o.child;if(o.subtreeFlags&2064&&_!==null)_.return=o,ce=_;else e:for(o=v;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:ip(9,a)}}catch(x){bt(a,a.return,x)}if(a===o){ce=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ce=b;break e}ce=a.return}}if(Le=i,no(),mi&&typeof mi.onPostCommitFiberRoot=="function")try{mi.onPostCommitFiberRoot(Qf,t)}catch{}n=!0}return n}finally{He=r,On.transition=e}}return!1}function RR(t,e,r){e=ql(r,e),e=m8(t,e,1),t=qs(t,e,1),e=Rr(),t!==null&&(cd(t,1,e),Kr(t,e))}function bt(t,e,r){if(t.tag===3)RR(t,t,r);else for(;e!==null;){if(e.tag===3){RR(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Ms===null||!Ms.has(n))){t=ql(r,t),t=v8(e,t,1),e=qs(e,t,1),t=Rr(),e!==null&&(cd(e,1,t),Kr(e,t));break}}e=e.return}}function OX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&r,Yt===t&&(or&r)===r&&(Ut===4||Ut===3&&(or&130023424)===or&&500>Et()-zT?Mo(t,0):BT|=r),Kr(t,e)}function q8(t,e){e===0&&(t.mode&1?(e=uh,uh<<=1,!(uh&130023424)&&(uh=4194304)):e=1);var r=Rr();t=Ki(t,e),t!==null&&(cd(t,e,r),Kr(t,r))}function PX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),q8(t,r)}function TX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(G(314))}n!==null&&n.delete(e),q8(t,r)}var M8;M8=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hr.current)Wr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Wr=!1,pX(t,e,r);Wr=!!(t.flags&131072)}else Wr=!1,at&&e.flags&1048576&&BV(e,pf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;zh(t,e),t=e.pendingProps;var i=$l(e,_r.current);ul(e,r),i=DT(null,e,n,t,i,r);var s=qT();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vr(n)?(s=!0,hf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,RT(e),i.updater=np,e.stateNode=i,i._reactInternals=e,UO(e,n,t,r),e=VO(null,e,n,!0,s,r)):(e.tag=0,at&&s&&ST(e),Or(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(zh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=IX(n),t=An(n,t),i){case 0:e=HO(null,e,n,t,r);break e;case 1:e=wR(null,e,n,t,r);break e;case 11:e=gR(null,e,n,t,r);break e;case 14:e=bR(null,e,n,An(n.type,t),r);break e}throw Error(G(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),HO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),wR(t,e,n,i,r);case 3:e:{if(w8(e),t===null)throw Error(G(387));n=e.pendingProps,s=e.memoizedState,i=s.element,KV(t,e),yf(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=ql(Error(G(423)),e),e=_R(t,e,n,r,i);break e}else if(n!==i){i=ql(Error(G(424)),e),e=_R(t,e,n,r,i);break e}else for(ln=Ds(e.stateNode.containerInfo.firstChild),un=e,at=!0,zn=null,r=HV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(jl(),n===i){e=Gi(t,e,r);break e}Or(t,e,n,r)}e=e.child}return e;case 5:return GV(e),t===null&&LO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,DO(n,i)?o=null:s!==null&&DO(n,s)&&(e.flags|=32),b8(t,e),Or(t,e,o,r),e.child;case 6:return t===null&&LO(e),null;case 13:return _8(t,e,r);case 4:return NT(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=kl(e,null,n,r):Or(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),gR(t,e,n,i,r);case 7:return Or(t,e,e.pendingProps,r),e.child;case 8:return Or(t,e,e.pendingProps.children,r),e.child;case 12:return Or(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(mf,n._currentValue),n._currentValue=o,s!==null)if(Yn(s.value,o)){if(s.children===i.children&&!Hr.current){e=Gi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Di(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),BO(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(G(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),BO(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Or(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,ul(e,r),i=Cn(i),n=n(i),e.flags|=1,Or(t,e,n,r),e.child;case 14:return n=e.type,i=An(n,e.pendingProps),i=An(n.type,i),bR(t,e,n,i,r);case 15:return y8(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),zh(t,e),e.tag=1,Vr(n)?(t=!0,hf(e)):t=!1,ul(e,r),p8(e,n,i),UO(e,n,i,r),VO(null,e,n,!0,t,r);case 19:return x8(t,e,r);case 22:return g8(t,e,r)}throw Error(G(156,e.tag))};function A8(t,e){return dV(t,e)}function CX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function En(t,e,r,n){return new CX(t,e,r,n)}function VT(t){return t=t.prototype,!(!t||!t.isReactComponent)}function IX(t){if(typeof t=="function")return VT(t)?1:0;if(t!=null){if(t=t.$$typeof,t===dT)return 11;if(t===hT)return 14}return 2}function Fs(t,e){var r=t.alternate;return r===null?(r=En(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Hh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")VT(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case za:return Ao(r.children,i,s,e);case cT:o=8,i|=8;break;case fO:return t=En(12,r,e,i|2),t.elementType=fO,t.lanes=s,t;case pO:return t=En(13,r,e,i),t.elementType=pO,t.lanes=s,t;case mO:return t=En(19,r,e,i),t.elementType=mO,t.lanes=s,t;case GH:return op(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case VH:o=10;break e;case KH:o=9;break e;case dT:o=11;break e;case hT:o=14;break e;case cs:o=16,n=null;break e}throw Error(G(130,t==null?t:typeof t,""))}return e=En(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ao(t,e,r,n){return t=En(7,t,n,e),t.lanes=r,t}function op(t,e,r,n){return t=En(22,t,n,e),t.elementType=GH,t.lanes=r,t.stateNode={isHidden:!1},t}function Im(t,e,r){return t=En(6,t,null,e),t.lanes=r,t}function Rm(t,e,r){return e=En(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function RX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=cm(0),this.expirationTimes=cm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=cm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function KT(t,e,r,n,i,s,o,a,l){return t=new RX(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=En(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},RT(s),t}function NX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ba,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function F8(t){if(!t)return Ys;t=t._reactInternals;e:{if(ha(t)!==t||t.tag!==1)throw Error(G(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(G(171))}if(t.tag===1){var r=t.type;if(Vr(r))return FV(t,r,e)}return e}function L8(t,e,r,n,i,s,o,a,l){return t=KT(r,n,!0,t,i,s,o,a,l),t.context=F8(null),r=t.current,n=Rr(),i=As(r),s=Di(n,i),s.callback=e??null,qs(r,s,i),t.current.lanes=i,cd(t,i,n),Kr(t,n),t}function ap(t,e,r,n){var i=e.current,s=Rr(),o=As(i);return r=F8(r),e.context===null?e.context=r:e.pendingContext=r,e=Di(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=qs(i,e,o),t!==null&&(Gn(t,i,o,s),Fh(t,i,o)),o}function Of(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function NR(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function GT(t,e){NR(t,e),(t=t.alternate)&&NR(t,e)}function $X(){return null}var B8=typeof reportError=="function"?reportError:function(t){console.error(t)};function YT(t){this._internalRoot=t}lp.prototype.render=YT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(G(409));ap(t,e,null,null)};lp.prototype.unmount=YT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Qo(function(){ap(null,t,null,null)}),e[Vi]=null}};function lp(t){this._internalRoot=t}lp.prototype.unstable_scheduleHydration=function(t){if(t){var e=gV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ms.length&&e!==0&&e<ms[r].priority;r++);ms.splice(r,0,t),r===0&&wV(t)}};function QT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function up(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function $R(){}function jX(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Of(o);s.call(u)}}var o=L8(e,n,t,0,null,!1,!1,"",$R);return t._reactRootContainer=o,t[Vi]=o.current,Tc(t.nodeType===8?t.parentNode:t),Qo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=Of(l);a.call(u)}}var l=KT(t,0,!1,null,null,!1,!1,"",$R);return t._reactRootContainer=l,t[Vi]=l.current,Tc(t.nodeType===8?t.parentNode:t),Qo(function(){ap(e,l,r,n)}),l}function cp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=Of(o);a.call(l)}}ap(e,o,t,i)}else o=jX(r,e,t,i,n);return Of(o)}vV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Qu(e.pendingLanes);r!==0&&(mT(e,r|1),Kr(e,Et()),!(Le&6)&&(Ml=Et()+500,no()))}break;case 13:Qo(function(){var n=Ki(t,1);if(n!==null){var i=Rr();Gn(n,t,1,i)}}),GT(t,1)}};vT=function(t){if(t.tag===13){var e=Ki(t,134217728);if(e!==null){var r=Rr();Gn(e,t,134217728,r)}GT(t,134217728)}};yV=function(t){if(t.tag===13){var e=As(t),r=Ki(t,e);if(r!==null){var n=Rr();Gn(r,t,e,n)}GT(t,e)}};gV=function(){return He};bV=function(t,e){var r=He;try{return He=t,e()}finally{He=r}};OO=function(t,e,r){switch(e){case"input":if(gO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=ep(n);if(!i)throw Error(G(90));QH(n),gO(n,i)}}}break;case"textarea":JH(t,r);break;case"select":e=r.value,e!=null&&sl(t,!!r.multiple,e,!1)}};sV=UT;oV=Qo;var kX={usingClientEntryPoint:!1,Events:[hd,Va,ep,nV,iV,UT]},Fu={findFiberByHostInstance:go,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},DX={bundleType:Fu.bundleType,version:Fu.version,rendererPackageName:Fu.rendererPackageName,rendererConfig:Fu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Yi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=uV(t),t===null?null:t.stateNode},findFiberByHostInstance:Fu.findFiberByHostInstance||$X,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var wh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!wh.isDisabled&&wh.supportsFiber)try{Qf=wh.inject(DX),mi=wh}catch{}}dn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kX;dn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!QT(e))throw Error(G(200));return NX(t,e,null,r)};dn.createRoot=function(t,e){if(!QT(t))throw Error(G(299));var r=!1,n="",i=B8;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=KT(t,1,!1,null,null,r,!1,n,i),t[Vi]=e.current,Tc(t.nodeType===8?t.parentNode:t),new YT(e)};dn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(G(188)):(t=Object.keys(t).join(","),Error(G(268,t)));return t=uV(e),t=t===null?null:t.stateNode,t};dn.flushSync=function(t){return Qo(t)};dn.hydrate=function(t,e,r){if(!up(e))throw Error(G(200));return cp(null,t,e,!0,r)};dn.hydrateRoot=function(t,e,r){if(!QT(t))throw Error(G(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=B8;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=L8(e,null,t,1,r??null,i,!1,s,o),t[Vi]=e.current,Tc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new lp(e)};dn.render=function(t,e,r){if(!up(e))throw Error(G(200));return cp(null,t,e,!1,r)};dn.unmountComponentAtNode=function(t){if(!up(t))throw Error(G(40));return t._reactRootContainer?(Qo(function(){cp(null,null,t,!1,function(){t._reactRootContainer=null,t[Vi]=null})}),!0):!1};dn.unstable_batchedUpdates=UT;dn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!up(r))throw Error(G(200));if(t==null||t._reactInternals===void 0)throw Error(G(38));return cp(t,e,r,!1,n)};dn.version="18.3.1-next-f1338f8080-20240426";function z8(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(z8)}catch(t){console.error(t)}}z8(),zH.exports=dn;var qX=zH.exports,jR=qX;dO.createRoot=jR.createRoot,dO.hydrateRoot=jR.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function qc(){return qc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},qc.apply(this,arguments)}var Rs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Rs||(Rs={}));const kR="popstate";function MX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return iP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Pf(i)}return FX(e,r,null,t)}function dt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function XT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function AX(){return Math.random().toString(36).substr(2,8)}function DR(t,e){return{usr:t.state,key:t.key,idx:e}}function iP(t,e,r,n){return r===void 0&&(r=null),qc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Zl(e):e,{state:r,key:e&&e.key||n||AX()})}function Pf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Zl(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function FX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=Rs.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(qc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function d(){a=Rs.Pop;let w=c(),y=w==null?null:w-u;u=w,l&&l({action:a,location:g.location,delta:y})}function f(w,y){a=Rs.Push;let v=iP(g.location,w,y);u=c()+1;let _=DR(v,u),b=g.createHref(v);try{o.pushState(_,"",b)}catch(x){if(x instanceof DOMException&&x.name==="DataCloneError")throw x;i.location.assign(b)}s&&l&&l({action:a,location:g.location,delta:1})}function p(w,y){a=Rs.Replace;let v=iP(g.location,w,y);u=c();let _=DR(v,u),b=g.createHref(v);o.replaceState(_,"",b),s&&l&&l({action:a,location:g.location,delta:0})}function m(w){let y=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof w=="string"?w:Pf(w);return v=v.replace(/ $/,"%20"),dt(y,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,y)}let g={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(kR,d),l=w,()=>{i.removeEventListener(kR,d),l=null}},createHref(w){return e(i,w)},createURL:m,encodeLocation(w){let y=m(w);return{pathname:y.pathname,search:y.search,hash:y.hash}},push:f,replace:p,go(w){return o.go(w)}};return g}var qR;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(qR||(qR={}));function LX(t,e,r){return r===void 0&&(r="/"),BX(t,e,r)}function BX(t,e,r,n){let i=typeof e=="string"?Zl(e):e,s=Al(i.pathname||"/",r);if(s==null)return null;let o=U8(t);zX(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=ZX(s);a=XX(o[l],u)}return a}function U8(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(dt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ls([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(dt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),U8(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:YX(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of W8(s.path))i(s,o,l)}),e}function W8(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=W8(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function zX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:QX(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const UX=/^:[\w-]+$/,WX=3,HX=2,VX=1,KX=10,GX=-2,MR=t=>t==="*";function YX(t,e){let r=t.split("/"),n=r.length;return r.some(MR)&&(n+=GX),e&&(n+=HX),r.filter(i=>!MR(i)).reduce((i,s)=>i+(UX.test(s)?WX:s===""?VX:KX),n)}function QX(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function XX(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",d=sP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!d)return null;Object.assign(i,d.params),o.push({params:i,pathname:Ls([s,d.pathname]),pathnameBase:iJ(Ls([s,d.pathnameBase])),route:f}),d.pathnameBase!=="/"&&(s=Ls([s,d.pathnameBase]))}return o}function sP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=JX(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,d)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let g=a[d]||"";o=s.slice(0,s.length-g.length).replace(/(.)\/+$/,"$1")}const m=a[d];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function JX(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),XT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function ZX(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return XT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const eJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,tJ=t=>eJ.test(t);function rJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Zl(t):t,s;if(r)if(tJ(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),XT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=AR(r.substring(1),"/"):s=AR(r,e)}else s=e;return{pathname:s,search:sJ(n),hash:oJ(i)}}function AR(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Nm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function nJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function JT(t,e){let r=nJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function ZT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Zl(t):(i=qc({},t),dt(!i.pathname||!i.pathname.includes("?"),Nm("?","pathname","search",i)),dt(!i.pathname||!i.pathname.includes("#"),Nm("#","pathname","hash",i)),dt(!i.search||!i.search.includes("#"),Nm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let d=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),d-=1;i.pathname=f.join("/")}a=d>=0?e[d]:"/"}let l=rJ(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ls=t=>t.join("/").replace(/\/\/+/g,"/"),iJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),sJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function aJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const H8=["post","put","patch","delete"];new Set(H8);const lJ=["get",...H8];new Set(lJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Mc(){return Mc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Mc.apply(this,arguments)}const dp=k.createContext(null),V8=k.createContext(null),Qi=k.createContext(null),hp=k.createContext(null),Xi=k.createContext({outlet:null,matches:[],isDataRoute:!1}),K8=k.createContext(null);function uJ(t,e){let{relative:r}=e===void 0?{}:e;eu()||dt(!1);let{basename:n,navigator:i}=k.useContext(Qi),{hash:s,pathname:o,search:a}=fp(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:Ls([n,o])),i.createHref({pathname:l,search:a,hash:s})}function eu(){return k.useContext(hp)!=null}function Ji(){return eu()||dt(!1),k.useContext(hp).location}function G8(t){k.useContext(Qi).static||k.useLayoutEffect(t)}function Jr(){let{isDataRoute:t}=k.useContext(Xi);return t?xJ():cJ()}function cJ(){eu()||dt(!1);let t=k.useContext(dp),{basename:e,future:r,navigator:n}=k.useContext(Qi),{matches:i}=k.useContext(Xi),{pathname:s}=Ji(),o=JSON.stringify(JT(i,r.v7_relativeSplatPath)),a=k.useRef(!1);return G8(()=>{a.current=!0}),k.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let d=ZT(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(d.pathname=d.pathname==="/"?e:Ls([e,d.pathname])),(c.replace?n.replace:n.push)(d,c.state,c)},[e,n,o,s,t])}function Zi(){let{matches:t}=k.useContext(Xi),e=t[t.length-1];return e?e.params:{}}function fp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=k.useContext(Qi),{matches:i}=k.useContext(Xi),{pathname:s}=Ji(),o=JSON.stringify(JT(i,n.v7_relativeSplatPath));return k.useMemo(()=>ZT(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function dJ(t,e){return hJ(t,e)}function hJ(t,e,r,n){eu()||dt(!1);let{navigator:i}=k.useContext(Qi),{matches:s}=k.useContext(Xi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=Ji(),c;if(e){var d;let w=typeof e=="string"?Zl(e):e;l==="/"||(d=w.pathname)!=null&&d.startsWith(l)||dt(!1),c=w}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let m=LX(t,{pathname:p}),g=yJ(m&&m.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:Ls([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:Ls([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&g?k.createElement(hp.Provider,{value:{location:Mc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:Rs.Pop}},g):g}function fJ(){let t=_J(),e=aJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,null)}const pJ=k.createElement(fJ,null);class mJ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(Xi.Provider,{value:this.props.routeContext},k.createElement(K8.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function vJ(t){let{routeContext:e,match:r,children:n}=t,i=k.useContext(dp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(Xi.Provider,{value:e},n)}function yJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(d=>d.route.id&&(a==null?void 0:a[d.route.id])!==void 0);c>=0||dt(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let d=o[c];if((d.route.HydrateFallback||d.route.hydrateFallbackElement)&&(u=c),d.route.id){let{loaderData:f,errors:p}=r,m=d.route.loader&&f[d.route.id]===void 0&&(!p||p[d.route.id]===void 0);if(d.route.lazy||m){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,d,f)=>{let p,m=!1,g=null,w=null;r&&(p=a&&d.route.id?a[d.route.id]:void 0,g=d.route.errorElement||pJ,l&&(u<0&&f===0?(SJ("route-fallback"),m=!0,w=null):u===f&&(m=!0,w=d.route.hydrateFallbackElement||null)));let y=e.concat(o.slice(0,f+1)),v=()=>{let _;return p?_=g:m?_=w:d.route.Component?_=k.createElement(d.route.Component,null):d.route.element?_=d.route.element:_=c,k.createElement(vJ,{match:d,routeContext:{outlet:c,matches:y,isDataRoute:r!=null},children:_})};return r&&(d.route.ErrorBoundary||d.route.errorElement||f===0)?k.createElement(mJ,{location:r.location,revalidation:r.revalidation,component:g,error:p,children:v(),routeContext:{outlet:null,matches:y,isDataRoute:!0}}):v()},null)}var Y8=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Y8||{}),Q8=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Q8||{});function gJ(t){let e=k.useContext(dp);return e||dt(!1),e}function bJ(t){let e=k.useContext(V8);return e||dt(!1),e}function wJ(t){let e=k.useContext(Xi);return e||dt(!1),e}function X8(t){let e=wJ(),r=e.matches[e.matches.length-1];return r.route.id||dt(!1),r.route.id}function _J(){var t;let e=k.useContext(K8),r=bJ(),n=X8();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function xJ(){let{router:t}=gJ(Y8.UseNavigateStable),e=X8(Q8.UseNavigateStable),r=k.useRef(!1);return G8(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Mc({fromRouteId:e},s)))},[t,e])}const FR={};function SJ(t,e,r){FR[t]||(FR[t]=!0)}function EJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function J8(t){let{to:e,replace:r,state:n,relative:i}=t;eu()||dt(!1);let{future:s,static:o}=k.useContext(Qi),{matches:a}=k.useContext(Xi),{pathname:l}=Ji(),u=Jr(),c=ZT(e,JT(a,s.v7_relativeSplatPath),l,i==="path"),d=JSON.stringify(c);return k.useEffect(()=>u(JSON.parse(d),{replace:r,state:n,relative:i}),[u,d,i,r,n]),null}function it(t){dt(!1)}function OJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Rs.Pop,navigator:s,static:o=!1,future:a}=t;eu()&&dt(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:o,future:Mc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=Zl(n));let{pathname:c="/",search:d="",hash:f="",state:p=null,key:m="default"}=n,g=k.useMemo(()=>{let w=Al(c,l);return w==null?null:{location:{pathname:w,search:d,hash:f,state:p,key:m},navigationType:i}},[l,c,d,f,p,m,i]);return g==null?null:k.createElement(Qi.Provider,{value:u},k.createElement(hp.Provider,{children:r,value:g}))}function LR(t){let{children:e,location:r}=t;return dJ(oP(e),r)}new Promise(()=>{});function oP(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let s=[...e,i];if(n.type===k.Fragment){r.push.apply(r,oP(n.props.children,s));return}n.type!==it&&dt(!1),!n.props.index||!n.props.children||dt(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=oP(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Tf(){return Tf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Tf.apply(this,arguments)}function Z8(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function PJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function TJ(t,e){return t.button===0&&(!e||e==="_self")&&!PJ(t)}function aP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function CJ(t,e){let r=aP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const IJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],RJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],NJ="6";try{window.__reactRouterVersion=NJ}catch{}const $J=k.createContext({isTransitioning:!1}),jJ="startTransition",BR=OY[jJ];function kJ(t){let{basename:e,children:r,future:n,window:i}=t,s=k.useRef();s.current==null&&(s.current=MX({window:i,v5Compat:!0}));let o=s.current,[a,l]=k.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=k.useCallback(d=>{u&&BR?BR(()=>l(d)):l(d)},[l,u]);return k.useLayoutEffect(()=>o.listen(c),[o,c]),k.useEffect(()=>EJ(n),[n]),k.createElement(OJ,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const DJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ye=k.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:d}=e,f=Z8(e,IJ),{basename:p}=k.useContext(Qi),m,g=!1;if(typeof u=="string"&&qJ.test(u)&&(m=u,DJ))try{let _=new URL(window.location.href),b=u.startsWith("//")?new URL(_.protocol+u):new URL(u),x=Al(b.pathname,p);b.origin===_.origin&&x!=null?u=x+b.search+b.hash:g=!0}catch{}let w=uJ(u,{relative:i}),y=FJ(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:d});function v(_){n&&n(_),_.defaultPrevented||y(_)}return k.createElement("a",Tf({},f,{href:m||w,onClick:g||s?n:v,ref:r,target:l}))}),MJ=k.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,d=Z8(e,RJ),f=fp(l,{relative:d.relative}),p=Ji(),m=k.useContext(V8),{navigator:g,basename:w}=k.useContext(Qi),y=m!=null&&BJ(f)&&u===!0,v=g.encodeLocation?g.encodeLocation(f).pathname:f.pathname,_=p.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(_=_.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&w&&(b=Al(b,w)||b);const x=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=_===v||!o&&_.startsWith(v)&&_.charAt(x)==="/",T=b!=null&&(b===v||!o&&b.startsWith(v)&&b.charAt(v.length)==="/"),S={isActive:E,isPending:T,isTransitioning:y},O=E?n:void 0,P;typeof s=="function"?P=s(S):P=[s,E?"active":null,T?"pending":null,y?"transitioning":null].filter(Boolean).join(" ");let I=typeof a=="function"?a(S):a;return k.createElement(ye,Tf({},d,{"aria-current":O,className:P,ref:r,style:I,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var lP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(lP||(lP={}));var zR;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(zR||(zR={}));function AJ(t){let e=k.useContext(dp);return e||dt(!1),e}function FJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=Jr(),u=Ji(),c=fp(t,{relative:o});return k.useCallback(d=>{if(TJ(d,r)){d.preventDefault();let f=n!==void 0?n:Pf(u)===Pf(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}function LJ(t){let e=k.useRef(aP(t)),r=k.useRef(!1),n=Ji(),i=k.useMemo(()=>CJ(n.search,r.current?null:e.current),[n.search]),s=Jr(),o=k.useCallback((a,l)=>{const u=aP(typeof a=="function"?a(i):a);r.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function BJ(t,e){e===void 0&&(e={});let r=k.useContext($J);r==null&&dt(!1);let{basename:n}=AJ(lP.useViewTransitionState),i=fp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Al(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Al(r.nextLocation.pathname,n)||r.nextLocation.pathname;return sP(i.pathname,o)!=null||sP(i.pathname,s)!=null}var fa=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},gs,rT,bH,UJ=(bH=class{constructor(){ue(this,gs,zJ);ue(this,rT,!1)}setTimeoutProvider(t){ne(this,gs,t)}setTimeout(t,e){return N(this,gs).setTimeout(t,e)}clearTimeout(t){N(this,gs).clearTimeout(t)}setInterval(t,e){return N(this,gs).setInterval(t,e)}clearInterval(t){N(this,gs).clearInterval(t)}},gs=new WeakMap,rT=new WeakMap,bH),_o=new UJ;function WJ(t){setTimeout(t,0)}var Xo=typeof window>"u"||"Deno"in globalThis;function vr(){}function HJ(t,e){return typeof t=="function"?t(e):t}function uP(t){return typeof t=="number"&&t>=0&&t!==1/0}function e7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Bs(t,e){return typeof t=="function"?t(e):t}function bn(t,e){return typeof t=="function"?t(e):t}function UR(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==eC(o,e.options))return!1}else if(!Ac(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function WR(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Jo(e.options.mutationKey)!==Jo(s))return!1}else if(!Ac(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function eC(t,e){return((e==null?void 0:e.queryKeyHashFn)||Jo)(t)}function Jo(t){return JSON.stringify(t,(e,r)=>cP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ac(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ac(t[r],e[r])):!1}var VJ=Object.prototype.hasOwnProperty;function tC(t,e){if(t===e)return t;const r=HR(t)&&HR(e);if(!r&&!(cP(t)&&cP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=r?u:s[u],d=t[c],f=e[c];if(d===f){a[c]=d,(r?u<i:VJ.call(t,c))&&l++;continue}if(d===null||f===null||typeof d!="object"||typeof f!="object"){a[c]=f;continue}const p=tC(d,f);a[c]=p,p===d&&l++}return i===o&&l===i?t:a}function Fc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function HR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function cP(t){if(!VR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!VR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function VR(t){return Object.prototype.toString.call(t)==="[object Object]"}function KJ(t){return new Promise(e=>{_o.setTimeout(e,t)})}function dP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?tC(t,e):e}function GJ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function YJ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var rC=Symbol();function t7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===rC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function nC(t,e){return typeof t=="function"?t(...e):!!t}function QJ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Co,bs,vl,wH,XJ=(wH=class extends fa{constructor(){super();ue(this,Co);ue(this,bs);ue(this,vl);ne(this,vl,e=>{if(!Xo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){N(this,bs)||this.setEventListener(N(this,vl))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,bs))==null||e.call(this),ne(this,bs,void 0))}setEventListener(e){var r;ne(this,vl,e),(r=N(this,bs))==null||r.call(this),ne(this,bs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){N(this,Co)!==e&&(ne(this,Co,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof N(this,Co)=="boolean"?N(this,Co):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Co=new WeakMap,bs=new WeakMap,vl=new WeakMap,wH),iC=new XJ;function hP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var JJ=WJ;function ZJ(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=JJ;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var xt=ZJ(),yl,ws,gl,_H,eZ=(_H=class extends fa{constructor(){super();ue(this,yl,!0);ue(this,ws);ue(this,gl);ne(this,gl,e=>{if(!Xo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){N(this,ws)||this.setEventListener(N(this,gl))}onUnsubscribe(){var e;this.hasListeners()||((e=N(this,ws))==null||e.call(this),ne(this,ws,void 0))}setEventListener(e){var r;ne(this,gl,e),(r=N(this,ws))==null||r.call(this),ne(this,ws,e(this.setOnline.bind(this)))}setOnline(e){N(this,yl)!==e&&(ne(this,yl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return N(this,yl)}},yl=new WeakMap,ws=new WeakMap,gl=new WeakMap,_H),Cf=new eZ;function tZ(t){return Math.min(1e3*2**t,3e4)}function r7(t){return(t??"online")==="online"?Cf.isOnline():!0}var fP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function n7(t){let e=!1,r=0,n;const i=hP(),s=()=>i.status!=="pending",o=g=>{var w;if(!s()){const y=new fP(g);f(y),(w=t.onCancel)==null||w.call(t,y)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>iC.isFocused()&&(t.networkMode==="always"||Cf.isOnline())&&t.canRun(),c=()=>r7(t.networkMode)&&t.canRun(),d=g=>{s()||(n==null||n(),i.resolve(g))},f=g=>{s()||(n==null||n(),i.reject(g))},p=()=>new Promise(g=>{var w;n=y=>{(s()||u())&&g(y)},(w=t.onPause)==null||w.call(t)}).then(()=>{var g;n=void 0,s()||(g=t.onContinue)==null||g.call(t)}),m=()=>{if(s())return;let g;const w=r===0?t.initialPromise:void 0;try{g=w??t.fn()}catch(y){g=Promise.reject(y)}Promise.resolve(g).then(d).catch(y=>{var E;if(s())return;const v=t.retry??(Xo?0:3),_=t.retryDelay??tZ,b=typeof _=="function"?_(r,y):_,x=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,y);if(e||!x){f(y);return}r++,(E=t.onFail)==null||E.call(t,r,y),KJ(b).then(()=>u()?void 0:p()).then(()=>{e?f(y):m()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?m():p().then(m),i)}}var Io,xH,i7=(xH=class{constructor(){ue(this,Io)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),uP(this.gcTime)&&ne(this,Io,_o.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Xo?1/0:5*60*1e3))}clearGcTimeout(){N(this,Io)&&(_o.clearTimeout(N(this,Io)),ne(this,Io,void 0))}},Io=new WeakMap,xH),Ro,bl,yn,No,Vt,td,$o,Fn,Ei,SH,rZ=(SH=class extends i7{constructor(e){super();ue(this,Fn);ue(this,Ro);ue(this,bl);ue(this,yn);ue(this,No);ue(this,Vt);ue(this,td);ue(this,$o);ne(this,$o,!1),ne(this,td,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,No,e.client),ne(this,yn,N(this,No).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,Ro,GR(this.options)),this.state=e.state??N(this,Ro),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=N(this,Vt))==null?void 0:e.promise}setOptions(e){if(this.options={...N(this,td),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=GR(this.options);r.data!==void 0&&(this.setState(KR(r.data,r.dataUpdatedAt)),ne(this,Ro,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&N(this,yn).remove(this)}setData(e,r){const n=dP(this.state.data,e,this.options);return _e(this,Fn,Ei).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){_e(this,Fn,Ei).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=N(this,Vt))==null?void 0:n.promise;return(i=N(this,Vt))==null||i.cancel(e),r?r.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(N(this,Ro))}isActive(){return this.observers.some(e=>bn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===rC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Bs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!e7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Vt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=N(this,Vt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),N(this,yn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(N(this,Vt)&&(N(this,$o)?N(this,Vt).cancel({revert:!0}):N(this,Vt).cancelRetry()),this.scheduleGc()),N(this,yn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,Fn,Ei).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,d,f,p,m,g,w,y,v,_;if(this.state.fetchStatus!=="idle"&&((l=N(this,Vt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(N(this,Vt))return N(this,Vt).continueRetry(),N(this,Vt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(x=>x.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ne(this,$o,!0),n.signal)})},s=()=>{const b=t7(this.options,r),E=(()=>{const T={client:N(this,No),queryKey:this.queryKey,meta:this.meta};return i(T),T})();return ne(this,$o,!1),this.options.persister?this.options.persister(b,E,this):b(E)},a=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:N(this,No),state:this.state,fetchFn:s};return i(b),b})();(u=this.options.behavior)==null||u.onFetch(a,this),ne(this,bl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&_e(this,Fn,Ei).call(this,{type:"fetch",meta:(d=a.fetchOptions)==null?void 0:d.meta}),ne(this,Vt,n7({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:b=>{b instanceof fP&&b.revert&&this.setState({...N(this,bl),fetchStatus:"idle"}),n.abort()},onFail:(b,x)=>{_e(this,Fn,Ei).call(this,{type:"failed",failureCount:b,error:x})},onPause:()=>{_e(this,Fn,Ei).call(this,{type:"pause"})},onContinue:()=>{_e(this,Fn,Ei).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const b=await N(this,Vt).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=N(this,yn).config).onSuccess)==null||p.call(f,b,this),(g=(m=N(this,yn).config).onSettled)==null||g.call(m,b,this.state.error,this),b}catch(b){if(b instanceof fP){if(b.silent)return N(this,Vt).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw _e(this,Fn,Ei).call(this,{type:"error",error:b}),(y=(w=N(this,yn).config).onError)==null||y.call(w,b,this),(_=(v=N(this,yn).config).onSettled)==null||_.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ro=new WeakMap,bl=new WeakMap,yn=new WeakMap,No=new WeakMap,Vt=new WeakMap,td=new WeakMap,$o=new WeakMap,Fn=new WeakSet,Ei=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...s7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...KR(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,bl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),xt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),N(this,yn).notify({query:this,type:"updated",action:e})})},SH);function s7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:r7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function KR(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function GR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Ar,Ae,rd,xr,jo,wl,Ti,_s,nd,_l,xl,ko,Do,xs,Sl,ze,Ju,pP,mP,vP,yP,gP,bP,wP,o7,EH,sC=(EH=class extends fa{constructor(e,r){super();ue(this,ze);ue(this,Ar);ue(this,Ae);ue(this,rd);ue(this,xr);ue(this,jo);ue(this,wl);ue(this,Ti);ue(this,_s);ue(this,nd);ue(this,_l);ue(this,xl);ue(this,ko);ue(this,Do);ue(this,xs);ue(this,Sl,new Set);this.options=r,ne(this,Ar,e),ne(this,_s,null),ne(this,Ti,hP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(N(this,Ae).addObserver(this),YR(N(this,Ae),this.options)?_e(this,ze,Ju).call(this):this.updateResult(),_e(this,ze,yP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return _P(N(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return _P(N(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,ze,gP).call(this),_e(this,ze,bP).call(this),N(this,Ae).removeObserver(this)}setOptions(e){const r=this.options,n=N(this,Ae);if(this.options=N(this,Ar).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof bn(this.options.enabled,N(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,ze,wP).call(this),N(this,Ae).setOptions(this.options),r._defaulted&&!Fc(this.options,r)&&N(this,Ar).getQueryCache().notify({type:"observerOptionsUpdated",query:N(this,Ae),observer:this});const i=this.hasListeners();i&&QR(N(this,Ae),n,this.options,r)&&_e(this,ze,Ju).call(this),this.updateResult(),i&&(N(this,Ae)!==n||bn(this.options.enabled,N(this,Ae))!==bn(r.enabled,N(this,Ae))||Bs(this.options.staleTime,N(this,Ae))!==Bs(r.staleTime,N(this,Ae)))&&_e(this,ze,pP).call(this);const s=_e(this,ze,mP).call(this);i&&(N(this,Ae)!==n||bn(this.options.enabled,N(this,Ae))!==bn(r.enabled,N(this,Ae))||s!==N(this,xs))&&_e(this,ze,vP).call(this,s)}getOptimisticResult(e){const r=N(this,Ar).getQueryCache().build(N(this,Ar),e),n=this.createResult(r,e);return iZ(this,n)&&(ne(this,xr,n),ne(this,wl,this.options),ne(this,jo,N(this,Ae).state)),n}getCurrentResult(){return N(this,xr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&N(this,Ti).status==="pending"&&N(this,Ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){N(this,Sl).add(e)}getCurrentQuery(){return N(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=N(this,Ar).defaultQueryOptions(e),n=N(this,Ar).getQueryCache().build(N(this,Ar),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return _e(this,ze,Ju).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),N(this,xr)))}createResult(e,r){var O;const n=N(this,Ae),i=this.options,s=N(this,xr),o=N(this,jo),a=N(this,wl),u=e!==n?e.state:N(this,rd),{state:c}=e;let d={...c},f=!1,p;if(r._optimisticResults){const P=this.hasListeners(),I=!P&&YR(e,r),C=P&&QR(e,n,r,i);(I||C)&&(d={...d,...s7(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(d.fetchStatus="idle")}let{error:m,errorUpdatedAt:g,status:w}=d;p=d.data;let y=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let P;s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(P=s.data,y=!0):P=typeof r.placeholderData=="function"?r.placeholderData((O=N(this,xl))==null?void 0:O.state.data,N(this,xl)):r.placeholderData,P!==void 0&&(w="success",p=dP(s==null?void 0:s.data,P,r),f=!0)}if(r.select&&p!==void 0&&!y)if(s&&p===(o==null?void 0:o.data)&&r.select===N(this,nd))p=N(this,_l);else try{ne(this,nd,r.select),p=r.select(p),p=dP(s==null?void 0:s.data,p,r),ne(this,_l,p),ne(this,_s,null)}catch(P){ne(this,_s,P)}N(this,_s)&&(m=N(this,_s),p=N(this,_l),g=Date.now(),w="error");const v=d.fetchStatus==="fetching",_=w==="pending",b=w==="error",x=_&&v,E=p!==void 0,S={status:w,fetchStatus:d.fetchStatus,isPending:_,isSuccess:w==="success",isError:b,isInitialLoading:x,isLoading:x,data:p,dataUpdatedAt:d.dataUpdatedAt,error:m,errorUpdatedAt:g,failureCount:d.fetchFailureCount,failureReason:d.fetchFailureReason,errorUpdateCount:d.errorUpdateCount,isFetched:d.dataUpdateCount>0||d.errorUpdateCount>0,isFetchedAfterMount:d.dataUpdateCount>u.dataUpdateCount||d.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!_,isLoadingError:b&&!E,isPaused:d.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:oC(e,r),refetch:this.refetch,promise:N(this,Ti),isEnabled:bn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=R=>{S.status==="error"?R.reject(S.error):S.data!==void 0&&R.resolve(S.data)},I=()=>{const R=ne(this,Ti,S.promise=hP());P(R)},C=N(this,Ti);switch(C.status){case"pending":e.queryHash===n.queryHash&&P(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&I();break}}return S}updateResult(){const e=N(this,xr),r=this.createResult(N(this,Ae),this.options);if(ne(this,jo,N(this,Ae).state),ne(this,wl,this.options),N(this,jo).data!==void 0&&ne(this,xl,N(this,Ae)),Fc(r,e))return;ne(this,xr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!N(this,Sl).size)return!0;const o=new Set(s??N(this,Sl));return this.options.throwOnError&&o.add("error"),Object.keys(N(this,xr)).some(a=>{const l=a;return N(this,xr)[l]!==e[l]&&o.has(l)})};_e(this,ze,o7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,ze,yP).call(this)}},Ar=new WeakMap,Ae=new WeakMap,rd=new WeakMap,xr=new WeakMap,jo=new WeakMap,wl=new WeakMap,Ti=new WeakMap,_s=new WeakMap,nd=new WeakMap,_l=new WeakMap,xl=new WeakMap,ko=new WeakMap,Do=new WeakMap,xs=new WeakMap,Sl=new WeakMap,ze=new WeakSet,Ju=function(e){_e(this,ze,wP).call(this);let r=N(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(vr)),r},pP=function(){_e(this,ze,gP).call(this);const e=Bs(this.options.staleTime,N(this,Ae));if(Xo||N(this,xr).isStale||!uP(e))return;const n=e7(N(this,xr).dataUpdatedAt,e)+1;ne(this,ko,_o.setTimeout(()=>{N(this,xr).isStale||this.updateResult()},n))},mP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(N(this,Ae)):this.options.refetchInterval)??!1},vP=function(e){_e(this,ze,bP).call(this),ne(this,xs,e),!(Xo||bn(this.options.enabled,N(this,Ae))===!1||!uP(N(this,xs))||N(this,xs)===0)&&ne(this,Do,_o.setInterval(()=>{(this.options.refetchIntervalInBackground||iC.isFocused())&&_e(this,ze,Ju).call(this)},N(this,xs)))},yP=function(){_e(this,ze,pP).call(this),_e(this,ze,vP).call(this,_e(this,ze,mP).call(this))},gP=function(){N(this,ko)&&(_o.clearTimeout(N(this,ko)),ne(this,ko,void 0))},bP=function(){N(this,Do)&&(_o.clearInterval(N(this,Do)),ne(this,Do,void 0))},wP=function(){const e=N(this,Ar).getQueryCache().build(N(this,Ar),this.options);if(e===N(this,Ae))return;const r=N(this,Ae);ne(this,Ae,e),ne(this,rd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},o7=function(e){xt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(N(this,xr))}),N(this,Ar).getQueryCache().notify({query:N(this,Ae),type:"observerResultsUpdated"})})},EH);function nZ(t,e){return bn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function YR(t,e){return nZ(t,e)||t.state.data!==void 0&&_P(t,e,e.refetchOnMount)}function _P(t,e,r){if(bn(e.enabled,t)!==!1&&Bs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&oC(t,e)}return!1}function QR(t,e,r,n){return(t!==e||bn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&oC(t,r)}function oC(t,e){return bn(e.enabled,t)!==!1&&t.isStaleByTime(Bs(e.staleTime,t))}function iZ(t,e){return!Fc(t.getCurrentResult(),e)}function XR(t){return{onFetch:(e,r)=>{var c,d,f,p,m;const n=e.options,i=(f=(d=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:d.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((m=e.state.data)==null?void 0:m.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let g=!1;const w=_=>{QJ(_,()=>e.signal,()=>g=!0)},y=t7(e.options,e.fetchOptions),v=async(_,b,x)=>{if(g)return Promise.reject();if(b==null&&_.pages.length)return Promise.resolve(_);const T=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:b,direction:x?"backward":"forward",meta:e.options.meta};return w(I),I})(),S=await y(T),{maxPages:O}=e.options,P=x?YJ:GJ;return{pages:P(_.pages,S,O),pageParams:P(_.pageParams,b,O)}};if(i&&s.length){const _=i==="backward",b=_?sZ:JR,x={pages:s,pageParams:o},E=b(n,x);a=await v(x,E,_)}else{const _=t??s.length;do{const b=l===0?o[0]??n.initialPageParam:JR(n,a);if(l>0&&b==null)break;a=await v(a,b),l++}while(l<_)}return a};e.options.persister?e.fetchFn=()=>{var g,w;return(w=(g=e.options).persister)==null?void 0:w.call(g,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function JR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function sZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var id,oi,Sr,qo,ai,us,OH,oZ=(OH=class extends i7{constructor(e){super();ue(this,ai);ue(this,id);ue(this,oi);ue(this,Sr);ue(this,qo);ne(this,id,e.client),this.mutationId=e.mutationId,ne(this,Sr,e.mutationCache),ne(this,oi,[]),this.state=e.state||a7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){N(this,oi).includes(e)||(N(this,oi).push(e),this.clearGcTimeout(),N(this,Sr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,oi,N(this,oi).filter(r=>r!==e)),this.scheduleGc(),N(this,Sr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){N(this,oi).length||(this.state.status==="pending"?this.scheduleGc():N(this,Sr).remove(this))}continue(){var e;return((e=N(this,qo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,c,d,f,p,m,g,w,y,v,_,b,x,E,T,S,O;const r=()=>{_e(this,ai,us).call(this,{type:"continue"})},n={client:N(this,id),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,qo,n7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,I)=>{_e(this,ai,us).call(this,{type:"failed",failureCount:P,error:I})},onPause:()=>{_e(this,ai,us).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>N(this,Sr).canRun(this)}));const i=this.state.status==="pending",s=!N(this,qo).canStart();try{if(i)r();else{_e(this,ai,us).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=N(this,Sr).config).onMutate)==null?void 0:a.call(o,e,this,n));const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));I!==this.state.context&&_e(this,ai,us).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const P=await N(this,qo).start();return await((d=(c=N(this,Sr).config).onSuccess)==null?void 0:d.call(c,P,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,P,e,this.state.context,n)),await((g=(m=N(this,Sr).config).onSettled)==null?void 0:g.call(m,P,null,this.state.variables,this.state.context,this,n)),await((y=(w=this.options).onSettled)==null?void 0:y.call(w,P,null,e,this.state.context,n)),_e(this,ai,us).call(this,{type:"success",data:P}),P}catch(P){try{await((_=(v=N(this,Sr).config).onError)==null?void 0:_.call(v,P,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((x=(b=this.options).onError)==null?void 0:x.call(b,P,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((T=(E=N(this,Sr).config).onSettled)==null?void 0:T.call(E,void 0,P,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((O=(S=this.options).onSettled)==null?void 0:O.call(S,void 0,P,e,this.state.context,n))}catch(I){Promise.reject(I)}throw _e(this,ai,us).call(this,{type:"error",error:P}),P}finally{N(this,Sr).runNext(this)}}},id=new WeakMap,oi=new WeakMap,Sr=new WeakMap,qo=new WeakMap,ai=new WeakSet,us=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),xt.batch(()=>{N(this,oi).forEach(n=>{n.onMutationUpdate(e)}),N(this,Sr).notify({mutation:this,type:"updated",action:e})})},OH);function a7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ci,Ln,sd,PH,aZ=(PH=class extends fa{constructor(e={}){super();ue(this,Ci);ue(this,Ln);ue(this,sd);this.config=e,ne(this,Ci,new Set),ne(this,Ln,new Map),ne(this,sd,0)}build(e,r,n){const i=new oZ({client:e,mutationCache:this,mutationId:++nh(this,sd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){N(this,Ci).add(e);const r=_h(e);if(typeof r=="string"){const n=N(this,Ln).get(r);n?n.push(e):N(this,Ln).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(N(this,Ci).delete(e)){const r=_h(e);if(typeof r=="string"){const n=N(this,Ln).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&N(this,Ln).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=_h(e);if(typeof r=="string"){const n=N(this,Ln).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=_h(e);if(typeof r=="string"){const i=(n=N(this,Ln).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){xt.batch(()=>{N(this,Ci).forEach(e=>{this.notify({type:"removed",mutation:e})}),N(this,Ci).clear(),N(this,Ln).clear()})}getAll(){return Array.from(N(this,Ci))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>WR(r,n))}findAll(e={}){return this.getAll().filter(r=>WR(e,r))}notify(e){xt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return xt.batch(()=>Promise.all(e.map(r=>r.continue().catch(vr))))}},Ci=new WeakMap,Ln=new WeakMap,sd=new WeakMap,PH);function _h(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ii,Ss,Fr,Ri,Wi,Vh,xP,TH,lZ=(TH=class extends fa{constructor(e,r){super();ue(this,Wi);ue(this,Ii);ue(this,Ss);ue(this,Fr);ue(this,Ri);ne(this,Ii,e),this.setOptions(r),this.bindMethods(),_e(this,Wi,Vh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=N(this,Ii).defaultMutationOptions(e),Fc(this.options,r)||N(this,Ii).getMutationCache().notify({type:"observerOptionsUpdated",mutation:N(this,Fr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Jo(r.mutationKey)!==Jo(this.options.mutationKey)?this.reset():((n=N(this,Fr))==null?void 0:n.state.status)==="pending"&&N(this,Fr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=N(this,Fr))==null||e.removeObserver(this)}onMutationUpdate(e){_e(this,Wi,Vh).call(this),_e(this,Wi,xP).call(this,e)}getCurrentResult(){return N(this,Ss)}reset(){var e;(e=N(this,Fr))==null||e.removeObserver(this),ne(this,Fr,void 0),_e(this,Wi,Vh).call(this),_e(this,Wi,xP).call(this)}mutate(e,r){var n;return ne(this,Ri,r),(n=N(this,Fr))==null||n.removeObserver(this),ne(this,Fr,N(this,Ii).getMutationCache().build(N(this,Ii),this.options)),N(this,Fr).addObserver(this),N(this,Fr).execute(e)}},Ii=new WeakMap,Ss=new WeakMap,Fr=new WeakMap,Ri=new WeakMap,Wi=new WeakSet,Vh=function(){var r;const e=((r=N(this,Fr))==null?void 0:r.state)??a7();ne(this,Ss,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},xP=function(e){xt.batch(()=>{var r,n,i,s,o,a,l,u;if(N(this,Ri)&&this.hasListeners()){const c=N(this,Ss).variables,d=N(this,Ss).context,f={client:N(this,Ii),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=N(this,Ri)).onSuccess)==null||n.call(r,e.data,c,d,f)}catch(p){Promise.reject(p)}try{(s=(i=N(this,Ri)).onSettled)==null||s.call(i,e.data,null,c,d,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(a=(o=N(this,Ri)).onError)==null||a.call(o,e.error,c,d,f)}catch(p){Promise.reject(p)}try{(u=(l=N(this,Ri)).onSettled)==null||u.call(l,void 0,e.error,c,d,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(c=>{c(N(this,Ss))})})},TH);function ZR(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function uZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var El,nn,Ol,Pl,gn,Es,od,ad,ld,ur,SP,EP,OP,PP,TP,CH,cZ=(CH=class extends fa{constructor(e,r,n){super();ue(this,ur);ue(this,El);ue(this,nn);ue(this,Ol);ue(this,Pl);ue(this,gn);ue(this,Es);ue(this,od);ue(this,ad);ue(this,ld,[]);ne(this,El,e),ne(this,Pl,n),ne(this,Ol,[]),ne(this,gn,[]),ne(this,nn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&N(this,gn).forEach(e=>{e.subscribe(r=>{_e(this,ur,PP).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,N(this,gn).forEach(e=>{e.destroy()})}setQueries(e,r){ne(this,Ol,e),ne(this,Pl,r),xt.batch(()=>{const n=N(this,gn),i=_e(this,ur,OP).call(this,N(this,Ol));i.forEach(d=>d.observer.setOptions(d.defaultedQueryOptions));const s=i.map(d=>d.observer),o=s.map(d=>d.getCurrentResult()),a=n.length!==s.length,l=s.some((d,f)=>d!==n[f]),u=a||l,c=u?!0:o.some((d,f)=>{const p=N(this,nn)[f];return!p||!Fc(d,p)});!u&&!c||(u&&(ne(this,ld,i),ne(this,gn,s)),ne(this,nn,o),this.hasListeners()&&(u&&(ZR(n,s).forEach(d=>{d.destroy()}),ZR(s,n).forEach(d=>{d.subscribe(f=>{_e(this,ur,PP).call(this,d,f)})})),_e(this,ur,TP).call(this)))})}getCurrentResult(){return N(this,nn)}getQueries(){return N(this,gn).map(e=>e.getCurrentQuery())}getObservers(){return N(this,gn)}getOptimisticResult(e,r){const n=_e(this,ur,OP).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>_e(this,ur,EP).call(this,s??i,r),()=>_e(this,ur,SP).call(this,i,n)]}},El=new WeakMap,nn=new WeakMap,Ol=new WeakMap,Pl=new WeakMap,gn=new WeakMap,Es=new WeakMap,od=new WeakMap,ad=new WeakMap,ld=new WeakMap,ur=new WeakSet,SP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,o=>{r.forEach(a=>{a.observer.trackProp(o)})})})},EP=function(e,r){return r?((!N(this,Es)||N(this,nn)!==N(this,ad)||r!==N(this,od))&&(ne(this,od,r),ne(this,ad,N(this,nn)),ne(this,Es,tC(N(this,Es),r(e)))),N(this,Es)):e},OP=function(e){const r=new Map;N(this,gn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const o=r.get(s);o?o.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=N(this,El).defaultQueryOptions(i),a=((l=r.get(s.queryHash))==null?void 0:l.shift())??new sC(N(this,El),s);n.push({defaultedQueryOptions:s,observer:a})}),n},PP=function(e,r){const n=N(this,gn).indexOf(e);n!==-1&&(ne(this,nn,uZ(N(this,nn),n,r)),_e(this,ur,TP).call(this))},TP=function(){var e;if(this.hasListeners()){const r=N(this,Es),n=_e(this,ur,SP).call(this,N(this,nn),N(this,ld)),i=_e(this,ur,EP).call(this,n,(e=N(this,Pl))==null?void 0:e.combine);r!==i&&xt.batch(()=>{this.listeners.forEach(s=>{s(N(this,nn))})})}},CH),li,IH,dZ=(IH=class extends fa{constructor(e={}){super();ue(this,li);this.config=e,ne(this,li,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??eC(i,r);let o=this.get(s);return o||(o=new rZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){N(this,li).has(e.queryHash)||(N(this,li).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=N(this,li).get(e.queryHash);r&&(e.destroy(),r===e&&N(this,li).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){xt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return N(this,li).get(e)}getAll(){return[...N(this,li).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>UR(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>UR(e,n)):r}notify(e){xt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){xt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){xt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},li=new WeakMap,IH),gt,Os,Ps,Tl,Cl,Ts,Il,Rl,RH,hZ=(RH=class{constructor(t={}){ue(this,gt);ue(this,Os);ue(this,Ps);ue(this,Tl);ue(this,Cl);ue(this,Ts);ue(this,Il);ue(this,Rl);ne(this,gt,t.queryCache||new dZ),ne(this,Os,t.mutationCache||new aZ),ne(this,Ps,t.defaultOptions||{}),ne(this,Tl,new Map),ne(this,Cl,new Map),ne(this,Ts,0)}mount(){nh(this,Ts)._++,N(this,Ts)===1&&(ne(this,Il,iC.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,gt).onFocus())})),ne(this,Rl,Cf.subscribe(async t=>{t&&(await this.resumePausedMutations(),N(this,gt).onOnline())})))}unmount(){var t,e;nh(this,Ts)._--,N(this,Ts)===0&&((t=N(this,Il))==null||t.call(this),ne(this,Il,void 0),(e=N(this,Rl))==null||e.call(this),ne(this,Rl,void 0))}isFetching(t){return N(this,gt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return N(this,Os).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,gt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=N(this,gt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Bs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return N(this,gt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=N(this,gt).get(n.queryHash),s=i==null?void 0:i.state.data,o=HJ(e,s);if(o!==void 0)return N(this,gt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return xt.batch(()=>N(this,gt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=N(this,gt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=N(this,gt);xt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=N(this,gt);return xt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=xt.batch(()=>N(this,gt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(vr).catch(vr)}invalidateQueries(t,e={}){return xt.batch(()=>(N(this,gt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=xt.batch(()=>N(this,gt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(vr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=N(this,gt).build(this,e);return r.isStaleByTime(Bs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vr).catch(vr)}fetchInfiniteQuery(t){return t.behavior=XR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vr).catch(vr)}ensureInfiniteQueryData(t){return t.behavior=XR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Cf.isOnline()?N(this,Os).resumePausedMutations():Promise.resolve()}getQueryCache(){return N(this,gt)}getMutationCache(){return N(this,Os)}getDefaultOptions(){return N(this,Ps)}setDefaultOptions(t){ne(this,Ps,t)}setQueryDefaults(t,e){N(this,Tl).set(Jo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...N(this,Tl).values()],r={};return e.forEach(n=>{Ac(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){N(this,Cl).set(Jo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...N(this,Cl).values()],r={};return e.forEach(n=>{Ac(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...N(this,Ps).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=eC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===rC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...N(this,Ps).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){N(this,gt).clear(),N(this,Os).clear()}},gt=new WeakMap,Os=new WeakMap,Ps=new WeakMap,Tl=new WeakMap,Cl=new WeakMap,Ts=new WeakMap,Il=new WeakMap,Rl=new WeakMap,RH),l7=k.createContext(void 0),Dr=t=>{const e=k.useContext(l7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fZ=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),h.jsx(l7.Provider,{value:t,children:e})),u7=k.createContext(!1),c7=()=>k.useContext(u7);u7.Provider;function pZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mZ=k.createContext(pZ()),d7=()=>k.useContext(mZ),h7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?nC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},f7=t=>{k.useEffect(()=>{t.clearReset()},[t])},p7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||nC(r,[t.error,n])),m7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},v7=(t,e)=>t.isLoading&&t.isFetching&&!e,CP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,If=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function IP({queries:t,...e},r){const n=Dr(),i=c7(),s=d7(),o=k.useMemo(()=>t.map(g=>{const w=n.defaultQueryOptions(g);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[t,n,i]);o.forEach(g=>{m7(g);const w=n.getQueryCache().get(g.queryHash);h7(g,s,w)}),f7(s);const[a]=k.useState(()=>new cZ(n,o,e)),[l,u,c]=a.getOptimisticResult(o,e.combine),d=!i&&e.subscribed!==!1;k.useSyncExternalStore(k.useCallback(g=>d?a.subscribe(xt.batchCalls(g)):vr,[a,d]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),k.useEffect(()=>{a.setQueries(o,e)},[o,e,a]);const p=l.some((g,w)=>CP(o[w],g))?l.flatMap((g,w)=>{const y=o[w];if(y){const v=new sC(n,y);if(CP(y,g))return If(y,v,s);v7(g,i)&&If(y,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((g,w)=>{const y=o[w];return y&&p7({result:g,errorResetBoundary:s,throwOnError:y.throwOnError,query:n.getQueryCache().get(y.queryHash),suspense:y.suspense})});if(m!=null&&m.error)throw m.error;return u(c())}function vZ(t,e,r){var f,p,m,g;const n=c7(),i=d7(),s=Dr(),o=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o);const a=s.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",m7(o),h7(o,i,a),f7(i);const l=!s.getQueryCache().get(o.queryHash),[u]=k.useState(()=>new e(s,o)),c=u.getOptimisticResult(o),d=!n&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(w=>{const y=d?u.subscribe(xt.batchCalls(w)):vr;return u.updateResult(),y},[u,d]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(o)},[o,u]),CP(o,c))throw If(o,u,i);if(p7({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw c.error;if((g=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||g.call(m,o,c),o.experimental_prefetchInRender&&!Xo&&v7(c,n)){const w=l?If(o,u,i):a==null?void 0:a.promise;w==null||w.catch(vr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function ht(t,e){return vZ(t,sC)}function wr(t,e){const r=Dr(),[n]=k.useState(()=>new lZ(r,t));k.useEffect(()=>{n.setOptions(t)},[n,t]);const i=k.useSyncExternalStore(k.useCallback(o=>n.subscribe(xt.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=k.useCallback((o,a)=>{n.mutate(o,a).catch(vr)},[n]);if(i.error&&nC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function pp(){const t=window.prmConfig||{};return k.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var yZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Oe=(t,e)=>{const r=k.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>k.createElement("svg",{ref:c,...yZ,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${gZ(t)}`,a].join(" "),...u},[...e.map(([d,f])=>k.createElement(d,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eN=Oe("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bZ=Oe("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=Oe("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tN=Oe("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wZ=Oe("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _Z=Oe("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zo=Oe("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=Oe("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kh=Oe("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rN=Oe("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nN=Oe("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xZ=Oe("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SZ=Oe("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iN=Oe("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EZ=Oe("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RP=Oe("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=Oe("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=Oe("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=Oe("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sN=Oe("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oN=Oe("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=Oe("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=Oe("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=Oe("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=Oe("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=Oe("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=Oe("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xh=Oe("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=Oe("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gr=Oe("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y7=Oe("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qs=Oe("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g7=Oe("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b7=Oe("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=Oe("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=Oe("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lc=Oe("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hs=Oe("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aN=Oe("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=Oe("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bc=Oe("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xs=Oe("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=Oe("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=Oe("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Fl="Koinastra";function bi(t){k.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Fl;document.title=`${t} - ${r}`}},[t])}function MZ(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function S7(t=null){const e=Ji();k.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,o=MZ(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":o?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":o?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=Fl}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Fl;document.title=`${r} - ${n}`},[e.pathname,t])}function E7(t,e){return function(){return t.apply(e,arguments)}}const{toString:AZ}=Object.prototype,{getPrototypeOf:aC}=Object,{iterator:mp,toStringTag:O7}=Symbol,vp=(t=>e=>{const r=AZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),Jn=t=>(t=t.toLowerCase(),e=>vp(e)===t),yp=t=>e=>typeof e===t,{isArray:tu}=Array,Ll=yp("undefined");function pd(t){return t!==null&&!Ll(t)&&t.constructor!==null&&!Ll(t.constructor)&&Gr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const P7=Jn("ArrayBuffer");function FZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&P7(t.buffer),e}const LZ=yp("string"),Gr=yp("function"),T7=yp("number"),md=t=>t!==null&&typeof t=="object",BZ=t=>t===!0||t===!1,Gh=t=>{if(vp(t)!=="object")return!1;const e=aC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(O7 in t)&&!(mp in t)},zZ=t=>{if(!md(t)||pd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},UZ=Jn("Date"),WZ=Jn("File"),HZ=Jn("Blob"),VZ=Jn("FileList"),KZ=t=>md(t)&&Gr(t.pipe),GZ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gr(t.append)&&((e=vp(t))==="formdata"||e==="object"&&Gr(t.toString)&&t.toString()==="[object FormData]"))},YZ=Jn("URLSearchParams"),[QZ,XZ,JZ,ZZ]=["ReadableStream","Request","Response","Headers"].map(Jn),eee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function vd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),tu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(pd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function C7(t,e){if(pd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const xo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,I7=t=>!Ll(t)&&t!==xo;function NP(){const{caseless:t,skipUndefined:e}=I7(this)&&this||{},r={},n=(i,s)=>{const o=t&&C7(r,s)||s;Gh(r[o])&&Gh(i)?r[o]=NP(r[o],i):Gh(i)?r[o]=NP({},i):tu(i)?r[o]=i.slice():(!e||!Ll(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&vd(arguments[i],n);return r}const tee=(t,e,r,{allOwnKeys:n}={})=>(vd(e,(i,s)=>{r&&Gr(i)?t[s]=E7(i,r):t[s]=i},{allOwnKeys:n}),t),ree=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),nee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},iee=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&aC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},see=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},oee=t=>{if(!t)return null;if(tu(t))return t;let e=t.length;if(!T7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},aee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&aC(Uint8Array)),lee=(t,e)=>{const n=(t&&t[mp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},uee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},cee=Jn("HTMLFormElement"),dee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),lN=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),hee=Jn("RegExp"),R7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};vd(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},fee=t=>{R7(t,(e,r)=>{if(Gr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Gr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},pee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return tu(t)?n(t):n(String(t).split(e)),r},mee=()=>{},vee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function yee(t){return!!(t&&Gr(t.append)&&t[O7]==="FormData"&&t[mp])}const gee=t=>{const e=new Array(10),r=(n,i)=>{if(md(n)){if(e.indexOf(n)>=0)return;if(pd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=tu(n)?[]:{};return vd(n,(o,a)=>{const l=r(o,i+1);!Ll(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},bee=Jn("AsyncFunction"),wee=t=>t&&(md(t)||Gr(t))&&Gr(t.then)&&Gr(t.catch),N7=((t,e)=>t?setImmediate:e?((r,n)=>(xo.addEventListener("message",({source:i,data:s})=>{i===xo&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),xo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Gr(xo.postMessage)),_ee=typeof queueMicrotask<"u"?queueMicrotask.bind(xo):typeof process<"u"&&process.nextTick||N7,xee=t=>t!=null&&Gr(t[mp]),M={isArray:tu,isArrayBuffer:P7,isBuffer:pd,isFormData:GZ,isArrayBufferView:FZ,isString:LZ,isNumber:T7,isBoolean:BZ,isObject:md,isPlainObject:Gh,isEmptyObject:zZ,isReadableStream:QZ,isRequest:XZ,isResponse:JZ,isHeaders:ZZ,isUndefined:Ll,isDate:UZ,isFile:WZ,isBlob:HZ,isRegExp:hee,isFunction:Gr,isStream:KZ,isURLSearchParams:YZ,isTypedArray:aee,isFileList:VZ,forEach:vd,merge:NP,extend:tee,trim:eee,stripBOM:ree,inherits:nee,toFlatObject:iee,kindOf:vp,kindOfTest:Jn,endsWith:see,toArray:oee,forEachEntry:lee,matchAll:uee,isHTMLForm:cee,hasOwnProperty:lN,hasOwnProp:lN,reduceDescriptors:R7,freezeMethods:fee,toObjectSet:pee,toCamelCase:dee,noop:mee,toFiniteNumber:vee,findKey:C7,global:xo,isContextDefined:I7,isSpecCompliantForm:yee,toJSONObject:gee,isAsyncFn:bee,isThenable:wee,setImmediate:N7,asap:_ee,isIterable:xee};function Ce(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Ce,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const $7=Ce.prototype,j7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{j7[t]={value:t}});Object.defineProperties(Ce,j7);Object.defineProperty($7,"isAxiosError",{value:!0});Ce.from=(t,e,r,n,i,s)=>{const o=Object.create($7);M.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ce.call(o,a,l,r,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const See=null;function $P(t){return M.isPlainObject(t)||M.isArray(t)}function k7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function uN(t,e,r){return t?t.concat(e).map(function(i,s){return i=k7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Eee(t){return M.isArray(t)&&!t.some($P)}const Oee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function gp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(g,w){return!M.isUndefined(w[g])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Ce("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,g,w){let y=m;if(m&&!w&&typeof m=="object"){if(M.endsWith(g,"{}"))g=n?g:g.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&Eee(m)||(M.isFileList(m)||M.endsWith(g,"[]"))&&(y=M.toArray(m)))return g=k7(g),y.forEach(function(_,b){!(M.isUndefined(_)||_===null)&&e.append(o===!0?uN([g],b,s):o===null?g:g+"[]",u(_))}),!1}return $P(m)?!0:(e.append(uN(w,g,s),u(m)),!1)}const d=[],f=Object.assign(Oee,{defaultVisitor:c,convertValue:u,isVisitable:$P});function p(m,g){if(!M.isUndefined(m)){if(d.indexOf(m)!==-1)throw Error("Circular reference detected in "+g.join("."));d.push(m),M.forEach(m,function(y,v){(!(M.isUndefined(y)||y===null)&&i.call(e,y,M.isString(v)?v.trim():v,g,f))===!0&&p(y,g?g.concat(v):[v])}),d.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function cN(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function lC(t,e){this._pairs=[],t&&gp(t,this,e)}const D7=lC.prototype;D7.append=function(e,r){this._pairs.push([e,r])};D7.toString=function(e){const r=e?function(n){return e.call(this,n,cN)}:cN;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Pee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function q7(t,e,r){if(!e)return t;const n=r&&r.encode||Pee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new lC(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class dN{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const M7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Tee=typeof URLSearchParams<"u"?URLSearchParams:lC,Cee=typeof FormData<"u"?FormData:null,Iee=typeof Blob<"u"?Blob:null,Ree={isBrowser:!0,classes:{URLSearchParams:Tee,FormData:Cee,Blob:Iee},protocols:["http","https","file","blob","url","data"]},uC=typeof window<"u"&&typeof document<"u",jP=typeof navigator=="object"&&navigator||void 0,Nee=uC&&(!jP||["ReactNative","NativeScript","NS"].indexOf(jP.product)<0),$ee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",jee=uC&&window.location.href||"http://localhost",kee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:uC,hasStandardBrowserEnv:Nee,hasStandardBrowserWebWorkerEnv:$ee,navigator:jP,origin:jee},Symbol.toStringTag,{value:"Module"})),br={...kee,...Ree};function Dee(t,e){return gp(t,new br.classes.URLSearchParams,{visitor:function(r,n,i,s){return br.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function qee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Mee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function A7(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&M.isArray(i)?i.length:o,l?(M.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&M.isArray(i[o])&&(i[o]=Mee(i[o])),!a)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(qee(n),i,r,0)}),r}return null}function Aee(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const yd={transitional:M7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(A7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Dee(e,this.formSerializer).toString();if((a=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return gp(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Aee(e)):e}],transformResponse:[function(e){const r=this.transitional||yd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Ce.from(a,Ce.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:br.classes.FormData,Blob:br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{yd.headers[t]={}});const Fee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Lee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Fee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},hN=Symbol("internals");function Lu(t){return t&&String(t).trim().toLowerCase()}function Yh(t){return t===!1||t==null?t:M.isArray(t)?t.map(Yh):String(t)}function Bee(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const zee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function $m(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function Uee(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Wee(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let Yr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=Lu(l);if(!c)throw new Error("header name must be a non-empty string");const d=M.findKey(i,c);(!d||i[d]===void 0||u===!0||u===void 0&&i[d]!==!1)&&(i[d||l]=Yh(a))}const o=(a,l)=>M.forEach(a,(u,c)=>s(u,c,l));if(M.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(M.isString(e)&&(e=e.trim())&&!zee(e))o(Lee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let a={},l,u;for(const c of e){if(!M.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?M.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Lu(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Bee(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Lu(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||$m(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Lu(o),o){const a=M.findKey(n,o);a&&(!r||$m(n,n[a],a,r))&&(delete n[a],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||$m(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const o=M.findKey(n,s);if(o){r[o]=Yh(i),delete r[s];return}const a=e?Uee(s):String(s).trim();a!==s&&delete r[s],r[a]=Yh(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[hN]=this[hN]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Lu(o);n[a]||(Wee(i,o),n[a]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Yr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Yr);function jm(t,e){const r=this||yd,n=e||r,i=Yr.from(n.headers);let s=n.data;return M.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function F7(t){return!!(t&&t.__CANCEL__)}function ru(t,e,r){Ce.call(this,t??"canceled",Ce.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(ru,Ce,{__CANCEL__:!0});function L7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ce("Request failed with status code "+r.status,[Ce.ERR_BAD_REQUEST,Ce.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Hee(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Vee(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let d=s,f=0;for(;d!==i;)f+=r[d++],d=d%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function Kee(t,e){let r=0,n=1e3/e,i,s;const o=(u,c=Date.now())=>{r=c,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),d=c-r;d>=n?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-d)))},()=>i&&o(i)]}const Rf=(t,e,r=3)=>{let n=0;const i=Vee(50,250);return Kee(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),c=o<=a;n=o;const d={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(d)},r)},fN=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},pN=t=>(...e)=>M.asap(()=>t(...e)),Gee=br.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,br.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(br.origin),br.navigator&&/(msie|trident)/i.test(br.navigator.userAgent)):()=>!0,Yee=br.hasStandardBrowserEnv?{write(t,e,r,n,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&a.push(`path=${n}`),M.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),M.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Qee(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Xee(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function B7(t,e,r){let n=!Qee(e);return t&&(n||r==!1)?Xee(t,e):e}const mN=t=>t instanceof Yr?{...t}:t;function ta(t,e){e=e||{};const r={};function n(u,c,d,f){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:f},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function i(u,c,d,f){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u,d,f)}else return n(u,c,d,f)}function s(u,c){if(!M.isUndefined(c))return n(void 0,c)}function o(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,d){if(d in e)return n(u,c);if(d in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,d)=>i(mN(u),mN(c),d,!0)};return M.forEach(Object.keys({...t,...e}),function(c){const d=l[c]||i,f=d(t[c],e[c],c);M.isUndefined(f)&&d!==a||(r[c]=f)}),r}const z7=t=>{const e=ta({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=Yr.from(o),e.url=q7(B7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),M.isFormData(r)){if(br.hasStandardBrowserEnv||br.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,d])=>{u.includes(c.toLowerCase())&&o.set(c,d)})}}if(br.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&Gee(e.url))){const l=i&&s&&Yee.read(s);l&&o.set(i,l)}return e},Jee=typeof XMLHttpRequest<"u",Zee=Jee&&function(t){return new Promise(function(r,n){const i=z7(t);let s=i.data;const o=Yr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,d,f,p,m;function g(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function y(){if(!w)return;const _=Yr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),x={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:_,config:t,request:w};L7(function(T){r(T),g()},function(T){n(T),g()},x),w=null}"onloadend"in w?w.onloadend=y:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(y)},w.onabort=function(){w&&(n(new Ce("Request aborted",Ce.ECONNABORTED,t,w)),w=null)},w.onerror=function(b){const x=b&&b.message?b.message:"Network Error",E=new Ce(x,Ce.ERR_NETWORK,t,w);E.event=b||null,n(E),w=null},w.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const x=i.transitional||M7;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Ce(b,x.clarifyTimeoutError?Ce.ETIMEDOUT:Ce.ECONNABORTED,t,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&M.forEach(o.toJSON(),function(b,x){w.setRequestHeader(x,b)}),M.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([f,m]=Rf(u,!0),w.addEventListener("progress",f)),l&&w.upload&&([d,p]=Rf(l),w.upload.addEventListener("progress",d),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=_=>{w&&(n(!_||_.type?new ru(null,t,w):_),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=Hee(i.url);if(v&&br.protocols.indexOf(v)===-1){n(new Ce("Unsupported protocol "+v+":",Ce.ERR_BAD_REQUEST,t));return}w.send(s||null)})},ete=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;n.abort(c instanceof Ce?c:new ru(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Ce(`timeout ${e} of ms exceeded`,Ce.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(a),l}},tte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},rte=async function*(t,e){for await(const r of nte(t))yield*tte(r,e)},nte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},vN=(t,e,r,n)=>{const i=rte(t,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let d=c.byteLength;if(r){let f=s+=d;r(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},yN=64*1024,{isFunction:Sh}=M,ite=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:gN,TextEncoder:bN}=M.global,wN=(t,...e)=>{try{return!!t(...e)}catch{return!1}},ste=t=>{t=M.merge.call({skipUndefined:!0},ite,t);const{fetch:e,Request:r,Response:n}=t,i=e?Sh(e):typeof fetch=="function",s=Sh(r),o=Sh(n);if(!i)return!1;const a=i&&Sh(gN),l=i&&(typeof bN=="function"?(m=>g=>m.encode(g))(new bN):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&a&&wN(()=>{let m=!1;const g=new r(br.origin,{body:new gN,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!g}),c=o&&a&&wN(()=>M.isReadableStream(new n("").body)),d={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!d[m]&&(d[m]=(g,w)=>{let y=g&&g[m];if(y)return y.call(g);throw new Ce(`Response type '${m}' is not supported`,Ce.ERR_NOT_SUPPORT,w)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(br.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,g)=>{const w=M.toFiniteNumber(m.getContentLength());return w??f(g)};return async m=>{let{url:g,method:w,data:y,signal:v,cancelToken:_,timeout:b,onDownloadProgress:x,onUploadProgress:E,responseType:T,headers:S,withCredentials:O="same-origin",fetchOptions:P}=z7(m),I=e||fetch;T=T?(T+"").toLowerCase():"text";let C=ete([v,_&&_.toAbortSignal()],b),R=null;const q=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let B;try{if(E&&u&&w!=="get"&&w!=="head"&&(B=await p(S,y))!==0){let z=new r(g,{method:"POST",body:y,duplex:"half"}),Z;if(M.isFormData(y)&&(Z=z.headers.get("content-type"))&&S.setContentType(Z),z.body){const[he,ve]=fN(B,Rf(pN(E)));y=vN(z.body,yN,he,ve)}}M.isString(O)||(O=O?"include":"omit");const J=s&&"credentials"in r.prototype,Q={...P,signal:C,method:w.toUpperCase(),headers:S.normalize().toJSON(),body:y,duplex:"half",credentials:J?O:void 0};R=s&&new r(g,Q);let L=await(s?I(R,P):I(g,Q));const V=c&&(T==="stream"||T==="response");if(c&&(x||V&&q)){const z={};["status","statusText","headers"].forEach(ke=>{z[ke]=L[ke]});const Z=M.toFiniteNumber(L.headers.get("content-length")),[he,ve]=x&&fN(Z,Rf(pN(x),!0))||[];L=new n(vN(L.body,yN,he,()=>{ve&&ve(),q&&q()}),z)}T=T||"text";let U=await d[M.findKey(d,T)||"text"](L,m);return!V&&q&&q(),await new Promise((z,Z)=>{L7(z,Z,{data:U,headers:Yr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:R})})}catch(J){throw q&&q(),J&&J.name==="TypeError"&&/Load failed|fetch/i.test(J.message)?Object.assign(new Ce("Network Error",Ce.ERR_NETWORK,m,R),{cause:J.cause||J}):Ce.from(J,J&&J.code,m,R)}}},ote=new Map,U7=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let o=s.length,a=o,l,u,c=ote;for(;a--;)l=s[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:ste(e)),c=u;return u};U7();const cC={http:See,xhr:Zee,fetch:{get:U7}};M.forEach(cC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const _N=t=>`- ${t}`,ate=t=>M.isFunction(t)||t===null||t===!1;function lte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let o=0;o<r;o++){n=t[o];let a;if(i=n,!ate(n)&&(i=cC[(a=String(n)).toLowerCase()],i===void 0))throw new Ce(`Unknown adapter '${a}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(_N).join(`
`):" "+_N(o[0]):"as no adapter specified";throw new Ce("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const W7={getAdapter:lte,adapters:cC};function km(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new ru(null,t)}function xN(t){return km(t),t.headers=Yr.from(t.headers),t.data=jm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),W7.getAdapter(t.adapter||yd.adapter,t)(t).then(function(n){return km(t),n.data=jm.call(t,t.transformResponse,n),n.headers=Yr.from(n.headers),n},function(n){return F7(n)||(km(t),n&&n.response&&(n.response.data=jm.call(t,t.transformResponse,n.response),n.response.headers=Yr.from(n.response.headers))),Promise.reject(n)})}const H7="1.13.2",bp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{bp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const SN={};bp.transitional=function(e,r,n){function i(s,o){return"[Axios v"+H7+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new Ce(i(o," has been removed"+(r?" in "+r:"")),Ce.ERR_DEPRECATED);return r&&!SN[o]&&(SN[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};bp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function ute(t,e,r){if(typeof t!="object")throw new Ce("options must be an object",Ce.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Ce("option "+s+" must be "+l,Ce.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ce("Unknown option "+s,Ce.ERR_BAD_OPTION)}}const Qh={assertOptions:ute,validators:bp},ni=Qh.validators;let Fo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new dN,response:new dN}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=ta(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Qh.assertOptions(n,{silentJSONParsing:ni.transitional(ni.boolean),forcedJSONParsing:ni.transitional(ni.boolean),clarifyTimeoutError:ni.transitional(ni.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:Qh.assertOptions(i,{encode:ni.function,serialize:ni.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Qh.assertOptions(r,{baseUrl:ni.spelling("baseURL"),withXsrfToken:ni.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Yr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(g){typeof g.runWhen=="function"&&g.runWhen(r)===!1||(l=l&&g.synchronous,a.unshift(g.fulfilled,g.rejected))});const u=[];this.interceptors.response.forEach(function(g){u.push(g.fulfilled,g.rejected)});let c,d=0,f;if(!l){const m=[xN.bind(this),void 0];for(m.unshift(...a),m.push(...u),f=m.length,c=Promise.resolve(r);d<f;)c=c.then(m[d++],m[d++]);return c}f=a.length;let p=r;for(;d<f;){const m=a[d++],g=a[d++];try{p=m(p)}catch(w){g.call(this,w);break}}try{c=xN.call(this,p)}catch(m){return Promise.reject(m)}for(d=0,f=u.length;d<f;)c=c.then(u[d++],u[d++]);return c}getUri(e){e=ta(this.defaults,e);const r=B7(e.baseURL,e.url,e.allowAbsoluteUrls);return q7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Fo.prototype[e]=function(r,n){return this.request(ta(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(ta(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Fo.prototype[e]=r(),Fo.prototype[e+"Form"]=r(!0)});let cte=class V7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new ru(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new V7(function(i){e=i}),cancel:e}}};function dte(t){return function(r){return t.apply(null,r)}}function hte(t){return M.isObject(t)&&t.isAxiosError===!0}const kP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kP).forEach(([t,e])=>{kP[e]=t});function K7(t){const e=new Fo(t),r=E7(Fo.prototype.request,e);return M.extend(r,Fo.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return K7(ta(t,i))},r}const Pt=K7(yd);Pt.Axios=Fo;Pt.CanceledError=ru;Pt.CancelToken=cte;Pt.isCancel=F7;Pt.VERSION=H7;Pt.toFormData=gp;Pt.AxiosError=Ce;Pt.Cancel=Pt.CanceledError;Pt.all=function(e){return Promise.all(e)};Pt.spread=dte;Pt.isAxiosError=hte;Pt.mergeConfig=ta;Pt.AxiosHeaders=Yr;Pt.formToJSON=t=>A7(M.isHTMLForm(t)?new FormData(t):t);Pt.getAdapter=W7.getAdapter;Pt.HttpStatusCode=kP;Pt.default=Pt;const{Axios:Pbe,AxiosError:Tbe,CanceledError:Cbe,isCancel:Ibe,CancelToken:Rbe,VERSION:Nbe,all:$be,Cancel:jbe,isAxiosError:kbe,spread:Dbe,toFormData:qbe,AxiosHeaders:Mbe,HttpStatusCode:Abe,formToJSON:Fbe,getAdapter:Lbe,mergeConfig:Bbe}=Pt,DP=window.prmConfig||{},Ee=Pt.create({baseURL:DP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":DP.nonce||""}});Ee.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});Ee.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=DP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Be={getPeople:t=>Ee.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>Ee.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>Ee.post("/wp/v2/people",t),updatePerson:(t,e)=>Ee.put(`/wp/v2/people/${t}`,e),deletePerson:t=>Ee.delete(`/wp/v2/people/${t}`),getCompanies:t=>Ee.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>Ee.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>Ee.post("/wp/v2/companies",t),updateCompany:(t,e)=>Ee.put(`/wp/v2/companies/${t}`,e),deleteCompany:t=>Ee.delete(`/wp/v2/companies/${t}`),getDates:t=>Ee.get("/wp/v2/important-dates",{params:t}),getDate:t=>Ee.get(`/wp/v2/important-dates/${t}`),createDate:t=>Ee.post("/wp/v2/important-dates",t),updateDate:(t,e)=>Ee.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>Ee.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>Ee.get("/wp/v2/person_label"),getCompanyLabels:()=>Ee.get("/wp/v2/company_label"),getRelationshipTypes:()=>Ee.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>Ee.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>Ee.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>Ee.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>Ee.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>Ee.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),Ee.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Rn={getDashboard:()=>Ee.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>Ee.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>Ee.get("/prm/v1/user/me"),search:t=>Ee.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>Ee.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>Ee.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>Ee.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>Ee.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>Ee.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>Ee.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>Ee.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>Ee.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>Ee.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>Ee.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>Ee.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>Ee.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>Ee.post(`/prm/v1/companies/${t}/logo`,{media_id:e})};function fte(){return ht({queryKey:["dashboard"],queryFn:async()=>(await Rn.getDashboard()).data})}function pte(t=30){return ht({queryKey:["reminders",t],queryFn:async()=>(await Rn.getReminders(t)).data})}function mte(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ht({queryKey:["search",e],queryFn:async()=>r?(await Rn.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const vte=[{name:"Dashboard",href:"/",icon:PZ},{name:"People",href:"/people",icon:Bc},{name:"Companies",href:"/companies",icon:Zo},{name:"Dates",href:"/dates",icon:ea},{name:"Settings",href:"/settings",icon:b7}];function EN({mobile:t=!1,onClose:e}){const{logoutUrl:r}=pp();return h.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[h.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[h.jsxs(ye,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[h.jsx(w7,{className:"w-5 h-5"}),Fl]}),t&&h.jsx("button",{onClick:e,className:"p-2 -mr-2",children:h.jsx(Xs,{className:"w-5 h-5"})})]}),h.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:vte.map(n=>h.jsxs(MJ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[h.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),h.jsx("div",{className:"p-4 border-t border-gray-200",children:h.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(CZ,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function yte(){var o;const[t,e]=k.useState(!1),r=k.useRef(null),{data:n,isLoading:i}=ht({queryKey:["current-user"],queryFn:async()=>(await Rn.getCurrentUser()).data});if(k.useEffect(()=>{const a=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[t]),i||!n)return h.jsx("div",{className:"flex items-center ml-auto",children:h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((o=n.name)==null?void 0:o.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2))||"?";return h.jsxs("div",{className:"relative ml-auto",ref:r,children:[h.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?h.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):h.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),h.jsx(xZ,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&h.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:h.jsxs("div",{className:"py-1",children:[h.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[h.jsx(x7,{className:"w-4 h-4 mr-2"}),"Edit profile"]}),n.is_admin&&h.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[h.jsx(b7,{className:"w-4 h-4 mr-2"}),"WordPress admin"]})]})})]})}function gte({onMenuClick:t}){const[e,r]=k.useState(""),[n,i]=k.useState(!1),s=Ji(),o=Jr(),a=k.useRef(null),l=k.useRef(null),u=e.trim(),{data:c,isLoading:d}=mte(u),f=()=>{const y=s.pathname;return y==="/"?"Dashboard":y.startsWith("/people")?"People":y.startsWith("/companies")?"Companies":y.startsWith("/dates")?"Important Dates":y.startsWith("/settings")?"Settings":""};k.useEffect(()=>{const y=v=>{l.current&&!l.current.contains(v.target)&&a.current&&!a.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",y),()=>{document.removeEventListener("mousedown",y)}},[]);const p=(y,v)=>{i(!1),r(""),y==="person"?o(`/people/${v}`):y==="company"?o(`/companies/${v}`):y==="date"&&o(`/dates/${v}/edit`)},m=c||{people:[],companies:[],dates:[]},g=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,w=n&&e.trim().length>=2;return h.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[h.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:h.jsx(NZ,{className:"w-5 h-5"})}),h.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),h.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:h.jsxs("div",{className:"relative w-full",ref:a,children:[h.jsx(g7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:y=>r(y.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),w&&h.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:d?h.jsxs("div",{className:"p-4 text-center text-gray-500",children:[h.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),h.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):g?h.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&h.jsxs("div",{className:"px-3 py-2",children:[h.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(y=>h.jsxs("button",{onClick:()=>p("person",y.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[h.jsx(x7,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:y.name})]},y.id))]}),m.companies&&m.companies.length>0&&h.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[h.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(y=>h.jsxs("button",{onClick:()=>p("company",y.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[h.jsx(_Z,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:y.name})]},y.id))]}),m.dates&&m.dates.length>0&&h.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[h.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(y=>h.jsxs("button",{onClick:()=>p("date",y.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[h.jsx(ea,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),h.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:y.title})]},y.id))]})]}):h.jsx("div",{className:"p-4 text-center text-gray-500",children:h.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),h.jsx(yte,{})]})}function bte({children:t}){const[e,r]=k.useState(!1);return S7(),h.jsxs("div",{className:"flex h-screen bg-gray-50",children:[h.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:h.jsx(EN,{})}),e&&h.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[h.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),h.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:h.jsx(EN,{mobile:!0,onClose:()=>r(!1)})})]}),h.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[h.jsx(gte,{onMenuClick:()=>r(!0)}),h.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function lr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ra(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const G7=6048e5,wte=864e5;let _te={};function wp(){return _te}function zc(t,e){var a,l,u,c;const r=wp(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=lr(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function Nf(t){return zc(t,{weekStartsOn:1})}function Y7(t){const e=lr(t),r=e.getFullYear(),n=ra(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Nf(n),s=ra(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=Nf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function ON(t){const e=lr(t);return e.setHours(0,0,0,0),e}function PN(t){const e=lr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function xte(t,e){const r=ON(t),n=ON(e),i=+r-PN(r),s=+n-PN(n);return Math.round((i-s)/wte)}function Ste(t){const e=Y7(t),r=ra(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Nf(r)}function TN(t,e){const r=lr(t),n=lr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Ete(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ote(t){if(!Ete(t)&&typeof t!="number")return!1;const e=lr(t);return!isNaN(Number(e))}function Pte(t,e){const r=lr(t),n=lr(e);return r.getFullYear()-n.getFullYear()}function Dm(t,e){const r=lr(t),n=lr(e),i=TN(r,n),s=Math.abs(Pte(r,n));r.setFullYear(1584),n.setFullYear(1584);const o=TN(r,n)===-i,a=i*(s-+o);return a===0?0:a}function Tte(t){const e=lr(t),r=ra(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Cte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Ite=(t,e,r)=>{let n;const i=Cte[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function qm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Rte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Nte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},$te={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},jte={date:qm({formats:Rte,defaultWidth:"full"}),time:qm({formats:Nte,defaultWidth:"full"}),dateTime:qm({formats:$te,defaultWidth:"full"})},kte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Dte=(t,e,r,n)=>kte[t];function Bu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const qte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Mte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ate={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Fte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Lte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Bte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},zte=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Ute={ordinalNumber:zte,era:Bu({values:qte,defaultWidth:"wide"}),quarter:Bu({values:Mte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Bu({values:Ate,defaultWidth:"wide"}),day:Bu({values:Fte,defaultWidth:"wide"}),dayPeriod:Bu({values:Lte,defaultWidth:"wide",formattingValues:Bte,defaultFormattingWidth:"wide"})};function zu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?Hte(a,d=>d.test(o)):Wte(a,d=>d.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function Wte(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Hte(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Vte(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const Kte=/^(\d+)(th|st|nd|rd)?/i,Gte=/\d+/i,Yte={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Qte={any:[/^b/i,/^(a|c)/i]},Xte={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Jte={any:[/1/i,/2/i,/3/i,/4/i]},Zte={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},ere={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},tre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},rre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},nre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},ire={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},sre={ordinalNumber:Vte({matchPattern:Kte,parsePattern:Gte,valueCallback:t=>parseInt(t,10)}),era:zu({matchPatterns:Yte,defaultMatchWidth:"wide",parsePatterns:Qte,defaultParseWidth:"any"}),quarter:zu({matchPatterns:Xte,defaultMatchWidth:"wide",parsePatterns:Jte,defaultParseWidth:"any",valueCallback:t=>t+1}),month:zu({matchPatterns:Zte,defaultMatchWidth:"wide",parsePatterns:ere,defaultParseWidth:"any"}),day:zu({matchPatterns:tre,defaultMatchWidth:"wide",parsePatterns:rre,defaultParseWidth:"any"}),dayPeriod:zu({matchPatterns:nre,defaultMatchWidth:"any",parsePatterns:ire,defaultParseWidth:"any"})},ore={code:"en-US",formatDistance:Ite,formatLong:jte,formatRelative:Dte,localize:Ute,match:sre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function are(t){const e=lr(t);return xte(e,Tte(e))+1}function lre(t){const e=lr(t),r=+Nf(e)-+Ste(e);return Math.round(r/G7)+1}function Q7(t,e){var c,d,f,p;const r=lr(t),n=r.getFullYear(),i=wp(),s=(e==null?void 0:e.firstWeekContainsDate)??((d=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=ra(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=zc(o,e),l=ra(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=zc(l,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function ure(t,e){var a,l,u,c;const r=wp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=Q7(t,e),s=ra(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),zc(s,e)}function cre(t,e){const r=lr(t),n=+zc(r,e)-+ure(r,e);return Math.round(n/G7)+1}function Ue(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const ls={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Ue(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Ue(r+1,2)},d(t,e){return Ue(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Ue(t.getHours()%12||12,e.length)},H(t,e){return Ue(t.getHours(),e.length)},m(t,e){return Ue(t.getMinutes(),e.length)},s(t,e){return Ue(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Ue(i,e.length)}},ka={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},CN={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return ls.y(t,e)},Y:function(t,e,r,n){const i=Q7(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return Ue(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Ue(s,e.length)},R:function(t,e){const r=Y7(t);return Ue(r,e.length)},u:function(t,e){const r=t.getFullYear();return Ue(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Ue(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Ue(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return ls.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Ue(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=cre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Ue(i,e.length)},I:function(t,e,r){const n=lre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Ue(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):ls.d(t,e)},D:function(t,e,r){const n=are(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Ue(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Ue(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Ue(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Ue(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ka.noon:n===0?i=ka.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ka.evening:n>=12?i=ka.afternoon:n>=4?i=ka.morning:i=ka.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return ls.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):ls.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Ue(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Ue(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):ls.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):ls.s(t,e)},S:function(t,e){return ls.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return RN(n);case"XXXX":case"XX":return yo(n);case"XXXXX":case"XXX":default:return yo(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return RN(n);case"xxxx":case"xx":return yo(n);case"xxxxx":case"xxx":default:return yo(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+IN(n,":");case"OOOO":default:return"GMT"+yo(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+IN(n,":");case"zzzz":default:return"GMT"+yo(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Ue(n,e.length)},T:function(t,e,r){const n=t.getTime();return Ue(n,e.length)}};function IN(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Ue(s,2)}function RN(t,e){return t%60===0?(t>0?"-":"+")+Ue(Math.abs(t)/60,2):yo(t,e)}function yo(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Ue(Math.trunc(n/60),2),s=Ue(n%60,2);return r+i+e+s}const NN=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},X7=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},dre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return NN(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",NN(n,e)).replace("{{time}}",X7(i,e))},hre={p:X7,P:dre},fre=/^D+$/,pre=/^Y+$/,mre=["D","DD","YY","YYYY"];function vre(t){return fre.test(t)}function yre(t){return pre.test(t)}function gre(t,e,r){const n=bre(t,e,r);if(console.warn(n),mre.includes(t))throw new RangeError(n)}function bre(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const wre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,_re=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,xre=/^'([^]*?)'?$/,Sre=/''/g,Ere=/[a-zA-Z]/;function ui(t,e,r){var c,d,f,p;const n=wp(),i=n.locale??ore,s=n.firstWeekContainsDate??((d=(c=n.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=lr(t);if(!Ote(a))throw new RangeError("Invalid time value");let l=e.match(_re).map(m=>{const g=m[0];if(g==="p"||g==="P"){const w=hre[g];return w(m,i.formatLong)}return m}).join("").match(wre).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const g=m[0];if(g==="'")return{isToken:!1,value:Ore(m)};if(CN[g])return{isToken:!0,value:m};if(g.match(Ere))throw new RangeError("Format string contains an unescaped latin alphabet character `"+g+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const g=m.value;(yre(g)||vre(g))&&gre(g,e,String(t));const w=CN[g[0]];return w(a,g,i.localize,u)}).join("")}function Ore(t){const e=t.match(xre);return e?e[1].replace(Sre,"'"):t}function Da({title:t,value:e,icon:r,href:n}){return h.jsx(ye,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),h.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),h.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:h.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function $N({person:t}){var e,r;return h.jsxs(ye,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?h.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):h.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&h.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&h.jsx(Lc,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function Pre({reminder:t}){var a,l,u,c,d;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(a=t.related_people)==null?void 0:a[0])==null?void 0:l.name)||t.title,i=(c=(u=t.related_people)==null?void 0:u[0])==null?void 0:c.id,s=((d=t.related_people)==null?void 0:d.length)>0,o=h.jsxs(h.Fragment,{children:[h.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),h.jsx("p",{className:"text-xs text-gray-500",children:ui(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&h.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?h.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):h.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:h.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?h.jsx(ye,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:o}):h.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:o})}function Tre(){return h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"flex justify-center mb-4",children:h.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:h.jsx(w7,{className:"w-12 h-12 text-primary-600"})})}),h.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Fl,"!"]}),h.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),h.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[h.jsxs(ye,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[h.jsx(gr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),h.jsxs(ye,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[h.jsx(gr,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Cre(){var u,c,d;const{data:t,isLoading:e,error:r}=fte();if(e)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return h.jsx("div",{className:"card p-8 text-center",children:h.jsx("div",{className:"text-red-600 mb-2",children:f?h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):h.jsxs(h.Fragment,{children:[h.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),h.jsx("p",{className:"text-sm text-gray-600",children:((d=(c=r==null?void 0:r.response)==null?void 0:c.data)==null?void 0:d.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:o}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(Da,{title:"Total People",value:0,icon:Bc,href:"/people"}),h.jsx(Da,{title:"Companies",value:0,icon:Zo,href:"/companies"}),h.jsx(Da,{title:"Important Dates",value:0,icon:ea,href:"/dates"})]}),h.jsx(Tre,{})]}):h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[h.jsx(Da,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:Bc,href:"/people"}),h.jsx(Da,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:Zo,href:"/companies"}),h.jsx(Da,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:ea,href:"/dates"})]}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),h.jsxs(ye,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",h.jsx(tN,{className:"w-4 h-4 ml-1"})]})]}),h.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>h.jsx(Pre,{reminder:f},f.id)):h.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),h.jsxs("div",{className:"card",children:[h.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[h.jsx("h2",{className:"font-semibold",children:"Recent People"}),h.jsxs(ye,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",h.jsx(tN,{className:"w-4 h-4 ml-1"})]})]}),h.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>h.jsx($N,{person:f},f.id)):h.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",h.jsx(ye,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(o==null?void 0:o.length)>0&&h.jsxs("div",{className:"card",children:[h.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:h.jsx("h2",{className:"font-semibold",children:"Favorites"})}),h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:o.map(f=>h.jsx($N,{person:f},f.id))})]})]})}const Gt={all:["people"],lists:()=>[...Gt.all,"list"],list:t=>[...Gt.lists(),t],details:()=>[...Gt.all,"detail"],detail:t=>[...Gt.details(),t],timeline:t=>[...Gt.detail(t),"timeline"],dates:t=>[...Gt.detail(t),"dates"]};function Ire(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function J7(t){var i,s,o,a,l,u,c,d,f,p,m,g,w,y,v,_,b;const e=((o=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:o.source_url)||((f=(d=(c=(u=(l=(a=t._embedded)==null?void 0:a["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:c.sizes)==null?void 0:d.thumbnail)==null?void 0:f.source_url)||null,r=((w=(g=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:g.filter(x=>(x==null?void 0:x.taxonomy)==="person_label"))==null?void 0:w.map(x=>x.name))||[],n=Ire(((y=t.title)==null?void 0:y.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((_=t.acf)==null?void 0:_.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function _p(t={}){return ht({queryKey:Gt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Be.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(J7);if(e.push(...s),s.length<n)break;const o=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(o>0&&r>=o)break;r++}return e}})}function nu(t){return ht({queryKey:Gt.detail(t),queryFn:async()=>{const e=await Be.getPerson(t,{_embed:!0});return J7(e.data)},enabled:!!t})}function Rre(t){return ht({queryKey:Gt.timeline(t),queryFn:async()=>(await Rn.getPersonTimeline(t)).data,enabled:!!t})}function Nre(t){return ht({queryKey:Gt.dates(t),queryFn:async()=>(await Rn.getPersonDates(t)).data,enabled:!!t})}function $re(){const t=Dr();return wr({mutationFn:e=>Be.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Gt.lists()})}})}function gd(){const t=Dr();return wr({mutationFn:({id:e,data:r})=>Be.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Gt.detail(r)}),t.invalidateQueries({queryKey:Gt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(o=>{const a=o.related_person;a&&t.invalidateQueries({queryKey:Gt.detail(a)})})}})}function jre(){const t=Dr();return wr({mutationFn:e=>Be.deletePerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Gt.lists()})}})}function kre(){const t=Dr();return wr({mutationFn:({noteId:e,personId:r})=>Rn.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Gt.timeline(r)})}})}function Dre(){const t=Dr();return wr({mutationFn:({dateId:e,personId:r})=>Be.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Gt.dates(r)}),t.invalidateQueries({queryKey:Gt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function jN(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,o)=>{const a=s.start_date?new Date(s.start_date):new Date(0);return(o.start_date?new Date(o.start_date):new Date(0))-a});return n.length>0?n[0].company:null}function qre({person:t,companyName:e,isDeceased:r}){var n,i;return h.jsx(ye,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-start",children:[t.thumbnail?h.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):h.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsxs("div",{className:"flex items-center",children:[h.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&h.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&h.jsx(Lc,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&h.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&h.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>h.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Mre(){const[t,e]=k.useState(!1),[r,n]=k.useState(!1),[i,s]=k.useState([]),[o,a]=k.useState("first_name"),[l,u]=k.useState("asc"),c=k.useRef(null),d=k.useRef(null),{data:f,isLoading:p,error:m}=_p(),{data:g}=ht({queryKey:["person-labels"],queryFn:async()=>(await Be.getPersonLabels()).data}),w=(g==null?void 0:g.map(C=>C.name))||[];k.useEffect(()=>{const C=R=>{d.current&&!d.current.contains(R.target)&&c.current&&!c.current.contains(R.target)&&e(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const y=k.useMemo(()=>{if(!f)return[];let C=[...f];return r&&(C=C.filter(R=>R.is_favorite)),i.length>0&&(C=C.filter(R=>{const q=R.labels||[];return i.some(B=>q.includes(B))})),C.sort((R,q)=>{var L,V,U,z,Z,he,ve,ke;let B,J;if(o==="first_name"?(B=(((L=R.acf)==null?void 0:L.first_name)||R.first_name||"").toLowerCase(),J=(((V=q.acf)==null?void 0:V.first_name)||q.first_name||"").toLowerCase()):(B=(((U=R.acf)==null?void 0:U.last_name)||R.last_name||"").toLowerCase(),J=(((z=q.acf)==null?void 0:z.last_name)||q.last_name||"").toLowerCase()),B===J){const be=o==="first_name"?(((Z=R.acf)==null?void 0:Z.last_name)||R.last_name||"").toLowerCase():(((he=R.acf)==null?void 0:he.first_name)||R.first_name||"").toLowerCase(),xe=o==="first_name"?(((ve=q.acf)==null?void 0:ve.last_name)||q.last_name||"").toLowerCase():(((ke=q.acf)==null?void 0:ke.first_name)||q.first_name||"").toLowerCase(),$e=be.localeCompare(xe);return l==="asc"?$e:-$e}const Q=B.localeCompare(J);return l==="asc"?Q:-Q})},[f,r,i,o,l]),v=r||i.length>0,_=C=>{s(R=>R.includes(C)?R.filter(q=>q!==C):[...R,C])},b=()=>{n(!1),s([])},x=k.useMemo(()=>{if(!y)return[];const C=y.map(R=>jN(R)).filter(Boolean);return[...new Set(C)]},[y]),{data:E}=ht({queryKey:["companies","batch",x.sort().join(",")],queryFn:async()=>x.length===0?[]:(await Be.getCompanies({per_page:100,include:x.join(",")})).data,enabled:x.length>0}),T=k.useMemo(()=>{const C={};return E&&E.forEach(R=>{var q;C[R.id]=((q=R.title)==null?void 0:q.rendered)||R.title||""}),C},[E]),S=k.useMemo(()=>{const C={};return y.forEach(R=>{const q=jN(R);q&&T[q]&&(C[R.id]=T[q])}),C},[y,T]),O=k.useMemo(()=>y.map(C=>C.id).filter(Boolean),[y]),P=IP({queries:O.map(C=>({queryKey:["person-dates",C],queryFn:async()=>(await Rn.getPersonDates(C)).data,enabled:!!C}))}),I=k.useMemo(()=>{const C={};return P.forEach((R,q)=>{if(R.data&&O[q]){const B=O[q],J=R.data.some(Q=>{const L=Array.isArray(Q.date_type)?Q.date_type[0]:Q.date_type;return(L==null?void 0:L.toLowerCase())==="died"});C[B]=J}}),C},[P,O]);return h.jsxs("div",{className:"space-y-4",children:[h.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:h.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[h.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[h.jsxs("select",{value:o,onChange:C=>a(C.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[h.jsx("option",{value:"first_name",children:"First Name"}),h.jsx("option",{value:"last_name",children:"Last Name"})]}),h.jsx("div",{className:"h-4 w-px bg-gray-300"}),h.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?h.jsx(wZ,{className:"w-4 h-4 text-gray-600"}):h.jsx(bZ,{className:"w-4 h-4 text-gray-600"})})]}),h.jsxs("div",{className:"relative",ref:c,children:[h.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[h.jsx(iN,{className:"w-4 h-4 mr-2"}),"Filter",v&&h.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&h.jsx("div",{ref:d,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:h.jsxs("div",{className:"p-4 space-y-4",children:[h.jsx("div",{children:h.jsxs("label",{className:"flex items-center cursor-pointer",children:[h.jsx("input",{type:"checkbox",checked:r,onChange:C=>n(C.target.checked),className:"sr-only"}),h.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&h.jsx(nN,{className:"w-3 h-3 text-white"})}),h.jsxs("div",{className:"flex items-center",children:[h.jsx(Lc,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),h.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),w.length>0&&h.jsxs("div",{children:[h.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),h.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:w.map(C=>h.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[h.jsx("input",{type:"checkbox",checked:i.includes(C),onChange:()=>_(C),className:"sr-only"}),h.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(C)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(C)&&h.jsx(nN,{className:"w-3 h-3 text-white"})}),h.jsx("span",{className:"text-sm text-gray-700",children:C})]},C))})]}),v&&h.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&h.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[h.jsx(Lc,{className:"w-3 h-3"}),"Favorites",h.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:h.jsx(Xs,{className:"w-3 h-3"})})]}),i.map(C=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[C,h.jsx("button",{onClick:()=>_(C),className:"hover:text-gray-600",children:h.jsx(Xs,{className:"w-3 h-3"})})]},C))]}),h.jsxs(ye,{to:"/people/new",className:"btn-primary",children:[h.jsx(gr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]})}),p&&h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&h.jsx("div",{className:"card p-6 text-center",children:h.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(gr,{className:"w-6 h-6 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),h.jsxs(ye,{to:"/people/new",className:"btn-primary",children:[h.jsx(gr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]}),!p&&!m&&(y==null?void 0:y.length)>0&&h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:y.map(C=>h.jsx(qre,{person:C,companyName:S[C.id],isDeceased:I[C.id]||!1},C.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(y==null?void 0:y.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(iN,{className:"w-6 h-6 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),h.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}function Eh(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Oh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Are(){var rn,vn,Mr,Ye,Ft,ti,Lt,$,D,F,se,re,K;const{id:t}=Zi(),e=Jr(),r=Dr(),{data:n,isLoading:i,error:s}=nu(t),{data:o}=Rre(t),{data:a}=Nre(t),l=jre(),u=kre(),c=Dre(),d=gd(),[f,p]=k.useState(!1),[m,g]=k.useState(""),[w,y]=k.useState(!1),v=k.useRef(null),{data:_}=ht({queryKey:["person-labels"],queryFn:async()=>(await Be.getPersonLabels()).data}),b=_||[],x=(n==null?void 0:n.labels)||[],E=((Ye=(Mr=(vn=(rn=n==null?void 0:n._embedded)==null?void 0:rn["wp:term"])==null?void 0:vn.flat())==null?void 0:Mr.filter(j=>(j==null?void 0:j.taxonomy)==="person_label"))==null?void 0:Ye.map(j=>j.id))||[],T=b.filter(j=>!x.includes(j.name));bi((n==null?void 0:n.name)||((Ft=n==null?void 0:n.title)==null?void 0:Ft.rendered)||(n==null?void 0:n.title)||"Person");const S=a==null?void 0:a.find(j=>{const H=Array.isArray(j.date_type)?j.date_type[0]:j.date_type;return(H==null?void 0:H.toLowerCase())==="birthday"}),O=S!=null&&S.date_value?new Date(S.date_value):null,P=a==null?void 0:a.find(j=>{const H=Array.isArray(j.date_type)?j.date_type[0]:j.date_type;return(H==null?void 0:H.toLowerCase())==="died"}),I=P!=null&&P.date_value?new Date(P.date_value):null,C=!!I,R=O?Dm(C?I:new Date,O):null,q=a?[...a].sort((j,H)=>{const oe=j.date_value?new Date(j.date_value):new Date(0),me=H.date_value?new Date(H.date_value):new Date(0);return oe-me}):[],B=async()=>{window.confirm("Are you sure you want to delete this person?")&&(await l.mutateAsync(t),e("/people"))},J=j=>{if(!j)return"";let H=j.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const oe=H.startsWith("+");return H=H.replace(/\D/g,""),oe?`+${H}`:H},Q=async j=>{var me,ee,W;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const H=[...((me=n.acf)==null?void 0:me.contact_info)||[]];H.splice(j,1);const oe={...n.acf,contact_info:H,work_history:Array.isArray((ee=n.acf)==null?void 0:ee.work_history)?n.acf.work_history:[],relationships:Array.isArray((W=n.acf)==null?void 0:W.relationships)?n.acf.relationships:[]};await d.mutateAsync({id:t,data:{acf:oe}})},L=async j=>{var me,ee,W;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const H=[...((me=n.acf)==null?void 0:me.relationships)||[]];H.splice(j,1);const oe={...n.acf,relationships:H,contact_info:Array.isArray((ee=n.acf)==null?void 0:ee.contact_info)?n.acf.contact_info:[],work_history:Array.isArray((W=n.acf)==null?void 0:W.work_history)?n.acf.work_history:[]};await d.mutateAsync({id:t,data:{acf:oe}})},V=async j=>{window.confirm("Are you sure you want to delete this important date?")&&await c.mutateAsync({dateId:j,personId:t})},U=async j=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:j,personId:t})},z=async j=>{var me,ee,W;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const H=[...((me=n.acf)==null?void 0:me.work_history)||[]];H.splice(j,1);const oe={...n.acf,work_history:H,contact_info:Array.isArray((ee=n.acf)==null?void 0:ee.contact_info)?n.acf.contact_info:[],relationships:Array.isArray((W=n.acf)==null?void 0:W.relationships)?n.acf.relationships:[]};await d.mutateAsync({id:t,data:{acf:oe}})},Z=async j=>{var me,ee,W;const H=(W=(ee=(me=n==null?void 0:n._embedded)==null?void 0:me["wp:term"])==null?void 0:ee.flat())==null?void 0:W.find(te=>(te==null?void 0:te.taxonomy)==="person_label"&&(te==null?void 0:te.name)===j);if(!H)return;const oe=E.filter(te=>te!==H.id);await d.mutateAsync({id:t,data:{person_label:oe}})},he=async()=>{if(!m)return;const j=b.find(oe=>oe.id.toString()===m);if(!j)return;const H=[...E,j.id];await d.mutateAsync({id:t,data:{person_label:H}}),g(""),p(!1)},ve=async j=>{var oe;const H=(oe=j.target.files)==null?void 0:oe[0];if(H){if(!H.type.startsWith("image/")){alert("Please select an image file");return}if(H.size>5*1024*1024){alert("Image size must be less than 5MB");return}y(!0);try{const ee=(await Be.uploadMedia(H)).data.id;await d.mutateAsync({id:t,data:{featured_media:ee}}),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(me){console.error("Failed to upload photo:",me),alert("Failed to upload photo. Please try again.")}finally{y(!1),v.current&&(v.current.value="")}}},ke=((Lt=(ti=n==null?void 0:n.acf)==null?void 0:ti.work_history)==null?void 0:Lt.map(j=>j.company).filter(Boolean))||[],be=IP({queries:ke.map(j=>({queryKey:["company",j],queryFn:async()=>(await Be.getCompany(j,{_embed:!0})).data,enabled:!!j}))}),xe=((D=($=n==null?void 0:n.acf)==null?void 0:$.relationships)==null?void 0:D.map(j=>j.related_person).filter(Boolean))||[],$e=IP({queries:xe.map(j=>({queryKey:["person-dates",j],queryFn:async()=>(await Rn.getPersonDates(j)).data,enabled:!!j}))}),vt=k.useMemo(()=>{const j={};return $e.forEach((H,oe)=>{if(H.data&&xe[oe]){const me=xe[oe],ee=H.data.find(W=>{const te=Array.isArray(W.date_type)?W.date_type[0]:W.date_type;return(te==null?void 0:te.toLowerCase())==="birthday"});if(ee!=null&&ee.date_value){const W=new Date(ee.date_value);j[me]=Dm(new Date,W)}else j[me]=-1}}),j},[$e,xe]),Ge=k.useMemo(()=>{var j;return(j=n==null?void 0:n.acf)!=null&&j.relationships?[...n.acf.relationships].sort((H,oe)=>{const me=vt[H.related_person]??-1,ee=vt[oe.related_person]??-1;return me===-1&&ee===-1?0:me===-1?1:ee===-1?-1:ee-me}):[]},[(F=n==null?void 0:n.acf)==null?void 0:F.relationships,vt]),Ct={};be.forEach((j,H)=>{var oe,me,ee,W,te,ae,fe,Ie,hr,fr;if(j.data){const rh=ke[H];Ct[rh]={name:((oe=j.data.title)==null?void 0:oe.rendered)||j.data.title||"",logo:((W=(ee=(me=j.data._embedded)==null?void 0:me["wp:featuredmedia"])==null?void 0:ee[0])==null?void 0:W.source_url)||((fr=(hr=(Ie=(fe=(ae=(te=j.data._embedded)==null?void 0:te["wp:featuredmedia"])==null?void 0:ae[0])==null?void 0:fe.media_details)==null?void 0:Ie.sizes)==null?void 0:hr.thumbnail)==null?void 0:fr.source_url)||null}}});const rr=k.useMemo(()=>{var j;return(j=n==null?void 0:n.acf)!=null&&j.work_history?[...n.acf.work_history].map((H,oe)=>({...H,originalIndex:oe})).sort((H,oe)=>{if(H.is_current&&!oe.is_current)return-1;if(!H.is_current&&oe.is_current)return 1;const me=H.start_date?new Date(H.start_date):new Date(0);return(oe.start_date?new Date(oe.start_date):new Date(0))-me}):[]},[(se=n==null?void 0:n.acf)==null?void 0:se.work_history]);if(i)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ye,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});const De=n.acf||{};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(ye,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to People"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ye,{to:`/people/${t}/edit`,className:"btn-secondary",children:[h.jsx(_7,{className:"w-4 h-4 mr-2"}),"Edit"]}),h.jsxs("button",{onClick:B,className:"btn-danger",children:[h.jsx(hs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),h.jsx("div",{className:"card p-6",children:h.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[h.jsxs("div",{className:"relative group",children:[n.thumbnail?h.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):h.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((re=n.first_name)==null?void 0:re[0])||"?"})}),h.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},children:w?h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):h.jsx(Kh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),h.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ve,className:"hidden",disabled:w})]}),h.jsxs("div",{className:"flex-1",children:[h.jsxs("div",{className:"flex items-center gap-2",children:[h.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,C&&h.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&h.jsx(Lc,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),De.nickname&&h.jsxs("p",{className:"text-gray-500",children:['"',De.nickname,'"']}),C&&I&&R!==null&&h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Oh(De.gender)&&h.jsx("span",{className:"mr-1",children:Oh(De.gender)}),"Died ",ui(I,"MMMM d, yyyy")," at age ",R]}),!C&&R!==null&&h.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Oh(De.gender)&&h.jsx("span",{className:"mr-1",children:Oh(De.gender)}),R," years old"]}),h.jsx("div",{className:"mt-2",children:h.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((j,H)=>h.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[j,h.jsx("button",{onClick:()=>Z(j),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:h.jsx(Xs,{className:"w-3 h-3"})})]},H)),f?h.jsxs("div",{className:"inline-flex items-center gap-2",children:[h.jsxs("select",{value:m,onChange:j=>g(j.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:T.length===0,children:[h.jsx("option",{value:"",children:"Select a label..."}),T.map(j=>h.jsx("option",{value:j.id,children:j.name},j.id))]}),h.jsx("button",{onClick:he,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),h.jsx("button",{onClick:()=>{p(!1),g("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):T.length>0&&h.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[h.jsx(gr,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[h.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!C&&h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Contact Information"}),h.jsxs(ye,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[h.jsx(gr,{className:"w-4 h-4 mr-1"}),"Add contact detail"]})]}),((K=De.contact_info)==null?void 0:K.length)>0?h.jsx("div",{className:"space-y-3",children:De.contact_info.map((j,H)=>{const oe=j.contact_type==="email"?IZ:j.contact_type==="phone"||j.contact_type==="mobile"?kZ:j.contact_type==="address"?RZ:j.contact_type==="linkedin"?sN:(j.contact_type==="website",RP),me=j.contact_type==="email",ee=j.contact_type==="phone"||j.contact_type==="mobile",W=j.contact_type==="mobile",te=j.contact_type==="website"||j.contact_type==="linkedin"||j.contact_type==="twitter"||j.contact_type==="instagram"||j.contact_type==="facebook",ae=j.contact_type==="address",fe=j.contact_type==="linkedin";let Ie=null,hr=null;if(me)Ie=`mailto:${j.contact_value}`;else if(ee)Ie=`tel:${J(j.contact_value)}`;else if(te){let fr=j.contact_value;fr.match(/^https?:\/\//i)||(fr=`https://${fr}`),Ie=fr,hr="_blank"}else ae&&(Ie=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(j.contact_value)}`,hr="_blank");return h.jsxs("div",{className:"flex items-center group",children:[!fe&&h.jsx(oe,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),h.jsxs("div",{className:"flex-1 min-w-0",children:[fe?h.jsx(sN,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):h.jsxs("span",{className:"text-sm text-gray-500",children:[j.contact_label||j.contact_type,": "]}),Ie?h.jsx("a",{href:Ie,target:hr||void 0,rel:hr==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:j.contact_value}):h.jsx("span",{children:j.contact_value})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[W&&h.jsx("a",{href:`whatsapp:${J(j.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:h.jsx($Z,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),h.jsx(ye,{to:`/people/${t}/contact/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:h.jsx(xh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>Q(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:h.jsx(hs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Important Dates"}),h.jsxs(ye,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[h.jsx(gr,{className:"w-4 h-4 mr-1"}),"Add Important Date"]})]}),q.length>0?h.jsx("div",{className:"space-y-3",children:q.map(j=>{const H=Array.isArray(j.date_type)?j.date_type[0]:j.date_type,oe=(H==null?void 0:H.toLowerCase())||"",me=oe.includes("died"),ee=oe.includes("wedding")||oe.includes("marriage")?OZ:oe.includes("birthday")?EZ:ea;return h.jsxs("div",{className:"flex items-start group",children:[h.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:me?h.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):h.jsx(ee,{className:"w-4 h-4 text-gray-500"})}),h.jsxs("div",{className:"flex-1",children:[h.jsx("p",{className:"text-sm font-medium",children:j.title}),h.jsx("p",{className:"text-xs text-gray-500",children:j.date_value&&ui(new Date(j.date_value),"MMMM d, yyyy")}),H&&h.jsx("p",{className:"text-xs text-gray-400 capitalize",children:H})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[h.jsx(ye,{to:`/dates/${j.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:h.jsx(xh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>V(j.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:h.jsx(hs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},j.id)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Work History"}),h.jsxs(ye,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[h.jsx(gr,{className:"w-4 h-4 mr-1"}),"Add Work History"]})]}),(rr==null?void 0:rr.length)>0?h.jsx("div",{className:"space-y-4",children:rr.map((j,H)=>{const oe=j.company?Ct[j.company]:null,me=j.originalIndex;return h.jsxs("div",{className:"flex items-start group",children:[oe!=null&&oe.logo?h.jsx("img",{src:oe.logo,alt:oe.name,className:"w-10 h-10 rounded-lg object-cover mr-3 flex-shrink-0"}):h.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:h.jsx(Zo,{className:"w-5 h-5 text-gray-500"})}),h.jsxs("div",{className:"flex-1 min-w-0",children:[h.jsx("p",{className:"font-medium",children:j.job_title}),j.company&&oe&&h.jsx(ye,{to:`/companies/${j.company}`,className:"text-sm text-primary-600 hover:underline",children:oe.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[j.start_date&&ui(new Date(j.start_date),"MMM yyyy")," - ",j.is_current?"Present":j.end_date?ui(new Date(j.end_date),"MMM yyyy"):""]}),j.description&&h.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[h.jsx(ye,{to:`/people/${t}/work-history/${me}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:h.jsx(xh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>z(me),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:h.jsx(hs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},me)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-4",children:[h.jsx("h2",{className:"font-semibold",children:"Timeline"}),h.jsxs("button",{className:"btn-secondary text-sm",children:[h.jsx(gr,{className:"w-4 h-4 mr-1"}),"Add Note"]})]}),(o==null?void 0:o.length)>0?h.jsx("div",{className:"space-y-4",children:o.map(j=>h.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[h.jsx("span",{className:"capitalize",children:j.type}),h.jsx("span",{children:""}),h.jsx("span",{children:ui(new Date(j.created),"MMM d, yyyy")})]}),h.jsx("button",{onClick:()=>U(j.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:h.jsx(hs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),h.jsx("p",{className:"mt-1",children:j.content})]},j.id))}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),h.jsxs("div",{className:"space-y-6",children:[(De.how_we_met||De.met_date)&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),De.met_date&&h.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[h.jsx(ea,{className:"w-4 h-4 inline mr-1"}),ui(new Date(De.met_date),"MMMM d, yyyy")]}),De.how_we_met&&h.jsx("p",{className:"text-sm",children:De.how_we_met})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-3",children:[h.jsx("h2",{className:"font-semibold",children:"Relationships"}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx(ye,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"}),h.jsxs(ye,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[h.jsx(gr,{className:"w-4 h-4 mr-1"}),"Add Relationship"]})]})]}),(Ge==null?void 0:Ge.length)>0?h.jsx("div",{className:"space-y-2",children:Ge.map((j,H)=>{var me,ee,W;const oe=((ee=(me=n==null?void 0:n.acf)==null?void 0:me.relationships)==null?void 0:ee.findIndex(te=>te.related_person===j.related_person&&te.relationship_type===j.relationship_type))??H;return h.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[h.jsxs(ye,{to:`/people/${j.related_person}`,className:"flex items-center flex-1 min-w-0",children:[j.person_thumbnail?h.jsx("img",{src:j.person_thumbnail,alt:Eh(j.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:h.jsx("span",{className:"text-xs font-medium text-gray-500",children:((W=Eh(j.person_name))==null?void 0:W[0])||"?"})}),h.jsxs("div",{children:[h.jsx("p",{className:"text-sm font-medium",children:Eh(j.person_name)||`Person #${j.related_person}`}),h.jsx("p",{className:"text-xs text-gray-500",children:Eh(j.relationship_name||j.relationship_label)})]})]}),h.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[h.jsx(ye,{to:`/people/${t}/relationship/${oe}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:h.jsx(xh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),h.jsx("button",{onClick:()=>L(oe),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:h.jsx(hs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):h.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var bd=t=>t.type==="checkbox",So=t=>t instanceof Date,Lr=t=>t==null;const Z7=t=>typeof t=="object";var Nt=t=>!Lr(t)&&!Array.isArray(t)&&Z7(t)&&!So(t),eK=t=>Nt(t)&&t.target?bd(t.target)?t.target.checked:t.target.value:t,Fre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,tK=(t,e)=>t.has(Fre(e)),Lre=t=>{const e=t.constructor&&t.constructor.prototype;return Nt(e)&&e.hasOwnProperty("isPrototypeOf")},dC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Bt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(dC&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Nt(t)&&Lre(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Bt(t[i]));return n}var xp=t=>/^\w*$/.test(t),_t=t=>t===void 0,hC=t=>Array.isArray(t)?t.filter(Boolean):[],fC=t=>hC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(t,e,r)=>{if(!e||!Nt(t))return r;const n=(xp(e)?[e]:fC(e)).reduce((i,s)=>Lr(i)?i:i[s],t);return _t(n)||n===t?_t(t[e])?r:t[e]:n},on=t=>typeof t=="boolean",Ir=t=>typeof t=="function",Je=(t,e,r)=>{let n=-1;const i=xp(e)?[e]:fC(e),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const u=t[a];l=Nt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const $f={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Hn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Si={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},rK=Te.createContext(null);rK.displayName="HookFormContext";const pC=()=>Te.useContext(rK);var nK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Hn.all&&(e._proxyFormState[o]=!n||Hn.all),r&&(r[o]=!0),t[o]}});return i};const mC=typeof window<"u"?Te.useLayoutEffect:Te.useEffect;function Bre(t){const e=pC(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[o,a]=Te.useState(r._formState),l=Te.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return mC(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&a({...r._formState,...u})}}),[i,n,s]),Te.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Te.useMemo(()=>nK(o,r,l.current,!1),[o,r])}var an=t=>typeof t=="string",qP=(t,e,r,n,i)=>an(t)?(n&&e.watch.add(t),le(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),le(r,s))):(n&&(e.watchAll=!0),r),MP=t=>Lr(t)||!Z7(t);function Vn(t,e,r=new WeakSet){if(MP(t)||MP(e))return Object.is(t,e);if(So(t)&&So(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(So(o)&&So(a)||Nt(o)&&Nt(a)||Array.isArray(o)&&Array.isArray(a)?!Vn(o,a,r):!Object.is(o,a))return!1}}return!0}function zre(t){const e=pC(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o,compute:a}=t||{},l=Te.useRef(i),u=Te.useRef(a),c=Te.useRef(void 0),d=Te.useRef(r),f=Te.useRef(n);u.current=a;const[p,m]=Te.useState(()=>{const b=r._getWatch(n,l.current);return u.current?u.current(b):b}),g=Te.useCallback(b=>{const x=qP(n,r._names,b||r._formValues,!1,l.current);return u.current?u.current(x):x},[r._formValues,r._names,n]),w=Te.useCallback(b=>{if(!s){const x=qP(n,r._names,b||r._formValues,!1,l.current);if(u.current){const E=u.current(x);Vn(E,c.current)||(m(E),c.current=E)}else m(x)}},[r._formValues,r._names,s,n]);mC(()=>((d.current!==r||!Vn(f.current,n))&&(d.current=r,f.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:b=>{w(b.values)}})),[r,o,n,w]),Te.useEffect(()=>r._removeUnmounted());const y=d.current!==r,v=f.current,_=Te.useMemo(()=>{if(s)return null;const b=!y&&!Vn(v,n);return y||b?g():null},[s,y,n,v,g]);return _!==null?_:p}function Ure(t){const e=pC(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:o,exact:a=!0}=t,l=tK(i._names.array,r),u=Te.useMemo(()=>le(i._formValues,r,le(i._defaultValues,r,o)),[i,r,o]),c=zre({control:i,name:r,defaultValue:u,exact:a}),d=Bre({control:i,name:r,exact:a}),f=Te.useRef(t),p=Te.useRef(void 0),m=Te.useRef(i.register(r,{...t.rules,value:c,...on(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const g=Te.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(d.errors,r)},isDirty:{enumerable:!0,get:()=>!!le(d.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!le(d.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!le(d.validatingFields,r)},error:{enumerable:!0,get:()=>le(d.errors,r)}}),[d,r]),w=Te.useCallback(b=>m.current.onChange({target:{value:eK(b),name:r},type:$f.CHANGE}),[r]),y=Te.useCallback(()=>m.current.onBlur({target:{value:le(i._formValues,r),name:r},type:$f.BLUR}),[r,i._formValues]),v=Te.useCallback(b=>{const x=le(i._fields,r);x&&x._f&&b&&(x._f.ref={focus:()=>Ir(b.focus)&&b.focus(),select:()=>Ir(b.select)&&b.select(),setCustomValidity:E=>Ir(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>Ir(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),_=Te.useMemo(()=>({name:r,value:c,...on(n)||d.disabled?{disabled:d.disabled||n}:{},onChange:w,onBlur:y,ref:v}),[r,n,d.disabled,w,y,v,c]);return Te.useEffect(()=>{const b=i._options.shouldUnregister||s,x=p.current;x&&x!==r&&!l&&i.unregister(x),i.register(r,{...f.current.rules,...on(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(T,S)=>{const O=le(i._fields,T);O&&O._f&&(O._f.mount=S)};if(E(r,!0),b){const T=Bt(le(i._options.defaultValues,r,f.current.defaultValue));Je(i._defaultValues,r,T),_t(le(i._formValues,r))&&Je(i._formValues,r,T)}return!l&&i.register(r),p.current=r,()=>{(l?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Te.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Te.useMemo(()=>({field:_,formState:d,fieldState:g}),[_,d,g])}const jf=t=>t.render(Ure(t));var Wre=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},cc=t=>Array.isArray(t)?t:[t],kN=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function iK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Nt(i)&&s){const o=iK(i,s);Nt(o)&&(r[n]=o)}else t[n]&&(r[n]=s)}return r}var Er=t=>Nt(t)&&!Object.keys(t).length,vC=t=>t.type==="file",kf=t=>{if(!dC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},sK=t=>t.type==="select-multiple",yC=t=>t.type==="radio",Hre=t=>yC(t)||bd(t),Mm=t=>kf(t)&&t.isConnected;function Vre(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=_t(t)?n++:t[e[n++]];return t}function Kre(t){for(const e in t)if(t.hasOwnProperty(e)&&!_t(t[e]))return!1;return!0}function It(t,e){const r=Array.isArray(e)?e:xp(e)?[e]:fC(e),n=r.length===1?t:Vre(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Nt(n)&&Er(n)||Array.isArray(n)&&Kre(n))&&It(t,r.slice(0,-1)),t}var Gre=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function oK(t){return Array.isArray(t)||Nt(t)&&!Gre(t)}function AP(t,e={}){for(const r in t){const n=t[r];oK(n)?(e[r]=Array.isArray(n)?[]:{},AP(n,e[r])):_t(n)||(e[r]=!0)}return e}function La(t,e,r){r||(r=AP(e));for(const n in t){const i=t[n];if(oK(i))_t(e)||MP(r[n])?r[n]=AP(i,Array.isArray(i)?[]:{}):La(i,Lr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Vn(i,s)}}return r}const DN={value:!1,isValid:!1},qN={value:!0,isValid:!0};var aK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_t(t[0].attributes.value)?_t(t[0].value)||t[0].value===""?qN:{value:t[0].value,isValid:!0}:qN:DN}return DN},lK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>_t(t)?t:e?t===""?NaN:t&&+t:r&&an(t)?new Date(t):n?n(t):t;const MN={isValid:!1,value:null};var uK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,MN):MN;function AN(t){const e=t.ref;return vC(e)?e.files:yC(e)?uK(t.refs).value:sK(e)?[...e.selectedOptions].map(({value:r})=>r):bd(e)?aK(t.refs).value:lK(_t(e.value)?t.ref.value:e.value,t)}var Yre=(t,e,r,n)=>{const i={};for(const s of t){const o=le(e,s);o&&Je(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Df=t=>t instanceof RegExp,Uu=t=>_t(t)?t:Df(t)?t.source:Nt(t)?Df(t.value)?t.value.source:t.value:t,FN=t=>({isOnSubmit:!t||t===Hn.onSubmit,isOnBlur:t===Hn.onBlur,isOnChange:t===Hn.onChange,isOnAll:t===Hn.all,isOnTouch:t===Hn.onTouched});const LN="AsyncFunction";var Qre=t=>!!t&&!!t.validate&&!!(Ir(t.validate)&&t.validate.constructor.name===LN||Nt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===LN)),Xre=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),BN=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const dc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=le(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(dc(a,e))break}else if(Nt(a)&&dc(a,e))break}}};function zN(t,e,r){const n=le(t,r);if(n||xp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=le(e,s),a=le(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:r}}var Jre=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Er(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Hn.all))},Zre=(t,e,r)=>!t||!e||t===e||cc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),ene=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,tne=(t,e)=>!hC(le(t,e)).length&&It(t,e),rne=(t,e,r)=>{const n=cc(le(t,r));return Je(n,"root",e[r]),Je(t,r,n),t};function UN(t,e,r="validate"){if(an(t)||Array.isArray(t)&&t.every(an)||on(t)&&!t)return{type:r,message:an(t)?t:"",ref:e}}var qa=t=>Nt(t)&&!Df(t)?t:{value:t,message:""},WN=async(t,e,r,n,i,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:c,min:d,max:f,pattern:p,validate:m,name:g,valueAsNumber:w,mount:y}=t._f,v=le(r,g);if(!y||e.has(g))return{};const _=a?a[0]:o,b=C=>{i&&_.reportValidity&&(_.setCustomValidity(on(C)?"":C||""),_.reportValidity())},x={},E=yC(o),T=bd(o),S=E||T,O=(w||vC(o))&&_t(o.value)&&_t(v)||kf(o)&&o.value===""||v===""||Array.isArray(v)&&!v.length,P=Wre.bind(null,g,n,x),I=(C,R,q,B=Si.maxLength,J=Si.minLength)=>{const Q=C?R:q;x[g]={type:C?B:J,message:Q,ref:o,...P(C?B:J,Q)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(O||Lr(v))||on(v)&&!v||T&&!aK(a).isValid||E&&!uK(a).isValid)){const{value:C,message:R}=an(l)?{value:!!l,message:l}:qa(l);if(C&&(x[g]={type:Si.required,message:R,ref:_,...P(Si.required,R)},!n))return b(R),x}if(!O&&(!Lr(d)||!Lr(f))){let C,R;const q=qa(f),B=qa(d);if(!Lr(v)&&!isNaN(v)){const J=o.valueAsNumber||v&&+v;Lr(q.value)||(C=J>q.value),Lr(B.value)||(R=J<B.value)}else{const J=o.valueAsDate||new Date(v),Q=U=>new Date(new Date().toDateString()+" "+U),L=o.type=="time",V=o.type=="week";an(q.value)&&v&&(C=L?Q(v)>Q(q.value):V?v>q.value:J>new Date(q.value)),an(B.value)&&v&&(R=L?Q(v)<Q(B.value):V?v<B.value:J<new Date(B.value))}if((C||R)&&(I(!!C,q.message,B.message,Si.max,Si.min),!n))return b(x[g].message),x}if((u||c)&&!O&&(an(v)||s&&Array.isArray(v))){const C=qa(u),R=qa(c),q=!Lr(C.value)&&v.length>+C.value,B=!Lr(R.value)&&v.length<+R.value;if((q||B)&&(I(q,C.message,R.message),!n))return b(x[g].message),x}if(p&&!O&&an(v)){const{value:C,message:R}=qa(p);if(Df(C)&&!v.match(C)&&(x[g]={type:Si.pattern,message:R,ref:o,...P(Si.pattern,R)},!n))return b(R),x}if(m){if(Ir(m)){const C=await m(v,r),R=UN(C,_);if(R&&(x[g]={...R,...P(Si.validate,R.message)},!n))return b(R.message),x}else if(Nt(m)){let C={};for(const R in m){if(!Er(C)&&!n)break;const q=UN(await m[R](v,r),_,R);q&&(C={...q,...P(R,q.message)},b(q.message),n&&(x[g]=C))}if(!Er(C)&&(x[g]={ref:_,...C},!n))return x}}return b(!0),x};const nne={mode:Hn.onSubmit,reValidateMode:Hn.onChange,shouldFocusError:!0};function ine(t={}){let e={...nne,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Nt(e.defaultValues)||Nt(e.values)?Bt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Bt(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},d={...c};let f={...d};const p={array:kN(),state:kN()},m=e.criteriaMode===Hn.all,g=$=>D=>{clearTimeout(u),u=setTimeout($,D)},w=async $=>{if(!o.keepIsValid&&!e.disabled&&(d.isValid||f.isValid||$)){let D;e.resolver?(D=Er((await S()).errors),y()):D=await P(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},y=($,D)=>{!e.disabled&&(d.isValidating||d.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(a.mount)).forEach(F=>{F&&(D?Je(r.validatingFields,F,D):It(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Er(r.validatingFields)}))},v=($,D=[],F,se,re=!0,K=!0)=>{if(se&&F&&!e.disabled){if(o.action=!0,K&&Array.isArray(le(n,$))){const j=F(le(n,$),se.argA,se.argB);re&&Je(n,$,j)}if(K&&Array.isArray(le(r.errors,$))){const j=F(le(r.errors,$),se.argA,se.argB);re&&Je(r.errors,$,j),tne(r.errors,$)}if((d.touchedFields||f.touchedFields)&&K&&Array.isArray(le(r.touchedFields,$))){const j=F(le(r.touchedFields,$),se.argA,se.argB);re&&Je(r.touchedFields,$,j)}(d.dirtyFields||f.dirtyFields)&&(r.dirtyFields=La(i,s)),p.state.next({name:$,isDirty:C($,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,$,D)},_=($,D)=>{Je(r.errors,$,D),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},x=($,D,F,se)=>{const re=le(n,$);if(re){const K=le(s,$,_t(F)?le(i,$):F);_t(K)||se&&se.defaultChecked||D?Je(s,$,D?K:AN(re._f)):B($,K),o.mount&&!o.action&&w()}},E=($,D,F,se,re)=>{let K=!1,j=!1;const H={name:$};if(!e.disabled){if(!F||se){(d.isDirty||f.isDirty)&&(j=r.isDirty,r.isDirty=H.isDirty=C(),K=j!==H.isDirty);const oe=Vn(le(i,$),D);j=!!le(r.dirtyFields,$),oe?It(r.dirtyFields,$):Je(r.dirtyFields,$,!0),H.dirtyFields=r.dirtyFields,K=K||(d.dirtyFields||f.dirtyFields)&&j!==!oe}if(F){const oe=le(r.touchedFields,$);oe||(Je(r.touchedFields,$,F),H.touchedFields=r.touchedFields,K=K||(d.touchedFields||f.touchedFields)&&oe!==F)}K&&re&&p.state.next(H)}return K?H:{}},T=($,D,F,se)=>{const re=le(r.errors,$),K=(d.isValid||f.isValid)&&on(D)&&r.isValid!==D;if(e.delayError&&F?(l=g(()=>_($,F)),l(e.delayError)):(clearTimeout(u),l=null,F?Je(r.errors,$,F):It(r.errors,$)),(F?!Vn(re,F):re)||!Er(se)||K){const j={...se,...K&&on(D)?{isValid:D}:{},errors:r.errors,name:$};r={...r,...j},p.state.next(j)}},S=async $=>(y($,!0),await e.resolver(s,e.context,Yre($||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),O=async $=>{const{errors:D}=await S($);if(y($),$)for(const F of $){const se=le(D,F);se?Je(r.errors,F,se):It(r.errors,F)}else r.errors=D;return D},P=async($,D,F={valid:!0})=>{for(const se in $){const re=$[se];if(re){const{_f:K,...j}=re;if(K){const H=a.array.has(K.name),oe=re._f&&Qre(re._f);oe&&d.validatingFields&&y([K.name],!0);const me=await WN(re,a.disabled,s,m,e.shouldUseNativeValidation&&!D,H);if(oe&&d.validatingFields&&y([K.name]),me[K.name]&&(F.valid=!1,D))break;!D&&(le(me,K.name)?H?rne(r.errors,me,K.name):Je(r.errors,K.name,me[K.name]):It(r.errors,K.name))}!Er(j)&&await P(j,D,F)}}return F.valid},I=()=>{for(const $ of a.unMount){const D=le(n,$);D&&(D._f.refs?D._f.refs.every(F=>!Mm(F)):!Mm(D._f.ref))&&$e($)}a.unMount=new Set},C=($,D)=>!e.disabled&&($&&D&&Je(s,$,D),!Vn(z(),i)),R=($,D,F)=>qP($,a,{...o.mount?s:_t(D)?i:an($)?{[$]:D}:D},F,D),q=$=>hC(le(o.mount?s:i,$,e.shouldUnregister?le(i,$,[]):[])),B=($,D,F={})=>{const se=le(n,$);let re=D;if(se){const K=se._f;K&&(!K.disabled&&Je(s,$,lK(D,K)),re=kf(K.ref)&&Lr(D)?"":D,sK(K.ref)?[...K.ref.options].forEach(j=>j.selected=re.includes(j.value)):K.refs?bd(K.ref)?K.refs.forEach(j=>{(!j.defaultChecked||!j.disabled)&&(Array.isArray(re)?j.checked=!!re.find(H=>H===j.value):j.checked=re===j.value||!!re)}):K.refs.forEach(j=>j.checked=j.value===re):vC(K.ref)?K.ref.value="":(K.ref.value=re,K.ref.type||p.state.next({name:$,values:Bt(s)})))}(F.shouldDirty||F.shouldTouch)&&E($,re,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&U($)},J=($,D,F)=>{for(const se in D){if(!D.hasOwnProperty(se))return;const re=D[se],K=$+"."+se,j=le(n,K);(a.array.has($)||Nt(re)||j&&!j._f)&&!So(re)?J(K,re,F):B(K,re,F)}},Q=($,D,F={})=>{const se=le(n,$),re=a.array.has($),K=Bt(D);Je(s,$,K),re?(p.array.next({name:$,values:Bt(s)}),(d.isDirty||d.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:$,dirtyFields:La(i,s),isDirty:C($,K)})):se&&!se._f&&!Lr(K)?J($,K,F):B($,K,F),BN($,a)&&p.state.next({...r,name:$}),p.state.next({name:o.mount?$:void 0,values:Bt(s)})},L=async $=>{o.mount=!0;const D=$.target;let F=D.name,se=!0;const re=le(n,F),K=oe=>{se=Number.isNaN(oe)||So(oe)&&isNaN(oe.getTime())||Vn(oe,le(s,F,oe))},j=FN(e.mode),H=FN(e.reValidateMode);if(re){let oe,me;const ee=D.type?AN(re._f):eK($),W=$.type===$f.BLUR||$.type===$f.FOCUS_OUT,te=!Xre(re._f)&&!e.resolver&&!le(r.errors,F)&&!re._f.deps||ene(W,le(r.touchedFields,F),r.isSubmitted,H,j),ae=BN(F,a,W);Je(s,F,ee),W?(!D||!D.readOnly)&&(re._f.onBlur&&re._f.onBlur($),l&&l(0)):re._f.onChange&&re._f.onChange($);const fe=E(F,ee,W),Ie=!Er(fe)||ae;if(!W&&p.state.next({name:F,type:$.type,values:Bt(s)}),te)return(d.isValid||f.isValid)&&(e.mode==="onBlur"?W&&w():W||w()),Ie&&p.state.next({name:F,...ae?{}:fe});if(!W&&ae&&p.state.next({...r}),e.resolver){const{errors:hr}=await S([F]);if(y([F]),K(ee),se){const fr=zN(r.errors,n,F),rh=zN(hr,n,fr.name||F);oe=rh.error,F=rh.name,me=Er(hr)}}else y([F],!0),oe=(await WN(re,a.disabled,s,m,e.shouldUseNativeValidation))[F],y([F]),K(ee),se&&(oe?me=!1:(d.isValid||f.isValid)&&(me=await P(n,!0)));se&&(re._f.deps&&(!Array.isArray(re._f.deps)||re._f.deps.length>0)&&U(re._f.deps),T(F,me,oe,fe))}},V=($,D)=>{if(le(r.errors,D)&&$.focus)return $.focus(),1},U=async($,D={})=>{let F,se;const re=cc($);if(e.resolver){const K=await O(_t($)?$:re);F=Er(K),se=$?!re.some(j=>le(K,j)):F}else $?(se=(await Promise.all(re.map(async K=>{const j=le(n,K);return await P(j&&j._f?{[K]:j}:j)}))).every(Boolean),!(!se&&!r.isValid)&&w()):se=F=await P(n);return p.state.next({...!an($)||(d.isValid||f.isValid)&&F!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!se&&dc(n,V,$?re:a.mount),se},z=($,D)=>{let F={...o.mount?s:i};return D&&(F=iK(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),_t($)?F:an($)?le(F,$):$.map(se=>le(F,se))},Z=($,D)=>({invalid:!!le((D||r).errors,$),isDirty:!!le((D||r).dirtyFields,$),error:le((D||r).errors,$),isValidating:!!le(r.validatingFields,$),isTouched:!!le((D||r).touchedFields,$)}),he=$=>{$&&cc($).forEach(D=>It(r.errors,D)),p.state.next({errors:$?r.errors:{}})},ve=($,D,F)=>{const se=(le(n,$,{_f:{}})._f||{}).ref,re=le(r.errors,$)||{},{ref:K,message:j,type:H,...oe}=re;Je(r.errors,$,{...oe,...D,ref:se}),p.state.next({name:$,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&se&&se.focus&&se.focus()},ke=($,D)=>Ir($)?p.state.subscribe({next:F=>"values"in F&&$(R(void 0,D),F)}):R($,D,!0),be=$=>p.state.subscribe({next:D=>{Zre($.name,D.name,$.exact)&&Jre(D,$.formState||d,Ft,$.reRenderRoot)&&$.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,xe=$=>(o.mount=!0,f={...f,...$.formState},be({...$,formState:{...c,...$.formState}})),$e=($,D={})=>{for(const F of $?cc($):a.mount)a.mount.delete(F),a.array.delete(F),D.keepValue||(It(n,F),It(s,F)),!D.keepError&&It(r.errors,F),!D.keepDirty&&It(r.dirtyFields,F),!D.keepTouched&&It(r.touchedFields,F),!D.keepIsValidating&&It(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&It(i,F);p.state.next({values:Bt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:C()}:{}}),!D.keepIsValid&&w()},vt=({disabled:$,name:D})=>{(on($)&&o.mount||$||a.disabled.has(D))&&($?a.disabled.add(D):a.disabled.delete(D))},Ge=($,D={})=>{let F=le(n,$);const se=on(D.disabled)||on(e.disabled);return Je(n,$,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:$}},name:$,mount:!0,...D}}),a.mount.add($),F?vt({disabled:on(D.disabled)?D.disabled:e.disabled,name:$}):x($,!0,D.value),{...se?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:Uu(D.min),max:Uu(D.max),minLength:Uu(D.minLength),maxLength:Uu(D.maxLength),pattern:Uu(D.pattern)}:{},name:$,onChange:L,onBlur:L,ref:re=>{if(re){Ge($,D),F=le(n,$);const K=_t(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,j=Hre(K),H=F._f.refs||[];if(j?H.find(oe=>oe===K):K===F._f.ref)return;Je(n,$,{_f:{...F._f,...j?{refs:[...H.filter(Mm),K,...Array.isArray(le(i,$))?[{}]:[]],ref:{type:K.type,name:$}}:{ref:K}}}),x($,!1,void 0,K)}else F=le(n,$,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(tK(a.array,$)&&o.action)&&a.unMount.add($)}}},Ct=()=>e.shouldFocusError&&dc(n,V,a.mount),rr=$=>{on($)&&(p.state.next({disabled:$}),dc(n,(D,F)=>{const se=le(n,F);se&&(D.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(re=>{re.disabled=se._f.disabled||$}))},0,!1))},De=($,D)=>async F=>{let se;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let re=Bt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:K,values:j}=await S();y(),r.errors=K,re=Bt(j)}else await P(n);if(a.disabled.size)for(const K of a.disabled)It(re,K);if(It(r.errors,"root"),Er(r.errors)){p.state.next({errors:{}});try{await $(re,F)}catch(K){se=K}}else D&&await D({...r.errors},F),Ct(),setTimeout(Ct);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Er(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},rn=($,D={})=>{le(n,$)&&(_t(D.defaultValue)?Q($,Bt(le(i,$))):(Q($,D.defaultValue),Je(i,$,Bt(D.defaultValue))),D.keepTouched||It(r.touchedFields,$),D.keepDirty||(It(r.dirtyFields,$),r.isDirty=D.defaultValue?C($,Bt(le(i,$))):C()),D.keepError||(It(r.errors,$),d.isValid&&w()),p.state.next({...r}))},vn=($,D={})=>{const F=$?Bt($):i,se=Bt(F),re=Er($),K=re?i:se;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const j=new Set([...a.mount,...Object.keys(La(i,s))]);for(const H of Array.from(j))le(r.dirtyFields,H)?Je(K,H,le(s,H)):Q(H,le(K,H))}else{if(dC&&_t($))for(const j of a.mount){const H=le(n,j);if(H&&H._f){const oe=Array.isArray(H._f.refs)?H._f.refs[0]:H._f.ref;if(kf(oe)){const me=oe.closest("form");if(me){me.reset();break}}}}if(D.keepFieldsRef)for(const j of a.mount)Q(j,le(K,j));else n={}}s=e.shouldUnregister?D.keepDefaultValues?Bt(i):{}:Bt(K),p.array.next({values:{...K}}),p.state.next({values:{...K}})}a={mount:D.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!d.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Er(K),o.watch=!!e.shouldUnregister,o.keepIsValid=!!D.keepIsValid,o.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:re?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Vn($,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:D.keepDirtyValues?D.keepDefaultValues&&s?La(i,s):r.dirtyFields:D.keepDefaultValues&&$?La(i,$):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Mr=($,D)=>vn(Ir($)?$(s):$,{...e.resetOptions,...D}),Ye=($,D={})=>{const F=le(n,$),se=F&&F._f;if(se){const re=se.refs?se.refs[0]:se.ref;re.focus&&setTimeout(()=>{re.focus(),D.shouldSelect&&Ir(re.select)&&re.select()})}},Ft=$=>{r={...r,...$}},Lt={control:{register:Ge,unregister:$e,getFieldState:Z,handleSubmit:De,setError:ve,_subscribe:be,_runSchema:S,_updateIsValidating:y,_focusError:Ct,_getWatch:R,_getDirty:C,_setValid:w,_setFieldArray:v,_setDisabledField:vt,_setErrors:b,_getFieldArray:q,_reset:vn,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then($=>{Mr($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:rr,_subjects:p,_proxyFormState:d,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return a},set _names($){a=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:xe,trigger:U,register:Ge,handleSubmit:De,watch:ke,setValue:Q,getValues:z,reset:Mr,resetField:rn,clearErrors:he,unregister:$e,setError:ve,setFocus:Ye,getFieldState:Z};return{...Lt,formControl:Lt}}function iu(t={}){const e=Te.useRef(void 0),r=Te.useRef(void 0),[n,i]=Te.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ir(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=ine(t);e.current={...a,formState:n}}const s=e.current.control;return s._options=t,mC(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Te.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Te.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Te.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Te.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Te.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),Te.useEffect(()=>{var o;t.values&&!Vn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((o=s._options.resetOptions)===null||o===void 0)&&o.keepIsValid||s._setValid(),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Te.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=nK(n,s),e.current}function HN(){var g;const{id:t}=Zi(),e=Jr(),r=!!t,{data:n,isLoading:i}=nu(t),s=$re(),o=gd(),{data:a=[]}=ht({queryKey:["date-types"],queryFn:async()=>(await Be.getDateTypes()).data}),l=a.find(w=>w.slug==="birthday"||w.name.toLowerCase()==="birthday"),{register:u,handleSubmit:c,reset:d,formState:{errors:f,isSubmitting:p}}=iu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});k.useEffect(()=>{var w,y,v,_,b,x,E,T;if(n){const S=(y=(w=n.acf)==null?void 0:w.contact_info)==null?void 0:y.find(P=>P.contact_type==="email"),O=(S==null?void 0:S.contact_value)||"";d({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((_=n.acf)==null?void 0:_.last_name)||"",nickname:((b=n.acf)==null?void 0:b.nickname)||"",gender:((x=n.acf)==null?void 0:x.gender)||"",email:O,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((T=n.acf)==null?void 0:T.is_favorite)||!1,birthday:""})}},[n,d]),bi(r&&n?`Edit ${((g=n.title)==null?void 0:g.rendered)||n.title||"Person"}`:"New Person");const m=async w=>{try{const v=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unnamed Person",_={title:v,status:"publish",acf:{first_name:w.first_name,last_name:w.last_name,nickname:w.nickname,gender:w.gender||"",how_we_met:w.how_we_met,is_favorite:w.is_favorite}};if(!r&&w.email&&(_.acf.contact_info=[{contact_type:"email",contact_value:w.email,contact_label:""}]),r)_.title=v,await o.mutateAsync({id:t,data:_}),e(`/people/${t}`);else{const x=(await s.mutateAsync(_)).data.id;if(w.email)try{await Rn.sideloadGravatar(x,w.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(w.birthday&&l)try{const E=w.first_name||"Person";await Be.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:w.birthday,is_recurring:!0,related_people:[x],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${x}`)}}catch(y){console.error("Failed to save person:",y)}};return r&&i?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ye,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to People"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),h.jsxs("form",{onSubmit:c(m),className:"space-y-6",children:[h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"First Name *"}),h.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Last Name"}),h.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Nickname"}),h.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Gender"}),h.jsxs("select",{...u("gender"),className:"input",children:[h.jsx("option",{value:"",children:"Select gender..."}),h.jsx("option",{value:"male",children:"Male"}),h.jsx("option",{value:"female",children:"Female"}),h.jsx("option",{value:"non_binary",children:"Non-binary"}),h.jsx("option",{value:"other",children:"Other"}),h.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Email"}),h.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Birthday"}),h.jsx("input",{type:"date",...u("birthday"),className:"input"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"How We Met"}),h.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),h.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ye,{to:"/people",className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Qs,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function sne({value:t,onChange:e,companies:r,isLoading:n}){return h.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[h.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return h.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function VN(){var v,_;const{personId:t,index:e}=Zi(),r=Jr();Dr();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=nu(t),a=gd(),{data:l=[],isLoading:u}=ht({queryKey:["companies","all"],queryFn:async()=>(await Be.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:c,handleSubmit:d,reset:f,watch:p,control:m,formState:{errors:g,isSubmitting:w}}=iu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});k.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),bi(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((_=s==null?void 0:s.title)==null?void 0:_.rendered)||(s==null?void 0:s.title)||"Person"}`);const y=async b=>{var x,E,T;try{const S=[...((x=s.acf)==null?void 0:x.work_history)||[]],O={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?S[n]=O:S.push(O);const P={...s.acf,work_history:S,contact_info:Array.isArray((E=s.acf)==null?void 0:E.contact_info)?s.acf.contact_info:[],relationships:Array.isArray((T=s.acf)==null?void 0:T.relationships)?s.acf.relationships:[]};await a.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(S){console.error("Failed to save work history:",S)}};return p("is_current"),o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ye,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),h.jsxs("form",{onSubmit:d(y),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Company"}),h.jsx(jf,{name:"company",control:m,render:({field:b})=>h.jsx(sne,{value:b.value,onChange:b.onChange,companies:l,isLoading:u})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Job Title"}),h.jsx("input",{...c("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Description"}),h.jsx("textarea",{...c("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),h.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Start Date"}),h.jsx("input",{type:"date",...c("start_date"),className:"input"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"End Date"}),h.jsx("input",{type:"date",...c("end_date"),className:"input"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",...c("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),h.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ye,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[w?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Qs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ye,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const one=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function KN(){var m,g;const{personId:t,index:e}=Zi(),r=Jr(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=nu(t),a=gd(),{register:l,handleSubmit:u,reset:c,formState:{errors:d,isSubmitting:f}}=iu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});k.useEffect(()=>{var w;if(s&&i){const v=(((w=s.acf)==null?void 0:w.contact_info)||[])[n];v&&c({contact_type:v.contact_type||"",contact_label:v.contact_label||"",contact_value:v.contact_value||""})}},[s,n,i,c]),bi(i?`Edit Contact Detail - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Contact Detail - ${((g=s==null?void 0:s.title)==null?void 0:g.rendered)||(s==null?void 0:s.title)||"Person"}`);const p=async w=>{var y,v,_;try{const b=[...((y=s.acf)==null?void 0:y.contact_info)||[]],x={contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""};i?b[n]=x:b.push(x);const E={...s.acf,contact_info:b,work_history:Array.isArray((v=s.acf)==null?void 0:v.work_history)?s.acf.work_history:[],relationships:Array.isArray((_=s.acf)==null?void 0:_.relationships)?s.acf.relationships:[]};await a.mutateAsync({id:t,data:{acf:E}}),r(`/people/${t}`)}catch(b){console.error("Failed to save contact detail:",b)}};return o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ye,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Contact Detail":"Add Contact Detail"}),h.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Contact Type *"}),h.jsxs("select",{...l("contact_type",{required:"Please select a contact type"}),className:"input",children:[h.jsx("option",{value:"",children:"Select a type..."}),one.map(w=>h.jsx("option",{value:w.value,children:w.label},w.value))]}),d.contact_type&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.contact_type.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Label"}),h.jsx("input",{...l("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Value *"}),h.jsx("input",{...l("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),d.contact_value&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:d.contact_value.message})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ye,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Qs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Contact Detail"]})]})]})]})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ye,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Am(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function ane({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){var y;const[s,o]=k.useState(""),[a,l]=k.useState(!1),u=k.useRef(null),c=k.useRef(null),d=k.useMemo(()=>r.filter(_=>_.id!==i).sort((_,b)=>{var T,S;const x=(_.first_name||((T=_.acf)==null?void 0:T.first_name)||"").toLowerCase(),E=(b.first_name||((S=b.acf)==null?void 0:S.first_name)||"").toLowerCase();return x<E?-1:x>E?1:0}),[r,i]),f=k.useMemo(()=>{if(!s)return d.slice(0,10);const v=s.toLowerCase();return d.filter(_=>{var T,S,O;const b=Am(((T=_.title)==null?void 0:T.rendered)||_.title||"").toLowerCase(),x=(_.first_name||((S=_.acf)==null?void 0:S.first_name)||"").toLowerCase(),E=(_.last_name||((O=_.acf)==null?void 0:O.last_name)||"").toLowerCase();return b.includes(v)||x.includes(v)||E.includes(v)}).slice(0,10)},[d,s]),p=k.useMemo(()=>d.find(v=>v.id===t),[d,t]);k.useEffect(()=>{const v=_=>{c.current&&!c.current.contains(_.target)&&u.current&&!u.current.contains(_.target)&&l(!1)};return document.addEventListener("mousedown",v),()=>document.removeEventListener("mousedown",v)},[]);const m=v=>{e(v),o(""),l(!1)},g=()=>{e(null),o(""),l(!1)},w=p?Am(((y=p.title)==null?void 0:y.rendered)||p.title):"";return h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"relative",children:p&&!a?h.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[h.jsx("span",{children:w}),h.jsx("button",{type:"button",onClick:v=>{v.stopPropagation(),g()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:h.jsx(Xs,{className:"w-4 h-4"})})]}):h.jsx("input",{ref:u,type:"text",value:s,onChange:v=>{o(v.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),a&&(s||!p)&&h.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(v=>{var _;return h.jsx("button",{type:"button",onClick:()=>m(v.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===v.id?"bg-primary-50":""}`,children:Am(((_=v.title)==null?void 0:_.rendered)||v.title)},v.id)}):h.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function GN(){var _,b;const{personId:t,index:e}=Zi(),r=Jr(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=nu(t),a=gd(),{data:l=[],isLoading:u}=_p(),{data:c=[],isLoading:d}=ht({queryKey:["relationship-types"],queryFn:async()=>(await Be.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:g,formState:{errors:w,isSubmitting:y}}=iu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});k.useEffect(()=>{var x;if(s&&i){const T=(((x=s.acf)==null?void 0:x.relationships)||[])[n];T&&m({related_person:T.related_person||null,relationship_type:T.relationship_type?String(T.relationship_type):"",relationship_label:T.relationship_label||""})}},[s,n,i,m]),bi(i?`Edit Relationship - ${((_=s==null?void 0:s.title)==null?void 0:_.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((b=s==null?void 0:s.title)==null?void 0:b.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async x=>{var E,T,S;try{const O=[...((E=s.acf)==null?void 0:E.relationships)||[]],P={related_person:x.related_person||null,relationship_type:x.relationship_type||null,relationship_label:x.relationship_label||""};i?O[n]=P:O.push(P);const I={...s.acf,relationships:O,contact_info:Array.isArray((T=s.acf)==null?void 0:T.contact_info)?s.acf.contact_info:[],work_history:Array.isArray((S=s.acf)==null?void 0:S.work_history)?s.acf.work_history:[]};await a.mutateAsync({id:t,data:{acf:I}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ye,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),h.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Related Person *"}),h.jsx(jf,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:x})=>h.jsx(ane,{value:x.value,onChange:x.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),w.related_person&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Relationship Type"}),h.jsxs("select",{...f("relationship_type",{setValueAs:x=>x?parseInt(x,10):null}),className:"input",disabled:d,children:[h.jsx("option",{value:"",children:"Select a type..."}),c.map(x=>h.jsx("option",{value:x.id,children:x.name},x.id))]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Custom Label"}),h.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ye,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:y,children:[y?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):h.jsx(Qs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load person."}),h.jsx(ye,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function lne({company:t}){var e,r,n,i,s;return h.jsx(ye,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:h.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?h.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:t.title.rendered,className:"w-12 h-12 rounded-lg object-cover"}):h.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:h.jsx(Zo,{className:"w-6 h-6 text-gray-400"})}),h.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[h.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:t.title.rendered}),((i=t.acf)==null?void 0:i.industry)&&h.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&h.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function une(){const[t,e]=k.useState(""),{data:r,isLoading:n,error:i}=ht({queryKey:["companies",t],queryFn:async()=>(await Be.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=k.useMemo(()=>r?[...r].sort((o,a)=>{var c,d;const l=(((c=o.title)==null?void 0:c.rendered)||o.title||"").toLowerCase(),u=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[h.jsxs("div",{className:"relative flex-1 max-w-md",children:[h.jsx(g7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),h.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:o=>e(o.target.value),className:"input pl-9"})]}),h.jsxs(ye,{to:"/companies/new",className:"btn-primary",children:[h.jsx(gr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),n&&h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&h.jsx("div",{className:"card p-6 text-center",children:h.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:h.jsx(Zo,{className:"w-6 h-6 text-gray-400"})}),h.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),h.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&h.jsxs(ye,{to:"/companies/new",className:"btn-primary",children:[h.jsx(gr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&h.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(o=>h.jsx(lne,{company:o},o.id))})]})}function cne(){var c,d,f,p,m,g,w;const{id:t}=Zi(),e=Jr(),r=Dr(),{data:n,isLoading:i,error:s}=ht({queryKey:["company",t],queryFn:async()=>(await Be.getCompany(t,{_embed:!0})).data}),{data:o}=ht({queryKey:["company-people",t],queryFn:async()=>(await Rn.getCompanyPeople(t)).data}),a=wr({mutationFn:()=>Be.deleteCompany(t),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});bi(((c=n==null?void 0:n.title)==null?void 0:c.rendered)||(n==null?void 0:n.title)||"Company");const l=()=>{window.confirm("Are you sure you want to delete this company?")&&a.mutate()};if(i)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600",children:"Failed to load company."}),h.jsx(ye,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});const u=n.acf||{};return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs(ye,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Companies"]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs(ye,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[h.jsx(_7,{className:"w-4 h-4 mr-2"}),"Edit"]}),h.jsxs("button",{onClick:l,className:"btn-danger",children:[h.jsx(hs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),h.jsx("div",{className:"card p-6",children:h.jsxs("div",{className:"flex items-center gap-4",children:[(p=(f=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:f[0])!=null&&p.source_url?h.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:n.title.rendered,className:"w-16 h-16 rounded-lg object-cover"}):h.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:h.jsx(Zo,{className:"w-8 h-8 text-gray-400"})}),h.jsxs("div",{children:[h.jsx("h1",{className:"text-2xl font-bold",children:n.title.rendered}),u.industry&&h.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&h.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[h.jsx(RP,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),h.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[h.jsxs("div",{className:"card p-6",children:[h.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[h.jsx(Bc,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((m=o==null?void 0:o.current)==null?void 0:m.length)>0?h.jsx("div",{className:"space-y-2",children:o.current.map(y=>{var v;return h.jsxs(ye,{to:`/people/${y.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[y.thumbnail?h.jsx("img",{src:y.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:h.jsx("span",{className:"text-xs text-gray-500",children:((v=y.name)==null?void 0:v[0])||"?"})}),h.jsxs("div",{className:"ml-2",children:[h.jsx("p",{className:"text-sm font-medium",children:y.name}),y.job_title&&h.jsx("p",{className:"text-xs text-gray-500",children:y.job_title})]})]},y.id)})}):h.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),h.jsxs("div",{className:"card p-6",children:[h.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[h.jsx(Bc,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((g=o==null?void 0:o.former)==null?void 0:g.length)>0?h.jsx("div",{className:"space-y-2",children:o.former.map(y=>{var v;return h.jsxs(ye,{to:`/people/${y.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[y.thumbnail?h.jsx("img",{src:y.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):h.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:h.jsx("span",{className:"text-xs text-gray-500",children:((v=y.name)==null?void 0:v[0])||"?"})}),h.jsxs("div",{className:"ml-2",children:[h.jsx("p",{className:"text-sm font-medium text-gray-700",children:y.name}),y.job_title&&h.jsx("p",{className:"text-xs text-gray-500",children:y.job_title})]})]},y.id)})}):h.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((w=u.contact_info)==null?void 0:w.length)>0&&h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),h.jsx("div",{className:"space-y-3",children:u.contact_info.map((y,v)=>h.jsxs("div",{children:[h.jsxs("span",{className:"text-sm text-gray-500",children:[y.contact_label||y.contact_type,":"]}),h.jsx("span",{className:"ml-2",children:y.contact_value})]},v))})]})]})}function YN(){var v,_,b,x,E,T,S,O;const{id:t}=Zi(),e=Jr(),r=Dr(),n=!!t,{data:i,isLoading:s}=ht({queryKey:["company",t],queryFn:async()=>(await Be.getCompany(t,{_embed:!0})).data,enabled:n}),[o,a]=k.useState(!1),l=k.useRef(null),u=wr({mutationFn:P=>Be.createCompany(P),onSuccess:P=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${P.data.id}`)}}),c=wr({mutationFn:P=>Be.updateCompany(t,P),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),d=async P=>{var C;const I=(C=P.target.files)==null?void 0:C[0];if(I){if(!I.type.startsWith("image/")){alert("Please select an image file");return}if(I.size>5*1024*1024){alert("Image size must be less than 5MB");return}a(!0);try{const q=(await Be.uploadMedia(I)).data.id;await Rn.setCompanyLogo(t,q),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(R){console.error("Failed to upload logo:",R),alert("Failed to upload logo. Please try again.")}finally{a(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:g,isSubmitting:w}}=iu();k.useEffect(()=>{var P,I;i&&m({title:i.title.rendered||"",website:((P=i.acf)==null?void 0:P.website)||"",industry:((I=i.acf)==null?void 0:I.industry)||""})},[i,m]),bi(n&&i?`Edit ${((v=i.title)==null?void 0:v.rendered)||i.title||"Company"}`:"New Company");const y=async P=>{const I={title:P.title,status:"publish",acf:{website:P.website,industry:P.industry}};n?c.mutate(I):u.mutate(I)};return n&&s?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ye,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Companies"]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),h.jsxs("form",{onSubmit:p(y),className:"space-y-6",children:[n&&h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Logo"}),h.jsxs("div",{className:"flex items-center gap-4",children:[(x=(b=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:b[0])!=null&&x.source_url?h.jsxs("div",{className:"relative group",children:[h.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:((E=i.title)==null?void 0:E.rendered)||"Company logo",className:"w-20 h-20 rounded-lg object-cover"}),h.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},children:o?h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):h.jsx(Kh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):h.jsxs("div",{className:"relative group",children:[h.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:h.jsx(Kh,{className:"w-8 h-8 text-gray-400"})}),h.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},children:o?h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):h.jsx(Kh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),h.jsxs("div",{children:[h.jsx("button",{type:"button",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},className:"btn-secondary text-sm",disabled:o,children:(O=(S=(T=i==null?void 0:i._embedded)==null?void 0:T["wp:featuredmedia"])==null?void 0:S[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),h.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:d,className:"hidden",disabled:o})]})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Company Name *"}),h.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),g.title&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:g.title.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Website"}),h.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Industry"}),h.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ye,{to:"/companies",className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[h.jsx(Qs,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function dne({person:t,dateType:e}){var r;return h.jsx("div",{className:"flex items-center gap-3 py-2",children:h.jsxs(ye,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?h.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):h.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:h.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),h.jsx("span",{className:"font-medium truncate",children:t.name}),h.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function hne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var a,l;const o=((a=s.date_type)==null?void 0:a[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:o})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:o})}),h.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:h.jsxs("div",{className:"flex items-start gap-4",children:[h.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:h.jsx("span",{className:"text-2xl font-bold leading-none",children:ui(new Date(e.next_occurrence),"d")})}),h.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:o},a)=>h.jsx(dne,{person:s,dateType:o},s.id?`${s.id}-${o}`:`${a}-${o}`))})]})})}function fne(){const{data:t,isLoading:e,error:r}=pte(365),n=(t==null?void 0:t.reduce((s,o)=>{const a=ui(new Date(o.next_occurrence),"yyyy-MM-dd");return s[a]||(s[a]=[]),s[a].push(o),s},{}))||{},i=Object.entries(n).reduce((s,[o,a])=>{const l=ui(new Date(o),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(a),s},{});return h.jsxs("div",{className:"space-y-6",children:[h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),h.jsxs(ye,{to:"/dates/new",className:"btn-primary",children:[h.jsx(gr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),e&&h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&h.jsx("div",{className:"card p-6 text-center",children:h.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&h.jsxs("div",{className:"card p-12 text-center",children:[h.jsx(ea,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),h.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),h.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),h.jsxs(ye,{to:"/dates/new",className:"btn-primary",children:[h.jsx(gr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),Object.entries(i).map(([s,o])=>h.jsxs("div",{children:[h.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),h.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:o.map(a=>h.jsx(hne,{dates:a},a[0].next_occurrence))})]},s))]})}function dl(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function pne({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=k.useState(""),o=k.useMemo(()=>{if(!i)return r.slice(0,10);const c=i.toLowerCase();return r.filter(d=>{var f,p;return(p=dl((f=d.title)==null?void 0:f.rendered))==null?void 0:p.toLowerCase().includes(c)}).slice(0,10)},[r,i]),a=k.useMemo(()=>t.map(c=>r.find(d=>d.id===c)).filter(Boolean),[t,r]),l=c=>{t.includes(c)||e([...t,c]),s("")},u=c=>{e(t.filter(d=>d!==c))};return h.jsxs("div",{className:"space-y-2",children:[a.length>0&&h.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(c=>{var d;return h.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[dl((d=c.title)==null?void 0:d.rendered),h.jsx("button",{type:"button",onClick:()=>u(c.id),className:"hover:text-primary-600",children:h.jsx(Xs,{className:"w-3 h-3"})})]},c.id)})}),h.jsxs("div",{className:"relative",children:[h.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&h.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:o.length>0?o.map(c=>{var d;return h.jsx("button",{type:"button",onClick:()=>l(c.id),disabled:t.includes(c.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(c.id)?"opacity-50 cursor-not-allowed":""}`,children:dl((d=c.title)==null?void 0:d.rendered)},c.id)}):h.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function QN(){var V;const{id:t}=Zi(),[e]=LJ(),r=Jr(),n=Dr(),i=!!t,s=e.get("person"),o=e.get("type"),{data:a,isLoading:l}=ht({queryKey:["important-date",t],queryFn:async()=>(await Be.getDate(t)).data,enabled:i}),u=k.useMemo(()=>{var z;if(!((z=a==null?void 0:a.acf)!=null&&z.related_people))return[];const U=a.acf.related_people;return Array.isArray(U)?U.map(Z=>parseInt(typeof Z=="object"&&Z!==null?Z.ID||Z.id||Z.post_id:Z,10)).filter(Z=>!isNaN(Z)&&Z>0):[]},[a]),{data:c=[],isLoading:d}=_p({orderby:"title",order:"asc"}),{data:f=[]}=ht({queryKey:["people","specific",u],queryFn:async()=>{const U=u.map(Z=>Be.getPerson(Z,{_embed:!0}).then(he=>he.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:u.length>0}),p=k.useMemo(()=>{const U=new Map;return c.forEach(z=>U.set(z.id,z)),f.forEach(z=>{var he,ve,ke,be,xe,$e,vt,Ge,Ct,rr,De,rn,vn,Mr,Ye,Ft,ti;const Z={...z,id:z.id,name:dl(((he=z.title)==null?void 0:he.rendered)||z.title||""),first_name:((ve=z.acf)==null?void 0:ve.first_name)||"",last_name:((ke=z.acf)==null?void 0:ke.last_name)||"",is_favorite:((be=z.acf)==null?void 0:be.is_favorite)||!1,thumbnail:((vt=($e=(xe=z._embedded)==null?void 0:xe["wp:featuredmedia"])==null?void 0:$e[0])==null?void 0:vt.source_url)||((vn=(rn=(De=(rr=(Ct=(Ge=z._embedded)==null?void 0:Ge["wp:featuredmedia"])==null?void 0:Ct[0])==null?void 0:rr.media_details)==null?void 0:De.sizes)==null?void 0:rn.thumbnail)==null?void 0:vn.source_url)||null,labels:((ti=(Ft=(Ye=(Mr=z._embedded)==null?void 0:Mr["wp:term"])==null?void 0:Ye.flat())==null?void 0:Ft.filter(Lt=>(Lt==null?void 0:Lt.taxonomy)==="person_label"))==null?void 0:ti.map(Lt=>Lt.name))||[]};U.set(Z.id,Z)}),Array.from(U.values())},[c,f]),{data:m=[]}=ht({queryKey:["date-types"],queryFn:async()=>((await Be.getDateTypes()).data||[]).sort((Z,he)=>{const ve=Z.name||"",ke=he.name||"";return ve.localeCompare(ke)})}),g=wr({mutationFn:U=>Be.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),w=wr({mutationFn:U=>Be.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=b("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:y,handleSubmit:v,reset:_,watch:b,setValue:x,control:E,formState:{errors:T,isSubmitting:S}}=iu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),O=b("related_people"),P=b("date_type"),I=b("title");k.useEffect(()=>{var Z;if((!I||["'s Birthday","Wedding of "].some(he=>I.endsWith(he)||I.startsWith(he)))&&(O==null?void 0:O.length)>0&&P){const he=m.find(xe=>xe.id===parseInt(P)),ve=(he==null?void 0:he.name)||"",ke=((Z=he==null?void 0:he.slug)==null?void 0:Z.toLowerCase())||ve.toLowerCase(),be=O.map(xe=>{var vt,Ge,Ct;const $e=p.find(rr=>rr.id===xe);return $e?dl(((vt=$e.acf)==null?void 0:vt.first_name)||((Ct=(Ge=$e.title)==null?void 0:Ge.rendered)==null?void 0:Ct.split(" ")[0])||""):null}).filter(Boolean);if(be.length>0&&ve){let xe;ke==="wedding"?be.length>=2?xe=`Wedding of ${be[0]} & ${be[1]}`:xe=`Wedding of ${be[0]}`:xe=`${be[0]}'s ${ve}`,x("title",xe)}}},[O,P,p,m,x,I]);const[C,R]=k.useState(!1);k.useEffect(()=>{var z,Z,he,ve,ke,be;if(C&&!i)return;const U=u.length===0||f.length>0;if(a&&p.length>0&&U){let xe=[];const $e=(z=a.acf)==null?void 0:z.related_people;$e&&(Array.isArray($e)?xe=$e.map(Ge=>parseInt(typeof Ge=="object"&&Ge!==null?Ge.ID||Ge.id||Ge.post_id:Ge,10)).filter(Ge=>!isNaN(Ge)&&Ge>0):typeof $e=="number"&&(xe=[$e]));let vt="";((Z=a.date_type)==null?void 0:Z.length)>0&&(vt=a.date_type[0].toString()),_({title:dl(((he=a.title)==null?void 0:he.rendered)||""),date_value:((ve=a.acf)==null?void 0:ve.date_value)||"",date_type:vt,related_people:xe,is_recurring:((ke=a.acf)==null?void 0:ke.is_recurring)??!0,reminder_days_before:((be=a.acf)==null?void 0:be.reminder_days_before)||7}),R(!0)}else if(!i&&p.length>0&&m.length>0){const xe={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(xe.related_people=[parseInt(s)]),o){const $e=m.find(vt=>vt.slug===o||vt.name.toLowerCase()===o.toLowerCase());$e&&(xe.date_type=$e.id.toString())}_(xe),R(!0)}},[a,_,i,s,o,m,p,u,f,C]),bi(i&&a?`Edit ${((V=a.title)==null?void 0:V.rendered)||a.title||"Date"}`:"New Date");const q=async U=>{const z={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring,reminder_days_before:parseInt(U.reminder_days_before,10)}};i?w.mutate(z):g.mutate(z)};if(i&&l)return h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const B=b("related_people"),J=i&&(B==null?void 0:B.length)>0?B[0]:s,Q=J?`/people/${J}`:"/dates",L=J?"Back to Person":"Back to Dates";return h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs(ye,{to:Q,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),L]})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),h.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Related People"}),h.jsx(jf,{name:"related_people",control:E,render:({field:U})=>h.jsx(pne,{value:U.value,onChange:U.onChange,people:p,isLoading:d})})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Date Type *"}),h.jsx(jf,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const z=U.value?String(U.value):"";return h.jsxs("select",{value:z,onChange:Z=>{const he=Z.target.value;U.onChange(he)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[h.jsx("option",{value:"",children:"Select a type..."}),m.map(Z=>h.jsx("option",{value:String(Z.id),children:Z.name},Z.id))]})}}),T.date_type&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:T.date_type.message})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Label"}),h.jsx("input",{...y("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Date *"}),h.jsx("input",{...y("date_value",{required:"Date is required"}),type:"date",className:"input"}),T.date_value&&h.jsx("p",{className:"text-sm text-red-600 mt-1",children:T.date_value.message})]}),h.jsxs("div",{className:"flex items-center",children:[h.jsx("input",{type:"checkbox",...y("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),h.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Remind me"}),h.jsxs("select",{...y("reminder_days_before"),className:"input",children:[h.jsx("option",{value:"0",children:"On the day"}),h.jsx("option",{value:"1",children:"1 day before"}),h.jsx("option",{value:"3",children:"3 days before"}),h.jsx("option",{value:"7",children:"1 week before"}),h.jsx("option",{value:"14",children:"2 weeks before"}),h.jsx("option",{value:"30",children:"1 month before"})]})]}),h.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[h.jsx(ye,{to:Q,className:"btn-secondary",children:"Cancel"}),h.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[h.jsx(Qs,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function mne(){var y,v,_;const[t,e]=k.useState(null),[r,n]=k.useState(""),[i,s]=k.useState(!1),[o,a]=k.useState(null),l=Dr(),u=wr({mutationFn:async b=>{const x=new FormData;return x.append("file",b),(await Ee.post("/prm/v1/import/monica/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{a(b)},onError:b=>{var x,E;a({valid:!1,error:((E=(x=b.response)==null?void 0:x.data)==null?void 0:E.message)||"Failed to validate file"})}}),c=wr({mutationFn:async({file:b,monicaUrl:x})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",x),(await Ee.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),d=k.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=k.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&m(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&m(b.target.files[0])},m=b=>{if(!b.name.endsWith(".sql")){a({valid:!1,error:"Please select a SQL file"});return}e(b),a(null),c.reset(),u.mutate(b)},g=()=>{if(!r.trim()){a(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(o!=null&&o.valid)&&c.mutate({file:t,monicaUrl:r.trim()})},w=()=>{e(null),n(""),a(null),u.reset(),c.reset()};return h.jsxs("div",{className:"space-y-4",children:[h.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),h.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),c.isSuccess?h.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(rN,{className:"h-5 w-5 text-green-600 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),h.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[h.jsxs("p",{children:["Contacts imported: ",c.data.stats.contacts_imported]}),h.jsxs("p",{children:["Contacts updated: ",c.data.stats.contacts_updated]}),h.jsxs("p",{children:["Contacts skipped (partial): ",c.data.stats.contacts_skipped]}),h.jsxs("p",{children:["Photos imported: ",c.data.stats.photos_imported]}),h.jsxs("p",{children:["Companies created: ",c.data.stats.companies_created]}),h.jsxs("p",{children:["Relationships created: ",c.data.stats.relationships_created]}),h.jsxs("p",{children:["Important dates created: ",c.data.stats.dates_created]}),h.jsxs("p",{children:["Notes created: ",c.data.stats.notes_created]}),((y=c.data.stats.errors)==null?void 0:y.length)>0&&h.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[h.jsx("p",{className:"font-medium",children:"Errors:"}),h.jsx("ul",{className:"list-disc list-inside",children:c.data.stats.errors.map((b,x)=>h.jsx("li",{children:b},x))})]})]}),h.jsx("button",{onClick:w,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):h.jsxs(h.Fragment,{children:[h.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:d,onDragLeave:d,onDragOver:d,onDrop:f,children:[h.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx(oN,{className:"h-8 w-8 text-primary-600 animate-spin"}),h.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx(SZ,{className:"h-8 w-8 text-green-600"}),h.jsx("p",{className:"font-medium text-gray-900",children:t.name}),h.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):h.jsxs("div",{className:"flex flex-col items-center gap-2",children:[h.jsx(aN,{className:"h-8 w-8 text-gray-400"}),h.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),o&&h.jsx("div",{className:`rounded-lg border p-4 ${o.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:o.valid?h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(rN,{className:"h-5 w-5 text-green-600 mt-0.5"}),h.jsxs("div",{className:"flex-1",children:[h.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),h.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[h.jsxs("p",{children:["Export format: ",o.version]}),h.jsxs("p",{children:["Contacts to import: ",o.summary.contacts]}),h.jsxs("p",{children:["Relationships: ",o.summary.relationships]}),h.jsxs("p",{children:["Notes: ",o.summary.notes]}),h.jsxs("p",{children:["Dates: ",o.summary.reminders]}),h.jsxs("p",{children:["Photos: ",o.summary.photos]}),h.jsxs("p",{children:["Companies: ",o.summary.companies_count]})]})]})]}):h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(eN,{className:"h-5 w-5 text-red-600 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:o.error})]})]})}),(o==null?void 0:o.valid)&&h.jsxs("div",{className:"space-y-2",children:[h.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:h.jsx(TZ,{className:"h-4 w-4 text-gray-400"})}),h.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${o.urlError?"border-red-300":"border-gray-300"}`})]}),o.urlError&&h.jsx("p",{className:"text-sm text-red-600",children:o.urlError}),h.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(o==null?void 0:o.valid)&&h.jsxs("div",{className:"flex gap-3",children:[h.jsx("button",{onClick:g,disabled:c.isPending,className:"btn-primary flex items-center gap-2",children:c.isPending?h.jsxs(h.Fragment,{children:[h.jsx(oN,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):h.jsxs(h.Fragment,{children:[h.jsx(aN,{className:"h-4 w-4"}),"Start Import"]})}),h.jsx("button",{onClick:w,disabled:c.isPending,className:"btn-secondary",children:"Cancel"})]}),c.isError&&h.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:h.jsxs("div",{className:"flex items-start gap-3",children:[h.jsx(eN,{className:"h-5 w-5 text-red-600 mt-0.5"}),h.jsxs("div",{children:[h.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),h.jsx("p",{className:"text-sm text-red-700 mt-1",children:((_=(v=c.error.response)==null?void 0:v.data)==null?void 0:_.message)||"An error occurred during import"})]})]})})]})]})}function vne(){const{logoutUrl:t}=pp(),e=window.prmConfig||{};return h.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[h.jsx("div",{className:"card p-6",children:h.jsx(mne,{})}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Account"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"User ID"}),h.jsx("p",{className:"text-gray-600",children:e.userId||"N/A"})]}),h.jsx("div",{children:h.jsx("a",{href:e.adminUrl+"profile.php",className:"btn-secondary",target:"_blank",rel:"noopener noreferrer",children:"Edit Profile in WordPress"})})]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configuration"}),h.jsx("div",{className:"space-y-3",children:h.jsxs(ye,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[h.jsx("p",{className:"font-medium",children:"Relationship Types"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]})})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),h.jsxs("div",{className:"space-y-3",children:[h.jsxs("a",{href:e.adminUrl,className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"WordPress Admin"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Manage all settings, users, and content"})]}),h.jsxs("a",{href:e.adminUrl+"edit.php?post_type=person",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"Manage People"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Edit people with all ACF fields"})]}),h.jsxs("a",{href:e.adminUrl+"edit.php?post_type=company",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"Manage Companies"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Edit companies with all ACF fields"})]}),h.jsxs("a",{href:e.adminUrl+"edit.php?post_type=important_date",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[h.jsx("p",{className:"font-medium",children:"Manage Important Dates"}),h.jsx("p",{className:"text-sm text-gray-500",children:"Edit dates and link people"})]})]})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Session"}),h.jsx("a",{href:t,className:"btn-danger",children:"Log Out"})]}),h.jsxs("div",{className:"card p-6",children:[h.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),h.jsxs("p",{className:"text-sm text-gray-600",children:[Fl," v1.0.0",h.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function XN({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=k.useState(""),[o,a]=k.useState(!1),l=k.useRef(null),u=k.useRef(null),c=k.useMemo(()=>r.sort((w,y)=>{const v=(w.name||"").toLowerCase(),_=(y.name||"").toLowerCase();return v<_?-1:v>_?1:0}),[r]),d=k.useMemo(()=>{if(!i)return c.slice(0,10);const w=i.toLowerCase();return c.filter(y=>(y.name||"").toLowerCase().includes(w)).slice(0,10)},[c,i]),f=k.useMemo(()=>c.find(w=>w.id===parseInt(t,10)),[c,t]);k.useEffect(()=>{const w=y=>{u.current&&!u.current.contains(y.target)&&l.current&&!l.current.contains(y.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const p=w=>{e(w?w.toString():""),s(""),a(!1)},m=()=>{e(""),s(""),a(!1)},g=f?f.name:"";return h.jsxs("div",{className:"relative",children:[h.jsx("div",{className:"relative",children:f&&!o?h.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>a(!0),children:[h.jsx("span",{children:g}),h.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:h.jsx(Xs,{className:"w-4 h-4"})})]}):h.jsx("input",{ref:l,type:"text",value:i,onChange:w=>{s(w.target.value),a(!0)},onFocus:()=>a(!0),placeholder:"Search for a relationship type...",className:"input"})}),o&&(i||!f)&&h.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:d.length>0?h.jsxs(h.Fragment,{children:[h.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:h.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),d.map(w=>h.jsx("button",{type:"button",onClick:()=>p(w.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===w.id.toString()?"bg-primary-50":""}`,children:w.name},w.id))]}):h.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function yne(){bi("Relationship Types - Settings");const t=Dr(),{data:e=[],isLoading:r}=ht({queryKey:["relationship-types"],queryFn:async()=>(await Be.getRelationshipTypes()).data}),[n,i]=k.useState(null),[s,o]=k.useState(""),[a,l]=k.useState(""),[u,c]=k.useState(""),[d,f]=k.useState(""),[p,m]=k.useState(!1),g=wr({mutationFn:async({id:O,name:P,inverseId:I})=>{const C={name:P};return I&&(C.acf={inverse_relationship_type:parseInt(I,10)}),Be.updateRelationshipType(O,C)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),i(null),o(""),l("")}}),w=wr({mutationFn:async({name:O,inverseId:P})=>{const I={name:O};return P&&(I.acf={inverse_relationship_type:parseInt(P,10)}),Be.createRelationshipType(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),c(""),f(""),m(!1)}}),y=wr({mutationFn:O=>Be.deleteRelationshipType(O),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),v=wr({mutationFn:()=>Be.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return h.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&v.mutate()},disabled:v.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[v.isPending?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):h.jsx(y7,{className:"w-4 h-4"}),"Restore Defaults"]})}const b=O=>{var I;i(O.id),o(O.name);const P=(I=O.acf)==null?void 0:I.inverse_relationship_type;l(P?P.toString():"")},x=()=>{i(null),o(""),l("")},E=()=>{if(!s.trim()){alert("Name is required");return}g.mutate({id:n,name:s.trim(),inverseId:a||null})},T=()=>{if(!u.trim()){alert("Name is required");return}w.mutate({name:u.trim(),inverseId:d||null})},S=(O,P)=>{window.confirm(`Are you sure you want to delete "${P}"? This cannot be undone.`)&&y.mutate(O)};return r?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):h.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:h.jsxs("div",{className:"card p-6",children:[h.jsxs("div",{className:"flex items-center justify-between mb-6",children:[h.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),h.jsx("div",{className:"flex gap-2",children:!p&&h.jsxs(h.Fragment,{children:[h.jsx(_,{}),h.jsxs("button",{onClick:()=>m(!0),className:"btn-primary flex items-center gap-2",children:[h.jsx(gr,{className:"w-4 h-4"}),"Add Relationship Type"]})]})})]}),p&&h.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[h.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Name *"}),h.jsx("input",{type:"text",value:u,onChange:O=>c(O.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Inverse Relationship Type"}),h.jsx(XN,{value:d,onChange:f,relationshipTypes:e}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:T,disabled:w.isPending,className:"btn-primary flex items-center gap-2",children:[w.isPending?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsx(Qs,{className:"w-4 h-4"}),"Save"]}),h.jsx("button",{onClick:()=>{m(!1),c(""),f("")},className:"btn-secondary",children:"Cancel"})]})]})]}),h.jsx("div",{className:"space-y-2",children:e.length===0?h.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):e.map(O=>{var q,B;const P=n===O.id,I=(q=O.acf)==null?void 0:q.inverse_relationship_type,C=typeof I=="object"&&(I!=null&&I.ID)?I.ID:typeof I=="object"&&(I!=null&&I.id)?I.id:I,R=C?e.find(J=>J.id===C):null;return h.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:P?h.jsxs("div",{className:"space-y-4",children:[h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Name *"}),h.jsx("input",{type:"text",value:s,onChange:J=>o(J.target.value),className:"input"})]}),h.jsxs("div",{children:[h.jsx("label",{className:"label",children:"Inverse Relationship Type"}),h.jsx(XN,{value:a,onChange:l,relationshipTypes:e,currentTypeId:O.id}),h.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsxs("button",{onClick:E,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?h.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):h.jsx(Qs,{className:"w-4 h-4"}),"Save"]}),h.jsxs("button",{onClick:x,className:"btn-secondary flex items-center gap-2",children:[h.jsx(Xs,{className:"w-4 h-4"}),"Cancel"]})]})]}):h.jsxs("div",{className:"flex items-center justify-between",children:[h.jsxs("div",{className:"flex-1",children:[h.jsx("div",{className:"font-medium",children:O.name}),R&&h.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",h.jsx("span",{className:"font-medium",children:R.name})]}),!R&&((B=O.acf)==null?void 0:B.inverse_relationship_type)===null&&h.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),h.jsxs("div",{className:"flex gap-2",children:[h.jsx("button",{onClick:()=>b(O),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:h.jsx(jZ,{className:"w-4 h-4"})}),h.jsx("button",{onClick:()=>S(O.id,O.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:h.jsx(hs,{className:"w-4 h-4"})})]})]})},O.id)})})]})})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var JN=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function qe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Fm={exports:{}},ZN={},Wu,e$;function Dt(){if(e$)return Wu;e$=1;var t=function(e){return e&&e.Math===Math&&e};return Wu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof JN=="object"&&JN)||t(typeof Wu=="object"&&Wu)||function(){return this}()||Function("return this")(),Wu}var Lm,t$;function Ve(){return t$||(t$=1,Lm=function(t){try{return!!t()}catch{return!0}}),Lm}var Bm,r$;function wd(){if(r$)return Bm;r$=1;var t=Ve();return Bm=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Bm}var zm,n$;function Sp(){if(n$)return zm;n$=1;var t=wd(),e=Function.prototype,r=e.apply,n=e.call;return zm=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),zm}var Um,i$;function Xe(){if(i$)return Um;i$=1;var t=wd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Um=t?n:function(i){return function(){return r.apply(i,arguments)}},Um}var Wm,s$;function ts(){if(s$)return Wm;s$=1;var t=Xe(),e=t({}.toString),r=t("".slice);return Wm=function(n){return r(e(n),8,-1)},Wm}var Hm,o$;function cK(){if(o$)return Hm;o$=1;var t=ts(),e=Xe();return Hm=function(r){if(t(r)==="Function")return e(r)},Hm}var Vm,a$;function Qt(){if(a$)return Vm;a$=1;var t=typeof document=="object"&&document.all;return Vm=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Vm}var Km={},Gm,l$;function qt(){if(l$)return Gm;l$=1;var t=Ve();return Gm=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Gm}var Ym,u$;function Zr(){if(u$)return Ym;u$=1;var t=wd(),e=Function.prototype.call;return Ym=t?e.bind(e):function(){return e.apply(e,arguments)},Ym}var Qm={},c$;function gC(){if(c$)return Qm;c$=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Qm.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Qm}var Xm,d$;function _d(){return d$||(d$=1,Xm=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Xm}var Jm,h$;function Ep(){if(h$)return Jm;h$=1;var t=Xe(),e=Ve(),r=ts(),n=Object,i=t("".split);return Jm=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Jm}var Zm,f$;function xd(){return f$||(f$=1,Zm=function(t){return t==null}),Zm}var ev,p$;function pa(){if(p$)return ev;p$=1;var t=xd(),e=TypeError;return ev=function(r){if(t(r))throw new e("Can't call method on "+r);return r},ev}var tv,m$;function wi(){if(m$)return tv;m$=1;var t=Ep(),e=pa();return tv=function(r){return t(e(r))},tv}var rv,v$;function qr(){if(v$)return rv;v$=1;var t=Qt();return rv=function(e){return typeof e=="object"?e!==null:t(e)},rv}var nv,y$;function Wt(){return y$||(y$=1,nv={}),nv}var iv,g$;function fn(){if(g$)return iv;g$=1;var t=Wt(),e=Dt(),r=Qt(),n=function(i){return r(i)?i:void 0};return iv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},iv}var sv,b$;function Xt(){if(b$)return sv;b$=1;var t=Xe();return sv=t({}.isPrototypeOf),sv}var ov,w$;function su(){if(w$)return ov;w$=1;var t=Dt(),e=t.navigator,r=e&&e.userAgent;return ov=r?String(r):"",ov}var av,_$;function Sd(){if(_$)return av;_$=1;var t=Dt(),e=su(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),av=a,av}var lv,x$;function ou(){if(x$)return lv;x$=1;var t=Sd(),e=Ve(),r=Dt(),n=r.String;return lv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),lv}var uv,S$;function dK(){if(S$)return uv;S$=1;var t=ou();return uv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",uv}var cv,E$;function Ed(){if(E$)return cv;E$=1;var t=fn(),e=Qt(),r=Xt(),n=dK(),i=Object;return cv=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},cv}var dv,O$;function au(){if(O$)return dv;O$=1;var t=String;return dv=function(e){try{return t(e)}catch{return"Object"}},dv}var hv,P$;function rs(){if(P$)return hv;P$=1;var t=Qt(),e=au(),r=TypeError;return hv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},hv}var fv,T$;function bC(){if(T$)return fv;T$=1;var t=rs(),e=xd();return fv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},fv}var pv,C$;function gne(){if(C$)return pv;C$=1;var t=Zr(),e=Qt(),r=qr(),n=TypeError;return pv=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},pv}var mv={exports:{}},vv,I$;function lu(){return I$||(I$=1,vv=!0),vv}var yv,R$;function bne(){if(R$)return yv;R$=1;var t=Dt(),e=Object.defineProperty;return yv=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},yv}var N$;function wC(){if(N$)return mv.exports;N$=1;var t=lu(),e=Dt(),r=bne(),n="__core-js_shared__",i=mv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),mv.exports}var gv,$$;function uu(){if($$)return gv;$$=1;var t=wC();return gv=function(e,r){return t[e]||(t[e]=r||{})},gv}var bv,j$;function Zn(){if(j$)return bv;j$=1;var t=pa(),e=Object;return bv=function(r){return e(t(r))},bv}var wv,k$;function Jt(){if(k$)return wv;k$=1;var t=Xe(),e=Zn(),r=t({}.hasOwnProperty);return wv=Object.hasOwn||function(i,s){return r(e(i),s)},wv}var _v,D$;function Op(){if(D$)return _v;D$=1;var t=Xe(),e=0,r=Math.random(),n=t(1.1.toString);return _v=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},_v}var xv,q$;function Zt(){if(q$)return xv;q$=1;var t=Dt(),e=uu(),r=Jt(),n=Op(),i=ou(),s=dK(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return xv=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},xv}var Sv,M$;function hK(){if(M$)return Sv;M$=1;var t=Zr(),e=qr(),r=Ed(),n=bC(),i=gne(),s=Zt(),o=TypeError,a=s("toPrimitive");return Sv=function(l,u){if(!e(l)||r(l))return l;var c=n(l,a),d;if(c){if(u===void 0&&(u="default"),d=t(c,l,u),!e(d)||r(d))return d;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Sv}var Ev,A$;function _C(){if(A$)return Ev;A$=1;var t=hK(),e=Ed();return Ev=function(r){var n=t(r,"string");return e(n)?n:n+""},Ev}var Ov,F$;function fK(){if(F$)return Ov;F$=1;var t=Dt(),e=qr(),r=t.document,n=e(r)&&e(r.createElement);return Ov=function(i){return n?r.createElement(i):{}},Ov}var Pv,L$;function pK(){if(L$)return Pv;L$=1;var t=qt(),e=Ve(),r=fK();return Pv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Pv}var B$;function Pp(){if(B$)return Km;B$=1;var t=qt(),e=Zr(),r=gC(),n=_d(),i=wi(),s=_C(),o=Jt(),a=pK(),l=Object.getOwnPropertyDescriptor;return Km.f=t?l:function(c,d){if(c=i(c),d=s(d),a)try{return l(c,d)}catch{}if(o(c,d))return n(!e(r.f,c,d),c[d])},Km}var Tv,z$;function wne(){if(z$)return Tv;z$=1;var t=Ve(),e=Qt(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===a?!0:c===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return Tv=n,Tv}var Cv,U$;function Tp(){if(U$)return Cv;U$=1;var t=cK(),e=rs(),r=wd(),n=t(t.bind);return Cv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Cv}var Iv={},Rv,W$;function mK(){if(W$)return Rv;W$=1;var t=qt(),e=Ve();return Rv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Rv}var Nv,H$;function ns(){if(H$)return Nv;H$=1;var t=qr(),e=String,r=TypeError;return Nv=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Nv}var V$;function Nn(){if(V$)return Iv;V$=1;var t=qt(),e=pK(),r=mK(),n=ns(),i=_C(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return Iv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var g=a(f,p);g&&g[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:g[u],enumerable:l in m?m[l]:g[l],writable:!1})}return o(f,p,m)}:o:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return o(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Iv}var $v,K$;function cu(){if(K$)return $v;K$=1;var t=qt(),e=Nn(),r=_d();return $v=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},$v}var jv,G$;function Pe(){if(G$)return jv;G$=1;var t=Dt(),e=Sp(),r=cK(),n=Qt(),i=Pp().f,s=wne(),o=Wt(),a=Tp(),l=cu(),u=Jt(),c=function(d){var f=function(p,m,g){if(this instanceof f){switch(arguments.length){case 0:return new d;case 1:return new d(p);case 2:return new d(p,m)}return new d(p,m,g)}return e(d,this,arguments)};return f.prototype=d.prototype,f};return jv=function(d,f){var p=d.target,m=d.global,g=d.stat,w=d.proto,y=m?t:g?t[p]:t[p]&&t[p].prototype,v=m?o:o[p]||l(o,p,{})[p],_=v.prototype,b,x,E,T,S,O,P,I,C;for(T in f)b=s(m?T:p+(g?".":"#")+T,d.forced),x=!b&&y&&u(y,T),O=v[T],x&&(d.dontCallGetSet?(C=i(y,T),P=C&&C.value):P=y[T]),S=x&&P?P:f[T],!(!b&&!w&&typeof O==typeof S)&&(d.bind&&x?I=a(S,t):d.wrap&&x?I=c(S):w&&n(S)?I=r(S):I=S,(d.sham||S&&S.sham||O&&O.sham)&&l(I,"sham",!0),l(v,T,I),w&&(E=p+"Prototype",u(o,E)||l(o,E,{}),l(o[E],T,S),d.real&&_&&(b||!_[T])&&l(_,T,S)))},jv}var Y$;function _ne(){if(Y$)return ZN;Y$=1;var t=Pe(),e=qt(),r=Nn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),ZN}var Q$;function xne(){if(Q$)return Fm.exports;Q$=1,_ne();var t=Wt(),e=t.Object,r=Fm.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),Fm.exports}var kv,X$;function vK(){if(X$)return kv;X$=1;var t=xne();return kv=t,kv}var Dv,J$;function Sne(){if(J$)return Dv;J$=1;var t=vK();return Dv=t,Dv}var qv,Z$;function Ene(){if(Z$)return qv;Z$=1;var t=Sne();return qv=t,qv}var Mv,e2;function One(){return e2||(e2=1,Mv=Ene()),Mv}var Pne=One(),Tne=qe(Pne),t2={},Av,r2;function ma(){if(r2)return Av;r2=1;var t=ts();return Av=Array.isArray||function(r){return t(r)==="Array"},Av}var Fv,n2;function Cne(){if(n2)return Fv;n2=1;var t=Math.ceil,e=Math.floor;return Fv=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Fv}var Lv,i2;function du(){if(i2)return Lv;i2=1;var t=Cne();return Lv=function(e){var r=+e;return r!==r||r===0?0:t(r)},Lv}var Bv,s2;function yK(){if(s2)return Bv;s2=1;var t=du(),e=Math.min;return Bv=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Bv}var zv,o2;function io(){if(o2)return zv;o2=1;var t=yK();return zv=function(e){return t(e.length)},zv}var Uv,a2;function gK(){if(a2)return Uv;a2=1;var t=TypeError,e=9007199254740991;return Uv=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Uv}var Wv,l2;function Cp(){if(l2)return Wv;l2=1;var t=qt(),e=Nn(),r=_d();return Wv=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Wv}var Hv,u2;function xC(){if(u2)return Hv;u2=1;var t=Zt(),e=t("toStringTag"),r={};return r[e]="z",Hv=String(r)==="[object z]",Hv}var Vv,c2;function so(){if(c2)return Vv;c2=1;var t=xC(),e=Qt(),r=ts(),n=Zt(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return Vv=t?r:function(l){var u,c,d;return l===void 0?"Undefined":l===null?"Null":typeof(c=a(u=s(l),i))=="string"?c:o?r(u):(d=r(u))==="Object"&&e(u.callee)?"Arguments":d},Vv}var Kv,d2;function Ine(){if(d2)return Kv;d2=1;var t=Xe(),e=Qt(),r=wC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Kv=r.inspectSource,Kv}var Gv,h2;function bK(){if(h2)return Gv;h2=1;var t=Xe(),e=Ve(),r=Qt(),n=so(),i=fn(),s=Ine(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(o),d=function(m){if(!r(m))return!1;try{return a(o,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Gv=!a||e(function(){var p;return d(d.call)||!d(Object)||!d(function(){p=!0})||p})?f:d,Gv}var Yv,f2;function Rne(){if(f2)return Yv;f2=1;var t=ma(),e=bK(),r=qr(),n=Zt(),i=n("species"),s=Array;return Yv=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Yv}var Qv,p2;function SC(){if(p2)return Qv;p2=1;var t=Rne();return Qv=function(e,r){return new(t(e))(r===0?0:r)},Qv}var Xv,m2;function Od(){if(m2)return Xv;m2=1;var t=Ve(),e=Zt(),r=Sd(),n=e("species");return Xv=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Xv}var v2;function wK(){if(v2)return t2;v2=1;var t=Pe(),e=Ve(),r=ma(),n=qr(),i=Zn(),s=io(),o=gK(),a=Cp(),l=SC(),u=Od(),c=Zt(),d=Sd(),f=c("isConcatSpreadable"),p=d>=51||!e(function(){var w=[];return w[f]=!1,w.concat()[0]!==w}),m=function(w){if(!n(w))return!1;var y=w[f];return y!==void 0?!!y:r(w)},g=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var v=i(this),_=l(v,0),b=0,x,E,T,S,O;for(x=-1,T=arguments.length;x<T;x++)if(O=x===-1?v:arguments[x],m(O))for(S=s(O),o(b+S),E=0;E<S;E++,b++)E in O&&a(_,b,O[E]);else o(b+1),a(_,b++,O);return _.length=b,_}}),t2}var y2={},g2={},Jv,b2;function oo(){if(b2)return Jv;b2=1;var t=so(),e=String;return Jv=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Jv}var Zv={},ey,w2;function EC(){if(w2)return ey;w2=1;var t=du(),e=Math.max,r=Math.min;return ey=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},ey}var ty,_2;function Nne(){if(_2)return ty;_2=1;var t=wi(),e=EC(),r=io(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(a,u),d;if(i&&o!==o){for(;u>c;)if(d=l[c++],d!==d)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return ty={includes:n(!0),indexOf:n(!1)},ty}var ry,x2;function Pd(){return x2||(x2=1,ry={}),ry}var ny,S2;function _K(){if(S2)return ny;S2=1;var t=Xe(),e=Jt(),r=wi(),n=Nne().indexOf,i=Pd(),s=t([].push);return ny=function(o,a){var l=r(o),u=0,c=[],d;for(d in l)!e(i,d)&&e(l,d)&&s(c,d);for(;a.length>u;)e(l,d=a[u++])&&(~n(c,d)||s(c,d));return c},ny}var iy,E2;function OC(){return E2||(E2=1,iy=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),iy}var sy,O2;function Ip(){if(O2)return sy;O2=1;var t=_K(),e=OC();return sy=Object.keys||function(n){return t(n,e)},sy}var P2;function PC(){if(P2)return Zv;P2=1;var t=qt(),e=mK(),r=Nn(),n=ns(),i=wi(),s=Ip();return Zv.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),c=s(l),d=c.length,f=0,p;d>f;)r.f(a,p=c[f++],u[p]);return a},Zv}var oy,T2;function $ne(){if(T2)return oy;T2=1;var t=fn();return oy=t("document","documentElement"),oy}var ay,C2;function Rp(){if(C2)return ay;C2=1;var t=uu(),e=Op(),r=t("keys");return ay=function(n){return r[n]||(r[n]=e(n))},ay}var ly,I2;function Td(){if(I2)return ly;I2=1;var t=ns(),e=PC(),r=OC(),n=Pd(),i=$ne(),s=fK(),o=Rp(),a=">",l="<",u="prototype",c="script",d=o("IE_PROTO"),f=function(){},p=function(v){return l+c+a+v+l+"/"+c+a},m=function(v){v.write(p("")),v.close();var _=v.parentWindow.Object;return v=null,_},g=function(){var v=s("iframe"),_="java"+c+":",b;return v.style.display="none",i.appendChild(v),v.src=String(_),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},w,y=function(){try{w=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&w?m(w):g():m(w);for(var v=r.length;v--;)delete y[u][r[v]];return y()};return n[d]=!0,ly=Object.create||function(_,b){var x;return _!==null?(f[u]=t(_),x=new f,f[u]=null,x[d]=_):x=y(),b===void 0?x:e.f(x,b)},ly}var uy={},R2;function Np(){if(R2)return uy;R2=1;var t=_K(),e=OC(),r=e.concat("length","prototype");return uy.f=Object.getOwnPropertyNames||function(i){return t(i,r)},uy}var cy={},dy,N2;function hu(){if(N2)return dy;N2=1;var t=Xe();return dy=t([].slice),dy}var $2;function xK(){if($2)return cy;$2=1;var t=ts(),e=wi(),r=Np().f,n=hu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return cy.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},cy}var hy={},j2;function $p(){return j2||(j2=1,hy.f=Object.getOwnPropertySymbols),hy}var fy,k2;function Cd(){if(k2)return fy;k2=1;var t=cu();return fy=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},fy}var py,D2;function TC(){if(D2)return py;D2=1;var t=Nn();return py=function(e,r,n){return t.f(e,r,n)},py}var my={},q2;function jp(){if(q2)return my;q2=1;var t=Zt();return my.f=t,my}var vy,M2;function pt(){if(M2)return vy;M2=1;var t=Wt(),e=Jt(),r=jp(),n=Nn().f;return vy=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},vy}var yy,A2;function SK(){if(A2)return yy;A2=1;var t=Zr(),e=fn(),r=Zt(),n=Cd();return yy=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},yy}var gy,F2;function jne(){if(F2)return gy;F2=1;var t=xC(),e=so();return gy=t?{}.toString:function(){return"[object "+e(this)+"]"},gy}var by,L2;function va(){if(L2)return by;L2=1;var t=xC(),e=Nn().f,r=cu(),n=Jt(),i=jne(),s=Zt(),o=s("toStringTag");return by=function(a,l,u,c){var d=u?a:a&&a.prototype;d&&(n(d,o)||e(d,o,{configurable:!0,value:l}),c&&!t&&r(d,"toString",i))},by}var wy,B2;function kne(){if(B2)return wy;B2=1;var t=Dt(),e=Qt(),r=t.WeakMap;return wy=e(r)&&/native code/.test(String(r)),wy}var _y,z2;function Id(){if(z2)return _y;z2=1;var t=kne(),e=Dt(),r=qr(),n=cu(),i=Jt(),s=wC(),o=Rp(),a=Pd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,d,f,p,m=function(v){return p(v)?f(v):d(v,{})},g=function(v){return function(_){var b;if(!r(_)||(b=f(_)).type!==v)throw new u("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var w=s.state||(s.state=new c);w.get=w.get,w.has=w.has,w.set=w.set,d=function(v,_){if(w.has(v))throw new u(l);return _.facade=v,w.set(v,_),_},f=function(v){return w.get(v)||{}},p=function(v){return w.has(v)}}else{var y=o("state");a[y]=!0,d=function(v,_){if(i(v,y))throw new u(l);return _.facade=v,n(v,y,_),_},f=function(v){return i(v,y)?v[y]:{}},p=function(v){return i(v,y)}}return _y={set:d,get:f,has:p,enforce:m,getterFor:g},_y}var xy,U2;function fu(){if(U2)return xy;U2=1;var t=Tp(),e=Xe(),r=Ep(),n=Zn(),i=io(),s=SC(),o=e([].push),a=function(l){var u=l===1,c=l===2,d=l===3,f=l===4,p=l===6,m=l===7,g=l===5||p;return function(w,y,v,_){for(var b=n(w),x=r(b),E=i(x),T=t(y,v),S=0,O=_||s,P=u?O(w,E):c||m?O(w,0):void 0,I,C;E>S;S++)if((g||S in x)&&(I=x[S],C=T(I,S,b),l))if(u)P[S]=C;else if(C)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:o(P,I)}else switch(l){case 4:return!1;case 7:o(P,I)}return p?-1:d||f?f:P}};return xy={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},xy}var W2;function Dne(){if(W2)return g2;W2=1;var t=Pe(),e=Dt(),r=Zr(),n=Xe(),i=lu(),s=qt(),o=ou(),a=Ve(),l=Jt(),u=Xt(),c=ns(),d=wi(),f=_C(),p=oo(),m=_d(),g=Td(),w=Ip(),y=Np(),v=xK(),_=$p(),b=Pp(),x=Nn(),E=PC(),T=gC(),S=Cd(),O=TC(),P=uu(),I=Rp(),C=Pd(),R=Op(),q=Zt(),B=jp(),J=pt(),Q=SK(),L=va(),V=Id(),U=fu().forEach,z=I("hidden"),Z="Symbol",he="prototype",ve=V.set,ke=V.getterFor(Z),be=Object[he],xe=e.Symbol,$e=xe&&xe[he],vt=e.RangeError,Ge=e.TypeError,Ct=e.QObject,rr=b.f,De=x.f,rn=v.f,vn=T.f,Mr=n([].push),Ye=P("symbols"),Ft=P("op-symbols"),ti=P("wks"),Lt=!Ct||!Ct[he]||!Ct[he].findChild,$=function(ee,W,te){var ae=rr(be,W);ae&&delete be[W],De(ee,W,te),ae&&ee!==be&&De(be,W,ae)},D=s&&a(function(){return g(De({},"a",{get:function(){return De(this,"a",{value:7}).a}})).a!==7})?$:De,F=function(ee,W){var te=Ye[ee]=g($e);return ve(te,{type:Z,tag:ee,description:W}),s||(te.description=W),te},se=function(W,te,ae){W===be&&se(Ft,te,ae),c(W);var fe=f(te);return c(ae),l(Ye,fe)?(ae.enumerable?(l(W,z)&&W[z][fe]&&(W[z][fe]=!1),ae=g(ae,{enumerable:m(0,!1)})):(l(W,z)||De(W,z,m(1,g(null))),W[z][fe]=!0),D(W,fe,ae)):De(W,fe,ae)},re=function(W,te){c(W);var ae=d(te),fe=w(ae).concat(me(ae));return U(fe,function(Ie){(!s||r(j,ae,Ie))&&se(W,Ie,ae[Ie])}),W},K=function(W,te){return te===void 0?g(W):re(g(W),te)},j=function(W){var te=f(W),ae=r(vn,this,te);return this===be&&l(Ye,te)&&!l(Ft,te)?!1:ae||!l(this,te)||!l(Ye,te)||l(this,z)&&this[z][te]?ae:!0},H=function(W,te){var ae=d(W),fe=f(te);if(!(ae===be&&l(Ye,fe)&&!l(Ft,fe))){var Ie=rr(ae,fe);return Ie&&l(Ye,fe)&&!(l(ae,z)&&ae[z][fe])&&(Ie.enumerable=!0),Ie}},oe=function(W){var te=rn(d(W)),ae=[];return U(te,function(fe){!l(Ye,fe)&&!l(C,fe)&&Mr(ae,fe)}),ae},me=function(ee){var W=ee===be,te=rn(W?Ft:d(ee)),ae=[];return U(te,function(fe){l(Ye,fe)&&(!W||l(be,fe))&&Mr(ae,Ye[fe])}),ae};return o||(xe=function(){if(u($e,this))throw new Ge("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),te=R(W),ae=function(fe){var Ie=this===void 0?e:this;Ie===be&&r(ae,Ft,fe),l(Ie,z)&&l(Ie[z],te)&&(Ie[z][te]=!1);var hr=m(1,fe);try{D(Ie,te,hr)}catch(fr){if(!(fr instanceof vt))throw fr;$(Ie,te,hr)}};return s&&Lt&&D(be,te,{configurable:!0,set:ae}),F(te,W)},$e=xe[he],S($e,"toString",function(){return ke(this).tag}),S(xe,"withoutSetter",function(ee){return F(R(ee),ee)}),T.f=j,x.f=se,E.f=re,b.f=H,y.f=v.f=oe,_.f=me,B.f=function(ee){return F(q(ee),ee)},s&&(O($e,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",j,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:xe}),U(w(ti),function(ee){J(ee)}),t({target:Z,stat:!0,forced:!o},{useSetter:function(){Lt=!0},useSimple:function(){Lt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:K,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:H}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:oe}),Q(),L(xe,Z),C[z]=!0,g2}var H2={},Sy,V2;function EK(){if(V2)return Sy;V2=1;var t=ou();return Sy=t&&!!Symbol.for&&!!Symbol.keyFor,Sy}var K2;function qne(){if(K2)return H2;K2=1;var t=Pe(),e=fn(),r=Jt(),n=oo(),i=uu(),s=EK(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var c=e("Symbol")(u);return o[u]=c,a[c]=u,c}}),H2}var G2={},Y2;function Mne(){if(Y2)return G2;Y2=1;var t=Pe(),e=Jt(),r=Ed(),n=au(),i=uu(),s=EK(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),G2}var Q2={},Ey,X2;function Ane(){if(X2)return Ey;X2=1;var t=Xe(),e=ma(),r=Qt(),n=ts(),i=oo(),s=t([].push);return Ey=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var c=o[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var d=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var g=0;g<d;g++)if(l[g]===p)return m}}},Ey}var J2;function OK(){if(J2)return Q2;J2=1;var t=Pe(),e=fn(),r=Sp(),n=Zr(),i=Xe(),s=Ve(),o=Qt(),a=Ed(),l=hu(),u=Ane(),c=ou(),d=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),g=i("".charCodeAt),w=i("".replace),y=i(1.1.toString),v=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,x=!c||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),T=function(O,P){var I=l(arguments),C=u(P);if(!(!o(C)&&(O===void 0||a(O))))return I[1]=function(R,q){if(o(C)&&(q=n(C,this,d(R),q)),!a(q))return q},r(f,null,I)},S=function(O,P,I){var C=m(I,P-1),R=m(I,P+1);return p(_,O)&&!p(b,R)||p(b,O)&&!p(_,C)?"\\u"+y(g(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:x||E},{stringify:function(P,I,C){var R=l(arguments),q=r(x?T:f,null,R);return E&&typeof q=="string"?w(q,v,S):q}}),Q2}var Z2={},ej;function Fne(){if(ej)return Z2;ej=1;var t=Pe(),e=ou(),r=Ve(),n=$p(),i=Zn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),Z2}var tj;function PK(){return tj||(tj=1,Dne(),qne(),Mne(),OK(),Fne()),y2}var rj={},nj;function TK(){if(nj)return rj;nj=1;var t=pt();return t("asyncDispose"),rj}var ij={},sj;function Lne(){if(sj)return ij;sj=1;var t=pt();return t("asyncIterator"),ij}var oj={},aj;function CK(){if(aj)return oj;aj=1;var t=pt();return t("dispose"),oj}var lj={},uj;function Bne(){if(uj)return lj;uj=1;var t=pt();return t("hasInstance"),lj}var cj={},dj;function zne(){if(dj)return cj;dj=1;var t=pt();return t("isConcatSpreadable"),cj}var hj={},fj;function IK(){if(fj)return hj;fj=1;var t=pt();return t("iterator"),hj}var pj={},mj;function Une(){if(mj)return pj;mj=1;var t=pt();return t("match"),pj}var vj={},yj;function Wne(){if(yj)return vj;yj=1;var t=pt();return t("matchAll"),vj}var gj={},bj;function Hne(){if(bj)return gj;bj=1;var t=pt();return t("replace"),gj}var wj={},_j;function Vne(){if(_j)return wj;_j=1;var t=pt();return t("search"),wj}var xj={},Sj;function Kne(){if(Sj)return xj;Sj=1;var t=pt();return t("species"),xj}var Ej={},Oj;function Gne(){if(Oj)return Ej;Oj=1;var t=pt();return t("split"),Ej}var Pj={},Tj;function RK(){if(Tj)return Pj;Tj=1;var t=pt(),e=SK();return t("toPrimitive"),e(),Pj}var Cj={},Ij;function Yne(){if(Ij)return Cj;Ij=1;var t=fn(),e=pt(),r=va();return e("toStringTag"),r(t("Symbol"),"Symbol"),Cj}var Rj={},Nj;function Qne(){if(Nj)return Rj;Nj=1;var t=pt();return t("unscopables"),Rj}var $j={},jj;function Xne(){if(jj)return $j;jj=1;var t=Dt(),e=va();return e(t.JSON,"JSON",!0),$j}var Oy,kj;function Jne(){if(kj)return Oy;kj=1,wK(),PK(),TK(),Lne(),CK(),Bne(),zne(),IK(),Une(),Wne(),Hne(),Vne(),Kne(),Gne(),RK(),Yne(),Qne(),Xne();var t=Wt();return Oy=t.Symbol,Oy}var Dj={},Py,qj;function Zne(){return qj||(qj=1,Py=function(){}),Py}var Ty,Mj;function pu(){return Mj||(Mj=1,Ty={}),Ty}var Cy,Aj;function eie(){if(Aj)return Cy;Aj=1;var t=qt(),e=Jt(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return Cy={EXISTS:i,PROPER:s,CONFIGURABLE:o},Cy}var Iy,Fj;function tie(){if(Fj)return Iy;Fj=1;var t=Ve();return Iy=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Iy}var Ry,Lj;function NK(){if(Lj)return Ry;Lj=1;var t=Jt(),e=Qt(),r=Zn(),n=Rp(),i=tie(),s=n("IE_PROTO"),o=Object,a=o.prototype;return Ry=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof o?a:null},Ry}var Ny,Bj;function $K(){if(Bj)return Ny;Bj=1;var t=Ve(),e=Qt(),r=qr(),n=Td(),i=NK(),s=Cd(),o=Zt(),a=lu(),l=o("iterator"),u=!1,c,d,f;[].keys&&(f=[].keys(),"next"in f?(d=i(i(f)),d!==Object.prototype&&(c=d)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:a&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),Ny={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},Ny}var $y,zj;function rie(){if(zj)return $y;zj=1;var t=$K().IteratorPrototype,e=Td(),r=_d(),n=va(),i=pu(),s=function(){return this};return $y=function(o,a,l,u){var c=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,c,!1,!0),i[c]=s,o},$y}var jy,Uj;function nie(){if(Uj)return jy;Uj=1;var t=Xe(),e=rs();return jy=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},jy}var ky,Wj;function iie(){if(Wj)return ky;Wj=1;var t=qr();return ky=function(e){return t(e)||e===null},ky}var Dy,Hj;function sie(){if(Hj)return Dy;Hj=1;var t=iie(),e=String,r=TypeError;return Dy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Dy}var qy,Vj;function oie(){if(Vj)return qy;Vj=1;var t=nie(),e=qr(),r=pa(),n=sie();return qy=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),qy}var My,Kj;function CC(){if(Kj)return My;Kj=1;var t=Pe(),e=Zr(),r=lu(),n=eie(),i=Qt(),s=rie(),o=NK(),a=oie(),l=va(),u=cu(),c=Cd(),d=Zt(),f=pu(),p=$K(),m=n.PROPER,g=n.CONFIGURABLE,w=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),_="keys",b="values",x="entries",E=function(){return this};return My=function(T,S,O,P,I,C,R){s(O,S,P);var q=function(ve){if(ve===I&&V)return V;if(!y&&ve&&ve in Q)return Q[ve];switch(ve){case _:return function(){return new O(this,ve)};case b:return function(){return new O(this,ve)};case x:return function(){return new O(this,ve)}}return function(){return new O(this)}},B=S+" Iterator",J=!1,Q=T.prototype,L=Q[v]||Q["@@iterator"]||I&&Q[I],V=!y&&L||q(I),U=S==="Array"&&Q.entries||L,z,Z,he;if(U&&(z=o(U.call(new T)),z!==Object.prototype&&z.next&&(!r&&o(z)!==w&&(a?a(z,w):i(z[v])||c(z,v,E)),l(z,B,!0,!0),r&&(f[B]=E))),m&&I===b&&L&&L.name!==b&&(!r&&g?u(Q,"name",b):(J=!0,V=function(){return e(L,this)})),I)if(Z={values:q(b),keys:C?V:q(_),entries:q(x)},R)for(he in Z)(y||J||!(he in Q))&&c(Q,he,Z[he]);else t({target:S,proto:!0,forced:y||J},Z);return(!r||R)&&Q[v]!==V&&c(Q,v,V,{name:I}),f[S]=V,Z},My}var Ay,Gj;function IC(){return Gj||(Gj=1,Ay=function(t,e){return{value:t,done:e}}),Ay}var Fy,Yj;function ao(){if(Yj)return Fy;Yj=1;var t=wi(),e=Zne(),r=pu(),n=Id(),i=Nn().f,s=CC(),o=IC(),a=lu(),l=qt(),u="Array Iterator",c=n.set,d=n.getterFor(u);Fy=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=d(this),m=p.target,g=p.index++;if(!m||g>=m.length)return p.target=null,o(void 0,!0);switch(p.kind){case"keys":return o(g,!1);case"values":return o(m[g],!1)}return o([g,m[g]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Fy}var Ly,Qj;function aie(){return Qj||(Qj=1,Ly={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Ly}var Xj;function lo(){if(Xj)return Dj;Xj=1,ao();var t=aie(),e=Dt(),r=va(),n=pu();for(var i in t)r(e[i],i),n[i]=n.Array;return Dj}var By,Jj;function jK(){if(Jj)return By;Jj=1;var t=Jne();return lo(),By=t,By}var Zj={},ek;function lie(){if(ek)return Zj;ek=1;var t=Zt(),e=Nn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),Zj}var tk={},rk;function uie(){return rk||(rk=1,TK()),tk}var nk={},ik;function cie(){return ik||(ik=1,CK()),nk}var sk={},ok;function die(){if(ok)return sk;ok=1;var t=pt();return t("metadata"),sk}var zy,ak;function hie(){if(ak)return zy;ak=1;var t=jK();return lie(),uie(),cie(),die(),zy=t,zy}var lk={},Uy,uk;function kK(){if(uk)return Uy;uk=1;var t=fn(),e=Xe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Uy=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},Uy}var ck;function fie(){if(ck)return lk;ck=1;var t=Pe(),e=kK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),lk}var dk={},Wy,hk;function DK(){if(hk)return Wy;hk=1;for(var t=uu(),e=fn(),r=Xe(),n=Ed(),i=Zt(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,d=a(s),f=d.length;c<f;c++)try{var p=d[c];n(s[p])&&i(p)}catch{}return Wy=function(g){if(o&&o(g))return!0;try{for(var w=l(g),y=0,v=a(u),_=v.length;y<_;y++)if(u[v[y]]==w)return!0}catch{}return!1},Wy}var fk;function pie(){if(fk)return dk;fk=1;var t=Pe(),e=DK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),dk}var pk={},mk;function mie(){if(mk)return pk;mk=1;var t=pt();return t("customMatcher"),pk}var vk={},yk;function vie(){if(yk)return vk;yk=1;var t=pt();return t("observable"),vk}var gk={},bk;function yie(){if(bk)return gk;bk=1;var t=Pe(),e=kK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),gk}var wk={},_k;function gie(){if(_k)return wk;_k=1;var t=Pe(),e=DK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),wk}var xk={},Sk;function bie(){if(Sk)return xk;Sk=1;var t=pt();return t("matcher"),xk}var Ek={},Ok;function wie(){if(Ok)return Ek;Ok=1;var t=pt();return t("metadataKey"),Ek}var Pk={},Tk;function _ie(){if(Tk)return Pk;Tk=1;var t=pt();return t("patternMatch"),Pk}var Ck={},Ik;function xie(){if(Ik)return Ck;Ik=1;var t=pt();return t("replaceAll"),Ck}var Hy,Rk;function Sie(){if(Rk)return Hy;Rk=1;var t=hie();return fie(),pie(),mie(),vie(),yie(),gie(),bie(),wie(),_ie(),xie(),Hy=t,Hy}var Vy,Nk;function Eie(){return Nk||(Nk=1,Vy=Sie()),Vy}var Oie=Eie(),Ph=qe(Oie),$k={},Ky,jk;function Pie(){if(jk)return Ky;jk=1;var t=Xe(),e=du(),r=oo(),n=pa(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,c){var d=r(n(u)),f=e(c),p=d.length,m,g;return f<0||f>=p?l?"":void 0:(m=s(d,f),m<55296||m>56319||f+1===p||(g=s(d,f+1))<56320||g>57343?l?i(d,f):m:l?o(d,f,f+2):(m-55296<<10)+(g-56320)+65536)}};return Ky={codeAt:a(!1),charAt:a(!0)},Ky}var kk;function kp(){if(kk)return $k;kk=1;var t=Pie().charAt,e=oo(),r=Id(),n=CC(),i=IC(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),c=u.string,d=u.index,f;return d>=c.length?i(void 0,!0):(f=t(c,d),u.index+=f.length,i(f,!1))}),$k}var Gy,Dk;function Tie(){if(Dk)return Gy;Dk=1,ao(),kp(),IK();var t=jp();return Gy=t.f("iterator"),Gy}var Yy,qk;function qK(){if(qk)return Yy;qk=1;var t=Tie();return lo(),Yy=t,Yy}var Qy,Mk;function Cie(){if(Mk)return Qy;Mk=1;var t=qK();return Qy=t,Qy}var Xy,Ak;function Iie(){if(Ak)return Xy;Ak=1;var t=Cie();return Xy=t,Xy}var Jy,Fk;function Rie(){return Fk||(Fk=1,Jy=Iie()),Jy}var Nie=Rie(),$ie=qe(Nie);function Uc(t){"@babel/helpers - typeof";return Uc=typeof Ph=="function"&&typeof $ie=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ph=="function"&&e.constructor===Ph&&e!==Ph.prototype?"symbol":typeof e},Uc(t)}var Zy,Lk;function jie(){if(Lk)return Zy;Lk=1,RK();var t=jp();return Zy=t.f("toPrimitive"),Zy}var eg,Bk;function kie(){if(Bk)return eg;Bk=1;var t=jie();return eg=t,eg}var tg,zk;function Die(){if(zk)return tg;zk=1;var t=kie();return tg=t,tg}var rg,Uk;function qie(){if(Uk)return rg;Uk=1;var t=Die();return rg=t,rg}var ng,Wk;function Mie(){return Wk||(Wk=1,ng=qie()),ng}var Aie=Mie(),Fie=qe(Aie);function Lie(t,e){if(Uc(t)!="object"||!t)return t;var r=t[Fie];if(r!==void 0){var n=r.call(t,e);if(Uc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Bie(t){var e=Lie(t,"string");return Uc(e)=="symbol"?e:e+""}function zs(t,e,r){return(e=Bie(e))in t?Tne(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Hk={},ig,Vk;function zie(){if(Vk)return ig;Vk=1;var t=Xe(),e=rs(),r=qr(),n=Jt(),i=hu(),s=wd(),o=Function,a=t([].concat),l=t([].join),u={},c=function(d,f,p){if(!n(u,f)){for(var m=[],g=0;g<f;g++)m[g]="a["+g+"]";u[f]=o("C,a","return new C("+l(m,",")+")")}return u[f](d,p)};return ig=s?o.bind:function(f){var p=e(this),m=p.prototype,g=i(arguments,1),w=function(){var v=a(g,i(arguments));return this instanceof w?c(p,v.length,v):p.apply(f,v)};return r(m)&&(w.prototype=m),w},ig}var Kk;function Uie(){if(Kk)return Hk;Kk=1;var t=Pe(),e=zie();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Hk}var sg,Gk;function en(){if(Gk)return sg;Gk=1;var t=Dt(),e=Wt();return sg=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},sg}var og,Yk;function Wie(){if(Yk)return og;Yk=1,Uie();var t=en();return og=t("Function","bind"),og}var ag,Qk;function Hie(){if(Qk)return ag;Qk=1;var t=Xt(),e=Wie(),r=Function.prototype;return ag=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},ag}var lg,Xk;function Vie(){if(Xk)return lg;Xk=1;var t=Hie();return lg=t,lg}var ug,Jk;function Kie(){return Jk||(Jk=1,ug=Vie()),ug}var Gie=Kie(),MK=qe(Gie),Zk={},cg,eD;function Yie(){if(eD)return cg;eD=1;var t=rs(),e=Zn(),r=Ep(),n=io(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,c,d){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var g=a?m-1:0,w=a?-1:1;if(c<2)for(;;){if(g in p){d=p[g],g+=w;break}if(g+=w,a?g<0:m<=g)throw new i(s)}for(;a?g>=0:m>g;g+=w)g in p&&(d=u(d,p[g],g,f));return d}};return cg={left:o(!1),right:o(!0)},cg}var dg,tD;function Dp(){if(tD)return dg;tD=1;var t=Ve();return dg=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},dg}var hg,rD;function AK(){if(rD)return hg;rD=1;var t=Dt(),e=su(),r=ts(),n=function(i){return e.slice(0,i.length)===i};return hg=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),hg}var fg,nD;function Qie(){if(nD)return fg;nD=1;var t=AK();return fg=t==="NODE",fg}var iD;function Xie(){if(iD)return Zk;iD=1;var t=Pe(),e=Yie().left,r=Dp(),n=Sd(),i=Qie(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),Zk}var pg,sD;function Jie(){if(sD)return pg;sD=1,Xie();var t=en();return pg=t("Array","reduce"),pg}var mg,oD;function Zie(){if(oD)return mg;oD=1;var t=Xt(),e=Jie(),r=Array.prototype;return mg=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},mg}var vg,aD;function ese(){if(aD)return vg;aD=1;var t=Zie();return vg=t,vg}var yg,lD;function tse(){return lD||(lD=1,yg=ese()),yg}var rse=tse(),nse=qe(rse),uD={},cD;function ise(){if(cD)return uD;cD=1;var t=Pe(),e=fu().filter,r=Od(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),uD}var gg,dD;function sse(){if(dD)return gg;dD=1,ise();var t=en();return gg=t("Array","filter"),gg}var bg,hD;function ose(){if(hD)return bg;hD=1;var t=Xt(),e=sse(),r=Array.prototype;return bg=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},bg}var wg,fD;function ase(){if(fD)return wg;fD=1;var t=ose();return wg=t,wg}var _g,pD;function lse(){return pD||(pD=1,_g=ase()),_g}var use=lse(),Za=qe(use),mD={},vD;function cse(){if(vD)return mD;vD=1;var t=Pe(),e=fu().map,r=Od(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mD}var xg,yD;function dse(){if(yD)return xg;yD=1,cse();var t=en();return xg=t("Array","map"),xg}var Sg,gD;function hse(){if(gD)return Sg;gD=1;var t=Xt(),e=dse(),r=Array.prototype;return Sg=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Sg}var Eg,bD;function fse(){if(bD)return Eg;bD=1;var t=hse();return Eg=t,Eg}var Og,wD;function pse(){return wD||(wD=1,Og=fse()),Og}var mse=pse(),Un=qe(mse),Pg,_D;function vse(){return _D||(_D=1,Pg=jK()),Pg}var yse=vse(),gse=qe(yse),xD={},SD;function bse(){if(SD)return xD;SD=1;var t=Pe(),e=ma(),r=bK(),n=qr(),i=EC(),s=io(),o=wi(),a=Cp(),l=Zt(),u=Od(),c=hu(),d=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!d},{slice:function(w,y){var v=o(this),_=s(v),b=i(w,_),x=i(y===void 0?_:y,_),E,T,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,b,x);for(T=new(E===void 0?p:E)(m(x-b,0)),S=0;b<x;b++,S++)b in v&&a(T,S,v[b]);return T.length=S,T}}),xD}var Tg,ED;function wse(){if(ED)return Tg;ED=1,bse();var t=en();return Tg=t("Array","slice"),Tg}var Cg,OD;function _se(){if(OD)return Cg;OD=1;var t=Xt(),e=wse(),r=Array.prototype;return Cg=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Cg}var Ig,PD;function xse(){if(PD)return Ig;PD=1;var t=_se();return Ig=t,Ig}var Rg,TD;function Sse(){return TD||(TD=1,Rg=xse()),Rg}var Ese=Sse(),Ose=qe(Ese),CD={},Ng,ID;function FK(){if(ID)return Ng;ID=1;var t=fn(),e=Xe(),r=Np(),n=$p(),i=ns(),s=e([].concat);return Ng=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},Ng}var RD;function Pse(){if(RD)return CD;RD=1;var t=Pe(),e=FK();return t({target:"Reflect",stat:!0},{ownKeys:e}),CD}var $g,ND;function Tse(){if(ND)return $g;ND=1,Pse();var t=Wt();return $g=t.Reflect.ownKeys,$g}var jg,$D;function Cse(){if($D)return jg;$D=1;var t=Tse();return jg=t,jg}var kg,jD;function Ise(){return jD||(jD=1,kg=Cse()),kg}var Rse=Ise(),Nse=qe(Rse),kD={},DD;function $se(){if(DD)return kD;DD=1;var t=Pe(),e=ma();return t({target:"Array",stat:!0},{isArray:e}),kD}var Dg,qD;function jse(){if(qD)return Dg;qD=1,$se();var t=Wt();return Dg=t.Array.isArray,Dg}var qg,MD;function kse(){if(MD)return qg;MD=1;var t=jse();return qg=t,qg}var Mg,AD;function Dse(){return AD||(AD=1,Mg=kse()),Mg}var qse=Dse(),si=qe(qse),FD={},LD;function Mse(){if(LD)return FD;LD=1;var t=Pe(),e=Zn(),r=Ip(),n=Ve(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),FD}var Ag,BD;function Ase(){if(BD)return Ag;BD=1,Mse();var t=Wt();return Ag=t.Object.keys,Ag}var Fg,zD;function Fse(){if(zD)return Fg;zD=1;var t=Ase();return Fg=t,Fg}var Lg,UD;function Lse(){return UD||(UD=1,Lg=Fse()),Lg}var Bse=Lse(),RC=qe(Bse),WD={},Bg,HD;function zse(){if(HD)return Bg;HD=1;var t=fu().forEach,e=Dp(),r=e("forEach");return Bg=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Bg}var VD;function Use(){if(VD)return WD;VD=1;var t=Pe(),e=zse();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),WD}var zg,KD;function Wse(){if(KD)return zg;KD=1,Use();var t=en();return zg=t("Array","forEach"),zg}var Ug,GD;function Hse(){if(GD)return Ug;GD=1;var t=Wse();return Ug=t,Ug}var Wg,YD;function Vse(){if(YD)return Wg;YD=1;var t=so(),e=Jt(),r=Xt(),n=Hse(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Wg=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},Wg}var Hg,QD;function Kse(){return QD||(QD=1,Hg=Vse()),Hg}var Gse=Kse(),na=qe(Gse),XD={},JD;function Yse(){if(JD)return XD;JD=1;var t=Pe(),e=Xe(),r=ma(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),XD}var Vg,ZD;function Qse(){if(ZD)return Vg;ZD=1,Yse();var t=en();return Vg=t("Array","reverse"),Vg}var Kg,eq;function Xse(){if(eq)return Kg;eq=1;var t=Xt(),e=Qse(),r=Array.prototype;return Kg=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Kg}var Gg,tq;function Jse(){if(tq)return Gg;tq=1;var t=Xse();return Gg=t,Gg}var Yg,rq;function Zse(){return rq||(rq=1,Yg=Jse()),Yg}var eoe=Zse(),toe=qe(eoe),nq={},Qg,iq;function roe(){if(iq)return Qg;iq=1;var t=qt(),e=ma(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Qg=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Qg}var Xg,sq;function LK(){if(sq)return Xg;sq=1;var t=au(),e=TypeError;return Xg=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Xg}var oq;function noe(){if(oq)return nq;oq=1;var t=Pe(),e=Zn(),r=EC(),n=du(),i=io(),s=roe(),o=gK(),a=SC(),l=Cp(),u=LK(),c=Od(),d=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!d},{splice:function(g,w){var y=e(this),v=i(y),_=r(g,v),b=arguments.length,x,E,T,S,O,P;for(b===0?x=E=0:b===1?(x=0,E=v-_):(x=b-2,E=p(f(n(w),0),v-_)),o(v+x-E),T=a(y,E),S=0;S<E;S++)O=_+S,O in y&&l(T,S,y[O]);if(T.length=E,x<E){for(S=_;S<v-E;S++)O=S+E,P=S+x,O in y?y[P]=y[O]:u(y,P);for(S=v;S>v-E+x;S--)u(y,S-1)}else if(x>E)for(S=v-E;S>_;S--)O=S+E-1,P=S+x-1,O in y?y[P]=y[O]:u(y,P);for(S=0;S<x;S++)y[S+_]=arguments[S+2];return s(y,v-E+x),T}}),nq}var Jg,aq;function ioe(){if(aq)return Jg;aq=1,noe();var t=en();return Jg=t("Array","splice"),Jg}var Zg,lq;function soe(){if(lq)return Zg;lq=1;var t=Xt(),e=ioe(),r=Array.prototype;return Zg=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Zg}var eb,uq;function ooe(){if(uq)return eb;uq=1;var t=soe();return eb=t,eb}var tb,cq;function aoe(){return cq||(cq=1,tb=ooe()),tb}var loe=aoe(),BK=qe(loe),dq={},rb,hq;function uoe(){if(hq)return rb;hq=1;var t=qt(),e=Xe(),r=Zr(),n=Ve(),i=Ip(),s=$p(),o=gC(),a=Zn(),l=Ep(),u=Object.assign,c=Object.defineProperty,d=e([].concat);return rb=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),g="abcdefghijklmnopqrst";return f[m]=7,g.split("").forEach(function(w){p[w]=w}),u({},f)[m]!==7||i(u({},p)).join("")!==g})?function(p,m){for(var g=a(p),w=arguments.length,y=1,v=s.f,_=o.f;w>y;)for(var b=l(arguments[y++]),x=v?d(i(b),v(b)):i(b),E=x.length,T=0,S;E>T;)S=x[T++],(!t||r(_,b,S))&&(g[S]=b[S]);return g}:u,rb}var fq;function coe(){if(fq)return dq;fq=1;var t=Pe(),e=uoe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),dq}var nb,pq;function doe(){if(pq)return nb;pq=1,coe();var t=Wt();return nb=t.Object.assign,nb}var ib,mq;function hoe(){if(mq)return ib;mq=1;var t=doe();return ib=t,ib}var sb,vq;function foe(){return vq||(vq=1,sb=hoe()),sb}var poe=foe(),moe=qe(poe),ob,yq;function voe(){if(yq)return ob;yq=1,wK();var t=en();return ob=t("Array","concat"),ob}var ab,gq;function yoe(){if(gq)return ab;gq=1;var t=Xt(),e=voe(),r=Array.prototype;return ab=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},ab}var lb,bq;function goe(){if(bq)return lb;bq=1;var t=yoe();return lb=t,lb}var ub,wq;function boe(){return wq||(wq=1,ub=goe()),ub}var woe=boe(),_oe=qe(woe),_q={},xq;function xoe(){if(xq)return _q;xq=1;var t=Pe(),e=qt(),r=Td();return t({target:"Object",stat:!0,sham:!e},{create:r}),_q}var cb,Sq;function Soe(){if(Sq)return cb;Sq=1,xoe();var t=Wt(),e=t.Object;return cb=function(n,i){return e.create(n,i)},cb}var db,Eq;function Eoe(){if(Eq)return db;Eq=1;var t=Soe();return db=t,db}var hb,Oq;function Ooe(){return Oq||(Oq=1,hb=Eoe()),hb}var Poe=Ooe(),Toe=qe(Poe),Pq={},fb,Tq;function Coe(){if(Tq)return fb;Tq=1;var t=du(),e=oo(),r=pa(),n=RangeError;return fb=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},fb}var pb,Cq;function Ioe(){if(Cq)return pb;Cq=1;var t=Xe(),e=yK(),r=oo(),n=Coe(),i=pa(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(c,d,f){var p=r(i(c)),m=e(d),g=p.length,w=f===void 0?" ":r(f),y,v;return m<=g||w===""?p:(y=m-g,v=s(w,a(y/w.length)),v.length>y&&(v=o(v,0,y)),u?p+v:v+p)}};return pb={start:l(!1),end:l(!0)},pb}var mb,Iq;function Roe(){if(Iq)return mb;Iq=1;var t=Xe(),e=Ve(),r=Ioe().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),c=t(o.getUTCFullYear),d=t(o.getUTCHours),f=t(o.getUTCMilliseconds),p=t(o.getUTCMinutes),m=t(o.getUTCMonth),g=t(o.getUTCSeconds);return mb=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var y=this,v=c(y),_=f(y),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(y)+1,2,0)+"-"+r(u(y),2,0)+"T"+r(d(y),2,0)+":"+r(p(y),2,0)+":"+r(g(y),2,0)+"."+r(_,3,0)+"Z"}:a,mb}var Rq;function Noe(){if(Rq)return Pq;Rq=1;var t=Pe(),e=Zr(),r=Zn(),n=hK(),i=Roe(),s=ts(),o=Ve(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var c=r(this),d=n(c,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),Pq}var vb,Nq;function $oe(){if(Nq)return vb;Nq=1,Noe(),OK();var t=Wt(),e=Sp();return t.JSON||(t.JSON={stringify:JSON.stringify}),vb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},vb}var yb,$q;function joe(){if($q)return yb;$q=1;var t=$oe();return yb=t,yb}var gb,jq;function koe(){return jq||(jq=1,gb=joe()),gb}var Doe=koe(),qoe=qe(Doe),kq={},Dq={},bb,qq;function Moe(){if(qq)return bb;qq=1;var t=TypeError;return bb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},bb}var wb,Mq;function zK(){if(Mq)return wb;Mq=1;var t=Dt(),e=Sp(),r=Qt(),n=AK(),i=su(),s=hu(),o=Moe(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return wb=function(u,c){var d=c?2:1;return l?function(f,p){var m=o(arguments.length,1)>d,g=r(f)?f:a(f),w=m?s(arguments,d):[],y=m?function(){e(g,this,w)}:g;return c?u(y,p):u(y)}:u},wb}var Aq;function Aoe(){if(Aq)return Dq;Aq=1;var t=Pe(),e=Dt(),r=zK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Dq}var Fq={},Lq;function Foe(){if(Lq)return Fq;Lq=1;var t=Pe(),e=Dt(),r=zK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Fq}var Bq;function Loe(){return Bq||(Bq=1,Aoe(),Foe()),kq}var _b,zq;function Boe(){if(zq)return _b;zq=1,Loe();var t=Wt();return _b=t.setTimeout,_b}var xb,Uq;function zoe(){return Uq||(Uq=1,xb=Boe()),xb}var Uoe=zoe(),Woe=qe(Uoe),Sb={exports:{}},Wq;function Hoe(){return Wq||(Wq=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...o)=>{this.off(n,s),i.apply(this,o)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Sb)),Sb.exports}var Voe=Hoe(),Koe=qe(Voe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Qn(){return Qn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Qn.apply(this,arguments)}function $n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Th(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var FP;typeof Object.assign!="function"?FP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:FP=Object.assign;var ia=FP,Hq=["","webkit","Moz","MS","ms","o"],Goe=typeof document>"u"?{style:{}}:document.createElement("div"),Yoe="function",el=Math.round,sa=Math.abs,NC=Date.now;function qp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Hq.length;){if(r=Hq[s],n=r?r+i:e,n in t)return n;s++}}var qi;typeof window>"u"?qi={}:qi=window;var UK=qp(Goe.style,"touchAction"),WK=UK!==void 0;function Qoe(){if(!WK)return!1;var t={},e=qi.CSS&&qi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?qi.CSS.supports("touch-action",r):!0}),t}var HK="compute",VK="auto",LP="manipulation",Lo="none",Wc="pan-x",Hc="pan-y",Ch=Qoe(),Xoe=/mobile|tablet|ip(ad|hone|od)|android/i,KK="ontouchstart"in qi,Joe=qp(qi,"PointerEvent")!==void 0,Zoe=KK&&Xoe.test(navigator.userAgent),Rd="touch",eae="pen",$C="mouse",tae="kinect",rae=25,Nr=1,ya=2,$t=4,Qr=8,qf=1,Nd=2,$d=4,jd=8,Bl=16,yi=Nd|$d,Bo=jd|Bl,GK=yi|Bo,YK=["x","y"],Mf=["clientX","clientY"];function Mi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Mp(t,e){return typeof t===Yoe?t.apply(e&&e[0]||void 0,e):t}function Eo(t,e){return t.indexOf(e)>-1}function nae(t){if(Eo(t,Lo))return Lo;var e=Eo(t,Wc),r=Eo(t,Hc);return e&&r?Lo:e||r?e?Wc:Hc:Eo(t,LP)?LP:VK}var QK=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===HK&&(n=this.compute()),WK&&this.manager.element.style&&Ch[n]&&(this.manager.element.style[UK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Mi(this.manager.recognizers,function(i){Mp(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),nae(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Eo(o,Lo)&&!Ch[Lo],l=Eo(o,Hc)&&!Ch[Hc],u=Eo(o,Wc)&&!Ch[Wc];if(a){var c=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(c&&d&&f)return}if(!(u&&l)&&(a||l&&s&yi||u&&s&Bo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function jC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function XK(t){var e=t.length;if(e===1)return{x:el(t[0].clientX),y:el(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:el(r/e),y:el(n/e)}}function Vq(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:el(t.pointers[r].clientX),clientY:el(t.pointers[r].clientY)},r++;return{timeStamp:NC(),pointers:e,center:XK(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Af(t,e,r){r||(r=YK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function BP(t,e,r){r||(r=YK);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function JK(t,e){return t===e?qf:sa(t)>=sa(e)?t<0?Nd:$d:e<0?jd:Bl}function iae(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Nr||s.eventType===$t)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function ZK(t,e,r){return{x:e/t||0,y:r/t||0}}function sae(t,e){return Af(e[0],e[1],Mf)/Af(t[0],t[1],Mf)}function oae(t,e){return BP(e[1],e[0],Mf)+BP(t[1],t[0],Mf)}function aae(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==Qr&&(n>rae||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=ZK(n,l,u);s=c.x,o=c.y,i=sa(c.x)>sa(c.y)?c.x:c.y,a=JK(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function lae(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Vq(e)),i>1&&!r.firstMultiple?r.firstMultiple=Vq(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=XK(n);e.timeStamp=NC(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=BP(a,l),e.distance=Af(a,l),iae(r,e),e.offsetDirection=JK(e.deltaX,e.deltaY);var u=ZK(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=sa(u.x)>sa(u.y)?u.x:u.y,e.scale=o?sae(o.pointers,n):1,e.rotation=o?oae(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,aae(r,e);var c=t.element,d=e.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,jC(f,c)&&(c=f),e.target=c}function uae(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Nr&&n-i===0,o=e&($t|Qr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,lae(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Vc(t){return t.trim().split(/\s+/g)}function hc(t,e,r){Mi(Vc(e),function(n){t.addEventListener(n,r,!1)})}function fc(t,e,r){Mi(Vc(e),function(n){t.removeEventListener(n,r,!1)})}function Kq(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var mu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Mp(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&hc(this.element,this.evEl,this.domHandler),this.evTarget&&hc(this.target,this.evTarget,this.domHandler),this.evWin&&hc(Kq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&fc(this.element,this.evEl,this.domHandler),this.evTarget&&fc(this.target,this.evTarget,this.domHandler),this.evWin&&fc(Kq(this.element),this.evWin,this.domHandler)},t}();function oa(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var cae={pointerdown:Nr,pointermove:ya,pointerup:$t,pointercancel:Qr,pointerout:Qr},dae={2:Rd,3:eae,4:$C,5:tae},e9="pointerdown",t9="pointermove pointerup pointercancel";qi.MSPointerEvent&&!qi.PointerEvent&&(e9="MSPointerDown",t9="MSPointerMove MSPointerUp MSPointerCancel");var r9=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=e9,i.evWin=t9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=cae[a],u=dae[i.pointerType]||i.pointerType,c=u===Rd,d=oa(s,i.pointerId,"pointerId");l&Nr&&(i.button===0||c)?d<0&&(s.push(i),d=s.length-1):l&($t|Qr)&&(o=!0),!(d<0)&&(s[d]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(d,1))},e}(mu);function Kc(t){return Array.prototype.slice.call(t,0)}function kC(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];oa(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var hae={touchstart:Nr,touchmove:ya,touchend:$t,touchcancel:Qr},fae="touchstart touchmove touchend touchcancel",DC=function(t){$n(e,t);function e(){var n;return e.prototype.evTarget=fae,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=hae[i.type],o=pae.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Rd,srcEvent:i})},e}(mu);function pae(t,e){var r=Kc(t.touches),n=this.targetIds;if(e&(Nr|ya)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=Kc(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return jC(u.target,l)}),e===Nr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&($t|Qr)&&delete n[o[i].identifier],i++;if(a.length)return[kC(s.concat(a),"identifier",!0),a]}var mae={mousedown:Nr,mousemove:ya,mouseup:$t},vae="mousedown",yae="mousemove mouseup",qC=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=vae,i.evWin=yae,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=mae[i.type];s&Nr&&i.button===0&&(this.pressed=!0),s&ya&&i.which!==1&&(s=$t),this.pressed&&(s&$t&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:$C,srcEvent:i}))},e}(mu),gae=2500,Gq=25;function Yq(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,gae)}}function bae(t,e){t&Nr?(this.primaryTouch=e.changedPointers[0].identifier,Yq.call(this,e)):t&($t|Qr)&&Yq.call(this,e)}function wae(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=Gq&&o<=Gq)return!0}return!1}var n9=function(){var t=function(e){$n(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var c=u.pointerType===Rd,d=u.pointerType===$C;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)bae.call(Th(Th(o)),l,u);else if(d&&wae.call(Th(Th(o)),u))return;o.callback(a,l,u)}},o.touch=new DC(o.manager,o.handler),o.mouse=new qC(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(mu);return t}();function _ae(t){var e,r=t.options.inputClass;return r?e=r:Joe?e=r9:Zoe?e=DC:KK?e=n9:e=qC,new e(t,uae)}function tl(t,e,r){return Array.isArray(t)?(Mi(t,r[e],r),!0):!1}var Xh=1,Pn=2,zl=4,Us=8,Ai=Us,Gc=16,hi=32,xae=1;function Sae(){return xae++}function Ih(t,e){var r=e.manager;return r?r.get(t):t}function Qq(t){return t&Gc?"cancel":t&Us?"end":t&zl?"move":t&Pn?"start":""}var kd=function(){function t(r){r===void 0&&(r={}),this.options=Qn({enable:!0},r),this.id=Sae(),this.manager=null,this.state=Xh,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return ia(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(tl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Ih(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return tl(n,"dropRecognizeWith",this)?this:(n=Ih(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(tl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Ih(n,this),oa(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(tl(n,"dropRequireFailure",this))return this;n=Ih(n,this);var i=oa(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Us&&o(i.options.event+Qq(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Us&&o(i.options.event+Qq(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=hi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(hi|Xh)))return!1;n++}return!0},e.recognize=function(n){var i=ia({},n);if(!Mp(this.options.enable,[this,i])){this.reset(),this.state=hi;return}this.state&(Ai|Gc|hi)&&(this.state=Xh),this.state=this.process(i),this.state&(Pn|zl|Us|Gc)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),zP=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Qn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[LP]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&Nr&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==$t)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||Af(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ai,s.tryEmit()},o.interval),Pn):Ai}return hi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=hi},this.options.interval),hi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Ai&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(kd),Ul=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Qn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Pn|zl),l=this.attrTest(i);return a&&(o&Qr||!l)?s|Gc:a||l?o&$t?s|Us:s&Pn?s|zl:Pn:hi},e}(kd);function i9(t){return t===Bl?"down":t===jd?"up":t===Nd?"left":t===$d?"right":""}var MC=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Qn({event:"pan",threshold:10,pointers:1,direction:GK},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&yi&&s.push(Hc),i&Bo&&s.push(Wc),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&yi?(l=u===0?qf:u<0?Nd:$d,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=c===0?qf:c<0?jd:Bl,o=c!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return Ul.prototype.attrTest.call(this,i)&&(this.state&Pn||!(this.state&Pn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=i9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Ul),s9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Qn({event:"swipe",threshold:10,velocity:.3,direction:yi|Bo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return MC.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(yi|Bo)?o=i.overallVelocity:s&yi?o=i.overallVelocityX:s&Bo&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&sa(o)>this.options.velocity&&i.eventType&$t},r.emit=function(i){var s=i9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Ul),o9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Qn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Lo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Pn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Ul),a9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Qn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Lo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Pn)},e}(Ul),l9=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Qn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[VK]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&($t|Qr)&&!u)this.reset();else if(i.eventType&Nr)this.reset(),this._timer=setTimeout(function(){s.state=Ai,s.tryEmit()},o.time);else if(i.eventType&$t)return Ai;return hi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Ai&&(i&&i.eventType&$t?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=NC(),this.manager.emit(this.options.event,this._input)))},e}(kd),u9={domEvents:!1,touchAction:HK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Xq=[[a9,{enable:!1}],[o9,{enable:!1},["rotate"]],[s9,{direction:yi}],[MC,{direction:yi},["swipe"]],[zP],[zP,{event:"doubletap",taps:2},["tap"]],[l9]],Eae=1,Jq=2;function Zq(t,e){var r=t.element;if(r.style){var n;Mi(t.options.cssProps,function(i,s){n=qp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Oae(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var eM=function(){function t(r,n){var i=this;this.options=ia({},u9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=_ae(this),this.touchAction=new QK(this,this.options.touchAction),Zq(this,!0),Mi(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return ia(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?Jq:Eae},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Ai)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==Jq&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Pn|zl|Us)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof kd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(tl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(tl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=oa(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Mi(Vc(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Mi(Vc(n),function(o){i?s[o]&&s[o].splice(oa(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&Oae(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&Zq(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Pae={touchstart:Nr,touchmove:ya,touchend:$t,touchcancel:Qr},Tae="touchstart",Cae="touchstart touchmove touchend touchcancel",Iae=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evTarget=Tae,i.evWin=Cae,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Pae[i.type];if(s===Nr&&(this.started=!0),!!this.started){var o=Rae.call(this,i,s);s&($t|Qr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Rd,srcEvent:i})}},e}(mu);function Rae(t,e){var r=Kc(t.touches),n=Kc(t.changedTouches);return e&($t|Qr)&&(r=kC(r.concat(n),"identifier",!0)),[r,n]}function c9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var d9=c9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Nae=c9(function(t,e){return d9(t,e,!0)},"merge","Use `assign`.");function $ae(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&ia(i,r)}function tM(t,e){return function(){return t.apply(e,arguments)}}var jae=function(){var t=function(r,n){return n===void 0&&(n={}),new eM(r,Qn({recognizers:Xq.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=GK,t.DIRECTION_DOWN=Bl,t.DIRECTION_LEFT=Nd,t.DIRECTION_RIGHT=$d,t.DIRECTION_UP=jd,t.DIRECTION_HORIZONTAL=yi,t.DIRECTION_VERTICAL=Bo,t.DIRECTION_NONE=qf,t.DIRECTION_DOWN=Bl,t.INPUT_START=Nr,t.INPUT_MOVE=ya,t.INPUT_END=$t,t.INPUT_CANCEL=Qr,t.STATE_POSSIBLE=Xh,t.STATE_BEGAN=Pn,t.STATE_CHANGED=zl,t.STATE_ENDED=Us,t.STATE_RECOGNIZED=Ai,t.STATE_CANCELLED=Gc,t.STATE_FAILED=hi,t.Manager=eM,t.Input=mu,t.TouchAction=QK,t.TouchInput=DC,t.MouseInput=qC,t.PointerEventInput=r9,t.TouchMouseInput=n9,t.SingleTouchInput=Iae,t.Recognizer=kd,t.AttrRecognizer=Ul,t.Tap=zP,t.Pan=MC,t.Swipe=s9,t.Pinch=o9,t.Rotate=a9,t.Press=l9,t.on=hc,t.off=fc,t.each=Mi,t.merge=Nae,t.extend=d9,t.bindFn=tM,t.assign=ia,t.inherit=$ae,t.bindFn=tM,t.prefixed=qp,t.toArray=Kc,t.inArray=oa,t.uniqueArray=kC,t.splitStr=Vc,t.boolOrFn=Mp,t.hasParent=jC,t.addEventListeners=hc,t.removeEventListeners=fc,t.defaults=ia({},u9,{preset:Xq}),t}();const h9=gse("DELETE");function kae(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return f9({},t,...r)}function f9(){const t=Ff(...arguments);return m9(t),t}function Ff(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Ff(f9(e[0],e[1]),...Ose(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Nse(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===h9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!si(n[s])&&!si(i[s])?n[s]=Ff(n[s],i[s]):n[s]=p9(i[s]));return n}function p9(t){return si(t)?Un(t).call(t,e=>p9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Ff({},t):t}function m9(t){for(const e of RC(t))t[e]===h9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&m9(t[e])}function Dae(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const qae=typeof window<"u"?window.Hammer||jae:function(){return Dae()};function ji(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=qae(this._dom.overlay);r.on("tap",MK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];na(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Mae(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Koe(ji.prototype);ji.current=null;ji.prototype.destroy=function(){this.deactivate();for(const r of toe(t=BK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ji.prototype.activate=function(){ji.current&&ji.current.deactivate(),ji.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ji.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ji.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Mae(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Eb,rM;function Aae(){if(rM)return Eb;rM=1,PK();var t=Wt();return Eb=t.Object.getOwnPropertySymbols,Eb}var Ob,nM;function Fae(){if(nM)return Ob;nM=1;var t=Aae();return Ob=t,Ob}var Pb,iM;function Lae(){return iM||(iM=1,Pb=Fae()),Pb}var Bae=Lae(),sM=qe(Bae),Tb={exports:{}},oM={},aM;function zae(){if(aM)return oM;aM=1;var t=Pe(),e=Ve(),r=wi(),n=Pp().f,i=qt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),oM}var lM;function Uae(){if(lM)return Tb.exports;lM=1,zae();var t=Wt(),e=t.Object,r=Tb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Tb.exports}var Cb,uM;function Wae(){if(uM)return Cb;uM=1;var t=Uae();return Cb=t,Cb}var Ib,cM;function Hae(){return cM||(cM=1,Ib=Wae()),Ib}var Vae=Hae(),v9=qe(Vae),dM={},hM;function Kae(){if(hM)return dM;hM=1;var t=Pe(),e=qt(),r=FK(),n=wi(),i=Pp(),s=Cp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,c=r(l),d={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(d,p,m);return d}}),dM}var Rb,fM;function Gae(){if(fM)return Rb;fM=1,Kae();var t=Wt();return Rb=t.Object.getOwnPropertyDescriptors,Rb}var Nb,pM;function Yae(){if(pM)return Nb;pM=1;var t=Gae();return Nb=t,Nb}var $b,mM;function Qae(){return mM||(mM=1,$b=Yae()),$b}var Xae=Qae(),vM=qe(Xae),jb={exports:{}},yM={},gM;function Jae(){if(gM)return yM;gM=1;var t=Pe(),e=qt(),r=PC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),yM}var bM;function Zae(){if(bM)return jb.exports;bM=1,Jae();var t=Wt(),e=t.Object,r=jb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),jb.exports}var kb,wM;function ele(){if(wM)return kb;wM=1;var t=Zae();return kb=t,kb}var Db,_M;function tle(){return _M||(_M=1,Db=ele()),Db}var rle=tle(),nle=qe(rle),qb,xM;function ile(){return xM||(xM=1,qb=vK()),qb}var sle=ile(),ole=qe(sle),SM={},EM={},Mb={exports:{}},Ab,OM;function ale(){if(OM)return Ab;OM=1;var t=Ve();return Ab=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ab}var Fb,PM;function lle(){if(PM)return Fb;PM=1;var t=Ve(),e=qr(),r=ts(),n=ale(),i=Object.isExtensible,s=t(function(){});return Fb=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Fb}var Lb,TM;function ule(){if(TM)return Lb;TM=1;var t=Ve();return Lb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Lb}var CM;function y9(){if(CM)return Mb.exports;CM=1;var t=Pe(),e=Xe(),r=Pd(),n=qr(),i=Jt(),s=Nn().f,o=Np(),a=xK(),l=lle(),u=Op(),c=ule(),d=!1,f=u("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},g=function(b,x){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!x)return"E";m(b)}return b[f].objectID},w=function(b,x){if(!i(b,f)){if(!l(b))return!0;if(!x)return!1;m(b)}return b[f].weakData},y=function(b){return c&&d&&l(b)&&!i(b,f)&&m(b),b},v=function(){_.enable=function(){},d=!0;var b=o.f,x=e([].splice),E={};E[f]=1,b(E).length&&(o.f=function(T){for(var S=b(T),O=0,P=S.length;O<P;O++)if(S[O]===f){x(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},_=Mb.exports={enable:v,fastKey:g,getWeakData:w,onFreeze:y};return r[f]=!0,Mb.exports}var Bb,IM;function cle(){if(IM)return Bb;IM=1;var t=Zt(),e=pu(),r=t("iterator"),n=Array.prototype;return Bb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Bb}var zb,RM;function g9(){if(RM)return zb;RM=1;var t=so(),e=bC(),r=xd(),n=pu(),i=Zt(),s=i("iterator");return zb=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},zb}var Ub,NM;function b9(){if(NM)return Ub;NM=1;var t=Zr(),e=rs(),r=ns(),n=au(),i=g9(),s=TypeError;return Ub=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},Ub}var Wb,$M;function AC(){if($M)return Wb;$M=1;var t=Zr(),e=ns(),r=bC();return Wb=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Wb}var Hb,jM;function FC(){if(jM)return Hb;jM=1;var t=Tp(),e=Zr(),r=ns(),n=au(),i=cle(),s=io(),o=Xt(),a=b9(),l=g9(),u=AC(),c=TypeError,d=function(p,m){this.stopped=p,this.result=m},f=d.prototype;return Hb=function(p,m,g){var w=g&&g.that,y=!!(g&&g.AS_ENTRIES),v=!!(g&&g.IS_RECORD),_=!!(g&&g.IS_ITERATOR),b=!!(g&&g.INTERRUPTED),x=t(m,w),E,T,S,O,P,I,C,R=function(B){return E&&u(E,"normal"),new d(!0,B)},q=function(B){return y?(r(B),b?x(B[0],B[1],R):x(B[0],B[1])):b?x(B,R):x(B)};if(v)E=p.iterator;else if(_)E=p;else{if(T=l(p),!T)throw new c(n(p)+" is not iterable");if(i(T)){for(S=0,O=s(p);O>S;S++)if(P=q(p[S]),P&&o(f,P))return P;return new d(!1)}E=a(p,T)}for(I=v?p.next:E.next;!(C=e(I,E)).done;){try{P=q(C.value)}catch(B){u(E,"throw",B)}if(typeof P=="object"&&P&&o(f,P))return P}return new d(!1)},Hb}var Vb,kM;function w9(){if(kM)return Vb;kM=1;var t=Xt(),e=TypeError;return Vb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Vb}var Kb,DM;function _9(){if(DM)return Kb;DM=1;var t=Pe(),e=Dt(),r=y9(),n=Ve(),i=cu(),s=FC(),o=w9(),a=Qt(),l=qr(),u=xd(),c=va(),d=Nn().f,f=fu().forEach,p=qt(),m=Id(),g=m.set,w=m.getterFor;return Kb=function(y,v,_){var b=y.indexOf("Map")!==-1,x=y.indexOf("Weak")!==-1,E=b?"set":"add",T=e[y],S=T&&T.prototype,O={},P;if(!p||!a(T)||!(x||S.forEach&&!n(function(){new T().entries().next()})))P=_.getConstructor(v,y,b,E),r.enable();else{P=v(function(R,q){g(o(R,I),{type:y,collection:new T}),u(q)||s(q,R[E],{that:R,AS_ENTRIES:b})});var I=P.prototype,C=w(y);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var q=R==="add"||R==="set";R in S&&!(x&&R==="clear")&&i(I,R,function(B,J){var Q=C(this).collection;if(!q&&x&&!l(B))return R==="get"?void 0:!1;var L=Q[R](B===0?0:B,J);return q?this:L})}),x||d(I,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return c(P,y,!1,!0),O[y]=P,t({global:!0,forced:!0},O),x||_.setStrong(P,y,b),P},Kb}var Gb,qM;function dle(){if(qM)return Gb;qM=1;var t=Cd();return Gb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Gb}var Yb,MM;function hle(){if(MM)return Yb;MM=1;var t=fn(),e=TC(),r=Zt(),n=qt(),i=r("species");return Yb=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},Yb}var Qb,AM;function x9(){if(AM)return Qb;AM=1;var t=Td(),e=TC(),r=dle(),n=Tp(),i=w9(),s=xd(),o=FC(),a=CC(),l=IC(),u=hle(),c=qt(),d=y9().fastKey,f=Id(),p=f.set,m=f.getterFor;return Qb={getConstructor:function(g,w,y,v){var _=g(function(S,O){i(S,b),p(S,{type:w,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(O)||o(O,S[v],{that:S,AS_ENTRIES:y})}),b=_.prototype,x=m(w),E=function(S,O,P){var I=x(S),C=T(S,O),R,q;return C?C.value=P:(I.last=C={index:q=d(O,!0),key:O,value:P,previous:R=I.last,next:null,removed:!1},I.first||(I.first=C),R&&(R.next=C),c?I.size++:S.size++,q!=="F"&&(I.index[q]=C)),S},T=function(S,O){var P=x(S),I=d(O),C;if(I!=="F")return P.index[I];for(C=P.first;C;C=C.next)if(C.key===O)return C};return r(b,{clear:function(){for(var O=this,P=x(O),I=P.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;P.first=P.last=null,P.index=t(null),c?P.size=0:O.size=0},delete:function(S){var O=this,P=x(O),I=T(O,S);if(I){var C=I.next,R=I.previous;delete P.index[I.index],I.removed=!0,R&&(R.next=C),C&&(C.previous=R),P.first===I&&(P.first=C),P.last===I&&(P.last=R),c?P.size--:O.size--}return!!I},forEach:function(O){for(var P=x(this),I=n(O,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:P.first;)for(I(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(O){return!!T(this,O)}}),r(b,y?{get:function(O){var P=T(this,O);return P&&P.value},set:function(O,P){return E(this,O===0?0:O,P)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),c&&e(b,"size",{configurable:!0,get:function(){return x(this).size}}),_},setStrong:function(g,w,y){var v=w+" Iterator",_=m(w),b=m(v);a(g,w,function(x,E){p(this,{type:v,target:x,state:_(x),kind:E,last:null})},function(){for(var x=b(this),E=x.kind,T=x.last;T&&T.removed;)T=T.previous;return!x.target||!(x.last=T=T?T.next:x.state.first)?(x.target=null,l(void 0,!0)):l(E==="keys"?T.key:E==="values"?T.value:[T.key,T.value],!1)},y?"entries":"values",!y,!0),u(w)}},Qb}var FM;function fle(){if(FM)return EM;FM=1;var t=_9(),e=x9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),EM}var LM;function ple(){return LM||(LM=1,fle()),SM}var BM={},Xb,zM;function S9(){return zM||(zM=1,Xb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Xb}var Jb,UM;function mle(){if(UM)return Jb;UM=1;var t=fn(),e=S9(),r=t("Map");return Jb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},Jb}var WM;function vle(){if(WM)return BM;WM=1;var t=Pe(),e=Xe(),r=rs(),n=pa(),i=FC(),s=mle(),o=lu(),a=Ve(),l=s.Map,u=s.has,c=s.get,d=s.set,f=e([].push),p=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||p},{groupBy:function(g,w){n(g),r(w);var y=new l,v=0;return i(g,function(_){var b=w(_,v++);u(y,b)?f(c(y,b),_):d(y,b,[_])}),y}}),BM}var Zb,HM;function yle(){if(HM)return Zb;HM=1,ao(),ple(),vle(),kp();var t=Wt();return Zb=t.Map,Zb}var e0,VM;function gle(){if(VM)return e0;VM=1;var t=yle();return lo(),e0=t,e0}var t0,KM;function ble(){return KM||(KM=1,t0=gle()),t0}var wle=ble(),E9=qe(wle),GM={},YM;function _le(){if(YM)return GM;YM=1;var t=Pe(),e=fu().some,r=Dp(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),GM}var r0,QM;function xle(){if(QM)return r0;QM=1,_le();var t=en();return r0=t("Array","some"),r0}var n0,XM;function Sle(){if(XM)return n0;XM=1;var t=Xt(),e=xle(),r=Array.prototype;return n0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},n0}var i0,JM;function Ele(){if(JM)return i0;JM=1;var t=Sle();return i0=t,i0}var s0,ZM;function Ole(){return ZM||(ZM=1,s0=Ele()),s0}var Ple=Ole(),Tle=qe(Ple),o0,eA;function Cle(){if(eA)return o0;eA=1,ao();var t=en();return o0=t("Array","keys"),o0}var a0,tA;function Ile(){if(tA)return a0;tA=1;var t=Cle();return a0=t,a0}var l0,rA;function Rle(){if(rA)return l0;rA=1,lo();var t=so(),e=Jt(),r=Xt(),n=Ile(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return l0=function(o){var a=o.keys;return o===i||r(i,o)&&a===i.keys||e(s,t(o))?n:a},l0}var u0,nA;function Nle(){return nA||(nA=1,u0=Rle()),u0}var $le=Nle(),Ma=qe($le),iA={},c0,sA;function jle(){if(sA)return c0;sA=1;var t=hu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),c=r(t(n,0,u),i),d=r(t(n,u),i),f=c.length,p=d.length,m=0,g=0;m<f||g<p;)n[m+g]=m<f&&g<p?i(c[m],d[g])<=0?c[m++]:d[g++]:m<f?c[m++]:d[g++];return n};return c0=r,c0}var d0,oA;function kle(){if(oA)return d0;oA=1;var t=su(),e=t.match(/firefox\/(\d+)/i);return d0=!!e&&+e[1],d0}var h0,aA;function Dle(){if(aA)return h0;aA=1;var t=su();return h0=/MSIE|Trident/.test(t),h0}var f0,lA;function qle(){if(lA)return f0;lA=1;var t=su(),e=t.match(/AppleWebKit\/(\d+)\./);return f0=!!e&&+e[1],f0}var uA;function Mle(){if(uA)return iA;uA=1;var t=Pe(),e=Xe(),r=rs(),n=Zn(),i=io(),s=LK(),o=oo(),a=Ve(),l=jle(),u=Dp(),c=kle(),d=Dle(),f=Sd(),p=qle(),m=[],g=e(m.sort),w=e(m.push),y=a(function(){m.sort(void 0)}),v=a(function(){m.sort(null)}),_=u("sort"),b=!a(function(){if(f)return f<70;if(!(c&&c>3)){if(d)return!0;if(p)return p<603;var T="",S,O,P,I;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(I=0;I<47;I++)m.push({k:O+I,v:P})}for(m.sort(function(C,R){return R.v-C.v}),I=0;I<m.length;I++)O=m[I].k.charAt(0),T.charAt(T.length-1)!==O&&(T+=O);return T!=="DGBEFHACIJK"}}),x=y||!v||!_||!b,E=function(T){return function(S,O){return O===void 0?-1:S===void 0?1:T!==void 0?+T(S,O)||0:o(S)>o(O)?1:-1}};return t({target:"Array",proto:!0,forced:x},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(b)return S===void 0?g(O):g(O,S);var P=[],I=i(O),C,R;for(R=0;R<I;R++)R in O&&w(P,O[R]);for(l(P,E(S)),C=i(P),R=0;R<C;)O[R]=P[R++];for(;R<I;)s(O,R++);return O}}),iA}var p0,cA;function Ale(){if(cA)return p0;cA=1,Mle();var t=en();return p0=t("Array","sort"),p0}var m0,dA;function Fle(){if(dA)return m0;dA=1;var t=Xt(),e=Ale(),r=Array.prototype;return m0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},m0}var v0,hA;function Lle(){if(hA)return v0;hA=1;var t=Fle();return v0=t,v0}var y0,fA;function Ble(){return fA||(fA=1,y0=Lle()),y0}var zle=Ble(),UP=qe(zle),g0,pA;function Ule(){if(pA)return g0;pA=1,ao();var t=en();return g0=t("Array","values"),g0}var b0,mA;function Wle(){if(mA)return b0;mA=1;var t=Ule();return b0=t,b0}var w0,vA;function Hle(){if(vA)return w0;vA=1,lo();var t=so(),e=Jt(),r=Xt(),n=Wle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return w0=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},w0}var _0,yA;function Vle(){return yA||(yA=1,_0=Hle()),_0}var Kle=Vle(),gA=qe(Kle),x0,bA;function Gle(){return bA||(bA=1,x0=qK()),x0}var Yle=Gle(),rl=qe(Yle),S0,wA;function Qle(){if(wA)return S0;wA=1,ao();var t=en();return S0=t("Array","entries"),S0}var E0,_A;function Xle(){if(_A)return E0;_A=1;var t=Qle();return E0=t,E0}var O0,xA;function Jle(){if(xA)return O0;xA=1,lo();var t=so(),e=Jt(),r=Xt(),n=Xle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return O0=function(o){var a=o.entries;return o===i||r(i,o)&&a===i.entries||e(s,t(o))?n:a},O0}var P0,SA;function Zle(){return SA||(SA=1,P0=Jle()),P0}var eue=Zle(),tue=qe(eue);const nr=[];for(let t=0;t<256;++t)nr.push((t+256).toString(16).slice(1));function rue(t,e=0){return(nr[t[e+0]]+nr[t[e+1]]+nr[t[e+2]]+nr[t[e+3]]+"-"+nr[t[e+4]]+nr[t[e+5]]+"-"+nr[t[e+6]]+nr[t[e+7]]+"-"+nr[t[e+8]]+nr[t[e+9]]+"-"+nr[t[e+10]]+nr[t[e+11]]+nr[t[e+12]]+nr[t[e+13]]+nr[t[e+14]]+nr[t[e+15]]).toLowerCase()}let T0;const nue=new Uint8Array(16);function iue(){if(!T0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T0=crypto.getRandomValues.bind(crypto)}return T0(nue)}const sue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var EA={randomUUID:sue};function oue(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??iue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,rue(n)}function aue(t,e,r){return EA.randomUUID&&!t?EA.randomUUID():oue(t)}function OA(t){return typeof t=="string"||typeof t=="number"}class LC{constructor(e){zs(this,"_queue",[]),zs(this,"_timeout",null),zs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new LC(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const o=r.replace[s];i.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Woe(()=>{this.flush()},this.delay))}flush(){var e,r;na(e=BK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Lf{constructor(){zs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),zs(this,"subscribe",Lf.prototype.on),zs(this,"unsubscribe",Lf.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");na(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=Za(n=this._subscribers[e]).call(n,i=>i!==r)}}var PA={},TA={},CA;function lue(){if(CA)return TA;CA=1;var t=_9(),e=x9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),TA}var IA;function uue(){return IA||(IA=1,lue()),PA}var RA={},C0,NA;function ga(){if(NA)return C0;NA=1;var t=au(),e=TypeError;return C0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},C0}var I0,$A;function ba(){if($A)return I0;$A=1;var t=fn(),e=S9(),r=t("Set"),n=r.prototype;return I0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},I0}var R0,jA;function wa(){if(jA)return R0;jA=1;var t=Zr();return R0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},R0}var N0,kA;function Dd(){if(kA)return N0;kA=1;var t=wa();return N0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},N0}var $0,DA;function BC(){if(DA)return $0;DA=1;var t=ba(),e=Dd(),r=t.Set,n=t.add;return $0=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},$0}var j0,qA;function qd(){return qA||(qA=1,j0=function(t){return t.size}),j0}var k0,MA;function cue(){return MA||(MA=1,k0=function(t){return{iterator:t,next:t.next,done:!1}}),k0}var D0,AA;function _a(){if(AA)return D0;AA=1;var t=rs(),e=ns(),r=Zr(),n=du(),i=cue(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(c,d){this.set=c,this.size=l(d,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},D0=function(c){e(c);var d=+c.size;if(d!==d)throw new a(s);var f=n(d);if(f<0)throw new o(s);return new u(c,f)},D0}var q0,FA;function due(){if(FA)return q0;FA=1;var t=ga(),e=ba(),r=BC(),n=qd(),i=_a(),s=Dd(),o=wa(),a=e.has,l=e.remove;return q0=function(c){var d=t(this),f=i(c),p=r(d);return n(d)<=f.size?s(d,function(m){f.includes(m)&&l(p,m)}):o(f.getIterator(),function(m){a(p,m)&&l(p,m)}),p},q0}var M0,LA;function xa(){return LA||(LA=1,M0=function(){return!1}),M0}var BA;function hue(){if(BA)return RA;BA=1;var t=Pe(),e=due(),r=Ve(),n=xa(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),RA}var zA={},A0,UA;function fue(){if(UA)return A0;UA=1;var t=ga(),e=ba(),r=qd(),n=_a(),i=Dd(),s=wa(),o=e.Set,a=e.add,l=e.has;return A0=function(c){var d=t(this),f=n(c),p=new o;return r(d)>f.size?s(f.getIterator(),function(m){l(d,m)&&a(p,m)}):i(d,function(m){f.includes(m)&&a(p,m)}),p},A0}var WA;function pue(){if(WA)return zA;WA=1;var t=Pe(),e=Ve(),r=fue(),n=xa(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),zA}var HA={},F0,VA;function mue(){if(VA)return F0;VA=1;var t=ga(),e=ba().has,r=qd(),n=_a(),i=Dd(),s=wa(),o=AC();return F0=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var d=c.getIterator();return s(d,function(f){if(e(u,f))return o(d,"normal",!1)})!==!1},F0}var KA;function vue(){if(KA)return HA;KA=1;var t=Pe(),e=mue(),r=xa(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),HA}var GA={},L0,YA;function yue(){if(YA)return L0;YA=1;var t=ga(),e=qd(),r=Dd(),n=_a();return L0=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},L0}var QA;function gue(){if(QA)return GA;QA=1;var t=Pe(),e=yue(),r=xa(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),GA}var XA={},B0,JA;function bue(){if(JA)return B0;JA=1;var t=ga(),e=ba().has,r=qd(),n=_a(),i=wa(),s=AC();return B0=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(d){if(!e(l,d))return s(c,"normal",!1)})!==!1},B0}var ZA;function wue(){if(ZA)return XA;ZA=1;var t=Pe(),e=bue(),r=xa(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),XA}var eF={},z0,tF;function _ue(){if(tF)return z0;tF=1;var t=ga(),e=ba(),r=BC(),n=_a(),i=wa(),s=e.add,o=e.has,a=e.remove;return z0=function(u){var c=t(this),d=n(u).getIterator(),f=r(c);return i(d,function(p){o(c,p)?a(f,p):s(f,p)}),f},z0}var U0,rF;function O9(){return rF||(rF=1,U0=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),U0}var nF;function xue(){if(nF)return eF;nF=1;var t=Pe(),e=_ue(),r=O9(),n=xa(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),eF}var iF={},W0,sF;function Sue(){if(sF)return W0;sF=1;var t=ga(),e=ba().add,r=BC(),n=_a(),i=wa();return W0=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(c){e(u,c)}),u},W0}var oF;function Eue(){if(oF)return iF;oF=1;var t=Pe(),e=Sue(),r=O9(),n=xa(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),iF}var H0,aF;function Oue(){if(aF)return H0;aF=1,ao(),uue(),hue(),pue(),vue(),gue(),wue(),xue(),Eue(),kp();var t=Wt();return H0=t.Set,H0}var V0,lF;function Pue(){if(lF)return V0;lF=1;var t=Oue();return lo(),V0=t,V0}var K0,uF;function Tue(){return uF||(uF=1,K0=Pue()),K0}var Cue=Tue(),G0=qe(Cue),Y0,cF;function Iue(){if(cF)return Y0;cF=1,ao(),kp();var t=b9();return Y0=t,Y0}var Q0,dF;function Rue(){if(dF)return Q0;dF=1;var t=Iue();return lo(),Q0=t,Q0}var X0,hF;function Nue(){if(hF)return X0;hF=1;var t=Rue();return X0=t,X0}var J0,fF;function $ue(){if(fF)return J0;fF=1;var t=Nue();return J0=t,J0}var Z0,pF;function jue(){return pF||(pF=1,Z0=$ue()),Z0}var e1,mF;function kue(){return mF||(mF=1,e1=jue()),e1}var Due=kue(),t1=qe(Due);class Oo{constructor(e){this._pairs=e}*[rl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Un(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Un(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Toe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new E9(this._pairs)}toIdSet(){return new G0(this.toIdArray())}toItemSet(){return new G0(this.toItemArray())}cache(){return new Oo([...this._pairs])}distinct(e){const r=new G0;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Oo({*[rl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Oo({*[rl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=t1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const r=t1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Oo({[rl]:()=>{var r;return t1(UP(r=[...this._pairs]).call(r,(n,i)=>{let[s,o]=n,[a,l]=i;return e(o,l,s,a)}))}})}}function vF(t,e){var r=RC(t);if(sM){var n=sM(t);e&&(n=Za(n).call(n,function(i){return v9(t,i).enumerable})),r.push.apply(r,n)}return r}function yF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?na(r=vF(Object(i),!0)).call(r,function(s){zs(t,s,i[s])}):vM?nle(t,vM(i)):na(n=vF(Object(i))).call(n,function(s){ole(t,s,v9(i,s))})}return t}function que(t,e){return t[e]==null&&(t[e]=aue()),t}class Wl extends Lf{get idProp(){return this._idProp}constructor(e,r){super(),zs(this,"_queue",null),e&&!si(e)&&(r=e,e=[]),this._options=r||{},this._data=new E9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=LC.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(si(e)){const s=Un(e).call(e,o=>o[this._idProp]);if(Tle(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],o=[],a=this._idProp,l=u=>{const c=u[a];if(c!=null&&this._data.has(c)){const d=u,f=moe({},this._data.get(c)),p=this._updateItem(d);i.push(p),o.push(d),s.push(f)}else{const d=this._addItem(u);n.push(d)}};if(si(e))for(let u=0,c=e.length;u<c;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:o};this._trigger("update",u,r)}return _oe(n).call(n,i)}updateOnly(e,r){var n;si(e)||(e=[e]);const i=Un(n=Un(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(n,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],u=kae(o,a);return this._data.set(l,u),{id:l,oldData:o,updatedData:u}});if(i.length){const s={items:Un(i).call(i,o=>o.id),oldData:Un(i).call(i,o=>o.oldData),data:Un(i).call(i,o=>o.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;OA(e)?(n=e,s=r):si(e)?(i=e,s=r):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&Za(s),l=[];let u,c,d;if(n!=null)u=this._data.get(n),u&&a&&!a(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!a||a(u))&&l.push(u);else{var f;c=[...Ma(f=this._data).call(f)];for(let p=0,m=c.length;p<m;p++)d=c[p],u=this._data.get(d),u!=null&&(!a||a(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,g=l.length;m<g;m++)l[m]=this._filterFields(l[m],p)}if(o=="Object"){const p={};for(let m=0,g=l.length;m<g;m++){const w=l[m],y=w[this._idProp];p[y]=w}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&Za(e),i=e&&e.order,s=[...Ma(r).call(r)],o=[];if(n)if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const c=s[l],d=this._data.get(c);d!=null&&n(d)&&a.push(d)}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],c=this._data.get(u);c!=null&&n(c)&&o.push(c[this._idProp])}else if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const c=s[l];a.push(r.get(c))}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],c=r.get(u);c!=null&&o.push(c[this._idProp])}return o}getDataSet(){return this}forEach(e,r){const n=r&&Za(r),i=this._data,s=[...Ma(i).call(i)];if(r&&r.order){const o=this.get(r);for(let a=0,l=o.length;a<l;a++){const u=o[a],c=u[this._idProp];e(u,c)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&Za(r),i=[],s=this._data,o=[...Ma(s).call(s)];for(let a=0,l=o.length;a<l;a++){const u=o[a],c=this._data.get(u);c!=null&&(!n||n(c))&&i.push(e(c,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&nse(n=si(r)?r:RC(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;UP(e).call(e,(i,s)=>{const o=i[n],a=s[n];return o>a?1:o<a?-1:0})}else if(typeof r=="function")UP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=si(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(OA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...Ma(r=this._data).call(r)],i=[];for(let s=0,o=n.length;s<o;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of gA(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o>n)&&(r=s,n=o)}return r||null}min(e){let r=null,n=null;for(const s of gA(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o<n)&&(r=s,n=o)}return r||null}distinct(e){const r=this._data,n=[...Ma(r).call(r)],i=[];let s=0;for(let o=0,a=n.length;o<a;o++){const l=n[o],c=r.get(l)[e];let d=!1;for(let f=0;f<s;f++)if(i[f]==c){d=!0;break}!d&&c!==void 0&&(i[s]=c,s++)}return i}_addItem(e){const r=que(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+qoe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,yF(yF({},n),e)),r}stream(e){if(e){const n=this._data;return new Oo({*[rl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Oo({[rl]:MK(r=tue(this._data)).call(r,this._data)})}}}function Mue(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof na(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Un(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function P9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof na(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Un(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Mue(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var gF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Se(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var bF={},Hu,wF;function lt(){if(wF)return Hu;wF=1;var t=function(e){return e&&e.Math===Math&&e};return Hu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof gF=="object"&&gF)||t(typeof Hu=="object"&&Hu)||function(){return this}()||Function("return this")(),Hu}var r1,_F;function Me(){return _F||(_F=1,r1=function(t){try{return!!t()}catch{return!0}}),r1}var n1,xF;function Md(){if(xF)return n1;xF=1;var t=Me();return n1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),n1}var i1,SF;function Ap(){if(SF)return i1;SF=1;var t=Md(),e=Function.prototype,r=e.apply,n=e.call;return i1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),i1}var s1,EF;function Fe(){if(EF)return s1;EF=1;var t=Md(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return s1=t?n:function(i){return function(){return r.apply(i,arguments)}},s1}var o1,OF;function _i(){if(OF)return o1;OF=1;var t=Fe(),e=t({}.toString),r=t("".slice);return o1=function(n){return r(e(n),8,-1)},o1}var a1,PF;function zC(){if(PF)return a1;PF=1;var t=_i(),e=Fe();return a1=function(r){if(t(r)==="Function")return e(r)},a1}var l1,TF;function er(){if(TF)return l1;TF=1;var t=typeof document=="object"&&document.all;return l1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},l1}var u1={},c1,CF;function Tt(){if(CF)return c1;CF=1;var t=Me();return c1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),c1}var d1,IF;function tn(){if(IF)return d1;IF=1;var t=Md(),e=Function.prototype.call;return d1=t?e.bind(e):function(){return e.apply(e,arguments)},d1}var h1={},RF;function Fp(){if(RF)return h1;RF=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return h1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,h1}var f1,NF;function Ad(){return NF||(NF=1,f1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),f1}var p1,$F;function Lp(){if($F)return p1;$F=1;var t=Fe(),e=Me(),r=_i(),n=Object,i=t("".split);return p1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,p1}var m1,jF;function vu(){return jF||(jF=1,m1=function(t){return t==null}),m1}var v1,kF;function is(){if(kF)return v1;kF=1;var t=vu(),e=TypeError;return v1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},v1}var y1,DF;function ei(){if(DF)return y1;DF=1;var t=Lp(),e=is();return y1=function(r){return t(e(r))},y1}var g1,qF;function tr(){if(qF)return g1;qF=1;var t=er();return g1=function(e){return typeof e=="object"?e!==null:t(e)},g1}var b1,MF;function Ke(){return MF||(MF=1,b1={}),b1}var w1,AF;function pn(){if(AF)return w1;AF=1;var t=Ke(),e=lt(),r=er(),n=function(i){return r(i)?i:void 0};return w1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},w1}var _1,FF;function Mt(){if(FF)return _1;FF=1;var t=Fe();return _1=t({}.isPrototypeOf),_1}var x1,LF;function yu(){if(LF)return x1;LF=1;var t=lt(),e=t.navigator,r=e&&e.userAgent;return x1=r?String(r):"",x1}var S1,BF;function Fd(){if(BF)return S1;BF=1;var t=lt(),e=yu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),S1=a,S1}var E1,zF;function gu(){if(zF)return E1;zF=1;var t=Fd(),e=Me(),r=lt(),n=r.String;return E1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),E1}var O1,UF;function T9(){if(UF)return O1;UF=1;var t=gu();return O1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",O1}var P1,WF;function Ld(){if(WF)return P1;WF=1;var t=pn(),e=er(),r=Mt(),n=T9(),i=Object;return P1=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},P1}var T1,HF;function bu(){if(HF)return T1;HF=1;var t=String;return T1=function(e){try{return t(e)}catch{return"Object"}},T1}var C1,VF;function ss(){if(VF)return C1;VF=1;var t=er(),e=bu(),r=TypeError;return C1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},C1}var I1,KF;function UC(){if(KF)return I1;KF=1;var t=ss(),e=vu();return I1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},I1}var R1,GF;function Aue(){if(GF)return R1;GF=1;var t=tn(),e=er(),r=tr(),n=TypeError;return R1=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},R1}var N1={exports:{}},$1,YF;function wu(){return YF||(YF=1,$1=!0),$1}var j1,QF;function Fue(){if(QF)return j1;QF=1;var t=lt(),e=Object.defineProperty;return j1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},j1}var XF;function WC(){if(XF)return N1.exports;XF=1;var t=wu(),e=lt(),r=Fue(),n="__core-js_shared__",i=N1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),N1.exports}var k1,JF;function _u(){if(JF)return k1;JF=1;var t=WC();return k1=function(e,r){return t[e]||(t[e]=r||{})},k1}var D1,ZF;function mn(){if(ZF)return D1;ZF=1;var t=is(),e=Object;return D1=function(r){return e(t(r))},D1}var q1,eL;function cr(){if(eL)return q1;eL=1;var t=Fe(),e=mn(),r=t({}.hasOwnProperty);return q1=Object.hasOwn||function(i,s){return r(e(i),s)},q1}var M1,tL;function Bp(){if(tL)return M1;tL=1;var t=Fe(),e=0,r=Math.random(),n=t(1.1.toString);return M1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},M1}var A1,rL;function At(){if(rL)return A1;rL=1;var t=lt(),e=_u(),r=cr(),n=Bp(),i=gu(),s=T9(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return A1=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},A1}var F1,nL;function C9(){if(nL)return F1;nL=1;var t=tn(),e=tr(),r=Ld(),n=UC(),i=Aue(),s=At(),o=TypeError,a=s("toPrimitive");return F1=function(l,u){if(!e(l)||r(l))return l;var c=n(l,a),d;if(c){if(u===void 0&&(u="default"),d=t(c,l,u),!e(d)||r(d))return d;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},F1}var L1,iL;function HC(){if(iL)return L1;iL=1;var t=C9(),e=Ld();return L1=function(r){var n=t(r,"string");return e(n)?n:n+""},L1}var B1,sL;function I9(){if(sL)return B1;sL=1;var t=lt(),e=tr(),r=t.document,n=e(r)&&e(r.createElement);return B1=function(i){return n?r.createElement(i):{}},B1}var z1,oL;function R9(){if(oL)return z1;oL=1;var t=Tt(),e=Me(),r=I9();return z1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),z1}var aL;function zp(){if(aL)return u1;aL=1;var t=Tt(),e=tn(),r=Fp(),n=Ad(),i=ei(),s=HC(),o=cr(),a=R9(),l=Object.getOwnPropertyDescriptor;return u1.f=t?l:function(c,d){if(c=i(c),d=s(d),a)try{return l(c,d)}catch{}if(o(c,d))return n(!e(r.f,c,d),c[d])},u1}var U1,lL;function Lue(){if(lL)return U1;lL=1;var t=Me(),e=er(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===a?!0:c===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return U1=n,U1}var W1,uL;function Up(){if(uL)return W1;uL=1;var t=zC(),e=ss(),r=Md(),n=t(t.bind);return W1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},W1}var H1={},V1,cL;function N9(){if(cL)return V1;cL=1;var t=Tt(),e=Me();return V1=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),V1}var K1,dL;function xi(){if(dL)return K1;dL=1;var t=tr(),e=String,r=TypeError;return K1=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},K1}var hL;function jn(){if(hL)return H1;hL=1;var t=Tt(),e=R9(),r=N9(),n=xi(),i=HC(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return H1.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var g=a(f,p);g&&g[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:g[u],enumerable:l in m?m[l]:g[l],writable:!1})}return o(f,p,m)}:o:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return o(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},H1}var G1,fL;function xu(){if(fL)return G1;fL=1;var t=Tt(),e=jn(),r=Ad();return G1=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},G1}var Y1,pL;function ge(){if(pL)return Y1;pL=1;var t=lt(),e=Ap(),r=zC(),n=er(),i=zp().f,s=Lue(),o=Ke(),a=Up(),l=xu(),u=cr(),c=function(d){var f=function(p,m,g){if(this instanceof f){switch(arguments.length){case 0:return new d;case 1:return new d(p);case 2:return new d(p,m)}return new d(p,m,g)}return e(d,this,arguments)};return f.prototype=d.prototype,f};return Y1=function(d,f){var p=d.target,m=d.global,g=d.stat,w=d.proto,y=m?t:g?t[p]:t[p]&&t[p].prototype,v=m?o:o[p]||l(o,p,{})[p],_=v.prototype,b,x,E,T,S,O,P,I,C;for(T in f)b=s(m?T:p+(g?".":"#")+T,d.forced),x=!b&&y&&u(y,T),O=v[T],x&&(d.dontCallGetSet?(C=i(y,T),P=C&&C.value):P=y[T]),S=x&&P?P:f[T],!(!b&&!w&&typeof O==typeof S)&&(d.bind&&x?I=a(S,t):d.wrap&&x?I=c(S):w&&n(S)?I=r(S):I=S,(d.sham||S&&S.sham||O&&O.sham)&&l(I,"sham",!0),l(v,T,I),w&&(E=p+"Prototype",u(o,E)||l(o,E,{}),l(o[E],T,S),d.real&&_&&(b||!_[T])&&l(_,T,S)))},Y1}var Q1,mL;function Bue(){if(mL)return Q1;mL=1;var t=Math.ceil,e=Math.floor;return Q1=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Q1}var X1,vL;function Su(){if(vL)return X1;vL=1;var t=Bue();return X1=function(e){var r=+e;return r!==r||r===0?0:t(r)},X1}var J1,yL;function Wp(){if(yL)return J1;yL=1;var t=Su(),e=Math.max,r=Math.min;return J1=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},J1}var Z1,gL;function $9(){if(gL)return Z1;gL=1;var t=Su(),e=Math.min;return Z1=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Z1}var ew,bL;function os(){if(bL)return ew;bL=1;var t=$9();return ew=function(e){return t(e.length)},ew}var tw,wL;function VC(){if(wL)return tw;wL=1;var t=ei(),e=Wp(),r=os(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(a,u),d;if(i&&o!==o){for(;u>c;)if(d=l[c++],d!==d)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return tw={includes:n(!0),indexOf:n(!1)},tw}var rw,_L;function Bd(){return _L||(_L=1,rw={}),rw}var nw,xL;function j9(){if(xL)return nw;xL=1;var t=Fe(),e=cr(),r=ei(),n=VC().indexOf,i=Bd(),s=t([].push);return nw=function(o,a){var l=r(o),u=0,c=[],d;for(d in l)!e(i,d)&&e(l,d)&&s(c,d);for(;a.length>u;)e(l,d=a[u++])&&(~n(c,d)||s(c,d));return c},nw}var iw,SL;function KC(){return SL||(SL=1,iw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),iw}var sw,EL;function zd(){if(EL)return sw;EL=1;var t=j9(),e=KC();return sw=Object.keys||function(n){return t(n,e)},sw}var ow={},OL;function Hp(){return OL||(OL=1,ow.f=Object.getOwnPropertySymbols),ow}var aw,PL;function zue(){if(PL)return aw;PL=1;var t=Tt(),e=Fe(),r=tn(),n=Me(),i=zd(),s=Hp(),o=Fp(),a=mn(),l=Lp(),u=Object.assign,c=Object.defineProperty,d=e([].concat);return aw=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),g="abcdefghijklmnopqrst";return f[m]=7,g.split("").forEach(function(w){p[w]=w}),u({},f)[m]!==7||i(u({},p)).join("")!==g})?function(p,m){for(var g=a(p),w=arguments.length,y=1,v=s.f,_=o.f;w>y;)for(var b=l(arguments[y++]),x=v?d(i(b),v(b)):i(b),E=x.length,T=0,S;E>T;)S=x[T++],(!t||r(_,b,S))&&(g[S]=b[S]);return g}:u,aw}var TL;function Uue(){if(TL)return bF;TL=1;var t=ge(),e=zue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),bF}var lw,CL;function Wue(){if(CL)return lw;CL=1,Uue();var t=Ke();return lw=t.Object.assign,lw}var uw,IL;function Hue(){if(IL)return uw;IL=1;var t=Wue();return uw=t,uw}var cw,RL;function Vue(){return RL||(RL=1,cw=Hue()),cw}var Kue=Vue(),jt=Se(Kue),NL={},dw,$L;function Eu(){if($L)return dw;$L=1;var t=Fe();return dw=t([].slice),dw}var hw,jL;function Gue(){if(jL)return hw;jL=1;var t=Fe(),e=ss(),r=tr(),n=cr(),i=Eu(),s=Md(),o=Function,a=t([].concat),l=t([].join),u={},c=function(d,f,p){if(!n(u,f)){for(var m=[],g=0;g<f;g++)m[g]="a["+g+"]";u[f]=o("C,a","return new C("+l(m,",")+")")}return u[f](d,p)};return hw=s?o.bind:function(f){var p=e(this),m=p.prototype,g=i(arguments,1),w=function(){var v=a(g,i(arguments));return this instanceof w?c(p,v.length,v):p.apply(f,v)};return r(m)&&(w.prototype=m),w},hw}var kL;function Yue(){if(kL)return NL;kL=1;var t=ge(),e=Gue();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),NL}var fw,DL;function dr(){if(DL)return fw;DL=1;var t=lt(),e=Ke();return fw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},fw}var pw,qL;function Que(){if(qL)return pw;qL=1,Yue();var t=dr();return pw=t("Function","bind"),pw}var mw,ML;function Xue(){if(ML)return mw;ML=1;var t=Mt(),e=Que(),r=Function.prototype;return mw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},mw}var vw,AL;function Jue(){if(AL)return vw;AL=1;var t=Xue();return vw=t,vw}var yw,FL;function Zue(){return FL||(FL=1,yw=Jue()),yw}var ece=Zue(),X=Se(ece);function GC(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function tce(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function rce(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r-(a-o)),t.lineTo(e+s,r+o),t.lineTo(e-s,r+o),t.lineTo(e,r-(a-o)),t.closePath()}function nce(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r+(a-o)),t.lineTo(e+s,r-o),t.lineTo(e-s,r-o),t.lineTo(e,r+(a-o)),t.closePath()}function ice(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function sce(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function k9(t,e,r,n,i,s){const o=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,o*270,o*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,o*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,o*90,o*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,o*180,o*270,!1),t.closePath()}function WP(t,e,r,n,i){const s=.5522848,o=n/2*s,a=i/2*s,l=e+n,u=r+i,c=e+n/2,d=r+i/2;t.beginPath(),t.moveTo(e,d),t.bezierCurveTo(e,d-a,c-o,r,c,r),t.bezierCurveTo(c+o,r,l,d-a,l,d),t.bezierCurveTo(l,d+a,c+o,u,c,u),t.bezierCurveTo(c-o,u,e,d+a,e,d),t.closePath()}function D9(t,e,r,n,i){const s=.3333333333333333,o=n,a=i*s,l=.5522848,u=o/2*l,c=a/2*l,d=e+o,f=r+a,p=e+o/2,m=r+a/2,g=r+(i-a/2),w=r+i;t.beginPath(),t.moveTo(d,m),t.bezierCurveTo(d,m+c,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+c,e,m),t.bezierCurveTo(e,m-c,p-u,r,p,r),t.bezierCurveTo(p+u,r,d,m-c,d,m),t.lineTo(d,g),t.bezierCurveTo(d,g+c,p+u,w,p,w),t.bezierCurveTo(p-u,w,e,g+c,e,g),t.lineTo(e,m)}function q9(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const o=s.length,a=n-e,l=i-r,u=l/a;let c=Math.sqrt(a*a+l*l),d=0,f=!0,p=0,m=+s[0];for(;c>=.1;)m=+s[d++%o],m>c&&(m=c),p=Math.sqrt(m*m/(1+u*u)),p=a<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),c-=m,f=!f}function oce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let o=1;o<i;o++)t.lineTo(e+n*Math.cos(s*o),r+n*Math.sin(s*o));t.closePath()}const LL={circle:GC,dashedLine:q9,database:D9,diamond:sce,ellipse:WP,ellipse_vis:WP,hexagon:oce,roundRect:k9,square:tce,star:ice,triangle:rce,triangleDown:nce};function ace(t){return Object.prototype.hasOwnProperty.call(LL,t)?LL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var gw={exports:{}},BL;function lce(){return BL||(BL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(gw)),gw.exports}var uce=lce(),M9=Se(uce),zL={},bw,UL;function Sa(){if(UL)return bw;UL=1;var t=_i();return bw=Array.isArray||function(r){return t(r)==="Array"},bw}var ww,WL;function A9(){if(WL)return ww;WL=1;var t=TypeError,e=9007199254740991;return ww=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},ww}var _w,HL;function Vp(){if(HL)return _w;HL=1;var t=Tt(),e=jn(),r=Ad();return _w=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},_w}var xw,VL;function YC(){if(VL)return xw;VL=1;var t=At(),e=t("toStringTag"),r={};return r[e]="z",xw=String(r)==="[object z]",xw}var Sw,KL;function Ou(){if(KL)return Sw;KL=1;var t=YC(),e=er(),r=_i(),n=At(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return Sw=t?r:function(l){var u,c,d;return l===void 0?"Undefined":l===null?"Null":typeof(c=a(u=s(l),i))=="string"?c:o?r(u):(d=r(u))==="Object"&&e(u.callee)?"Arguments":d},Sw}var Ew,GL;function cce(){if(GL)return Ew;GL=1;var t=Fe(),e=er(),r=WC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Ew=r.inspectSource,Ew}var Ow,YL;function F9(){if(YL)return Ow;YL=1;var t=Fe(),e=Me(),r=er(),n=Ou(),i=pn(),s=cce(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(o),d=function(m){if(!r(m))return!1;try{return a(o,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Ow=!a||e(function(){var p;return d(d.call)||!d(Object)||!d(function(){p=!0})||p})?f:d,Ow}var Pw,QL;function dce(){if(QL)return Pw;QL=1;var t=Sa(),e=F9(),r=tr(),n=At(),i=n("species"),s=Array;return Pw=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Pw}var Tw,XL;function QC(){if(XL)return Tw;XL=1;var t=dce();return Tw=function(e,r){return new(t(e))(r===0?0:r)},Tw}var Cw,JL;function Ud(){if(JL)return Cw;JL=1;var t=Me(),e=At(),r=Fd(),n=e("species");return Cw=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Cw}var ZL;function L9(){if(ZL)return zL;ZL=1;var t=ge(),e=Me(),r=Sa(),n=tr(),i=mn(),s=os(),o=A9(),a=Vp(),l=QC(),u=Ud(),c=At(),d=Fd(),f=c("isConcatSpreadable"),p=d>=51||!e(function(){var w=[];return w[f]=!1,w.concat()[0]!==w}),m=function(w){if(!n(w))return!1;var y=w[f];return y!==void 0?!!y:r(w)},g=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:g},{concat:function(y){var v=i(this),_=l(v,0),b=0,x,E,T,S,O;for(x=-1,T=arguments.length;x<T;x++)if(O=x===-1?v:arguments[x],m(O))for(S=s(O),o(b+S),E=0;E<S;E++,b++)E in O&&a(_,b,O[E]);else o(b+1),a(_,b++,O);return _.length=b,_}}),zL}var eB={},tB={},Iw,rB;function kn(){if(rB)return Iw;rB=1;var t=Ou(),e=String;return Iw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Iw}var Rw={},nB;function XC(){if(nB)return Rw;nB=1;var t=Tt(),e=N9(),r=jn(),n=xi(),i=ei(),s=zd();return Rw.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),c=s(l),d=c.length,f=0,p;d>f;)r.f(a,p=c[f++],u[p]);return a},Rw}var Nw,iB;function hce(){if(iB)return Nw;iB=1;var t=pn();return Nw=t("document","documentElement"),Nw}var $w,sB;function Kp(){if(sB)return $w;sB=1;var t=_u(),e=Bp(),r=t("keys");return $w=function(n){return r[n]||(r[n]=e(n))},$w}var jw,oB;function Wd(){if(oB)return jw;oB=1;var t=xi(),e=XC(),r=KC(),n=Bd(),i=hce(),s=I9(),o=Kp(),a=">",l="<",u="prototype",c="script",d=o("IE_PROTO"),f=function(){},p=function(v){return l+c+a+v+l+"/"+c+a},m=function(v){v.write(p("")),v.close();var _=v.parentWindow.Object;return v=null,_},g=function(){var v=s("iframe"),_="java"+c+":",b;return v.style.display="none",i.appendChild(v),v.src=String(_),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},w,y=function(){try{w=new ActiveXObject("htmlfile")}catch{}y=typeof document<"u"?document.domain&&w?m(w):g():m(w);for(var v=r.length;v--;)delete y[u][r[v]];return y()};return n[d]=!0,jw=Object.create||function(_,b){var x;return _!==null?(f[u]=t(_),x=new f,f[u]=null,x[d]=_):x=y(),b===void 0?x:e.f(x,b)},jw}var kw={},aB;function Gp(){if(aB)return kw;aB=1;var t=j9(),e=KC(),r=e.concat("length","prototype");return kw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},kw}var Dw={},lB;function JC(){if(lB)return Dw;lB=1;var t=_i(),e=ei(),r=Gp().f,n=Eu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return Dw.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},Dw}var qw,uB;function Hd(){if(uB)return qw;uB=1;var t=xu();return qw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},qw}var Mw,cB;function ZC(){if(cB)return Mw;cB=1;var t=jn();return Mw=function(e,r,n){return t.f(e,r,n)},Mw}var Aw={},dB;function Yp(){if(dB)return Aw;dB=1;var t=At();return Aw.f=t,Aw}var Fw,hB;function mt(){if(hB)return Fw;hB=1;var t=Ke(),e=cr(),r=Yp(),n=jn().f;return Fw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Fw}var Lw,fB;function B9(){if(fB)return Lw;fB=1;var t=tn(),e=pn(),r=At(),n=Hd();return Lw=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},Lw}var Bw,pB;function fce(){if(pB)return Bw;pB=1;var t=YC(),e=Ou();return Bw=t?{}.toString:function(){return"[object "+e(this)+"]"},Bw}var zw,mB;function Ea(){if(mB)return zw;mB=1;var t=YC(),e=jn().f,r=xu(),n=cr(),i=fce(),s=At(),o=s("toStringTag");return zw=function(a,l,u,c){var d=u?a:a&&a.prototype;d&&(n(d,o)||e(d,o,{configurable:!0,value:l}),c&&!t&&r(d,"toString",i))},zw}var Uw,vB;function z9(){if(vB)return Uw;vB=1;var t=lt(),e=er(),r=t.WeakMap;return Uw=e(r)&&/native code/.test(String(r)),Uw}var Ww,yB;function Oa(){if(yB)return Ww;yB=1;var t=z9(),e=lt(),r=tr(),n=xu(),i=cr(),s=WC(),o=Kp(),a=Bd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,d,f,p,m=function(v){return p(v)?f(v):d(v,{})},g=function(v){return function(_){var b;if(!r(_)||(b=f(_)).type!==v)throw new u("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var w=s.state||(s.state=new c);w.get=w.get,w.has=w.has,w.set=w.set,d=function(v,_){if(w.has(v))throw new u(l);return _.facade=v,w.set(v,_),_},f=function(v){return w.get(v)||{}},p=function(v){return w.has(v)}}else{var y=o("state");a[y]=!0,d=function(v,_){if(i(v,y))throw new u(l);return _.facade=v,n(v,y,_),_},f=function(v){return i(v,y)?v[y]:{}},p=function(v){return i(v,y)}}return Ww={set:d,get:f,has:p,enforce:m,getterFor:g},Ww}var Hw,gB;function uo(){if(gB)return Hw;gB=1;var t=Up(),e=Fe(),r=Lp(),n=mn(),i=os(),s=QC(),o=e([].push),a=function(l){var u=l===1,c=l===2,d=l===3,f=l===4,p=l===6,m=l===7,g=l===5||p;return function(w,y,v,_){for(var b=n(w),x=r(b),E=i(x),T=t(y,v),S=0,O=_||s,P=u?O(w,E):c||m?O(w,0):void 0,I,C;E>S;S++)if((g||S in x)&&(I=x[S],C=T(I,S,b),l))if(u)P[S]=C;else if(C)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:o(P,I)}else switch(l){case 4:return!1;case 7:o(P,I)}return p?-1:d||f?f:P}};return Hw={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Hw}var bB;function pce(){if(bB)return tB;bB=1;var t=ge(),e=lt(),r=tn(),n=Fe(),i=wu(),s=Tt(),o=gu(),a=Me(),l=cr(),u=Mt(),c=xi(),d=ei(),f=HC(),p=kn(),m=Ad(),g=Wd(),w=zd(),y=Gp(),v=JC(),_=Hp(),b=zp(),x=jn(),E=XC(),T=Fp(),S=Hd(),O=ZC(),P=_u(),I=Kp(),C=Bd(),R=Bp(),q=At(),B=Yp(),J=mt(),Q=B9(),L=Ea(),V=Oa(),U=uo().forEach,z=I("hidden"),Z="Symbol",he="prototype",ve=V.set,ke=V.getterFor(Z),be=Object[he],xe=e.Symbol,$e=xe&&xe[he],vt=e.RangeError,Ge=e.TypeError,Ct=e.QObject,rr=b.f,De=x.f,rn=v.f,vn=T.f,Mr=n([].push),Ye=P("symbols"),Ft=P("op-symbols"),ti=P("wks"),Lt=!Ct||!Ct[he]||!Ct[he].findChild,$=function(ee,W,te){var ae=rr(be,W);ae&&delete be[W],De(ee,W,te),ae&&ee!==be&&De(be,W,ae)},D=s&&a(function(){return g(De({},"a",{get:function(){return De(this,"a",{value:7}).a}})).a!==7})?$:De,F=function(ee,W){var te=Ye[ee]=g($e);return ve(te,{type:Z,tag:ee,description:W}),s||(te.description=W),te},se=function(W,te,ae){W===be&&se(Ft,te,ae),c(W);var fe=f(te);return c(ae),l(Ye,fe)?(ae.enumerable?(l(W,z)&&W[z][fe]&&(W[z][fe]=!1),ae=g(ae,{enumerable:m(0,!1)})):(l(W,z)||De(W,z,m(1,g(null))),W[z][fe]=!0),D(W,fe,ae)):De(W,fe,ae)},re=function(W,te){c(W);var ae=d(te),fe=w(ae).concat(me(ae));return U(fe,function(Ie){(!s||r(j,ae,Ie))&&se(W,Ie,ae[Ie])}),W},K=function(W,te){return te===void 0?g(W):re(g(W),te)},j=function(W){var te=f(W),ae=r(vn,this,te);return this===be&&l(Ye,te)&&!l(Ft,te)?!1:ae||!l(this,te)||!l(Ye,te)||l(this,z)&&this[z][te]?ae:!0},H=function(W,te){var ae=d(W),fe=f(te);if(!(ae===be&&l(Ye,fe)&&!l(Ft,fe))){var Ie=rr(ae,fe);return Ie&&l(Ye,fe)&&!(l(ae,z)&&ae[z][fe])&&(Ie.enumerable=!0),Ie}},oe=function(W){var te=rn(d(W)),ae=[];return U(te,function(fe){!l(Ye,fe)&&!l(C,fe)&&Mr(ae,fe)}),ae},me=function(ee){var W=ee===be,te=rn(W?Ft:d(ee)),ae=[];return U(te,function(fe){l(Ye,fe)&&(!W||l(be,fe))&&Mr(ae,Ye[fe])}),ae};return o||(xe=function(){if(u($e,this))throw new Ge("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),te=R(W),ae=function(fe){var Ie=this===void 0?e:this;Ie===be&&r(ae,Ft,fe),l(Ie,z)&&l(Ie[z],te)&&(Ie[z][te]=!1);var hr=m(1,fe);try{D(Ie,te,hr)}catch(fr){if(!(fr instanceof vt))throw fr;$(Ie,te,hr)}};return s&&Lt&&D(be,te,{configurable:!0,set:ae}),F(te,W)},$e=xe[he],S($e,"toString",function(){return ke(this).tag}),S(xe,"withoutSetter",function(ee){return F(R(ee),ee)}),T.f=j,x.f=se,E.f=re,b.f=H,y.f=v.f=oe,_.f=me,B.f=function(ee){return F(q(ee),ee)},s&&(O($e,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",j,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:xe}),U(w(ti),function(ee){J(ee)}),t({target:Z,stat:!0,forced:!o},{useSetter:function(){Lt=!0},useSimple:function(){Lt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:K,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:H}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:oe}),Q(),L(xe,Z),C[z]=!0,tB}var wB={},Vw,_B;function U9(){if(_B)return Vw;_B=1;var t=gu();return Vw=t&&!!Symbol.for&&!!Symbol.keyFor,Vw}var xB;function mce(){if(xB)return wB;xB=1;var t=ge(),e=pn(),r=cr(),n=kn(),i=_u(),s=U9(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var c=e("Symbol")(u);return o[u]=c,a[c]=u,c}}),wB}var SB={},EB;function vce(){if(EB)return SB;EB=1;var t=ge(),e=cr(),r=Ld(),n=bu(),i=_u(),s=U9(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),SB}var OB={},Kw,PB;function yce(){if(PB)return Kw;PB=1;var t=Fe(),e=Sa(),r=er(),n=_i(),i=kn(),s=t([].push);return Kw=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var c=o[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var d=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var g=0;g<d;g++)if(l[g]===p)return m}}},Kw}var TB;function W9(){if(TB)return OB;TB=1;var t=ge(),e=pn(),r=Ap(),n=tn(),i=Fe(),s=Me(),o=er(),a=Ld(),l=Eu(),u=yce(),c=gu(),d=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),g=i("".charCodeAt),w=i("".replace),y=i(1.1.toString),v=/[\uD800-\uDFFF]/g,_=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,x=!c||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),T=function(O,P){var I=l(arguments),C=u(P);if(!(!o(C)&&(O===void 0||a(O))))return I[1]=function(R,q){if(o(C)&&(q=n(C,this,d(R),q)),!a(q))return q},r(f,null,I)},S=function(O,P,I){var C=m(I,P-1),R=m(I,P+1);return p(_,O)&&!p(b,R)||p(b,O)&&!p(_,C)?"\\u"+y(g(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:x||E},{stringify:function(P,I,C){var R=l(arguments),q=r(x?T:f,null,R);return E&&typeof q=="string"?w(q,v,S):q}}),OB}var CB={},IB;function gce(){if(IB)return CB;IB=1;var t=ge(),e=gu(),r=Me(),n=Hp(),i=mn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),CB}var RB;function H9(){return RB||(RB=1,pce(),mce(),vce(),W9(),gce()),eB}var NB={},$B;function V9(){if($B)return NB;$B=1;var t=mt();return t("asyncDispose"),NB}var jB={},kB;function bce(){if(kB)return jB;kB=1;var t=mt();return t("asyncIterator"),jB}var DB={},qB;function K9(){if(qB)return DB;qB=1;var t=mt();return t("dispose"),DB}var MB={},AB;function wce(){if(AB)return MB;AB=1;var t=mt();return t("hasInstance"),MB}var FB={},LB;function _ce(){if(LB)return FB;LB=1;var t=mt();return t("isConcatSpreadable"),FB}var BB={},zB;function G9(){if(zB)return BB;zB=1;var t=mt();return t("iterator"),BB}var UB={},WB;function xce(){if(WB)return UB;WB=1;var t=mt();return t("match"),UB}var HB={},VB;function Sce(){if(VB)return HB;VB=1;var t=mt();return t("matchAll"),HB}var KB={},GB;function Ece(){if(GB)return KB;GB=1;var t=mt();return t("replace"),KB}var YB={},QB;function Oce(){if(QB)return YB;QB=1;var t=mt();return t("search"),YB}var XB={},JB;function Pce(){if(JB)return XB;JB=1;var t=mt();return t("species"),XB}var ZB={},e4;function Tce(){if(e4)return ZB;e4=1;var t=mt();return t("split"),ZB}var t4={},r4;function Y9(){if(r4)return t4;r4=1;var t=mt(),e=B9();return t("toPrimitive"),e(),t4}var n4={},i4;function Cce(){if(i4)return n4;i4=1;var t=pn(),e=mt(),r=Ea();return e("toStringTag"),r(t("Symbol"),"Symbol"),n4}var s4={},o4;function Ice(){if(o4)return s4;o4=1;var t=mt();return t("unscopables"),s4}var a4={},l4;function Rce(){if(l4)return a4;l4=1;var t=lt(),e=Ea();return e(t.JSON,"JSON",!0),a4}var Gw,u4;function Nce(){if(u4)return Gw;u4=1,L9(),H9(),V9(),bce(),K9(),wce(),_ce(),G9(),xce(),Sce(),Ece(),Oce(),Pce(),Tce(),Y9(),Cce(),Ice(),Rce();var t=Ke();return Gw=t.Symbol,Gw}var c4={},Yw,d4;function eI(){return d4||(d4=1,Yw=function(){}),Yw}var Qw,h4;function Pu(){return h4||(h4=1,Qw={}),Qw}var Xw,f4;function $ce(){if(f4)return Xw;f4=1;var t=Tt(),e=cr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return Xw={EXISTS:i,PROPER:s,CONFIGURABLE:o},Xw}var Jw,p4;function Q9(){if(p4)return Jw;p4=1;var t=Me();return Jw=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Jw}var Zw,m4;function Qp(){if(m4)return Zw;m4=1;var t=cr(),e=er(),r=mn(),n=Kp(),i=Q9(),s=n("IE_PROTO"),o=Object,a=o.prototype;return Zw=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof o?a:null},Zw}var e_,v4;function X9(){if(v4)return e_;v4=1;var t=Me(),e=er(),r=tr(),n=Wd(),i=Qp(),s=Hd(),o=At(),a=wu(),l=o("iterator"),u=!1,c,d,f;[].keys&&(f=[].keys(),"next"in f?(d=i(i(f)),d!==Object.prototype&&(c=d)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:a&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),e_={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},e_}var t_,y4;function jce(){if(y4)return t_;y4=1;var t=X9().IteratorPrototype,e=Wd(),r=Ad(),n=Ea(),i=Pu(),s=function(){return this};return t_=function(o,a,l,u){var c=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,c,!1,!0),i[c]=s,o},t_}var r_,g4;function kce(){if(g4)return r_;g4=1;var t=Fe(),e=ss();return r_=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},r_}var n_,b4;function Dce(){if(b4)return n_;b4=1;var t=tr();return n_=function(e){return t(e)||e===null},n_}var i_,w4;function qce(){if(w4)return i_;w4=1;var t=Dce(),e=String,r=TypeError;return i_=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},i_}var s_,_4;function Mce(){if(_4)return s_;_4=1;var t=kce(),e=tr(),r=is(),n=qce();return s_=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),s_}var o_,x4;function tI(){if(x4)return o_;x4=1;var t=ge(),e=tn(),r=wu(),n=$ce(),i=er(),s=jce(),o=Qp(),a=Mce(),l=Ea(),u=xu(),c=Hd(),d=At(),f=Pu(),p=X9(),m=n.PROPER,g=n.CONFIGURABLE,w=p.IteratorPrototype,y=p.BUGGY_SAFARI_ITERATORS,v=d("iterator"),_="keys",b="values",x="entries",E=function(){return this};return o_=function(T,S,O,P,I,C,R){s(O,S,P);var q=function(ve){if(ve===I&&V)return V;if(!y&&ve&&ve in Q)return Q[ve];switch(ve){case _:return function(){return new O(this,ve)};case b:return function(){return new O(this,ve)};case x:return function(){return new O(this,ve)}}return function(){return new O(this)}},B=S+" Iterator",J=!1,Q=T.prototype,L=Q[v]||Q["@@iterator"]||I&&Q[I],V=!y&&L||q(I),U=S==="Array"&&Q.entries||L,z,Z,he;if(U&&(z=o(U.call(new T)),z!==Object.prototype&&z.next&&(!r&&o(z)!==w&&(a?a(z,w):i(z[v])||c(z,v,E)),l(z,B,!0,!0),r&&(f[B]=E))),m&&I===b&&L&&L.name!==b&&(!r&&g?u(Q,"name",b):(J=!0,V=function(){return e(L,this)})),I)if(Z={values:q(b),keys:C?V:q(_),entries:q(x)},R)for(he in Z)(y||J||!(he in Q))&&c(Q,he,Z[he]);else t({target:S,proto:!0,forced:y||J},Z);return(!r||R)&&Q[v]!==V&&c(Q,v,V,{name:I}),f[S]=V,Z},o_}var a_,S4;function rI(){return S4||(S4=1,a_=function(t,e){return{value:t,done:e}}),a_}var l_,E4;function Tu(){if(E4)return l_;E4=1;var t=ei(),e=eI(),r=Pu(),n=Oa(),i=jn().f,s=tI(),o=rI(),a=wu(),l=Tt(),u="Array Iterator",c=n.set,d=n.getterFor(u);l_=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=d(this),m=p.target,g=p.index++;if(!m||g>=m.length)return p.target=null,o(void 0,!0);switch(p.kind){case"keys":return o(g,!1);case"values":return o(m[g],!1)}return o([g,m[g]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return l_}var u_,O4;function Ace(){return O4||(O4=1,u_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),u_}var P4;function Cu(){if(P4)return c4;P4=1,Tu();var t=Ace(),e=lt(),r=Ea(),n=Pu();for(var i in t)r(e[i],i),n[i]=n.Array;return c4}var c_,T4;function J9(){if(T4)return c_;T4=1;var t=Nce();return Cu(),c_=t,c_}var d_,C4;function Fce(){return C4||(C4=1,d_=J9()),d_}var Lce=Fce(),Bce=Se(Lce),I4={},R4;function zce(){if(R4)return I4;R4=1;var t=ge(),e=Sa(),r=F9(),n=tr(),i=Wp(),s=os(),o=ei(),a=Vp(),l=At(),u=Ud(),c=Eu(),d=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!d},{slice:function(w,y){var v=o(this),_=s(v),b=i(w,_),x=i(y===void 0?_:y,_),E,T,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,b,x);for(T=new(E===void 0?p:E)(m(x-b,0)),S=0;b<x;b++,S++)b in v&&a(T,S,v[b]);return T.length=S,T}}),I4}var h_,N4;function Uce(){if(N4)return h_;N4=1,zce();var t=dr();return h_=t("Array","slice"),h_}var f_,$4;function Wce(){if($4)return f_;$4=1;var t=Mt(),e=Uce(),r=Array.prototype;return f_=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},f_}var p_,j4;function Hce(){if(j4)return p_;j4=1;var t=Wce();return p_=t,p_}var m_,k4;function Vce(){return k4||(k4=1,m_=Hce()),m_}var Kce=Vce(),di=Se(Kce),v_,D4;function Gce(){if(D4)return v_;D4=1;var t=pn(),e=Fe(),r=Gp(),n=Hp(),i=xi(),s=e([].concat);return v_=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},v_}var q4={},M4;function Yce(){if(M4)return q4;M4=1;var t=ge(),e=Sa();return t({target:"Array",stat:!0},{isArray:e}),q4}var y_,A4;function Qce(){if(A4)return y_;A4=1,Yce();var t=Ke();return y_=t.Array.isArray,y_}var g_,F4;function Xce(){if(F4)return g_;F4=1;var t=Qce();return g_=t,g_}var b_,L4;function Jce(){return L4||(L4=1,b_=Xce()),b_}var Zce=Jce(),St=Se(Zce),B4={},z4;function ede(){if(z4)return B4;z4=1;var t=ge(),e=uo().map,r=Ud(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),B4}var w_,U4;function tde(){if(U4)return w_;U4=1,ede();var t=dr();return w_=t("Array","map"),w_}var __,W4;function rde(){if(W4)return __;W4=1;var t=Mt(),e=tde(),r=Array.prototype;return __=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},__}var x_,H4;function nde(){if(H4)return x_;H4=1;var t=rde();return x_=t,x_}var S_,V4;function ide(){return V4||(V4=1,S_=nde()),S_}var sde=ide(),Hl=Se(sde),K4={},G4;function ode(){if(G4)return K4;G4=1;var t=ge(),e=mn(),r=zd(),n=Me(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),K4}var E_,Y4;function ade(){if(Y4)return E_;Y4=1,ode();var t=Ke();return E_=t.Object.keys,E_}var O_,Q4;function lde(){if(Q4)return O_;Q4=1;var t=ade();return O_=t,O_}var P_,X4;function ude(){return X4||(X4=1,P_=lde()),P_}var cde=ude(),wt=Se(cde),J4={},Z4;function dde(){if(Z4)return J4;Z4=1;var t=ge(),e=Fe(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),J4}var T_,ez;function hde(){if(ez)return T_;ez=1,dde();var t=Ke();return T_=t.Date.now,T_}var C_,tz;function fde(){if(tz)return C_;tz=1;var t=hde();return C_=t,C_}var I_,rz;function pde(){return rz||(rz=1,I_=fde()),I_}var mde=pde(),Bf=Se(mde),nz={},R_,iz;function Iu(){if(iz)return R_;iz=1;var t=Me();return R_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},R_}var N_,sz;function vde(){if(sz)return N_;sz=1;var t=uo().forEach,e=Iu(),r=e("forEach");return N_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},N_}var oz;function yde(){if(oz)return nz;oz=1;var t=ge(),e=vde();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),nz}var $_,az;function gde(){if(az)return $_;az=1,yde();var t=dr();return $_=t("Array","forEach"),$_}var j_,lz;function bde(){if(lz)return j_;lz=1;var t=gde();return j_=t,j_}var k_,uz;function wde(){if(uz)return k_;uz=1;var t=Ou(),e=cr(),r=Mt(),n=bde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return k_=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},k_}var D_,cz;function _de(){return cz||(cz=1,D_=wde()),D_}var xde=_de(),Qe=Se(xde),dz={},hz;function Sde(){if(hz)return dz;hz=1;var t=ge(),e=Fe(),r=Sa(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),dz}var q_,fz;function Ede(){if(fz)return q_;fz=1,Sde();var t=dr();return q_=t("Array","reverse"),q_}var M_,pz;function Ode(){if(pz)return M_;pz=1;var t=Mt(),e=Ede(),r=Array.prototype;return M_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},M_}var A_,mz;function Pde(){if(mz)return A_;mz=1;var t=Ode();return A_=t,A_}var F_,vz;function Tde(){return vz||(vz=1,F_=Pde()),F_}var Cde=Tde(),zo=Se(Cde),yz={},L_,gz;function Ide(){if(gz)return L_;gz=1;var t=Tt(),e=Sa(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return L_=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},L_}var B_,bz;function Z9(){if(bz)return B_;bz=1;var t=bu(),e=TypeError;return B_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},B_}var wz;function Rde(){if(wz)return yz;wz=1;var t=ge(),e=mn(),r=Wp(),n=Su(),i=os(),s=Ide(),o=A9(),a=QC(),l=Vp(),u=Z9(),c=Ud(),d=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!d},{splice:function(g,w){var y=e(this),v=i(y),_=r(g,v),b=arguments.length,x,E,T,S,O,P;for(b===0?x=E=0:b===1?(x=0,E=v-_):(x=b-2,E=p(f(n(w),0),v-_)),o(v+x-E),T=a(y,E),S=0;S<E;S++)O=_+S,O in y&&l(T,S,y[O]);if(T.length=E,x<E){for(S=_;S<v-E;S++)O=S+E,P=S+x,O in y?y[P]=y[O]:u(y,P);for(S=v;S>v-E+x;S--)u(y,S-1)}else if(x>E)for(S=v-E;S>_;S--)O=S+E-1,P=S+x-1,O in y?y[P]=y[O]:u(y,P);for(S=0;S<x;S++)y[S+_]=arguments[S+2];return s(y,v-E+x),T}}),yz}var z_,_z;function Nde(){if(_z)return z_;_z=1,Rde();var t=dr();return z_=t("Array","splice"),z_}var U_,xz;function $de(){if(xz)return U_;xz=1;var t=Mt(),e=Nde(),r=Array.prototype;return U_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},U_}var W_,Sz;function jde(){if(Sz)return W_;Sz=1;var t=$de();return W_=t,W_}var H_,Ez;function kde(){return Ez||(Ez=1,H_=jde()),H_}var Dde=kde(),Fi=Se(Dde),Oz={},Pz;function qde(){if(Pz)return Oz;Pz=1;var t=ge(),e=VC().includes,r=Me(),n=eI(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),n("includes"),Oz}var V_,Tz;function Mde(){if(Tz)return V_;Tz=1,qde();var t=dr();return V_=t("Array","includes"),V_}var Cz={},K_,Iz;function Ade(){if(Iz)return K_;Iz=1;var t=tr(),e=_i(),r=At(),n=r("match");return K_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},K_}var G_,Rz;function Fde(){if(Rz)return G_;Rz=1;var t=Ade(),e=TypeError;return G_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},G_}var Y_,Nz;function Lde(){if(Nz)return Y_;Nz=1;var t=At(),e=t("match");return Y_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},Y_}var $z;function Bde(){if($z)return Cz;$z=1;var t=ge(),e=Fe(),r=Fde(),n=is(),i=kn(),s=Lde(),o=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),Cz}var Q_,jz;function zde(){if(jz)return Q_;jz=1,Bde();var t=dr();return Q_=t("String","includes"),Q_}var X_,kz;function Ude(){if(kz)return X_;kz=1;var t=Mt(),e=Mde(),r=zde(),n=Array.prototype,i=String.prototype;return X_=function(s){var o=s.includes;return s===n||t(n,s)&&o===n.includes?e:typeof s=="string"||s===i||t(i,s)&&o===i.includes?r:o},X_}var J_,Dz;function Wde(){if(Dz)return J_;Dz=1;var t=Ude();return J_=t,J_}var Z_,qz;function Hde(){return qz||(qz=1,Z_=Wde()),Z_}var Vde=Hde(),Ws=Se(Vde),Mz={},Az;function Kde(){if(Az)return Mz;Az=1;var t=ge(),e=Me(),r=mn(),n=Qp(),i=Q9(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return n(r(a))}}),Mz}var ex,Fz;function Gde(){if(Fz)return ex;Fz=1,Kde();var t=Ke();return ex=t.Object.getPrototypeOf,ex}var tx,Lz;function Yde(){if(Lz)return tx;Lz=1;var t=Gde();return tx=t,tx}var rx,Bz;function Qde(){return Bz||(Bz=1,rx=Yde()),rx}var Xde=Qde(),zz=Se(Xde),nx,Uz;function Jde(){if(Uz)return nx;Uz=1,L9();var t=dr();return nx=t("Array","concat"),nx}var ix,Wz;function Zde(){if(Wz)return ix;Wz=1;var t=Mt(),e=Jde(),r=Array.prototype;return ix=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},ix}var sx,Hz;function ehe(){if(Hz)return sx;Hz=1;var t=Zde();return sx=t,sx}var ox,Vz;function the(){return Vz||(Vz=1,ox=ehe()),ox}var rhe=the(),nhe=Se(rhe),Kz={},Gz;function ihe(){if(Gz)return Kz;Gz=1;var t=ge(),e=uo().filter,r=Ud(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Kz}var ax,Yz;function she(){if(Yz)return ax;Yz=1,ihe();var t=dr();return ax=t("Array","filter"),ax}var lx,Qz;function ohe(){if(Qz)return lx;Qz=1;var t=Mt(),e=she(),r=Array.prototype;return lx=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},lx}var ux,Xz;function ahe(){if(Xz)return ux;Xz=1;var t=ohe();return ux=t,ux}var cx,Jz;function lhe(){return Jz||(Jz=1,cx=ahe()),cx}var uhe=lhe(),Ur=Se(uhe),Zz={},dx,e3;function che(){if(e3)return dx;e3=1;var t=Tt(),e=Me(),r=Fe(),n=Qp(),i=zd(),s=ei(),o=Fp().f,a=r(o),l=r([].push),u=t&&e(function(){var d=Object.create(null);return d[2]=2,!a(d,2)}),c=function(d){return function(f){for(var p=s(f),m=i(p),g=u&&n(p)===null,w=m.length,y=0,v=[],_;w>y;)_=m[y++],(!t||(g?_ in p:a(p,_)))&&l(v,d?[_,p[_]]:p[_]);return v}};return dx={entries:c(!0),values:c(!1)},dx}var t3;function dhe(){if(t3)return Zz;t3=1;var t=ge(),e=che().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),Zz}var hx,r3;function hhe(){if(r3)return hx;r3=1,dhe();var t=Ke();return hx=t.Object.values,hx}var fx,n3;function fhe(){if(n3)return fx;n3=1;var t=hhe();return fx=t,fx}var px,i3;function phe(){return i3||(i3=1,px=fhe()),px}var mhe=phe(),vhe=Se(mhe),s3={},mx,o3;function nI(){return o3||(o3=1,mx=`	
\v\f\r \u2028\u2029\uFEFF`),mx}var vx,a3;function eG(){if(a3)return vx;a3=1;var t=Fe(),e=is(),r=kn(),n=nI(),i=t("".replace),s=RegExp("^["+n+"]+"),o=RegExp("(^|[^"+n+"])["+n+"]+$"),a=function(l){return function(u){var c=r(e(u));return l&1&&(c=i(c,s,"")),l&2&&(c=i(c,o,"$1")),c}};return vx={start:a(1),end:a(2),trim:a(3)},vx}var yx,l3;function yhe(){if(l3)return yx;l3=1;var t=lt(),e=Me(),r=Fe(),n=kn(),i=eG().trim,s=nI(),o=t.parseInt,a=t.Symbol,l=a&&a.iterator,u=/^[+-]?0x/i,c=r(u.exec),d=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return yx=d?function(p,m){var g=i(n(p));return o(g,m>>>0||(c(u,g)?16:10))}:o,yx}var u3;function ghe(){if(u3)return s3;u3=1;var t=ge(),e=yhe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),s3}var gx,c3;function bhe(){if(c3)return gx;c3=1,ghe();var t=Ke();return gx=t.parseInt,gx}var bx,d3;function whe(){if(d3)return bx;d3=1;var t=bhe();return bx=t,bx}var wx,h3;function _he(){return h3||(h3=1,wx=whe()),wx}var xhe=_he(),Wn=Se(xhe),f3={},p3;function She(){if(p3)return f3;p3=1;var t=ge(),e=zC(),r=VC().indexOf,n=Iu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!n("indexOf");return t({target:"Array",proto:!0,forced:o},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),f3}var _x,m3;function Ehe(){if(m3)return _x;m3=1,She();var t=dr();return _x=t("Array","indexOf"),_x}var xx,v3;function Ohe(){if(v3)return xx;v3=1;var t=Mt(),e=Ehe(),r=Array.prototype;return xx=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},xx}var Sx,y3;function Phe(){if(y3)return Sx;y3=1;var t=Ohe();return Sx=t,Sx}var Ex,g3;function The(){return g3||(g3=1,Ex=Phe()),Ex}var Che=The(),We=Se(Che),b3={},w3;function Ihe(){if(w3)return b3;w3=1;var t=ge(),e=Tt(),r=Wd();return t({target:"Object",stat:!0,sham:!e},{create:r}),b3}var Ox,_3;function Rhe(){if(_3)return Ox;_3=1,Ihe();var t=Ke(),e=t.Object;return Ox=function(n,i){return e.create(n,i)},Ox}var Px,x3;function Nhe(){if(x3)return Px;x3=1;var t=Rhe();return Px=t,Px}var Tx,S3;function $he(){return S3||(S3=1,Tx=Nhe()),Tx}var jhe=$he(),Uo=Se(jhe),E3={},Cx,O3;function khe(){if(O3)return Cx;O3=1;var t=Su(),e=kn(),r=is(),n=RangeError;return Cx=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},Cx}var Ix,P3;function Dhe(){if(P3)return Ix;P3=1;var t=Fe(),e=$9(),r=kn(),n=khe(),i=is(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(c,d,f){var p=r(i(c)),m=e(d),g=p.length,w=f===void 0?" ":r(f),y,v;return m<=g||w===""?p:(y=m-g,v=s(w,a(y/w.length)),v.length>y&&(v=o(v,0,y)),u?p+v:v+p)}};return Ix={start:l(!1),end:l(!0)},Ix}var Rx,T3;function qhe(){if(T3)return Rx;T3=1;var t=Fe(),e=Me(),r=Dhe().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),c=t(o.getUTCFullYear),d=t(o.getUTCHours),f=t(o.getUTCMilliseconds),p=t(o.getUTCMinutes),m=t(o.getUTCMonth),g=t(o.getUTCSeconds);return Rx=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var y=this,v=c(y),_=f(y),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(y)+1,2,0)+"-"+r(u(y),2,0)+"T"+r(d(y),2,0)+":"+r(p(y),2,0)+":"+r(g(y),2,0)+"."+r(_,3,0)+"Z"}:a,Rx}var C3;function Mhe(){if(C3)return E3;C3=1;var t=ge(),e=tn(),r=mn(),n=C9(),i=qhe(),s=_i(),o=Me(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var c=r(this),d=n(c,"number");return typeof d=="number"&&!isFinite(d)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),E3}var Nx,I3;function Ahe(){if(I3)return Nx;I3=1,Mhe(),W9();var t=Ke(),e=Ap();return t.JSON||(t.JSON={stringify:JSON.stringify}),Nx=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Nx}var $x,R3;function Fhe(){if(R3)return $x;R3=1;var t=Ahe();return $x=t,$x}var jx,N3;function Lhe(){return N3||(N3=1,jx=Fhe()),jx}var Bhe=Lhe(),Vd=Se(Bhe),$3={},j3={},kx,k3;function tG(){if(k3)return kx;k3=1;var t=lt(),e=yu(),r=_i(),n=function(i){return e.slice(0,i.length)===i};return kx=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),kx}var Dx,D3;function zhe(){if(D3)return Dx;D3=1;var t=TypeError;return Dx=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Dx}var qx,q3;function rG(){if(q3)return qx;q3=1;var t=lt(),e=Ap(),r=er(),n=tG(),i=yu(),s=Eu(),o=zhe(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return qx=function(u,c){var d=c?2:1;return l?function(f,p){var m=o(arguments.length,1)>d,g=r(f)?f:a(f),w=m?s(arguments,d):[],y=m?function(){e(g,this,w)}:g;return c?u(y,p):u(y)}:u},qx}var M3;function Uhe(){if(M3)return j3;M3=1;var t=ge(),e=lt(),r=rG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),j3}var A3={},F3;function Whe(){if(F3)return A3;F3=1;var t=ge(),e=lt(),r=rG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),A3}var L3;function nG(){return L3||(L3=1,Uhe(),Whe()),$3}var Mx,B3;function Hhe(){if(B3)return Mx;B3=1,nG();var t=Ke();return Mx=t.setTimeout,Mx}var Ax,z3;function Vhe(){return z3||(z3=1,Ax=Hhe()),Ax}var Khe=Vhe(),Li=Se(Khe),U3={},Fx,W3;function Ghe(){if(W3)return Fx;W3=1;var t=mn(),e=Wp(),r=os();return Fx=function(i){for(var s=t(this),o=r(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),u=a>2?arguments[2]:void 0,c=u===void 0?o:e(u,o);c>l;)s[l++]=i;return s},Fx}var H3;function Yhe(){if(H3)return U3;H3=1;var t=ge(),e=Ghe(),r=eI();return t({target:"Array",proto:!0},{fill:e}),r("fill"),U3}var Lx,V3;function Qhe(){if(V3)return Lx;V3=1,Yhe();var t=dr();return Lx=t("Array","fill"),Lx}var Bx,K3;function Xhe(){if(K3)return Bx;K3=1;var t=Mt(),e=Qhe(),r=Array.prototype;return Bx=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},Bx}var zx,G3;function Jhe(){if(G3)return zx;G3=1;var t=Xhe();return zx=t,zx}var Ux,Y3;function Zhe(){return Y3||(Y3=1,Ux=Jhe()),Ux}var efe=Zhe(),Kd=Se(efe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Xn(){return Xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xn.apply(this,arguments)}function Dn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Rh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var HP;typeof Object.assign!="function"?HP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:HP=Object.assign;var aa=HP,Q3=["","webkit","Moz","MS","ms","o"],tfe=typeof document>"u"?{style:{}}:document.createElement("div"),rfe="function",nl=Math.round,la=Math.abs,iI=Date.now;function Xp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Q3.length;){if(r=Q3[s],n=r?r+i:e,n in t)return n;s++}}var Bi;typeof window>"u"?Bi={}:Bi=window;var iG=Xp(tfe.style,"touchAction"),sG=iG!==void 0;function nfe(){if(!sG)return!1;var t={},e=Bi.CSS&&Bi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Bi.CSS.supports("touch-action",r):!0}),t}var oG="compute",aG="auto",VP="manipulation",Wo="none",Yc="pan-x",Qc="pan-y",Nh=nfe(),ife=/mobile|tablet|ip(ad|hone|od)|android/i,lG="ontouchstart"in Bi,sfe=Xp(Bi,"PointerEvent")!==void 0,ofe=lG&&ife.test(navigator.userAgent),Gd="touch",afe="pen",sI="mouse",lfe="kinect",ufe=25,$r=1,Pa=2,kt=4,Xr=8,zf=1,Yd=2,Qd=4,Xd=8,Vl=16,gi=Yd|Qd,Ho=Xd|Vl,uG=gi|Ho,cG=["x","y"],Uf=["clientX","clientY"];function zi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Jp(t,e){return typeof t===rfe?t.apply(e&&e[0]||void 0,e):t}function Po(t,e){return t.indexOf(e)>-1}function cfe(t){if(Po(t,Wo))return Wo;var e=Po(t,Yc),r=Po(t,Qc);return e&&r?Wo:e||r?e?Yc:Qc:Po(t,VP)?VP:aG}var dG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===oG&&(n=this.compute()),sG&&this.manager.element.style&&Nh[n]&&(this.manager.element.style[iG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return zi(this.manager.recognizers,function(i){Jp(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),cfe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Po(o,Wo)&&!Nh[Wo],l=Po(o,Qc)&&!Nh[Qc],u=Po(o,Yc)&&!Nh[Yc];if(a){var c=n.pointers.length===1,d=n.distance<2,f=n.deltaTime<250;if(c&&d&&f)return}if(!(u&&l)&&(a||l&&s&gi||u&&s&Ho))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function oI(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function hG(t){var e=t.length;if(e===1)return{x:nl(t[0].clientX),y:nl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:nl(r/e),y:nl(n/e)}}function X3(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:nl(t.pointers[r].clientX),clientY:nl(t.pointers[r].clientY)},r++;return{timeStamp:iI(),pointers:e,center:hG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Wf(t,e,r){r||(r=cG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function KP(t,e,r){r||(r=cG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function fG(t,e){return t===e?zf:la(t)>=la(e)?t<0?Yd:Qd:e<0?Xd:Vl}function dfe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===$r||s.eventType===kt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function pG(t,e,r){return{x:e/t||0,y:r/t||0}}function hfe(t,e){return Wf(e[0],e[1],Uf)/Wf(t[0],t[1],Uf)}function ffe(t,e){return KP(e[1],e[0],Uf)+KP(t[1],t[0],Uf)}function pfe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==Xr&&(n>ufe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=pG(n,l,u);s=c.x,o=c.y,i=la(c.x)>la(c.y)?c.x:c.y,a=fG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function mfe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=X3(e)),i>1&&!r.firstMultiple?r.firstMultiple=X3(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=hG(n);e.timeStamp=iI(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=KP(a,l),e.distance=Wf(a,l),dfe(r,e),e.offsetDirection=fG(e.deltaX,e.deltaY);var u=pG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=la(u.x)>la(u.y)?u.x:u.y,e.scale=o?hfe(o.pointers,n):1,e.rotation=o?ffe(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,pfe(r,e);var c=t.element,d=e.srcEvent,f;d.composedPath?f=d.composedPath()[0]:d.path?f=d.path[0]:f=d.target,oI(f,c)&&(c=f),e.target=c}function vfe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&$r&&n-i===0,o=e&(kt|Xr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,mfe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Xc(t){return t.trim().split(/\s+/g)}function pc(t,e,r){zi(Xc(e),function(n){t.addEventListener(n,r,!1)})}function mc(t,e,r){zi(Xc(e),function(n){t.removeEventListener(n,r,!1)})}function J3(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ru=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Jp(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&pc(this.element,this.evEl,this.domHandler),this.evTarget&&pc(this.target,this.evTarget,this.domHandler),this.evWin&&pc(J3(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&mc(this.element,this.evEl,this.domHandler),this.evTarget&&mc(this.target,this.evTarget,this.domHandler),this.evWin&&mc(J3(this.element),this.evWin,this.domHandler)},t}();function ua(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var yfe={pointerdown:$r,pointermove:Pa,pointerup:kt,pointercancel:Xr,pointerout:Xr},gfe={2:Gd,3:afe,4:sI,5:lfe},mG="pointerdown",vG="pointermove pointerup pointercancel";Bi.MSPointerEvent&&!Bi.PointerEvent&&(mG="MSPointerDown",vG="MSPointerMove MSPointerUp MSPointerCancel");var yG=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=mG,i.evWin=vG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=yfe[a],u=gfe[i.pointerType]||i.pointerType,c=u===Gd,d=ua(s,i.pointerId,"pointerId");l&$r&&(i.button===0||c)?d<0&&(s.push(i),d=s.length-1):l&(kt|Xr)&&(o=!0),!(d<0)&&(s[d]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(d,1))},e}(Ru);function Jc(t){return Array.prototype.slice.call(t,0)}function aI(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];ua(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var bfe={touchstart:$r,touchmove:Pa,touchend:kt,touchcancel:Xr},wfe="touchstart touchmove touchend touchcancel",lI=function(t){Dn(e,t);function e(){var n;return e.prototype.evTarget=wfe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=bfe[i.type],o=_fe.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Gd,srcEvent:i})},e}(Ru);function _fe(t,e){var r=Jc(t.touches),n=this.targetIds;if(e&($r|Pa)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=Jc(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return oI(u.target,l)}),e===$r)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&(kt|Xr)&&delete n[o[i].identifier],i++;if(a.length)return[aI(s.concat(a),"identifier",!0),a]}var xfe={mousedown:$r,mousemove:Pa,mouseup:kt},Sfe="mousedown",Efe="mousemove mouseup",uI=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=Sfe,i.evWin=Efe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=xfe[i.type];s&$r&&i.button===0&&(this.pressed=!0),s&Pa&&i.which!==1&&(s=kt),this.pressed&&(s&kt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:sI,srcEvent:i}))},e}(Ru),Ofe=2500,Z3=25;function e5(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,Ofe)}}function Pfe(t,e){t&$r?(this.primaryTouch=e.changedPointers[0].identifier,e5.call(this,e)):t&(kt|Xr)&&e5.call(this,e)}function Tfe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=Z3&&o<=Z3)return!0}return!1}var gG=function(){var t=function(e){Dn(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var c=u.pointerType===Gd,d=u.pointerType===sI;if(!(d&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)Pfe.call(Rh(Rh(o)),l,u);else if(d&&Tfe.call(Rh(Rh(o)),u))return;o.callback(a,l,u)}},o.touch=new lI(o.manager,o.handler),o.mouse=new uI(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Ru);return t}();function Cfe(t){var e,r=t.options.inputClass;return r?e=r:sfe?e=yG:ofe?e=lI:lG?e=gG:e=uI,new e(t,vfe)}function il(t,e,r){return Array.isArray(t)?(zi(t,r[e],r),!0):!1}var Jh=1,Tn=2,Kl=4,Hs=8,Ui=Hs,Zc=16,fi=32,Ife=1;function Rfe(){return Ife++}function $h(t,e){var r=e.manager;return r?r.get(t):t}function t5(t){return t&Zc?"cancel":t&Hs?"end":t&Kl?"move":t&Tn?"start":""}var Jd=function(){function t(r){r===void 0&&(r={}),this.options=Xn({enable:!0},r),this.id=Rfe(),this.manager=null,this.state=Jh,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return aa(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(il(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=$h(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return il(n,"dropRecognizeWith",this)?this:(n=$h(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(il(n,"requireFailure",this))return this;var i=this.requireFail;return n=$h(n,this),ua(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(il(n,"dropRequireFailure",this))return this;n=$h(n,this);var i=ua(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Hs&&o(i.options.event+t5(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Hs&&o(i.options.event+t5(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=fi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(fi|Jh)))return!1;n++}return!0},e.recognize=function(n){var i=aa({},n);if(!Jp(this.options.enable,[this,i])){this.reset(),this.state=fi;return}this.state&(Ui|Zc|fi)&&(this.state=Jh),this.state=this.process(i),this.state&(Tn|Kl|Hs|Zc)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),GP=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[VP]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&$r&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==kt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<o.interval:!0,d=!this.pCenter||Wf(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!d||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ui,s.tryEmit()},o.interval),Tn):Ui}return fi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=fi},this.options.interval),fi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Ui&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Jd),Gl=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Tn|Kl),l=this.attrTest(i);return a&&(o&Xr||!l)?s|Zc:a||l?o&kt?s|Hs:s&Tn?s|Kl:Tn:fi},e}(Jd);function bG(t){return t===Vl?"down":t===Xd?"up":t===Yd?"left":t===Qd?"right":""}var cI=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"pan",threshold:10,pointers:1,direction:uG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&gi&&s.push(Qc),i&Ho&&s.push(Yc),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&gi?(l=u===0?zf:u<0?Yd:Qd,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=c===0?zf:c<0?Xd:Vl,o=c!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return Gl.prototype.attrTest.call(this,i)&&(this.state&Tn||!(this.state&Tn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=bG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Gl),wG=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"swipe",threshold:10,velocity:.3,direction:gi|Ho,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return cI.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(gi|Ho)?o=i.overallVelocity:s&gi?o=i.overallVelocityX:s&Ho&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&la(o)>this.options.velocity&&i.eventType&kt},r.emit=function(i){var s=bG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Gl),_G=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Wo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Tn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Gl),xG=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Wo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Tn)},e}(Gl),SG=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[aG]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(kt|Xr)&&!u)this.reset();else if(i.eventType&$r)this.reset(),this._timer=setTimeout(function(){s.state=Ui,s.tryEmit()},o.time);else if(i.eventType&kt)return Ui;return fi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Ui&&(i&&i.eventType&kt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=iI(),this.manager.emit(this.options.event,this._input)))},e}(Jd),EG={domEvents:!1,touchAction:oG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},r5=[[xG,{enable:!1}],[_G,{enable:!1},["rotate"]],[wG,{direction:gi}],[cI,{direction:gi},["swipe"]],[GP],[GP,{event:"doubletap",taps:2},["tap"]],[SG]],Nfe=1,n5=2;function i5(t,e){var r=t.element;if(r.style){var n;zi(t.options.cssProps,function(i,s){n=Xp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function $fe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var s5=function(){function t(r,n){var i=this;this.options=aa({},EG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Cfe(this),this.touchAction=new dG(this,this.options.touchAction),i5(this,!0),zi(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return aa(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?n5:Nfe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Ui)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==n5&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Tn|Kl|Hs)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof Jd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(il(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(il(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=ua(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return zi(Xc(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return zi(Xc(n),function(o){i?s[o]&&s[o].splice(ua(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&$fe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&i5(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),jfe={touchstart:$r,touchmove:Pa,touchend:kt,touchcancel:Xr},kfe="touchstart",Dfe="touchstart touchmove touchend touchcancel",qfe=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evTarget=kfe,i.evWin=Dfe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=jfe[i.type];if(s===$r&&(this.started=!0),!!this.started){var o=Mfe.call(this,i,s);s&(kt|Xr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:Gd,srcEvent:i})}},e}(Ru);function Mfe(t,e){var r=Jc(t.touches),n=Jc(t.changedTouches);return e&(kt|Xr)&&(r=aI(r.concat(n),"identifier",!0)),[r,n]}function OG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var PG=OG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Afe=OG(function(t,e){return PG(t,e,!0)},"merge","Use `assign`.");function Ffe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&aa(i,r)}function o5(t,e){return function(){return t.apply(e,arguments)}}var TG=function(){var t=function(r,n){return n===void 0&&(n={}),new s5(r,Xn({recognizers:r5.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=uG,t.DIRECTION_DOWN=Vl,t.DIRECTION_LEFT=Yd,t.DIRECTION_RIGHT=Qd,t.DIRECTION_UP=Xd,t.DIRECTION_HORIZONTAL=gi,t.DIRECTION_VERTICAL=Ho,t.DIRECTION_NONE=zf,t.DIRECTION_DOWN=Vl,t.INPUT_START=$r,t.INPUT_MOVE=Pa,t.INPUT_END=kt,t.INPUT_CANCEL=Xr,t.STATE_POSSIBLE=Jh,t.STATE_BEGAN=Tn,t.STATE_CHANGED=Kl,t.STATE_ENDED=Hs,t.STATE_RECOGNIZED=Ui,t.STATE_CANCELLED=Zc,t.STATE_FAILED=fi,t.Manager=s5,t.Input=Ru,t.TouchAction=dG,t.TouchInput=lI,t.MouseInput=uI,t.PointerEventInput=yG,t.TouchMouseInput=gG,t.SingleTouchInput=qfe,t.Recognizer=Jd,t.AttrRecognizer=Gl,t.Tap=GP,t.Pan=cI,t.Swipe=wG,t.Pinch=_G,t.Rotate=xG,t.Press=SG,t.on=pc,t.off=mc,t.each=zi,t.merge=Afe,t.extend=PG,t.bindFn=o5,t.assign=aa,t.inherit=Ffe,t.bindFn=o5,t.prefixed=Xp,t.toArray=Jc,t.inArray=ua,t.uniqueArray=aI,t.splitStr=Xc,t.boolOrFn=Jp,t.hasParent=oI,t.addEventListeners=pc,t.removeEventListeners=mc,t.defaults=aa({},EG,{preset:r5}),t}();TG.defaults;Bce("DELETE");function Zp(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Lfe(e.length?e:[Bf()])}function Lfe(t){let[e,r,n]=Bfe(t),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Bfe(){const t=zfe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function zfe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Ufe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const dI=typeof window<"u"?window.Hammer||TG:function(){return Ufe()};function pi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=dI(this._dom.overlay);r.on("tap",X(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Qe(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Wfe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}M9(pi.prototype);pi.current=null;pi.prototype.destroy=function(){this.deactivate();for(const r of zo(t=Fi(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};pi.prototype.activate=function(){pi.current&&pi.current.deactivate(),pi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};pi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};pi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Wfe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Hfe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Vfe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Kfe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Gfe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function fs(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(fs(e),t.removeChild(e))}}function hl(t){return t instanceof String||typeof t=="string"}function a5(t){return typeof t=="object"&&t!==null}function ca(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function CG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")ca(t,e,n,r);else{const i=t[n],s=e[n];a5(i)&&a5(s)&&CG(i,s,r)}}function Nu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(St(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?et(e[s],r[s],!1,n):ca(e,r,s,n);else{if(St(r[s]))throw new TypeError("Arrays are not supported by deepExtend");ca(e,r,s,n)}}return e}function Hf(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(St(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Ws(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?et(e[i],r[i]):ca(e,r,i,n);else if(St(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else ca(e,r,i,n);return e}function et(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&zz(e[s])===Object.prototype)t[s]===void 0?t[s]=et({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&zz(t[s])===Object.prototype?et(t[s],e[s],r):ca(t,e,s,n);else if(St(e[s])){var i;t[s]=di(i=e[s]).call(i)}else ca(t,e,s,n);return t}function Vf(t,e){return[...t,e]}function Yfe(t){return di(t).call(t)}function Qfe(t){return t.getBoundingClientRect().left}function Xfe(t){return t.getBoundingClientRect().top}function Ne(t,e){if(St(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function hI(t){let e;switch(t.length){case 3:case 4:return e=Vfe.exec(t),e?{r:Wn(e[1]+e[1],16),g:Wn(e[2]+e[2],16),b:Wn(e[3]+e[3],16)}:null;case 6:case 7:return e=Hfe.exec(t),e?{r:Wn(e[1],16),g:Wn(e[2],16),b:Wn(e[3],16)}:null;default:return null}}function Sn(t,e){if(Ws(t).call(t,"rgba"))return t;if(Ws(t).call(t,"rgb")){const r=t.substr(We(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=hI(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function IG(t,e,r){var n;return"#"+di(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function YP(t,e){if(hl(t)){let n=t;if(NG(n)){var r;const i=Hl(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Wn(s)});n=IG(i[0],i[1],i[2])}if(RG(n)===!0){const i=Jfe(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=QP(o.h,o.s,o.v),l=QP(s.h,s.s,s.v);return{background:n,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:hl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:hl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Zu(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,a=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:a,s:l,v:i}}function Zh(t,e,r){let n,i,s;const o=Math.floor(t*6),a=t*6-o,l=r*(1-e),u=r*(1-a*e),c=r*(1-(1-a)*e);switch(o%6){case 0:n=r,i=c,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=c;break;case 3:n=l,i=u,s=r;break;case 4:n=c,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function QP(t,e,r){const n=Zh(t,e,r);return IG(n.r,n.g,n.b)}function Jfe(t){const e=hI(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Zu(e.r,e.g,e.b)}function RG(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function NG(t){return Kfe.test(t)}function Zfe(t){return Gfe.test(t)}function Vs(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Uo(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Vs(t[r]));return e}function wn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},o=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const a=function(p,m,g){s(p[g])||(p[g]={});const w=m[g],y=p[g];for(const v in w)Object.prototype.hasOwnProperty.call(w,v)&&(y[v]=w[v])},l=e[r],c=s(n)&&!o(n)?n[r]:void 0,d=c?c.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(c))t[r]=Uo(c);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:d!==void 0&&(f=c.enabled),a(t,e,r),t[r].enabled=f}const epe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function ps(t,e){let r;St(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const tpe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let rpe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return tpe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),hl(e)===!0){if(NG(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Zfe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(RG(e)===!0){const s=hI(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Vd(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=jt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Li(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=jt({},e)),this.color=e;const n=Zu(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(i*n.h),a=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Zu(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Zh(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Zu(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Kd(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=X(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=X(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=X(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=X(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new dI(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,o,a;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,c=1/this.r;let d;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),d=Zh(o*u,a*c,1),e.fillStyle="rgb("+d.r+","+d.g+","+d.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,l=i-s,u=Math.atan2(a,l),c=.98*Math.min(Math.sqrt(a*a+l*l),o),d=Math.cos(u)*c+s,f=Math.sin(u)*c+o;this.colorPickerSelector.style.top=d-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=c/this.r,g=Zu(this.color.r,this.color.g,this.color.b);g.h=p,g.s=m;const w=Zh(g.h,g.s,g.v);w.a=this.color.a,this.color=w,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function XP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(XP(...di(e).call(e,1))),n}}let npe=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},jt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new rpe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(St(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ur(e)!==void 0&&(this.options.filter=Ur(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Ur(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Ur(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||We(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Qe(n).call(n,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(XP("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&We(e).call(e,r)!==-1&&(s=We(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const o=this;i.onchange=function(){o._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeRange(e,r,n){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let u="",c=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),c=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),c=l.min,u="range increased"),r*1.2>o&&o!==1&&(l.max=Math.ceil(r*1.2),c=l.max,u="range increased"),l.value=r):l.value=i;const d=document.createElement("input");d.className="vis-configuration vis-config-rangeinput",d.value=l.value;const f=this;l.onchange=function(){d.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){d.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,d);u!==""&&this.popupHistory[m]!==c&&(this.popupHistory[m]=c,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Li(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Li(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Ur(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],u=Vf(r,a);if(typeof s=="function"&&(i=s(a,r),i===!1&&!St(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){o=!0;const c=this._getValue(u);if(St(l))this._handleArray(l,c,u);else if(typeof l=="string")this._makeTextInput(l,c,u);else if(typeof l=="boolean")this._makeCheckbox(l,c,u);else if(l instanceof Object){if(!this.hideOption(r,a,this.moduleOptions))if(l.enabled!==void 0){const d=Vf(u,"enabled"),f=this._getValue(d);if(f===!0){const p=this._makeLabel(a,u,!0);this._makeItem(u,p),o=this._handleObject(l,u)||o}else this._makeCheckbox(l,f,u)}else{const d=this._makeLabel(a,u,!0);this._makeItem(u,d),o=this._handleObject(l,u)||o}}else console.error("dont know how to handle",l,a,u)}}return o}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(XP("pre","const options = "+Vd(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},ipe=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Wn(e),this.y=Wn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?o=this.x-n:o=this.x,u?a=this.y-r:a=this.y}else a=this.y-r,a+r+this.padding>i&&(a=i-r-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Vu=!1,l5;const JP="background: #FFeeee; color: #dd0000";let spe=class yt{static validate(e,r,n){Vu=!1,l5=r;let i=r;return n!==void 0&&(i=r[n]),yt.parse(e,i,[]),Vu}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&yt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){yt.getSuggestion(e,n,i);return}let s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=yt.getType(r[e])==="object");let a=n[s];o&&a.__type__!==void 0&&(a=a.__type__),yt.checkFields(e,r,n,s,a,i)}static checkFields(e,r,n,i,s,o){const a=function(c){console.error("%c"+c+yt.printLocation(o,e),JP)},l=yt.getType(r[e]),u=s[l];u!==void 0?yt.getType(u)==="array"&&We(u).call(u,r[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+yt.print(u)+' not "'+r[e]+'". '),Vu=!0):l==="object"&&i!=="__any__"&&(o=Vf(o,e),yt.parse(r[e],n[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+yt.print(wt(s))+". Received ["+l+'] "'+r[e]+'"'),Vu=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":St(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=yt.findInOptions(e,r,n,!1),s=yt.findInOptions(e,l5,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+yt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+yt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+yt.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+yt.printLocation(i.path,e):l=". Did you mean one of these: "+yt.print(wt(r))+yt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,JP),Vu=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let u;for(const d in r){let f;if(r[d].__type__!==void 0&&i===!0){const p=yt.findInOptions(e,r[d],Vf(n,d));s>p.distance&&(o=p.closestMatch,a=p.path,s=p.distance,u=p.indexMatch)}else{var c;We(c=d.toLowerCase()).call(c,l)!==-1&&(u=d),f=yt.levenshteinDistance(e,d),s>f&&(o=d,a=Yfe(n),s=f)}}return{closestMatch:o,path:a,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Vd(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const ope=pi,ape=npe,fl=dI,lpe=ipe,$G=JP,upe=spe;function cpe(t){return Ns=t,ppe()}var jG={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},fI=Uo(jG);fI.color="color.color";fI.style="dashes";var Pr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},u5={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ns="",Yl=0,Re="",we="",Br=Pr.NULL;function dpe(){Yl=0,Re=Ns.charAt(0)}function Ht(){Yl++,Re=Ns.charAt(Yl)}function Aa(){return Ns.charAt(Yl+1)}function c5(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function Js(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function hpe(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function kG(t,e){for(var r,n,i=null,s=[t],o=t;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(r=0,n=o.nodes.length;r<n;r++)if(e.id===o.nodes[r].id){i=o.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=Js(i.attr,t.node))),r=s.length-1;r>=0;r--){var a,l=s[r];l.nodes||(l.nodes=[]),We(a=l.nodes).call(a,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=Js(i.attr,e.attr))}function fpe(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=Js({},t.edge);e.attr=Js(r,e.attr)}}function DG(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=Js({},t.edge)),s.attr=Js(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function tt(){for(Br=Pr.NULL,we="";Re===" "||Re==="	"||Re===`
`||Re==="\r";)Ht();do{var t=!1;if(Re==="#"){for(var e=Yl-1;Ns.charAt(e)===" "||Ns.charAt(e)==="	";)e--;if(Ns.charAt(e)===`
`||Ns.charAt(e)===""){for(;Re!=""&&Re!=`
`;)Ht();t=!0}}if(Re==="/"&&Aa()==="/"){for(;Re!=""&&Re!=`
`;)Ht();t=!0}if(Re==="/"&&Aa()==="*"){for(;Re!="";)if(Re==="*"&&Aa()==="/"){Ht(),Ht();break}else Ht();t=!0}for(;Re===" "||Re==="	"||Re===`
`||Re==="\r";)Ht()}while(t);if(Re===""){Br=Pr.DELIMITER;return}var r=Re+Aa();if(u5[r]){Br=Pr.DELIMITER,we=r,Ht(),Ht();return}if(u5[Re]){Br=Pr.DELIMITER,we=Re,Ht();return}if(c5(Re)||Re==="-"){for(we+=Re,Ht();c5(Re);)we+=Re,Ht();we==="false"?we=!1:we==="true"?we=!0:isNaN(Number(we))||(we=Number(we)),Br=Pr.IDENTIFIER;return}if(Re==='"'){for(Ht();Re!=""&&(Re!='"'||Re==='"'&&Aa()==='"');)Re==='"'?(we+=Re,Ht()):Re==="\\"&&Aa()==="n"?(we+=`
`,Ht()):we+=Re,Ht();if(Re!='"')throw Tr('End of string " expected');Ht(),Br=Pr.IDENTIFIER;return}for(Br=Pr.UNKNOWN;Re!="";)we+=Re,Ht();throw new SyntaxError('Syntax error in part "'+FG(we,30)+'"')}function ppe(){var t={};if(dpe(),tt(),we==="strict"&&(t.strict=!0,tt()),(we==="graph"||we==="digraph")&&(t.type=we,tt()),Br===Pr.IDENTIFIER&&(t.id=we,tt()),we!="{")throw Tr("Angle bracket { expected");if(tt(),qG(t),we!="}")throw Tr("Angle bracket } expected");if(tt(),we!=="")throw Tr("End of file expected");return tt(),delete t.node,delete t.edge,delete t.graph,t}function qG(t){for(;we!==""&&we!="}";)mpe(t),we===";"&&tt()}function mpe(t){var e=MG(t);if(e){AG(t,e);return}var r=vpe(t);if(!r){if(Br!=Pr.IDENTIFIER)throw Tr("Identifier expected");var n=we;if(tt(),we==="="){if(tt(),Br!=Pr.IDENTIFIER)throw Tr("Identifier expected");t[n]=we,tt()}else ype(t,n)}}function MG(t){var e=null;if(we==="subgraph"&&(e={},e.type="subgraph",tt(),Br===Pr.IDENTIFIER&&(e.id=we,tt())),we==="{"){if(tt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,qG(e),we!="}")throw Tr("Angle bracket } expected");tt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function vpe(t){return we==="node"?(tt(),t.node=vc(),"node"):we==="edge"?(tt(),t.edge=vc(),"edge"):we==="graph"?(tt(),t.graph=vc(),"graph"):null}function ype(t,e){var r={id:e},n=vc();n&&(r.attr=n),kG(t,r),AG(t,e)}function AG(t,e){for(;we==="->"||we==="--";){var r,n=we;tt();var i=MG(t);if(i)r=i;else{if(Br!=Pr.IDENTIFIER)throw Tr("Identifier or subgraph expected");r=we,kG(t,{id:r}),tt()}var s=vc(),o=DG(t,e,r,n,s);fpe(t,o),e=r}}function vc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;we==="[";){for(tt(),e={};we!==""&&we!="]";){if(Br!=Pr.IDENTIFIER)throw Tr("Attribute name expected");var o=we;if(tt(),we!="=")throw Tr("Equal sign = expected");if(tt(),Br!=Pr.IDENTIFIER)throw Tr("Attribute value expected");var a=we;o==="style"&&(a=r[a]);var l;o==="arrowhead"&&(l=n[a],o="arrows",a={to:{enabled:!0,type:l}}),o==="arrowtail"&&(l=n[a],o="arrows",a={from:{enabled:!0,type:l}}),i.push({attr:e,name:o,value:a}),s.push(o),tt(),we==","&&tt()}if(we!="]")throw Tr("Bracket ] expected");tt()}if(Ws(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Tr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var c=i[u.dir].value;if(!Ws(s).call(s,"arrows"))if(c==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(c==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Tr('Invalid dir type "'+c+'"');var d,f;if(c==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}},Fi(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}});else if(c==="back")u.arrows.to&&u.arrows.from?(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f="",d="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="",d=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(c==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(c==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,d="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}):u.arrows.from&&(f="arrow",d="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:d}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Tr('Invalid dir type "'+c+'"');Fi(i).call(i,u.dir,1)}var m;if(Ws(s).call(s,"penwidth")){var g=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),g.push(i[t]));i=g}for(m=i.length,t=0;t<m;t++)hpe(i[t].attr,i[t].name,i[t].value);return e}function Tr(t){return new SyntaxError(t+', got "'+FG(we,30)+'" (char '+Yl+")")}function FG(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function gpe(t,e,r){St(t)?Qe(t).call(t,function(n){St(e)?Qe(e).call(e,function(i){r(n,i)}):r(n,e)}):St(e)?Qe(e).call(e,function(n){r(t,n)}):r(t,e)}function Wx(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,o=0;o<n.length;o++){var a=n[o];a in s||(s[a]={}),s=s[a]}return s[i]=r,t}function d5(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];St(i)?Qe(i).call(i,function(s){Wx(r,s,t[n])}):typeof i=="string"?Wx(r,i,t[n]):Wx(r,n,t[n])}return r}function bpe(t){var e=cpe(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Qe(n=e.nodes).call(n,function(o){var a={id:o.id,label:String(o.label||o.id)};Js(a,d5(o.attr,jG)),a.image&&(a.shape="image"),r.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return Js(a,d5(o.attr,fI)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};Qe(i=e.edges).call(i,function(o){var a,l;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?l=o.to.nodes:l={id:o.to},o.from instanceof Object&&o.from.edges){var u;Qe(u=o.from.edges).call(u,function(d){var f=s(d);r.edges.push(f)})}if(gpe(a,l,function(d,f){var p=DG(r,d.id,f.id,o.type,o.attr),m=s(p);r.edges.push(m)}),o.to instanceof Object&&o.to.edges){var c;Qe(c=o.to.edges).call(c,function(d){var f=s(d);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function wpe(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Hl(i).call(i,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&n.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:Hl(r=t.nodes).call(r,a=>{const l={id:a.id,fixed:n.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(n.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:s}}const _pe={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},xpe={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Spe={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Epe={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Ope={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Ppe={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Tpe={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Cpe={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Ipe={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Rpe={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Npe={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var $pe=Object.freeze({__proto__:null,cn:Cpe,cs:Npe,de:xpe,en:_pe,es:Spe,fr:Rpe,it:Epe,nl:Ope,pt:Ppe,ru:Tpe,uk:Ipe});function jpe(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(t,a))return a;var r;console.warn(nhe(r="Unknown variant ".concat(o," of language ")).call(r,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(t,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class kpe{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),o=Math.floor(r/16),a=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,l,i],[a,i,u,s],[5*u,i,c,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,o){if(this.initialized())if(r>2){r*=.5;let a=0;for(;r>2&&a<this.NUM_ITERATIONS;)r*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,o)}else e.drawImage(this.image,n,i,s,o)}}class Dpe{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new kpe;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var h5={},f5={},Hx={exports:{}},Vx,p5;function qpe(){if(p5)return Vx;p5=1;var t=Me();return Vx=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Vx}var Kx,m5;function Mpe(){if(m5)return Kx;m5=1;var t=Me(),e=tr(),r=_i(),n=qpe(),i=Object.isExtensible,s=t(function(){});return Kx=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Kx}var Gx,v5;function LG(){if(v5)return Gx;v5=1;var t=Me();return Gx=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Gx}var y5;function em(){if(y5)return Hx.exports;y5=1;var t=ge(),e=Fe(),r=Bd(),n=tr(),i=cr(),s=jn().f,o=Gp(),a=JC(),l=Mpe(),u=Bp(),c=LG(),d=!1,f=u("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},g=function(b,x){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!x)return"E";m(b)}return b[f].objectID},w=function(b,x){if(!i(b,f)){if(!l(b))return!0;if(!x)return!1;m(b)}return b[f].weakData},y=function(b){return c&&d&&l(b)&&!i(b,f)&&m(b),b},v=function(){_.enable=function(){},d=!0;var b=o.f,x=e([].splice),E={};E[f]=1,b(E).length&&(o.f=function(T){for(var S=b(T),O=0,P=S.length;O<P;O++)if(S[O]===f){x(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},_=Hx.exports={enable:v,fastKey:g,getWeakData:w,onFreeze:y};return r[f]=!0,Hx.exports}var Yx,g5;function Ape(){if(g5)return Yx;g5=1;var t=At(),e=Pu(),r=t("iterator"),n=Array.prototype;return Yx=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Yx}var Qx,b5;function BG(){if(b5)return Qx;b5=1;var t=Ou(),e=UC(),r=vu(),n=Pu(),i=At(),s=i("iterator");return Qx=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},Qx}var Xx,w5;function Fpe(){if(w5)return Xx;w5=1;var t=tn(),e=ss(),r=xi(),n=bu(),i=BG(),s=TypeError;return Xx=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},Xx}var Jx,_5;function pI(){if(_5)return Jx;_5=1;var t=tn(),e=xi(),r=UC();return Jx=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Jx}var Zx,x5;function tm(){if(x5)return Zx;x5=1;var t=Up(),e=tn(),r=xi(),n=bu(),i=Ape(),s=os(),o=Mt(),a=Fpe(),l=BG(),u=pI(),c=TypeError,d=function(p,m){this.stopped=p,this.result=m},f=d.prototype;return Zx=function(p,m,g){var w=g&&g.that,y=!!(g&&g.AS_ENTRIES),v=!!(g&&g.IS_RECORD),_=!!(g&&g.IS_ITERATOR),b=!!(g&&g.INTERRUPTED),x=t(m,w),E,T,S,O,P,I,C,R=function(B){return E&&u(E,"normal"),new d(!0,B)},q=function(B){return y?(r(B),b?x(B[0],B[1],R):x(B[0],B[1])):b?x(B,R):x(B)};if(v)E=p.iterator;else if(_)E=p;else{if(T=l(p),!T)throw new c(n(p)+" is not iterable");if(i(T)){for(S=0,O=s(p);O>S;S++)if(P=q(p[S]),P&&o(f,P))return P;return new d(!1)}E=a(p,T)}for(I=v?p.next:E.next;!(C=e(I,E)).done;){try{P=q(C.value)}catch(B){u(E,"throw",B)}if(typeof P=="object"&&P&&o(f,P))return P}return new d(!1)},Zx}var eS,S5;function mI(){if(S5)return eS;S5=1;var t=Mt(),e=TypeError;return eS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},eS}var tS,E5;function vI(){if(E5)return tS;E5=1;var t=ge(),e=lt(),r=em(),n=Me(),i=xu(),s=tm(),o=mI(),a=er(),l=tr(),u=vu(),c=Ea(),d=jn().f,f=uo().forEach,p=Tt(),m=Oa(),g=m.set,w=m.getterFor;return tS=function(y,v,_){var b=y.indexOf("Map")!==-1,x=y.indexOf("Weak")!==-1,E=b?"set":"add",T=e[y],S=T&&T.prototype,O={},P;if(!p||!a(T)||!(x||S.forEach&&!n(function(){new T().entries().next()})))P=_.getConstructor(v,y,b,E),r.enable();else{P=v(function(R,q){g(o(R,I),{type:y,collection:new T}),u(q)||s(q,R[E],{that:R,AS_ENTRIES:b})});var I=P.prototype,C=w(y);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(R){var q=R==="add"||R==="set";R in S&&!(x&&R==="clear")&&i(I,R,function(B,J){var Q=C(this).collection;if(!q&&x&&!l(B))return R==="get"?void 0:!1;var L=Q[R](B===0?0:B,J);return q?this:L})}),x||d(I,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return c(P,y,!1,!0),O[y]=P,t({global:!0,forced:!0},O),x||_.setStrong(P,y,b),P},tS}var rS,O5;function yI(){if(O5)return rS;O5=1;var t=Hd();return rS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},rS}var nS,P5;function Lpe(){if(P5)return nS;P5=1;var t=pn(),e=ZC(),r=At(),n=Tt(),i=r("species");return nS=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},nS}var iS,T5;function zG(){if(T5)return iS;T5=1;var t=Wd(),e=ZC(),r=yI(),n=Up(),i=mI(),s=vu(),o=tm(),a=tI(),l=rI(),u=Lpe(),c=Tt(),d=em().fastKey,f=Oa(),p=f.set,m=f.getterFor;return iS={getConstructor:function(g,w,y,v){var _=g(function(S,O){i(S,b),p(S,{type:w,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(O)||o(O,S[v],{that:S,AS_ENTRIES:y})}),b=_.prototype,x=m(w),E=function(S,O,P){var I=x(S),C=T(S,O),R,q;return C?C.value=P:(I.last=C={index:q=d(O,!0),key:O,value:P,previous:R=I.last,next:null,removed:!1},I.first||(I.first=C),R&&(R.next=C),c?I.size++:S.size++,q!=="F"&&(I.index[q]=C)),S},T=function(S,O){var P=x(S),I=d(O),C;if(I!=="F")return P.index[I];for(C=P.first;C;C=C.next)if(C.key===O)return C};return r(b,{clear:function(){for(var O=this,P=x(O),I=P.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;P.first=P.last=null,P.index=t(null),c?P.size=0:O.size=0},delete:function(S){var O=this,P=x(O),I=T(O,S);if(I){var C=I.next,R=I.previous;delete P.index[I.index],I.removed=!0,R&&(R.next=C),C&&(C.previous=R),P.first===I&&(P.first=C),P.last===I&&(P.last=R),c?P.size--:O.size--}return!!I},forEach:function(O){for(var P=x(this),I=n(O,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:P.first;)for(I(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(O){return!!T(this,O)}}),r(b,y?{get:function(O){var P=T(this,O);return P&&P.value},set:function(O,P){return E(this,O===0?0:O,P)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),c&&e(b,"size",{configurable:!0,get:function(){return x(this).size}}),_},setStrong:function(g,w,y){var v=w+" Iterator",_=m(w),b=m(v);a(g,w,function(x,E){p(this,{type:v,target:x,state:_(x),kind:E,last:null})},function(){for(var x=b(this),E=x.kind,T=x.last;T&&T.removed;)T=T.previous;return!x.target||!(x.last=T=T?T.next:x.state.first)?(x.target=null,l(void 0,!0)):l(E==="keys"?T.key:E==="values"?T.value:[T.key,T.value],!1)},y?"entries":"values",!y,!0),u(w)}},iS}var C5;function Bpe(){if(C5)return f5;C5=1;var t=vI(),e=zG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),f5}var I5;function zpe(){return I5||(I5=1,Bpe()),h5}var R5={},sS,N5;function UG(){return N5||(N5=1,sS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),sS}var oS,$5;function Upe(){if($5)return oS;$5=1;var t=pn(),e=UG(),r=t("Map");return oS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},oS}var j5;function Wpe(){if(j5)return R5;j5=1;var t=ge(),e=Fe(),r=ss(),n=is(),i=tm(),s=Upe(),o=wu(),a=Me(),l=s.Map,u=s.has,c=s.get,d=s.set,f=e([].push),p=o||a(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||p},{groupBy:function(g,w){n(g),r(w);var y=new l,v=0;return i(g,function(_){var b=w(_,v++);u(y,b)?f(c(y,b),_):d(y,b,[_])}),y}}),R5}var k5={},aS,D5;function Hpe(){if(D5)return aS;D5=1;var t=Fe(),e=Su(),r=kn(),n=is(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,c){var d=r(n(u)),f=e(c),p=d.length,m,g;return f<0||f>=p?l?"":void 0:(m=s(d,f),m<55296||m>56319||f+1===p||(g=s(d,f+1))<56320||g>57343?l?i(d,f):m:l?o(d,f,f+2):(m-55296<<10)+(g-56320)+65536)}};return aS={codeAt:a(!1),charAt:a(!0)},aS}var q5;function gI(){if(q5)return k5;q5=1;var t=Hpe().charAt,e=kn(),r=Oa(),n=tI(),i=rI(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),c=u.string,d=u.index,f;return d>=c.length?i(void 0,!0):(f=t(c,d),u.index+=f.length,i(f,!1))}),k5}var lS,M5;function Vpe(){if(M5)return lS;M5=1,Tu(),zpe(),Wpe(),gI();var t=Ke();return lS=t.Map,lS}var uS,A5;function Kpe(){if(A5)return uS;A5=1;var t=Vpe();return Cu(),uS=t,uS}var cS,F5;function Gpe(){return F5||(F5=1,cS=Kpe()),cS}var Ype=Gpe(),bI=Se(Ype);class Qpe{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},jt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&We(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new bI,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var L5={},B5;function Xpe(){if(B5)return L5;B5=1;var t=ge();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),L5}var dS,z5;function Jpe(){if(z5)return dS;z5=1,Xpe();var t=Ke();return dS=t.Number.isNaN,dS}var hS,U5;function Zpe(){if(U5)return hS;U5=1;var t=Jpe();return hS=t,hS}var fS,W5;function eme(){return W5||(W5=1,fS=Zpe()),fS}var tme=eme(),ZP=Se(tme),H5={},pS,V5;function rme(){if(V5)return pS;V5=1;var t=lt(),e=t.isFinite;return pS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},pS}var K5;function nme(){if(K5)return H5;K5=1;var t=ge(),e=rme();return t({target:"Number",stat:!0},{isFinite:e}),H5}var mS,G5;function ime(){if(G5)return mS;G5=1,nme();var t=Ke();return mS=t.Number.isFinite,mS}var vS,Y5;function sme(){if(Y5)return vS;Y5=1;var t=ime();return vS=t,vS}var yS,Q5;function ome(){return Q5||(Q5=1,yS=sme()),yS}var ame=ome(),To=Se(ame),X5={},J5;function lme(){if(J5)return X5;J5=1;var t=ge(),e=uo().some,r=Iu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),X5}var gS,Z5;function ume(){if(Z5)return gS;Z5=1,lme();var t=dr();return gS=t("Array","some"),gS}var bS,e6;function cme(){if(e6)return bS;e6=1;var t=Mt(),e=ume(),r=Array.prototype;return bS=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},bS}var wS,t6;function dme(){if(t6)return wS;t6=1;var t=cme();return wS=t,wS}var _S,r6;function hme(){return r6||(r6=1,_S=dme()),_S}var fme=hme(),pme=Se(fme),xS={exports:{}},n6={},i6;function mme(){if(i6)return n6;i6=1;var t=ge(),e=Tt(),r=jn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),n6}var s6;function vme(){if(s6)return xS.exports;s6=1,mme();var t=Ke(),e=t.Object,r=xS.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),xS.exports}var SS,o6;function WG(){if(o6)return SS;o6=1;var t=vme();return SS=t,SS}var ES,a6;function yme(){if(a6)return ES;a6=1;var t=WG();return ES=t,ES}var OS,l6;function gme(){if(l6)return OS;l6=1;var t=yme();return OS=t,OS}var PS,u6;function bme(){return u6||(u6=1,PS=gme()),PS}var wme=bme(),_me=Se(wme),c6={},d6;function xme(){if(d6)return c6;d6=1;var t=At(),e=jn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),c6}var h6={},f6;function Sme(){return f6||(f6=1,V9()),h6}var p6={},m6;function Eme(){return m6||(m6=1,K9()),p6}var v6={},y6;function Ome(){if(y6)return v6;y6=1;var t=mt();return t("metadata"),v6}var TS,g6;function Pme(){if(g6)return TS;g6=1;var t=J9();return xme(),Sme(),Eme(),Ome(),TS=t,TS}var b6={},CS,w6;function HG(){if(w6)return CS;w6=1;var t=pn(),e=Fe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return CS=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},CS}var _6;function Tme(){if(_6)return b6;_6=1;var t=ge(),e=HG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),b6}var x6={},IS,S6;function VG(){if(S6)return IS;S6=1;for(var t=_u(),e=pn(),r=Fe(),n=Ld(),i=At(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,d=a(s),f=d.length;c<f;c++)try{var p=d[c];n(s[p])&&i(p)}catch{}return IS=function(g){if(o&&o(g))return!0;try{for(var w=l(g),y=0,v=a(u),_=v.length;y<_;y++)if(u[v[y]]==w)return!0}catch{}return!1},IS}var E6;function Cme(){if(E6)return x6;E6=1;var t=ge(),e=VG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),x6}var O6={},P6;function Ime(){if(P6)return O6;P6=1;var t=mt();return t("customMatcher"),O6}var T6={},C6;function Rme(){if(C6)return T6;C6=1;var t=mt();return t("observable"),T6}var I6={},R6;function Nme(){if(R6)return I6;R6=1;var t=ge(),e=HG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),I6}var N6={},$6;function $me(){if($6)return N6;$6=1;var t=ge(),e=VG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),N6}var j6={},k6;function jme(){if(k6)return j6;k6=1;var t=mt();return t("matcher"),j6}var D6={},q6;function kme(){if(q6)return D6;q6=1;var t=mt();return t("metadataKey"),D6}var M6={},A6;function Dme(){if(A6)return M6;A6=1;var t=mt();return t("patternMatch"),M6}var F6={},L6;function qme(){if(L6)return F6;L6=1;var t=mt();return t("replaceAll"),F6}var RS,B6;function Mme(){if(B6)return RS;B6=1;var t=Pme();return Tme(),Cme(),Ime(),Rme(),Nme(),$me(),jme(),kme(),Dme(),qme(),RS=t,RS}var NS,z6;function Ame(){return z6||(z6=1,NS=Mme()),NS}var Fme=Ame(),jh=Se(Fme),$S,U6;function Lme(){if(U6)return $S;U6=1,Tu(),gI(),G9();var t=Yp();return $S=t.f("iterator"),$S}var jS,W6;function Bme(){if(W6)return jS;W6=1;var t=Lme();return Cu(),jS=t,jS}var kS,H6;function zme(){if(H6)return kS;H6=1;var t=Bme();return kS=t,kS}var DS,V6;function Ume(){if(V6)return DS;V6=1;var t=zme();return DS=t,DS}var qS,K6;function Wme(){return K6||(K6=1,qS=Ume()),qS}var Hme=Wme(),Vme=Se(Hme);function ed(t){"@babel/helpers - typeof";return ed=typeof jh=="function"&&typeof Vme=="symbol"?function(e){return typeof e}:function(e){return e&&typeof jh=="function"&&e.constructor===jh&&e!==jh.prototype?"symbol":typeof e},ed(t)}var MS,G6;function Kme(){if(G6)return MS;G6=1,Y9();var t=Yp();return MS=t.f("toPrimitive"),MS}var AS,Y6;function Gme(){if(Y6)return AS;Y6=1;var t=Kme();return AS=t,AS}var FS,Q6;function Yme(){if(Q6)return FS;Q6=1;var t=Gme();return FS=t,FS}var LS,X6;function Qme(){if(X6)return LS;X6=1;var t=Yme();return LS=t,LS}var BS,J6;function Xme(){return J6||(J6=1,BS=Qme()),BS}var Jme=Xme(),Zme=Se(Jme);function eve(t,e){if(ed(t)!="object"||!t)return t;var r=t[Zme];if(r!==void 0){var n=r.call(t,e);if(ed(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tve(t){var e=eve(t,"string");return ed(e)=="symbol"?e:e+""}function ki(t,e,r){return(e=tve(e))in t?_me(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Z6={},zS,eU;function rve(){if(eU)return zS;eU=1;var t=lt(),e=Me(),r=Fe(),n=kn(),i=eG().trim,s=nI(),o=r("".charAt),a=t.parseFloat,l=t.Symbol,u=l&&l.iterator,c=1/a(s+"-0")!==-1/0||u&&!e(function(){a(Object(u))});return zS=c?function(f){var p=i(n(f)),m=a(p);return m===0&&o(p,0)==="-"?-0:m}:a,zS}var tU;function nve(){if(tU)return Z6;tU=1;var t=ge(),e=rve();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),Z6}var US,rU;function ive(){if(rU)return US;rU=1,nve();var t=Ke();return US=t.parseFloat,US}var WS,nU;function sve(){if(nU)return WS;nU=1;var t=ive();return WS=t,WS}var HS,iU;function ove(){return iU||(iU=1,HS=sve()),HS}var ave=ove(),KG=Se(ave),sU={},oU;function lve(){if(oU)return sU;oU=1;var t=ge(),e=Me(),r=JC().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),sU}var VS,aU;function uve(){if(aU)return VS;aU=1,lve();var t=Ke(),e=t.Object;return VS=function(n){return e.getOwnPropertyNames(n)},VS}var KS,lU;function cve(){if(lU)return KS;lU=1;var t=uve();return KS=t,KS}var GS,uU;function dve(){return uU||(uU=1,GS=cve()),GS}var hve=dve(),fve=Se(hve),YS,cU;function pve(){if(cU)return YS;cU=1,H9();var t=Ke();return YS=t.Object.getOwnPropertySymbols,YS}var QS,dU;function mve(){if(dU)return QS;dU=1;var t=pve();return QS=t,QS}var XS,hU;function vve(){return hU||(hU=1,XS=mve()),XS}var yve=vve(),Zs=Se(yve),JS={exports:{}},fU={},pU;function gve(){if(pU)return fU;pU=1;var t=ge(),e=Me(),r=ei(),n=zp().f,i=Tt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),fU}var mU;function bve(){if(mU)return JS.exports;mU=1,gve();var t=Ke(),e=t.Object,r=JS.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),JS.exports}var ZS,vU;function wve(){if(vU)return ZS;vU=1;var t=bve();return ZS=t,ZS}var eE,yU;function _ve(){return yU||(yU=1,eE=wve()),eE}var xve=_ve(),co=Se(xve),gU={},bU;function Sve(){if(bU)return gU;bU=1;var t=ge(),e=Tt(),r=Gce(),n=ei(),i=zp(),s=Vp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,c=r(l),d={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(d,p,m);return d}}),gU}var tE,wU;function Eve(){if(wU)return tE;wU=1,Sve();var t=Ke();return tE=t.Object.getOwnPropertyDescriptors,tE}var rE,_U;function Ove(){if(_U)return rE;_U=1;var t=Eve();return rE=t,rE}var nE,xU;function Pve(){return xU||(xU=1,nE=Ove()),nE}var Tve=Pve(),eo=Se(Tve),iE={exports:{}},SU={},EU;function Cve(){if(EU)return SU;EU=1;var t=ge(),e=Tt(),r=XC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),SU}var OU;function Ive(){if(OU)return iE.exports;OU=1,Cve();var t=Ke(),e=t.Object,r=iE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),iE.exports}var sE,PU;function Rve(){if(PU)return sE;PU=1;var t=Ive();return sE=t,sE}var oE,TU;function Nve(){return TU||(TU=1,oE=Rve()),oE}var $ve=Nve(),rm=Se($ve),aE,CU;function jve(){return CU||(CU=1,aE=WG()),aE}var kve=jve(),nm=Se(kve);function wI(t,e){const r=["node","edge","label"];let n=!0;const i=ps(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(We(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=ps(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function eT(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const o=-r.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Kf(t){return typeof t=="string"&&t!==""}function GG(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const o=n.distanceToBorder(t,e),a=Math.sin(e)*o,l=Math.cos(e)*o;l===o?(i+=o,s=n.y):a===o?(i=n.x,s-=o):(i+=l,s-=a)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var lE,IU;function Dve(){if(IU)return lE;IU=1,Tu();var t=dr();return lE=t("Array","values"),lE}var uE,RU;function qve(){if(RU)return uE;RU=1;var t=Dve();return uE=t,uE}var cE,NU;function Mve(){if(NU)return cE;NU=1,Cu();var t=Ou(),e=cr(),r=Mt(),n=qve(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return cE=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},cE}var dE,$U;function Ave(){return $U||($U=1,dE=Mve()),dE}var Fve=Ave(),YG=Se(Fve);class Lve{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),o=jt({},YG(s));o.text=r,o.width=s.width,o.mod=n,(r===void 0||r==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};jt(i,n),i.blocks=[];let s;const o=[];for(let a=0;a<n.blocks.length;a++){const l=n.blocks[a];l.width!==0?o.push(l):s===void 0&&(s=l)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Bve={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class jU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Bve[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class zve{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,a);let u=0;return o!==""&&(u=this.ctx.measureText(o).width),{width:u,values:l}};this.lines=new Lve(s)}process(e){if(!Kf(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(n[s],r.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.splitStringIntoLines(u,l,!0)}else for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new jU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new jU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(di(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(di(o).call(o,0,a),r),i[0]=di(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=di(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(a,r):this.lines.newLine(a,r),i=di(i).call(i,o)}}}}const Ku=["bold","ital","boldital","mono"];class pl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Kf(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Ne(Ku,r=>{this.fontOptions[r]={}}),pl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Ne(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=ps(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=ps(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const o=ps(e,["widthConstraint","minimum"]);typeof o=="number"&&(r.minWdt=Number(o))}const i=ps(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=ps(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const o=ps(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(r.valign=o)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),et(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=wI("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};pl.parseFontString(s,i)&&(i=s),Ne(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(r,a)||(We(Ku).call(Ku,a)!==-1?r[a]={}:r[a]=o))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,r)){if(i=o[r],i==null)continue;const a={};if(pl.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];n[o]=this.getFontOption(e,r,o)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Ku.length;++n){const i=Ku[n],s=this.fontOptions[i],o=this.getFontOptions(r,i);Ne(o,(a,l)=>{s[l]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,o),this._drawBackground(e),this._drawText(e,r,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let u=0;u<a.blocks.length;u++){const c=a.blocks[u];e.font=c.font;const[d,f]=this._getColor(c.color,s,c.strokeColor);c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=d,c.strokeWidth>0&&e.strokeText(c.text,r+l,n+c.vadjust),e.fillText(c.text,r+l,n+c.vadjust),l+=c.width}n+=a.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Sn(i,o),s=Sn(s,o)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,c){return u==="normal"?c==="mod"?"":l[c]:l[u][c]!==void 0?l[u][c]:l[c]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,r,n));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new zve(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Ta{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Kd(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let Uve=class extends Ta{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),k9(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class _I extends Ta{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),GC(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,o,a,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(o+=l.height/2)}const a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,r,a,i,s,"hanging")}}let Wve=class extends _I{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,o),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class Hve extends _I{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){this.switchImages(i),this.resize();let a=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,a,l,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class ho extends Ta{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,o;this.labelModule.getTextSize(e,r,n);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,o,a,l){return this.resize(e,o,a,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),ace(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function kU(t,e){var r=wt(t);if(Zs){var n=Zs(t);e&&(n=Ur(n).call(n,function(i){return co(t,i).enumerable})),r.push.apply(r,n)}return r}function Vve(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=kU(Object(i),!0)).call(r,function(s){ki(t,s,i[s])}):eo?rm(t,eo(i)):Qe(n=kU(Object(i))).call(n,function(s){nm(t,s,co(i,s))})}return t}class Kve extends ho{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,o){this.resize(e,i,s,o),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:Vve({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Gve extends Ta{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),D9(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Yve=class extends ho{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"diamond",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Qve extends ho{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"circle",2,r,n,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class DU extends Ta{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,o),WP(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,o=Math.cos(r)*i;return n*i/Math.sqrt(s*s+o*o)}}class Xve extends Ta{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Jve=class extends _I{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){e.save(),this.switchImages(i),this.resize();let a=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth,d=(i?c:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,d),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(f=Sn(f,o.opacity),p=Sn(p,o.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Kd(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Zve extends ho{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"square",2,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class eye extends ho{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"hexagon",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class tye extends ho{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"star",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class rye extends Ta{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let nye=class extends ho{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangle",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class iye extends ho{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangleDown",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function qU(t,e){var r=wt(t);if(Zs){var n=Zs(t);e&&(n=Ur(n).call(n,function(i){return co(t,i).enumerable})),r.push.apply(r,n)}return r}function MU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=qU(Object(i),!0)).call(r,function(s){ki(t,s,i[s])}):eo?rm(t,eo(i)):Qe(n=qU(Object(i))).call(n,function(s){nm(t,s,co(i,s))})}return t}class ot{constructor(e,r,n,i,s,o){this.options=Vs(s),this.globalOptions=s,this.defaultOptions=o,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new pl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;We(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=We(r=this.edges).call(r,e);if(n!=-1){var i;Fi(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");ot.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Wn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Wn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=KG(e.value)),ot.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=wI("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&ot.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=n.get(s);a.opacity!==void 0&&r.opacity===void 0&&(ot.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=Ur(i=fve(r)).call(i,u=>r[u]!=null);l.push("font"),Hf(l,e,a),e.color=YP(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Hf(["color","fixed","shadow"],e,r,n),ot.checkMass(r),e.opacity!==void 0&&(ot.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(ot.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!ot.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),wn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const a=YP(r.color);CG(e.color,a)}else n===!0&&r.color===null&&(e.color=Vs(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Vs(i.font)),ot.updateGroupOptions(e,r,s),r.scaling!==void 0&&wn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Sn(e.borderColor,r),e.color=Sn(e.color,r),e.shadowColor=Sn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),ot.updateGroupOptions(this.options,MU(MU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Uve(this.options,this.body,this.labelModule);break;case"circle":this.shape=new Wve(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new Hve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new Kve(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new Gve(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new Yve(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Qve(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new DU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Xve(this.options,this.body,this.labelModule);break;case"image":this.shape=new Jve(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Zve(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new eye(this.options,this.body,this.labelModule);break;case"star":this.shape=new tye(this.options,this.body,this.labelModule);break;case"text":this.shape=new rye(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new nye(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new iye(this.options,this.body,this.labelModule);break;default:this.shape=new DU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&eT(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),eT(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",$G),e.mass=1}}}class sye{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=X(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,l,u){if(a===o)return .5;{const c=1/(a-o);return Math.max(0,(u-o)*c)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Vs(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",X(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",X(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Ne(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(ot.parseOptions(this.options,e),e.opacity!==void 0&&(ZP(e.opacity)||!To(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of wt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(P9("id",e))this.body.data.nodes=e;else if(St(e))this.body.data.nodes=new Wl,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Wl;else throw new TypeError("Array or DataSet expected");if(n&&Ne(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Ne(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const o=this.body.data.nodes.get(n),a=this.create(o);i.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let l=i[a];const u=r[o];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[a]=l)}!s&&n!==void 0&&(s=pme(r).call(r,function(o,a){const l=n[a];return l&&l.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Ne(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(St(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(n.x!==o||n.y!==a)&&e.push({id:i,x:o,y:a})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];r!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(n.push(a.fromId),s[a.fromId]=!0):r!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(n.push(a.toId),s[a.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Li(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var AU={},FU;function oye(){if(FU)return AU;FU=1;var t=ge(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var l=0,u=0,c=arguments.length,d=0,f,p;u<c;)f=r(arguments[u++]),d<f?(p=d/f,l=l*p*p+1,d=f):f>0?(p=f/d,l+=p*p):l+=f;return d===1/0?1/0:d*n(l)}}),AU}var hE,LU;function aye(){if(LU)return hE;LU=1,oye();var t=Ke();return hE=t.Math.hypot,hE}var fE,BU;function lye(){if(BU)return fE;BU=1;var t=aye();return fE=t,fE}var pE,zU;function uye(){return zU||(zU=1,pE=lye()),pE}var cye=uye(),dye=Se(cye);class Ot{static transform(e,r){St(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,o=r.length;for(let a=0;a<e.length;++a){const l=e[a],u=l.x*Math.cos(s)-l.y*Math.sin(s),c=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+o*u,l.y=i+o*c}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let hye=class extends Ot{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class fye extends Ot{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class pye{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class mye{static draw(e,r){const n={x:-.4,y:0};Ot.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,o=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class vye{static draw(e,r){const n={x:-.3,y:0};Ot.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,o=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class yye{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class gye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class bye{static draw(e,r){const n={x:-.4,y:0};return Ot.transform(n,r),GC(e,n.x,n.y,r.length*.4),!0}}class wye{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class _ye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class xye{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class Sye{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ot.transform(n,r),Ot.drawPath(e,n),!0}}class QG{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return hye.draw(e,r);case"circle":return bye.draw(e,r);case"box":return _ye.draw(e,r);case"crow":return pye.draw(e,r);case"curve":return mye.draw(e,r);case"diamond":return xye.draw(e,r);case"inv_curve":return vye.draw(e,r);case"triangle":return yye.draw(e,r);case"inv_triangle":return gye.draw(e,r);case"bar":return wye.draw(e,r);case"vee":return Sye.draw(e,r);case"arrow":default:return fye.draw(e,r)}}}function UU(t,e){var r=wt(t);if(Zs){var n=Zs(t);e&&(n=Ur(n).call(n,function(i){return co(t,i).enumerable})),r.push.apply(r,n)}return r}function WU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=UU(Object(i),!0)).call(r,function(s){ki(t,s,i[s])}):eo?rm(t,eo(i)):Qe(n=UU(Object(i))).call(n,function(s){nm(t,s,co(i,s))})}return t}class XG{constructor(e,r,n){ki(this,"color",{}),ki(this,"colorDirty",!0),ki(this,"hoverWidth",1.5),ki(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[o,a,l]=this._getCircleData(e);this._circle(e,r,o,a,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const o=St(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)q9(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=di(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=GG(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let o=n.low,a=n.high;const l=n.direction,u=10,c=this.options.selfReference.size,d=.05;let f,p=(o+a)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let g=0;do{p=(o+a)*.5,f=this._pointOnCircle(i,s,c,p);const w=Math.atan2(e.y-f.y,e.x-f.x),y=e.distanceToBorder(r,w)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),_=y-v;if(Math.abs(_)<d)break;_>0?l>0?o=p:a=p:l>0?a=p:o=p,++g}while(o<=a&&g<u);return WU(WU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Sn(this.from.options.color.border,r.opacity),s=Sn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Sn(this.to.options.color.border,r.opacity):Sn(this.from.options.color.border,r.opacity)}else return Sn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});o=Math.atan2(c.y-i,c.x-n),a=Math.atan2(d.y-i,d.x-n)}e.beginPath(),e.arc(n,i,s,o,a,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,o);{const[a,l,u]=this._getCircleData(void 0),c=a-s,d=l-o;return Math.abs(Math.sqrt(c*c+d*d)-u)}}_getDistanceToLine(e,r,n,i,s,o){const a=n-e,l=i-r,u=a*a+l*l;let c=((s-e)*a+(o-r)*l)/u;c>1?c=1:c<0&&(c=0);const d=e+c*a,f=r+c*l,p=d-s,m=f-o;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,o){let a,l,u,c,d,f,p;const m=o.width;r==="from"?(u=this.from,c=this.to,d=o.fromArrowScale<0,f=Math.abs(o.fromArrowScale),p=o.fromArrowType):r==="to"?(u=this.to,c=this.from,d=o.toArrowScale<0,f=Math.abs(o.toArrowScale),p=o.toArrowType):(u=this.to,c=this.from,d=o.middleArrowScale<0,f=Math.abs(o.middleArrowScale),p=o.middleArrowType);const g=15*f+3*m;if(u!=c){const _=dye(u.x-c.x,u.y-c.y),b=g/_;if(r!=="middle")if(this.options.smooth.enabled===!0){const x=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(x.t+b*(r==="from"?1:-1),n);a=Math.atan2(x.y-E.y,x.x-E.x),l=x}else a=Math.atan2(u.y-c.y,u.x-c.x),l=this._findBorderPosition(u,e);else{const x=(d?-b:b)/2,E=this.getPoint(.5+x,n),T=this.getPoint(.5-x,n);a=Math.atan2(E.y-T.y,E.x-T.x),l=this.getPoint(.5,n)}}else{const[_,b,x]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,T=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:_,y:b,low:E,high:T,direction:-1});a=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,T=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:_,y:b,low:E,high:T,direction:1});a=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(_,b,x,E),a=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const w=l.x-g*.9*Math.cos(a),y=l.y-g*.9*Math.sin(a);return{point:l,core:{x:w,y},angle:a,length:g,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,QG.draw(e,s)&&(this.enableShadow(e,r),Kd(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=St(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function HU(t,e){var r=wt(t);if(Zs){var n=Zs(t);e&&(n=Ur(n).call(n,function(i){return co(t,i).enumerable})),r.push.apply(r,n)}return r}function VU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=HU(Object(i),!0)).call(r,function(s){ki(t,s,i[s])}):eo?rm(t,eo(i)):Qe(n=HU(Object(i))).call(n,function(s){nm(t,s,co(i,s))})}return t}class xI extends XG{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,l=0,u=this.to,c,d,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,o=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{d=(l+a)*.5,c=this.getPoint(d,n);const m=Math.atan2(u.y-c.y,u.x-c.x),g=u.distanceToBorder(r,m)+f,w=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2)),y=g-w;if(Math.abs(y)<s)break;y<0?o===!1?l=d:a=d:o===!1?a=d:l=d,++p}while(l<=a&&p<i);return VU(VU({},c),{},{t:d})}_getDistanceToBezierEdge(e,r,n,i,s,o,a){let l=1e9,u,c,d,f,p,m=e,g=r;for(c=1;c<10;c++)d=.1*c,f=Math.pow(1-d,2)*e+2*d*(1-d)*a.x+Math.pow(d,2)*n,p=Math.pow(1-d,2)*r+2*d*(1-d)*a.y+Math.pow(d,2)*i,c>0&&(u=this._getDistanceToLine(m,g,f,p,s,o),l=u<l?u:l),m=f,g=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class KU extends xI{constructor(e,r,n){super(e,r,n),ki(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:n+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToBezierEdge(e,r,n,i,s,o,this.via)}}class GU extends xI{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return r==="discrete"&&(n<=i?a=n<e*i?this.from.x:a:l=i<e*n?this.from.y:l),{x:a,y:l}}else if(r==="straightCross"){let s=(1-e)*n,o=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return n<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,o,a)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Eye extends xI{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,o,a,l){let u=1e9,c=e,d=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const g=f[0]*e+f[1]*a.x+f[2]*l.x+f[3]*n,w=f[0]*r+f[1]*a.y+f[2]*l.y+f[3]*i;if(p>0){const y=this._getDistanceToLine(c,d,g,w,s,o);u=y<u?y:u}c=g,d=w}return u}}class YU extends Eye{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,n=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*r,o=this.to.y+a*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,o){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,o,a,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class QU extends XG{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,a=n.y-i.y,l=Math.sqrt(o*o+a*a),u=e.distanceToBorder(r,s),c=(l-u)/l;return{x:(1-c)*i.x+c*n.x,y:(1-c)*i.y+c*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToLine(e,r,n,i,s,o)}}class Ks{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Vs(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new pl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Ks.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=KG(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=wI("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Nu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(To(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(To(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Kf(r.label)?e.label=r.label:Kf(e.label)||(e.label=void 0),wn(e,r,"smooth",i),wn(e,r,"shadow",i),wn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=Uo(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),wn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=Uo(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const a=r.arrows.toLowerCase();e.arrows.to.enabled=We(a).call(a,"to")!=-1,e.arrows.middle.enabled=We(a).call(a,"middle")!=-1,e.arrows.from.enabled=We(a).call(a,"from")!=-1}else if(typeof r.arrows=="object")wn(e.arrows,r.arrows,"to",i.arrows),wn(e.arrows,r.arrows,"middle",i.arrows),wn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Vd(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=Uo(i.arrows));if(r.color!==void 0&&r.color!==null){const a=hl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)et(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(hl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let u=!1;a.color!==void 0&&(l.color=a.color,u=!0),a.highlight!==void 0&&(l.highlight=a.highlight,u=!0),a.hover!==void 0&&(l.hover=a.hover,u=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Vs(i.color));n===!0&&r.font===null&&(e.font=Vs(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof KU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof YU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof GU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof QU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new KU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new YU(this.options,this.body,this.labelModule):this.edgeType=new GU(this.options,this.body,this.labelModule):this.edgeType=new QU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=GG(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();eT(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,o,a,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Oye{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=X(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,l){if(o===s)return .5;{const u=1/(o-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},et(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],u=e.body.data.edges.get(a);if(u!=null){const c=u.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",X(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",X(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Ne(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Ks.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(P9("id",e))this.body.data.edges=e;else if(St(e))this.body.data.edges=new Wl,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Wl;else throw new TypeError("Array or DataSet expected");if(n&&Ne(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Ne(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=n[o];a&&a.disconnect();const l=i.get(o,{showInternalIds:!0});n[o]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=n.get(o),l=r[o];l!==void 0?(l.disconnect(),i=l.setOptions(a)||i,l.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Ne(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Ne(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Ks(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Ne(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Qe(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class JG{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Zp("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let o=0;o<i;o++)e=r[n[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=r*o,l=n*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,o=e[r[0]].y,a=e[r[0]].x,l=e[r[0]].y;for(let w=1;w<i;w++){const y=e[r[w]],v=y.x,_=y.y;y.options.mass>0&&(v<s&&(s=v),v>a&&(a=v),_<o&&(o=_),_>l&&(l=_))}const u=Math.abs(a-s)-Math.abs(l-o);u>0?(o-=.5*u,l+=.5*u):(s+=.5*u,a-=.5*u);const d=Math.max(1e-5,Math.abs(a-s)),f=.5*d,p=.5*(s+a),m=.5*(o+l),g={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:d,calcSize:1/d,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(g.root);for(let w=0;w<i;w++)n=e[r[w]],n.options.mass>0&&this._placeInTree(g.root,n);return g}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const o=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,o;const a=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Pye{constructor(e,r,n){this._rng=Zp("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,d=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let g=0;g<c.length-1;g++){a=u[c[g]];for(let w=g+1;w<c.length;w++)l=u[c[w]],e=l.x-a.x,r=l.y-a.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?o=1:o=p*n+m,o=o/n,i=e*o,s=r*o,d[a.id].x-=i,d[a.id].y-=s,d[l.id].x+=i,d[l.id].y+=s)}}}class Tye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const o=e[r[s]];for(let a=s+1;a<r.length;a++){const l=e[r[a]];if(o.level===l.level){const u=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(l.shape.radius||0)/2),c=l.x-o.x,d=l.y-o.y,f=Math.sqrt(c*c+d*d),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const g=c*m,w=d*m;n[o.id].x-=g,n[o.id].y-=w,n[l.id].x+=g,n[l.id].y+=w}}}}}class mE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,o=r.edgeType.via,a=r.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(n-o)/o,l=i*a,u=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class Cye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.edges,c=.5,d=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const x=f[b];p[x].springFx=0,p[x].springFy=0}for(let b=0;b<d.length;b++)r=u[d[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,s=n*a,o=i*a,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=o),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=o)):(p[r.toId]!==void 0&&(p[r.toId].x-=c*s,p[r.toId].y-=c*o),p[r.fromId]!==void 0&&(p[r.fromId].x+=c*s,p[r.fromId].y+=c*o)));a=1;let m,g;for(let b=0;b<f.length;b++){const x=f[b];m=Math.min(a,Math.max(-a,p[x].springFx)),g=Math.min(a,Math.max(-a,p[x].springFy)),p[x].x+=m,p[x].y+=g}let w=0,y=0;for(let b=0;b<f.length;b++){const x=f[b];w+=p[x].x,y+=p[x].y}const v=w/f.length,_=y/f.length;for(let b=0;b<f.length;b++){const x=f[b];p[x].x-=v,p[x].y-=_}}}class ef{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<o.length;l++){const u=o[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,a,i)}}_calculateForces(e,r,n,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=r*o,i[s.id].y=n*o}}class Iye extends JG{constructor(e,r,n){super(e,r,n),this._rng=Zp("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),l=r*a,u=n*a;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class Rye extends ef{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=r*a,i[s.id].y=n*a}}}class Nye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},jt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Hf(["stabilization"],this.options,e),wn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||ZP(r.x))&&(r.x=0),(typeof r.y!="number"||ZP(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Iye(this.body,this.physicsBody,e),this.edgesSolver=new mE(this.body,this.physicsBody,e),this.gravitySolver=new Rye(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Pye(this.body,this.physicsBody,e),this.edgesSolver=new mE(this.body,this.physicsBody,e),this.gravitySolver=new ef(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Tye(this.body,this.physicsBody,e),this.edgesSolver=new Cye(this.body,this.physicsBody,e),this.gravitySolver=new ef(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new JG(this.body,this.physicsBody,e),this.edgesSolver=new mE(this.body,this.physicsBody,e),this.gravitySolver=new ef(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=X(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Bf();this.physicsTick(),(Bf()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Li(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=wt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,r=i[a].y-s[a].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);r=Math.max(r,a),n+=a}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Li(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Li(X(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],o=20,a=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),c=3*u,d=QP((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),f={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=u,e.strokeStyle=d,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=d,QG.draw(e,{type:"arrow",point:f,angle:p,length:c}),Kd(e).call(e)}}}const ir=[];for(let t=0;t<256;++t)ir.push((t+256).toString(16).slice(1));function $ye(t,e=0){return(ir[t[e+0]]+ir[t[e+1]]+ir[t[e+2]]+ir[t[e+3]]+"-"+ir[t[e+4]]+ir[t[e+5]]+"-"+ir[t[e+6]]+ir[t[e+7]]+"-"+ir[t[e+8]]+ir[t[e+9]]+"-"+ir[t[e+10]]+ir[t[e+11]]+ir[t[e+12]]+ir[t[e+13]]+ir[t[e+14]]+ir[t[e+15]]).toLowerCase()}let vE;const jye=new Uint8Array(16);function kye(){if(!vE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");vE=crypto.getRandomValues.bind(crypto)}return vE(jye)}const Dye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var XU={randomUUID:Dye};function qye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??kye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,$ye(n)}function yc(t,e,r){return XU.randomUUID&&!t?XU.randomUUID():qye(t)}class Cr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),n>a.shape.boundingBox.top&&(n=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),n>a.y&&(n=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(et(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):et(n,e.options,!0),n}}class Mye extends ot{constructor(e,r,n,i,s,o){super(e,r,n,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Ne(r.edges,n=>{delete this.containedEdges[n.id]}),Ne(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Ne(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Ne(r.edges,n=>{Ne(this.edges,i=>{var s,o;const a=We(s=i.clusteringEdgeReplacingIds).call(s,n.id);a!==-1&&(Ne(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Fi(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),r.edges=[]}}class Aye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},jt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Ne(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(n[o]=s,Ne(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let o,a,l;for(let u=0;u<this.body.nodeIndices.length;u++){const c={},d={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,a=[];for(let m=0;m<p.edges.length;m++)o=p.edges[m],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&l++,a.push(o));if(l===e){const m=function(w){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const y=Cr.cloneOptions(w);return r.joinCondition(y)};let g=!0;for(let w=0;w<a.length;w++){o=a[w];const y=this._getConnectedId(o,f);if(m(p))d[o.id]=o,c[f]=p,c[y]=this.body.nodes[y],s[f]=!0;else{g=!1;break}}if(wt(c).length>0&&wt(d).length>0&&g===!0){const y=function(){for(let v=0;v<i.length;++v)for(const _ in c)if(i[v].nodes[_]!==void 0)return i[v]}();if(y!==void 0){for(const v in c)y.nodes[v]===void 0&&(y.nodes[v]=c[v]);for(const v in d)y.edges[v]===void 0&&(y.edges[v]=d[v])}else i.push({nodes:c,edges:d})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},l=s.id,u=Cr.cloneOptions(s);o[l]=s;for(let d=0;d<s.edges.length;d++){const f=s.edges[d];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)a[f.id]=f,o[p]=this.body.nodes[p];else{const m=Cr.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(a[f.id]=f,o[p]=this.body.nodes[p])}else a[f.id]=f}}const c=Hl(n=wt(o)).call(n,function(d){return o[d].id});for(const d in o){if(!Object.prototype.hasOwnProperty.call(o,d))continue;const f=o[d];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];We(c).call(c,this._getConnectedId(m,f.id))>-1&&(a[m.id]=m)}}this._cluster(o,a,r,i)}_createClusterEdges(e,r,n,i){let s,o,a,l,u,c;const d=wt(e),f=[];for(let g=0;g<d.length;g++){o=d[g],a=e[o];for(let w=0;w<a.edges.length;w++)s=a.edges[w],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==o?(l=n.id,u=s.fromId,c=u):(l=s.toId,u=n.id,c=l),e[c]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(g){for(let w=0;w<p.length;w++){const y=p[w],v=g.fromId===y.fromId&&g.toId===y.toId,_=g.fromId===y.toId&&g.toId===y.fromId;if(v||_)return y}return null};for(let g=0;g<f.length;g++){const w=f[g],y=w.edge;let v=m(w);v===null?(v=this._createClusteredEdge(w.fromId,w.toId,y,i),p.push(v)):v.clusteringEdgeReplacingIds.push(y.id),this.body.edges[y.id].edgeReplacedById=v.id,this._backupEdgeOptions(y),y.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&this.clusteredNodes[c]!==void 0&&s.push(c);for(let c=0;c<s.length;++c)delete e[s[c]];if(wt(e).length==0||wt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=et({},n.clusterNodeProperties);if(n.processProperties!==void 0){const c=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Cr.cloneOptions(e[f]);c.push(p)}const d=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Cr.cloneOptions(r[f],"edge");d.push(p)}if(o=n.processProperties(o,c,d),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+yc());const a=o.id;o.label===void 0&&(o.label="cluster");let l;o.x===void 0&&(l=this._getClusterPosition(e),o.x=l.x),o.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),o.y=l.y),o.id=a;const u=this.body.functions.createNode(o,Mye);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[o.id]=u,this._clusterEdges(e,r,o,n.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=wt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,o=e[r[0]].y,a;for(let l=1;l<r.length;l++)a=e[r[l]],n=a.x<n?a.x:n,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(n+i),y:.5*(s+o)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=We(s).call(s,e)-1;if(o>=0){const c=s[o];this.body.nodes[c]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const c={},d={x:i.x,y:i.y};for(const p in a)if(Object.prototype.hasOwnProperty.call(a,p)){const m=this.body.nodes[p];c[p]={x:m.x,y:m.y}}const f=r.releaseFunction(d,c);for(const p in a)if(Object.prototype.hasOwnProperty.call(a,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else Ne(a,function(c){c.options.fixed.x===!1&&(c.x=i.x),c.options.fixed.y===!1&&(c.y=i.y)});for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const d=this.body.nodes[c];d.vx=i.vx,d.vy=i.vy,d.setOptions({physics:!0}),delete this.clusteredNodes[c]}const u=[];for(let c=0;c<i.edges.length;c++)u.push(i.edges[c]);for(let c=0;c<u.length;c++){const d=u[c],f=this._getConnectedId(d,e),p=this.clusteredNodes[f];for(let m=0;m<d.clusteringEdgeReplacingIds.length;m++){const g=d.clusteringEdgeReplacingIds[m],w=this.body.edges[g];if(w!==void 0)if(p!==void 0){const y=this.body.nodes[p.clusterId];y.containedEdges[w.id]=w,delete l[w.id];let v=w.fromId,_=w.toId;w.toId==f?_=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,_,w,y.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(w)}d.remove()}for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&this._restoreEdge(l[c]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),zo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return zo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let o=0;for(;r.length>0&&o<s;){const a=r.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;o++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(a);else for(let c=0;c<u.length;++c){const d=u[c];We(r).call(r,u)!==-1||We(n).call(n,u)!==-1||r.push(d)}n.push(a)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,r,n,i,s){const o=Cr.cloneOptions(n,"edge");et(o,i),o.from=e,o.to=r,o.id="clusterEdge:"+yc(),s!==void 0&&et(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,r,n,i){if(r instanceof Ks){const s=r,o={};o[s.id]=s,r=o}if(e instanceof ot){const s=e,o={};o[s.id]=s,e=o}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Ne(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Ne(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Ne(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Ne(l.containedEdges,(u,c)=>{!u.endPointsValid()&&!n[c]&&(n[c]=c)})}),Ne(this.body.edges,(l,u)=>{let c=!0;const d=l.clusteringEdgeReplacingIds;if(d!==void 0){let f=0;Ne(d,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),c=f>0}(!l.endPointsValid()||!c)&&(n[u]=u)}),i(l=>{Ne(n,u=>{delete l.containedEdges[u],Ne(l.edges,(c,d)=>{if(c.id===u){l.edges[d]=null;return}c.clusteringEdgeReplacingIds=this._filter(c.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(c){return c!==null})})}),Ne(n,l=>{delete this.clusteredEdges[l]}),Ne(n,l=>{delete this.body.edges[l]});const s=wt(this.body.edges);Ne(s,l=>{const u=this.body.edges[l],c=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(c!==this._isClusteredEdge(u.id))if(c){const d=this._getClusterNodeForNode(u.fromId);d!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,d);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let o=!1,a=!0;for(;a;){const l=[];i(function(u){const c=wt(u.containedNodes).length,d=u.options.allowSingleNodeCluster===!0;(d&&c<1||!d&&c<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);a=l.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Fye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},jt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Li(()=>{var r;this.zooming=!1,X(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",X(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Nu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(X(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(n,e);r.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),d={top:u.y,left:u.x,bottom:c.y,right:c.x},f=[];for(let w=0;w<i.length;w++)if(s=n[i[w]],s.hover)a.push(i[w]);else if(s.isSelected())o.push(i[w]);else if(r===!0){const y=s.draw(e);y.drawExternalLabel!=null&&f.push(y.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(d)===!0){const y=s.draw(e);y.drawExternalLabel!=null&&f.push(y.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=o.length,g=a.length;for(p=0;p<m;p++){s=n[o[p]];const w=s.draw(e);w.drawExternalLabel!=null&&f.push(w.drawExternalLabel)}for(p=0;p<g;p++){s=n[a[p]];const w=s.draw(e);w.drawExternalLabel!=null&&f.push(w.drawExternalLabel)}return{drawExternalLabels:()=>{for(const w of f)w()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var yE,JU;function Lye(){if(JU)return yE;JU=1,nG();var t=Ke();return yE=t.setInterval,yE}var gE,ZU;function Bye(){return ZU||(ZU=1,gE=Lye()),gE}var zye=Bye(),Uye=Se(zye);function Gf(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function ZG(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Wye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},jt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",X(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Nu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Uye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=X(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Qe(e=zo(r=Fi(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(We(e).call(e,"%")!==-1||We(e).call(e,"px")!==-1)return e;if(We(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new fl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:fl.DIRECTION_ALL}),Gf(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new fl(this.frame),ZG(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Hye(t,e){const r=jt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!St(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Vye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",X(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",X(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Hye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(n===0||i===0)o=1,s=Cr.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Cr.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const d=Math.min(n/600,i/600);o*=d}else{this.body.emitter.emit("_resizeNodes"),s=Cr.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,c=Math.abs(s.maxY-s.minY)*1.1,d=n/u,f=i/c;o=d<=f?d:f}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const l={position:Cr.findCenter(s),scale:o,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!To(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!To(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!To(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!To(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=X(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=X(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=epe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=X(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function eW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(c){u(c,"keydown")},l=function(c){u(c,"keyup")},u=function(c,d){if(i[d][c.keyCode]!==void 0){for(var f=i[d][c.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&c.shiftKey==!0||f[p].shift==!1&&c.shiftKey==!1)&&f[p].fn(c);e==!0&&c.preventDefault()}};return n.bind=function(c,d,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);i[f][s[c].code]===void 0&&(i[f][s[c].code]=[]),i[f][s[c].code].push({fn:d,shift:s[c].shift})},n.bindAll=function(c,d){d===void 0&&(d="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,c,d)},n.getKey=function(c){for(var d in s)if(s.hasOwnProperty(d)){if(c.shiftKey==!0&&s[d].shift==!0&&c.keyCode==s[d].code)return d;if(c.shiftKey==!1&&s[d].shift==!1&&c.keyCode==s[d].code)return d;if(c.keyCode==s[d].code&&d=="shift")return d}return"unknown key, currently not supported"},n.unbind=function(c,d,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);if(d!==void 0){var p=[],m=i[f][s[c].code];if(m!==void 0)for(var g=0;g<m.length;g++)m[g].fn==d&&m[g].shift==s[c].shift||p.push(i[f][s[c].code][g]);i[f][s[c].code]=p}else i[f][s[c].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),n}class Kye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new fl(this.navigationDOM[e[o]]);if(r[o]==="_fit"){var n;Gf(a,X(n=this._fit).call(n,this))}else{var i;Gf(a,X(i=this.bindToRedraw).call(i,this,r[o]))}this.navigationHammers.push(a)}const s=new fl(this.canvas.frame);ZG(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=X(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=eW({container:window,preventDefault:!0}):this.keycharm=eW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,o,a,l,u,c,d,f,p,m,g,w,y,v,_,b,x,E,T,S;X(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),X(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),X(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),X(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),X(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(d=this.keycharm).call(d,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),X(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),X(g=this.keycharm).call(g,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),X(w=this.keycharm).call(w,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),X(y=this.keycharm).call(y,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(_=this.keycharm).call(_,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),X(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),X(x=this.keycharm).call(x,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),X(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(T=this.keycharm).call(T,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Gye{constructor(e,r,n){var i,s,o,a,l,u,c,d,f,p,m,g,w;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Kye(e,r),this.body.eventListeners.onTap=X(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=X(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=X(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=X(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=X(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=X(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=X(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=X(d=this.onMouseWheel).call(d,this),this.body.eventListeners.onPinch=X(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=X(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=X(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=X(g=this.onContext).call(g,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=X(w=this.getPointer).call(w,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},jt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Hf(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),wn(this.options,e,"keyboard"),e.tooltip&&(jt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=YP(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Qfe(this.canvas.frame.canvas),y:e.y-Xfe(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const o=[];for(let a=0;a<i.length;a++){const l=i[a];We(s).call(s,l)===-1&&o.push(l)}return o};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=jt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Qe(n).call(n,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Ur(r=this.body.nodeIndices).call(r,a=>{const l=this.body.nodes[a];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Qe(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Qe(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/n,a=(1-o)*r.x+s.x*o,l=(1-o)*r.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Li(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let c;const d=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&(o=!0,c.getTitle()!==void 0&&d.push(l[f]));d.length>0&&(this.popupObj=u[d[d.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const l=this.body.edgeIndices,u=this.body.edges;let c;const d=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&c.connected===!0&&c.getTitle()!==void 0&&d.push(l[f]);d.length>0&&(this.popupObj=u[d[d.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new lpe(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var tW={},rW={},nW;function Yye(){if(nW)return rW;nW=1;var t=vI(),e=zG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),rW}var iW;function Qye(){return iW||(iW=1,Yye()),tW}var sW={},bE,oW;function Ca(){if(oW)return bE;oW=1;var t=bu(),e=TypeError;return bE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},bE}var wE,aW;function Ia(){if(aW)return wE;aW=1;var t=pn(),e=UG(),r=t("Set"),n=r.prototype;return wE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},wE}var _E,lW;function Ra(){if(lW)return _E;lW=1;var t=tn();return _E=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},_E}var xE,uW;function Zd(){if(uW)return xE;uW=1;var t=Ra();return xE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},xE}var SE,cW;function SI(){if(cW)return SE;cW=1;var t=Ia(),e=Zd(),r=t.Set,n=t.add;return SE=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},SE}var EE,dW;function eh(){return dW||(dW=1,EE=function(t){return t.size}),EE}var OE,hW;function Xye(){return hW||(hW=1,OE=function(t){return{iterator:t,next:t.next,done:!1}}),OE}var PE,fW;function Na(){if(fW)return PE;fW=1;var t=ss(),e=xi(),r=tn(),n=Su(),i=Xye(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(c,d){this.set=c,this.size=l(d,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},PE=function(c){e(c);var d=+c.size;if(d!==d)throw new a(s);var f=n(d);if(f<0)throw new o(s);return new u(c,f)},PE}var TE,pW;function Jye(){if(pW)return TE;pW=1;var t=Ca(),e=Ia(),r=SI(),n=eh(),i=Na(),s=Zd(),o=Ra(),a=e.has,l=e.remove;return TE=function(c){var d=t(this),f=i(c),p=r(d);return n(d)<=f.size?s(d,function(m){f.includes(m)&&l(p,m)}):o(f.getIterator(),function(m){a(p,m)&&l(p,m)}),p},TE}var CE,mW;function $a(){return mW||(mW=1,CE=function(){return!1}),CE}var vW;function Zye(){if(vW)return sW;vW=1;var t=ge(),e=Jye(),r=Me(),n=$a(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),sW}var yW={},IE,gW;function ege(){if(gW)return IE;gW=1;var t=Ca(),e=Ia(),r=eh(),n=Na(),i=Zd(),s=Ra(),o=e.Set,a=e.add,l=e.has;return IE=function(c){var d=t(this),f=n(c),p=new o;return r(d)>f.size?s(f.getIterator(),function(m){l(d,m)&&a(p,m)}):i(d,function(m){f.includes(m)&&a(p,m)}),p},IE}var bW;function tge(){if(bW)return yW;bW=1;var t=ge(),e=Me(),r=ege(),n=$a(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),yW}var wW={},RE,_W;function rge(){if(_W)return RE;_W=1;var t=Ca(),e=Ia().has,r=eh(),n=Na(),i=Zd(),s=Ra(),o=pI();return RE=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var d=c.getIterator();return s(d,function(f){if(e(u,f))return o(d,"normal",!1)})!==!1},RE}var xW;function nge(){if(xW)return wW;xW=1;var t=ge(),e=rge(),r=$a(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),wW}var SW={},NE,EW;function ige(){if(EW)return NE;EW=1;var t=Ca(),e=eh(),r=Zd(),n=Na();return NE=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},NE}var OW;function sge(){if(OW)return SW;OW=1;var t=ge(),e=ige(),r=$a(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),SW}var PW={},$E,TW;function oge(){if(TW)return $E;TW=1;var t=Ca(),e=Ia().has,r=eh(),n=Na(),i=Ra(),s=pI();return $E=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(d){if(!e(l,d))return s(c,"normal",!1)})!==!1},$E}var CW;function age(){if(CW)return PW;CW=1;var t=ge(),e=oge(),r=$a(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),PW}var IW={},jE,RW;function lge(){if(RW)return jE;RW=1;var t=Ca(),e=Ia(),r=SI(),n=Na(),i=Ra(),s=e.add,o=e.has,a=e.remove;return jE=function(u){var c=t(this),d=n(u).getIterator(),f=r(c);return i(d,function(p){o(c,p)?a(f,p):s(f,p)}),f},jE}var kE,NW;function eY(){return NW||(NW=1,kE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),kE}var $W;function uge(){if($W)return IW;$W=1;var t=ge(),e=lge(),r=eY(),n=$a(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),IW}var jW={},DE,kW;function cge(){if(kW)return DE;kW=1;var t=Ca(),e=Ia().add,r=SI(),n=Na(),i=Ra();return DE=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(c){e(u,c)}),u},DE}var DW;function dge(){if(DW)return jW;DW=1;var t=ge(),e=cge(),r=eY(),n=$a(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),jW}var qE,qW;function hge(){if(qW)return qE;qW=1,Tu(),Qye(),Zye(),tge(),nge(),sge(),age(),uge(),dge(),gI();var t=Ke();return qE=t.Set,qE}var ME,MW;function fge(){if(MW)return ME;MW=1;var t=hge();return Cu(),ME=t,ME}var AE,AW;function pge(){return AW||(AW=1,AE=fge()),AE}var mge=pge(),ys=Se(mge),FW={},LW={},FE,BW;function vge(){if(BW)return FE;BW=1;var t=Fe(),e=yI(),r=em().getWeakData,n=mI(),i=xi(),s=vu(),o=tr(),a=tm(),l=uo(),u=cr(),c=Oa(),d=c.set,f=c.getterFor,p=l.find,m=l.findIndex,g=t([].splice),w=0,y=function(b){return b.frozen||(b.frozen=new v)},v=function(){this.entries=[]},_=function(b,x){return p(b.entries,function(E){return E[0]===x})};return v.prototype={get:function(b){var x=_(this,b);if(x)return x[1]},has:function(b){return!!_(this,b)},set:function(b,x){var E=_(this,b);E?E[1]=x:this.entries.push([b,x])},delete:function(b){var x=m(this.entries,function(E){return E[0]===b});return~x&&g(this.entries,x,1),!!~x}},FE={getConstructor:function(b,x,E,T){var S=b(function(C,R){n(C,O),d(C,{type:x,id:w++,frozen:null}),s(R)||a(R,C[T],{that:C,AS_ENTRIES:E})}),O=S.prototype,P=f(x),I=function(C,R,q){var B=P(C),J=r(i(R),!0);return J===!0?y(B).set(R,q):J[B.id]=q,C};return e(O,{delete:function(C){var R=P(this);if(!o(C))return!1;var q=r(C);return q===!0?y(R).delete(C):q&&u(q,R.id)&&delete q[R.id]},has:function(R){var q=P(this);if(!o(R))return!1;var B=r(R);return B===!0?y(q).has(R):B&&u(B,q.id)}}),e(O,E?{get:function(R){var q=P(this);if(o(R)){var B=r(R);if(B===!0)return y(q).get(R);if(B)return B[q.id]}},set:function(R,q){return I(this,R,q)}}:{add:function(R){return I(this,R,!0)}}),S}},FE}var zW;function yge(){if(zW)return LW;zW=1;var t=LG(),e=lt(),r=Fe(),n=yI(),i=em(),s=vI(),o=vge(),a=tr(),l=Oa().enforce,u=Me(),c=z9(),d=Object,f=Array.isArray,p=d.isExtensible,m=d.isFrozen,g=d.isSealed,w=d.freeze,y=d.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,_,b=function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},x=s("WeakMap",b,o),E=x.prototype,T=r(E.set),S=function(){return t&&u(function(){var C=w([]);return T(new x,C,1),!m(C)})};if(c)if(v){_=o.getConstructor(b,"WeakMap",!0),i.enable();var O=r(E.delete),P=r(E.has),I=r(E.get);n(E,{delete:function(C){if(a(C)&&!p(C)){var R=l(this);return R.frozen||(R.frozen=new _),O(this,C)||R.frozen.delete(C)}return O(this,C)},has:function(R){if(a(R)&&!p(R)){var q=l(this);return q.frozen||(q.frozen=new _),P(this,R)||q.frozen.has(R)}return P(this,R)},get:function(R){if(a(R)&&!p(R)){var q=l(this);return q.frozen||(q.frozen=new _),P(this,R)?I(this,R):q.frozen.get(R)}return I(this,R)},set:function(R,q){if(a(R)&&!p(R)){var B=l(this);B.frozen||(B.frozen=new _),P(this,R)?T(this,R,q):B.frozen.set(R,q)}else T(this,R,q);return this}})}else S()&&n(E,{set:function(R,q){var B;return f(R)&&(m(R)?B=w:g(R)&&(B=y)),T(this,R,q),B&&B(R),this}});return LW}var UW;function gge(){return UW||(UW=1,yge()),FW}var LE,WW;function bge(){if(WW)return LE;WW=1,Tu(),gge();var t=Ke();return LE=t.WeakMap,LE}var BE,HW;function wge(){if(HW)return BE;HW=1;var t=bge();return Cu(),BE=t,BE}var zE,VW;function _ge(){return VW||(VW=1,zE=wge()),zE}var xge=_ge(),th=Se(xge);function gc(t,e,r){Sge(t,e),e.set(t,r)}function Sge(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function tT(t,e,r){return t.set(tY(t,e),r),r}function Ze(t,e){return t.get(tY(t,e))}function tY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function KW(t,e){const r=new ys;for(const n of e)t.has(n)||r.add(n);return r}var Fa=new th,Mn=new th;class GW{constructor(){gc(this,Fa,new ys),gc(this,Mn,new ys)}get size(){return Ze(Mn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(Mn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(Mn,this).delete(i)}clear(){Ze(Mn,this).clear()}getSelection(){return[...Ze(Mn,this)]}getChanges(){return{added:[...KW(Ze(Fa,this),Ze(Mn,this))],deleted:[...KW(Ze(Mn,this),Ze(Fa,this))],previous:[...new ys(Ze(Fa,this))],current:[...new ys(Ze(Mn,this))]}}commit(){const e=this.getChanges();tT(Fa,this,Ze(Mn,this)),tT(Mn,this,new ys(Ze(Fa,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var fo=new th,po=new th,UE=new th;class Ege{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};gc(this,fo,new GW),gc(this,po,new GW),gc(this,UE,void 0),tT(UE,this,e)}get sizeNodes(){return Ze(fo,this).size}get sizeEdges(){return Ze(po,this).size}getNodes(){return Ze(fo,this).getSelection()}getEdges(){return Ze(po,this).getSelection()}addNodes(){Ze(fo,this).add(...arguments)}addEdges(){Ze(po,this).add(...arguments)}deleteNodes(e){Ze(fo,this).delete(e)}deleteEdges(e){Ze(po,this).delete(e)}clear(){Ze(fo,this).clear(),Ze(po,this).clear()}commit(){const e={nodes:Ze(fo,this).commit(),edges:Ze(po,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ze(UE,this).call(this,e,...n),e}}class Oge{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Ege,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},jt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Nu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(r,n);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(o.controlEdge=r.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof ot?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],u=o[l];if(u.connected){const c=u.from.x,d=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(c,d,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof ot?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof ot?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof ot?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof ot?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof ot&&n.id!=s||n instanceof Ks)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Ks&&n.id!=s||n instanceof ot&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=wt(this.hoverObj.edges).length,o=wt(this.hoverObj.nodes).length,a=n instanceof Ks&&s===0&&o===0,l=n instanceof ot&&s===0&&o===0;(i||a||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof ot&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Hl(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Hl(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const c=s[i[l]].getItemsOnPoint(r);n.push.apply(n,c)}const o=this.body.edgeIndices,a=this.body.edges;for(let l=o.length-1;l>=0;l--){const c=a[o[l]].getItemsOnPoint(r);n.push.apply(n,c)}return n}}var YW={},WE,QW;function Pge(){if(QW)return WE;QW=1;var t=Eu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),c=r(t(n,0,u),i),d=r(t(n,u),i),f=c.length,p=d.length,m=0,g=0;m<f||g<p;)n[m+g]=m<f&&g<p?i(c[m],d[g])<=0?c[m++]:d[g++]:m<f?c[m++]:d[g++];return n};return WE=r,WE}var HE,XW;function Tge(){if(XW)return HE;XW=1;var t=yu(),e=t.match(/firefox\/(\d+)/i);return HE=!!e&&+e[1],HE}var VE,JW;function Cge(){if(JW)return VE;JW=1;var t=yu();return VE=/MSIE|Trident/.test(t),VE}var KE,ZW;function Ige(){if(ZW)return KE;ZW=1;var t=yu(),e=t.match(/AppleWebKit\/(\d+)\./);return KE=!!e&&+e[1],KE}var eH;function Rge(){if(eH)return YW;eH=1;var t=ge(),e=Fe(),r=ss(),n=mn(),i=os(),s=Z9(),o=kn(),a=Me(),l=Pge(),u=Iu(),c=Tge(),d=Cge(),f=Fd(),p=Ige(),m=[],g=e(m.sort),w=e(m.push),y=a(function(){m.sort(void 0)}),v=a(function(){m.sort(null)}),_=u("sort"),b=!a(function(){if(f)return f<70;if(!(c&&c>3)){if(d)return!0;if(p)return p<603;var T="",S,O,P,I;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(I=0;I<47;I++)m.push({k:O+I,v:P})}for(m.sort(function(C,R){return R.v-C.v}),I=0;I<m.length;I++)O=m[I].k.charAt(0),T.charAt(T.length-1)!==O&&(T+=O);return T!=="DGBEFHACIJK"}}),x=y||!v||!_||!b,E=function(T){return function(S,O){return O===void 0?-1:S===void 0?1:T!==void 0?+T(S,O)||0:o(S)>o(O)?1:-1}};return t({target:"Array",proto:!0,forced:x},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(b)return S===void 0?g(O):g(O,S);var P=[],I=i(O),C,R;for(R=0;R<I;R++)R in O&&w(P,O[R]);for(l(P,E(S)),C=i(P),R=0;R<C;)O[R]=P[R++];for(;R<I;)s(O,R++);return O}}),YW}var GE,tH;function Nge(){if(tH)return GE;tH=1,Rge();var t=dr();return GE=t("Array","sort"),GE}var YE,rH;function $ge(){if(rH)return YE;rH=1;var t=Mt(),e=Nge(),r=Array.prototype;return YE=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},YE}var QE,nH;function jge(){if(nH)return QE;nH=1;var t=$ge();return QE=t,QE}var XE,iH;function kge(){return iH||(iH=1,XE=jge()),XE}var Dge=kge(),ml=Se(Dge),sH={},JE,oH;function qge(){if(oH)return JE;oH=1;var t=ss(),e=mn(),r=Lp(),n=os(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,c,d){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var g=a?m-1:0,w=a?-1:1;if(c<2)for(;;){if(g in p){d=p[g],g+=w;break}if(g+=w,a?g<0:m<=g)throw new i(s)}for(;a?g>=0:m>g;g+=w)g in p&&(d=u(d,p[g],g,f));return d}};return JE={left:o(!1),right:o(!0)},JE}var ZE,aH;function Mge(){if(aH)return ZE;aH=1;var t=tG();return ZE=t==="NODE",ZE}var lH;function Age(){if(lH)return sH;lH=1;var t=ge(),e=qge().left,r=Iu(),n=Fd(),i=Mge(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),sH}var eO,uH;function Fge(){if(uH)return eO;uH=1,Age();var t=dr();return eO=t("Array","reduce"),eO}var tO,cH;function Lge(){if(cH)return tO;cH=1;var t=Mt(),e=Fge(),r=Array.prototype;return tO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},tO}var rO,dH;function Bge(){if(dH)return rO;dH=1;var t=Lge();return rO=t,rO}var nO,hH;function zge(){return hH||(hH=1,nO=Bge()),nO}var Uge=zge(),rY=Se(Uge);class nY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class Wge extends nY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){ml(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class Hge extends nY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){ml(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var fH={},pH;function Vge(){if(pH)return fH;pH=1;var t=ge(),e=uo().every,r=Iu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),fH}var iO,mH;function Kge(){if(mH)return iO;mH=1,Vge();var t=dr();return iO=t("Array","every"),iO}var sO,vH;function Gge(){if(vH)return sO;vH=1;var t=Mt(),e=Kge(),r=Array.prototype;return sO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},sO}var oO,yH;function Yge(){if(yH)return oO;yH=1;var t=Gge();return oO=t,oO}var aO,gH;function Qge(){return gH||(gH=1,aO=Yge()),aO}var Xge=Qge(),iY=Se(Xge);function Jge(t,e){const r=new ys;return Qe(t).call(t,n=>{var i;Qe(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Qe(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function Zge(t){return sY(e=>{var r,n;return iY(r=Ur(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function ebe(t){return sY(e=>{var r,n;return iY(r=Ur(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function sY(t,e,r,n){var i;const s=Uo(null),o=rY(i=[...YG(n).call(n)]).call(i,(d,f)=>d+1+f.edges.length,0),a=r+"Id",l=r==="to"?1:-1;for(const[d,f]of n){if(!n.has(d)||!t(f))continue;s[d]=0;const p=[f];let m=0,g;for(;g=p.pop();){var u,c;if(!n.has(d))continue;const w=s[g.id]+l;if(Qe(u=Ur(c=g.edges).call(c,y=>y.connected&&y.to!==y.from&&y[r]!==g&&n.has(y.toId)&&n.has(y.fromId))).call(u,y=>{const v=y[a],_=s[v];(_==null||e(w,_))&&(s[v]=w,p.push(y[r]))}),m>o)return Jge(n,s);++m}}return s}class tbe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,n(o[a]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new bI;let n=0;const i=ml(e=[...new ys(vhe(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===r){const l=e[a];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),o=Math.max(l.y,o)}return{min_x:n,max_x:i,min_y:s,max_y:o}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let o=0;o<i.length;o++)if(n[s]==i[o])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return wt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class rbe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Bf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},jt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Nu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),wn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),et(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Zp(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const c=e.length;if(u==c&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*a,u.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Cr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Cr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new tbe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const y=o();let v=0;for(let _=0;_<y.length-1;_++){const b=y[_].max-y[_+1].min;v+=b+this.options.hierarchical.treeSpacing,s(_+1,v)}},s=(y,v)=>{const _=this.hierarchical.trees;for(const b in _)Object.prototype.hasOwnProperty.call(_,b)&&_[b]===y&&this.direction.shift(b,v)},o=()=>{const y=[];for(let v=0;v<this.hierarchical.numTrees();v++)y.push(this.direction.getTreeSize(v));return y},a=(y,v)=>{if(!v[y.id]&&(v[y.id]=!0,this.hierarchical.childrenReference[y.id])){const _=this.hierarchical.childrenReference[y.id];if(_.length>0)for(let b=0;b<_.length;b++)a(this.body.nodes[_[b]],v)}},l=function(y){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,_=1e9,b=1e9,x=1e9,E=-1e9;for(const T in y)if(Object.prototype.hasOwnProperty.call(y,T)){const S=e.body.nodes[T],O=e.hierarchical.levels[S.id],P=e.direction.getPosition(S),[I,C]=e._getSpaceAroundNode(S,y);_=Math.min(I,_),b=Math.min(C,b),O<=v&&(x=Math.min(P,x),E=Math.max(P,E))}return[x,E,_,b]},u=(y,v)=>{const _=this.hierarchical.getMaxLevel(y.id),b=this.hierarchical.getMaxLevel(v.id);return Math.min(_,b)},c=(y,v,_)=>{const b=this.hierarchical;for(let x=0;x<v.length;x++){const E=v[x],T=b.distributionOrdering[E];if(T.length>1)for(let S=0;S<T.length-1;S++){const O=T[S],P=T[S+1];b.hasSameParent(O,P)&&b.inSameSubNetwork(O,P)&&y(O,P,_)}}},d=function(y,v){let _=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(y),x=e.direction.getPosition(v),E=Math.abs(x-b),T=e.options.hierarchical.nodeSpacing;if(E>T){const S={},O={};a(y,S),a(v,O);const P=u(y,v),I=l(S,P),C=l(O,P),R=I[1],q=C[0],B=C[2];if(Math.abs(R-q)>T){let Q=R-q+T;Q<-B+T&&(Q=-B+T),Q<0&&(e._shiftBlock(v.id,Q),r=!0,_===!0&&e._centerParent(v))}}},f=(y,v)=>{const _=v.id,b=v.edges,x=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,T={},S=[];for(let B=0;B<b.length;B++){const J=b[B];if(J.toId!=J.fromId){const Q=J.toId==_?J.from:J.to;T[b[B].id]=Q,this.hierarchical.levels[Q.id]<x&&S.push(J)}}const O=(B,J)=>{let Q=0;for(let L=0;L<J.length;L++)if(T[J[L].id]!==void 0){const V=this.direction.getPosition(T[J[L].id])-B;Q+=V/Math.sqrt(V*V+E)}return Q},P=(B,J)=>{let Q=0;for(let L=0;L<J.length;L++)if(T[J[L].id]!==void 0){const V=this.direction.getPosition(T[J[L].id])-B;Q-=E*Math.pow(V*V+E,-1.5)}return Q},I=(B,J)=>{let Q=this.direction.getPosition(v);const L={};for(let V=0;V<B;V++){const U=O(Q,J),z=P(Q,J),Z=40,he=Math.max(-Z,Math.min(Z,Math.round(U/z)));if(Q=Q-he,L[Q]!==void 0)break;L[Q]=V}return Q},C=B=>{const J=this.direction.getPosition(v);if(n[v.id]===void 0){const Z={};a(v,Z),n[v.id]=Z}const Q=l(n[v.id]),L=Q[2],V=Q[3],U=B-J;let z=0;U>0?z=Math.min(U,V-this.options.hierarchical.nodeSpacing):U<0&&(z=-Math.min(-U,L-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(v.id,z),r=!0)},R=B=>{const J=this.direction.getPosition(v),[Q,L]=this._getSpaceAroundNode(v),V=B-J;let U=J;V>0?U=Math.min(J+(L-this.options.hierarchical.nodeSpacing),B):V<0&&(U=Math.max(J-(Q-this.options.hierarchical.nodeSpacing),B)),U!==J&&(this.direction.setPosition(v,U),r=!0)};let q=I(y,S);C(q),q=I(y,b),R(q)},p=y=>{let v=this.hierarchical.getLevels();v=zo(v).call(v);for(let _=0;_<y;_++){r=!1;for(let b=0;b<v.length;b++){const x=v[b],E=this.hierarchical.distributionOrdering[x];for(let T=0;T<E.length;T++)f(1e3,E[T])}if(r!==!0)break}},m=y=>{let v=this.hierarchical.getLevels();v=zo(v).call(v);for(let _=0;_<y&&(r=!1,c(d,v,!0),r===!0);_++);},g=()=>{for(const y in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,y)&&this._centerParent(this.body.nodes[y])},w=()=>{let y=this.hierarchical.getLevels();y=zo(y).call(y);for(let v=0;v<y.length;v++){const _=y[v],b=this.hierarchical.distributionOrdering[_];for(let x=0;x<b.length;x++)this._centerParent(b[x])}};this.options.hierarchical.blockShifting===!0&&(m(5),g()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&w(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const c=a[s-1];if(n===!0&&r[c.id]===void 0||n===!1){const d=this.direction.getPosition(c);l=o-d}}if(s!=a.length-1){const c=a[s+1];if(n===!0&&r[c.id]===void 0||n===!1){const d=this.direction.getPosition(c);u=Math.min(u,d-o)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),l=this.direction.getPosition(s),[u,c]=this._getSpaceAroundNode(s),d=l-a;(d<0&&Math.abs(d)<c-this.options.hierarchical.nodeSpacing||d>0&&Math.abs(d)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=wt(e[n]);i=this._indexArrayToNodes(i),ml(r=this.direction).call(r,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[o-1])+l),this.direction.setPosition(a,u,n),this._validatePositionAndContinue(a,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);ml(n=this.direction).call(n,s);for(let a=0;a<s.length;a++){const l=s[a],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const c=this.options.hierarchical.nodeSpacing;let d;a===0?d=this.direction.getPosition(this.body.nodes[e]):d=this.direction.getPosition(s[a-1])+c,this.direction.setPosition(l,d,u),this._validatePositionAndContinue(l,u,d)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Ne(e.edges,n=>{var i;We(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Ne(r,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const n=[];return Ne(e,i=>{n.push(Number(i))}),ml(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Ne(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,o){},n=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const l=r(Cr.cloneOptions(i,"node"),Cr.cloneOptions(s,"node"),Cr.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=rY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new bI);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=ebe(r):this.hierarchical.levels=Zge(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,o)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),n[s.id]=!0;let a;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const c=l[u];c.connected===!0&&(c.toId==s.id?a=c.from:a=c.to,s.id!=a.id&&(e(s,a,c),i(a,o)))}}};if(r===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(n[a]===void 0){const l=this.body.nodes[a];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,r){const n={},i=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];o[c]=!0,i(o,c)}},s=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];if(o[c]!==void 0)return{foundParent:c,withChild:a};const d=s(o,c);if(d.foundParent!==null)return d}return{foundParent:null,withChild:a}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new Wge(this):this.direction=new Hge(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);r=Math.min(r,o),n=Math.max(n,o)}return .5*(r+n)}}class nbe{constructor(e,r,n,i){var s,o;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},jt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",X(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",X(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,et(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&n===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(n>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,X(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",X(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,X(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",X(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=et({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,X(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",X(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",X(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",X(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",X(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",X(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,X(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",X(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",X(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",X(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",X(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const c=o.edgeType.findBorderPositions(u);a.selected===!1&&(a.x=c.from.x,a.y=c.from.y),l.selected===!1&&(l.x=c.to.x,l.y=c.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=et({},this.options.controlNodeStyle);n.id="targetNode"+yc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},fs(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,X(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(fs(this.editModeDiv),fs(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Fi(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),fs(this.manipulationDiv),fs(this.editModeDiv),fs(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,X(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Vd(wt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new fl(e,{});Gf(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=We(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var r;Fi(r=this.body.edgeIndices).call(r,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=We(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(o!==-1){var i;Fi(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=jt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=n.isOverlappingWith(r),a=i.isOverlappingWith(r);o===!0?(this.selectedControlNode=n,s.edgeType.from=n):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=jt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+yc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(We(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(We(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:yc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ie="string",Y="boolean",A="number",ec="array",pe="object",oY="dom",ibe="any",lO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],uO={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:ie,undefined:"undefined"},chosen:{label:{boolean:Y,function:"function"},node:{boolean:Y,function:"function"},__type__:{object:pe,boolean:Y}},color:{border:{string:ie},background:{string:ie},highlight:{border:{string:ie},background:{string:ie},__type__:{object:pe,string:ie}},hover:{border:{string:ie},background:{string:ie},__type__:{object:pe,string:ie}},__type__:{object:pe,string:ie}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:Y},y:{boolean:Y},__type__:{object:pe,boolean:Y}},font:{align:{string:ie},color:{string:ie},size:{number:A},face:{string:ie},background:{string:ie},strokeWidth:{number:A},strokeColor:{string:ie},vadjust:{number:A},multi:{boolean:Y,string:ie},bold:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},boldital:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},ital:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},mono:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},__type__:{object:pe,string:ie}},group:{string:ie,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:ie},__type__:{object:pe,boolean:Y,number:A}},hidden:{boolean:Y},icon:{face:{string:ie},code:{string:ie},size:{number:A},color:{string:ie},weight:{string:ie,number:A},__type__:{object:pe}},id:{string:ie,number:A},image:{selected:{string:ie,undefined:"undefined"},unselected:{string:ie,undefined:"undefined"},__type__:{object:pe,string:ie}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:pe,number:A}},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:Y},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:pe,number:A}},mass:{number:A},physics:{boolean:Y},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Y},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:pe,boolean:Y}},customScalingFunction:{function:"function"},__type__:{object:pe}},shadow:{enabled:{boolean:Y},color:{string:ie},size:{number:A},x:{number:A},y:{number:A},__type__:{object:pe,boolean:Y}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Y,array:ec},borderRadius:{number:A},interpolation:{boolean:Y},useImageSize:{boolean:Y},useBorderWithImage:{boolean:Y},coordinateOrigin:{string:["center","top-left"]},__type__:{object:pe}},size:{number:A},title:{string:ie,dom:oY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:pe,boolean:Y,number:A}},x:{number:A},y:{number:A},__type__:{object:pe}},sbe={configure:{enabled:{boolean:Y},filter:{boolean:Y,string:ie,array:ec,function:"function"},container:{dom:oY},showButton:{boolean:Y},__type__:{object:pe,boolean:Y,string:ie,array:ec,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Y},scaleFactor:{number:A},type:{string:lO},imageHeight:{number:A},imageWidth:{number:A},src:{string:ie},__type__:{object:pe,boolean:Y}},middle:{enabled:{boolean:Y},scaleFactor:{number:A},type:{string:lO},imageWidth:{number:A},imageHeight:{number:A},src:{string:ie},__type__:{object:pe,boolean:Y}},from:{enabled:{boolean:Y},scaleFactor:{number:A},type:{string:lO},imageWidth:{number:A},imageHeight:{number:A},src:{string:ie},__type__:{object:pe,boolean:Y}},__type__:{string:["from","to","middle"],object:pe}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:pe,number:A}},arrowStrikethrough:{boolean:Y},background:{enabled:{boolean:Y},color:{string:ie},size:{number:A},dashes:{boolean:Y,array:ec},__type__:{object:pe,boolean:Y}},chosen:{label:{boolean:Y,function:"function"},edge:{boolean:Y,function:"function"},__type__:{object:pe,boolean:Y}},color:{color:{string:ie},highlight:{string:ie},hover:{string:ie},inherit:{string:["from","to","both"],boolean:Y},opacity:{number:A},__type__:{object:pe,string:ie}},dashes:{boolean:Y,array:ec},font:{color:{string:ie},size:{number:A},face:{string:ie},background:{string:ie},strokeWidth:{number:A},strokeColor:{string:ie},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:Y,string:ie},bold:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},boldital:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},ital:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},mono:{color:{string:ie},size:{number:A},face:{string:ie},mod:{string:ie},vadjust:{number:A},__type__:{object:pe,string:ie}},__type__:{object:pe,string:ie}},hidden:{boolean:Y},hoverWidth:{function:"function",number:A},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:Y},length:{number:A,undefined:"undefined"},physics:{boolean:Y},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Y},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:pe,boolean:Y}},customScalingFunction:{function:"function"},__type__:{object:pe}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:Y},__type__:{object:pe}},shadow:{enabled:{boolean:Y},color:{string:ie},size:{number:A},x:{number:A},y:{number:A},__type__:{object:pe,boolean:Y}},smooth:{enabled:{boolean:Y},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:Y},__type__:{object:pe,boolean:Y}},title:{string:ie,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:pe,boolean:Y,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:pe}},groups:{useDefaultGroups:{boolean:Y},__any__:uO,__type__:{object:pe}},interaction:{dragNodes:{boolean:Y},dragView:{boolean:Y},hideEdgesOnDrag:{boolean:Y},hideEdgesOnZoom:{boolean:Y},hideNodesOnDrag:{boolean:Y},hover:{boolean:Y},keyboard:{enabled:{boolean:Y},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:pe}},bindToWindow:{boolean:Y},autoFocus:{boolean:Y},__type__:{object:pe,boolean:Y}},multiselect:{boolean:Y},navigationButtons:{boolean:Y},selectable:{boolean:Y},selectConnectedEdges:{boolean:Y},hoverConnectedEdges:{boolean:Y},tooltipDelay:{number:A},zoomView:{boolean:Y},zoomSpeed:{number:A},__type__:{object:pe}},layout:{randomSeed:{undefined:"undefined",number:A,string:ie},improvedLayout:{boolean:Y},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:Y},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:Y},edgeMinimization:{boolean:Y},parentCentralization:{boolean:Y},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:pe,boolean:Y}},__type__:{object:pe}},manipulation:{enabled:{boolean:Y},initiallyActive:{boolean:Y},addNode:{boolean:Y,function:"function"},addEdge:{boolean:Y,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:pe,boolean:Y,function:"function"}},deleteNode:{boolean:Y,function:"function"},deleteEdge:{boolean:Y,function:"function"},controlNodeStyle:uO,__type__:{object:pe,boolean:Y}},nodes:uO,physics:{enabled:{boolean:Y},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:pe}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Y},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:Y},fit:{boolean:Y},__type__:{object:pe,boolean:Y}},timestep:{number:A},adaptiveTimestep:{boolean:Y},wind:{x:{number:A},y:{number:A},__type__:{object:pe}},__type__:{object:pe,boolean:Y}},autoResize:{boolean:Y},clickToUse:{boolean:Y},locale:{string:ie},locales:{__any__:{any:ibe},__type__:{object:pe}},height:{string:ie},width:{string:ie},__type__:{object:pe}},aY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},obe=(t,e,r)=>{var n;return!!(Ws(t).call(t,"physics")&&Ws(n=aY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class abe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let a=0;a<r.length;a++){const l=r[a],u={};i[l]=u;for(let c=0;c<r.length;c++)u[r[c]]=a==c?0:1e9}for(let a=0;a<n.length;a++){const l=s[n[a]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const o=r.length;for(let a=0;a<o;a++){const l=r[a],u=i[l];for(let c=0;c<o-1;c++){const d=r[c],f=i[d];for(let p=c+1;p<o;p++){const m=r[p],g=i[m],w=Math.min(f[m],f[l]+u[m]);f[m]=w,g[d]=w}}}return i}}class lbe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new abe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let c=1e9,d=0,f=0,p=0,m=0,g=0;for(;c>s&&a<l;)for(a+=1,[d,c,f,p]=this._getHighestEnergyNode(n),m=c,g=0;m>o&&g<u;)g+=1,this._moveNode(d,f,p),[m,f,p]=this._getEnergy(d)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],o=0,a=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[c,d,f]=this._getEnergy(u);i<c&&(i=c,s=u,o=d,a=f)}}return[s,i,o,a]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,l=0;const u=s[e].x,c=s[e].y,d=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const x=i[b];if(x!==e){const E=s[x].x,T=s[x].y,S=d[x],O=f[x],P=1/((u-E)**2+(c-T)**2)**1.5;o+=S*(1-O*(c-T)**2*P),a+=S*(O*(u-E)*(c-T)*P),l+=S*(1-O*(u-E)**2*P)}}const p=o,m=a,g=r,w=l,y=n,v=(g/p+y/m)/(m/p-w/m),_=-(m*v+g)/p;s[e].x+=_,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,o=r[i].y;let a=0,l=0;for(let u=n;u<e.length;u++){const c=e[u];if(c!==i){const d=r[c].x,f=r[c].y,p=1/Math.sqrt((s-d)**2+(o-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][c]*(s-d-this.L_matrix[i][c]*(s-d)*p),this.K_matrix[i][c]*(o-f-this.L_matrix[i][c]*(o-f)*p)],this.E_matrix[c][n]=this.E_matrix[i][u],a+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[a,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=n[e].x,l=n[e].y;let u=0,c=0;for(let d=0;d<r.length;d++){const f=r[d];if(f!==e){const p=i[d],m=p[0],g=p[1],w=n[f].x,y=n[f].y,v=1/Math.sqrt((a-w)**2+(l-y)**2),_=s[f]*(a-w-o[f]*(a-w)*v),b=s[f]*(l-y-o[f]*(l-y)*v);i[d]=[_,b],u+=_,c+=b;const x=this.E_sums[f];x[0]+=_-m,x[1]+=b-g}}this.E_sums[e]=[u,c]}}function de(t,e,r){var n,i,s,o;if(!(this instanceof de))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:$pe,clickToUse:!1},jt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:X(n=this.on).call(n,this),off:X(i=this.off).call(i,this),emit:X(s=this.emit).call(s,this),once:X(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Dpe(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Qpe,this.canvas=new Wye(this.body),this.selectionHandler=new Oge(this.body,this.canvas),this.interactionHandler=new Gye(this.body,this.canvas,this.selectionHandler),this.view=new Vye(this.body,this.canvas),this.renderer=new Fye(this.body,this.canvas),this.physics=new Nye(this.body),this.layoutEngine=new rbe(this.body),this.clustering=new Aye(this.body),this.manipulation=new nbe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new sye(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Oye(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new lbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}M9(de.prototype);de.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(upe.validate(t,sbe)===!0&&console.error("%cErrors have been found in the supplied options object.",$G),Nu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=jpe(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new ape(this,this.body.container,aY,this.canvas.pixelRatio,obe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};et(n.nodes,this.nodesHandler.options),et(n.edges,this.edgesHandler.options),et(n.layout,this.layoutEngine.options),et(n.interaction,this.selectionHandler.options),et(n.interaction,this.renderer.options),et(n.interaction,this.interactionHandler.options),et(n.manipulation,this.manipulation.options),et(n.physics,this.physics.options),et(n.global,this.canvas.options),et(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new ope(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};de.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};de.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};de.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=bpe(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=wpe(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};de.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];fs(this.body.container)};de.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};de.prototype.isActive=function(){return!this.activator||this.activator.active};de.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};de.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};de.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};de.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};de.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};de.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};de.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};de.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};de.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};de.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};de.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};de.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};de.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};de.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};de.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};de.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};de.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};de.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};de.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};de.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};de.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};de.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};de.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};de.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};de.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};de.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};de.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};de.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};de.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};de.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};de.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};de.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};de.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};de.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};de.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};de.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};de.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};de.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};de.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};de.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};de.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};de.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};de.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};de.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};de.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};de.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};de.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};de.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};de.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};de.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};de.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};de.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function ube({graphData:t,startPersonId:e,onNodeClick:r}){const n=k.useRef(null),i=k.useRef(null),s=Jr(),o=k.useCallback(c=>{r?r(c):s(`/people/${c}`)},[r,s]);k.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const c=new Wl(t.nodes),d=new Wl(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:120,nodeSpacing:150,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new de(n.current,{nodes:c,edges:d},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const g=m.nodes[0];o(g)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,o]);const a=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?h.jsx("div",{className:"flex items-center justify-center h-96",children:h.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):h.jsxs("div",{className:"relative w-full h-full",children:[h.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[h.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:h.jsx(DZ,{className:"w-4 h-4"})}),h.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:h.jsx(qZ,{className:"w-4 h-4"})}),h.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:h.jsx(y7,{className:"w-4 h-4"})})]}),h.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),h.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const cbe=["parent","child"];function dbe(t){return cbe.includes(t==null?void 0:t.toLowerCase())}function hbe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function fbe(t){return(t==null?void 0:t.toLowerCase())==="child"}function pbe(t,e,r){var c;const n=new Map,i=[],s=new Set,o=new Map;e.forEach(d=>o.set(d.id,d));const a=[{personId:t,depth:0}];s.add(t);function l(d,f){var v,_,b,x;let p=d.name||((v=d.title)==null?void 0:v.rendered)||d.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,g=((_=d.acf)==null?void 0:_.birth_date)||null;if(g){const E=new Date(g);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let w="";switch((b=d.acf)==null?void 0:b.gender){case"male":w="";break;case"female":w="";break;case"non_binary":case"other":case"prefer_not_to_say":w="";break}let y="";if(g)try{const E=new Date(g);if(!isNaN(E.getTime())){const T=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),O=E.getFullYear();y=`${T}-${S}-${O}`}}catch{}return{id:f,name:p,gender:((x=d.acf)==null?void 0:x.gender)||"",genderSymbol:w,photo:d.thumbnail||null,age:m,birthDate:g,formattedBirthDate:y}}const u=o.get(t);for(u&&n.set(t,l(u,t));a.length>0;){const{personId:d,depth:f}=a.shift(),p=r.get(d)||[];for(const m of p){if(m.relationship_type_slug&&!dbe(m.relationship_type_slug))continue;const g=m.related_person;if(!g||!o.has(g))continue;if(!n.has(g)){const _=o.get(g);n.set(g,l(_,g))}const w=`${d}-${g}`,y=`${g}-${d}`;if(!i.some(_=>`${_.from}-${_.to}`===w||`${_.from}-${_.to}`===y)){const _=(c=m.relationship_type_slug)==null?void 0:c.toLowerCase();hbe(_)?i.push({from:g,to:d}):fbe(_)&&i.push({from:d,to:g})}s.has(g)||(s.add(g),a.push({personId:g,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function mbe(t,e){const{nodes:r,edges:n}=t;if(r.length===0)return{nodes:[],edges:[]};const i=new Map,s=new Map;r.forEach(d=>{i.set(d.id,[]),s.set(d.id,[])}),n.forEach(d=>{var f,p;(f=i.get(d.to))==null||f.push(d.from),(p=s.get(d.from))==null||p.push(d.to)});const o=new Map,a=r.filter(d=>{var f;return((f=i.get(d.id))==null?void 0:f.length)===0});if(a.length===0){const d=[...r].sort((f,p)=>!f.birthDate&&!p.birthDate?0:f.birthDate?p.birthDate?new Date(f.birthDate)-new Date(p.birthDate):-1:1);d.length>0&&a.push(d[0])}a.sort((d,f)=>!d.birthDate&&!f.birthDate?0:d.birthDate?f.birthDate?new Date(d.birthDate)-new Date(f.birthDate):-1:1);const l=a.map(d=>({id:d.id,level:0}));for(a.forEach(d=>o.set(d.id,0));l.length>0;){const{id:d,level:f}=l.shift(),p=s.get(d)||[];for(const m of p){const g=o.get(m),w=f+1;(g===void 0||w>g)&&(o.set(m,w),l.push({id:m,level:w}))}}r.forEach(d=>{o.has(d.id)||o.set(d.id,0)});const u=r.map(d=>{const f=o.get(d.id)||0,p=d.id===e;let m=[d.name],g="";return d.genderSymbol&&(g+=d.genderSymbol+" "),d.age!==null&&(g+=d.age+" "),d.formattedBirthDate&&(g+=d.formattedBirthDate),g.trim()&&m.push(g.trim()),{id:d.id,label:m.join(`
`),level:f,shape:d.photo?"circularImage":"circle",image:d.photo||void 0,size:30,font:{size:12,face:"system-ui, -apple-system, sans-serif",multi:"html",bold:p?"700":"400"},color:{border:p?"#f59e0b":"#d1d5db",background:p?"#fef3c7":"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:p?3:2,data:d}}),c=n.map((d,f)=>({id:`edge-${f}`,from:d.from,to:d.to,arrows:{to:{enabled:!1}},color:{color:"#9ca3af",highlight:"#6b7280"},width:2,smooth:{type:"cubicBezier",forceDirection:"vertical",roundness:.4}}));return{nodes:u,edges:c}}function vbe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(o=>{var u,c,d,f,p,m;let a="";o.relationship_slug?a=o.relationship_slug.toLowerCase():typeof o.relationship_type=="object"?a=((u=o.relationship_type)==null?void 0:u.slug)||((d=(c=o.relationship_type)==null?void 0:c.name)==null?void 0:d.toLowerCase())||"":typeof o.relationship_type=="string"&&(a=o.relationship_type.toLowerCase());let l=null;return typeof o.related_person=="object"?l=((f=o.related_person)==null?void 0:f.ID)||((p=o.related_person)==null?void 0:p.id)||((m=o.related_person)==null?void 0:m.term_id):(typeof o.related_person=="number"||typeof o.related_person=="string")&&(l=parseInt(o.related_person,10)),{related_person:l,relationship_type:o.relationship_type,relationship_type_slug:a,relationship_name:o.relationship_name||"",relationship_label:o.relationship_label||""}}).filter(o=>o.related_person);e.set(r.id,i)}),e}function ybe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function gbe(){var c,d;const{id:t}=Zi(),e=Jr(),r=parseInt(t,10),{data:n,isLoading:i}=nu(t),{data:s=[],isLoading:o}=_p(),{data:a=[]}=ht({queryKey:["relationship-types"],queryFn:async()=>(await Be.getRelationshipTypes()).data});bi(n?`Family Tree - ${n.name||((c=n.title)==null?void 0:c.rendered)||n.title||"Person"}`:"Family Tree");const l=k.useMemo(()=>{if(!n||!s.length)return null;try{const f=vbe(s);a.length>0&&ybe(f,a);const p=pbe(r,s,f);return!p||p.nodes.length===0?null:mbe(p,r)}catch(f){return console.error("Error building family tree:",f),null}},[n,s,a,r]),u=f=>{e(`/people/${f}`)};return i||o?h.jsx("div",{className:"flex items-center justify-center h-64",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?h.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[h.jsx("div",{className:"flex items-center justify-between",children:h.jsxs("div",{className:"flex items-center gap-4",children:[h.jsxs(ye,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[h.jsx(es,{className:"w-4 h-4 mr-2"}),"Back to Person"]}),h.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((d=n.title)==null?void 0:d.rendered)||n.title||`Person ${t}`]})]})}),h.jsx("div",{className:"card p-6",children:h.jsx("div",{className:"w-full",style:{height:"800px"},children:l&&l.nodes&&l.nodes.length>0?h.jsx(ube,{graphData:l,startPersonId:r,onNodeClick:u}):h.jsx("div",{className:"flex items-center justify-center h-full",children:h.jsxs("div",{className:"text-center",children:[h.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),h.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):h.jsxs("div",{className:"card p-6 text-center",children:[h.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),h.jsx(ye,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function bbe(){const{loginUrl:t,isLoggedIn:e}=pp();return S7(),k.useEffect(()=>{e||(window.location.href=t)},[e,t]),h.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:h.jsxs("div",{className:"text-center",children:[h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),h.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function wbe({children:t}){const{isLoggedIn:e,isLoading:r}=pp();return r?h.jsx("div",{className:"flex items-center justify-center min-h-screen",children:h.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?t:h.jsx(J8,{to:"/login",replace:!0})}function _be(){return h.jsxs(LR,{children:[h.jsx(it,{path:"/login",element:h.jsx(bbe,{})}),h.jsx(it,{path:"/*",element:h.jsx(wbe,{children:h.jsx(bte,{children:h.jsxs(LR,{children:[h.jsx(it,{path:"/",element:h.jsx(Cre,{})}),h.jsx(it,{path:"/people",element:h.jsx(Mre,{})}),h.jsx(it,{path:"/people/new",element:h.jsx(HN,{})}),h.jsx(it,{path:"/people/:personId/contact/new",element:h.jsx(KN,{})}),h.jsx(it,{path:"/people/:personId/contact/:index/edit",element:h.jsx(KN,{})}),h.jsx(it,{path:"/people/:personId/work-history/new",element:h.jsx(VN,{})}),h.jsx(it,{path:"/people/:personId/work-history/:index/edit",element:h.jsx(VN,{})}),h.jsx(it,{path:"/people/:personId/relationship/new",element:h.jsx(GN,{})}),h.jsx(it,{path:"/people/:personId/relationship/:index/edit",element:h.jsx(GN,{})}),h.jsx(it,{path:"/people/:id/family-tree",element:h.jsx(gbe,{})}),h.jsx(it,{path:"/people/:id/edit",element:h.jsx(HN,{})}),h.jsx(it,{path:"/people/:id",element:h.jsx(Are,{})}),h.jsx(it,{path:"/companies",element:h.jsx(une,{})}),h.jsx(it,{path:"/companies/new",element:h.jsx(YN,{})}),h.jsx(it,{path:"/companies/:id",element:h.jsx(cne,{})}),h.jsx(it,{path:"/companies/:id/edit",element:h.jsx(YN,{})}),h.jsx(it,{path:"/dates",element:h.jsx(fne,{})}),h.jsx(it,{path:"/dates/new",element:h.jsx(QN,{})}),h.jsx(it,{path:"/dates/:id/edit",element:h.jsx(QN,{})}),h.jsx(it,{path:"/settings",element:h.jsx(vne,{})}),h.jsx(it,{path:"/settings/relationship-types",element:h.jsx(yne,{})}),h.jsx(it,{path:"*",element:h.jsx(J8,{to:"/",replace:!0})})]})})})})]})}const xbe=new hZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),cO=document.getElementById("root");if(!cO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{dO.createRoot(cO).render(h.jsx(Te.StrictMode,{children:h.jsx(fZ,{client:xbe,children:h.jsx(kJ,{children:h.jsx(_be,{})})})}))}catch(t){console.error("Error mounting React app:",t),cO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
