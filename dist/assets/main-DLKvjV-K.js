var NI=t=>{throw TypeError(t)};var lm=(t,e,r)=>e.has(t)||NI("Cannot "+r);var R=(t,e,r)=>(lm(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?NI("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(lm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Se=(t,e,r)=>(lm(t,e,"access private method"),r);var lh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function vY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function gY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var DH={exports:{}},ep={},qH={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var md=Symbol.for("react.element"),yY=Symbol.for("react.portal"),bY=Symbol.for("react.fragment"),wY=Symbol.for("react.strict_mode"),xY=Symbol.for("react.profiler"),_Y=Symbol.for("react.provider"),SY=Symbol.for("react.context"),EY=Symbol.for("react.forward_ref"),OY=Symbol.for("react.suspense"),PY=Symbol.for("react.memo"),CY=Symbol.for("react.lazy"),RI=Symbol.iterator;function TY(t){return t===null||typeof t!="object"?null:(t=RI&&t[RI]||t["@@iterator"],typeof t=="function"?t:null)}var MH={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},AH=Object.assign,FH={};function ru(t,e,r){this.props=t,this.context=e,this.refs=FH,this.updater=r||MH}ru.prototype.isReactComponent={};ru.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ru.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function LH(){}LH.prototype=ru.prototype;function aC(t,e,r){this.props=t,this.context=e,this.refs=FH,this.updater=r||MH}var lC=aC.prototype=new LH;lC.constructor=aC;AH(lC,ru.prototype);lC.isPureReactComponent=!0;var $I=Array.isArray,BH=Object.prototype.hasOwnProperty,uC={current:null},zH={key:!0,ref:!0,__self:!0,__source:!0};function UH(t,e,r){var n,i={},s=null,o=null;if(e!=null)for(n in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(s=""+e.key),e)BH.call(e,n)&&!zH.hasOwnProperty(n)&&(i[n]=e[n]);var a=arguments.length-2;if(a===1)i.children=r;else if(1<a){for(var l=Array(a),u=0;u<a;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in a=t.defaultProps,a)i[n]===void 0&&(i[n]=a[n]);return{$$typeof:md,type:t,key:s,ref:o,props:i,_owner:uC.current}}function IY(t,e){return{$$typeof:md,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cC(t){return typeof t=="object"&&t!==null&&t.$$typeof===md}function NY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var jI=/\/+/g;function um(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NY(""+t.key):e.toString(36)}function Ah(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(s){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case md:case yY:o=!0}}if(o)return o=t,i=i(o),t=n===""?"."+um(o,0):n,$I(i)?(r="",t!=null&&(r=t.replace(jI,"$&/")+"/"),Ah(i,e,r,"",function(u){return u})):i!=null&&(cC(i)&&(i=IY(i,r+(!i.key||o&&o.key===i.key?"":(""+i.key).replace(jI,"$&/")+"/")+t)),e.push(i)),1;if(o=0,n=n===""?".":n+":",$I(t))for(var a=0;a<t.length;a++){s=t[a];var l=n+um(s,a);o+=Ah(s,e,r,l,i)}else if(l=TY(t),typeof l=="function")for(t=l.call(t),a=0;!(s=t.next()).done;)s=s.value,l=n+um(s,a++),o+=Ah(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function uh(t,e,r){if(t==null)return t;var n=[],i=0;return Ah(t,n,"","",function(s){return e.call(r,s,i++)}),n}function RY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dr={current:null},Fh={transition:null},$Y={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:Fh,ReactCurrentOwner:uC};function WH(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:uh,forEach:function(t,e,r){uh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return uh(t,function(){e++}),e},toArray:function(t){return uh(t,function(e){return e})||[]},only:function(t){if(!cC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=ru;je.Fragment=bY;je.Profiler=xY;je.PureComponent=aC;je.StrictMode=wY;je.Suspense=OY;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=$Y;je.act=WH;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=AH({},t.props),i=t.key,s=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,o=uC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)BH.call(e,l)&&!zH.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){a=Array(l);for(var u=0;u<l;u++)a[u]=arguments[u+2];n.children=a}return{$$typeof:md,type:t.type,key:i,ref:s,props:n,_owner:o}};je.createContext=function(t){return t={$$typeof:SY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:_Y,_context:t},t.Consumer=t};je.createElement=UH;je.createFactory=function(t){var e=UH.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:EY,render:t}};je.isValidElement=cC;je.lazy=function(t){return{$$typeof:CY,_payload:{_status:-1,_result:t},_init:RY}};je.memo=function(t,e){return{$$typeof:PY,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Fh.transition;Fh.transition={};try{t()}finally{Fh.transition=e}};je.unstable_act=WH;je.useCallback=function(t,e){return Dr.current.useCallback(t,e)};je.useContext=function(t){return Dr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Dr.current.useDeferredValue(t)};je.useEffect=function(t,e){return Dr.current.useEffect(t,e)};je.useId=function(){return Dr.current.useId()};je.useImperativeHandle=function(t,e,r){return Dr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return Dr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Dr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Dr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return Dr.current.useReducer(t,e,r)};je.useRef=function(t){return Dr.current.useRef(t)};je.useState=function(t){return Dr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return Dr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return Dr.current.useTransition()};je.version="18.3.1";qH.exports=je;var j=qH.exports;const Ce=gY(j),jY=vY({__proto__:null,default:Ce},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kY=j,DY=Symbol.for("react.element"),qY=Symbol.for("react.fragment"),MY=Object.prototype.hasOwnProperty,AY=kY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FY={key:!0,ref:!0,__self:!0,__source:!0};function HH(t,e,r){var n,i={},s=null,o=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(o=e.ref);for(n in e)MY.call(e,n)&&!FY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:DY,type:t,key:s,ref:o,props:i,_owner:AY.current}}ep.Fragment=qY;ep.jsx=HH;ep.jsxs=HH;DH.exports=ep;var d=DH.exports,vO={},VH={exports:{}},hn={},KH={exports:{}},GH={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,G){var U=L.length;L.push(G);e:for(;0<U;){var z=U-1>>>1,te=L[z];if(0<i(te,G))L[z]=G,L[U]=te,U=z;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var G=L[0],U=L.pop();if(U!==G){L[0]=U;e:for(var z=0,te=L.length,fe=te>>>1;z<fe;){var ge=2*(z+1)-1,ke=L[ge],be=ge+1,xe=L[be];if(0>i(ke,U))be<te&&0>i(xe,ke)?(L[z]=xe,L[be]=U,z=be):(L[z]=ke,L[ge]=U,z=ge);else if(be<te&&0>i(xe,U))L[z]=xe,L[be]=U,z=be;else break e}}return G}function i(L,G){var U=L.sortIndex-G.sortIndex;return U!==0?U:L.id-G.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],u=[],c=1,h=null,f=3,p=!1,v=!1,y=!1,w=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var G=r(u);G!==null;){if(G.callback===null)n(u);else if(G.startTime<=L)n(u),G.sortIndex=G.expirationTime,e(l,G);else break;G=r(u)}}function b(L){if(y=!1,x(L),!v)if(r(l)!==null)v=!0,re(_);else{var G=r(u);G!==null&&Q(b,G.startTime-L)}}function _(L,G){v=!1,y&&(y=!1,g(S),S=-1),p=!0;var U=f;try{for(x(G),h=r(l);h!==null&&(!(h.expirationTime>G)||L&&!N());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var te=z(h.expirationTime<=G);G=t.unstable_now(),typeof te=="function"?h.callback=te:h===r(l)&&n(l),x(G)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var ge=r(u);ge!==null&&Q(b,ge.startTime-G),fe=!1}return fe}finally{h=null,f=U,p=!1}}var E=!1,O=null,S=-1,C=5,P=-1;function N(){return!(t.unstable_now()-P<C)}function T(){if(O!==null){var L=t.unstable_now();P=L;var G=!0;try{G=O(!0,L)}finally{G?I():(E=!1,O=null)}}else E=!1}var I;if(typeof m=="function")I=function(){m(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=T,I=function(){B.postMessage(null)}}else I=function(){w(T,0)};function re(L){O=L,E||(E=!0,I())}function Q(L,G){S=w(function(){L(t.unstable_now())},G)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){v||p||(v=!0,re(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var G=3;break;default:G=f}var U=f;f=G;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,G){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return G()}finally{f=U}},t.unstable_scheduleCallback=function(L,G,U){var z=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?z+U:z):U=z,L){case 1:var te=-1;break;case 2:te=250;break;case 5:te=1073741823;break;case 4:te=1e4;break;default:te=5e3}return te=U+te,L={id:c++,callback:G,priorityLevel:L,startTime:U,expirationTime:te,sortIndex:-1},U>z?(L.sortIndex=U,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,Q(b,U-z))):(L.sortIndex=te,e(l,L),v||p||(v=!0,re(_))),L},t.unstable_shouldYield=N,t.unstable_wrapCallback=function(L){var G=f;return function(){var U=f;f=G;try{return L.apply(this,arguments)}finally{f=U}}}})(GH);KH.exports=GH;var LY=KH.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var BY=j,dn=LY;function J(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var YH=new Set,Pc={};function fa(t,e){jl(t,e),jl(t+"Capture",e)}function jl(t,e){for(Pc[t]=e,t=0;t<e.length;t++)YH.add(e[t])}var Vi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gO=Object.prototype.hasOwnProperty,zY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kI={},DI={};function UY(t){return gO.call(DI,t)?!0:gO.call(kI,t)?!1:zY.test(t)?DI[t]=!0:(kI[t]=!0,!1)}function WY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function HY(t,e,r,n){if(e===null||typeof e>"u"||WY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(t,e,r,n,i,s,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=o}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ur[t]=new qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ur[e]=new qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ur[t]=new qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ur[t]=new qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ur[t]=new qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ur[t]=new qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ur[t]=new qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ur[t]=new qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ur[t]=new qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var dC=/[\-:]([a-z])/g;function hC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dC,hC);ur[e]=new qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dC,hC);ur[e]=new qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dC,hC);ur[e]=new qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ur[t]=new qr(t,1,!1,t.toLowerCase(),null,!1,!1)});ur.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ur[t]=new qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fC(t,e,r,n){var i=ur.hasOwnProperty(e)?ur[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(HY(e,r,i,n)&&(r=null),n||i===null?UY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Xi=BY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ch=Symbol.for("react.element"),Ua=Symbol.for("react.portal"),Wa=Symbol.for("react.fragment"),pC=Symbol.for("react.strict_mode"),yO=Symbol.for("react.profiler"),QH=Symbol.for("react.provider"),XH=Symbol.for("react.context"),mC=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),wO=Symbol.for("react.suspense_list"),vC=Symbol.for("react.memo"),hs=Symbol.for("react.lazy"),JH=Symbol.for("react.offscreen"),qI=Symbol.iterator;function Au(t){return t===null||typeof t!="object"?null:(t=qI&&t[qI]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,cm;function tc(t){if(cm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);cm=e&&e[1]||""}return`
`+cm+t}var dm=!1;function hm(t,e){if(!t||dm)return"";dm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),o=i.length-1,a=s.length-1;1<=o&&0<=a&&i[o]!==s[a];)a--;for(;1<=o&&0<=a;o--,a--)if(i[o]!==s[a]){if(o!==1||a!==1)do if(o--,a--,0>a||i[o]!==s[a]){var l=`
`+i[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{dm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?tc(t):""}function VY(t){switch(t.tag){case 5:return tc(t.type);case 16:return tc("Lazy");case 13:return tc("Suspense");case 19:return tc("SuspenseList");case 0:case 2:case 15:return t=hm(t.type,!1),t;case 11:return t=hm(t.type.render,!1),t;case 1:return t=hm(t.type,!0),t;default:return""}}function xO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Wa:return"Fragment";case Ua:return"Portal";case yO:return"Profiler";case pC:return"StrictMode";case bO:return"Suspense";case wO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case XH:return(t.displayName||"Context")+".Consumer";case QH:return(t._context.displayName||"Context")+".Provider";case mC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vC:return e=t.displayName||null,e!==null?e:xO(t.type)||"Memo";case hs:e=t._payload,t=t._init;try{return xO(t(e))}catch{}}return null}function KY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xO(e);case 8:return e===pC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Qs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function ZH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function GY(t){var e=ZH(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(o){n=""+o,s.call(this,o)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(o){n=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function dh(t){t._valueTracker||(t._valueTracker=GY(t))}function e8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=ZH(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function of(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _O(t,e){var r=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function MI(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Qs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function t8(t,e){e=e.checked,e!=null&&fC(t,"checked",e,!1)}function SO(t,e){t8(t,e);var r=Qs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?EO(t,e.type,r):e.hasOwnProperty("defaultValue")&&EO(t,e.type,Qs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function AI(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function EO(t,e,r){(e!=="number"||of(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var rc=Array.isArray;function al(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Qs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function OO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(J(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function FI(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(J(92));if(rc(r)){if(1<r.length)throw Error(J(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Qs(r)}}function r8(t,e){var r=Qs(e.value),n=Qs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function LI(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function n8(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?n8(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var hh,i8=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(hh=hh||document.createElement("div"),hh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=hh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Cc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var lc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},YY=["Webkit","ms","Moz","O"];Object.keys(lc).forEach(function(t){YY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),lc[e]=lc[t]})});function s8(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||lc.hasOwnProperty(t)&&lc[t]?(""+e).trim():e+"px"}function o8(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=s8(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var QY=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CO(t,e){if(e){if(QY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(J(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(J(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(J(61))}if(e.style!=null&&typeof e.style!="object")throw Error(J(62))}}function TO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var IO=null;function gC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var NO=null,ll=null,ul=null;function BI(t){if(t=yd(t)){if(typeof NO!="function")throw Error(J(280));var e=t.stateNode;e&&(e=sp(e),NO(t.stateNode,t.type,e))}}function a8(t){ll?ul?ul.push(t):ul=[t]:ll=t}function l8(){if(ll){var t=ll,e=ul;if(ul=ll=null,BI(t),e)for(t=0;t<e.length;t++)BI(e[t])}}function u8(t,e){return t(e)}function c8(){}var fm=!1;function d8(t,e,r){if(fm)return t(e,r);fm=!0;try{return u8(t,e,r)}finally{fm=!1,(ll!==null||ul!==null)&&(c8(),l8())}}function Tc(t,e){var r=t.stateNode;if(r===null)return null;var n=sp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(J(231,e,typeof r));return r}var RO=!1;if(Vi)try{var Fu={};Object.defineProperty(Fu,"passive",{get:function(){RO=!0}}),window.addEventListener("test",Fu,Fu),window.removeEventListener("test",Fu,Fu)}catch{RO=!1}function XY(t,e,r,n,i,s,o,a,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var uc=!1,af=null,lf=!1,$O=null,JY={onError:function(t){uc=!0,af=t}};function ZY(t,e,r,n,i,s,o,a,l){uc=!1,af=null,XY.apply(JY,arguments)}function eQ(t,e,r,n,i,s,o,a,l){if(ZY.apply(this,arguments),uc){if(uc){var u=af;uc=!1,af=null}else throw Error(J(198));lf||(lf=!0,$O=u)}}function pa(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function h8(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zI(t){if(pa(t)!==t)throw Error(J(188))}function tQ(t){var e=t.alternate;if(!e){if(e=pa(t),e===null)throw Error(J(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return zI(i),t;if(s===n)return zI(i),e;s=s.sibling}throw Error(J(188))}if(r.return!==n.return)r=i,n=s;else{for(var o=!1,a=i.child;a;){if(a===r){o=!0,r=i,n=s;break}if(a===n){o=!0,n=i,r=s;break}a=a.sibling}if(!o){for(a=s.child;a;){if(a===r){o=!0,r=s,n=i;break}if(a===n){o=!0,n=s,r=i;break}a=a.sibling}if(!o)throw Error(J(189))}}if(r.alternate!==n)throw Error(J(190))}if(r.tag!==3)throw Error(J(188));return r.stateNode.current===r?t:e}function f8(t){return t=tQ(t),t!==null?p8(t):null}function p8(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=p8(t);if(e!==null)return e;t=t.sibling}return null}var m8=dn.unstable_scheduleCallback,UI=dn.unstable_cancelCallback,rQ=dn.unstable_shouldYield,nQ=dn.unstable_requestPaint,Pt=dn.unstable_now,iQ=dn.unstable_getCurrentPriorityLevel,yC=dn.unstable_ImmediatePriority,v8=dn.unstable_UserBlockingPriority,uf=dn.unstable_NormalPriority,sQ=dn.unstable_LowPriority,g8=dn.unstable_IdlePriority,tp=null,gi=null;function oQ(t){if(gi&&typeof gi.onCommitFiberRoot=="function")try{gi.onCommitFiberRoot(tp,t,void 0,(t.current.flags&128)===128)}catch{}}var Gn=Math.clz32?Math.clz32:uQ,aQ=Math.log,lQ=Math.LN2;function uQ(t){return t>>>=0,t===0?32:31-(aQ(t)/lQ|0)|0}var fh=64,ph=4194304;function nc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function cf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,o=r&268435455;if(o!==0){var a=o&~i;a!==0?n=nc(a):(s&=o,s!==0&&(n=nc(s)))}else o=r&~i,o!==0?n=nc(o):s!==0&&(n=nc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Gn(e),i=1<<r,n|=t[r],e&=~i;return n}function cQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function dQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var o=31-Gn(s),a=1<<o,l=i[o];l===-1?(!(a&r)||a&n)&&(i[o]=cQ(a,e)):l<=e&&(t.expiredLanes|=a),s&=~a}}function jO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function y8(){var t=fh;return fh<<=1,!(fh&4194240)&&(fh=64),t}function pm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function vd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Gn(e),t[e]=r}function hQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Gn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function bC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Gn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var We=0;function b8(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var w8,wC,x8,_8,S8,kO=!1,mh=[],ks=null,Ds=null,qs=null,Ic=new Map,Nc=new Map,gs=[],fQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WI(t,e){switch(t){case"focusin":case"focusout":ks=null;break;case"dragenter":case"dragleave":Ds=null;break;case"mouseover":case"mouseout":qs=null;break;case"pointerover":case"pointerout":Ic.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Nc.delete(e.pointerId)}}function Lu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=yd(e),e!==null&&wC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function pQ(t,e,r,n,i){switch(e){case"focusin":return ks=Lu(ks,t,e,r,n,i),!0;case"dragenter":return Ds=Lu(Ds,t,e,r,n,i),!0;case"mouseover":return qs=Lu(qs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Ic.set(s,Lu(Ic.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Nc.set(s,Lu(Nc.get(s)||null,t,e,r,n,i)),!0}return!1}function E8(t){var e=wo(t.target);if(e!==null){var r=pa(e);if(r!==null){if(e=r.tag,e===13){if(e=h8(r),e!==null){t.blockedOn=e,S8(t.priority,function(){x8(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Lh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=DO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);IO=n,r.target.dispatchEvent(n),IO=null}else return e=yd(r),e!==null&&wC(e),t.blockedOn=r,!1;e.shift()}return!0}function HI(t,e,r){Lh(t)&&r.delete(e)}function mQ(){kO=!1,ks!==null&&Lh(ks)&&(ks=null),Ds!==null&&Lh(Ds)&&(Ds=null),qs!==null&&Lh(qs)&&(qs=null),Ic.forEach(HI),Nc.forEach(HI)}function Bu(t,e){t.blockedOn===e&&(t.blockedOn=null,kO||(kO=!0,dn.unstable_scheduleCallback(dn.unstable_NormalPriority,mQ)))}function Rc(t){function e(i){return Bu(i,t)}if(0<mh.length){Bu(mh[0],t);for(var r=1;r<mh.length;r++){var n=mh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ks!==null&&Bu(ks,t),Ds!==null&&Bu(Ds,t),qs!==null&&Bu(qs,t),Ic.forEach(e),Nc.forEach(e),r=0;r<gs.length;r++)n=gs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<gs.length&&(r=gs[0],r.blockedOn===null);)E8(r),r.blockedOn===null&&gs.shift()}var cl=Xi.ReactCurrentBatchConfig,df=!0;function vQ(t,e,r,n){var i=We,s=cl.transition;cl.transition=null;try{We=1,xC(t,e,r,n)}finally{We=i,cl.transition=s}}function gQ(t,e,r,n){var i=We,s=cl.transition;cl.transition=null;try{We=4,xC(t,e,r,n)}finally{We=i,cl.transition=s}}function xC(t,e,r,n){if(df){var i=DO(t,e,r,n);if(i===null)Em(t,e,n,hf,r),WI(t,n);else if(pQ(i,t,e,r,n))n.stopPropagation();else if(WI(t,n),e&4&&-1<fQ.indexOf(t)){for(;i!==null;){var s=yd(i);if(s!==null&&w8(s),s=DO(t,e,r,n),s===null&&Em(t,e,n,hf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Em(t,e,n,null,r)}}var hf=null;function DO(t,e,r,n){if(hf=null,t=gC(n),t=wo(t),t!==null)if(e=pa(t),e===null)t=null;else if(r=e.tag,r===13){if(t=h8(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return hf=t,null}function O8(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(iQ()){case yC:return 1;case v8:return 4;case uf:case sQ:return 16;case g8:return 536870912;default:return 16}default:return 16}}var Ns=null,_C=null,Bh=null;function P8(){if(Bh)return Bh;var t,e=_C,r=e.length,n,i="value"in Ns?Ns.value:Ns.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var o=r-t;for(n=1;n<=o&&e[r-n]===i[s-n];n++);return Bh=i.slice(t,1<n?1-n:void 0)}function zh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function vh(){return!0}function VI(){return!1}function fn(t){function e(r,n,i,s,o){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(r=t[a],this[a]=r?r(s):s[a]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?vh:VI,this.isPropagationStopped=VI,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=vh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=vh)},persist:function(){},isPersistent:vh}),e}var nu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SC=fn(nu),gd=pt({},nu,{view:0,detail:0}),yQ=fn(gd),mm,vm,zu,rp=pt({},gd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==zu&&(zu&&t.type==="mousemove"?(mm=t.screenX-zu.screenX,vm=t.screenY-zu.screenY):vm=mm=0,zu=t),mm)},movementY:function(t){return"movementY"in t?t.movementY:vm}}),KI=fn(rp),bQ=pt({},rp,{dataTransfer:0}),wQ=fn(bQ),xQ=pt({},gd,{relatedTarget:0}),gm=fn(xQ),_Q=pt({},nu,{animationName:0,elapsedTime:0,pseudoElement:0}),SQ=fn(_Q),EQ=pt({},nu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OQ=fn(EQ),PQ=pt({},nu,{data:0}),GI=fn(PQ),CQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},TQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},IQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=IQ[t])?!!e[t]:!1}function EC(){return NQ}var RQ=pt({},gd,{key:function(t){if(t.key){var e=CQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?TQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EC,charCode:function(t){return t.type==="keypress"?zh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),$Q=fn(RQ),jQ=pt({},rp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YI=fn(jQ),kQ=pt({},gd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EC}),DQ=fn(kQ),qQ=pt({},nu,{propertyName:0,elapsedTime:0,pseudoElement:0}),MQ=fn(qQ),AQ=pt({},rp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FQ=fn(AQ),LQ=[9,13,27,32],OC=Vi&&"CompositionEvent"in window,cc=null;Vi&&"documentMode"in document&&(cc=document.documentMode);var BQ=Vi&&"TextEvent"in window&&!cc,C8=Vi&&(!OC||cc&&8<cc&&11>=cc),QI=" ",XI=!1;function T8(t,e){switch(t){case"keyup":return LQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function I8(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Ha=!1;function zQ(t,e){switch(t){case"compositionend":return I8(e);case"keypress":return e.which!==32?null:(XI=!0,QI);case"textInput":return t=e.data,t===QI&&XI?null:t;default:return null}}function UQ(t,e){if(Ha)return t==="compositionend"||!OC&&T8(t,e)?(t=P8(),Bh=_C=Ns=null,Ha=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return C8&&e.locale!=="ko"?null:e.data;default:return null}}var WQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!WQ[t.type]:e==="textarea"}function N8(t,e,r,n){a8(n),e=ff(e,"onChange"),0<e.length&&(r=new SC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var dc=null,$c=null;function HQ(t){B8(t,0)}function np(t){var e=Ga(t);if(e8(e))return t}function VQ(t,e){if(t==="change")return e}var R8=!1;if(Vi){var ym;if(Vi){var bm="oninput"in document;if(!bm){var ZI=document.createElement("div");ZI.setAttribute("oninput","return;"),bm=typeof ZI.oninput=="function"}ym=bm}else ym=!1;R8=ym&&(!document.documentMode||9<document.documentMode)}function eN(){dc&&(dc.detachEvent("onpropertychange",$8),$c=dc=null)}function $8(t){if(t.propertyName==="value"&&np($c)){var e=[];N8(e,$c,t,gC(t)),d8(HQ,e)}}function KQ(t,e,r){t==="focusin"?(eN(),dc=e,$c=r,dc.attachEvent("onpropertychange",$8)):t==="focusout"&&eN()}function GQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return np($c)}function YQ(t,e){if(t==="click")return np(e)}function QQ(t,e){if(t==="input"||t==="change")return np(e)}function XQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Qn=typeof Object.is=="function"?Object.is:XQ;function jc(t,e){if(Qn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!gO.call(e,i)||!Qn(t[i],e[i]))return!1}return!0}function tN(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rN(t,e){var r=tN(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tN(r)}}function j8(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?j8(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function k8(){for(var t=window,e=of();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=of(t.document)}return e}function PC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function JQ(t){var e=k8(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&j8(r.ownerDocument.documentElement,r)){if(n!==null&&PC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=rN(r,s);var o=rN(r,n);i&&o&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var ZQ=Vi&&"documentMode"in document&&11>=document.documentMode,Va=null,qO=null,hc=null,MO=!1;function nN(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;MO||Va==null||Va!==of(n)||(n=Va,"selectionStart"in n&&PC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),hc&&jc(hc,n)||(hc=n,n=ff(qO,"onSelect"),0<n.length&&(e=new SC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Va)))}function gh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Ka={animationend:gh("Animation","AnimationEnd"),animationiteration:gh("Animation","AnimationIteration"),animationstart:gh("Animation","AnimationStart"),transitionend:gh("Transition","TransitionEnd")},wm={},D8={};Vi&&(D8=document.createElement("div").style,"AnimationEvent"in window||(delete Ka.animationend.animation,delete Ka.animationiteration.animation,delete Ka.animationstart.animation),"TransitionEvent"in window||delete Ka.transitionend.transition);function ip(t){if(wm[t])return wm[t];if(!Ka[t])return t;var e=Ka[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in D8)return wm[t]=e[r];return t}var q8=ip("animationend"),M8=ip("animationiteration"),A8=ip("animationstart"),F8=ip("transitionend"),L8=new Map,iN="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function no(t,e){L8.set(t,e),fa(e,[t])}for(var xm=0;xm<iN.length;xm++){var _m=iN[xm],eX=_m.toLowerCase(),tX=_m[0].toUpperCase()+_m.slice(1);no(eX,"on"+tX)}no(q8,"onAnimationEnd");no(M8,"onAnimationIteration");no(A8,"onAnimationStart");no("dblclick","onDoubleClick");no("focusin","onFocus");no("focusout","onBlur");no(F8,"onTransitionEnd");jl("onMouseEnter",["mouseout","mouseover"]);jl("onMouseLeave",["mouseout","mouseover"]);jl("onPointerEnter",["pointerout","pointerover"]);jl("onPointerLeave",["pointerout","pointerover"]);fa("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));fa("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));fa("onBeforeInput",["compositionend","keypress","textInput","paste"]);fa("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));fa("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ic="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),rX=new Set("cancel close invalid load scroll toggle".split(" ").concat(ic));function sN(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,eQ(n,e,void 0,t),t.currentTarget=null}function B8(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var o=n.length-1;0<=o;o--){var a=n[o],l=a.instance,u=a.currentTarget;if(a=a.listener,l!==s&&i.isPropagationStopped())break e;sN(i,a,u),s=l}else for(o=0;o<n.length;o++){if(a=n[o],l=a.instance,u=a.currentTarget,a=a.listener,l!==s&&i.isPropagationStopped())break e;sN(i,a,u),s=l}}}if(lf)throw t=$O,lf=!1,$O=null,t}function st(t,e){var r=e[zO];r===void 0&&(r=e[zO]=new Set);var n=t+"__bubble";r.has(n)||(z8(e,t,2,!1),r.add(n))}function Sm(t,e,r){var n=0;e&&(n|=4),z8(r,t,n,e)}var yh="_reactListening"+Math.random().toString(36).slice(2);function kc(t){if(!t[yh]){t[yh]=!0,YH.forEach(function(r){r!=="selectionchange"&&(rX.has(r)||Sm(r,!1,t),Sm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[yh]||(e[yh]=!0,Sm("selectionchange",!1,e))}}function z8(t,e,r,n){switch(O8(e)){case 1:var i=vQ;break;case 4:i=gQ;break;default:i=xC}r=i.bind(null,e,r,t),i=void 0,!RO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Em(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var o=n.tag;if(o===3||o===4){var a=n.stateNode.containerInfo;if(a===i||a.nodeType===8&&a.parentNode===i)break;if(o===4)for(o=n.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;o=o.return}for(;a!==null;){if(o=wo(a),o===null)return;if(l=o.tag,l===5||l===6){n=s=o;continue e}a=a.parentNode}}n=n.return}d8(function(){var u=s,c=gC(r),h=[];e:{var f=L8.get(t);if(f!==void 0){var p=SC,v=t;switch(t){case"keypress":if(zh(r)===0)break e;case"keydown":case"keyup":p=$Q;break;case"focusin":v="focus",p=gm;break;case"focusout":v="blur",p=gm;break;case"beforeblur":case"afterblur":p=gm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KI;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=wQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=DQ;break;case q8:case M8:case A8:p=SQ;break;case F8:p=MQ;break;case"scroll":p=yQ;break;case"wheel":p=FQ;break;case"copy":case"cut":case"paste":p=OQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YI}var y=(e&4)!==0,w=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var m=u,x;m!==null;){x=m;var b=x.stateNode;if(x.tag===5&&b!==null&&(x=b,g!==null&&(b=Tc(m,g),b!=null&&y.push(Dc(m,b,x)))),w)break;m=m.return}0<y.length&&(f=new p(f,v,null,r,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==IO&&(v=r.relatedTarget||r.fromElement)&&(wo(v)||v[Ki]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(v=r.relatedTarget||r.toElement,p=u,v=v?wo(v):null,v!==null&&(w=pa(v),v!==w||v.tag!==5&&v.tag!==6)&&(v=null)):(p=null,v=u),p!==v)){if(y=KI,b="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(y=YI,b="onPointerLeave",g="onPointerEnter",m="pointer"),w=p==null?f:Ga(p),x=v==null?f:Ga(v),f=new y(b,m+"leave",p,r,c),f.target=w,f.relatedTarget=x,b=null,wo(c)===u&&(y=new y(g,m+"enter",v,r,c),y.target=x,y.relatedTarget=w,b=y),w=b,p&&v)t:{for(y=p,g=v,m=0,x=y;x;x=Da(x))m++;for(x=0,b=g;b;b=Da(b))x++;for(;0<m-x;)y=Da(y),m--;for(;0<x-m;)g=Da(g),x--;for(;m--;){if(y===g||g!==null&&y===g.alternate)break t;y=Da(y),g=Da(g)}y=null}else y=null;p!==null&&oN(h,f,p,y,!1),v!==null&&w!==null&&oN(h,w,v,y,!0)}}e:{if(f=u?Ga(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=VQ;else if(JI(f))if(R8)_=QQ;else{_=GQ;var E=KQ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=YQ);if(_&&(_=_(t,u))){N8(h,_,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&EO(f,"number",f.value)}switch(E=u?Ga(u):window,t){case"focusin":(JI(E)||E.contentEditable==="true")&&(Va=E,qO=u,hc=null);break;case"focusout":hc=qO=Va=null;break;case"mousedown":MO=!0;break;case"contextmenu":case"mouseup":case"dragend":MO=!1,nN(h,r,c);break;case"selectionchange":if(ZQ)break;case"keydown":case"keyup":nN(h,r,c)}var O;if(OC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Ha?T8(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(C8&&r.locale!=="ko"&&(Ha||S!=="onCompositionStart"?S==="onCompositionEnd"&&Ha&&(O=P8()):(Ns=c,_C="value"in Ns?Ns.value:Ns.textContent,Ha=!0)),E=ff(u,S),0<E.length&&(S=new GI(S,t,null,r,c),h.push({event:S,listeners:E}),O?S.data=O:(O=I8(r),O!==null&&(S.data=O)))),(O=BQ?zQ(t,r):UQ(t,r))&&(u=ff(u,"onBeforeInput"),0<u.length&&(c=new GI("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=O))}B8(h,e)})}function Dc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ff(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Tc(t,r),s!=null&&n.unshift(Dc(t,s,i)),s=Tc(t,e),s!=null&&n.push(Dc(t,s,i))),t=t.return}return n}function Da(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function oN(t,e,r,n,i){for(var s=e._reactName,o=[];r!==null&&r!==n;){var a=r,l=a.alternate,u=a.stateNode;if(l!==null&&l===n)break;a.tag===5&&u!==null&&(a=u,i?(l=Tc(r,s),l!=null&&o.unshift(Dc(r,l,a))):i||(l=Tc(r,s),l!=null&&o.push(Dc(r,l,a)))),r=r.return}o.length!==0&&t.push({event:e,listeners:o})}var nX=/\r\n?/g,iX=/\u0000|\uFFFD/g;function aN(t){return(typeof t=="string"?t:""+t).replace(nX,`
`).replace(iX,"")}function bh(t,e,r){if(e=aN(e),aN(t)!==e&&r)throw Error(J(425))}function pf(){}var AO=null,FO=null;function LO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BO=typeof setTimeout=="function"?setTimeout:void 0,sX=typeof clearTimeout=="function"?clearTimeout:void 0,lN=typeof Promise=="function"?Promise:void 0,oX=typeof queueMicrotask=="function"?queueMicrotask:typeof lN<"u"?function(t){return lN.resolve(null).then(t).catch(aX)}:BO;function aX(t){setTimeout(function(){throw t})}function Om(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Rc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Rc(e)}function Ms(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uN(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var iu=Math.random().toString(36).slice(2),hi="__reactFiber$"+iu,qc="__reactProps$"+iu,Ki="__reactContainer$"+iu,zO="__reactEvents$"+iu,lX="__reactListeners$"+iu,uX="__reactHandles$"+iu;function wo(t){var e=t[hi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Ki]||r[hi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uN(t);t!==null;){if(r=t[hi])return r;t=uN(t)}return e}t=r,r=t.parentNode}return null}function yd(t){return t=t[hi]||t[Ki],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Ga(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(J(33))}function sp(t){return t[qc]||null}var UO=[],Ya=-1;function io(t){return{current:t}}function ot(t){0>Ya||(t.current=UO[Ya],UO[Ya]=null,Ya--)}function rt(t,e){Ya++,UO[Ya]=t.current,t.current=e}var Xs={},xr=io(Xs),Vr=io(!1),Go=Xs;function kl(t,e){var r=t.type.contextTypes;if(!r)return Xs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(t){return t=t.childContextTypes,t!=null}function mf(){ot(Vr),ot(xr)}function cN(t,e,r){if(xr.current!==Xs)throw Error(J(168));rt(xr,e),rt(Vr,r)}function U8(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(J(108,KY(t)||"Unknown",i));return pt({},r,n)}function vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Xs,Go=xr.current,rt(xr,t),rt(Vr,Vr.current),!0}function dN(t,e,r){var n=t.stateNode;if(!n)throw Error(J(169));r?(t=U8(t,e,Go),n.__reactInternalMemoizedMergedChildContext=t,ot(Vr),ot(xr),rt(xr,t)):ot(Vr),rt(Vr,r)}var Ci=null,op=!1,Pm=!1;function W8(t){Ci===null?Ci=[t]:Ci.push(t)}function cX(t){op=!0,W8(t)}function so(){if(!Pm&&Ci!==null){Pm=!0;var t=0,e=We;try{var r=Ci;for(We=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ci=null,op=!1}catch(i){throw Ci!==null&&(Ci=Ci.slice(t+1)),m8(yC,so),i}finally{We=e,Pm=!1}}return null}var Qa=[],Xa=0,gf=null,yf=0,_n=[],Sn=0,Yo=null,$i=1,ji="";function go(t,e){Qa[Xa++]=yf,Qa[Xa++]=gf,gf=t,yf=e}function H8(t,e,r){_n[Sn++]=$i,_n[Sn++]=ji,_n[Sn++]=Yo,Yo=t;var n=$i;t=ji;var i=32-Gn(n)-1;n&=~(1<<i),r+=1;var s=32-Gn(e)+i;if(30<s){var o=i-i%5;s=(n&(1<<o)-1).toString(32),n>>=o,i-=o,$i=1<<32-Gn(e)+i|r<<i|n,ji=s+t}else $i=1<<s|r<<i|n,ji=t}function CC(t){t.return!==null&&(go(t,1),H8(t,1,0))}function TC(t){for(;t===gf;)gf=Qa[--Xa],Qa[Xa]=null,yf=Qa[--Xa],Qa[Xa]=null;for(;t===Yo;)Yo=_n[--Sn],_n[Sn]=null,ji=_n[--Sn],_n[Sn]=null,$i=_n[--Sn],_n[Sn]=null}var cn=null,un=null,lt=!1,Un=null;function V8(t,e){var r=On(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hN(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,cn=t,un=Ms(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,cn=t,un=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Yo!==null?{id:$i,overflow:ji}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=On(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,cn=t,un=null,!0):!1;default:return!1}}function WO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function HO(t){if(lt){var e=un;if(e){var r=e;if(!hN(t,e)){if(WO(t))throw Error(J(418));e=Ms(r.nextSibling);var n=cn;e&&hN(t,e)?V8(n,r):(t.flags=t.flags&-4097|2,lt=!1,cn=t)}}else{if(WO(t))throw Error(J(418));t.flags=t.flags&-4097|2,lt=!1,cn=t}}}function fN(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;cn=t}function wh(t){if(t!==cn)return!1;if(!lt)return fN(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LO(t.type,t.memoizedProps)),e&&(e=un)){if(WO(t))throw K8(),Error(J(418));for(;e;)V8(t,e),e=Ms(e.nextSibling)}if(fN(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(J(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){un=Ms(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}un=null}}else un=cn?Ms(t.stateNode.nextSibling):null;return!0}function K8(){for(var t=un;t;)t=Ms(t.nextSibling)}function Dl(){un=cn=null,lt=!1}function IC(t){Un===null?Un=[t]:Un.push(t)}var dX=Xi.ReactCurrentBatchConfig;function Uu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(J(309));var n=r.stateNode}if(!n)throw Error(J(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(o){var a=i.refs;o===null?delete a[s]:a[s]=o},e._stringRef=s,e)}if(typeof t!="string")throw Error(J(284));if(!r._owner)throw Error(J(290,t))}return t}function xh(t,e){throw t=Object.prototype.toString.call(e),Error(J(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pN(t){var e=t._init;return e(t._payload)}function G8(t){function e(g,m){if(t){var x=g.deletions;x===null?(g.deletions=[m],g.flags|=16):x.push(m)}}function r(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function n(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function i(g,m){return g=Bs(g,m),g.index=0,g.sibling=null,g}function s(g,m,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<m?(g.flags|=2,m):x):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,x,b){return m===null||m.tag!==6?(m=jm(x,g.mode,b),m.return=g,m):(m=i(m,x),m.return=g,m)}function l(g,m,x,b){var _=x.type;return _===Wa?c(g,m,x.props.children,b,x.key):m!==null&&(m.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===hs&&pN(_)===m.type)?(b=i(m,x.props),b.ref=Uu(g,m,x),b.return=g,b):(b=Yh(x.type,x.key,x.props,null,g.mode,b),b.ref=Uu(g,m,x),b.return=g,b)}function u(g,m,x,b){return m===null||m.tag!==4||m.stateNode.containerInfo!==x.containerInfo||m.stateNode.implementation!==x.implementation?(m=km(x,g.mode,b),m.return=g,m):(m=i(m,x.children||[]),m.return=g,m)}function c(g,m,x,b,_){return m===null||m.tag!==7?(m=Lo(x,g.mode,b,_),m.return=g,m):(m=i(m,x),m.return=g,m)}function h(g,m,x){if(typeof m=="string"&&m!==""||typeof m=="number")return m=jm(""+m,g.mode,x),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ch:return x=Yh(m.type,m.key,m.props,null,g.mode,x),x.ref=Uu(g,null,m),x.return=g,x;case Ua:return m=km(m,g.mode,x),m.return=g,m;case hs:var b=m._init;return h(g,b(m._payload),x)}if(rc(m)||Au(m))return m=Lo(m,g.mode,x,null),m.return=g,m;xh(g,m)}return null}function f(g,m,x,b){var _=m!==null?m.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:a(g,m,""+x,b);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ch:return x.key===_?l(g,m,x,b):null;case Ua:return x.key===_?u(g,m,x,b):null;case hs:return _=x._init,f(g,m,_(x._payload),b)}if(rc(x)||Au(x))return _!==null?null:c(g,m,x,b,null);xh(g,x)}return null}function p(g,m,x,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(x)||null,a(m,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case ch:return g=g.get(b.key===null?x:b.key)||null,l(m,g,b,_);case Ua:return g=g.get(b.key===null?x:b.key)||null,u(m,g,b,_);case hs:var E=b._init;return p(g,m,x,E(b._payload),_)}if(rc(b)||Au(b))return g=g.get(x)||null,c(m,g,b,_,null);xh(m,b)}return null}function v(g,m,x,b){for(var _=null,E=null,O=m,S=m=0,C=null;O!==null&&S<x.length;S++){O.index>S?(C=O,O=null):C=O.sibling;var P=f(g,O,x[S],b);if(P===null){O===null&&(O=C);break}t&&O&&P.alternate===null&&e(g,O),m=s(P,m,S),E===null?_=P:E.sibling=P,E=P,O=C}if(S===x.length)return r(g,O),lt&&go(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],b),O!==null&&(m=s(O,m,S),E===null?_=O:E.sibling=O,E=O);return lt&&go(g,S),_}for(O=n(g,O);S<x.length;S++)C=p(O,g,S,x[S],b),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?S:C.key),m=s(C,m,S),E===null?_=C:E.sibling=C,E=C);return t&&O.forEach(function(N){return e(g,N)}),lt&&go(g,S),_}function y(g,m,x,b){var _=Au(x);if(typeof _!="function")throw Error(J(150));if(x=_.call(x),x==null)throw Error(J(151));for(var E=_=null,O=m,S=m=0,C=null,P=x.next();O!==null&&!P.done;S++,P=x.next()){O.index>S?(C=O,O=null):C=O.sibling;var N=f(g,O,P.value,b);if(N===null){O===null&&(O=C);break}t&&O&&N.alternate===null&&e(g,O),m=s(N,m,S),E===null?_=N:E.sibling=N,E=N,O=C}if(P.done)return r(g,O),lt&&go(g,S),_;if(O===null){for(;!P.done;S++,P=x.next())P=h(g,P.value,b),P!==null&&(m=s(P,m,S),E===null?_=P:E.sibling=P,E=P);return lt&&go(g,S),_}for(O=n(g,O);!P.done;S++,P=x.next())P=p(O,g,S,P.value,b),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),m=s(P,m,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(T){return e(g,T)}),lt&&go(g,S),_}function w(g,m,x,b){if(typeof x=="object"&&x!==null&&x.type===Wa&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ch:e:{for(var _=x.key,E=m;E!==null;){if(E.key===_){if(_=x.type,_===Wa){if(E.tag===7){r(g,E.sibling),m=i(E,x.props.children),m.return=g,g=m;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===hs&&pN(_)===E.type){r(g,E.sibling),m=i(E,x.props),m.ref=Uu(g,E,x),m.return=g,g=m;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===Wa?(m=Lo(x.props.children,g.mode,b,x.key),m.return=g,g=m):(b=Yh(x.type,x.key,x.props,null,g.mode,b),b.ref=Uu(g,m,x),b.return=g,g=b)}return o(g);case Ua:e:{for(E=x.key;m!==null;){if(m.key===E)if(m.tag===4&&m.stateNode.containerInfo===x.containerInfo&&m.stateNode.implementation===x.implementation){r(g,m.sibling),m=i(m,x.children||[]),m.return=g,g=m;break e}else{r(g,m);break}else e(g,m);m=m.sibling}m=km(x,g.mode,b),m.return=g,g=m}return o(g);case hs:return E=x._init,w(g,m,E(x._payload),b)}if(rc(x))return v(g,m,x,b);if(Au(x))return y(g,m,x,b);xh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,m!==null&&m.tag===6?(r(g,m.sibling),m=i(m,x),m.return=g,g=m):(r(g,m),m=jm(x,g.mode,b),m.return=g,g=m),o(g)):r(g,m)}return w}var ql=G8(!0),Y8=G8(!1),bf=io(null),wf=null,Ja=null,NC=null;function RC(){NC=Ja=wf=null}function $C(t){var e=bf.current;ot(bf),t._currentValue=e}function VO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function dl(t,e){wf=t,NC=Ja=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(NC!==t)if(t={context:t,memoizedValue:e,next:null},Ja===null){if(wf===null)throw Error(J(308));Ja=t,wf.dependencies={lanes:0,firstContext:t}}else Ja=Ja.next=t;return e}var xo=null;function jC(t){xo===null?xo=[t]:xo.push(t)}function Q8(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,jC(e)):(r.next=i.next,i.next=r),e.interleaved=r,Gi(t,n)}function Gi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var fs=!1;function kC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function X8(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function qi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function As(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Gi(t,r)}return i=n.interleaved,i===null?(e.next=e,jC(n)):(e.next=i.next,i.next=e),n.interleaved=e,Gi(t,r)}function Uh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}function mN(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var o={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=o:s=s.next=o,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function xf(t,e,r,n){var i=t.updateQueue;fs=!1;var s=i.firstBaseUpdate,o=i.lastBaseUpdate,a=i.shared.pending;if(a!==null){i.shared.pending=null;var l=a,u=l.next;l.next=null,o===null?s=u:o.next=u,o=l;var c=t.alternate;c!==null&&(c=c.updateQueue,a=c.lastBaseUpdate,a!==o&&(a===null?c.firstBaseUpdate=u:a.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;o=0,c=u=l=null,a=s;do{var f=a.lane,p=a.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var v=t,y=a;switch(f=e,p=r,y.tag){case 1:if(v=y.payload,typeof v=="function"){h=v.call(p,h,f);break e}h=v;break e;case 3:v.flags=v.flags&-65537|128;case 0:if(v=y.payload,f=typeof v=="function"?v.call(p,h,f):v,f==null)break e;h=pt({},h,f);break e;case 2:fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[a]:f.push(a))}else p={eventTime:p,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,o|=f;if(a=a.next,a===null){if(a=i.shared.pending,a===null)break;f=a,a=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do o|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Xo|=o,t.lanes=o,t.memoizedState=h}}function vN(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(J(191,i));i.call(n)}}}var bd={},yi=io(bd),Mc=io(bd),Ac=io(bd);function _o(t){if(t===bd)throw Error(J(174));return t}function DC(t,e){switch(rt(Ac,e),rt(Mc,t),rt(yi,bd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:PO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=PO(e,t)}ot(yi),rt(yi,e)}function Ml(){ot(yi),ot(Mc),ot(Ac)}function J8(t){_o(Ac.current);var e=_o(yi.current),r=PO(e,t.type);e!==r&&(rt(Mc,t),rt(yi,r))}function qC(t){Mc.current===t&&(ot(yi),ot(Mc))}var ct=io(0);function _f(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Cm=[];function MC(){for(var t=0;t<Cm.length;t++)Cm[t]._workInProgressVersionPrimary=null;Cm.length=0}var Wh=Xi.ReactCurrentDispatcher,Tm=Xi.ReactCurrentBatchConfig,Qo=0,dt=null,Wt=null,Qt=null,Sf=!1,fc=!1,Fc=0,hX=0;function mr(){throw Error(J(321))}function AC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Qn(t[r],e[r]))return!1;return!0}function FC(t,e,r,n,i,s){if(Qo=s,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Wh.current=t===null||t.memoizedState===null?vX:gX,t=r(n,i),fc){s=0;do{if(fc=!1,Fc=0,25<=s)throw Error(J(301));s+=1,Qt=Wt=null,e.updateQueue=null,Wh.current=yX,t=r(n,i)}while(fc)}if(Wh.current=Ef,e=Wt!==null&&Wt.next!==null,Qo=0,Qt=Wt=dt=null,Sf=!1,e)throw Error(J(300));return t}function LC(){var t=Fc!==0;return Fc=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Qt===null?dt.memoizedState=Qt=t:Qt=Qt.next=t,Qt}function Nn(){if(Wt===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Wt.next;var e=Qt===null?dt.memoizedState:Qt.next;if(e!==null)Qt=e,Wt=t;else{if(t===null)throw Error(J(310));Wt=t,t={memoizedState:Wt.memoizedState,baseState:Wt.baseState,baseQueue:Wt.baseQueue,queue:Wt.queue,next:null},Qt===null?dt.memoizedState=Qt=t:Qt=Qt.next=t}return Qt}function Lc(t,e){return typeof e=="function"?e(t):e}function Im(t){var e=Nn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=Wt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var o=i.next;i.next=s.next,s.next=o}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var a=o=null,l=null,u=s;do{var c=u.lane;if((Qo&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(a=l=h,o=n):l=l.next=h,dt.lanes|=c,Xo|=c}u=u.next}while(u!==null&&u!==s);l===null?o=n:l.next=a,Qn(n,e.memoizedState)||(Hr=!0),e.memoizedState=n,e.baseState=o,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,dt.lanes|=s,Xo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Nm(t){var e=Nn(),r=e.queue;if(r===null)throw Error(J(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var o=i=i.next;do s=t(s,o.action),o=o.next;while(o!==i);Qn(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function Z8(){}function eV(t,e){var r=dt,n=Nn(),i=e(),s=!Qn(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,BC(nV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Qt!==null&&Qt.memoizedState.tag&1){if(r.flags|=2048,Bc(9,rV.bind(null,r,n,i,e),void 0,null),Jt===null)throw Error(J(349));Qo&30||tV(r,e,i)}return i}function tV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function rV(t,e,r,n){e.value=r,e.getSnapshot=n,iV(e)&&sV(t)}function nV(t,e,r){return r(function(){iV(e)&&sV(t)})}function iV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Qn(t,r)}catch{return!0}}function sV(t){var e=Gi(t,1);e!==null&&Yn(e,t,1,-1)}function gN(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Lc,lastRenderedState:t},e.queue=t,t=t.dispatch=mX.bind(null,dt,t),[e.memoizedState,t]}function Bc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function oV(){return Nn().memoizedState}function Hh(t,e,r,n){var i=oi();dt.flags|=t,i.memoizedState=Bc(1|e,r,void 0,n===void 0?null:n)}function ap(t,e,r,n){var i=Nn();n=n===void 0?null:n;var s=void 0;if(Wt!==null){var o=Wt.memoizedState;if(s=o.destroy,n!==null&&AC(n,o.deps)){i.memoizedState=Bc(e,r,s,n);return}}dt.flags|=t,i.memoizedState=Bc(1|e,r,s,n)}function yN(t,e){return Hh(8390656,8,t,e)}function BC(t,e){return ap(2048,8,t,e)}function aV(t,e){return ap(4,2,t,e)}function lV(t,e){return ap(4,4,t,e)}function uV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function cV(t,e,r){return r=r!=null?r.concat([t]):null,ap(4,4,uV.bind(null,e,t),r)}function zC(){}function dV(t,e){var r=Nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function hV(t,e){var r=Nn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function fV(t,e,r){return Qo&21?(Qn(r,e)||(r=y8(),dt.lanes|=r,Xo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=r)}function fX(t,e){var r=We;We=r!==0&&4>r?r:4,t(!0);var n=Tm.transition;Tm.transition={};try{t(!1),e()}finally{We=r,Tm.transition=n}}function pV(){return Nn().memoizedState}function pX(t,e,r){var n=Ls(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},mV(t))vV(e,r);else if(r=Q8(t,e,r,n),r!==null){var i=$r();Yn(r,t,n,i),gV(r,e,n)}}function mX(t,e,r){var n=Ls(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(mV(t))vV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var o=e.lastRenderedState,a=s(o,r);if(i.hasEagerState=!0,i.eagerState=a,Qn(a,o)){var l=e.interleaved;l===null?(i.next=i,jC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=Q8(t,e,i,n),r!==null&&(i=$r(),Yn(r,t,n,i),gV(r,e,n))}}function mV(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function vV(t,e){fc=Sf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function gV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}var Ef={readContext:In,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},vX={readContext:In,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:yN,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Hh(4194308,4,uV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Hh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Hh(4,2,t,e)},useMemo:function(t,e){var r=oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=pX.bind(null,dt,t),[n.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:gN,useDebugValue:zC,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=gN(!1),e=t[0];return t=fX.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dt,i=oi();if(lt){if(r===void 0)throw Error(J(407));r=r()}else{if(r=e(),Jt===null)throw Error(J(349));Qo&30||tV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,yN(nV.bind(null,n,s,t),[t]),n.flags|=2048,Bc(9,rV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=oi(),e=Jt.identifierPrefix;if(lt){var r=ji,n=$i;r=(n&~(1<<32-Gn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Fc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=hX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},gX={readContext:In,useCallback:dV,useContext:In,useEffect:BC,useImperativeHandle:cV,useInsertionEffect:aV,useLayoutEffect:lV,useMemo:hV,useReducer:Im,useRef:oV,useState:function(){return Im(Lc)},useDebugValue:zC,useDeferredValue:function(t){var e=Nn();return fV(e,Wt.memoizedState,t)},useTransition:function(){var t=Im(Lc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:Z8,useSyncExternalStore:eV,useId:pV,unstable_isNewReconciler:!1},yX={readContext:In,useCallback:dV,useContext:In,useEffect:BC,useImperativeHandle:cV,useInsertionEffect:aV,useLayoutEffect:lV,useMemo:hV,useReducer:Nm,useRef:oV,useState:function(){return Nm(Lc)},useDebugValue:zC,useDeferredValue:function(t){var e=Nn();return Wt===null?e.memoizedState=t:fV(e,Wt.memoizedState,t)},useTransition:function(){var t=Nm(Lc)[0],e=Nn().memoizedState;return[t,e]},useMutableSource:Z8,useSyncExternalStore:eV,useId:pV,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function KO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var lp={isMounted:function(t){return(t=t._reactInternals)?pa(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=$r(),i=Ls(t),s=qi(n,i);s.payload=e,r!=null&&(s.callback=r),e=As(t,s,i),e!==null&&(Yn(e,t,i,n),Uh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=$r(),i=Ls(t),s=qi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=As(t,s,i),e!==null&&(Yn(e,t,i,n),Uh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=$r(),n=Ls(t),i=qi(r,n);i.tag=2,e!=null&&(i.callback=e),e=As(t,i,n),e!==null&&(Yn(e,t,n,r),Uh(e,t,n))}};function bN(t,e,r,n,i,s,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,o):e.prototype&&e.prototype.isPureReactComponent?!jc(r,n)||!jc(i,s):!0}function yV(t,e,r){var n=!1,i=Xs,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Kr(e)?Go:xr.current,n=e.contextTypes,s=(n=n!=null)?kl(t,i):Xs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=lp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function wN(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&lp.enqueueReplaceState(e,e.state,null)}function GO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},kC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Kr(e)?Go:xr.current,i.context=kl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(KO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&lp.enqueueReplaceState(i,i.state,null),xf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Al(t,e){try{var r="",n=e;do r+=VY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Rm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function YO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var bX=typeof WeakMap=="function"?WeakMap:Map;function bV(t,e,r){r=qi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Pf||(Pf=!0,sP=n),YO(t,e)},r}function wV(t,e,r){r=qi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){YO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){YO(t,e),typeof n!="function"&&(Fs===null?Fs=new Set([this]):Fs.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),r}function xN(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new bX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=jX.bind(null,t,e,r),e.then(t,t))}function _N(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SN(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=qi(-1,1),e.tag=2,As(r,e,1))),r.lanes|=1),t)}var wX=Xi.ReactCurrentOwner,Hr=!1;function Cr(t,e,r,n){e.child=t===null?Y8(e,null,r,n):ql(e,t.child,r,n)}function EN(t,e,r,n,i){r=r.render;var s=e.ref;return dl(e,i),n=FC(t,e,r,n,s,i),r=LC(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(lt&&r&&CC(e),e.flags|=1,Cr(t,e,n,i),e.child)}function ON(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!QC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,xV(t,e,s,n,i)):(t=Yh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var o=s.memoizedProps;if(r=r.compare,r=r!==null?r:jc,r(o,n)&&t.ref===e.ref)return Yi(t,e,i)}return e.flags|=1,t=Bs(s,n),t.ref=e.ref,t.return=e,e.child=t}function xV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(jc(s,n)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,Yi(t,e,i)}return QO(t,e,r,n,i)}function _V(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(el,on),on|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(el,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rt(el,on),on|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rt(el,on),on|=n;return Cr(t,e,i,r),e.child}function SV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function QO(t,e,r,n,i){var s=Kr(r)?Go:xr.current;return s=kl(e,s),dl(e,i),r=FC(t,e,r,n,s,i),n=LC(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Yi(t,e,i)):(lt&&n&&CC(e),e.flags|=1,Cr(t,e,r,i),e.child)}function PN(t,e,r,n,i){if(Kr(r)){var s=!0;vf(e)}else s=!1;if(dl(e,i),e.stateNode===null)Vh(t,e),yV(e,r,n),GO(e,r,n,i),n=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,u=r.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Kr(r)?Go:xr.current,u=kl(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==n||l!==u)&&wN(e,o,n,u),fs=!1;var f=e.memoizedState;o.state=f,xf(e,n,o,i),l=e.memoizedState,a!==n||f!==l||Vr.current||fs?(typeof c=="function"&&(KO(e,r,c,n),l=e.memoizedState),(a=fs||bN(e,r,a,n,f,l,u))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),o.props=n,o.state=l,o.context=u,n=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{o=e.stateNode,X8(t,e),a=e.memoizedProps,u=e.type===e.elementType?a:Fn(e.type,a),o.props=u,h=e.pendingProps,f=o.context,l=r.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Kr(r)?Go:xr.current,l=kl(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&wN(e,o,n,l),fs=!1,f=e.memoizedState,o.state=f,xf(e,n,o,i);var v=e.memoizedState;a!==h||f!==v||Vr.current||fs?(typeof p=="function"&&(KO(e,r,p,n),v=e.memoizedState),(u=fs||bN(e,r,u,n,f,v,l)||!1)?(c||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(n,v,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(n,v,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=v),o.props=n,o.state=v,o.context=l,n=u):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return XO(t,e,r,n,s,i)}function XO(t,e,r,n,i,s){SV(t,e);var o=(e.flags&128)!==0;if(!n&&!o)return i&&dN(e,r,!1),Yi(t,e,s);n=e.stateNode,wX.current=e;var a=o&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&o?(e.child=ql(e,t.child,null,s),e.child=ql(e,null,a,s)):Cr(t,e,a,s),e.memoizedState=n.state,i&&dN(e,r,!0),e.child}function EV(t){var e=t.stateNode;e.pendingContext?cN(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cN(t,e.context,!1),DC(t,e.containerInfo)}function CN(t,e,r,n,i){return Dl(),IC(i),e.flags|=256,Cr(t,e,r,n),e.child}var JO={dehydrated:null,treeContext:null,retryLane:0};function ZO(t){return{baseLanes:t,cachePool:null,transitions:null}}function OV(t,e,r){var n=e.pendingProps,i=ct.current,s=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(i&2)!==0),a?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(ct,i&1),t===null)return HO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=n.children,t=n.fallback,s?(n=e.mode,s=e.child,o={mode:"hidden",children:o},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=o):s=dp(o,n,0,null),t=Lo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ZO(r),e.memoizedState=JO,t):UC(e,o));if(i=t.memoizedState,i!==null&&(a=i.dehydrated,a!==null))return xX(t,e,o,n,a,i,r);if(s){s=n.fallback,o=e.mode,i=t.child,a=i.sibling;var l={mode:"hidden",children:n.children};return!(o&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Bs(i,l),n.subtreeFlags=i.subtreeFlags&14680064),a!==null?s=Bs(a,s):(s=Lo(s,o,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,o=t.child.memoizedState,o=o===null?ZO(r):{baseLanes:o.baseLanes|r,cachePool:null,transitions:o.transitions},s.memoizedState=o,s.childLanes=t.childLanes&~r,e.memoizedState=JO,n}return s=t.child,t=s.sibling,n=Bs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function UC(t,e){return e=dp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function _h(t,e,r,n){return n!==null&&IC(n),ql(e,t.child,null,r),t=UC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function xX(t,e,r,n,i,s,o){if(r)return e.flags&256?(e.flags&=-257,n=Rm(Error(J(422))),_h(t,e,o,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=dp({mode:"visible",children:n.children},i,0,null),s=Lo(s,i,o,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ql(e,t.child,null,o),e.child.memoizedState=ZO(o),e.memoizedState=JO,s);if(!(e.mode&1))return _h(t,e,o,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var a=n.dgst;return n=a,s=Error(J(419)),n=Rm(s,n,void 0),_h(t,e,o,n)}if(a=(o&t.childLanes)!==0,Hr||a){if(n=Jt,n!==null){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|o)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Gi(t,i),Yn(n,t,i,-1))}return YC(),n=Rm(Error(J(421))),_h(t,e,o,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=kX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,un=Ms(i.nextSibling),cn=e,lt=!0,Un=null,t!==null&&(_n[Sn++]=$i,_n[Sn++]=ji,_n[Sn++]=Yo,$i=t.id,ji=t.overflow,Yo=e),e=UC(e,n.children),e.flags|=4096,e)}function TN(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),VO(t.return,e,r)}function $m(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function PV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Cr(t,e,n.children,r),n=ct.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TN(t,r,e);else if(t.tag===19)TN(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rt(ct,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&_f(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),$m(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&_f(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}$m(e,!0,r,null,s);break;case"together":$m(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Yi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Xo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(J(153));if(e.child!==null){for(t=e.child,r=Bs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Bs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function _X(t,e,r){switch(e.tag){case 3:EV(e),Dl();break;case 5:J8(e);break;case 1:Kr(e.type)&&vf(e);break;case 4:DC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rt(bf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rt(ct,ct.current&1),e.flags|=128,null):r&e.child.childLanes?OV(t,e,r):(rt(ct,ct.current&1),t=Yi(t,e,r),t!==null?t.sibling:null);rt(ct,ct.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return PV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ct,ct.current),n)break;return null;case 22:case 23:return e.lanes=0,_V(t,e,r)}return Yi(t,e,r)}var CV,eP,TV,IV;CV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eP=function(){};TV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,_o(yi.current);var s=null;switch(r){case"input":i=_O(t,i),n=_O(t,n),s=[];break;case"select":i=pt({},i,{value:void 0}),n=pt({},n,{value:void 0}),s=[];break;case"textarea":i=OO(t,i),n=OO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=pf)}CO(r,n);var o;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var a=i[u];for(o in a)a.hasOwnProperty(o)&&(r||(r={}),r[o]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Pc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(a=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==a&&(l!=null||a!=null))if(u==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(r||(r={}),r[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(r||(r={}),r[o]=l[o])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Pc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),s||a===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};IV=function(t,e,r,n){r!==n&&(e.flags|=4)};function Wu(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function SX(t,e,r){var n=e.pendingProps;switch(TC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(e),null;case 1:return Kr(e.type)&&mf(),vr(e),null;case 3:return n=e.stateNode,Ml(),ot(Vr),ot(xr),MC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(wh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(lP(Un),Un=null))),eP(t,e),vr(e),null;case 5:qC(e);var i=_o(Ac.current);if(r=e.type,t!==null&&e.stateNode!=null)TV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(J(166));return vr(e),null}if(t=_o(yi.current),wh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[hi]=e,n[qc]=s,t=(e.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(i=0;i<ic.length;i++)st(ic[i],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":MI(n,s),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},st("invalid",n);break;case"textarea":FI(n,s),st("invalid",n)}CO(r,s),i=null;for(var o in s)if(s.hasOwnProperty(o)){var a=s[o];o==="children"?typeof a=="string"?n.textContent!==a&&(s.suppressHydrationWarning!==!0&&bh(n.textContent,a,t),i=["children",a]):typeof a=="number"&&n.textContent!==""+a&&(s.suppressHydrationWarning!==!0&&bh(n.textContent,a,t),i=["children",""+a]):Pc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&st("scroll",n)}switch(r){case"input":dh(n),AI(n,s,!0);break;case"textarea":dh(n),LI(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=pf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{o=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=n8(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=o.createElement(r,{is:n.is}):(t=o.createElement(r),r==="select"&&(o=t,n.multiple?o.multiple=!0:n.size&&(o.size=n.size))):t=o.createElementNS(t,r),t[hi]=e,t[qc]=n,CV(t,e,!1,!1),e.stateNode=t;e:{switch(o=TO(r,n),r){case"dialog":st("cancel",t),st("close",t),i=n;break;case"iframe":case"object":case"embed":st("load",t),i=n;break;case"video":case"audio":for(i=0;i<ic.length;i++)st(ic[i],t);i=n;break;case"source":st("error",t),i=n;break;case"img":case"image":case"link":st("error",t),st("load",t),i=n;break;case"details":st("toggle",t),i=n;break;case"input":MI(t,n),i=_O(t,n),st("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pt({},n,{value:void 0}),st("invalid",t);break;case"textarea":FI(t,n),i=OO(t,n),st("invalid",t);break;default:i=n}CO(r,i),a=i;for(s in a)if(a.hasOwnProperty(s)){var l=a[s];s==="style"?o8(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&i8(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Cc(t,l):typeof l=="number"&&Cc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Pc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&st("scroll",t):l!=null&&fC(t,s,l,o))}switch(r){case"input":dh(t),AI(t,n,!1);break;case"textarea":dh(t),LI(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Qs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?al(t,!!n.multiple,s,!1):n.defaultValue!=null&&al(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=pf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vr(e),null;case 6:if(t&&e.stateNode!=null)IV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(J(166));if(r=_o(Ac.current),_o(yi.current),wh(e)){if(n=e.stateNode,r=e.memoizedProps,n[hi]=e,(s=n.nodeValue!==r)&&(t=cn,t!==null))switch(t.tag){case 3:bh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&bh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[hi]=e,e.stateNode=n}return vr(e),null;case 13:if(ot(ct),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&un!==null&&e.mode&1&&!(e.flags&128))K8(),Dl(),e.flags|=98560,s=!1;else if(s=wh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(J(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(J(317));s[hi]=e}else Dl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vr(e),s=!1}else Un!==null&&(lP(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Ht===0&&(Ht=3):YC())),e.updateQueue!==null&&(e.flags|=4),vr(e),null);case 4:return Ml(),eP(t,e),t===null&&kc(e.stateNode.containerInfo),vr(e),null;case 10:return $C(e.type._context),vr(e),null;case 17:return Kr(e.type)&&mf(),vr(e),null;case 19:if(ot(ct),s=e.memoizedState,s===null)return vr(e),null;if(n=(e.flags&128)!==0,o=s.rendering,o===null)if(n)Wu(s,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=_f(t),o!==null){for(e.flags|=128,Wu(s,!1),n=o.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,o=s.alternate,o===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=o.childLanes,s.lanes=o.lanes,s.child=o.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=o.memoizedProps,s.memoizedState=o.memoizedState,s.updateQueue=o.updateQueue,s.type=o.type,t=o.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rt(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>Fl&&(e.flags|=128,n=!0,Wu(s,!1),e.lanes=4194304)}else{if(!n)if(t=_f(o),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Wu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!o.alternate&&!lt)return vr(e),null}else 2*Pt()-s.renderingStartTime>Fl&&r!==1073741824&&(e.flags|=128,n=!0,Wu(s,!1),e.lanes=4194304);s.isBackwards?(o.sibling=e.child,e.child=o):(r=s.last,r!==null?r.sibling=o:e.child=o,s.last=o)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,r=ct.current,rt(ct,n?r&1|2:r&1),e):(vr(e),null);case 22:case 23:return GC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?on&1073741824&&(vr(e),e.subtreeFlags&6&&(e.flags|=8192)):vr(e),null;case 24:return null;case 25:return null}throw Error(J(156,e.tag))}function EX(t,e){switch(TC(e),e.tag){case 1:return Kr(e.type)&&mf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ml(),ot(Vr),ot(xr),MC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qC(e),null;case 13:if(ot(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(J(340));Dl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ot(ct),null;case 4:return Ml(),null;case 10:return $C(e.type._context),null;case 22:case 23:return GC(),null;case 24:return null;default:return null}}var Sh=!1,yr=!1,OX=typeof WeakSet=="function"?WeakSet:Set,ce=null;function Za(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function tP(t,e,r){try{r()}catch(n){xt(t,e,n)}}var IN=!1;function PX(t,e){if(AO=df,t=k8(),PC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var o=0,a=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(a=o+i),h!==s||n!==0&&h.nodeType!==3||(l=o+n),h.nodeType===3&&(o+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(a=o),f===s&&++c===n&&(l=o),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=a===-1||l===-1?null:{start:a,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(FO={focusedElem:t,selectionRange:r},df=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var v=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(v!==null){var y=v.memoizedProps,w=v.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fn(e.type,y),w);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(J(163))}}catch(b){xt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return v=IN,IN=!1,v}function pc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tP(e,r,s)}i=i.next}while(i!==n)}}function up(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function rP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function NV(t){var e=t.alternate;e!==null&&(t.alternate=null,NV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[hi],delete e[qc],delete e[zO],delete e[lX],delete e[uX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function RV(t){return t.tag===5||t.tag===3||t.tag===4}function NN(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||RV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=pf));else if(n!==4&&(t=t.child,t!==null))for(nP(t,e,r),t=t.sibling;t!==null;)nP(t,e,r),t=t.sibling}function iP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(iP(t,e,r),t=t.sibling;t!==null;)iP(t,e,r),t=t.sibling}var ar=null,zn=!1;function us(t,e,r){for(r=r.child;r!==null;)$V(t,e,r),r=r.sibling}function $V(t,e,r){if(gi&&typeof gi.onCommitFiberUnmount=="function")try{gi.onCommitFiberUnmount(tp,r)}catch{}switch(r.tag){case 5:yr||Za(r,e);case 6:var n=ar,i=zn;ar=null,us(t,e,r),ar=n,zn=i,ar!==null&&(zn?(t=ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ar.removeChild(r.stateNode));break;case 18:ar!==null&&(zn?(t=ar,r=r.stateNode,t.nodeType===8?Om(t.parentNode,r):t.nodeType===1&&Om(t,r),Rc(t)):Om(ar,r.stateNode));break;case 4:n=ar,i=zn,ar=r.stateNode.containerInfo,zn=!0,us(t,e,r),ar=n,zn=i;break;case 0:case 11:case 14:case 15:if(!yr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,o=s.destroy;s=s.tag,o!==void 0&&(s&2||s&4)&&tP(r,e,o),i=i.next}while(i!==n)}us(t,e,r);break;case 1:if(!yr&&(Za(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(a){xt(r,e,a)}us(t,e,r);break;case 21:us(t,e,r);break;case 22:r.mode&1?(yr=(n=yr)||r.memoizedState!==null,us(t,e,r),yr=n):us(t,e,r);break;default:us(t,e,r)}}function RN(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new OX),e.forEach(function(n){var i=DX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ar=a.stateNode,zn=!1;break e;case 3:ar=a.stateNode.containerInfo,zn=!0;break e;case 4:ar=a.stateNode.containerInfo,zn=!0;break e}a=a.return}if(ar===null)throw Error(J(160));$V(s,o,i),ar=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jV(e,t),e=e.sibling}function jV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),ii(t),n&4){try{pc(3,t,t.return),up(3,t)}catch(y){xt(t,t.return,y)}try{pc(5,t,t.return)}catch(y){xt(t,t.return,y)}}break;case 1:Mn(e,t),ii(t),n&512&&r!==null&&Za(r,r.return);break;case 5:if(Mn(e,t),ii(t),n&512&&r!==null&&Za(r,r.return),t.flags&32){var i=t.stateNode;try{Cc(i,"")}catch(y){xt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,o=r!==null?r.memoizedProps:s,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&s.type==="radio"&&s.name!=null&&t8(i,s),TO(a,o);var u=TO(a,s);for(o=0;o<l.length;o+=2){var c=l[o],h=l[o+1];c==="style"?o8(i,h):c==="dangerouslySetInnerHTML"?i8(i,h):c==="children"?Cc(i,h):fC(i,c,h,u)}switch(a){case"input":SO(i,s);break;case"textarea":r8(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?al(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?al(i,!!s.multiple,s.defaultValue,!0):al(i,!!s.multiple,s.multiple?[]:"",!1))}i[qc]=s}catch(y){xt(t,t.return,y)}}break;case 6:if(Mn(e,t),ii(t),n&4){if(t.stateNode===null)throw Error(J(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){xt(t,t.return,y)}}break;case 3:if(Mn(e,t),ii(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Rc(e.containerInfo)}catch(y){xt(t,t.return,y)}break;case 4:Mn(e,t),ii(t);break;case 13:Mn(e,t),ii(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(VC=Pt())),n&4&&RN(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(yr=(u=yr)||c,Mn(e,t),yr=u):Mn(e,t),ii(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(h=ce=c;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:pc(4,f,f.return);break;case 1:Za(f,f.return);var v=f.stateNode;if(typeof v.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,v.props=e.memoizedProps,v.state=e.memoizedState,v.componentWillUnmount()}catch(y){xt(n,r,y)}}break;case 5:Za(f,f.return);break;case 22:if(f.memoizedState!==null){jN(h);continue}}p!==null?(p.return=f,ce=p):jN(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=s8("display",o))}catch(y){xt(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){xt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),ii(t),n&4&&RN(t);break;case 21:break;default:Mn(e,t),ii(t)}}function ii(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(RV(r)){var n=r;break e}r=r.return}throw Error(J(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Cc(i,""),n.flags&=-33);var s=NN(t);iP(t,s,i);break;case 3:case 4:var o=n.stateNode.containerInfo,a=NN(t);nP(t,a,o);break;default:throw Error(J(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function CX(t,e,r){ce=t,kV(t)}function kV(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var o=i.memoizedState!==null||Sh;if(!o){var a=i.alternate,l=a!==null&&a.memoizedState!==null||yr;a=Sh;var u=yr;if(Sh=o,(yr=l)&&!u)for(ce=i;ce!==null;)o=ce,l=o.child,o.tag===22&&o.memoizedState!==null?kN(i):l!==null?(l.return=o,ce=l):kN(i);for(;s!==null;)ce=s,kV(s),s=s.sibling;ce=i,Sh=a,yr=u}$N(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):$N(t)}}function $N(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||up(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!yr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vN(e,s,n);break;case 3:var o=e.updateQueue;if(o!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}vN(e,o,r)}break;case 5:var a=e.stateNode;if(r===null&&e.flags&4){r=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&Rc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(J(163))}yr||e.flags&512&&rP(e)}catch(f){xt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function jN(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function kN(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{up(4,e)}catch(l){xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{rP(e)}catch(l){xt(e,s,l)}break;case 5:var o=e.return;try{rP(e)}catch(l){xt(e,o,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ce=null;break}var a=e.sibling;if(a!==null){a.return=e.return,ce=a;break}ce=e.return}}var TX=Math.ceil,Of=Xi.ReactCurrentDispatcher,WC=Xi.ReactCurrentOwner,Pn=Xi.ReactCurrentBatchConfig,Fe=0,Jt=null,Rt=null,lr=0,on=0,el=io(0),Ht=0,zc=null,Xo=0,cp=0,HC=0,mc=null,Ur=null,VC=0,Fl=1/0,Pi=null,Pf=!1,sP=null,Fs=null,Eh=!1,Rs=null,Cf=0,vc=0,oP=null,Kh=-1,Gh=0;function $r(){return Fe&6?Pt():Kh!==-1?Kh:Kh=Pt()}function Ls(t){return t.mode&1?Fe&2&&lr!==0?lr&-lr:dX.transition!==null?(Gh===0&&(Gh=y8()),Gh):(t=We,t!==0||(t=window.event,t=t===void 0?16:O8(t.type)),t):1}function Yn(t,e,r,n){if(50<vc)throw vc=0,oP=null,Error(J(185));vd(t,r,n),(!(Fe&2)||t!==Jt)&&(t===Jt&&(!(Fe&2)&&(cp|=r),Ht===4&&ys(t,lr)),Gr(t,n),r===1&&Fe===0&&!(e.mode&1)&&(Fl=Pt()+500,op&&so()))}function Gr(t,e){var r=t.callbackNode;dQ(t,e);var n=cf(t,t===Jt?lr:0);if(n===0)r!==null&&UI(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&UI(r),e===1)t.tag===0?cX(DN.bind(null,t)):W8(DN.bind(null,t)),oX(function(){!(Fe&6)&&so()}),r=null;else{switch(b8(n)){case 1:r=yC;break;case 4:r=v8;break;case 16:r=uf;break;case 536870912:r=g8;break;default:r=uf}r=zV(r,DV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function DV(t,e){if(Kh=-1,Gh=0,Fe&6)throw Error(J(327));var r=t.callbackNode;if(hl()&&t.callbackNode!==r)return null;var n=cf(t,t===Jt?lr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Tf(t,n);else{e=n;var i=Fe;Fe|=2;var s=MV();(Jt!==t||lr!==e)&&(Pi=null,Fl=Pt()+500,Fo(t,e));do try{RX();break}catch(a){qV(t,a)}while(!0);RC(),Of.current=s,Fe=i,Rt!==null?e=0:(Jt=null,lr=0,e=Ht)}if(e!==0){if(e===2&&(i=jO(t),i!==0&&(n=i,e=aP(t,i))),e===1)throw r=zc,Fo(t,0),ys(t,n),Gr(t,Pt()),r;if(e===6)ys(t,n);else{if(i=t.current.alternate,!(n&30)&&!IX(i)&&(e=Tf(t,n),e===2&&(s=jO(t),s!==0&&(n=s,e=aP(t,s))),e===1))throw r=zc,Fo(t,0),ys(t,n),Gr(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(J(345));case 2:yo(t,Ur,Pi);break;case 3:if(ys(t,n),(n&130023424)===n&&(e=VC+500-Pt(),10<e)){if(cf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){$r(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=BO(yo.bind(null,t,Ur,Pi),e);break}yo(t,Ur,Pi);break;case 4:if(ys(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var o=31-Gn(n);s=1<<o,o=e[o],o>i&&(i=o),n&=~s}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*TX(n/1960))-n,10<n){t.timeoutHandle=BO(yo.bind(null,t,Ur,Pi),n);break}yo(t,Ur,Pi);break;case 5:yo(t,Ur,Pi);break;default:throw Error(J(329))}}}return Gr(t,Pt()),t.callbackNode===r?DV.bind(null,t):null}function aP(t,e){var r=mc;return t.current.memoizedState.isDehydrated&&(Fo(t,e).flags|=256),t=Tf(t,e),t!==2&&(e=Ur,Ur=r,e!==null&&lP(e)),t}function lP(t){Ur===null?Ur=t:Ur.push.apply(Ur,t)}function IX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Qn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ys(t,e){for(e&=~HC,e&=~cp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Gn(e),n=1<<r;t[r]=-1,e&=~n}}function DN(t){if(Fe&6)throw Error(J(327));hl();var e=cf(t,0);if(!(e&1))return Gr(t,Pt()),null;var r=Tf(t,e);if(t.tag!==0&&r===2){var n=jO(t);n!==0&&(e=n,r=aP(t,n))}if(r===1)throw r=zc,Fo(t,0),ys(t,e),Gr(t,Pt()),r;if(r===6)throw Error(J(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,yo(t,Ur,Pi),Gr(t,Pt()),null}function KC(t,e){var r=Fe;Fe|=1;try{return t(e)}finally{Fe=r,Fe===0&&(Fl=Pt()+500,op&&so())}}function Jo(t){Rs!==null&&Rs.tag===0&&!(Fe&6)&&hl();var e=Fe;Fe|=1;var r=Pn.transition,n=We;try{if(Pn.transition=null,We=1,t)return t()}finally{We=n,Pn.transition=r,Fe=e,!(Fe&6)&&so()}}function GC(){on=el.current,ot(el)}function Fo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,sX(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(TC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&mf();break;case 3:Ml(),ot(Vr),ot(xr),MC();break;case 5:qC(n);break;case 4:Ml();break;case 13:ot(ct);break;case 19:ot(ct);break;case 10:$C(n.type._context);break;case 22:case 23:GC()}r=r.return}if(Jt=t,Rt=t=Bs(t.current,null),lr=on=e,Ht=0,zc=null,HC=cp=Xo=0,Ur=mc=null,xo!==null){for(e=0;e<xo.length;e++)if(r=xo[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var o=s.next;s.next=i,n.next=o}r.pending=n}xo=null}return t}function qV(t,e){do{var r=Rt;try{if(RC(),Wh.current=Ef,Sf){for(var n=dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Sf=!1}if(Qo=0,Qt=Wt=dt=null,fc=!1,Fc=0,WC.current=null,r===null||r.return===null){Ht=1,zc=e,Rt=null;break}e:{var s=t,o=r.return,a=r,l=e;if(e=lr,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=a,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=_N(o);if(p!==null){p.flags&=-257,SN(p,o,a,s,e),p.mode&1&&xN(s,u,e),e=p,l=u;var v=e.updateQueue;if(v===null){var y=new Set;y.add(l),e.updateQueue=y}else v.add(l);break e}else{if(!(e&1)){xN(s,u,e),YC();break e}l=Error(J(426))}}else if(lt&&a.mode&1){var w=_N(o);if(w!==null){!(w.flags&65536)&&(w.flags|=256),SN(w,o,a,s,e),IC(Al(l,a));break e}}s=l=Al(l,a),Ht!==4&&(Ht=2),mc===null?mc=[s]:mc.push(s),s=o;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=bV(s,l,e);mN(s,g);break e;case 1:a=l;var m=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof m.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Fs===null||!Fs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=wV(s,a,e);mN(s,b);break e}}s=s.return}while(s!==null)}FV(r)}catch(_){e=_,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function MV(){var t=Of.current;return Of.current=Ef,t===null?Ef:t}function YC(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Jt===null||!(Xo&268435455)&&!(cp&268435455)||ys(Jt,lr)}function Tf(t,e){var r=Fe;Fe|=2;var n=MV();(Jt!==t||lr!==e)&&(Pi=null,Fo(t,e));do try{NX();break}catch(i){qV(t,i)}while(!0);if(RC(),Fe=r,Of.current=n,Rt!==null)throw Error(J(261));return Jt=null,lr=0,Ht}function NX(){for(;Rt!==null;)AV(Rt)}function RX(){for(;Rt!==null&&!rQ();)AV(Rt)}function AV(t){var e=BV(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?FV(t):Rt=e,WC.current=null}function FV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=EX(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,Rt=null;return}}else if(r=SX(r,e,on),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Ht===0&&(Ht=5)}function yo(t,e,r){var n=We,i=Pn.transition;try{Pn.transition=null,We=1,$X(t,e,r,n)}finally{Pn.transition=i,We=n}return null}function $X(t,e,r,n){do hl();while(Rs!==null);if(Fe&6)throw Error(J(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(J(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(hQ(t,s),t===Jt&&(Rt=Jt=null,lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Eh||(Eh=!0,zV(uf,function(){return hl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Pn.transition,Pn.transition=null;var o=We;We=1;var a=Fe;Fe|=4,WC.current=null,PX(t,r),jV(r,t),JQ(FO),df=!!AO,FO=AO=null,t.current=r,CX(r),nQ(),Fe=a,We=o,Pn.transition=s}else t.current=r;if(Eh&&(Eh=!1,Rs=t,Cf=i),s=t.pendingLanes,s===0&&(Fs=null),oQ(r.stateNode),Gr(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Pf)throw Pf=!1,t=sP,sP=null,t;return Cf&1&&t.tag!==0&&hl(),s=t.pendingLanes,s&1?t===oP?vc++:(vc=0,oP=t):vc=0,so(),null}function hl(){if(Rs!==null){var t=b8(Cf),e=Pn.transition,r=We;try{if(Pn.transition=null,We=16>t?16:t,Rs===null)var n=!1;else{if(t=Rs,Rs=null,Cf=0,Fe&6)throw Error(J(331));var i=Fe;for(Fe|=4,ce=t.current;ce!==null;){var s=ce,o=s.child;if(ce.flags&16){var a=s.deletions;if(a!==null){for(var l=0;l<a.length;l++){var u=a[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:pc(8,c,s)}var h=c.child;if(h!==null)h.return=c,ce=h;else for(;ce!==null;){c=ce;var f=c.sibling,p=c.return;if(NV(c),c===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var v=s.alternate;if(v!==null){var y=v.child;if(y!==null){v.child=null;do{var w=y.sibling;y.sibling=null,y=w}while(y!==null)}}ce=s}}if(s.subtreeFlags&2064&&o!==null)o.return=s,ce=o;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:pc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ce=g;break e}ce=s.return}}var m=t.current;for(ce=m;ce!==null;){o=ce;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,ce=x;else e:for(o=m;ce!==null;){if(a=ce,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:up(9,a)}}catch(_){xt(a,a.return,_)}if(a===o){ce=null;break e}var b=a.sibling;if(b!==null){b.return=a.return,ce=b;break e}ce=a.return}}if(Fe=i,so(),gi&&typeof gi.onPostCommitFiberRoot=="function")try{gi.onPostCommitFiberRoot(tp,t)}catch{}n=!0}return n}finally{We=r,Pn.transition=e}}return!1}function qN(t,e,r){e=Al(r,e),e=bV(t,e,1),t=As(t,e,1),e=$r(),t!==null&&(vd(t,1,e),Gr(t,e))}function xt(t,e,r){if(t.tag===3)qN(t,t,r);else for(;e!==null;){if(e.tag===3){qN(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Fs===null||!Fs.has(n))){t=Al(r,t),t=wV(e,t,1),e=As(e,t,1),t=$r(),e!==null&&(vd(e,1,t),Gr(e,t));break}}e=e.return}}function jX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=$r(),t.pingedLanes|=t.suspendedLanes&r,Jt===t&&(lr&r)===r&&(Ht===4||Ht===3&&(lr&130023424)===lr&&500>Pt()-VC?Fo(t,0):HC|=r),Gr(t,e)}function LV(t,e){e===0&&(t.mode&1?(e=ph,ph<<=1,!(ph&130023424)&&(ph=4194304)):e=1);var r=$r();t=Gi(t,e),t!==null&&(vd(t,e,r),Gr(t,r))}function kX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),LV(t,r)}function DX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(J(314))}n!==null&&n.delete(e),LV(t,r)}var BV;BV=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)Hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Hr=!1,_X(t,e,r);Hr=!!(t.flags&131072)}else Hr=!1,lt&&e.flags&1048576&&H8(e,yf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Vh(t,e),t=e.pendingProps;var i=kl(e,xr.current);dl(e,r),i=FC(null,e,n,t,i,r);var s=LC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(n)?(s=!0,vf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kC(e),i.updater=lp,e.stateNode=i,i._reactInternals=e,GO(e,n,t,r),e=XO(null,e,n,!0,s,r)):(e.tag=0,lt&&s&&CC(e),Cr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Vh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=MX(n),t=Fn(n,t),i){case 0:e=QO(null,e,n,t,r);break e;case 1:e=PN(null,e,n,t,r);break e;case 11:e=EN(null,e,n,t,r);break e;case 14:e=ON(null,e,n,Fn(n.type,t),r);break e}throw Error(J(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),QO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),PN(t,e,n,i,r);case 3:e:{if(EV(e),t===null)throw Error(J(387));n=e.pendingProps,s=e.memoizedState,i=s.element,X8(t,e),xf(e,n,null,r);var o=e.memoizedState;if(n=o.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Al(Error(J(423)),e),e=CN(t,e,n,r,i);break e}else if(n!==i){i=Al(Error(J(424)),e),e=CN(t,e,n,r,i);break e}else for(un=Ms(e.stateNode.containerInfo.firstChild),cn=e,lt=!0,Un=null,r=Y8(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Dl(),n===i){e=Yi(t,e,r);break e}Cr(t,e,n,r)}e=e.child}return e;case 5:return J8(e),t===null&&HO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,o=i.children,LO(n,i)?o=null:s!==null&&LO(n,s)&&(e.flags|=32),SV(t,e),Cr(t,e,o,r),e.child;case 6:return t===null&&HO(e),null;case 13:return OV(t,e,r);case 4:return DC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ql(e,null,n,r):Cr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),EN(t,e,n,i,r);case 7:return Cr(t,e,e.pendingProps,r),e.child;case 8:return Cr(t,e,e.pendingProps.children,r),e.child;case 12:return Cr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,o=i.value,rt(bf,n._currentValue),n._currentValue=o,s!==null)if(Qn(s.value,o)){if(s.children===i.children&&!Vr.current){e=Yi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var a=s.dependencies;if(a!==null){o=s.child;for(var l=a.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=qi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),VO(s.return,r,e),a.lanes|=r;break}l=l.next}}else if(s.tag===10)o=s.type===e.type?null:s.child;else if(s.tag===18){if(o=s.return,o===null)throw Error(J(341));o.lanes|=r,a=o.alternate,a!==null&&(a.lanes|=r),VO(o,r,e),o=s.sibling}else o=s.child;if(o!==null)o.return=s;else for(o=s;o!==null;){if(o===e){o=null;break}if(s=o.sibling,s!==null){s.return=o.return,o=s;break}o=o.return}s=o}Cr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,dl(e,r),i=In(i),n=n(i),e.flags|=1,Cr(t,e,n,r),e.child;case 14:return n=e.type,i=Fn(n,e.pendingProps),i=Fn(n.type,i),ON(t,e,n,i,r);case 15:return xV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),Vh(t,e),e.tag=1,Kr(n)?(t=!0,vf(e)):t=!1,dl(e,r),yV(e,n,i),GO(e,n,i,r),XO(null,e,n,!0,t,r);case 19:return PV(t,e,r);case 22:return _V(t,e,r)}throw Error(J(156,e.tag))};function zV(t,e){return m8(t,e)}function qX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,r,n){return new qX(t,e,r,n)}function QC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function MX(t){if(typeof t=="function")return QC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mC)return 11;if(t===vC)return 14}return 2}function Bs(t,e){var r=t.alternate;return r===null?(r=On(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Yh(t,e,r,n,i,s){var o=2;if(n=t,typeof t=="function")QC(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Wa:return Lo(r.children,i,s,e);case pC:o=8,i|=8;break;case yO:return t=On(12,r,e,i|2),t.elementType=yO,t.lanes=s,t;case bO:return t=On(13,r,e,i),t.elementType=bO,t.lanes=s,t;case wO:return t=On(19,r,e,i),t.elementType=wO,t.lanes=s,t;case JH:return dp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case QH:o=10;break e;case XH:o=9;break e;case mC:o=11;break e;case vC:o=14;break e;case hs:o=16,n=null;break e}throw Error(J(130,t==null?t:typeof t,""))}return e=On(o,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Lo(t,e,r,n){return t=On(7,t,n,e),t.lanes=r,t}function dp(t,e,r,n){return t=On(22,t,n,e),t.elementType=JH,t.lanes=r,t.stateNode={isHidden:!1},t}function jm(t,e,r){return t=On(6,t,null,e),t.lanes=r,t}function km(t,e,r){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function AX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=pm(0),this.expirationTimes=pm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=pm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XC(t,e,r,n,i,s,o,a,l){return t=new AX(t,e,r,a,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=On(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kC(s),t}function FX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Ua,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function UV(t){if(!t)return Xs;t=t._reactInternals;e:{if(pa(t)!==t||t.tag!==1)throw Error(J(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(J(171))}if(t.tag===1){var r=t.type;if(Kr(r))return U8(t,r,e)}return e}function WV(t,e,r,n,i,s,o,a,l){return t=XC(r,n,!0,t,i,s,o,a,l),t.context=UV(null),r=t.current,n=$r(),i=Ls(r),s=qi(n,i),s.callback=e??null,As(r,s,i),t.current.lanes=i,vd(t,i,n),Gr(t,n),t}function hp(t,e,r,n){var i=e.current,s=$r(),o=Ls(i);return r=UV(r),e.context===null?e.context=r:e.pendingContext=r,e=qi(s,o),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=As(i,e,o),t!==null&&(Yn(t,i,o,s),Uh(t,i,o)),o}function If(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MN(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function JC(t,e){MN(t,e),(t=t.alternate)&&MN(t,e)}function LX(){return null}var HV=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZC(t){this._internalRoot=t}fp.prototype.render=ZC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(J(409));hp(t,e,null,null)};fp.prototype.unmount=ZC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Jo(function(){hp(null,t,null,null)}),e[Ki]=null}};function fp(t){this._internalRoot=t}fp.prototype.unstable_scheduleHydration=function(t){if(t){var e=_8();t={blockedOn:null,target:t,priority:e};for(var r=0;r<gs.length&&e!==0&&e<gs[r].priority;r++);gs.splice(r,0,t),r===0&&E8(t)}};function eT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function pp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function AN(){}function BX(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=If(o);s.call(u)}}var o=WV(e,n,t,0,null,!1,!1,"",AN);return t._reactRootContainer=o,t[Ki]=o.current,kc(t.nodeType===8?t.parentNode:t),Jo(),o}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var a=n;n=function(){var u=If(l);a.call(u)}}var l=XC(t,0,!1,null,null,!1,!1,"",AN);return t._reactRootContainer=l,t[Ki]=l.current,kc(t.nodeType===8?t.parentNode:t),Jo(function(){hp(e,l,r,n)}),l}function mp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var o=s;if(typeof i=="function"){var a=i;i=function(){var l=If(o);a.call(l)}}hp(e,o,t,i)}else o=BX(r,e,t,i,n);return If(o)}w8=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=nc(e.pendingLanes);r!==0&&(bC(e,r|1),Gr(e,Pt()),!(Fe&6)&&(Fl=Pt()+500,so()))}break;case 13:Jo(function(){var n=Gi(t,1);if(n!==null){var i=$r();Yn(n,t,1,i)}}),JC(t,1)}};wC=function(t){if(t.tag===13){var e=Gi(t,134217728);if(e!==null){var r=$r();Yn(e,t,134217728,r)}JC(t,134217728)}};x8=function(t){if(t.tag===13){var e=Ls(t),r=Gi(t,e);if(r!==null){var n=$r();Yn(r,t,e,n)}JC(t,e)}};_8=function(){return We};S8=function(t,e){var r=We;try{return We=t,e()}finally{We=r}};NO=function(t,e,r){switch(e){case"input":if(SO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=sp(n);if(!i)throw Error(J(90));e8(n),SO(n,i)}}}break;case"textarea":r8(t,r);break;case"select":e=r.value,e!=null&&al(t,!!r.multiple,e,!1)}};u8=KC;c8=Jo;var zX={usingClientEntryPoint:!1,Events:[yd,Ga,sp,a8,l8,KC]},Hu={findFiberByHostInstance:wo,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},UX={bundleType:Hu.bundleType,version:Hu.version,rendererPackageName:Hu.rendererPackageName,rendererConfig:Hu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Xi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=f8(t),t===null?null:t.stateNode},findFiberByHostInstance:Hu.findFiberByHostInstance||LX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Oh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Oh.isDisabled&&Oh.supportsFiber)try{tp=Oh.inject(UX),gi=Oh}catch{}}hn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zX;hn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eT(e))throw Error(J(200));return FX(t,e,null,r)};hn.createRoot=function(t,e){if(!eT(t))throw Error(J(299));var r=!1,n="",i=HV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=XC(t,1,!1,null,null,r,!1,n,i),t[Ki]=e.current,kc(t.nodeType===8?t.parentNode:t),new ZC(e)};hn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(J(188)):(t=Object.keys(t).join(","),Error(J(268,t)));return t=f8(e),t=t===null?null:t.stateNode,t};hn.flushSync=function(t){return Jo(t)};hn.hydrate=function(t,e,r){if(!pp(e))throw Error(J(200));return mp(null,t,e,!0,r)};hn.hydrateRoot=function(t,e,r){if(!eT(t))throw Error(J(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",o=HV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(o=r.onRecoverableError)),e=WV(e,null,t,1,r??null,i,!1,s,o),t[Ki]=e.current,kc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new fp(e)};hn.render=function(t,e,r){if(!pp(e))throw Error(J(200));return mp(null,t,e,!1,r)};hn.unmountComponentAtNode=function(t){if(!pp(t))throw Error(J(40));return t._reactRootContainer?(Jo(function(){mp(null,null,t,!1,function(){t._reactRootContainer=null,t[Ki]=null})}),!0):!1};hn.unstable_batchedUpdates=KC;hn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!pp(r))throw Error(J(200));if(t==null||t._reactInternals===void 0)throw Error(J(38));return mp(t,e,r,!1,n)};hn.version="18.3.1-next-f1338f8080-20240426";function VV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(VV)}catch(t){console.error(t)}}VV(),VH.exports=hn;var WX=VH.exports,FN=WX;vO.createRoot=FN.createRoot,vO.hydrateRoot=FN.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Uc(){return Uc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Uc.apply(this,arguments)}var $s;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})($s||($s={}));const LN="popstate";function HX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:o,hash:a}=n.location;return uP("",{pathname:s,search:o,hash:a},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Nf(i)}return KX(e,r,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function VX(){return Math.random().toString(36).substr(2,8)}function BN(t,e){return{usr:t.state,key:t.key,idx:e}}function uP(t,e,r,n){return r===void 0&&(r=null),Uc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?su(e):e,{state:r,key:e&&e.key||n||VX()})}function Nf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function su(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function KX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,o=i.history,a=$s.Pop,l=null,u=c();u==null&&(u=0,o.replaceState(Uc({},o.state,{idx:u}),""));function c(){return(o.state||{idx:null}).idx}function h(){a=$s.Pop;let w=c(),g=w==null?null:w-u;u=w,l&&l({action:a,location:y.location,delta:g})}function f(w,g){a=$s.Push;let m=uP(y.location,w,g);u=c()+1;let x=BN(m,u),b=y.createHref(m);try{o.pushState(x,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&l&&l({action:a,location:y.location,delta:1})}function p(w,g){a=$s.Replace;let m=uP(y.location,w,g);u=c();let x=BN(m,u),b=y.createHref(m);o.replaceState(x,"",b),s&&l&&l({action:a,location:y.location,delta:0})}function v(w){let g=i.location.origin!=="null"?i.location.origin:i.location.href,m=typeof w=="string"?w:Nf(w);return m=m.replace(/ $/,"%20"),ht(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let y={get action(){return a},get location(){return t(i,o)},listen(w){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LN,h),l=w,()=>{i.removeEventListener(LN,h),l=null}},createHref(w){return e(i,w)},createURL:v,encodeLocation(w){let g=v(w);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(w){return o.go(w)}};return y}var zN;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zN||(zN={}));function GX(t,e,r){return r===void 0&&(r="/"),YX(t,e,r)}function YX(t,e,r,n){let i=typeof e=="string"?su(e):e,s=Ll(i.pathname||"/",r);if(s==null)return null;let o=KV(t);QX(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let u=aJ(s);a=sJ(o[l],u)}return a}function KV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,o,a)=>{let l={relativePath:a===void 0?s.path||"":a,caseSensitive:s.caseSensitive===!0,childrenIndex:o,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=zs([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),KV(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:nJ(u,s.index),routesMeta:c})};return t.forEach((s,o)=>{var a;if(s.path===""||!((a=s.path)!=null&&a.includes("?")))i(s,o);else for(let l of GV(s.path))i(s,o,l)}),e}function GV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let o=GV(n.join("/")),a=[];return a.push(...o.map(l=>l===""?s:[s,l].join("/"))),i&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function QX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:iJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const XX=/^:[\w-]+$/,JX=3,ZX=2,eJ=1,tJ=10,rJ=-2,UN=t=>t==="*";function nJ(t,e){let r=t.split("/"),n=r.length;return r.some(UN)&&(n+=rJ),e&&(n+=ZX),r.filter(i=>!UN(i)).reduce((i,s)=>i+(XX.test(s)?JX:s===""?eJ:tJ),n)}function iJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function sJ(t,e,r){let{routesMeta:n}=t,i={},s="/",o=[];for(let a=0;a<n.length;++a){let l=n[a],u=a===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=cP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h)return null;Object.assign(i,h.params),o.push({params:i,pathname:zs([s,h.pathname]),pathnameBase:hJ(zs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=zs([s,h.pathnameBase]))}return o}function cP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=oJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],o=s.replace(/(.)\/+$/,"$1"),a=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let y=a[h]||"";o=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const v=a[h];return p&&!v?u[f]=void 0:u[f]=(v||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:o,pattern:t}}function oJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(n.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function aJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ll(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const lJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,uJ=t=>lJ.test(t);function cJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?su(t):t,s;if(r)if(uJ(r))s=r;else{if(r.includes("//")){let o=r;r=r.replace(/\/\/+/g,"/"),tT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(o+" -> "+r))}r.startsWith("/")?s=WN(r.substring(1),"/"):s=WN(r,e)}else s=e;return{pathname:s,search:fJ(n),hash:pJ(i)}}function WN(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Dm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function dJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rT(t,e){let r=dJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=su(t):(i=Uc({},t),ht(!i.pathname||!i.pathname.includes("?"),Dm("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Dm("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Dm("#","search","hash",i)));let s=t===""||i.pathname==="",o=s?"/":i.pathname,a;if(o==null)a=r;else{let h=e.length-1;if(!n&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=cJ(i,a),u=o&&o!=="/"&&o.endsWith("/"),c=(s||o===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const zs=t=>t.join("/").replace(/\/\/+/g,"/"),hJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),fJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,pJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function mJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const YV=["post","put","patch","delete"];new Set(YV);const vJ=["get",...YV];new Set(vJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Wc(){return Wc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Wc.apply(this,arguments)}const vp=j.createContext(null),QV=j.createContext(null),Ji=j.createContext(null),gp=j.createContext(null),Zi=j.createContext({outlet:null,matches:[],isDataRoute:!1}),XV=j.createContext(null);function gJ(t,e){let{relative:r}=e===void 0?{}:e;ou()||ht(!1);let{basename:n,navigator:i}=j.useContext(Ji),{hash:s,pathname:o,search:a}=yp(t,{relative:r}),l=o;return n!=="/"&&(l=o==="/"?n:zs([n,o])),i.createHref({pathname:l,search:a,hash:s})}function ou(){return j.useContext(gp)!=null}function es(){return ou()||ht(!1),j.useContext(gp).location}function JV(t){j.useContext(Ji).static||j.useLayoutEffect(t)}function en(){let{isDataRoute:t}=j.useContext(Zi);return t?NJ():yJ()}function yJ(){ou()||ht(!1);let t=j.useContext(vp),{basename:e,future:r,navigator:n}=j.useContext(Ji),{matches:i}=j.useContext(Zi),{pathname:s}=es(),o=JSON.stringify(rT(i,r.v7_relativeSplatPath)),a=j.useRef(!1);return JV(()=>{a.current=!0}),j.useCallback(function(u,c){if(c===void 0&&(c={}),!a.current)return;if(typeof u=="number"){n.go(u);return}let h=nT(u,JSON.parse(o),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:zs([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,o,s,t])}function ts(){let{matches:t}=j.useContext(Zi),e=t[t.length-1];return e?e.params:{}}function yp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=j.useContext(Ji),{matches:i}=j.useContext(Zi),{pathname:s}=es(),o=JSON.stringify(rT(i,n.v7_relativeSplatPath));return j.useMemo(()=>nT(t,JSON.parse(o),s,r==="path"),[t,o,s,r])}function bJ(t,e){return wJ(t,e)}function wJ(t,e,r,n){ou()||ht(!1);let{navigator:i}=j.useContext(Ji),{matches:s}=j.useContext(Zi),o=s[s.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let u=es(),c;if(e){var h;let w=typeof e=="string"?su(e):e;l==="/"||(h=w.pathname)!=null&&h.startsWith(l)||ht(!1),c=w}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let w=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(w.length).join("/")}let v=GX(t,{pathname:p}),y=OJ(v&&v.map(w=>Object.assign({},w,{params:Object.assign({},a,w.params),pathname:zs([l,i.encodeLocation?i.encodeLocation(w.pathname).pathname:w.pathname]),pathnameBase:w.pathnameBase==="/"?l:zs([l,i.encodeLocation?i.encodeLocation(w.pathnameBase).pathname:w.pathnameBase])})),s,r,n);return e&&y?j.createElement(gp.Provider,{value:{location:Wc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:$s.Pop}},y):y}function xJ(){let t=IJ(),e=mJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),r?j.createElement("pre",{style:i},r):null,null)}const _J=j.createElement(xJ,null);class SJ extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?j.createElement(Zi.Provider,{value:this.props.routeContext},j.createElement(XV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function EJ(t){let{routeContext:e,match:r,children:n}=t,i=j.useContext(vp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),j.createElement(Zi.Provider,{value:e},n)}function OJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let o=t,a=(i=r)==null?void 0:i.errors;if(a!=null){let c=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);c>=0||ht(!1),o=o.slice(0,Math.min(o.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<o.length;c++){let h=o[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:p}=r,v=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||v){l=!0,u>=0?o=o.slice(0,u+1):o=[o[0]];break}}}return o.reduceRight((c,h,f)=>{let p,v=!1,y=null,w=null;r&&(p=a&&h.route.id?a[h.route.id]:void 0,y=h.route.errorElement||_J,l&&(u<0&&f===0?(RJ("route-fallback"),v=!0,w=null):u===f&&(v=!0,w=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),m=()=>{let x;return p?x=y:v?x=w:h.route.Component?x=j.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,j.createElement(EJ,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(SJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var ZV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZV||{}),e7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(e7||{});function PJ(t){let e=j.useContext(vp);return e||ht(!1),e}function CJ(t){let e=j.useContext(QV);return e||ht(!1),e}function TJ(t){let e=j.useContext(Zi);return e||ht(!1),e}function t7(t){let e=TJ(),r=e.matches[e.matches.length-1];return r.route.id||ht(!1),r.route.id}function IJ(){var t;let e=j.useContext(XV),r=CJ(),n=t7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function NJ(){let{router:t}=PJ(ZV.UseNavigateStable),e=t7(e7.UseNavigateStable),r=j.useRef(!1);return JV(()=>{r.current=!0}),j.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Wc({fromRouteId:e},s)))},[t,e])}const HN={};function RJ(t,e,r){HN[t]||(HN[t]=!0)}function $J(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function r7(t){let{to:e,replace:r,state:n,relative:i}=t;ou()||ht(!1);let{future:s,static:o}=j.useContext(Ji),{matches:a}=j.useContext(Zi),{pathname:l}=es(),u=en(),c=nT(e,rT(a,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return j.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Xe(t){ht(!1)}function jJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=$s.Pop,navigator:s,static:o=!1,future:a}=t;ou()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=j.useMemo(()=>({basename:l,navigator:s,static:o,future:Wc({v7_relativeSplatPath:!1},a)}),[l,a,s,o]);typeof n=="string"&&(n=su(n));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:v="default"}=n,y=j.useMemo(()=>{let w=Ll(c,l);return w==null?null:{location:{pathname:w,search:h,hash:f,state:p,key:v},navigationType:i}},[l,c,h,f,p,v,i]);return y==null?null:j.createElement(Ji.Provider,{value:u},j.createElement(gp.Provider,{children:r,value:y}))}function VN(t){let{children:e,location:r}=t;return bJ(dP(e),r)}new Promise(()=>{});function dP(t,e){e===void 0&&(e=[]);let r=[];return j.Children.forEach(t,(n,i)=>{if(!j.isValidElement(n))return;let s=[...e,i];if(n.type===j.Fragment){r.push.apply(r,dP(n.props.children,s));return}n.type!==Xe&&ht(!1),!n.props.index||!n.props.children||ht(!1);let o={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(o.children=dP(n.props.children,s)),r.push(o)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Rf(){return Rf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Rf.apply(this,arguments)}function n7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function kJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function DJ(t,e){return t.button===0&&(!e||e==="_self")&&!kJ(t)}function hP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function qJ(t,e){let r=hP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const MJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],AJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],FJ="6";try{window.__reactRouterVersion=FJ}catch{}const LJ=j.createContext({isTransitioning:!1}),BJ="startTransition",KN=jY[BJ];function zJ(t){let{basename:e,children:r,future:n,window:i}=t,s=j.useRef();s.current==null&&(s.current=HX({window:i,v5Compat:!0}));let o=s.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:u}=n||{},c=j.useCallback(h=>{u&&KN?KN(()=>l(h)):l(h)},[l,u]);return j.useLayoutEffect(()=>o.listen(c),[o,c]),j.useEffect(()=>$J(n),[n]),j.createElement(jJ,{basename:e,children:r,location:a.location,navigationType:a.action,navigator:o,future:n})}const UJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",WJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=j.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:o,state:a,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=n7(e,MJ),{basename:p}=j.useContext(Ji),v,y=!1;if(typeof u=="string"&&WJ.test(u)&&(v=u,UJ))try{let x=new URL(window.location.href),b=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=Ll(b.pathname,p);b.origin===x.origin&&_!=null?u=_+b.search+b.hash:y=!0}catch{}let w=gJ(u,{relative:i}),g=KJ(u,{replace:o,state:a,target:l,preventScrollReset:c,relative:i,viewTransition:h});function m(x){n&&n(x),x.defaultPrevented||g(x)}return j.createElement("a",Rf({},f,{href:v||w,onClick:y||s?n:m,ref:r,target:l}))}),HJ=j.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:o=!1,style:a,to:l,viewTransition:u,children:c}=e,h=n7(e,AJ),f=yp(l,{relative:h.relative}),p=es(),v=j.useContext(QV),{navigator:y,basename:w}=j.useContext(Ji),g=v!=null&&YJ(f)&&u===!0,m=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,b=v&&v.navigation&&v.navigation.location?v.navigation.location.pathname:null;i||(x=x.toLowerCase(),b=b?b.toLowerCase():null,m=m.toLowerCase()),b&&w&&(b=Ll(b,w)||b);const _=m!=="/"&&m.endsWith("/")?m.length-1:m.length;let E=x===m||!o&&x.startsWith(m)&&x.charAt(_)==="/",O=b!=null&&(b===m||!o&&b.startsWith(m)&&b.charAt(m.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},C=E?n:void 0,P;typeof s=="function"?P=s(S):P=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let N=typeof a=="function"?a(S):a;return j.createElement(ve,Rf({},h,{"aria-current":C,className:P,ref:r,style:N,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var fP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fP||(fP={}));var GN;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GN||(GN={}));function VJ(t){let e=j.useContext(vp);return e||ht(!1),e}function KJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:o,viewTransition:a}=e===void 0?{}:e,l=en(),u=es(),c=yp(t,{relative:o});return j.useCallback(h=>{if(DJ(h,r)){h.preventDefault();let f=n!==void 0?n:Nf(u)===Nf(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:o,viewTransition:a})}},[u,l,c,n,i,r,t,s,o,a])}function GJ(t){let e=j.useRef(hP(t)),r=j.useRef(!1),n=es(),i=j.useMemo(()=>qJ(n.search,r.current?null:e.current),[n.search]),s=en(),o=j.useCallback((a,l)=>{const u=hP(typeof a=="function"?a(i):a);r.current=!0,s("?"+u,l)},[s,i]);return[i,o]}function YJ(t,e){e===void 0&&(e={});let r=j.useContext(LJ);r==null&&ht(!1);let{basename:n}=VJ(fP.useViewTransitionState),i=yp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Ll(r.currentLocation.pathname,n)||r.currentLocation.pathname,o=Ll(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cP(i.pathname,o)!=null||cP(i.pathname,s)!=null}var ma=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},QJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},ws,oC,SH,XJ=(SH=class{constructor(){ue(this,ws,QJ);ue(this,oC,!1)}setTimeoutProvider(t){ie(this,ws,t)}setTimeout(t,e){return R(this,ws).setTimeout(t,e)}clearTimeout(t){R(this,ws).clearTimeout(t)}setInterval(t,e){return R(this,ws).setInterval(t,e)}clearInterval(t){R(this,ws).clearInterval(t)}},ws=new WeakMap,oC=new WeakMap,SH),So=new XJ;function JJ(t){setTimeout(t,0)}var Zo=typeof window>"u"||"Deno"in globalThis;function gr(){}function ZJ(t,e){return typeof t=="function"?t(e):t}function pP(t){return typeof t=="number"&&t>=0&&t!==1/0}function i7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Us(t,e){return typeof t=="function"?t(e):t}function wn(t,e){return typeof t=="function"?t(e):t}function YN(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:o,stale:a}=t;if(o){if(n){if(e.queryHash!==iT(o,e.options))return!1}else if(!Hc(e.queryKey,o))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||i&&i!==e.state.fetchStatus||s&&!s(e))}function QN(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ea(e.options.mutationKey)!==ea(s))return!1}else if(!Hc(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function iT(t,e){return((e==null?void 0:e.queryKeyHashFn)||ea)(t)}function ea(t){return JSON.stringify(t,(e,r)=>mP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Hc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Hc(t[r],e[r])):!1}var eZ=Object.prototype.hasOwnProperty;function sT(t,e){if(t===e)return t;const r=XN(t)&&XN(e);if(!r&&!(mP(t)&&mP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),o=s.length,a=r?new Array(o):{};let l=0;for(let u=0;u<o;u++){const c=r?u:s[u],h=t[c],f=e[c];if(h===f){a[c]=h,(r?u<i:eZ.call(t,c))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){a[c]=f;continue}const p=sT(h,f);a[c]=p,p===h&&l++}return i===o&&l===i?t:a}function Vc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function XN(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mP(t){if(!JN(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!JN(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JN(t){return Object.prototype.toString.call(t)==="[object Object]"}function tZ(t){return new Promise(e=>{So.setTimeout(e,t)})}function vP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?sT(t,e):e}function rZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function nZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var oT=Symbol();function s7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function aT(t,e){return typeof t=="function"?t(...e):!!t}function iZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var No,xs,yl,EH,sZ=(EH=class extends ma{constructor(){super();ue(this,No);ue(this,xs);ue(this,yl);ie(this,yl,e=>{if(!Zo&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,xs)||this.setEventListener(R(this,yl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,xs))==null||e.call(this),ie(this,xs,void 0))}setEventListener(e){var r;ie(this,yl,e),(r=R(this,xs))==null||r.call(this),ie(this,xs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,No)!==e&&(ie(this,No,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,No)=="boolean"?R(this,No):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},No=new WeakMap,xs=new WeakMap,yl=new WeakMap,EH),lT=new sZ;function gP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var oZ=JJ;function aZ(){let t=[],e=0,r=a=>{a()},n=a=>{a()},i=oZ;const s=a=>{e?t.push(a):i(()=>{r(a)})},o=()=>{const a=t;t=[],a.length&&i(()=>{n(()=>{a.forEach(l=>{r(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{s(()=>{a(...l)})},schedule:s,setNotifyFunction:a=>{r=a},setBatchNotifyFunction:a=>{n=a},setScheduler:a=>{i=a}}}var Et=aZ(),bl,_s,wl,OH,lZ=(OH=class extends ma{constructor(){super();ue(this,bl,!0);ue(this,_s);ue(this,wl);ie(this,wl,e=>{if(!Zo&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,_s)||this.setEventListener(R(this,wl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,_s))==null||e.call(this),ie(this,_s,void 0))}setEventListener(e){var r;ie(this,wl,e),(r=R(this,_s))==null||r.call(this),ie(this,_s,e(this.setOnline.bind(this)))}setOnline(e){R(this,bl)!==e&&(ie(this,bl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,bl)}},bl=new WeakMap,_s=new WeakMap,wl=new WeakMap,OH),$f=new lZ;function uZ(t){return Math.min(1e3*2**t,3e4)}function o7(t){return(t??"online")==="online"?$f.isOnline():!0}var yP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function a7(t){let e=!1,r=0,n;const i=gP(),s=()=>i.status!=="pending",o=y=>{var w;if(!s()){const g=new yP(y);f(g),(w=t.onCancel)==null||w.call(t,g)}},a=()=>{e=!0},l=()=>{e=!1},u=()=>lT.isFocused()&&(t.networkMode==="always"||$f.isOnline())&&t.canRun(),c=()=>o7(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var w;n=g=>{(s()||u())&&y(g)},(w=t.onPause)==null||w.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),v=()=>{if(s())return;let y;const w=r===0?t.initialPromise:void 0;try{y=w??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const m=t.retry??(Zo?0:3),x=t.retryDelay??uZ,b=typeof x=="function"?x(r,g):x,_=m===!0||typeof m=="number"&&r<m||typeof m=="function"&&m(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),tZ(b).then(()=>u()?void 0:p()).then(()=>{e?f(g):v()})})};return{promise:i,status:()=>i.status,cancel:o,continue:()=>(n==null||n(),i),cancelRetry:a,continueRetry:l,canStart:c,start:()=>(c()?v():p().then(v),i)}}var Ro,PH,l7=(PH=class{constructor(){ue(this,Ro)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pP(this.gcTime)&&ie(this,Ro,So.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Zo?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ro)&&(So.clearTimeout(R(this,Ro)),ie(this,Ro,void 0))}},Ro=new WeakMap,PH),$o,xl,yn,jo,Yt,ad,ko,Ln,Oi,CH,cZ=(CH=class extends l7{constructor(e){super();ue(this,Ln);ue(this,$o);ue(this,xl);ue(this,yn);ue(this,jo);ue(this,Yt);ue(this,ad);ue(this,ko);ie(this,ko,!1),ie(this,ad,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,jo,e.client),ie(this,yn,R(this,jo).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,$o,eR(this.options)),this.state=e.state??R(this,$o),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Yt))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,ad),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=eR(this.options);r.data!==void 0&&(this.setState(ZN(r.data,r.dataUpdatedAt)),ie(this,$o,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,yn).remove(this)}setData(e,r){const n=vP(this.state.data,e,this.options);return Se(this,Ln,Oi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Se(this,Ln,Oi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,Yt))==null?void 0:n.promise;return(i=R(this,Yt))==null||i.cancel(e),r?r.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,$o))}isActive(){return this.observers.some(e=>wn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Us(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!i7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Yt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Yt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,yn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,Yt)&&(R(this,ko)?R(this,Yt).cancel({revert:!0}):R(this,Yt).cancelRetry()),this.scheduleGc()),R(this,yn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Se(this,Ln,Oi).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,h,f,p,v,y,w,g,m,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,Yt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Yt))return R(this,Yt).continueRetry(),R(this,Yt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ie(this,ko,!0),n.signal)})},s=()=>{const b=s7(this.options,r),E=(()=>{const O={client:R(this,jo),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ie(this,ko,!1),this.options.persister?this.options.persister(b,E,this):b(E)},a=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,jo),state:this.state,fetchFn:s};return i(b),b})();(u=this.options.behavior)==null||u.onFetch(a,this),ie(this,xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=a.fetchOptions)==null?void 0:c.meta))&&Se(this,Ln,Oi).call(this,{type:"fetch",meta:(h=a.fetchOptions)==null?void 0:h.meta}),ie(this,Yt,a7({initialPromise:r==null?void 0:r.initialPromise,fn:a.fetchFn,onCancel:b=>{b instanceof yP&&b.revert&&this.setState({...R(this,xl),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Se(this,Ln,Oi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Se(this,Ln,Oi).call(this,{type:"pause"})},onContinue:()=>{Se(this,Ln,Oi).call(this,{type:"continue"})},retry:a.options.retry,retryDelay:a.options.retryDelay,networkMode:a.options.networkMode,canRun:()=>!0}));try{const b=await R(this,Yt).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,yn).config).onSuccess)==null||p.call(f,b,this),(y=(v=R(this,yn).config).onSettled)==null||y.call(v,b,this.state.error,this),b}catch(b){if(b instanceof yP){if(b.silent)return R(this,Yt).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Se(this,Ln,Oi).call(this,{type:"error",error:b}),(g=(w=R(this,yn).config).onError)==null||g.call(w,b,this),(x=(m=R(this,yn).config).onSettled)==null||x.call(m,this.state.data,b,this),b}finally{this.scheduleGc()}}},$o=new WeakMap,xl=new WeakMap,yn=new WeakMap,jo=new WeakMap,Yt=new WeakMap,ad=new WeakMap,ko=new WeakMap,Ln=new WeakSet,Oi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...u7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...ZN(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,xl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,yn).notify({query:this,type:"updated",action:e})})},CH);function u7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:o7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ZN(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function eR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fr,Me,ld,Er,Do,_l,Ti,Ss,ud,Sl,El,qo,Mo,Es,Ol,Be,sc,bP,wP,xP,_P,SP,EP,OP,c7,TH,uT=(TH=class extends ma{constructor(e,r){super();ue(this,Be);ue(this,Fr);ue(this,Me);ue(this,ld);ue(this,Er);ue(this,Do);ue(this,_l);ue(this,Ti);ue(this,Ss);ue(this,ud);ue(this,Sl);ue(this,El);ue(this,qo);ue(this,Mo);ue(this,Es);ue(this,Ol,new Set);this.options=r,ie(this,Fr,e),ie(this,Ss,null),ie(this,Ti,gP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Me).addObserver(this),tR(R(this,Me),this.options)?Se(this,Be,sc).call(this):this.updateResult(),Se(this,Be,_P).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return PP(R(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return PP(R(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Se(this,Be,SP).call(this),Se(this,Be,EP).call(this),R(this,Me).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Me);if(this.options=R(this,Fr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof wn(this.options.enabled,R(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Se(this,Be,OP).call(this),R(this,Me).setOptions(this.options),r._defaulted&&!Vc(this.options,r)&&R(this,Fr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Me),observer:this});const i=this.hasListeners();i&&rR(R(this,Me),n,this.options,r)&&Se(this,Be,sc).call(this),this.updateResult(),i&&(R(this,Me)!==n||wn(this.options.enabled,R(this,Me))!==wn(r.enabled,R(this,Me))||Us(this.options.staleTime,R(this,Me))!==Us(r.staleTime,R(this,Me)))&&Se(this,Be,bP).call(this);const s=Se(this,Be,wP).call(this);i&&(R(this,Me)!==n||wn(this.options.enabled,R(this,Me))!==wn(r.enabled,R(this,Me))||s!==R(this,Es))&&Se(this,Be,xP).call(this,s)}getOptimisticResult(e){const r=R(this,Fr).getQueryCache().build(R(this,Fr),e),n=this.createResult(r,e);return hZ(this,n)&&(ie(this,Er,n),ie(this,_l,this.options),ie(this,Do,R(this,Me).state)),n}getCurrentResult(){return R(this,Er)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Ti).status==="pending"&&R(this,Ti).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Ol).add(e)}getCurrentQuery(){return R(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Fr).defaultQueryOptions(e),n=R(this,Fr).getQueryCache().build(R(this,Fr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Se(this,Be,sc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Er)))}createResult(e,r){var C;const n=R(this,Me),i=this.options,s=R(this,Er),o=R(this,Do),a=R(this,_l),u=e!==n?e.state:R(this,ld),{state:c}=e;let h={...c},f=!1,p;if(r._optimisticResults){const P=this.hasListeners(),N=!P&&tR(e,r),T=P&&rR(e,n,r,i);(N||T)&&(h={...h,...u7(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:v,errorUpdatedAt:y,status:w}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&w==="pending"){let P;s!=null&&s.isPlaceholderData&&r.placeholderData===(a==null?void 0:a.placeholderData)?(P=s.data,g=!0):P=typeof r.placeholderData=="function"?r.placeholderData((C=R(this,El))==null?void 0:C.state.data,R(this,El)):r.placeholderData,P!==void 0&&(w="success",p=vP(s==null?void 0:s.data,P,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(o==null?void 0:o.data)&&r.select===R(this,ud))p=R(this,Sl);else try{ie(this,ud,r.select),p=r.select(p),p=vP(s==null?void 0:s.data,p,r),ie(this,Sl,p),ie(this,Ss,null)}catch(P){ie(this,Ss,P)}R(this,Ss)&&(v=R(this,Ss),p=R(this,Sl),y=Date.now(),w="error");const m=h.fetchStatus==="fetching",x=w==="pending",b=w==="error",_=x&&m,E=p!==void 0,S={status:w,fetchStatus:h.fetchStatus,isPending:x,isSuccess:w==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:v,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:m,isRefetching:m&&!x,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:cT(e,r),refetch:this.refetch,promise:R(this,Ti),isEnabled:wn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const P=I=>{S.status==="error"?I.reject(S.error):S.data!==void 0&&I.resolve(S.data)},N=()=>{const I=ie(this,Ti,S.promise=gP());P(I)},T=R(this,Ti);switch(T.status){case"pending":e.queryHash===n.queryHash&&P(T);break;case"fulfilled":(S.status==="error"||S.data!==T.value)&&N();break;case"rejected":(S.status!=="error"||S.error!==T.reason)&&N();break}}return S}updateResult(){const e=R(this,Er),r=this.createResult(R(this,Me),this.options);if(ie(this,Do,R(this,Me).state),ie(this,_l,this.options),R(this,Do).data!==void 0&&ie(this,El,R(this,Me)),Vc(r,e))return;ie(this,Er,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Ol).size)return!0;const o=new Set(s??R(this,Ol));return this.options.throwOnError&&o.add("error"),Object.keys(R(this,Er)).some(a=>{const l=a;return R(this,Er)[l]!==e[l]&&o.has(l)})};Se(this,Be,c7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Se(this,Be,_P).call(this)}},Fr=new WeakMap,Me=new WeakMap,ld=new WeakMap,Er=new WeakMap,Do=new WeakMap,_l=new WeakMap,Ti=new WeakMap,Ss=new WeakMap,ud=new WeakMap,Sl=new WeakMap,El=new WeakMap,qo=new WeakMap,Mo=new WeakMap,Es=new WeakMap,Ol=new WeakMap,Be=new WeakSet,sc=function(e){Se(this,Be,OP).call(this);let r=R(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(gr)),r},bP=function(){Se(this,Be,SP).call(this);const e=Us(this.options.staleTime,R(this,Me));if(Zo||R(this,Er).isStale||!pP(e))return;const n=i7(R(this,Er).dataUpdatedAt,e)+1;ie(this,qo,So.setTimeout(()=>{R(this,Er).isStale||this.updateResult()},n))},wP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Me)):this.options.refetchInterval)??!1},xP=function(e){Se(this,Be,EP).call(this),ie(this,Es,e),!(Zo||wn(this.options.enabled,R(this,Me))===!1||!pP(R(this,Es))||R(this,Es)===0)&&ie(this,Mo,So.setInterval(()=>{(this.options.refetchIntervalInBackground||lT.isFocused())&&Se(this,Be,sc).call(this)},R(this,Es)))},_P=function(){Se(this,Be,bP).call(this),Se(this,Be,xP).call(this,Se(this,Be,wP).call(this))},SP=function(){R(this,qo)&&(So.clearTimeout(R(this,qo)),ie(this,qo,void 0))},EP=function(){R(this,Mo)&&(So.clearInterval(R(this,Mo)),ie(this,Mo,void 0))},OP=function(){const e=R(this,Fr).getQueryCache().build(R(this,Fr),this.options);if(e===R(this,Me))return;const r=R(this,Me);ie(this,Me,e),ie(this,ld,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},c7=function(e){Et.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Er))}),R(this,Fr).getQueryCache().notify({query:R(this,Me),type:"observerResultsUpdated"})})},TH);function dZ(t,e){return wn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tR(t,e){return dZ(t,e)||t.state.data!==void 0&&PP(t,e,e.refetchOnMount)}function PP(t,e,r){if(wn(e.enabled,t)!==!1&&Us(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&cT(t,e)}return!1}function rR(t,e,r,n){return(t!==e||wn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&cT(t,r)}function cT(t,e){return wn(e.enabled,t)!==!1&&t.isStaleByTime(Us(e.staleTime,t))}function hZ(t,e){return!Vc(t.getCurrentResult(),e)}function nR(t){return{onFetch:(e,r)=>{var c,h,f,p,v;const n=e.options,i=(f=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],o=((v=e.state.data)==null?void 0:v.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const w=x=>{iZ(x,()=>e.signal,()=>y=!0)},g=s7(e.options,e.fetchOptions),m=async(x,b,_)=>{if(y)return Promise.reject();if(b==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const N={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return w(N),N})(),S=await g(O),{maxPages:C}=e.options,P=_?nZ:rZ;return{pages:P(x.pages,S,C),pageParams:P(x.pageParams,b,C)}};if(i&&s.length){const x=i==="backward",b=x?fZ:iR,_={pages:s,pageParams:o},E=b(n,_);a=await m(_,E,x)}else{const x=t??s.length;do{const b=l===0?o[0]??n.initialPageParam:iR(n,a);if(l>0&&b==null)break;a=await m(a,b),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var y,w;return(w=(y=e.options).persister)==null?void 0:w.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function iR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function fZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var cd,li,Or,Ao,ui,ds,IH,pZ=(IH=class extends l7{constructor(e){super();ue(this,ui);ue(this,cd);ue(this,li);ue(this,Or);ue(this,Ao);ie(this,cd,e.client),this.mutationId=e.mutationId,ie(this,Or,e.mutationCache),ie(this,li,[]),this.state=e.state||d7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,li).includes(e)||(R(this,li).push(e),this.clearGcTimeout(),R(this,Or).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,li,R(this,li).filter(r=>r!==e)),this.scheduleGc(),R(this,Or).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,li).length||(this.state.status==="pending"?this.scheduleGc():R(this,Or).remove(this))}continue(){var e;return((e=R(this,Ao))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var o,a,l,u,c,h,f,p,v,y,w,g,m,x,b,_,E,O,S,C;const r=()=>{Se(this,ui,ds).call(this,{type:"continue"})},n={client:R(this,cd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Ao,a7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(P,N)=>{Se(this,ui,ds).call(this,{type:"failed",failureCount:P,error:N})},onPause:()=>{Se(this,ui,ds).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Or).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Ao).canStart();try{if(i)r();else{Se(this,ui,ds).call(this,{type:"pending",variables:e,isPaused:s}),await((a=(o=R(this,Or).config).onMutate)==null?void 0:a.call(o,e,this,n));const N=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));N!==this.state.context&&Se(this,ui,ds).call(this,{type:"pending",context:N,variables:e,isPaused:s})}const P=await R(this,Ao).start();return await((h=(c=R(this,Or).config).onSuccess)==null?void 0:h.call(c,P,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,P,e,this.state.context,n)),await((y=(v=R(this,Or).config).onSettled)==null?void 0:y.call(v,P,null,this.state.variables,this.state.context,this,n)),await((g=(w=this.options).onSettled)==null?void 0:g.call(w,P,null,e,this.state.context,n)),Se(this,ui,ds).call(this,{type:"success",data:P}),P}catch(P){try{await((x=(m=R(this,Or).config).onError)==null?void 0:x.call(m,P,e,this.state.context,this,n))}catch(N){Promise.reject(N)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,P,e,this.state.context,n))}catch(N){Promise.reject(N)}try{await((O=(E=R(this,Or).config).onSettled)==null?void 0:O.call(E,void 0,P,this.state.variables,this.state.context,this,n))}catch(N){Promise.reject(N)}try{await((C=(S=this.options).onSettled)==null?void 0:C.call(S,void 0,P,e,this.state.context,n))}catch(N){Promise.reject(N)}throw Se(this,ui,ds).call(this,{type:"error",error:P}),P}finally{R(this,Or).runNext(this)}}},cd=new WeakMap,li=new WeakMap,Or=new WeakMap,Ao=new WeakMap,ui=new WeakSet,ds=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{R(this,li).forEach(n=>{n.onMutationUpdate(e)}),R(this,Or).notify({mutation:this,type:"updated",action:e})})},IH);function d7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ii,Bn,dd,NH,mZ=(NH=class extends ma{constructor(e={}){super();ue(this,Ii);ue(this,Bn);ue(this,dd);this.config=e,ie(this,Ii,new Set),ie(this,Bn,new Map),ie(this,dd,0)}build(e,r,n){const i=new pZ({client:e,mutationCache:this,mutationId:++lh(this,dd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ii).add(e);const r=Ph(e);if(typeof r=="string"){const n=R(this,Bn).get(r);n?n.push(e):R(this,Bn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ii).delete(e)){const r=Ph(e);if(typeof r=="string"){const n=R(this,Bn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Bn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ph(e);if(typeof r=="string"){const n=R(this,Bn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Ph(e);if(typeof r=="string"){const i=(n=R(this,Bn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{R(this,Ii).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ii).clear(),R(this,Bn).clear()})}getAll(){return Array.from(R(this,Ii))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>QN(r,n))}findAll(e={}){return this.getAll().filter(r=>QN(e,r))}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(e.map(r=>r.continue().catch(gr))))}},Ii=new WeakMap,Bn=new WeakMap,dd=new WeakMap,NH);function Ph(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ni,Os,Lr,Ri,Hi,Qh,CP,RH,vZ=(RH=class extends ma{constructor(e,r){super();ue(this,Hi);ue(this,Ni);ue(this,Os);ue(this,Lr);ue(this,Ri);ie(this,Ni,e),this.setOptions(r),this.bindMethods(),Se(this,Hi,Qh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Ni).defaultMutationOptions(e),Vc(this.options,r)||R(this,Ni).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Lr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ea(r.mutationKey)!==ea(this.options.mutationKey)?this.reset():((n=R(this,Lr))==null?void 0:n.state.status)==="pending"&&R(this,Lr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Lr))==null||e.removeObserver(this)}onMutationUpdate(e){Se(this,Hi,Qh).call(this),Se(this,Hi,CP).call(this,e)}getCurrentResult(){return R(this,Os)}reset(){var e;(e=R(this,Lr))==null||e.removeObserver(this),ie(this,Lr,void 0),Se(this,Hi,Qh).call(this),Se(this,Hi,CP).call(this)}mutate(e,r){var n;return ie(this,Ri,r),(n=R(this,Lr))==null||n.removeObserver(this),ie(this,Lr,R(this,Ni).getMutationCache().build(R(this,Ni),this.options)),R(this,Lr).addObserver(this),R(this,Lr).execute(e)}},Ni=new WeakMap,Os=new WeakMap,Lr=new WeakMap,Ri=new WeakMap,Hi=new WeakSet,Qh=function(){var r;const e=((r=R(this,Lr))==null?void 0:r.state)??d7();ie(this,Os,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},CP=function(e){Et.batch(()=>{var r,n,i,s,o,a,l,u;if(R(this,Ri)&&this.hasListeners()){const c=R(this,Os).variables,h=R(this,Os).context,f={client:R(this,Ni),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Ri)).onSuccess)==null||n.call(r,e.data,c,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Ri)).onSettled)==null||s.call(i,e.data,null,c,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(a=(o=R(this,Ri)).onError)==null||a.call(o,e.error,c,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,Ri)).onSettled)==null||u.call(l,void 0,e.error,c,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(c=>{c(R(this,Os))})})},RH);function sR(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function gZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Pl,sn,Cl,Tl,bn,Ps,hd,fd,pd,dr,TP,IP,NP,RP,$P,$H,yZ=($H=class extends ma{constructor(e,r,n){super();ue(this,dr);ue(this,Pl);ue(this,sn);ue(this,Cl);ue(this,Tl);ue(this,bn);ue(this,Ps);ue(this,hd);ue(this,fd);ue(this,pd,[]);ie(this,Pl,e),ie(this,Tl,n),ie(this,Cl,[]),ie(this,bn,[]),ie(this,sn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,bn).forEach(e=>{e.subscribe(r=>{Se(this,dr,RP).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,bn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,Cl,e),ie(this,Tl,r),Et.batch(()=>{const n=R(this,bn),i=Se(this,dr,NP).call(this,R(this,Cl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),o=s.map(h=>h.getCurrentResult()),a=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=a||l,c=u?!0:o.some((h,f)=>{const p=R(this,sn)[f];return!p||!Vc(h,p)});!u&&!c||(u&&(ie(this,pd,i),ie(this,bn,s)),ie(this,sn,o),this.hasListeners()&&(u&&(sR(n,s).forEach(h=>{h.destroy()}),sR(s,n).forEach(h=>{h.subscribe(f=>{Se(this,dr,RP).call(this,h,f)})})),Se(this,dr,$P).call(this)))})}getCurrentResult(){return R(this,sn)}getQueries(){return R(this,bn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,bn)}getOptimisticResult(e,r){const n=Se(this,dr,NP).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Se(this,dr,IP).call(this,s??i,r),()=>Se(this,dr,TP).call(this,i,n)]}},Pl=new WeakMap,sn=new WeakMap,Cl=new WeakMap,Tl=new WeakMap,bn=new WeakMap,Ps=new WeakMap,hd=new WeakMap,fd=new WeakMap,pd=new WeakMap,dr=new WeakSet,TP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,o=>{r.forEach(a=>{a.observer.trackProp(o)})})})},IP=function(e,r){return r?((!R(this,Ps)||R(this,sn)!==R(this,fd)||r!==R(this,hd))&&(ie(this,hd,r),ie(this,fd,R(this,sn)),ie(this,Ps,sT(R(this,Ps),r(e)))),R(this,Ps)):e},NP=function(e){const r=new Map;R(this,bn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const o=r.get(s);o?o.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Pl).defaultQueryOptions(i),a=((l=r.get(s.queryHash))==null?void 0:l.shift())??new uT(R(this,Pl),s);n.push({defaultedQueryOptions:s,observer:a})}),n},RP=function(e,r){const n=R(this,bn).indexOf(e);n!==-1&&(ie(this,sn,gZ(R(this,sn),n,r)),Se(this,dr,$P).call(this))},$P=function(){var e;if(this.hasListeners()){const r=R(this,Ps),n=Se(this,dr,TP).call(this,R(this,sn),R(this,pd)),i=Se(this,dr,IP).call(this,n,(e=R(this,Tl))==null?void 0:e.combine);r!==i&&Et.batch(()=>{this.listeners.forEach(s=>{s(R(this,sn))})})}},$H),ci,jH,bZ=(jH=class extends ma{constructor(e={}){super();ue(this,ci);this.config=e,ie(this,ci,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??iT(i,r);let o=this.get(s);return o||(o=new cZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(o)),o}add(e){R(this,ci).has(e.queryHash)||(R(this,ci).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,ci).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,ci).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,ci).get(e)}getAll(){return[...R(this,ci).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>YN(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>YN(e,n)):r}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ci=new WeakMap,jH),wt,Cs,Ts,Il,Nl,Is,Rl,$l,kH,wZ=(kH=class{constructor(t={}){ue(this,wt);ue(this,Cs);ue(this,Ts);ue(this,Il);ue(this,Nl);ue(this,Is);ue(this,Rl);ue(this,$l);ie(this,wt,t.queryCache||new bZ),ie(this,Cs,t.mutationCache||new mZ),ie(this,Ts,t.defaultOptions||{}),ie(this,Il,new Map),ie(this,Nl,new Map),ie(this,Is,0)}mount(){lh(this,Is)._++,R(this,Is)===1&&(ie(this,Rl,lT.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onFocus())})),ie(this,$l,$f.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onOnline())})))}unmount(){var t,e;lh(this,Is)._--,R(this,Is)===0&&((t=R(this,Rl))==null||t.call(this),ie(this,Rl,void 0),(e=R(this,$l))==null||e.call(this),ie(this,$l,void 0))}isFetching(t){return R(this,wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Cs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,wt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,wt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Us(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,wt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,wt).get(n.queryHash),s=i==null?void 0:i.state.data,o=ZJ(e,s);if(o!==void 0)return R(this,wt).build(this,n).setData(o,{...r,manual:!0})}setQueriesData(t,e,r){return Et.batch(()=>R(this,wt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,wt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,wt);Et.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,wt);return Et.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Et.batch(()=>R(this,wt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(gr).catch(gr)}invalidateQueries(t,e={}){return Et.batch(()=>(R(this,wt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Et.batch(()=>R(this,wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(gr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(gr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,wt).build(this,e);return r.isStaleByTime(Us(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gr).catch(gr)}fetchInfiniteQuery(t){return t.behavior=nR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gr).catch(gr)}ensureInfiniteQueryData(t){return t.behavior=nR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return $f.isOnline()?R(this,Cs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,wt)}getMutationCache(){return R(this,Cs)}getDefaultOptions(){return R(this,Ts)}setDefaultOptions(t){ie(this,Ts,t)}setQueryDefaults(t,e){R(this,Il).set(ea(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Il).values()],r={};return e.forEach(n=>{Hc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Nl).set(ea(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Nl).values()],r={};return e.forEach(n=>{Hc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ts).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ts).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,wt).clear(),R(this,Cs).clear()}},wt=new WeakMap,Cs=new WeakMap,Ts=new WeakMap,Il=new WeakMap,Nl=new WeakMap,Is=new WeakMap,Rl=new WeakMap,$l=new WeakMap,kH),h7=j.createContext(void 0),hr=t=>{const e=j.useContext(h7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},xZ=({client:t,children:e})=>(j.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(h7.Provider,{value:t,children:e})),f7=j.createContext(!1),p7=()=>j.useContext(f7);f7.Provider;function _Z(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var SZ=j.createContext(_Z()),m7=()=>j.useContext(SZ),v7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?aT(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},g7=t=>{j.useEffect(()=>{t.clearReset()},[t])},y7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||aT(r,[t.error,n])),b7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},w7=(t,e)=>t.isLoading&&t.isFetching&&!e,jP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,jf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function kf({queries:t,...e},r){const n=hr(),i=p7(),s=m7(),o=j.useMemo(()=>t.map(y=>{const w=n.defaultQueryOptions(y);return w._optimisticResults=i?"isRestoring":"optimistic",w}),[t,n,i]);o.forEach(y=>{b7(y);const w=n.getQueryCache().get(y.queryHash);v7(y,s,w)}),g7(s);const[a]=j.useState(()=>new yZ(n,o,e)),[l,u,c]=a.getOptimisticResult(o,e.combine),h=!i&&e.subscribed!==!1;j.useSyncExternalStore(j.useCallback(y=>h?a.subscribe(Et.batchCalls(y)):gr,[a,h]),()=>a.getCurrentResult(),()=>a.getCurrentResult()),j.useEffect(()=>{a.setQueries(o,e)},[o,e,a]);const p=l.some((y,w)=>jP(o[w],y))?l.flatMap((y,w)=>{const g=o[w];if(g){const m=new uT(n,g);if(jP(g,y))return jf(g,m,s);w7(y,i)&&jf(g,m,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const v=l.find((y,w)=>{const g=o[w];return g&&y7({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(v!=null&&v.error)throw v.error;return u(c())}function EZ(t,e,r){var f,p,v,y;const n=p7(),i=m7(),s=hr(),o=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,o);const a=s.getQueryCache().get(o.queryHash);o._optimisticResults=n?"isRestoring":"optimistic",b7(o),v7(o,i,a),g7(i);const l=!s.getQueryCache().get(o.queryHash),[u]=j.useState(()=>new e(s,o)),c=u.getOptimisticResult(o),h=!n&&t.subscribed!==!1;if(j.useSyncExternalStore(j.useCallback(w=>{const g=h?u.subscribe(Et.batchCalls(w)):gr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),j.useEffect(()=>{u.setOptions(o)},[o,u]),jP(o,c))throw jf(o,u,i);if(y7({result:c,errorResetBoundary:i,throwOnError:o.throwOnError,query:a,suspense:o.suspense}))throw c.error;if((y=(v=s.getDefaultOptions().queries)==null?void 0:v._experimental_afterQuery)==null||y.call(v,o,c),o.experimental_prefetchInRender&&!Zo&&w7(c,n)){const w=l?jf(o,u,i):a==null?void 0:a.promise;w==null||w.catch(gr).finally(()=>{u.updateResult()})}return o.notifyOnChangeProps?c:u.trackResult(c)}function ft(t,e){return EZ(t,uT)}function $t(t,e){const r=hr(),[n]=j.useState(()=>new vZ(r,t));j.useEffect(()=>{n.setOptions(t)},[n,t]);const i=j.useSyncExternalStore(j.useCallback(o=>n.subscribe(Et.batchCalls(o)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=j.useCallback((o,a)=>{n.mutate(o,a).catch(gr)},[n]);if(i.error&&aT(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function dT(){const t=window.prmConfig||{};return j.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var OZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),Ee=(t,e)=>{const r=j.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:o,className:a="",children:l,...u},c)=>j.createElement("svg",{ref:c,...OZ,width:i,height:i,stroke:n,strokeWidth:o?Number(s)*24/Number(i):s,className:["lucide",`lucide-${PZ(t)}`,a].join(" "),...u},[...e.map(([h,f])=>j.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bl=Ee("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=Ee("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rs=Ee("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=Ee("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=Ee("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=Ee("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qi=Ee("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=Ee("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=Ee("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xh=Ee("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zl=Ee("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=Ee("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=Ee("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=Ee("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=Ee("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=Ee("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=Ee("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=Ee("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=Ee("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=Ee("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=Ee("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=Ee("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=Ee("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=Ee("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ul=Ee("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=Ee("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=Ee("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=Ee("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=Ee("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=Ee("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=Ee("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ch=Ee("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=Ee("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=Ee("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=Ee("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Js=Ee("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=Ee("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=Ee("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=Ee("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=Ee("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=Ee("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kc=Ee("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=Ee("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ps=Ee("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=Ee("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=Ee("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=Ee("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zs=Ee("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=Ee("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=Ee("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Hl="Caelis";function Zn(t){j.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Hl;document.title=`${t} - ${r}`}},[t])}function KZ(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function N7(t=null){const e=es();j.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,o=KZ(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":o?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":o?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=Hl}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Hl;document.title=`${r} - ${n}`},[e.pathname,t])}function R7(t,e){return function(){return t.apply(e,arguments)}}const{toString:GZ}=Object.prototype,{getPrototypeOf:fT}=Object,{iterator:bp,toStringTag:$7}=Symbol,wp=(t=>e=>{const r=GZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ei=t=>(t=t.toLowerCase(),e=>wp(e)===t),xp=t=>e=>typeof e===t,{isArray:au}=Array,Vl=xp("undefined");function wd(t){return t!==null&&!Vl(t)&&t.constructor!==null&&!Vl(t.constructor)&&Yr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const j7=ei("ArrayBuffer");function YZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&j7(t.buffer),e}const QZ=xp("string"),Yr=xp("function"),k7=xp("number"),xd=t=>t!==null&&typeof t=="object",XZ=t=>t===!0||t===!1,Jh=t=>{if(wp(t)!=="object")return!1;const e=fT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!($7 in t)&&!(bp in t)},JZ=t=>{if(!xd(t)||wd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},ZZ=ei("Date"),eee=ei("File"),tee=ei("Blob"),ree=ei("FileList"),nee=t=>xd(t)&&Yr(t.pipe),iee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yr(t.append)&&((e=wp(t))==="formdata"||e==="object"&&Yr(t.toString)&&t.toString()==="[object FormData]"))},see=ei("URLSearchParams"),[oee,aee,lee,uee]=["ReadableStream","Request","Response","Headers"].map(ei),cee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function _d(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),au(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(wd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),o=s.length;let a;for(n=0;n<o;n++)a=s[n],e.call(null,t[a],a,t)}}function D7(t,e){if(wd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Eo=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q7=t=>!Vl(t)&&t!==Eo;function DP(){const{caseless:t,skipUndefined:e}=q7(this)&&this||{},r={},n=(i,s)=>{const o=t&&D7(r,s)||s;Jh(r[o])&&Jh(i)?r[o]=DP(r[o],i):Jh(i)?r[o]=DP({},i):au(i)?r[o]=i.slice():(!e||!Vl(i))&&(r[o]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&_d(arguments[i],n);return r}const dee=(t,e,r,{allOwnKeys:n}={})=>(_d(e,(i,s)=>{r&&Yr(i)?t[s]=R7(i,r):t[s]=i},{allOwnKeys:n}),t),hee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),fee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},pee=(t,e,r,n)=>{let i,s,o;const a={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)o=i[s],(!n||n(o,t,e))&&!a[o]&&(e[o]=t[o],a[o]=!0);t=r!==!1&&fT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},mee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},vee=t=>{if(!t)return null;if(au(t))return t;let e=t.length;if(!k7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},gee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fT(Uint8Array)),yee=(t,e)=>{const n=(t&&t[bp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},bee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},wee=ei("HTMLFormElement"),xee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),cR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),_ee=ei("RegExp"),M7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};_d(r,(i,s)=>{let o;(o=e(i,s,t))!==!1&&(n[s]=o||i)}),Object.defineProperties(t,n)},See=t=>{M7(t,(e,r)=>{if(Yr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Yr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Eee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return au(t)?n(t):n(String(t).split(e)),r},Oee=()=>{},Pee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Cee(t){return!!(t&&Yr(t.append)&&t[$7]==="FormData"&&t[bp])}const Tee=t=>{const e=new Array(10),r=(n,i)=>{if(xd(n)){if(e.indexOf(n)>=0)return;if(wd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=au(n)?[]:{};return _d(n,(o,a)=>{const l=r(o,i+1);!Vl(l)&&(s[a]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Iee=ei("AsyncFunction"),Nee=t=>t&&(xd(t)||Yr(t))&&Yr(t.then)&&Yr(t.catch),A7=((t,e)=>t?setImmediate:e?((r,n)=>(Eo.addEventListener("message",({source:i,data:s})=>{i===Eo&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Eo.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yr(Eo.postMessage)),Ree=typeof queueMicrotask<"u"?queueMicrotask.bind(Eo):typeof process<"u"&&process.nextTick||A7,$ee=t=>t!=null&&Yr(t[bp]),M={isArray:au,isArrayBuffer:j7,isBuffer:wd,isFormData:iee,isArrayBufferView:YZ,isString:QZ,isNumber:k7,isBoolean:XZ,isObject:xd,isPlainObject:Jh,isEmptyObject:JZ,isReadableStream:oee,isRequest:aee,isResponse:lee,isHeaders:uee,isUndefined:Vl,isDate:ZZ,isFile:eee,isBlob:tee,isRegExp:_ee,isFunction:Yr,isStream:nee,isURLSearchParams:see,isTypedArray:gee,isFileList:ree,forEach:_d,merge:DP,extend:dee,trim:cee,stripBOM:hee,inherits:fee,toFlatObject:pee,kindOf:wp,kindOfTest:ei,endsWith:mee,toArray:vee,forEachEntry:yee,matchAll:bee,isHTMLForm:wee,hasOwnProperty:cR,hasOwnProp:cR,reduceDescriptors:M7,freezeMethods:See,toObjectSet:Eee,toCamelCase:xee,noop:Oee,toFiniteNumber:Pee,findKey:D7,global:Eo,isContextDefined:q7,isSpecCompliantForm:Cee,toJSONObject:Tee,isAsyncFn:Iee,isThenable:Nee,setImmediate:A7,asap:Ree,isIterable:$ee};function Te(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const F7=Te.prototype,L7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{L7[t]={value:t}});Object.defineProperties(Te,L7);Object.defineProperty(F7,"isAxiosError",{value:!0});Te.from=(t,e,r,n,i,s)=>{const o=Object.create(F7);M.toFlatObject(t,o,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const a=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Te.call(o,a,l,r,n,i),t&&o.cause==null&&Object.defineProperty(o,"cause",{value:t,configurable:!0}),o.name=t&&t.name||"Error",s&&Object.assign(o,s),o};const jee=null;function qP(t){return M.isPlainObject(t)||M.isArray(t)}function B7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function dR(t,e,r){return t?t.concat(e).map(function(i,s){return i=B7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function kee(t){return M.isArray(t)&&!t.some(qP)}const Dee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function _p(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,w){return!M.isUndefined(w[y])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,o=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(v){if(v===null)return"";if(M.isDate(v))return v.toISOString();if(M.isBoolean(v))return v.toString();if(!l&&M.isBlob(v))throw new Te("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(v)||M.isTypedArray(v)?l&&typeof Blob=="function"?new Blob([v]):Buffer.from(v):v}function c(v,y,w){let g=v;if(v&&!w&&typeof v=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),v=JSON.stringify(v);else if(M.isArray(v)&&kee(v)||(M.isFileList(v)||M.endsWith(y,"[]"))&&(g=M.toArray(v)))return y=B7(y),g.forEach(function(x,b){!(M.isUndefined(x)||x===null)&&e.append(o===!0?dR([y],b,s):o===null?y:y+"[]",u(x))}),!1}return qP(v)?!0:(e.append(dR(w,y,s),u(v)),!1)}const h=[],f=Object.assign(Dee,{defaultVisitor:c,convertValue:u,isVisitable:qP});function p(v,y){if(!M.isUndefined(v)){if(h.indexOf(v)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(v),M.forEach(v,function(g,m){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(m)?m.trim():m,y,f))===!0&&p(g,y?y.concat(m):[m])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function hR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function pT(t,e){this._pairs=[],t&&_p(t,this,e)}const z7=pT.prototype;z7.append=function(e,r){this._pairs.push([e,r])};z7.toString=function(e){const r=e?function(n){return e.call(this,n,hR)}:hR;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function qee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function U7(t,e,r){if(!e)return t;const n=r&&r.encode||qee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new pT(e,r).toString(n),s){const o=t.indexOf("#");o!==-1&&(t=t.slice(0,o)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class fR{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const W7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mee=typeof URLSearchParams<"u"?URLSearchParams:pT,Aee=typeof FormData<"u"?FormData:null,Fee=typeof Blob<"u"?Blob:null,Lee={isBrowser:!0,classes:{URLSearchParams:Mee,FormData:Aee,Blob:Fee},protocols:["http","https","file","blob","url","data"]},mT=typeof window<"u"&&typeof document<"u",MP=typeof navigator=="object"&&navigator||void 0,Bee=mT&&(!MP||["ReactNative","NativeScript","NS"].indexOf(MP.product)<0),zee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Uee=mT&&window.location.href||"http://localhost",Wee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mT,hasStandardBrowserEnv:Bee,hasStandardBrowserWebWorkerEnv:zee,navigator:MP,origin:Uee},Symbol.toStringTag,{value:"Module"})),wr={...Wee,...Lee};function Hee(t,e){return _p(t,new wr.classes.URLSearchParams,{visitor:function(r,n,i,s){return wr.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Vee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Kee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function H7(t){function e(r,n,i,s){let o=r[s++];if(o==="__proto__")return!0;const a=Number.isFinite(+o),l=s>=r.length;return o=!o&&M.isArray(i)?i.length:o,l?(M.hasOwnProp(i,o)?i[o]=[i[o],n]:i[o]=n,!a):((!i[o]||!M.isObject(i[o]))&&(i[o]=[]),e(r,n,i[o],s)&&M.isArray(i[o])&&(i[o]=Kee(i[o])),!a)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(Vee(n),i,r,0)}),r}return null}function Gee(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Sd={transitional:W7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(H7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let a;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Hee(e,this.formSerializer).toString();if((a=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return _p(a?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Gee(e)):e}],transformResponse:[function(e){const r=this.transitional||Sd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const o=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(a){if(o)throw a.name==="SyntaxError"?Te.from(a,Te.ERR_BAD_RESPONSE,this,null,this.response):a}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wr.classes.FormData,Blob:wr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Sd.headers[t]={}});const Yee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Qee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(o){i=o.indexOf(":"),r=o.substring(0,i).trim().toLowerCase(),n=o.substring(i+1).trim(),!(!r||e[r]&&Yee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},pR=Symbol("internals");function Vu(t){return t&&String(t).trim().toLowerCase()}function Zh(t){return t===!1||t==null?t:M.isArray(t)?t.map(Zh):String(t)}function Xee(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Jee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function qm(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function Zee(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function ete(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,o){return this[n].call(this,e,i,s,o)},configurable:!0})})}let Qr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(a,l,u){const c=Vu(l);if(!c)throw new Error("header name must be a non-empty string");const h=M.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=Zh(a))}const o=(a,l)=>M.forEach(a,(u,c)=>s(u,c,l));if(M.isPlainObject(e)||e instanceof this.constructor)o(e,r);else if(M.isString(e)&&(e=e.trim())&&!Jee(e))o(Qee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let a={},l,u;for(const c of e){if(!M.isArray(c))throw TypeError("Object iterator must return a key-value pair");a[u=c[0]]=(l=a[u])?M.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}o(a,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Vu(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Xee(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Vu(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||qm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(o){if(o=Vu(o),o){const a=M.findKey(n,o);a&&(!r||qm(n,n[a],a,r))&&(delete n[a],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||qm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const o=M.findKey(n,s);if(o){r[o]=Zh(i),delete r[s];return}const a=e?Zee(s):String(s).trim();a!==s&&delete r[s],r[a]=Zh(i),n[a]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[pR]=this[pR]={accessors:{}}).accessors,i=this.prototype;function s(o){const a=Vu(o);n[a]||(ete(i,o),n[a]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Qr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Qr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Qr);function Mm(t,e){const r=this||Sd,n=e||r,i=Qr.from(n.headers);let s=n.data;return M.forEach(t,function(a){s=a.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function V7(t){return!!(t&&t.__CANCEL__)}function lu(t,e,r){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(lu,Te,{__CANCEL__:!0});function K7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function tte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function rte(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,o;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];o||(o=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-o<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function nte(t,e){let r=0,n=1e3/e,i,s;const o=(u,c=Date.now())=>{r=c,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),h=c-r;h>=n?o(u,c):(i=u,s||(s=setTimeout(()=>{s=null,o(i)},n-h)))},()=>i&&o(i)]}const Df=(t,e,r=3)=>{let n=0;const i=rte(50,250);return nte(s=>{const o=s.loaded,a=s.lengthComputable?s.total:void 0,l=o-n,u=i(l),c=o<=a;n=o;const h={loaded:o,total:a,progress:a?o/a:void 0,bytes:l,rate:u||void 0,estimated:u&&a&&c?(a-o)/u:void 0,event:s,lengthComputable:a!=null,[e?"download":"upload"]:!0};t(h)},r)},mR=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},vR=t=>(...e)=>M.asap(()=>t(...e)),ite=wr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,wr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(wr.origin),wr.navigator&&/(msie|trident)/i.test(wr.navigator.userAgent)):()=>!0,ste=wr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,o){if(typeof document>"u")return;const a=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&a.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&a.push(`path=${n}`),M.isString(i)&&a.push(`domain=${i}`),s===!0&&a.push("secure"),M.isString(o)&&a.push(`SameSite=${o}`),document.cookie=a.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function ote(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ate(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function G7(t,e,r){let n=!ote(e);return t&&(n||r==!1)?ate(t,e):e}const gR=t=>t instanceof Qr?{...t}:t;function na(t,e){e=e||{};const r={};function n(u,c,h,f){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:f},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function i(u,c,h,f){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,c,h,f)}function s(u,c){if(!M.isUndefined(c))return n(void 0,c)}function o(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function a(u,c,h){if(h in e)return n(u,c);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:o,transformRequest:o,transformResponse:o,paramsSerializer:o,timeout:o,timeoutMessage:o,withCredentials:o,withXSRFToken:o,adapter:o,responseType:o,xsrfCookieName:o,xsrfHeaderName:o,onUploadProgress:o,onDownloadProgress:o,decompress:o,maxContentLength:o,maxBodyLength:o,beforeRedirect:o,transport:o,httpAgent:o,httpsAgent:o,cancelToken:o,socketPath:o,responseEncoding:o,validateStatus:a,headers:(u,c,h)=>i(gR(u),gR(c),h,!0)};return M.forEach(Object.keys({...t,...e}),function(c){const h=l[c]||i,f=h(t[c],e[c],c);M.isUndefined(f)&&h!==a||(r[c]=f)}),r}const Y7=t=>{const e=na({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:o,auth:a}=e;if(e.headers=o=Qr.from(o),e.url=U7(G7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),a&&o.set("Authorization","Basic "+btoa((a.username||"")+":"+(a.password?unescape(encodeURIComponent(a.password)):""))),M.isFormData(r)){if(wr.hasStandardBrowserEnv||wr.hasStandardBrowserWebWorkerEnv)o.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&o.set(c,h)})}}if(wr.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&ite(e.url))){const l=i&&s&&ste.read(s);l&&o.set(i,l)}return e},lte=typeof XMLHttpRequest<"u",ute=lte&&function(t){return new Promise(function(r,n){const i=Y7(t);let s=i.data;const o=Qr.from(i.headers).normalize();let{responseType:a,onUploadProgress:l,onDownloadProgress:u}=i,c,h,f,p,v;function y(){p&&p(),v&&v(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let w=new XMLHttpRequest;w.open(i.method.toUpperCase(),i.url,!0),w.timeout=i.timeout;function g(){if(!w)return;const x=Qr.from("getAllResponseHeaders"in w&&w.getAllResponseHeaders()),_={data:!a||a==="text"||a==="json"?w.responseText:w.response,status:w.status,statusText:w.statusText,headers:x,config:t,request:w};K7(function(O){r(O),y()},function(O){n(O),y()},_),w=null}"onloadend"in w?w.onloadend=g:w.onreadystatechange=function(){!w||w.readyState!==4||w.status===0&&!(w.responseURL&&w.responseURL.indexOf("file:")===0)||setTimeout(g)},w.onabort=function(){w&&(n(new Te("Request aborted",Te.ECONNABORTED,t,w)),w=null)},w.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new Te(_,Te.ERR_NETWORK,t,w);E.event=b||null,n(E),w=null},w.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||W7;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Te(b,_.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,w)),w=null},s===void 0&&o.setContentType(null),"setRequestHeader"in w&&M.forEach(o.toJSON(),function(b,_){w.setRequestHeader(_,b)}),M.isUndefined(i.withCredentials)||(w.withCredentials=!!i.withCredentials),a&&a!=="json"&&(w.responseType=i.responseType),u&&([f,v]=Df(u,!0),w.addEventListener("progress",f)),l&&w.upload&&([h,p]=Df(l),w.upload.addEventListener("progress",h),w.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=x=>{w&&(n(!x||x.type?new lu(null,t,w):x),w.abort(),w=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const m=tte(i.url);if(m&&wr.protocols.indexOf(m)===-1){n(new Te("Unsupported protocol "+m+":",Te.ERR_BAD_REQUEST,t));return}w.send(s||null)})},cte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,a();const c=u instanceof Error?u:this.reason;n.abort(c instanceof Te?c:new lu(c instanceof Error?c.message:c))}};let o=e&&setTimeout(()=>{o=null,s(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const a=()=>{t&&(o&&clearTimeout(o),o=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(a),l}},dte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},hte=async function*(t,e){for await(const r of fte(t))yield*dte(r,e)},fte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},yR=(t,e,r,n)=>{const i=hte(t,e);let s=0,o,a=l=>{o||(o=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){a(),l.close();return}let h=c.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(c))}catch(u){throw a(u),u}},cancel(l){return a(l),i.return()}},{highWaterMark:2})},bR=64*1024,{isFunction:Th}=M,pte=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:wR,TextEncoder:xR}=M.global,_R=(t,...e)=>{try{return!!t(...e)}catch{return!1}},mte=t=>{t=M.merge.call({skipUndefined:!0},pte,t);const{fetch:e,Request:r,Response:n}=t,i=e?Th(e):typeof fetch=="function",s=Th(r),o=Th(n);if(!i)return!1;const a=i&&Th(wR),l=i&&(typeof xR=="function"?(v=>y=>v.encode(y))(new xR):async v=>new Uint8Array(await new r(v).arrayBuffer())),u=s&&a&&_R(()=>{let v=!1;const y=new r(wr.origin,{body:new wR,method:"POST",get duplex(){return v=!0,"half"}}).headers.has("Content-Type");return v&&!y}),c=o&&a&&_R(()=>M.isReadableStream(new n("").body)),h={stream:c&&(v=>v.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(v=>{!h[v]&&(h[v]=(y,w)=>{let g=y&&y[v];if(g)return g.call(y);throw new Te(`Response type '${v}' is not supported`,Te.ERR_NOT_SUPPORT,w)})});const f=async v=>{if(v==null)return 0;if(M.isBlob(v))return v.size;if(M.isSpecCompliantForm(v))return(await new r(wr.origin,{method:"POST",body:v}).arrayBuffer()).byteLength;if(M.isArrayBufferView(v)||M.isArrayBuffer(v))return v.byteLength;if(M.isURLSearchParams(v)&&(v=v+""),M.isString(v))return(await l(v)).byteLength},p=async(v,y)=>{const w=M.toFiniteNumber(v.getContentLength());return w??f(y)};return async v=>{let{url:y,method:w,data:g,signal:m,cancelToken:x,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:C="same-origin",fetchOptions:P}=Y7(v),N=e||fetch;O=O?(O+"").toLowerCase():"text";let T=cte([m,x&&x.toAbortSignal()],b),I=null;const q=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let B;try{if(E&&u&&w!=="get"&&w!=="head"&&(B=await p(S,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),te;if(M.isFormData(g)&&(te=z.headers.get("content-type"))&&S.setContentType(te),z.body){const[fe,ge]=mR(B,Df(vR(E)));g=yR(z.body,bR,fe,ge)}}M.isString(C)||(C=C?"include":"omit");const re=s&&"credentials"in r.prototype,Q={...P,signal:T,method:w.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:re?C:void 0};I=s&&new r(y,Q);let L=await(s?N(I,P):N(y,Q));const G=c&&(O==="stream"||O==="response");if(c&&(_||G&&q)){const z={};["status","statusText","headers"].forEach(ke=>{z[ke]=L[ke]});const te=M.toFiniteNumber(L.headers.get("content-length")),[fe,ge]=_&&mR(te,Df(vR(_),!0))||[];L=new n(yR(L.body,bR,fe,()=>{ge&&ge(),q&&q()}),z)}O=O||"text";let U=await h[M.findKey(h,O)||"text"](L,v);return!G&&q&&q(),await new Promise((z,te)=>{K7(z,te,{data:U,headers:Qr.from(L.headers),status:L.status,statusText:L.statusText,config:v,request:I})})}catch(re){throw q&&q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,v,I),{cause:re.cause||re}):Te.from(re,re&&re.code,v,I)}}},vte=new Map,Q7=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let o=s.length,a=o,l,u,c=vte;for(;a--;)l=s[a],u=c.get(l),u===void 0&&c.set(l,u=a?new Map:mte(e)),c=u;return u};Q7();const vT={http:jee,xhr:ute,fetch:{get:Q7}};M.forEach(vT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const SR=t=>`- ${t}`,gte=t=>M.isFunction(t)||t===null||t===!1;function yte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let o=0;o<r;o++){n=t[o];let a;if(i=n,!gte(n)&&(i=vT[(a=String(n)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${a}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[a||"#"+o]=i}if(!i){const o=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let a=r?o.length>1?`since :
`+o.map(SR).join(`
`):" "+SR(o[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+a,"ERR_NOT_SUPPORT")}return i}const X7={getAdapter:yte,adapters:vT};function Am(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new lu(null,t)}function ER(t){return Am(t),t.headers=Qr.from(t.headers),t.data=Mm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),X7.getAdapter(t.adapter||Sd.adapter,t)(t).then(function(n){return Am(t),n.data=Mm.call(t,t.transformResponse,n),n.headers=Qr.from(n.headers),n},function(n){return V7(n)||(Am(t),n&&n.response&&(n.response.data=Mm.call(t,t.transformResponse,n.response),n.response.headers=Qr.from(n.response.headers))),Promise.reject(n)})}const J7="1.13.2",Sp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Sp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const OR={};Sp.transitional=function(e,r,n){function i(s,o){return"[Axios v"+J7+"] Transitional option '"+s+"'"+o+(n?". "+n:"")}return(s,o,a)=>{if(e===!1)throw new Te(i(o," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!OR[o]&&(OR[o]=!0,console.warn(i(o," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,o,a):!0}};Sp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function bte(t,e,r){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],o=e[s];if(o){const a=t[s],l=a===void 0||o(a,s,t);if(l!==!0)throw new Te("option "+s+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}}const ef={assertOptions:bte,validators:Sp},si=ef.validators;let Bo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new fR,response:new fR}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=na(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&ef.assertOptions(n,{silentJSONParsing:si.transitional(si.boolean),forcedJSONParsing:si.transitional(si.boolean),clarifyTimeoutError:si.transitional(si.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:ef.assertOptions(i,{encode:si.function,serialize:si.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),ef.assertOptions(r,{baseUrl:si.spelling("baseURL"),withXsrfToken:si.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let o=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],v=>{delete s[v]}),r.headers=Qr.concat(o,s);const a=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,a.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,f;if(!l){const v=[ER.bind(this),void 0];for(v.unshift(...a),v.push(...u),f=v.length,c=Promise.resolve(r);h<f;)c=c.then(v[h++],v[h++]);return c}f=a.length;let p=r;for(;h<f;){const v=a[h++],y=a[h++];try{p=v(p)}catch(w){y.call(this,w);break}}try{c=ER.call(this,p)}catch(v){return Promise.reject(v)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=na(this.defaults,e);const r=G7(e.baseURL,e.url,e.allowAbsoluteUrls);return U7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Bo.prototype[e]=function(r,n){return this.request(na(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,o,a){return this.request(na(a||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:o}))}}Bo.prototype[e]=r(),Bo.prototype[e+"Form"]=r(!0)});let wte=class Z7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const o=new Promise(a=>{n.subscribe(a),s=a}).then(i);return o.cancel=function(){n.unsubscribe(s)},o},e(function(s,o,a){n.reason||(n.reason=new lu(s,o,a),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Z7(function(i){e=i}),cancel:e}}};function xte(t){return function(r){return t.apply(null,r)}}function _te(t){return M.isObject(t)&&t.isAxiosError===!0}const AP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(AP).forEach(([t,e])=>{AP[e]=t});function eK(t){const e=new Bo(t),r=R7(Bo.prototype.request,e);return M.extend(r,Bo.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return eK(na(t,i))},r}const Tt=eK(Sd);Tt.Axios=Bo;Tt.CanceledError=lu;Tt.CancelToken=wte;Tt.isCancel=V7;Tt.VERSION=J7;Tt.toFormData=_p;Tt.AxiosError=Te;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=xte;Tt.isAxiosError=_te;Tt.mergeConfig=na;Tt.AxiosHeaders=Qr;Tt.formToJSON=t=>H7(M.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=X7.getAdapter;Tt.HttpStatusCode=AP;Tt.default=Tt;const{Axios:Bbe,AxiosError:zbe,CanceledError:Ube,isCancel:Wbe,CancelToken:Hbe,VERSION:Vbe,all:Kbe,Cancel:Gbe,isAxiosError:Ybe,spread:Qbe,toFormData:Xbe,AxiosHeaders:Jbe,HttpStatusCode:Zbe,formToJSON:e0e,getAdapter:t0e,mergeConfig:r0e}=Tt,FP=window.prmConfig||{},we=Tt.create({baseURL:FP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":FP.nonce||""}});we.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});we.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=FP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Le={getPeople:t=>we.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>we.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>we.post("/wp/v2/people",t),updatePerson:(t,e)=>we.put(`/wp/v2/people/${t}`,e),deletePerson:t=>we.delete(`/wp/v2/people/${t}`),getCompanies:t=>we.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>we.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>we.post("/wp/v2/companies",t),updateCompany:(t,e)=>we.put(`/wp/v2/companies/${t}`,e),deleteCompany:t=>we.delete(`/wp/v2/companies/${t}`),getDates:t=>we.get("/wp/v2/important-dates",{params:t}),getDate:t=>we.get(`/wp/v2/important-dates/${t}`),createDate:t=>we.post("/wp/v2/important-dates",t),updateDate:(t,e)=>we.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>we.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>we.get("/wp/v2/person_label"),getCompanyLabels:()=>we.get("/wp/v2/company_label"),getRelationshipTypes:()=>we.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>we.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>we.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>we.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>we.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>we.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),we.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Xr={getDashboard:()=>we.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>we.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>we.get("/prm/v1/user/me"),search:t=>we.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>we.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>we.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>we.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>we.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>we.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>we.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>we.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>we.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>we.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>we.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>we.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>we.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>we.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),we.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),we.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};function Ste(){return ft({queryKey:["dashboard"],queryFn:async()=>(await Xr.getDashboard()).data})}function Ete(t=30){return ft({queryKey:["reminders",t],queryFn:async()=>(await Xr.getReminders(t)).data})}function Ote(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ft({queryKey:["search",e],queryFn:async()=>r?(await Xr.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const Pte=[{name:"Dashboard",href:"/",icon:kZ},{name:"People",href:"/people",icon:ra},{name:"Companies",href:"/companies",icon:Qi},{name:"Dates",href:"/dates",icon:ta},{name:"Settings",href:"/settings",icon:O7}];function PR({mobile:t=!1,onClose:e}){const{logoutUrl:r}=dT();return d.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[d.jsxs(ve,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[d.jsx(P7,{className:"w-5 h-5"}),Hl]}),t&&d.jsx("button",{onClick:e,className:"p-2 -mr-2",children:d.jsx(Zs,{className:"w-5 h-5"})})]}),d.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Pte.map(n=>d.jsxs(HJ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),d.jsx("div",{className:"p-4 border-t border-gray-200",children:d.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx(MZ,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function Cte(){var o;const[t,e]=j.useState(!1),r=j.useRef(null),{data:n,isLoading:i}=ft({queryKey:["current-user"],queryFn:async()=>(await Xr.getCurrentUser()).data});if(j.useEffect(()=>{const a=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",a),()=>{document.removeEventListener("mousedown",a)}},[t]),i||!n)return d.jsx("div",{className:"flex items-center ml-auto",children:d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((o=n.name)==null?void 0:o.split(" ").map(a=>a[0]).join("").toUpperCase().slice(0,2))||"?";return d.jsxs("div",{className:"relative ml-auto",ref:r,children:[d.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?d.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),d.jsx(NZ,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[d.jsx(I7,{className:"w-4 h-4 mr-2"}),"Edit profile"]}),n.is_admin&&d.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[d.jsx(O7,{className:"w-4 h-4 mr-2"}),"WordPress admin"]})]})})]})}function Tte({onMenuClick:t}){const[e,r]=j.useState(""),[n,i]=j.useState(!1),s=es(),o=en(),a=j.useRef(null),l=j.useRef(null),u=e.trim(),{data:c,isLoading:h}=Ote(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};j.useEffect(()=>{const g=m=>{l.current&&!l.current.contains(m.target)&&a.current&&!a.current.contains(m.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,m)=>{i(!1),r(""),g==="person"?o(`/people/${m}`):g==="company"?o(`/companies/${m}`):g==="date"&&o(`/dates/${m}/edit`)},v=c||{people:[],companies:[],dates:[]},y=v.people&&v.people.length>0||v.companies&&v.companies.length>0||v.dates&&v.dates.length>0,w=n&&e.trim().length>=2;return d.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[d.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:d.jsx(LZ,{className:"w-5 h-5"})}),d.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),d.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:d.jsxs("div",{className:"relative w-full",ref:a,children:[d.jsx(E7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),w&&d.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?d.jsxs("div",{className:"p-4 text-center text-gray-500",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),d.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?d.jsxs("div",{className:"py-2",children:[v.people&&v.people.length>0&&d.jsxs("div",{className:"px-3 py-2",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),v.people.map(g=>d.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(I7,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),v.companies&&v.companies.length>0&&d.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),v.companies.map(g=>d.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(IZ,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),v.dates&&v.dates.length>0&&d.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),v.dates.map(g=>d.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(ta,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):d.jsx("div",{className:"p-4 text-center text-gray-500",children:d.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),d.jsx(Cte,{})]})}function Ite({children:t}){const[e,r]=j.useState(!1);return N7(),d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:d.jsx(PR,{})}),e&&d.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),d.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:d.jsx(PR,{mobile:!0,onClose:()=>r(!1)})})]}),d.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[d.jsx(Tte,{onMenuClick:()=>r(!0)}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function cr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ia(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const tK=6048e5,Nte=864e5;let Rte={};function Ep(){return Rte}function Gc(t,e){var a,l,u,c;const r=Ep(),n=(e==null?void 0:e.weekStartsOn)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=cr(t),s=i.getDay(),o=(s<n?7:0)+s-n;return i.setDate(i.getDate()-o),i.setHours(0,0,0,0),i}function qf(t){return Gc(t,{weekStartsOn:1})}function rK(t){const e=cr(t),r=e.getFullYear(),n=ia(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=qf(n),s=ia(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const o=qf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=o.getTime()?r:r-1}function CR(t){const e=cr(t);return e.setHours(0,0,0,0),e}function TR(t){const e=cr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function $te(t,e){const r=CR(t),n=CR(e),i=+r-TR(r),s=+n-TR(n);return Math.round((i-s)/Nte)}function jte(t){const e=rK(t),r=ia(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),qf(r)}function IR(t,e){const r=cr(t),n=cr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function kte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Dte(t){if(!kte(t)&&typeof t!="number")return!1;const e=cr(t);return!isNaN(Number(e))}function qte(t,e){const r=cr(t),n=cr(e);return r.getFullYear()-n.getFullYear()}function Fm(t,e){const r=cr(t),n=cr(e),i=IR(r,n),s=Math.abs(qte(r,n));r.setFullYear(1584),n.setFullYear(1584);const o=IR(r,n)===-i,a=i*(s-+o);return a===0?0:a}function Mte(t){const e=cr(t),r=ia(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Ate={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Fte=(t,e,r)=>{let n;const i=Ate[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Lm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Lte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Bte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},zte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Ute={date:Lm({formats:Lte,defaultWidth:"full"}),time:Lm({formats:Bte,defaultWidth:"full"}),dateTime:Lm({formats:zte,defaultWidth:"full"})},Wte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Hte=(t,e,r,n)=>Wte[t];function Ku(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=r!=null&&r.width?String(r.width):o;i=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[a]||t.values[o]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Vte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Kte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Gte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Yte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Qte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Xte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Jte=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Zte={ordinalNumber:Jte,era:Ku({values:Vte,defaultWidth:"wide"}),quarter:Ku({values:Kte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ku({values:Gte,defaultWidth:"wide"}),day:Ku({values:Yte,defaultWidth:"wide"}),dayPeriod:Ku({values:Qte,defaultWidth:"wide",formattingValues:Xte,defaultFormattingWidth:"wide"})};function Gu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const o=s[0],a=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(a)?tre(a,h=>h.test(o)):ere(a,h=>h.test(o));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(o.length);return{value:u,rest:c}}}function ere(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function tre(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function rre(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let o=t.valueCallback?t.valueCallback(s[0]):s[0];o=r.valueCallback?r.valueCallback(o):o;const a=e.slice(i.length);return{value:o,rest:a}}}const nre=/^(\d+)(th|st|nd|rd)?/i,ire=/\d+/i,sre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},ore={any:[/^b/i,/^(a|c)/i]},are={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},lre={any:[/1/i,/2/i,/3/i,/4/i]},ure={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},cre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},dre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},hre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},fre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},pre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},mre={ordinalNumber:rre({matchPattern:nre,parsePattern:ire,valueCallback:t=>parseInt(t,10)}),era:Gu({matchPatterns:sre,defaultMatchWidth:"wide",parsePatterns:ore,defaultParseWidth:"any"}),quarter:Gu({matchPatterns:are,defaultMatchWidth:"wide",parsePatterns:lre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Gu({matchPatterns:ure,defaultMatchWidth:"wide",parsePatterns:cre,defaultParseWidth:"any"}),day:Gu({matchPatterns:dre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),dayPeriod:Gu({matchPatterns:fre,defaultMatchWidth:"any",parsePatterns:pre,defaultParseWidth:"any"})},vre={code:"en-US",formatDistance:Fte,formatLong:Ute,formatRelative:Hte,localize:Zte,match:mre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function gre(t){const e=cr(t);return $te(e,Mte(e))+1}function yre(t){const e=cr(t),r=+qf(e)-+jte(e);return Math.round(r/tK)+1}function nK(t,e){var c,h,f,p;const r=cr(t),n=r.getFullYear(),i=Ep(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,o=ia(t,0);o.setFullYear(n+1,0,s),o.setHours(0,0,0,0);const a=Gc(o,e),l=ia(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Gc(l,e);return r.getTime()>=a.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function bre(t,e){var a,l,u,c;const r=Ep(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=nK(t,e),s=ia(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Gc(s,e)}function wre(t,e){const r=cr(t),n=+Gc(r,e)-+bre(r,e);return Math.round(n/tK)+1}function ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const cs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ze(r+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ze(i,e.length)}},qa={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},NR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return cs.y(t,e)},Y:function(t,e,r,n){const i=nK(t,n),s=i>0?i:1-i;if(e==="YY"){const o=s%100;return ze(o,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const r=rK(t);return ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return cs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=wre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,r){const n=yre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):cs.d(t,e)},D:function(t,e,r){const n=gre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=qa.noon:n===0?i=qa.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=qa.evening:n>=12?i=qa.afternoon:n>=4?i=qa.morning:i=qa.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return cs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):cs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):cs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):cs.s(t,e)},S:function(t,e){return cs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return $R(n);case"XXXX":case"XX":return bo(n);case"XXXXX":case"XXX":default:return bo(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return $R(n);case"xxxx":case"xx":return bo(n);case"xxxxx":case"xxx":default:return bo(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RR(n,":");case"OOOO":default:return"GMT"+bo(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RR(n,":");case"zzzz":default:return"GMT"+bo(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return ze(n,e.length)}};function RR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ze(s,2)}function $R(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):bo(t,e)}function bo(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ze(Math.trunc(n/60),2),s=ze(n%60,2);return r+i+e+s}const jR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},xre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return jR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",jR(n,e)).replace("{{time}}",iK(i,e))},_re={p:iK,P:xre},Sre=/^D+$/,Ere=/^Y+$/,Ore=["D","DD","YY","YYYY"];function Pre(t){return Sre.test(t)}function Cre(t){return Ere.test(t)}function Tre(t,e,r){const n=Ire(t,e,r);if(console.warn(n),Ore.includes(t))throw new RangeError(n)}function Ire(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Nre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Rre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,$re=/^'([^]*?)'?$/,jre=/''/g,kre=/[a-zA-Z]/;function di(t,e,r){var c,h,f,p;const n=Ep(),i=n.locale??vre,s=n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,o=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,a=cr(t);if(!Dte(a))throw new RangeError("Invalid time value");let l=e.match(Rre).map(v=>{const y=v[0];if(y==="p"||y==="P"){const w=_re[y];return w(v,i.formatLong)}return v}).join("").match(Nre).map(v=>{if(v==="''")return{isToken:!1,value:"'"};const y=v[0];if(y==="'")return{isToken:!1,value:Dre(v)};if(NR[y])return{isToken:!0,value:v};if(y.match(kre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:v}});i.localize.preprocessor&&(l=i.localize.preprocessor(a,l));const u={firstWeekContainsDate:s,weekStartsOn:o,locale:i};return l.map(v=>{if(!v.isToken)return v.value;const y=v.value;(Cre(y)||Pre(y))&&Tre(y,e,String(t));const w=NR[y[0]];return w(a,y,i.localize,u)}).join("")}function Dre(t){const e=t.match($re);return e?e[1].replace(jre,"'"):t}function Ma({title:t,value:e,icon:r,href:n}){return d.jsx(ve,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),d.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),d.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:d.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function kR({person:t}){var e,r;return d.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):d.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&d.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&d.jsx(Kc,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function qre({reminder:t}){var a,l,u,c,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(a=t.related_people)==null?void 0:a[0])==null?void 0:l.name)||t.title,i=(c=(u=t.related_people)==null?void 0:u[0])==null?void 0:c.id,s=((h=t.related_people)==null?void 0:h.length)>0,o=d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),d.jsx("p",{className:"text-xs text-gray-500",children:di(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&d.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?d.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):d.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:d.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?d.jsx(ve,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:o}):d.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:o})}function Mre(){return d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:d.jsx(P7,{className:"w-12 h-12 text-primary-600"})})}),d.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Hl,"!"]}),d.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs(ve,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(br,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),d.jsxs(ve,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx(br,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Are(){var u,c,h;const{data:t,isLoading:e,error:r}=Ste();if(e)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return d.jsx("div",{className:"card p-8 text-center",children:d.jsx("div",{className:"text-red-600 mb-2",children:f?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),d.jsx("p",{className:"text-sm text-gray-600",children:((h=(c=r==null?void 0:r.response)==null?void 0:c.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:o}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Ma,{title:"Total People",value:0,icon:ra,href:"/people"}),d.jsx(Ma,{title:"Companies",value:0,icon:Qi,href:"/companies"}),d.jsx(Ma,{title:"Important Dates",value:0,icon:ta,href:"/dates"})]}),d.jsx(Mre,{})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Ma,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:ra,href:"/people"}),d.jsx(Ma,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:Qi,href:"/companies"}),d.jsx(Ma,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:ta,href:"/dates"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[d.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),d.jsxs(ve,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",d.jsx(oR,{className:"w-4 h-4 ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>d.jsx(qre,{reminder:f},f.id)):d.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[d.jsx("h2",{className:"font-semibold",children:"Recent People"}),d.jsxs(ve,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",d.jsx(oR,{className:"w-4 h-4 ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>d.jsx(kR,{person:f},f.id)):d.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",d.jsx(ve,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(o==null?void 0:o.length)>0&&d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:d.jsx("h2",{className:"font-semibold",children:"Favorites"})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:o.map(f=>d.jsx(kR,{person:f},f.id))})]})]})}const Xt={all:["people"],lists:()=>[...Xt.all,"list"],list:t=>[...Xt.lists(),t],details:()=>[...Xt.all,"detail"],detail:t=>[...Xt.details(),t],timeline:t=>[...Xt.detail(t),"timeline"],dates:t=>[...Xt.detail(t),"dates"]};function Fre(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function sK(t){var i,s,o,a,l,u,c,h,f,p,v,y,w,g,m,x,b;const e=((o=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:o.source_url)||((f=(h=(c=(u=(l=(a=t._embedded)==null?void 0:a["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:c.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((w=(y=(v=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:v.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:w.map(_=>_.name))||[],n=Fre(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((m=t.acf)==null?void 0:m.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function Op(t={}){return ft({queryKey:Xt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Le.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(sK);if(e.push(...s),s.length<n)break;const o=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(o>0&&r>=o)break;r++}return e}})}function uu(t){return ft({queryKey:Xt.detail(t),queryFn:async()=>{const e=await Le.getPerson(t,{_embed:!0});return sK(e.data)},enabled:!!t})}function Lre(t){return ft({queryKey:Xt.timeline(t),queryFn:async()=>(await Xr.getPersonTimeline(t)).data,enabled:!!t})}function Bre(t){return ft({queryKey:Xt.dates(t),queryFn:async()=>(await Xr.getPersonDates(t)).data,enabled:!!t})}function zre(){const t=hr();return $t({mutationFn:e=>Le.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Xt.lists()})}})}function Ed(){const t=hr();return $t({mutationFn:({id:e,data:r})=>Le.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Xt.detail(r)}),t.invalidateQueries({queryKey:Xt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(o=>{const a=o.related_person;a&&t.invalidateQueries({queryKey:Xt.detail(a)})})}})}function Ure(){const t=hr();return $t({mutationFn:e=>Le.deletePerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Xt.lists()})}})}function Wre(){const t=hr();return $t({mutationFn:({noteId:e,personId:r})=>Xr.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Xt.timeline(r)})}})}function Hre(){const t=hr();return $t({mutationFn:({dateId:e,personId:r})=>Le.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Xt.dates(r)}),t.invalidateQueries({queryKey:Xt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function Vre(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function DR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,o)=>{const a=s.start_date?new Date(s.start_date):new Date(0);return(o.start_date?new Date(o.start_date):new Date(0))-a});return n.length>0?n[0].company:null}function Kre({person:t,companyName:e,isDeceased:r}){var n,i;return d.jsx(ve,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&d.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&d.jsx(Kc,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&d.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>d.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Gre(){const[t,e]=j.useState(!1),[r,n]=j.useState(!1),[i,s]=j.useState([]),[o,a]=j.useState("first_name"),[l,u]=j.useState("asc"),c=j.useRef(null),h=j.useRef(null),{data:f,isLoading:p,error:v}=Op(),{data:y}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),w=(y==null?void 0:y.map(T=>T.name))||[];j.useEffect(()=>{const T=I=>{h.current&&!h.current.contains(I.target)&&c.current&&!c.current.contains(I.target)&&e(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const g=j.useMemo(()=>{if(!f)return[];let T=[...f];return r&&(T=T.filter(I=>I.is_favorite)),i.length>0&&(T=T.filter(I=>{const q=I.labels||[];return i.some(B=>q.includes(B))})),T.sort((I,q)=>{var L,G,U,z,te,fe,ge,ke;let B,re;if(o==="first_name"?(B=(((L=I.acf)==null?void 0:L.first_name)||I.first_name||"").toLowerCase(),re=(((G=q.acf)==null?void 0:G.first_name)||q.first_name||"").toLowerCase()):(B=(((U=I.acf)==null?void 0:U.last_name)||I.last_name||"").toLowerCase(),re=(((z=q.acf)==null?void 0:z.last_name)||q.last_name||"").toLowerCase()),B===re){const be=o==="first_name"?(((te=I.acf)==null?void 0:te.last_name)||I.last_name||"").toLowerCase():(((fe=I.acf)==null?void 0:fe.first_name)||I.first_name||"").toLowerCase(),xe=o==="first_name"?(((ge=q.acf)==null?void 0:ge.last_name)||q.last_name||"").toLowerCase():(((ke=q.acf)==null?void 0:ke.first_name)||q.first_name||"").toLowerCase(),Ie=be.localeCompare(xe);return l==="asc"?Ie:-Ie}const Q=B.localeCompare(re);return l==="asc"?Q:-Q})},[f,r,i,o,l]),m=r||i.length>0,x=T=>{s(I=>I.includes(T)?I.filter(q=>q!==T):[...I,T])},b=()=>{n(!1),s([])},_=j.useMemo(()=>{if(!g)return[];const T=g.map(I=>DR(I)).filter(Boolean);return[...new Set(T)]},[g]),{data:E}=ft({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Le.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=j.useMemo(()=>{const T={};return E&&E.forEach(I=>{var q;T[I.id]=Vre(((q=I.title)==null?void 0:q.rendered)||I.title||"")}),T},[E]),S=j.useMemo(()=>{const T={};return g.forEach(I=>{const q=DR(I);q&&O[q]&&(T[I.id]=O[q])}),T},[g,O]),C=j.useMemo(()=>g.map(T=>T.id).filter(Boolean),[g]),P=kf({queries:C.map(T=>({queryKey:["person-dates",T],queryFn:async()=>(await Xr.getPersonDates(T)).data,enabled:!!T}))}),N=j.useMemo(()=>{const T={};return P.forEach((I,q)=>{if(I.data&&C[q]){const B=C[q],re=I.data.some(Q=>{const L=Array.isArray(Q.date_type)?Q.date_type[0]:Q.date_type;return(L==null?void 0:L.toLowerCase())==="died"});T[B]=re}}),T},[P,C]);return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[d.jsxs("select",{value:o,onChange:T=>a(T.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[d.jsx("option",{value:"first_name",children:"First Name"}),d.jsx("option",{value:"last_name",children:"Last Name"})]}),d.jsx("div",{className:"h-4 w-px bg-gray-300"}),d.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?d.jsx(TZ,{className:"w-4 h-4 text-gray-600"}):d.jsx(CZ,{className:"w-4 h-4 text-gray-600"})})]}),d.jsxs("div",{className:"relative",ref:c,children:[d.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${m?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[d.jsx(lR,{className:"w-4 h-4 mr-2"}),"Filter",m&&d.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&d.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx("div",{children:d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:r,onChange:T=>n(T.target.checked),className:"sr-only"}),d.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&d.jsx(aR,{className:"w-3 h-3 text-white"})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Kc,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),w.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),d.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:w.map(T=>d.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:i.includes(T),onChange:()=>x(T),className:"sr-only"}),d.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(T)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(T)&&d.jsx(aR,{className:"w-3 h-3 text-white"})}),d.jsx("span",{className:"text-sm text-gray-700",children:T})]},T))})]}),m&&d.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),m&&d.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[d.jsx(Kc,{className:"w-3 h-3"}),"Favorites",d.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:d.jsx(Zs,{className:"w-3 h-3"})})]}),i.map(T=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[T,d.jsx("button",{onClick:()=>x(T),className:"hover:text-gray-600",children:d.jsx(Zs,{className:"w-3 h-3"})})]},T))]}),d.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[d.jsx(br,{className:"w-4 h-4 mr-2"}),"Add Person"]})]})}),p&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),v&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!v&&(f==null?void 0:f.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(br,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),d.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[d.jsx(br,{className:"w-4 h-4 mr-2"}),"Add Person"]})]}),!p&&!v&&(g==null?void 0:g.length)>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(T=>d.jsx(Kre,{person:T,companyName:S[T.id],isDeceased:N[T.id]||!1},T.id))}),!p&&!v&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(lR,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),d.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}function Yu(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Ih(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Yre(){var gn,Ar,Ke,Bt,ni,zt,$,D,F,oe,ne,X,de;const{id:t}=ts(),e=en(),r=hr(),{data:n,isLoading:i,error:s}=uu(t),{data:o}=Lre(t),{data:a}=Bre(t),l=Ure(),u=Wre(),c=Hre(),h=Ed(),[f,p]=j.useState(!1),[v,y]=j.useState(""),[w,g]=j.useState(!1),m=j.useRef(null),{data:x}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),b=x||[],_=(n==null?void 0:n.labels)||[],E=((Bt=(Ke=(Ar=(gn=n==null?void 0:n._embedded)==null?void 0:gn["wp:term"])==null?void 0:Ar.flat())==null?void 0:Ke.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:Bt.map(k=>k.id))||[],O=b.filter(k=>!_.includes(k.name));Zn((n==null?void 0:n.name)||((ni=n==null?void 0:n.title)==null?void 0:ni.rendered)||(n==null?void 0:n.title)||"Person");const S=a==null?void 0:a.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="birthday"}),C=S!=null&&S.date_value?new Date(S.date_value):null,P=a==null?void 0:a.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="died"}),N=P!=null&&P.date_value?new Date(P.date_value):null,T=!!N,I=C?Fm(T?N:new Date,C):null,q=a?[...a].sort((k,H)=>{const le=k.date_value?new Date(k.date_value):new Date(0),K=H.date_value?new Date(H.date_value):new Date(0);return le-K}):[],B=async()=>{window.confirm("Are you sure you want to delete this person?")&&(await l.mutateAsync(t),e("/people"))},re=k=>{if(!k)return"";let H=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const le=H.startsWith("+");return H=H.replace(/\D/g,""),le?`+${H}`:H},Q=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const H=[...((K=n.acf)==null?void 0:K.contact_info)||[]];H.splice(k,1);const le={...n.acf,contact_info:H,work_history:Array.isArray((W=n.acf)==null?void 0:W.work_history)?n.acf.work_history:[],relationships:Array.isArray((V=n.acf)==null?void 0:V.relationships)?n.acf.relationships:[]};await h.mutateAsync({id:t,data:{acf:le}})},L=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const H=[...((K=n.acf)==null?void 0:K.relationships)||[]];H.splice(k,1);const le={...n.acf,relationships:H,contact_info:Array.isArray((W=n.acf)==null?void 0:W.contact_info)?n.acf.contact_info:[],work_history:Array.isArray((V=n.acf)==null?void 0:V.work_history)?n.acf.work_history:[]};await h.mutateAsync({id:t,data:{acf:le}})},G=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await c.mutateAsync({dateId:k,personId:t})},U=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},z=async k=>{var K,W,V;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const H=[...((K=n.acf)==null?void 0:K.work_history)||[]];H.splice(k,1);const le={...n.acf,work_history:H,contact_info:Array.isArray((W=n.acf)==null?void 0:W.contact_info)?n.acf.contact_info:[],relationships:Array.isArray((V=n.acf)==null?void 0:V.relationships)?n.acf.relationships:[]};await h.mutateAsync({id:t,data:{acf:le}})},te=async k=>{var K,W,V;const H=(V=(W=(K=n==null?void 0:n._embedded)==null?void 0:K["wp:term"])==null?void 0:W.flat())==null?void 0:V.find(Y=>(Y==null?void 0:Y.taxonomy)==="person_label"&&(Y==null?void 0:Y.name)===k);if(!H)return;const le=E.filter(Y=>Y!==H.id);await h.mutateAsync({id:t,data:{person_label:le}})},fe=async()=>{if(!v)return;const k=b.find(le=>le.id.toString()===v);if(!k)return;const H=[...E,k.id];await h.mutateAsync({id:t,data:{person_label:H}}),y(""),p(!1)},ge=async k=>{var le;const H=(le=k.target.files)==null?void 0:le[0];if(H){if(!H.type.startsWith("image/")){alert("Please select an image file");return}if(H.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Xr.uploadPersonPhoto(t,H),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(K){console.error("Failed to upload photo:",K),alert("Failed to upload photo. Please try again.")}finally{g(!1),m.current&&(m.current.value="")}}},ke=(($=(zt=n==null?void 0:n.acf)==null?void 0:zt.work_history)==null?void 0:$.map(k=>k.company).filter(Boolean))||[],be=kf({queries:ke.map(k=>({queryKey:["company",k],queryFn:async()=>(await Le.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),xe=((F=(D=n==null?void 0:n.acf)==null?void 0:D.relationships)==null?void 0:F.map(k=>k.related_person).filter(Boolean))||[],Ie=kf({queries:xe.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Xr.getPersonDates(k)).data,enabled:!!k}))}),gt=j.useMemo(()=>{const k={};return Ie.forEach((H,le)=>{if(H.data&&xe[le]){const K=xe[le],W=H.data.find(V=>{const Y=Array.isArray(V.date_type)?V.date_type[0]:V.date_type;return(Y==null?void 0:Y.toLowerCase())==="birthday"});if(W!=null&&W.date_value){const V=new Date(W.date_value);k[K]=Fm(new Date,V)}else k[K]=-1}}),k},[Ie,xe]),nt=j.useMemo(()=>{const k={};return Ie.forEach((H,le)=>{if(H.data&&xe[le]){const K=xe[le],W=H.data.some(V=>{const Y=Array.isArray(V.date_type)?V.date_type[0]:V.date_type;return(Y==null?void 0:Y.toLowerCase())==="died"});k[K]=W}}),k},[Ie,xe]),yt=j.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((H,le)=>{const K=gt[H.related_person]??-1,W=gt[le.related_person]??-1;return K===-1&&W===-1?0:K===-1?1:W===-1?-1:W-K}):[]},[(oe=n==null?void 0:n.acf)==null?void 0:oe.relationships,gt]),_r={};be.forEach((k,H)=>{var le,K,W,V,Y,pe,$e,Kt,Sr,qn;if(k.data){const mY=ke[H];_r[mY]={name:Yu(((le=k.data.title)==null?void 0:le.rendered)||k.data.title||""),logo:((V=(W=(K=k.data._embedded)==null?void 0:K["wp:featuredmedia"])==null?void 0:W[0])==null?void 0:V.source_url)||((qn=(Sr=(Kt=($e=(pe=(Y=k.data._embedded)==null?void 0:Y["wp:featuredmedia"])==null?void 0:pe[0])==null?void 0:$e.media_details)==null?void 0:Kt.sizes)==null?void 0:Sr.thumbnail)==null?void 0:qn.source_url)||null}}});const Qe=j.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((H,le)=>({...H,originalIndex:le})).sort((H,le)=>{if(H.is_current&&!le.is_current)return-1;if(!H.is_current&&le.is_current)return 1;const K=H.start_date?new Date(H.start_date):new Date(0);return(le.start_date?new Date(le.start_date):new Date(0))-K}):[]},[(ne=n==null?void 0:n.acf)==null?void 0:ne.work_history]);if(i)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});const it=n.acf||{};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to People"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ve,{to:`/people/${t}/edit`,className:"btn-secondary",children:[d.jsx(C7,{className:"w-4 h-4 mr-2"}),"Edit"]}),d.jsxs("button",{onClick:B,className:"btn-danger",children:[d.jsx(ps,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),d.jsxs("div",{className:"card p-6 relative",children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(ve,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[d.jsxs("div",{className:"relative group",children:[n.thumbnail?d.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):d.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((X=n.first_name)==null?void 0:X[0])||"?"})}),d.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=m.current)==null?void 0:k.click()},children:w?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Xh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),d.jsx("input",{ref:m,type:"file",accept:"image/*",onChange:ge,className:"hidden",disabled:w})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,T&&d.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&d.jsx(Kc,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),it.nickname&&d.jsxs("p",{className:"text-gray-500",children:['"',it.nickname,'"']}),T&&N&&I!==null&&d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Ih(it.gender)&&d.jsx("span",{className:"mr-1",children:Ih(it.gender)}),"Died ",di(N,"MMMM d, yyyy")," at age ",I]}),!T&&I!==null&&d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Ih(it.gender)&&d.jsx("span",{className:"mr-1",children:Ih(it.gender)}),I," years old"]}),d.jsx("div",{className:"mt-2",children:d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,H)=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,d.jsx("button",{onClick:()=>te(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:d.jsx(Zs,{className:"w-3 h-3"})})]},H)),f?d.jsxs("div",{className:"inline-flex items-center gap-2",children:[d.jsxs("select",{value:v,onChange:k=>y(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[d.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]}),d.jsx("button",{onClick:fe,disabled:!v,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),d.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&d.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[d.jsx(br,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!T&&d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Contact Information"}),d.jsxs(ve,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[d.jsx(br,{className:"w-4 h-4 mr-1"}),"Add contact detail"]})]}),((de=it.contact_info)==null?void 0:de.length)>0?d.jsx("div",{className:"space-y-3",children:it.contact_info.map((k,H)=>{const le=k.contact_type==="email"?AZ:k.contact_type==="phone"||k.contact_type==="mobile"?UZ:k.contact_type==="address"?FZ:k.contact_type==="linkedin"?uR:(k.contact_type==="website",kP),K=k.contact_type==="email",W=k.contact_type==="phone"||k.contact_type==="mobile",V=k.contact_type==="mobile",Y=k.contact_type==="website"||k.contact_type==="linkedin"||k.contact_type==="twitter"||k.contact_type==="instagram"||k.contact_type==="facebook",pe=k.contact_type==="address",$e=k.contact_type==="linkedin";let Kt=null,Sr=null;if(K)Kt=`mailto:${k.contact_value}`;else if(W)Kt=`tel:${re(k.contact_value)}`;else if(Y){let qn=k.contact_value;qn.match(/^https?:\/\//i)||(qn=`https://${qn}`),Kt=qn,Sr="_blank"}else pe&&(Kt=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.contact_value)}`,Sr="_blank");return d.jsxs("div",{className:"flex items-center group",children:[!$e&&d.jsx(le,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[$e?d.jsx(uR,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):d.jsxs("span",{className:"text-sm text-gray-500",children:[k.contact_label||k.contact_type,": "]}),Kt?d.jsx("a",{href:Kt,target:Sr||void 0,rel:Sr==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:k.contact_value}):d.jsx("span",{children:k.contact_value})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[V&&d.jsx("a",{href:`whatsapp:${re(k.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:d.jsx(BZ,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),d.jsx(ve,{to:`/people/${t}/contact/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:d.jsx(Ch,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>Q(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:d.jsx(ps,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Important Dates"}),d.jsxs(ve,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[d.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Important Date"]})]}),q.length>0?d.jsx("div",{className:"space-y-3",children:q.map(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,le=(H==null?void 0:H.toLowerCase())||"",K=le.includes("died"),W=le.includes("wedding")||le.includes("marriage")?jZ:le.includes("birthday")?$Z:ta;return d.jsxs("div",{className:"flex items-start group",children:[d.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:K?d.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):d.jsx(W,{className:"w-4 h-4 text-gray-500"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:k.title}),d.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&di(new Date(k.date_value),"MMMM d, yyyy")}),H&&d.jsx("p",{className:"text-xs text-gray-400 capitalize",children:H})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx(ve,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:d.jsx(Ch,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>G(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:d.jsx(ps,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Work History"}),d.jsxs(ve,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[d.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Work History"]})]}),(Qe==null?void 0:Qe.length)>0?d.jsx("div",{className:"space-y-4",children:Qe.map((k,H)=>{const le=k.company?_r[k.company]:null,K=k.originalIndex;return d.jsxs("div",{className:"flex items-start group",children:[le!=null&&le.logo?d.jsx("img",{src:le.logo,alt:le.name,className:"w-10 h-10 rounded-lg object-cover mr-3 flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:d.jsx(Qi,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&le&&d.jsx(ve,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:le.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&di(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?di(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[d.jsx(ve,{to:`/people/${t}/work-history/${K}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:d.jsx(Ch,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>z(K),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:d.jsx(ps,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},K)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Timeline"}),d.jsxs("button",{className:"btn-secondary text-sm",children:[d.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Note"]})]}),(o==null?void 0:o.length)>0?d.jsx("div",{className:"space-y-4",children:o.map(k=>d.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx("span",{className:"capitalize",children:k.type}),d.jsx("span",{children:""}),d.jsx("span",{children:di(new Date(k.created),"MMM d, yyyy")})]}),d.jsx("button",{onClick:()=>U(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:d.jsx(ps,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),d.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),d.jsxs("div",{className:"space-y-6",children:[(it.how_we_met||it.met_date)&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),it.met_date&&d.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[d.jsx(ta,{className:"w-4 h-4 inline mr-1"}),di(new Date(it.met_date),"MMMM d, yyyy")]}),it.how_we_met&&d.jsx("p",{className:"text-sm",children:it.how_we_met})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"font-semibold",children:"Relationships"}),d.jsxs(ve,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[d.jsx(br,{className:"w-4 h-4 mr-1"}),"Add Relationship"]})]}),(yt==null?void 0:yt.length)>0?d.jsx("div",{className:"space-y-2",children:yt.map((k,H)=>{var K,W,V;const le=((W=(K=n==null?void 0:n.acf)==null?void 0:K.relationships)==null?void 0:W.findIndex(Y=>Y.related_person===k.related_person&&Y.relationship_type===k.relationship_type))??H;return d.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[d.jsxs(ve,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?d.jsx("img",{src:k.person_thumbnail,alt:Yu(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-medium text-gray-500",children:((V=Yu(k.person_name))==null?void 0:V[0])||"?"})}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-medium",children:[Yu(k.person_name)||`Person #${k.related_person}`,nt[k.related_person]&&d.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500",children:Yu(k.relationship_name||k.relationship_label)})]})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[d.jsx(ve,{to:`/people/${t}/relationship/${le}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:d.jsx(Ch,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>L(le),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:d.jsx(ps,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Od=t=>t.type==="checkbox",Oo=t=>t instanceof Date,Br=t=>t==null;const oK=t=>typeof t=="object";var jt=t=>!Br(t)&&!Array.isArray(t)&&oK(t)&&!Oo(t),aK=t=>jt(t)&&t.target?Od(t.target)?t.target.checked:t.target.value:t,Qre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,lK=(t,e)=>t.has(Qre(e)),Xre=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},gT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Ut(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(gT&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(jt(t)&&Xre(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Ut(t[i]));return n}var Pp=t=>/^\w*$/.test(t),St=t=>t===void 0,yT=t=>Array.isArray(t)?t.filter(Boolean):[],bT=t=>yT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ae=(t,e,r)=>{if(!e||!jt(t))return r;const n=(Pp(e)?[e]:bT(e)).reduce((i,s)=>Br(i)?i:i[s],t);return St(n)||n===t?St(t[e])?r:t[e]:n},an=t=>typeof t=="boolean",Rr=t=>typeof t=="function",Je=(t,e,r)=>{let n=-1;const i=Pp(e)?[e]:bT(e),s=i.length,o=s-1;for(;++n<s;){const a=i[n];let l=r;if(n!==o){const u=t[a];l=jt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(a==="__proto__"||a==="constructor"||a==="prototype")return;t[a]=l,t=t[a]}};const Mf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ei={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uK=Ce.createContext(null);uK.displayName="HookFormContext";const wT=()=>Ce.useContext(uK);var cK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const o=s;return e._proxyFormState[o]!==Vn.all&&(e._proxyFormState[o]=!n||Vn.all),r&&(r[o]=!0),t[o]}});return i};const xT=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;function Jre(t){const e=wT(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[o,a]=Ce.useState(r._formState),l=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xT(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&a({...r._formState,...u})}}),[i,n,s]),Ce.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ce.useMemo(()=>cK(o,r,l.current,!1),[o,r])}var ln=t=>typeof t=="string",LP=(t,e,r,n,i)=>ln(t)?(n&&e.watch.add(t),ae(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ae(r,s))):(n&&(e.watchAll=!0),r),BP=t=>Br(t)||!oK(t);function Kn(t,e,r=new WeakSet){if(BP(t)||BP(e))return Object.is(t,e);if(Oo(t)&&Oo(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const o=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const a=e[s];if(Oo(o)&&Oo(a)||jt(o)&&jt(a)||Array.isArray(o)&&Array.isArray(a)?!Kn(o,a,r):!Object.is(o,a))return!1}}return!0}function Zre(t){const e=wT(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:o,compute:a}=t||{},l=Ce.useRef(i),u=Ce.useRef(a),c=Ce.useRef(void 0),h=Ce.useRef(r),f=Ce.useRef(n);u.current=a;const[p,v]=Ce.useState(()=>{const b=r._getWatch(n,l.current);return u.current?u.current(b):b}),y=Ce.useCallback(b=>{const _=LP(n,r._names,b||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),w=Ce.useCallback(b=>{if(!s){const _=LP(n,r._names,b||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Kn(E,c.current)||(v(E),c.current=E)}else v(_)}},[r._formValues,r._names,s,n]);xT(()=>((h.current!==r||!Kn(f.current,n))&&(h.current=r,f.current=n,w()),r._subscribe({name:n,formState:{values:!0},exact:o,callback:b=>{w(b.values)}})),[r,o,n,w]),Ce.useEffect(()=>r._removeUnmounted());const g=h.current!==r,m=f.current,x=Ce.useMemo(()=>{if(s)return null;const b=!g&&!Kn(m,n);return g||b?y():null},[s,g,n,m,y]);return x!==null?x:p}function ene(t){const e=wT(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:o,exact:a=!0}=t,l=lK(i._names.array,r),u=Ce.useMemo(()=>ae(i._formValues,r,ae(i._defaultValues,r,o)),[i,r,o]),c=Zre({control:i,name:r,defaultValue:u,exact:a}),h=Jre({control:i,name:r,exact:a}),f=Ce.useRef(t),p=Ce.useRef(void 0),v=Ce.useRef(i.register(r,{...t.rules,value:c,...an(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ae(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ae(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ae(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ae(h.validatingFields,r)},error:{enumerable:!0,get:()=>ae(h.errors,r)}}),[h,r]),w=Ce.useCallback(b=>v.current.onChange({target:{value:aK(b),name:r},type:Mf.CHANGE}),[r]),g=Ce.useCallback(()=>v.current.onBlur({target:{value:ae(i._formValues,r),name:r},type:Mf.BLUR}),[r,i._formValues]),m=Ce.useCallback(b=>{const _=ae(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>Rr(b.focus)&&b.focus(),select:()=>Rr(b.select)&&b.select(),setCustomValidity:E=>Rr(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>Rr(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),x=Ce.useMemo(()=>({name:r,value:c,...an(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:w,onBlur:g,ref:m}),[r,n,h.disabled,w,g,m,c]);return Ce.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...an(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const C=ae(i._fields,O);C&&C._f&&(C._f.mount=S)};if(E(r,!0),b){const O=Ut(ae(i._options.defaultValues,r,f.current.defaultValue));Je(i._defaultValues,r,O),St(ae(i._formValues,r))&&Je(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Ce.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ce.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const Af=t=>t.render(ene(t));var tne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},gc=t=>Array.isArray(t)?t:[t],qR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function dK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&jt(i)&&s){const o=dK(i,s);jt(o)&&(r[n]=o)}else t[n]&&(r[n]=s)}return r}var Pr=t=>jt(t)&&!Object.keys(t).length,_T=t=>t.type==="file",Ff=t=>{if(!gT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hK=t=>t.type==="select-multiple",ST=t=>t.type==="radio",rne=t=>ST(t)||Od(t),Bm=t=>Ff(t)&&t.isConnected;function nne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=St(t)?n++:t[e[n++]];return t}function ine(t){for(const e in t)if(t.hasOwnProperty(e)&&!St(t[e]))return!1;return!0}function Nt(t,e){const r=Array.isArray(e)?e:Pp(e)?[e]:bT(e),n=r.length===1?t:nne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(jt(n)&&Pr(n)||Array.isArray(n)&&ine(n))&&Nt(t,r.slice(0,-1)),t}var sne=t=>{for(const e in t)if(Rr(t[e]))return!0;return!1};function fK(t){return Array.isArray(t)||jt(t)&&!sne(t)}function zP(t,e={}){for(const r in t){const n=t[r];fK(n)?(e[r]=Array.isArray(n)?[]:{},zP(n,e[r])):St(n)||(e[r]=!0)}return e}function za(t,e,r){r||(r=zP(e));for(const n in t){const i=t[n];if(fK(i))St(e)||BP(r[n])?r[n]=zP(i,Array.isArray(i)?[]:{}):za(i,Br(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Kn(i,s)}}return r}const MR={value:!1,isValid:!1},AR={value:!0,isValid:!0};var pK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!St(t[0].attributes.value)?St(t[0].value)||t[0].value===""?AR:{value:t[0].value,isValid:!0}:AR:MR}return MR},mK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>St(t)?t:e?t===""?NaN:t&&+t:r&&ln(t)?new Date(t):n?n(t):t;const FR={isValid:!1,value:null};var vK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,FR):FR;function LR(t){const e=t.ref;return _T(e)?e.files:ST(e)?vK(t.refs).value:hK(e)?[...e.selectedOptions].map(({value:r})=>r):Od(e)?pK(t.refs).value:mK(St(e.value)?t.ref.value:e.value,t)}var one=(t,e,r,n)=>{const i={};for(const s of t){const o=ae(e,s);o&&Je(i,s,o._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Lf=t=>t instanceof RegExp,Qu=t=>St(t)?t:Lf(t)?t.source:jt(t)?Lf(t.value)?t.value.source:t.value:t,BR=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched});const zR="AsyncFunction";var ane=t=>!!t&&!!t.validate&&!!(Rr(t.validate)&&t.validate.constructor.name===zR||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===zR)),lne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),UR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const yc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ae(t,i);if(s){const{_f:o,...a}=s;if(o){if(o.refs&&o.refs[0]&&e(o.refs[0],i)&&!n)return!0;if(o.ref&&e(o.ref,o.name)&&!n)return!0;if(yc(a,e))break}else if(jt(a)&&yc(a,e))break}}};function WR(t,e,r){const n=ae(t,r);if(n||Pp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),o=ae(e,s),a=ae(t,s);if(o&&!Array.isArray(o)&&r!==s)return{name:r};if(a&&a.type)return{name:s,error:a};if(a&&a.root&&a.root.type)return{name:`${s}.root`,error:a.root};i.pop()}return{name:r}}var une=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Pr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(o=>e[o]===(!n||Vn.all))},cne=(t,e,r)=>!t||!e||t===e||gc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),dne=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,hne=(t,e)=>!yT(ae(t,e)).length&&Nt(t,e),fne=(t,e,r)=>{const n=gc(ae(t,r));return Je(n,"root",e[r]),Je(t,r,n),t};function HR(t,e,r="validate"){if(ln(t)||Array.isArray(t)&&t.every(ln)||an(t)&&!t)return{type:r,message:ln(t)?t:"",ref:e}}var Aa=t=>jt(t)&&!Lf(t)?t:{value:t,message:""},VR=async(t,e,r,n,i,s)=>{const{ref:o,refs:a,required:l,maxLength:u,minLength:c,min:h,max:f,pattern:p,validate:v,name:y,valueAsNumber:w,mount:g}=t._f,m=ae(r,y);if(!g||e.has(y))return{};const x=a?a[0]:o,b=T=>{i&&x.reportValidity&&(x.setCustomValidity(an(T)?"":T||""),x.reportValidity())},_={},E=ST(o),O=Od(o),S=E||O,C=(w||_T(o))&&St(o.value)&&St(m)||Ff(o)&&o.value===""||m===""||Array.isArray(m)&&!m.length,P=tne.bind(null,y,n,_),N=(T,I,q,B=Ei.maxLength,re=Ei.minLength)=>{const Q=T?I:q;_[y]={type:T?B:re,message:Q,ref:o,...P(T?B:re,Q)}};if(s?!Array.isArray(m)||!m.length:l&&(!S&&(C||Br(m))||an(m)&&!m||O&&!pK(a).isValid||E&&!vK(a).isValid)){const{value:T,message:I}=ln(l)?{value:!!l,message:l}:Aa(l);if(T&&(_[y]={type:Ei.required,message:I,ref:x,...P(Ei.required,I)},!n))return b(I),_}if(!C&&(!Br(h)||!Br(f))){let T,I;const q=Aa(f),B=Aa(h);if(!Br(m)&&!isNaN(m)){const re=o.valueAsNumber||m&&+m;Br(q.value)||(T=re>q.value),Br(B.value)||(I=re<B.value)}else{const re=o.valueAsDate||new Date(m),Q=U=>new Date(new Date().toDateString()+" "+U),L=o.type=="time",G=o.type=="week";ln(q.value)&&m&&(T=L?Q(m)>Q(q.value):G?m>q.value:re>new Date(q.value)),ln(B.value)&&m&&(I=L?Q(m)<Q(B.value):G?m<B.value:re<new Date(B.value))}if((T||I)&&(N(!!T,q.message,B.message,Ei.max,Ei.min),!n))return b(_[y].message),_}if((u||c)&&!C&&(ln(m)||s&&Array.isArray(m))){const T=Aa(u),I=Aa(c),q=!Br(T.value)&&m.length>+T.value,B=!Br(I.value)&&m.length<+I.value;if((q||B)&&(N(q,T.message,I.message),!n))return b(_[y].message),_}if(p&&!C&&ln(m)){const{value:T,message:I}=Aa(p);if(Lf(T)&&!m.match(T)&&(_[y]={type:Ei.pattern,message:I,ref:o,...P(Ei.pattern,I)},!n))return b(I),_}if(v){if(Rr(v)){const T=await v(m,r),I=HR(T,x);if(I&&(_[y]={...I,...P(Ei.validate,I.message)},!n))return b(I.message),_}else if(jt(v)){let T={};for(const I in v){if(!Pr(T)&&!n)break;const q=HR(await v[I](m,r),x,I);q&&(T={...q,...P(I,q.message)},b(q.message),n&&(_[y]=T))}if(!Pr(T)&&(_[y]={ref:x,...T},!n))return _}}return b(!0),_};const pne={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function mne(t={}){let e={...pne,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=jt(e.defaultValues)||jt(e.values)?Ut(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Ut(i),o={action:!1,mount:!1,watch:!1,keepIsValid:!1},a={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...c};let f={...h};const p={array:qR(),state:qR()},v=e.criteriaMode===Vn.all,y=$=>D=>{clearTimeout(u),u=setTimeout($,D)},w=async $=>{if(!o.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let D;e.resolver?(D=Pr((await S()).errors),g()):D=await P(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=($,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(a.mount)).forEach(F=>{F&&(D?Je(r.validatingFields,F,D):Nt(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Pr(r.validatingFields)}))},m=($,D=[],F,oe,ne=!0,X=!0)=>{if(oe&&F&&!e.disabled){if(o.action=!0,X&&Array.isArray(ae(n,$))){const de=F(ae(n,$),oe.argA,oe.argB);ne&&Je(n,$,de)}if(X&&Array.isArray(ae(r.errors,$))){const de=F(ae(r.errors,$),oe.argA,oe.argB);ne&&Je(r.errors,$,de),hne(r.errors,$)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(ae(r.touchedFields,$))){const de=F(ae(r.touchedFields,$),oe.argA,oe.argB);ne&&Je(r.touchedFields,$,de)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=za(i,s)),p.state.next({name:$,isDirty:T($,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,$,D)},x=($,D)=>{Je(r.errors,$,D),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,D,F,oe)=>{const ne=ae(n,$);if(ne){const X=ae(s,$,St(F)?ae(i,$):F);St(X)||oe&&oe.defaultChecked||D?Je(s,$,D?X:LR(ne._f)):B($,X),o.mount&&!o.action&&w()}},E=($,D,F,oe,ne)=>{let X=!1,de=!1;const k={name:$};if(!e.disabled){if(!F||oe){(h.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=k.isDirty=T(),X=de!==k.isDirty);const H=Kn(ae(i,$),D);de=!!ae(r.dirtyFields,$),H?Nt(r.dirtyFields,$):Je(r.dirtyFields,$,!0),k.dirtyFields=r.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&de!==!H}if(F){const H=ae(r.touchedFields,$);H||(Je(r.touchedFields,$,F),k.touchedFields=r.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&H!==F)}X&&ne&&p.state.next(k)}return X?k:{}},O=($,D,F,oe)=>{const ne=ae(r.errors,$),X=(h.isValid||f.isValid)&&an(D)&&r.isValid!==D;if(e.delayError&&F?(l=y(()=>x($,F)),l(e.delayError)):(clearTimeout(u),l=null,F?Je(r.errors,$,F):Nt(r.errors,$)),(F?!Kn(ne,F):ne)||!Pr(oe)||X){const de={...oe,...X&&an(D)?{isValid:D}:{},errors:r.errors,name:$};r={...r,...de},p.state.next(de)}},S=async $=>(g($,!0),await e.resolver(s,e.context,one($||a.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),C=async $=>{const{errors:D}=await S($);if(g($),$)for(const F of $){const oe=ae(D,F);oe?Je(r.errors,F,oe):Nt(r.errors,F)}else r.errors=D;return D},P=async($,D,F={valid:!0})=>{for(const oe in $){const ne=$[oe];if(ne){const{_f:X,...de}=ne;if(X){const k=a.array.has(X.name),H=ne._f&&ane(ne._f);H&&h.validatingFields&&g([X.name],!0);const le=await VR(ne,a.disabled,s,v,e.shouldUseNativeValidation&&!D,k);if(H&&h.validatingFields&&g([X.name]),le[X.name]&&(F.valid=!1,D))break;!D&&(ae(le,X.name)?k?fne(r.errors,le,X.name):Je(r.errors,X.name,le[X.name]):Nt(r.errors,X.name))}!Pr(de)&&await P(de,D,F)}}return F.valid},N=()=>{for(const $ of a.unMount){const D=ae(n,$);D&&(D._f.refs?D._f.refs.every(F=>!Bm(F)):!Bm(D._f.ref))&&Ie($)}a.unMount=new Set},T=($,D)=>!e.disabled&&($&&D&&Je(s,$,D),!Kn(z(),i)),I=($,D,F)=>LP($,a,{...o.mount?s:St(D)?i:ln($)?{[$]:D}:D},F,D),q=$=>yT(ae(o.mount?s:i,$,e.shouldUnregister?ae(i,$,[]):[])),B=($,D,F={})=>{const oe=ae(n,$);let ne=D;if(oe){const X=oe._f;X&&(!X.disabled&&Je(s,$,mK(D,X)),ne=Ff(X.ref)&&Br(D)?"":D,hK(X.ref)?[...X.ref.options].forEach(de=>de.selected=ne.includes(de.value)):X.refs?Od(X.ref)?X.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ne)?de.checked=!!ne.find(k=>k===de.value):de.checked=ne===de.value||!!ne)}):X.refs.forEach(de=>de.checked=de.value===ne):_T(X.ref)?X.ref.value="":(X.ref.value=ne,X.ref.type||p.state.next({name:$,values:Ut(s)})))}(F.shouldDirty||F.shouldTouch)&&E($,ne,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&U($)},re=($,D,F)=>{for(const oe in D){if(!D.hasOwnProperty(oe))return;const ne=D[oe],X=$+"."+oe,de=ae(n,X);(a.array.has($)||jt(ne)||de&&!de._f)&&!Oo(ne)?re(X,ne,F):B(X,ne,F)}},Q=($,D,F={})=>{const oe=ae(n,$),ne=a.array.has($),X=Ut(D);Je(s,$,X),ne?(p.array.next({name:$,values:Ut(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:$,dirtyFields:za(i,s),isDirty:T($,X)})):oe&&!oe._f&&!Br(X)?re($,X,F):B($,X,F),UR($,a)&&p.state.next({...r,name:$}),p.state.next({name:o.mount?$:void 0,values:Ut(s)})},L=async $=>{o.mount=!0;const D=$.target;let F=D.name,oe=!0;const ne=ae(n,F),X=H=>{oe=Number.isNaN(H)||Oo(H)&&isNaN(H.getTime())||Kn(H,ae(s,F,H))},de=BR(e.mode),k=BR(e.reValidateMode);if(ne){let H,le;const K=D.type?LR(ne._f):aK($),W=$.type===Mf.BLUR||$.type===Mf.FOCUS_OUT,V=!lne(ne._f)&&!e.resolver&&!ae(r.errors,F)&&!ne._f.deps||dne(W,ae(r.touchedFields,F),r.isSubmitted,k,de),Y=UR(F,a,W);Je(s,F,K),W?(!D||!D.readOnly)&&(ne._f.onBlur&&ne._f.onBlur($),l&&l(0)):ne._f.onChange&&ne._f.onChange($);const pe=E(F,K,W),$e=!Pr(pe)||Y;if(!W&&p.state.next({name:F,type:$.type,values:Ut(s)}),V)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?W&&w():W||w()),$e&&p.state.next({name:F,...Y?{}:pe});if(!W&&Y&&p.state.next({...r}),e.resolver){const{errors:Kt}=await S([F]);if(g([F]),X(K),oe){const Sr=WR(r.errors,n,F),qn=WR(Kt,n,Sr.name||F);H=qn.error,F=qn.name,le=Pr(Kt)}}else g([F],!0),H=(await VR(ne,a.disabled,s,v,e.shouldUseNativeValidation))[F],g([F]),X(K),oe&&(H?le=!1:(h.isValid||f.isValid)&&(le=await P(n,!0)));oe&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&U(ne._f.deps),O(F,le,H,pe))}},G=($,D)=>{if(ae(r.errors,D)&&$.focus)return $.focus(),1},U=async($,D={})=>{let F,oe;const ne=gc($);if(e.resolver){const X=await C(St($)?$:ne);F=Pr(X),oe=$?!ne.some(de=>ae(X,de)):F}else $?(oe=(await Promise.all(ne.map(async X=>{const de=ae(n,X);return await P(de&&de._f?{[X]:de}:de)}))).every(Boolean),!(!oe&&!r.isValid)&&w()):oe=F=await P(n);return p.state.next({...!ln($)||(h.isValid||f.isValid)&&F!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!oe&&yc(n,G,$?ne:a.mount),oe},z=($,D)=>{let F={...o.mount?s:i};return D&&(F=dK(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),St($)?F:ln($)?ae(F,$):$.map(oe=>ae(F,oe))},te=($,D)=>({invalid:!!ae((D||r).errors,$),isDirty:!!ae((D||r).dirtyFields,$),error:ae((D||r).errors,$),isValidating:!!ae(r.validatingFields,$),isTouched:!!ae((D||r).touchedFields,$)}),fe=$=>{$&&gc($).forEach(D=>Nt(r.errors,D)),p.state.next({errors:$?r.errors:{}})},ge=($,D,F)=>{const oe=(ae(n,$,{_f:{}})._f||{}).ref,ne=ae(r.errors,$)||{},{ref:X,message:de,type:k,...H}=ne;Je(r.errors,$,{...H,...D,ref:oe}),p.state.next({name:$,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&oe&&oe.focus&&oe.focus()},ke=($,D)=>Rr($)?p.state.subscribe({next:F=>"values"in F&&$(I(void 0,D),F)}):I($,D,!0),be=$=>p.state.subscribe({next:D=>{cne($.name,D.name,$.exact)&&une(D,$.formState||h,Bt,$.reRenderRoot)&&$.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,xe=$=>(o.mount=!0,f={...f,...$.formState},be({...$,formState:{...c,...$.formState}})),Ie=($,D={})=>{for(const F of $?gc($):a.mount)a.mount.delete(F),a.array.delete(F),D.keepValue||(Nt(n,F),Nt(s,F)),!D.keepError&&Nt(r.errors,F),!D.keepDirty&&Nt(r.dirtyFields,F),!D.keepTouched&&Nt(r.touchedFields,F),!D.keepIsValidating&&Nt(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&Nt(i,F);p.state.next({values:Ut(s)}),p.state.next({...r,...D.keepDirty?{isDirty:T()}:{}}),!D.keepIsValid&&w()},gt=({disabled:$,name:D})=>{(an($)&&o.mount||$||a.disabled.has(D))&&($?a.disabled.add(D):a.disabled.delete(D))},nt=($,D={})=>{let F=ae(n,$);const oe=an(D.disabled)||an(e.disabled);return Je(n,$,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:$}},name:$,mount:!0,...D}}),a.mount.add($),F?gt({disabled:an(D.disabled)?D.disabled:e.disabled,name:$}):_($,!0,D.value),{...oe?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:Qu(D.min),max:Qu(D.max),minLength:Qu(D.minLength),maxLength:Qu(D.maxLength),pattern:Qu(D.pattern)}:{},name:$,onChange:L,onBlur:L,ref:ne=>{if(ne){nt($,D),F=ae(n,$);const X=St(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,de=rne(X),k=F._f.refs||[];if(de?k.find(H=>H===X):X===F._f.ref)return;Je(n,$,{_f:{...F._f,...de?{refs:[...k.filter(Bm),X,...Array.isArray(ae(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else F=ae(n,$,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(lK(a.array,$)&&o.action)&&a.unMount.add($)}}},yt=()=>e.shouldFocusError&&yc(n,G,a.mount),_r=$=>{an($)&&(p.state.next({disabled:$}),yc(n,(D,F)=>{const oe=ae(n,F);oe&&(D.disabled=oe._f.disabled||$,Array.isArray(oe._f.refs)&&oe._f.refs.forEach(ne=>{ne.disabled=oe._f.disabled||$}))},0,!1))},Qe=($,D)=>async F=>{let oe;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ne=Ut(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:de}=await S();g(),r.errors=X,ne=Ut(de)}else await P(n);if(a.disabled.size)for(const X of a.disabled)Nt(ne,X);if(Nt(r.errors,"root"),Pr(r.errors)){p.state.next({errors:{}});try{await $(ne,F)}catch(X){oe=X}}else D&&await D({...r.errors},F),yt(),setTimeout(yt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pr(r.errors)&&!oe,submitCount:r.submitCount+1,errors:r.errors}),oe)throw oe},it=($,D={})=>{ae(n,$)&&(St(D.defaultValue)?Q($,Ut(ae(i,$))):(Q($,D.defaultValue),Je(i,$,Ut(D.defaultValue))),D.keepTouched||Nt(r.touchedFields,$),D.keepDirty||(Nt(r.dirtyFields,$),r.isDirty=D.defaultValue?T($,Ut(ae(i,$))):T()),D.keepError||(Nt(r.errors,$),h.isValid&&w()),p.state.next({...r}))},gn=($,D={})=>{const F=$?Ut($):i,oe=Ut(F),ne=Pr($),X=ne?i:oe;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const de=new Set([...a.mount,...Object.keys(za(i,s))]);for(const k of Array.from(de))ae(r.dirtyFields,k)?Je(X,k,ae(s,k)):Q(k,ae(X,k))}else{if(gT&&St($))for(const de of a.mount){const k=ae(n,de);if(k&&k._f){const H=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Ff(H)){const le=H.closest("form");if(le){le.reset();break}}}}if(D.keepFieldsRef)for(const de of a.mount)Q(de,ae(X,de));else n={}}s=e.shouldUnregister?D.keepDefaultValues?Ut(i):{}:Ut(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}a={mount:D.keepDirtyValues?a.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},o.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Pr(X),o.watch=!!e.shouldUnregister,o.keepIsValid=!!D.keepIsValid,o.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Kn($,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:D.keepDirtyValues?D.keepDefaultValues&&s?za(i,s):r.dirtyFields:D.keepDefaultValues&&$?za(i,$):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ar=($,D)=>gn(Rr($)?$(s):$,{...e.resetOptions,...D}),Ke=($,D={})=>{const F=ae(n,$),oe=F&&F._f;if(oe){const ne=oe.refs?oe.refs[0]:oe.ref;ne.focus&&setTimeout(()=>{ne.focus(),D.shouldSelect&&Rr(ne.select)&&ne.select()})}},Bt=$=>{r={...r,...$}},zt={control:{register:nt,unregister:Ie,getFieldState:te,handleSubmit:Qe,setError:ge,_subscribe:be,_runSchema:S,_updateIsValidating:g,_focusError:yt,_getWatch:I,_getDirty:T,_setValid:w,_setFieldArray:m,_setDisabledField:gt,_setErrors:b,_getFieldArray:q,_reset:gn,_resetDefaultValues:()=>Rr(e.defaultValues)&&e.defaultValues().then($=>{Ar($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:N,_disableForm:_r,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return o},set _state($){o=$},get _defaultValues(){return i},get _names(){return a},set _names($){a=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:xe,trigger:U,register:nt,handleSubmit:Qe,watch:ke,setValue:Q,getValues:z,reset:Ar,resetField:it,clearErrors:fe,unregister:Ie,setError:ge,setFocus:Ke,getFieldState:te};return{...zt,formControl:zt}}function cu(t={}){const e=Ce.useRef(void 0),r=Ce.useRef(void 0),[n,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:Rr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Rr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Rr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:o,...a}=mne(t);e.current={...a,formState:n}}const s=e.current.control;return s._options=t,xT(()=>{const o=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(a=>({...a,isReady:!0})),s._formState.isReady=!0,o},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const o=s._getDirty();o!==n.isDirty&&s._subjects.state.next({isDirty:o})}},[s,n.isDirty]),Ce.useEffect(()=>{var o;t.values&&!Kn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((o=s._options.resetOptions)===null||o===void 0)&&o.keepIsValid||s._setValid(),r.current=t.values,i(a=>({...a}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=cK(n,s),e.current}function KR(){var y;const{id:t}=ts(),e=en(),r=!!t,{data:n,isLoading:i}=uu(t),s=zre(),o=Ed(),{data:a=[]}=ft({queryKey:["date-types"],queryFn:async()=>(await Le.getDateTypes()).data}),l=a.find(w=>w.slug==="birthday"||w.name.toLowerCase()==="birthday"),{register:u,handleSubmit:c,reset:h,formState:{errors:f,isSubmitting:p}}=cu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});j.useEffect(()=>{var w,g,m,x,b,_,E,O;if(n){const S=(g=(w=n.acf)==null?void 0:w.contact_info)==null?void 0:g.find(P=>P.contact_type==="email"),C=(S==null?void 0:S.contact_value)||"";h({first_name:((m=n.acf)==null?void 0:m.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((b=n.acf)==null?void 0:b.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:C,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),Zn(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const v=async w=>{try{const m=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unnamed Person",x={title:m,status:"publish",acf:{first_name:w.first_name,last_name:w.last_name,nickname:w.nickname,gender:w.gender||"",how_we_met:w.how_we_met,is_favorite:w.is_favorite}};if(!r&&w.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:w.email,contact_label:""}]),r)x.title=m,await o.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(w.email)try{await Xr.sideloadGravatar(_,w.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(w.birthday&&l)try{const E=w.first_name||"Person";await Le.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:w.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to People"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),d.jsxs("form",{onSubmit:c(v),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"First Name *"}),d.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Last Name"}),d.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Nickname"}),d.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Gender"}),d.jsxs("select",{...u("gender"),className:"input",children:[d.jsx("option",{value:"",children:"Select gender..."}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"non_binary",children:"Non-binary"}),d.jsx("option",{value:"other",children:"Other"}),d.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Email"}),d.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Birthday"}),d.jsx("input",{type:"date",...u("birthday"),className:"input"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"How We Met"}),d.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:"/people",className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(Js,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function vne({value:t,onChange:e,companies:r,isLoading:n}){return d.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[d.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return d.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function GR(){var m,x;const{personId:t,index:e}=ts(),r=en();hr();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=uu(t),a=Ed(),{data:l=[],isLoading:u}=ft({queryKey:["companies","all"],queryFn:async()=>(await Le.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:c,handleSubmit:h,reset:f,watch:p,control:v,formState:{errors:y,isSubmitting:w}}=cu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});j.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),Zn(i?`Edit Work History - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async b=>{var _,E,O;try{const S=[...((_=s.acf)==null?void 0:_.work_history)||[]],C={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?S[n]=C:S.push(C);const P={...s.acf,work_history:S,contact_info:Array.isArray((E=s.acf)==null?void 0:E.contact_info)?s.acf.contact_info:[],relationships:Array.isArray((O=s.acf)==null?void 0:O.relationships)?s.acf.relationships:[]};await a.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(S){console.error("Failed to save work history:",S)}};return p("is_current"),o?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),d.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Company"}),d.jsx(Af,{name:"company",control:v,render:({field:b})=>d.jsx(vne,{value:b.value,onChange:b.onChange,companies:l,isLoading:u})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Job Title"}),d.jsx("input",{...c("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Description"}),d.jsx("textarea",{...c("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Start Date"}),d.jsx("input",{type:"date",...c("start_date"),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"End Date"}),d.jsx("input",{type:"date",...c("end_date"),className:"input"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...c("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[w?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(Js,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const gne=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function YR(){var v,y;const{personId:t,index:e}=ts(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=uu(t),a=Ed(),{register:l,handleSubmit:u,reset:c,formState:{errors:h,isSubmitting:f}}=cu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});j.useEffect(()=>{var w;if(s&&i){const m=(((w=s.acf)==null?void 0:w.contact_info)||[])[n];m&&c({contact_type:m.contact_type||"",contact_label:m.contact_label||"",contact_value:m.contact_value||""})}},[s,n,i,c]),Zn(i?`Edit Contact Detail - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Contact Detail - ${((y=s==null?void 0:s.title)==null?void 0:y.rendered)||(s==null?void 0:s.title)||"Person"}`);const p=async w=>{var g,m,x;try{const b=[...((g=s.acf)==null?void 0:g.contact_info)||[]],_={contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""};i?b[n]=_:b.push(_);const E={...s.acf,contact_info:b,work_history:Array.isArray((m=s.acf)==null?void 0:m.work_history)?s.acf.work_history:[],relationships:Array.isArray((x=s.acf)==null?void 0:x.relationships)?s.acf.relationships:[]};await a.mutateAsync({id:t,data:{acf:E}}),r(`/people/${t}`)}catch(b){console.error("Failed to save contact detail:",b)}};return o?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Contact Detail":"Add Contact Detail"}),d.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Contact Type *"}),d.jsxs("select",{...l("contact_type",{required:"Please select a contact type"}),className:"input",children:[d.jsx("option",{value:"",children:"Select a type..."}),gne.map(w=>d.jsx("option",{value:w.value,children:w.label},w.value))]}),h.contact_type&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Label"}),d.jsx("input",{...l("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Value *"}),d.jsx("input",{...l("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),h.contact_value&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_value.message})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(Js,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Contact Detail"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function zm(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function yne({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){var g;const[s,o]=j.useState(""),[a,l]=j.useState(!1),u=j.useRef(null),c=j.useRef(null),h=j.useMemo(()=>r.filter(x=>x.id!==i).sort((x,b)=>{var O,S;const _=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase(),E=(b.first_name||((S=b.acf)==null?void 0:S.first_name)||"").toLowerCase();return _<E?-1:_>E?1:0}),[r,i]),f=j.useMemo(()=>{if(!s)return h.slice(0,10);const m=s.toLowerCase();return h.filter(x=>{var O,S,C;const b=zm(((O=x.title)==null?void 0:O.rendered)||x.title||"").toLowerCase(),_=(x.first_name||((S=x.acf)==null?void 0:S.first_name)||"").toLowerCase(),E=(x.last_name||((C=x.acf)==null?void 0:C.last_name)||"").toLowerCase();return b.includes(m)||_.includes(m)||E.includes(m)}).slice(0,10)},[h,s]),p=j.useMemo(()=>h.find(m=>m.id===t),[h,t]);j.useEffect(()=>{const m=x=>{c.current&&!c.current.contains(x.target)&&u.current&&!u.current.contains(x.target)&&l(!1)};return document.addEventListener("mousedown",m),()=>document.removeEventListener("mousedown",m)},[]);const v=m=>{e(m),o(""),l(!1)},y=()=>{e(null),o(""),l(!1)},w=p?zm(((g=p.title)==null?void 0:g.rendered)||p.title):"";return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"relative",children:p&&!a?d.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[d.jsx("span",{children:w}),d.jsx("button",{type:"button",onClick:m=>{m.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:d.jsx(Zs,{className:"w-4 h-4"})})]}):d.jsx("input",{ref:u,type:"text",value:s,onChange:m=>{o(m.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),a&&(s||!p)&&d.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(m=>{var x;return d.jsx("button",{type:"button",onClick:()=>v(m.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===m.id?"bg-primary-50":""}`,children:zm(((x=m.title)==null?void 0:x.rendered)||m.title)},m.id)}):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function QR(){var x,b;const{personId:t,index:e}=ts(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:o}=uu(t),a=Ed(),{data:l=[],isLoading:u}=Op(),{data:c=[],isLoading:h}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:v,control:y,formState:{errors:w,isSubmitting:g}}=cu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});j.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&v({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,v]),Zn(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((b=s==null?void 0:s.title)==null?void 0:b.rendered)||(s==null?void 0:s.title)||"Person"}`);const m=async _=>{var E,O,S;try{const C=[...((E=s.acf)==null?void 0:E.relationships)||[]],P={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?C[n]=P:C.push(P);const N={...s.acf,relationships:C,contact_info:Array.isArray((O=s.acf)==null?void 0:O.contact_info)?s.acf.contact_info:[],work_history:Array.isArray((S=s.acf)==null?void 0:S.work_history)?s.acf.work_history:[]};await a.mutateAsync({id:t,data:{acf:N}}),r(`/people/${t}`)}catch(C){console.error("Failed to save relationship:",C)}};return o?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),d.jsxs("form",{onSubmit:p(m),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Related Person *"}),d.jsx(Af,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>d.jsx(yne,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),w.related_person&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Relationship Type"}),d.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[d.jsx("option",{value:"",children:"Select a type..."}),c.map(_=>d.jsx("option",{value:_.id,children:_.name},_.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Custom Label"}),d.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(Js,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function XR(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function bne({company:t}){var e,r,n,i,s;return d.jsx(ve,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?d.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:XR(t.title.rendered),className:"w-12 h-12 rounded-lg object-cover"}):d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Qi,{className:"w-6 h-6 text-gray-400"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:XR(t.title.rendered)}),((i=t.acf)==null?void 0:i.industry)&&d.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&d.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function wne(){const[t,e]=j.useState(""),{data:r,isLoading:n,error:i}=ft({queryKey:["companies",t],queryFn:async()=>(await Le.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=j.useMemo(()=>r?[...r].sort((o,a)=>{var c,h;const l=(((c=o.title)==null?void 0:c.rendered)||o.title||"").toLowerCase(),u=(((h=a.title)==null?void 0:h.rendered)||a.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{className:"relative flex-1 max-w-md",children:[d.jsx(E7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:o=>e(o.target.value),className:"input pl-9"})]}),d.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[d.jsx(br,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Qi,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),d.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&d.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[d.jsx(br,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(o=>d.jsx(bne,{company:o},o.id))})]})}function Um(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function xne(){var c,h,f,p,v,y,w;const{id:t}=ts(),e=en(),r=hr(),{data:n,isLoading:i,error:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data}),{data:o}=ft({queryKey:["company-people",t],queryFn:async()=>(await Xr.getCompanyPeople(t)).data}),a=$t({mutationFn:()=>Le.deleteCompany(t),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});Zn(Um(((c=n==null?void 0:n.title)==null?void 0:c.rendered)||(n==null?void 0:n.title)||"Company"));const l=()=>{window.confirm("Are you sure you want to delete this company?")&&a.mutate()};if(i)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load company."}),d.jsx(ve,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});const u=n.acf||{};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to Companies"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ve,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[d.jsx(C7,{className:"w-4 h-4 mr-2"}),"Edit"]}),d.jsxs("button",{onClick:l,className:"btn-danger",children:[d.jsx(ps,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),d.jsx("div",{className:"card p-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[(p=(f=(h=n._embedded)==null?void 0:h["wp:featuredmedia"])==null?void 0:f[0])!=null&&p.source_url?d.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Um(n.title.rendered),className:"w-16 h-16 rounded-lg object-cover"}):d.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Qi,{className:"w-8 h-8 text-gray-400"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:Um(n.title.rendered)}),u.industry&&d.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&d.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[d.jsx(kP,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card p-6",children:[d.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[d.jsx(ra,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((v=o==null?void 0:o.current)==null?void 0:v.length)>0?d.jsx("div",{className:"space-y-2",children:o.current.map(g=>{var m;return d.jsxs(ve,{to:`/people/${g.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[g.thumbnail?d.jsx("img",{src:g.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs text-gray-500",children:((m=g.name)==null?void 0:m[0])||"?"})}),d.jsxs("div",{className:"ml-2",children:[d.jsx("p",{className:"text-sm font-medium",children:g.name}),g.job_title&&d.jsx("p",{className:"text-xs text-gray-500",children:g.job_title})]})]},g.id)})}):d.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[d.jsx(ra,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((y=o==null?void 0:o.former)==null?void 0:y.length)>0?d.jsx("div",{className:"space-y-2",children:o.former.map(g=>{var m;return d.jsxs(ve,{to:`/people/${g.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[g.thumbnail?d.jsx("img",{src:g.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:d.jsx("span",{className:"text-xs text-gray-500",children:((m=g.name)==null?void 0:m[0])||"?"})}),d.jsxs("div",{className:"ml-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:g.name}),g.job_title&&d.jsx("p",{className:"text-xs text-gray-500",children:g.job_title})]})]},g.id)})}):d.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((w=u.contact_info)==null?void 0:w.length)>0&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),d.jsx("div",{className:"space-y-3",children:u.contact_info.map((g,m)=>d.jsxs("div",{children:[d.jsxs("span",{className:"text-sm text-gray-500",children:[g.contact_label||g.contact_type,":"]}),d.jsx("span",{className:"ml-2",children:g.contact_value})]},m))})]})]})}function JR(){var m,x,b,_,E,O,S,C;const{id:t}=ts(),e=en(),r=hr(),n=!!t,{data:i,isLoading:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data,enabled:n}),[o,a]=j.useState(!1),l=j.useRef(null),u=$t({mutationFn:P=>Le.createCompany(P),onSuccess:P=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${P.data.id}`)}}),c=$t({mutationFn:P=>Le.updateCompany(t,P),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async P=>{var T;const N=(T=P.target.files)==null?void 0:T[0];if(N){if(!N.type.startsWith("image/")){alert("Please select an image file");return}if(N.size>5*1024*1024){alert("Image size must be less than 5MB");return}a(!0);try{await Xr.uploadCompanyLogo(t,N),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{a(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:v,formState:{errors:y,isSubmitting:w}}=cu();j.useEffect(()=>{var P,N;i&&v({title:i.title.rendered||"",website:((P=i.acf)==null?void 0:P.website)||"",industry:((N=i.acf)==null?void 0:N.industry)||""})},[i,v]),Zn(n&&i?`Edit ${((m=i.title)==null?void 0:m.rendered)||i.title||"Company"}`:"New Company");const g=async P=>{const N={title:P.title,status:"publish",acf:{website:P.website,industry:P.industry}};n?c.mutate(N):u.mutate(N)};return n&&s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to Companies"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),d.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Logo"}),d.jsxs("div",{className:"flex items-center gap-4",children:[(_=(b=(x=i==null?void 0:i._embedded)==null?void 0:x["wp:featuredmedia"])==null?void 0:b[0])!=null&&_.source_url?d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:((E=i.title)==null?void 0:E.rendered)||"Company logo",className:"w-20 h-20 rounded-lg object-cover"}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},children:o?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Xh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Xh,{className:"w-8 h-8 text-gray-400"})}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},children:o?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Xh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),d.jsxs("div",{children:[d.jsx("button",{type:"button",onClick:()=>{var P;return(P=l.current)==null?void 0:P.click()},className:"btn-secondary text-sm",disabled:o,children:(C=(S=(O=i==null?void 0:i._embedded)==null?void 0:O["wp:featuredmedia"])==null?void 0:S[0])!=null&&C.source_url?"Change Logo":"Upload Logo"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),d.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:o})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Company Name *"}),d.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Website"}),d.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Industry"}),d.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:"/companies",className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:w,children:[d.jsx(Js,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function _ne({person:t,dateType:e}){var r;return d.jsx("div",{className:"flex items-center gap-3 py-2",children:d.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),d.jsx("span",{className:"font-medium truncate",children:t.name}),d.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Sne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var a,l;const o=((a=s.date_type)==null?void 0:a[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:o})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:o})}),d.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:d.jsx("span",{className:"text-2xl font-bold leading-none",children:di(new Date(e.next_occurrence),"d")})}),d.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:o},a)=>d.jsx(_ne,{person:s,dateType:o},s.id?`${s.id}-${o}`:`${a}-${o}`))})]})})}function Ene(){const{data:t,isLoading:e,error:r}=Ete(365),n=(t==null?void 0:t.reduce((s,o)=>{const a=di(new Date(o.next_occurrence),"yyyy-MM-dd");return s[a]||(s[a]=[]),s[a].push(o),s},{}))||{},i=Object.entries(n).reduce((s,[o,a])=>{const l=di(new Date(o),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(a),s},{});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),d.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[d.jsx(br,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),e&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx(ta,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),d.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[d.jsx(br,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),Object.entries(i).map(([s,o])=>d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),d.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:o.map(a=>d.jsx(Sne,{dates:a},a[0].next_occurrence))})]},s))]})}function fl(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function One({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=j.useState(""),o=j.useMemo(()=>{if(!i)return r.slice(0,10);const c=i.toLowerCase();return r.filter(h=>{var f,p;return(p=fl((f=h.title)==null?void 0:f.rendered))==null?void 0:p.toLowerCase().includes(c)}).slice(0,10)},[r,i]),a=j.useMemo(()=>t.map(c=>r.find(h=>h.id===c)).filter(Boolean),[t,r]),l=c=>{t.includes(c)||e([...t,c]),s("")},u=c=>{e(t.filter(h=>h!==c))};return d.jsxs("div",{className:"space-y-2",children:[a.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:a.map(c=>{var h;return d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[fl((h=c.title)==null?void 0:h.rendered),d.jsx("button",{type:"button",onClick:()=>u(c.id),className:"hover:text-primary-600",children:d.jsx(Zs,{className:"w-3 h-3"})})]},c.id)})}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:o.length>0?o.map(c=>{var h;return d.jsx("button",{type:"button",onClick:()=>l(c.id),disabled:t.includes(c.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(c.id)?"opacity-50 cursor-not-allowed":""}`,children:fl((h=c.title)==null?void 0:h.rendered)},c.id)}):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function ZR(){var G;const{id:t}=ts(),[e]=GJ(),r=en(),n=hr(),i=!!t,s=e.get("person"),o=e.get("type"),{data:a,isLoading:l}=ft({queryKey:["important-date",t],queryFn:async()=>(await Le.getDate(t)).data,enabled:i}),u=j.useMemo(()=>{var z;if(!((z=a==null?void 0:a.acf)!=null&&z.related_people))return[];const U=a.acf.related_people;return Array.isArray(U)?U.map(te=>parseInt(typeof te=="object"&&te!==null?te.ID||te.id||te.post_id:te,10)).filter(te=>!isNaN(te)&&te>0):[]},[a]),{data:c=[],isLoading:h}=Op({orderby:"title",order:"asc"}),{data:f=[]}=ft({queryKey:["people","specific",u],queryFn:async()=>{const U=u.map(te=>Le.getPerson(te,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:u.length>0}),p=j.useMemo(()=>{const U=new Map;return c.forEach(z=>U.set(z.id,z)),f.forEach(z=>{var fe,ge,ke,be,xe,Ie,gt,nt,yt,_r,Qe,it,gn,Ar,Ke,Bt,ni;const te={...z,id:z.id,name:fl(((fe=z.title)==null?void 0:fe.rendered)||z.title||""),first_name:((ge=z.acf)==null?void 0:ge.first_name)||"",last_name:((ke=z.acf)==null?void 0:ke.last_name)||"",is_favorite:((be=z.acf)==null?void 0:be.is_favorite)||!1,thumbnail:((gt=(Ie=(xe=z._embedded)==null?void 0:xe["wp:featuredmedia"])==null?void 0:Ie[0])==null?void 0:gt.source_url)||((gn=(it=(Qe=(_r=(yt=(nt=z._embedded)==null?void 0:nt["wp:featuredmedia"])==null?void 0:yt[0])==null?void 0:_r.media_details)==null?void 0:Qe.sizes)==null?void 0:it.thumbnail)==null?void 0:gn.source_url)||null,labels:((ni=(Bt=(Ke=(Ar=z._embedded)==null?void 0:Ar["wp:term"])==null?void 0:Ke.flat())==null?void 0:Bt.filter(zt=>(zt==null?void 0:zt.taxonomy)==="person_label"))==null?void 0:ni.map(zt=>zt.name))||[]};U.set(te.id,te)}),Array.from(U.values())},[c,f]),{data:v=[]}=ft({queryKey:["date-types"],queryFn:async()=>((await Le.getDateTypes()).data||[]).sort((te,fe)=>{const ge=te.name||"",ke=fe.name||"";return ge.localeCompare(ke)})}),y=$t({mutationFn:U=>Le.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),w=$t({mutationFn:U=>Le.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=b("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:g,handleSubmit:m,reset:x,watch:b,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=cu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),C=b("related_people"),P=b("date_type"),N=b("title");j.useEffect(()=>{var te;if((!N||["'s Birthday","Wedding of "].some(fe=>N.endsWith(fe)||N.startsWith(fe)))&&(C==null?void 0:C.length)>0&&P){const fe=v.find(xe=>xe.id===parseInt(P)),ge=(fe==null?void 0:fe.name)||"",ke=((te=fe==null?void 0:fe.slug)==null?void 0:te.toLowerCase())||ge.toLowerCase(),be=C.map(xe=>{var gt,nt,yt;const Ie=p.find(_r=>_r.id===xe);return Ie?fl(((gt=Ie.acf)==null?void 0:gt.first_name)||((yt=(nt=Ie.title)==null?void 0:nt.rendered)==null?void 0:yt.split(" ")[0])||""):null}).filter(Boolean);if(be.length>0&&ge){let xe;ke==="wedding"?be.length>=2?xe=`Wedding of ${be[0]} & ${be[1]}`:xe=`Wedding of ${be[0]}`:xe=`${be[0]}'s ${ge}`,_("title",xe)}}},[C,P,p,v,_,N]);const[T,I]=j.useState(!1);j.useEffect(()=>{var z,te,fe,ge,ke,be;if(T&&!i)return;const U=u.length===0||f.length>0;if(a&&p.length>0&&U){let xe=[];const Ie=(z=a.acf)==null?void 0:z.related_people;Ie&&(Array.isArray(Ie)?xe=Ie.map(nt=>parseInt(typeof nt=="object"&&nt!==null?nt.ID||nt.id||nt.post_id:nt,10)).filter(nt=>!isNaN(nt)&&nt>0):typeof Ie=="number"&&(xe=[Ie]));let gt="";((te=a.date_type)==null?void 0:te.length)>0&&(gt=a.date_type[0].toString()),x({title:fl(((fe=a.title)==null?void 0:fe.rendered)||""),date_value:((ge=a.acf)==null?void 0:ge.date_value)||"",date_type:gt,related_people:xe,is_recurring:((ke=a.acf)==null?void 0:ke.is_recurring)??!0,reminder_days_before:((be=a.acf)==null?void 0:be.reminder_days_before)||7}),I(!0)}else if(!i&&p.length>0&&v.length>0){const xe={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(xe.related_people=[parseInt(s)]),o){const Ie=v.find(gt=>gt.slug===o||gt.name.toLowerCase()===o.toLowerCase());Ie&&(xe.date_type=Ie.id.toString())}x(xe),I(!0)}},[a,x,i,s,o,v,p,u,f,T]),Zn(i&&a?`Edit ${((G=a.title)==null?void 0:G.rendered)||a.title||"Date"}`:"New Date");const q=async U=>{const z={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring,reminder_days_before:parseInt(U.reminder_days_before,10)}};i?w.mutate(z):y.mutate(z)};if(i&&l)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const B=b("related_people"),re=i&&(B==null?void 0:B.length)>0?B[0]:s,Q=re?`/people/${re}`:"/dates",L=re?"Back to Person":"Back to Dates";return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:Q,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),L]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),d.jsxs("form",{onSubmit:m(q),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Related People"}),d.jsx(Af,{name:"related_people",control:E,render:({field:U})=>d.jsx(One,{value:U.value,onChange:U.onChange,people:p,isLoading:h})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Date Type *"}),d.jsx(Af,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const z=U.value?String(U.value):"";return d.jsxs("select",{value:z,onChange:te=>{const fe=te.target.value;U.onChange(fe)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[d.jsx("option",{value:"",children:"Select a type..."}),v.map(te=>d.jsx("option",{value:String(te.id),children:te.name},te.id))]})}}),O.date_type&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Label"}),d.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Date *"}),d.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Remind me"}),d.jsxs("select",{...g("reminder_days_before"),className:"input",children:[d.jsx("option",{value:"0",children:"On the day"}),d.jsx("option",{value:"1",children:"1 day before"}),d.jsx("option",{value:"3",children:"3 days before"}),d.jsx("option",{value:"7",children:"1 week before"}),d.jsx("option",{value:"14",children:"2 weeks before"}),d.jsx("option",{value:"30",children:"1 month before"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:Q,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[d.jsx(Js,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function Pne(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=j.useState(""),[i,s]=j.useState(""),[o,a]=j.useState(!0),[l,u]=j.useState(!1),[c,h]=j.useState(!1);j.useEffect(()=>{(async()=>{try{const y=await we.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{a(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(v){console.error("Failed to copy:",v)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const v=await we.post("/prm/v1/user/regenerate-ical-token");n(v.data.url),s(v.data.webcal_url)}catch(v){console.error("Failed to regenerate token:",v)}finally{h(!1)}}};return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),o?d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),d.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:v=>v.target.select()}),d.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("a",{href:i,className:"btn-primary",children:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),d.jsx("button",{onClick:p,disabled:c,className:"btn-secondary",children:c?"Regenerating...":"Regenerate URL"})]}),d.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ve,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[d.jsx("p",{className:"font-medium",children:"Import Data"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]})})]}),e&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configuration"}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ve,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[d.jsx("p",{className:"font-medium",children:"Relationship Types"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]})})]}),e&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("a",{href:t.adminUrl,className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"WordPress Admin"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage all settings, users, and content"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=person",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage People"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit people with all ACF fields"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=company",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage Companies"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit companies with all ACF fields"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=important_date",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage Important Dates"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit dates and link people"})]})]})]}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[Hl," v",t.version||"1.0.0",d.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function e2({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=j.useState(""),[o,a]=j.useState(!1),l=j.useRef(null),u=j.useRef(null),c=j.useMemo(()=>r.sort((w,g)=>{const m=(w.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return m<x?-1:m>x?1:0}),[r]),h=j.useMemo(()=>{if(!i)return c.slice(0,10);const w=i.toLowerCase();return c.filter(g=>(g.name||"").toLowerCase().includes(w)).slice(0,10)},[c,i]),f=j.useMemo(()=>c.find(w=>w.id===parseInt(t,10)),[c,t]);j.useEffect(()=>{const w=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&a(!1)};return document.addEventListener("mousedown",w),()=>document.removeEventListener("mousedown",w)},[]);const p=w=>{e(w?w.toString():""),s(""),a(!1)},v=()=>{e(""),s(""),a(!1)},y=f?f.name:"";return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"relative",children:f&&!o?d.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>a(!0),children:[d.jsx("span",{children:y}),d.jsx("button",{type:"button",onClick:w=>{w.stopPropagation(),v()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:d.jsx(Zs,{className:"w-4 h-4"})})]}):d.jsx("input",{ref:l,type:"text",value:i,onChange:w=>{s(w.target.value),a(!0)},onFocus:()=>a(!0),placeholder:"Search for a relationship type...",className:"input"})}),o&&(i||!f)&&d.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:d.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(w=>d.jsx("button",{type:"button",onClick:()=>p(w.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===w.id.toString()?"bg-primary-50":""}`,children:w.name},w.id))]}):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function Cne(){Zn("Relationship Types - Settings");const t=hr();if(!((window.prmConfig||{}).isAdmin||!1))return d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"card p-8 text-center",children:[d.jsx(WZ,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),d.jsx(ve,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),[s,o]=j.useState(null),[a,l]=j.useState(""),[u,c]=j.useState(""),[h,f]=j.useState(""),[p,v]=j.useState(""),[y,w]=j.useState(!1),g=$t({mutationFn:async({id:N,name:T,inverseId:I})=>{const q={name:T};return I&&(q.acf={inverse_relationship_type:parseInt(I,10)}),Le.updateRelationshipType(N,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),o(null),l(""),c("")}}),m=$t({mutationFn:async({name:N,inverseId:T})=>{const I={name:N};return T&&(I.acf={inverse_relationship_type:parseInt(T,10)}),Le.createRelationshipType(I)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),v(""),w(!1)}}),x=$t({mutationFn:N=>Le.deleteRelationshipType(N),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=$t({mutationFn:()=>Le.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return d.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):d.jsx(S7,{className:"w-4 h-4"}),"Restore Defaults"]})}const E=N=>{var I;o(N.id),l(N.name);const T=(I=N.acf)==null?void 0:I.inverse_relationship_type;c(T?T.toString():"")},O=()=>{o(null),l(""),c("")},S=()=>{if(!a.trim()){alert("Name is required");return}g.mutate({id:s,name:a.trim(),inverseId:u||null})},C=()=>{if(!h.trim()){alert("Name is required");return}m.mutate({name:h.trim(),inverseId:p||null})},P=(N,T)=>{window.confirm(`Are you sure you want to delete "${T}"? This cannot be undone.`)&&x.mutate(N)};return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),d.jsx("div",{className:"flex gap-2",children:!y&&d.jsxs(d.Fragment,{children:[d.jsx(_,{}),d.jsxs("button",{onClick:()=>w(!0),className:"btn-primary flex items-center gap-2",children:[d.jsx(br,{className:"w-4 h-4"}),"Add Relationship Type"]})]})})]}),y&&d.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Name *"}),d.jsx("input",{type:"text",value:h,onChange:N=>f(N.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Inverse Relationship Type"}),d.jsx(e2,{value:p,onChange:v,relationshipTypes:n}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:C,disabled:m.isPending,className:"btn-primary flex items-center gap-2",children:[m.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):d.jsx(Js,{className:"w-4 h-4"}),"Save"]}),d.jsx("button",{onClick:()=>{w(!1),f(""),v("")},className:"btn-secondary",children:"Cancel"})]})]})]}),d.jsx("div",{className:"space-y-2",children:n.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(N=>{var re,Q;const T=s===N.id,I=(re=N.acf)==null?void 0:re.inverse_relationship_type,q=typeof I=="object"&&(I!=null&&I.ID)?I.ID:typeof I=="object"&&(I!=null&&I.id)?I.id:I,B=q?n.find(L=>L.id===q):null;return d.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:T?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Name *"}),d.jsx("input",{type:"text",value:a,onChange:L=>l(L.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Inverse Relationship Type"}),d.jsx(e2,{value:u,onChange:c,relationshipTypes:n,currentTypeId:N.id}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):d.jsx(Js,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[d.jsx(Zs,{className:"w-4 h-4"}),"Cancel"]})]})]}):d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium",children:N.name}),B&&d.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",d.jsx("span",{className:"font-medium",children:B.name})]}),!B&&((Q=N.acf)==null?void 0:Q.inverse_relationship_type)===null&&d.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>E(N),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:d.jsx(zZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>P(N.id,N.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:d.jsx(ps,{className:"w-4 h-4"})})]})]})},N.id)})})]})})}function Tne(){var g,m,x;const[t,e]=j.useState(null),[r,n]=j.useState(""),[i,s]=j.useState(!1),[o,a]=j.useState(null),l=hr(),u=$t({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await we.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{a(b)},onError:b=>{var _,E;a({valid:!1,error:((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),c=$t({mutationFn:async({file:b,monicaUrl:_})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",_),(await we.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=j.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=j.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&v(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&v(b.target.files[0])},v=b=>{if(!b.name.endsWith(".sql")){a({valid:!1,error:"Please select a SQL file"});return}e(b),a(null),c.reset(),u.mutate(b)},y=()=>{if(!r.trim()){a(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(o!=null&&o.valid)&&c.mutate({file:t,monicaUrl:r.trim()})},w=()=>{e(null),n(""),a(null),u.reset(),c.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),c.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",c.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",c.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped (partial): ",c.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Photos imported: ",c.data.stats.photos_imported]}),d.jsxs("p",{children:["Companies created: ",c.data.stats.companies_created]}),d.jsxs("p",{children:["Relationships created: ",c.data.stats.relationships_created]}),d.jsxs("p",{children:["Important dates created: ",c.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",c.data.stats.notes_created]}),((g=c.data.stats.errors)==null?void 0:g.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:c.data.stats.errors.map((b,_)=>d.jsx("li",{children:b},_))})]})]}),d.jsx("button",{onClick:w,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[d.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Ul,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(hT,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Wl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),o&&d.jsx("div",{className:`rounded-lg border p-4 ${o.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:o.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[d.jsxs("p",{children:["Export format: ",o.version]}),d.jsxs("p",{children:["Contacts to import: ",o.summary.contacts]}),d.jsxs("p",{children:["Relationships: ",o.summary.relationships]}),d.jsxs("p",{children:["Notes: ",o.summary.notes]}),d.jsxs("p",{children:["Dates: ",o.summary.reminders]}),d.jsxs("p",{children:["Photos: ",o.summary.photos]}),d.jsxs("p",{children:["Companies: ",o.summary.companies_count]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Bl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:o.error})]})]})}),(o==null?void 0:o.valid)&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(qZ,{className:"h-4 w-4 text-gray-400"})}),d.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${o.urlError?"border-red-300":"border-gray-300"}`})]}),o.urlError&&d.jsx("p",{className:"text-sm text-red-600",children:o.urlError}),d.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(o==null?void 0:o.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:y,disabled:c.isPending,className:"btn-primary flex items-center gap-2",children:c.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Ul,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Wl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:w,disabled:c.isPending,className:"btn-secondary",children:"Cancel"})]}),c.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Bl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(m=c.error.response)==null?void 0:m.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function Ine(){var y,w,g;const[t,e]=j.useState(null),[r,n]=j.useState(!1),[i,s]=j.useState(null),o=hr(),a=$t({mutationFn:async m=>{const x=new FormData;return x.append("file",m),(await we.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:m=>{s(m)},onError:m=>{var x,b;s({valid:!1,error:((b=(x=m.response)==null?void 0:x.data)==null?void 0:b.message)||"Failed to validate file"})}}),l=$t({mutationFn:async m=>{const x=new FormData;return x.append("file",m),(await we.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{o.invalidateQueries({queryKey:["people"]}),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["dates"]}),o.invalidateQueries({queryKey:["dashboard"]})}}),u=j.useCallback(m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?n(!0):m.type==="dragleave"&&n(!1)},[]),c=j.useCallback(m=>{m.preventDefault(),m.stopPropagation(),n(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&f(m.dataTransfer.files[0])},[]),h=m=>{m.target.files&&m.target.files[0]&&f(m.target.files[0])},f=m=>{const x=m.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(m),s(null),l.reset(),a.mutate(m)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},v=()=>{e(null),s(null),a.reset(),l.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),d.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),d.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((m,x)=>d.jsx("li",{children:m},x))})]})]}),d.jsx("button",{onClick:v,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:c,children:[d.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Ul,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(hT,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Wl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&d.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(ra,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(Qi,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(x7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(DZ,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(T7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Bl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Ul,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Wl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:v,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Bl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(w=l.error.response)==null?void 0:w.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Nne(){var y,w,g;const[t,e]=j.useState(null),[r,n]=j.useState(!1),[i,s]=j.useState(null),o=hr(),a=$t({mutationFn:async m=>{const x=new FormData;return x.append("file",m),(await we.post("/prm/v1/import/google-contacts/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:m=>{s(m)},onError:m=>{var x,b;s({valid:!1,error:((b=(x=m.response)==null?void 0:x.data)==null?void 0:b.message)||"Failed to validate file"})}}),l=$t({mutationFn:async m=>{const x=new FormData;return x.append("file",m),(await we.post("/prm/v1/import/google-contacts",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{o.invalidateQueries({queryKey:["people"]}),o.invalidateQueries({queryKey:["companies"]}),o.invalidateQueries({queryKey:["dates"]}),o.invalidateQueries({queryKey:["dashboard"]})}}),u=j.useCallback(m=>{m.preventDefault(),m.stopPropagation(),m.type==="dragenter"||m.type==="dragover"?n(!0):m.type==="dragleave"&&n(!1)},[]),c=j.useCallback(m=>{m.preventDefault(),m.stopPropagation(),n(!1),m.dataTransfer.files&&m.dataTransfer.files[0]&&f(m.dataTransfer.files[0])},[]),h=m=>{m.target.files&&m.target.files[0]&&f(m.target.files[0])},f=m=>{if(!m.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(m),s(null),l.reset(),a.mutate(m)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},v=()=>{e(null),s(null),a.reset(),l.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),d.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[d.jsxs("li",{children:["Go to ",d.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),d.jsx("li",{children:'Click "Export" in the left sidebar'}),d.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),l.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),d.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((m,x)=>d.jsx("li",{children:m},x))})]})]}),d.jsx("button",{onClick:v,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:c,children:[d.jsx("input",{type:"file",accept:".csv",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),a.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Ul,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(_7,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Wl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&d.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(zl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(ra,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(Qi,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(x7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(T7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Bl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Ul,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Wl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:v,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Bl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(w=l.error.response)==null?void 0:w.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}const t2=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:hT,component:Ine},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:_7,component:Nne},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:RZ,component:Tne}];function Rne(){var n;Zn("Import - Settings");const[t,e]=j.useState("vcard"),r=(n=t2.find(i=>i.id===t))==null?void 0:n.component;return d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Import Contacts"}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),d.jsx("div",{className:"border-b border-gray-200 mb-6",children:d.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:t2.map(i=>{const s=i.icon,o=t===i.id;return d.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${o?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(s,{className:`mr-2 h-5 w-5 ${o?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"block",children:i.name}),d.jsx("span",{className:`block text-xs font-normal ${o?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&d.jsx(r,{})]})})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var r2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},n2={},Xu,i2;function Mt(){if(i2)return Xu;i2=1;var t=function(e){return e&&e.Math===Math&&e};return Xu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof r2=="object"&&r2)||t(typeof Xu=="object"&&Xu)||function(){return this}()||Function("return this")(),Xu}var Hm,s2;function He(){return s2||(s2=1,Hm=function(t){try{return!!t()}catch{return!0}}),Hm}var Vm,o2;function Pd(){if(o2)return Vm;o2=1;var t=He();return Vm=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Vm}var Km,a2;function Cp(){if(a2)return Km;a2=1;var t=Pd(),e=Function.prototype,r=e.apply,n=e.call;return Km=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Km}var Gm,l2;function Ye(){if(l2)return Gm;l2=1;var t=Pd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Gm=t?n:function(i){return function(){return r.apply(i,arguments)}},Gm}var Ym,u2;function ns(){if(u2)return Ym;u2=1;var t=Ye(),e=t({}.toString),r=t("".slice);return Ym=function(n){return r(e(n),8,-1)},Ym}var Qm,c2;function gK(){if(c2)return Qm;c2=1;var t=ns(),e=Ye();return Qm=function(r){if(t(r)==="Function")return e(r)},Qm}var Xm,d2;function Zt(){if(d2)return Xm;d2=1;var t=typeof document=="object"&&document.all;return Xm=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Xm}var Jm={},Zm,h2;function At(){if(h2)return Zm;h2=1;var t=He();return Zm=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Zm}var ev,f2;function tn(){if(f2)return ev;f2=1;var t=Pd(),e=Function.prototype.call;return ev=t?e.bind(e):function(){return e.apply(e,arguments)},ev}var tv={},p2;function ET(){if(p2)return tv;p2=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return tv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,tv}var rv,m2;function Cd(){return m2||(m2=1,rv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),rv}var nv,v2;function Tp(){if(v2)return nv;v2=1;var t=Ye(),e=He(),r=ns(),n=Object,i=t("".split);return nv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,nv}var iv,g2;function Td(){return g2||(g2=1,iv=function(t){return t==null}),iv}var sv,y2;function va(){if(y2)return sv;y2=1;var t=Td(),e=TypeError;return sv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},sv}var ov,b2;function xi(){if(b2)return ov;b2=1;var t=Tp(),e=va();return ov=function(r){return t(e(r))},ov}var av,w2;function Mr(){if(w2)return av;w2=1;var t=Zt();return av=function(e){return typeof e=="object"?e!==null:t(e)},av}var lv,x2;function Vt(){return x2||(x2=1,lv={}),lv}var uv,_2;function pn(){if(_2)return uv;_2=1;var t=Vt(),e=Mt(),r=Zt(),n=function(i){return r(i)?i:void 0};return uv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},uv}var cv,S2;function er(){if(S2)return cv;S2=1;var t=Ye();return cv=t({}.isPrototypeOf),cv}var dv,E2;function du(){if(E2)return dv;E2=1;var t=Mt(),e=t.navigator,r=e&&e.userAgent;return dv=r?String(r):"",dv}var hv,O2;function Id(){if(O2)return hv;O2=1;var t=Mt(),e=du(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),hv=a,hv}var fv,P2;function hu(){if(P2)return fv;P2=1;var t=Id(),e=He(),r=Mt(),n=r.String;return fv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),fv}var pv,C2;function yK(){if(C2)return pv;C2=1;var t=hu();return pv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",pv}var mv,T2;function Nd(){if(T2)return mv;T2=1;var t=pn(),e=Zt(),r=er(),n=yK(),i=Object;return mv=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},mv}var vv,I2;function fu(){if(I2)return vv;I2=1;var t=String;return vv=function(e){try{return t(e)}catch{return"Object"}},vv}var gv,N2;function is(){if(N2)return gv;N2=1;var t=Zt(),e=fu(),r=TypeError;return gv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},gv}var yv,R2;function OT(){if(R2)return yv;R2=1;var t=is(),e=Td();return yv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},yv}var bv,$2;function $ne(){if($2)return bv;$2=1;var t=tn(),e=Zt(),r=Mr(),n=TypeError;return bv=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},bv}var wv={exports:{}},xv,j2;function pu(){return j2||(j2=1,xv=!0),xv}var _v,k2;function jne(){if(k2)return _v;k2=1;var t=Mt(),e=Object.defineProperty;return _v=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},_v}var D2;function PT(){if(D2)return wv.exports;D2=1;var t=pu(),e=Mt(),r=jne(),n="__core-js_shared__",i=wv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),wv.exports}var Sv,q2;function mu(){if(q2)return Sv;q2=1;var t=PT();return Sv=function(e,r){return t[e]||(t[e]=r||{})},Sv}var Ev,M2;function ti(){if(M2)return Ev;M2=1;var t=va(),e=Object;return Ev=function(r){return e(t(r))},Ev}var Ov,A2;function tr(){if(A2)return Ov;A2=1;var t=Ye(),e=ti(),r=t({}.hasOwnProperty);return Ov=Object.hasOwn||function(i,s){return r(e(i),s)},Ov}var Pv,F2;function Ip(){if(F2)return Pv;F2=1;var t=Ye(),e=0,r=Math.random(),n=t(1.1.toString);return Pv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Pv}var Cv,L2;function rr(){if(L2)return Cv;L2=1;var t=Mt(),e=mu(),r=tr(),n=Ip(),i=hu(),s=yK(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return Cv=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},Cv}var Tv,B2;function bK(){if(B2)return Tv;B2=1;var t=tn(),e=Mr(),r=Nd(),n=OT(),i=$ne(),s=rr(),o=TypeError,a=s("toPrimitive");return Tv=function(l,u){if(!e(l)||r(l))return l;var c=n(l,a),h;if(c){if(u===void 0&&(u="default"),h=t(c,l,u),!e(h)||r(h))return h;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Tv}var Iv,z2;function CT(){if(z2)return Iv;z2=1;var t=bK(),e=Nd();return Iv=function(r){var n=t(r,"string");return e(n)?n:n+""},Iv}var Nv,U2;function wK(){if(U2)return Nv;U2=1;var t=Mt(),e=Mr(),r=t.document,n=e(r)&&e(r.createElement);return Nv=function(i){return n?r.createElement(i):{}},Nv}var Rv,W2;function xK(){if(W2)return Rv;W2=1;var t=At(),e=He(),r=wK();return Rv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Rv}var H2;function Np(){if(H2)return Jm;H2=1;var t=At(),e=tn(),r=ET(),n=Cd(),i=xi(),s=CT(),o=tr(),a=xK(),l=Object.getOwnPropertyDescriptor;return Jm.f=t?l:function(c,h){if(c=i(c),h=s(h),a)try{return l(c,h)}catch{}if(o(c,h))return n(!e(r.f,c,h),c[h])},Jm}var $v,V2;function kne(){if(V2)return $v;V2=1;var t=He(),e=Zt(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===a?!0:c===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return $v=n,$v}var jv,K2;function Rp(){if(K2)return jv;K2=1;var t=gK(),e=is(),r=Pd(),n=t(t.bind);return jv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},jv}var kv={},Dv,G2;function _K(){if(G2)return Dv;G2=1;var t=At(),e=He();return Dv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Dv}var qv,Y2;function ss(){if(Y2)return qv;Y2=1;var t=Mr(),e=String,r=TypeError;return qv=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},qv}var Q2;function Rn(){if(Q2)return kv;Q2=1;var t=At(),e=xK(),r=_K(),n=ss(),i=CT(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return kv.f=t?r?function(f,p,v){if(n(f),p=i(p),n(v),typeof f=="function"&&p==="prototype"&&"value"in v&&c in v&&!v[c]){var y=a(f,p);y&&y[c]&&(f[p]=v.value,v={configurable:u in v?v[u]:y[u],enumerable:l in v?v[l]:y[l],writable:!1})}return o(f,p,v)}:o:function(f,p,v){if(n(f),p=i(p),n(v),e)try{return o(f,p,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(f[p]=v.value),f},kv}var Mv,X2;function vu(){if(X2)return Mv;X2=1;var t=At(),e=Rn(),r=Cd();return Mv=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Mv}var Av,J2;function Pe(){if(J2)return Av;J2=1;var t=Mt(),e=Cp(),r=gK(),n=Zt(),i=Np().f,s=kne(),o=Vt(),a=Rp(),l=vu(),u=tr(),c=function(h){var f=function(p,v,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,v)}return new h(p,v,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Av=function(h,f){var p=h.target,v=h.global,y=h.stat,w=h.proto,g=v?t:y?t[p]:t[p]&&t[p].prototype,m=v?o:o[p]||l(o,p,{})[p],x=m.prototype,b,_,E,O,S,C,P,N,T;for(O in f)b=s(v?O:p+(y?".":"#")+O,h.forced),_=!b&&g&&u(g,O),C=m[O],_&&(h.dontCallGetSet?(T=i(g,O),P=T&&T.value):P=g[O]),S=_&&P?P:f[O],!(!b&&!w&&typeof C==typeof S)&&(h.bind&&_?N=a(S,t):h.wrap&&_?N=c(S):w&&n(S)?N=r(S):N=S,(h.sham||S&&S.sham||C&&C.sham)&&l(N,"sham",!0),l(m,O,N),w&&(E=p+"Prototype",u(o,E)||l(o,E,{}),l(o[E],O,S),h.real&&x&&(b||!x[O])&&l(x,O,S)))},Av}var Z2;function Dne(){if(Z2)return n2;Z2=1;var t=Pe(),e=At(),r=Rn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),n2}var e$;function qne(){if(e$)return Wm.exports;e$=1,Dne();var t=Vt(),e=t.Object,r=Wm.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),Wm.exports}var Fv,t$;function SK(){if(t$)return Fv;t$=1;var t=qne();return Fv=t,Fv}var Lv,r$;function Mne(){if(r$)return Lv;r$=1;var t=SK();return Lv=t,Lv}var Bv,n$;function Ane(){if(n$)return Bv;n$=1;var t=Mne();return Bv=t,Bv}var zv,i$;function Fne(){return i$||(i$=1,zv=Ane()),zv}var Lne=Fne(),Bne=De(Lne),s$={},Uv,o$;function ga(){if(o$)return Uv;o$=1;var t=ns();return Uv=Array.isArray||function(r){return t(r)==="Array"},Uv}var Wv,a$;function zne(){if(a$)return Wv;a$=1;var t=Math.ceil,e=Math.floor;return Wv=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Wv}var Hv,l$;function gu(){if(l$)return Hv;l$=1;var t=zne();return Hv=function(e){var r=+e;return r!==r||r===0?0:t(r)},Hv}var Vv,u$;function EK(){if(u$)return Vv;u$=1;var t=gu(),e=Math.min;return Vv=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Vv}var Kv,c$;function oo(){if(c$)return Kv;c$=1;var t=EK();return Kv=function(e){return t(e.length)},Kv}var Gv,d$;function OK(){if(d$)return Gv;d$=1;var t=TypeError,e=9007199254740991;return Gv=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Gv}var Yv,h$;function $p(){if(h$)return Yv;h$=1;var t=At(),e=Rn(),r=Cd();return Yv=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Yv}var Qv,f$;function TT(){if(f$)return Qv;f$=1;var t=rr(),e=t("toStringTag"),r={};return r[e]="z",Qv=String(r)==="[object z]",Qv}var Xv,p$;function ao(){if(p$)return Xv;p$=1;var t=TT(),e=Zt(),r=ns(),n=rr(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return Xv=t?r:function(l){var u,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=a(u=s(l),i))=="string"?c:o?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Xv}var Jv,m$;function Une(){if(m$)return Jv;m$=1;var t=Ye(),e=Zt(),r=PT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Jv=r.inspectSource,Jv}var Zv,v$;function PK(){if(v$)return Zv;v$=1;var t=Ye(),e=He(),r=Zt(),n=ao(),i=pn(),s=Une(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(o),h=function(v){if(!r(v))return!1;try{return a(o,[],v),!0}catch{return!1}},f=function(v){if(!r(v))return!1;switch(n(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(v))}catch{return!0}};return f.sham=!0,Zv=!a||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Zv}var eg,g$;function Wne(){if(g$)return eg;g$=1;var t=ga(),e=PK(),r=Mr(),n=rr(),i=n("species"),s=Array;return eg=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},eg}var tg,y$;function IT(){if(y$)return tg;y$=1;var t=Wne();return tg=function(e,r){return new(t(e))(r===0?0:r)},tg}var rg,b$;function Rd(){if(b$)return rg;b$=1;var t=He(),e=rr(),r=Id(),n=e("species");return rg=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},rg}var w$;function CK(){if(w$)return s$;w$=1;var t=Pe(),e=He(),r=ga(),n=Mr(),i=ti(),s=oo(),o=OK(),a=$p(),l=IT(),u=Rd(),c=rr(),h=Id(),f=c("isConcatSpreadable"),p=h>=51||!e(function(){var w=[];return w[f]=!1,w.concat()[0]!==w}),v=function(w){if(!n(w))return!1;var g=w[f];return g!==void 0?!!g:r(w)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var m=i(this),x=l(m,0),b=0,_,E,O,S,C;for(_=-1,O=arguments.length;_<O;_++)if(C=_===-1?m:arguments[_],v(C))for(S=s(C),o(b+S),E=0;E<S;E++,b++)E in C&&a(x,b,C[E]);else o(b+1),a(x,b++,C);return x.length=b,x}}),s$}var x$={},_$={},ng,S$;function lo(){if(S$)return ng;S$=1;var t=ao(),e=String;return ng=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},ng}var ig={},sg,E$;function NT(){if(E$)return sg;E$=1;var t=gu(),e=Math.max,r=Math.min;return sg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},sg}var og,O$;function Hne(){if(O$)return og;O$=1;var t=xi(),e=NT(),r=oo(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(a,u),h;if(i&&o!==o){for(;u>c;)if(h=l[c++],h!==h)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return og={includes:n(!0),indexOf:n(!1)},og}var ag,P$;function $d(){return P$||(P$=1,ag={}),ag}var lg,C$;function TK(){if(C$)return lg;C$=1;var t=Ye(),e=tr(),r=xi(),n=Hne().indexOf,i=$d(),s=t([].push);return lg=function(o,a){var l=r(o),u=0,c=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(c,h);for(;a.length>u;)e(l,h=a[u++])&&(~n(c,h)||s(c,h));return c},lg}var ug,T$;function RT(){return T$||(T$=1,ug=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),ug}var cg,I$;function jp(){if(I$)return cg;I$=1;var t=TK(),e=RT();return cg=Object.keys||function(n){return t(n,e)},cg}var N$;function $T(){if(N$)return ig;N$=1;var t=At(),e=_K(),r=Rn(),n=ss(),i=xi(),s=jp();return ig.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),c=s(l),h=c.length,f=0,p;h>f;)r.f(a,p=c[f++],u[p]);return a},ig}var dg,R$;function Vne(){if(R$)return dg;R$=1;var t=pn();return dg=t("document","documentElement"),dg}var hg,$$;function kp(){if($$)return hg;$$=1;var t=mu(),e=Ip(),r=t("keys");return hg=function(n){return r[n]||(r[n]=e(n))},hg}var fg,j$;function jd(){if(j$)return fg;j$=1;var t=ss(),e=$T(),r=RT(),n=$d(),i=Vne(),s=wK(),o=kp(),a=">",l="<",u="prototype",c="script",h=o("IE_PROTO"),f=function(){},p=function(m){return l+c+a+m+l+"/"+c+a},v=function(m){m.write(p("")),m.close();var x=m.parentWindow.Object;return m=null,x},y=function(){var m=s("iframe"),x="java"+c+":",b;return m.style.display="none",i.appendChild(m),m.src=String(x),b=m.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},w,g=function(){try{w=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&w?v(w):y():v(w);for(var m=r.length;m--;)delete g[u][r[m]];return g()};return n[h]=!0,fg=Object.create||function(x,b){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),b===void 0?_:e.f(_,b)},fg}var pg={},k$;function Dp(){if(k$)return pg;k$=1;var t=TK(),e=RT(),r=e.concat("length","prototype");return pg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},pg}var mg={},vg,D$;function yu(){if(D$)return vg;D$=1;var t=Ye();return vg=t([].slice),vg}var q$;function IK(){if(q$)return mg;q$=1;var t=ns(),e=xi(),r=Dp().f,n=yu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return mg.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},mg}var gg={},M$;function qp(){return M$||(M$=1,gg.f=Object.getOwnPropertySymbols),gg}var yg,A$;function kd(){if(A$)return yg;A$=1;var t=vu();return yg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},yg}var bg,F$;function jT(){if(F$)return bg;F$=1;var t=Rn();return bg=function(e,r,n){return t.f(e,r,n)},bg}var wg={},L$;function Mp(){if(L$)return wg;L$=1;var t=rr();return wg.f=t,wg}var xg,B$;function mt(){if(B$)return xg;B$=1;var t=Vt(),e=tr(),r=Mp(),n=Rn().f;return xg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},xg}var _g,z$;function NK(){if(z$)return _g;z$=1;var t=tn(),e=pn(),r=rr(),n=kd();return _g=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},_g}var Sg,U$;function Kne(){if(U$)return Sg;U$=1;var t=TT(),e=ao();return Sg=t?{}.toString:function(){return"[object "+e(this)+"]"},Sg}var Eg,W$;function ya(){if(W$)return Eg;W$=1;var t=TT(),e=Rn().f,r=vu(),n=tr(),i=Kne(),s=rr(),o=s("toStringTag");return Eg=function(a,l,u,c){var h=u?a:a&&a.prototype;h&&(n(h,o)||e(h,o,{configurable:!0,value:l}),c&&!t&&r(h,"toString",i))},Eg}var Og,H$;function Gne(){if(H$)return Og;H$=1;var t=Mt(),e=Zt(),r=t.WeakMap;return Og=e(r)&&/native code/.test(String(r)),Og}var Pg,V$;function Dd(){if(V$)return Pg;V$=1;var t=Gne(),e=Mt(),r=Mr(),n=vu(),i=tr(),s=PT(),o=kp(),a=$d(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,h,f,p,v=function(m){return p(m)?f(m):h(m,{})},y=function(m){return function(x){var b;if(!r(x)||(b=f(x)).type!==m)throw new u("Incompatible receiver, "+m+" required");return b}};if(t||s.state){var w=s.state||(s.state=new c);w.get=w.get,w.has=w.has,w.set=w.set,h=function(m,x){if(w.has(m))throw new u(l);return x.facade=m,w.set(m,x),x},f=function(m){return w.get(m)||{}},p=function(m){return w.has(m)}}else{var g=o("state");a[g]=!0,h=function(m,x){if(i(m,g))throw new u(l);return x.facade=m,n(m,g,x),x},f=function(m){return i(m,g)?m[g]:{}},p=function(m){return i(m,g)}}return Pg={set:h,get:f,has:p,enforce:v,getterFor:y},Pg}var Cg,K$;function bu(){if(K$)return Cg;K$=1;var t=Rp(),e=Ye(),r=Tp(),n=ti(),i=oo(),s=IT(),o=e([].push),a=function(l){var u=l===1,c=l===2,h=l===3,f=l===4,p=l===6,v=l===7,y=l===5||p;return function(w,g,m,x){for(var b=n(w),_=r(b),E=i(_),O=t(g,m),S=0,C=x||s,P=u?C(w,E):c||v?C(w,0):void 0,N,T;E>S;S++)if((y||S in _)&&(N=_[S],T=O(N,S,b),l))if(u)P[S]=T;else if(T)switch(l){case 3:return!0;case 5:return N;case 6:return S;case 2:o(P,N)}else switch(l){case 4:return!1;case 7:o(P,N)}return p?-1:h||f?f:P}};return Cg={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Cg}var G$;function Yne(){if(G$)return _$;G$=1;var t=Pe(),e=Mt(),r=tn(),n=Ye(),i=pu(),s=At(),o=hu(),a=He(),l=tr(),u=er(),c=ss(),h=xi(),f=CT(),p=lo(),v=Cd(),y=jd(),w=jp(),g=Dp(),m=IK(),x=qp(),b=Np(),_=Rn(),E=$T(),O=ET(),S=kd(),C=jT(),P=mu(),N=kp(),T=$d(),I=Ip(),q=rr(),B=Mp(),re=mt(),Q=NK(),L=ya(),G=Dd(),U=bu().forEach,z=N("hidden"),te="Symbol",fe="prototype",ge=G.set,ke=G.getterFor(te),be=Object[fe],xe=e.Symbol,Ie=xe&&xe[fe],gt=e.RangeError,nt=e.TypeError,yt=e.QObject,_r=b.f,Qe=_.f,it=m.f,gn=O.f,Ar=n([].push),Ke=P("symbols"),Bt=P("op-symbols"),ni=P("wks"),zt=!yt||!yt[fe]||!yt[fe].findChild,$=function(K,W,V){var Y=_r(be,W);Y&&delete be[W],Qe(K,W,V),Y&&K!==be&&Qe(be,W,Y)},D=s&&a(function(){return y(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?$:Qe,F=function(K,W){var V=Ke[K]=y(Ie);return ge(V,{type:te,tag:K,description:W}),s||(V.description=W),V},oe=function(W,V,Y){W===be&&oe(Bt,V,Y),c(W);var pe=f(V);return c(Y),l(Ke,pe)?(Y.enumerable?(l(W,z)&&W[z][pe]&&(W[z][pe]=!1),Y=y(Y,{enumerable:v(0,!1)})):(l(W,z)||Qe(W,z,v(1,y(null))),W[z][pe]=!0),D(W,pe,Y)):Qe(W,pe,Y)},ne=function(W,V){c(W);var Y=h(V),pe=w(Y).concat(le(Y));return U(pe,function($e){(!s||r(de,Y,$e))&&oe(W,$e,Y[$e])}),W},X=function(W,V){return V===void 0?y(W):ne(y(W),V)},de=function(W){var V=f(W),Y=r(gn,this,V);return this===be&&l(Ke,V)&&!l(Bt,V)?!1:Y||!l(this,V)||!l(Ke,V)||l(this,z)&&this[z][V]?Y:!0},k=function(W,V){var Y=h(W),pe=f(V);if(!(Y===be&&l(Ke,pe)&&!l(Bt,pe))){var $e=_r(Y,pe);return $e&&l(Ke,pe)&&!(l(Y,z)&&Y[z][pe])&&($e.enumerable=!0),$e}},H=function(W){var V=it(h(W)),Y=[];return U(V,function(pe){!l(Ke,pe)&&!l(T,pe)&&Ar(Y,pe)}),Y},le=function(K){var W=K===be,V=it(W?Bt:h(K)),Y=[];return U(V,function(pe){l(Ke,pe)&&(!W||l(be,pe))&&Ar(Y,Ke[pe])}),Y};return o||(xe=function(){if(u(Ie,this))throw new nt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),V=I(W),Y=function(pe){var $e=this===void 0?e:this;$e===be&&r(Y,Bt,pe),l($e,z)&&l($e[z],V)&&($e[z][V]=!1);var Kt=v(1,pe);try{D($e,V,Kt)}catch(Sr){if(!(Sr instanceof gt))throw Sr;$($e,V,Kt)}};return s&&zt&&D(be,V,{configurable:!0,set:Y}),F(V,W)},Ie=xe[fe],S(Ie,"toString",function(){return ke(this).tag}),S(xe,"withoutSetter",function(K){return F(I(K),K)}),O.f=de,_.f=oe,E.f=ne,b.f=k,g.f=m.f=H,x.f=le,B.f=function(K){return F(q(K),K)},s&&(C(Ie,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:xe}),U(w(ni),function(K){re(K)}),t({target:te,stat:!0,forced:!o},{useSetter:function(){zt=!0},useSimple:function(){zt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:X,defineProperty:oe,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:H}),Q(),L(xe,te),T[z]=!0,_$}var Y$={},Tg,Q$;function RK(){if(Q$)return Tg;Q$=1;var t=hu();return Tg=t&&!!Symbol.for&&!!Symbol.keyFor,Tg}var X$;function Qne(){if(X$)return Y$;X$=1;var t=Pe(),e=pn(),r=tr(),n=lo(),i=mu(),s=RK(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var c=e("Symbol")(u);return o[u]=c,a[c]=u,c}}),Y$}var J$={},Z$;function Xne(){if(Z$)return J$;Z$=1;var t=Pe(),e=tr(),r=Nd(),n=fu(),i=mu(),s=RK(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),J$}var ej={},Ig,tj;function Jne(){if(tj)return Ig;tj=1;var t=Ye(),e=ga(),r=Zt(),n=ns(),i=lo(),s=t([].push);return Ig=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var c=o[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var h=l.length,f=!0;return function(p,v){if(f)return f=!1,v;if(e(this))return v;for(var y=0;y<h;y++)if(l[y]===p)return v}}},Ig}var rj;function $K(){if(rj)return ej;rj=1;var t=Pe(),e=pn(),r=Cp(),n=tn(),i=Ye(),s=He(),o=Zt(),a=Nd(),l=yu(),u=Jne(),c=hu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),w=i("".replace),g=i(1.1.toString),m=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var C=e("Symbol")("stringify detection");return f([C])!=="[null]"||f({a:C})!=="{}"||f(Object(C))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(C,P){var N=l(arguments),T=u(P);if(!(!o(T)&&(C===void 0||a(C))))return N[1]=function(I,q){if(o(T)&&(q=n(T,this,h(I),q)),!a(q))return q},r(f,null,N)},S=function(C,P,N){var T=v(N,P-1),I=v(N,P+1);return p(x,C)&&!p(b,I)||p(b,C)&&!p(x,T)?"\\u"+g(y(C,0),16):C};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(P,N,T){var I=l(arguments),q=r(_?O:f,null,I);return E&&typeof q=="string"?w(q,m,S):q}}),ej}var nj={},ij;function Zne(){if(ij)return nj;ij=1;var t=Pe(),e=hu(),r=He(),n=qp(),i=ti(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),nj}var sj;function jK(){return sj||(sj=1,Yne(),Qne(),Xne(),$K(),Zne()),x$}var oj={},aj;function kK(){if(aj)return oj;aj=1;var t=mt();return t("asyncDispose"),oj}var lj={},uj;function eie(){if(uj)return lj;uj=1;var t=mt();return t("asyncIterator"),lj}var cj={},dj;function DK(){if(dj)return cj;dj=1;var t=mt();return t("dispose"),cj}var hj={},fj;function tie(){if(fj)return hj;fj=1;var t=mt();return t("hasInstance"),hj}var pj={},mj;function rie(){if(mj)return pj;mj=1;var t=mt();return t("isConcatSpreadable"),pj}var vj={},gj;function qK(){if(gj)return vj;gj=1;var t=mt();return t("iterator"),vj}var yj={},bj;function nie(){if(bj)return yj;bj=1;var t=mt();return t("match"),yj}var wj={},xj;function iie(){if(xj)return wj;xj=1;var t=mt();return t("matchAll"),wj}var _j={},Sj;function sie(){if(Sj)return _j;Sj=1;var t=mt();return t("replace"),_j}var Ej={},Oj;function oie(){if(Oj)return Ej;Oj=1;var t=mt();return t("search"),Ej}var Pj={},Cj;function aie(){if(Cj)return Pj;Cj=1;var t=mt();return t("species"),Pj}var Tj={},Ij;function lie(){if(Ij)return Tj;Ij=1;var t=mt();return t("split"),Tj}var Nj={},Rj;function MK(){if(Rj)return Nj;Rj=1;var t=mt(),e=NK();return t("toPrimitive"),e(),Nj}var $j={},jj;function uie(){if(jj)return $j;jj=1;var t=pn(),e=mt(),r=ya();return e("toStringTag"),r(t("Symbol"),"Symbol"),$j}var kj={},Dj;function cie(){if(Dj)return kj;Dj=1;var t=mt();return t("unscopables"),kj}var qj={},Mj;function die(){if(Mj)return qj;Mj=1;var t=Mt(),e=ya();return e(t.JSON,"JSON",!0),qj}var Ng,Aj;function hie(){if(Aj)return Ng;Aj=1,CK(),jK(),kK(),eie(),DK(),tie(),rie(),qK(),nie(),iie(),sie(),oie(),aie(),lie(),MK(),uie(),cie(),die();var t=Vt();return Ng=t.Symbol,Ng}var Fj={},Rg,Lj;function fie(){return Lj||(Lj=1,Rg=function(){}),Rg}var $g,Bj;function wu(){return Bj||(Bj=1,$g={}),$g}var jg,zj;function pie(){if(zj)return jg;zj=1;var t=At(),e=tr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return jg={EXISTS:i,PROPER:s,CONFIGURABLE:o},jg}var kg,Uj;function mie(){if(Uj)return kg;Uj=1;var t=He();return kg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),kg}var Dg,Wj;function AK(){if(Wj)return Dg;Wj=1;var t=tr(),e=Zt(),r=ti(),n=kp(),i=mie(),s=n("IE_PROTO"),o=Object,a=o.prototype;return Dg=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof o?a:null},Dg}var qg,Hj;function FK(){if(Hj)return qg;Hj=1;var t=He(),e=Zt(),r=Mr(),n=jd(),i=AK(),s=kd(),o=rr(),a=pu(),l=o("iterator"),u=!1,c,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(c=h)):u=!0);var p=!r(c)||t(function(){var v={};return c[l].call(v)!==v});return p?c={}:a&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),qg={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},qg}var Mg,Vj;function vie(){if(Vj)return Mg;Vj=1;var t=FK().IteratorPrototype,e=jd(),r=Cd(),n=ya(),i=wu(),s=function(){return this};return Mg=function(o,a,l,u){var c=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,c,!1,!0),i[c]=s,o},Mg}var Ag,Kj;function gie(){if(Kj)return Ag;Kj=1;var t=Ye(),e=is();return Ag=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Ag}var Fg,Gj;function yie(){if(Gj)return Fg;Gj=1;var t=Mr();return Fg=function(e){return t(e)||e===null},Fg}var Lg,Yj;function bie(){if(Yj)return Lg;Yj=1;var t=yie(),e=String,r=TypeError;return Lg=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Lg}var Bg,Qj;function wie(){if(Qj)return Bg;Qj=1;var t=gie(),e=Mr(),r=va(),n=bie();return Bg=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),Bg}var zg,Xj;function kT(){if(Xj)return zg;Xj=1;var t=Pe(),e=tn(),r=pu(),n=pie(),i=Zt(),s=vie(),o=AK(),a=wie(),l=ya(),u=vu(),c=kd(),h=rr(),f=wu(),p=FK(),v=n.PROPER,y=n.CONFIGURABLE,w=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=h("iterator"),x="keys",b="values",_="entries",E=function(){return this};return zg=function(O,S,C,P,N,T,I){s(C,S,P);var q=function(ge){if(ge===N&&G)return G;if(!g&&ge&&ge in Q)return Q[ge];switch(ge){case x:return function(){return new C(this,ge)};case b:return function(){return new C(this,ge)};case _:return function(){return new C(this,ge)}}return function(){return new C(this)}},B=S+" Iterator",re=!1,Q=O.prototype,L=Q[m]||Q["@@iterator"]||N&&Q[N],G=!g&&L||q(N),U=S==="Array"&&Q.entries||L,z,te,fe;if(U&&(z=o(U.call(new O)),z!==Object.prototype&&z.next&&(!r&&o(z)!==w&&(a?a(z,w):i(z[m])||c(z,m,E)),l(z,B,!0,!0),r&&(f[B]=E))),v&&N===b&&L&&L.name!==b&&(!r&&y?u(Q,"name",b):(re=!0,G=function(){return e(L,this)})),N)if(te={values:q(b),keys:T?G:q(x),entries:q(_)},I)for(fe in te)(g||re||!(fe in Q))&&c(Q,fe,te[fe]);else t({target:S,proto:!0,forced:g||re},te);return(!r||I)&&Q[m]!==G&&c(Q,m,G,{name:N}),f[S]=G,te},zg}var Ug,Jj;function DT(){return Jj||(Jj=1,Ug=function(t,e){return{value:t,done:e}}),Ug}var Wg,Zj;function uo(){if(Zj)return Wg;Zj=1;var t=xi(),e=fie(),r=wu(),n=Dd(),i=Rn().f,s=kT(),o=DT(),a=pu(),l=At(),u="Array Iterator",c=n.set,h=n.getterFor(u);Wg=s(Array,"Array",function(p,v){c(this,{type:u,target:t(p),index:0,kind:v})},function(){var p=h(this),v=p.target,y=p.index++;if(!v||y>=v.length)return p.target=null,o(void 0,!0);switch(p.kind){case"keys":return o(y,!1);case"values":return o(v[y],!1)}return o([y,v[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Wg}var Hg,ek;function xie(){return ek||(ek=1,Hg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Hg}var tk;function co(){if(tk)return Fj;tk=1,uo();var t=xie(),e=Mt(),r=ya(),n=wu();for(var i in t)r(e[i],i),n[i]=n.Array;return Fj}var Vg,rk;function LK(){if(rk)return Vg;rk=1;var t=hie();return co(),Vg=t,Vg}var nk={},ik;function _ie(){if(ik)return nk;ik=1;var t=rr(),e=Rn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),nk}var sk={},ok;function Sie(){return ok||(ok=1,kK()),sk}var ak={},lk;function Eie(){return lk||(lk=1,DK()),ak}var uk={},ck;function Oie(){if(ck)return uk;ck=1;var t=mt();return t("metadata"),uk}var Kg,dk;function Pie(){if(dk)return Kg;dk=1;var t=LK();return _ie(),Sie(),Eie(),Oie(),Kg=t,Kg}var hk={},Gg,fk;function BK(){if(fk)return Gg;fk=1;var t=pn(),e=Ye(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Gg=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},Gg}var pk;function Cie(){if(pk)return hk;pk=1;var t=Pe(),e=BK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),hk}var mk={},Yg,vk;function zK(){if(vk)return Yg;vk=1;for(var t=mu(),e=pn(),r=Ye(),n=Nd(),i=rr(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,h=a(s),f=h.length;c<f;c++)try{var p=h[c];n(s[p])&&i(p)}catch{}return Yg=function(y){if(o&&o(y))return!0;try{for(var w=l(y),g=0,m=a(u),x=m.length;g<x;g++)if(u[m[g]]==w)return!0}catch{}return!1},Yg}var gk;function Tie(){if(gk)return mk;gk=1;var t=Pe(),e=zK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),mk}var yk={},bk;function Iie(){if(bk)return yk;bk=1;var t=mt();return t("customMatcher"),yk}var wk={},xk;function Nie(){if(xk)return wk;xk=1;var t=mt();return t("observable"),wk}var _k={},Sk;function Rie(){if(Sk)return _k;Sk=1;var t=Pe(),e=BK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),_k}var Ek={},Ok;function $ie(){if(Ok)return Ek;Ok=1;var t=Pe(),e=zK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Ek}var Pk={},Ck;function jie(){if(Ck)return Pk;Ck=1;var t=mt();return t("matcher"),Pk}var Tk={},Ik;function kie(){if(Ik)return Tk;Ik=1;var t=mt();return t("metadataKey"),Tk}var Nk={},Rk;function Die(){if(Rk)return Nk;Rk=1;var t=mt();return t("patternMatch"),Nk}var $k={},jk;function qie(){if(jk)return $k;jk=1;var t=mt();return t("replaceAll"),$k}var Qg,kk;function Mie(){if(kk)return Qg;kk=1;var t=Pie();return Cie(),Tie(),Iie(),Nie(),Rie(),$ie(),jie(),kie(),Die(),qie(),Qg=t,Qg}var Xg,Dk;function Aie(){return Dk||(Dk=1,Xg=Mie()),Xg}var Fie=Aie(),Nh=De(Fie),qk={},Jg,Mk;function Lie(){if(Mk)return Jg;Mk=1;var t=Ye(),e=gu(),r=lo(),n=va(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,c){var h=r(n(u)),f=e(c),p=h.length,v,y;return f<0||f>=p?l?"":void 0:(v=s(h,f),v<55296||v>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):v:l?o(h,f,f+2):(v-55296<<10)+(y-56320)+65536)}};return Jg={codeAt:a(!1),charAt:a(!0)},Jg}var Ak;function Ap(){if(Ak)return qk;Ak=1;var t=Lie().charAt,e=lo(),r=Dd(),n=kT(),i=DT(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),c=u.string,h=u.index,f;return h>=c.length?i(void 0,!0):(f=t(c,h),u.index+=f.length,i(f,!1))}),qk}var Zg,Fk;function Bie(){if(Fk)return Zg;Fk=1,uo(),Ap(),qK();var t=Mp();return Zg=t.f("iterator"),Zg}var ey,Lk;function UK(){if(Lk)return ey;Lk=1;var t=Bie();return co(),ey=t,ey}var ty,Bk;function zie(){if(Bk)return ty;Bk=1;var t=UK();return ty=t,ty}var ry,zk;function Uie(){if(zk)return ry;zk=1;var t=zie();return ry=t,ry}var ny,Uk;function Wie(){return Uk||(Uk=1,ny=Uie()),ny}var Hie=Wie(),Vie=De(Hie);function Yc(t){"@babel/helpers - typeof";return Yc=typeof Nh=="function"&&typeof Vie=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Nh=="function"&&e.constructor===Nh&&e!==Nh.prototype?"symbol":typeof e},Yc(t)}var iy,Wk;function Kie(){if(Wk)return iy;Wk=1,MK();var t=Mp();return iy=t.f("toPrimitive"),iy}var sy,Hk;function Gie(){if(Hk)return sy;Hk=1;var t=Kie();return sy=t,sy}var oy,Vk;function Yie(){if(Vk)return oy;Vk=1;var t=Gie();return oy=t,oy}var ay,Kk;function Qie(){if(Kk)return ay;Kk=1;var t=Yie();return ay=t,ay}var ly,Gk;function Xie(){return Gk||(Gk=1,ly=Qie()),ly}var Jie=Xie(),Zie=De(Jie);function ese(t,e){if(Yc(t)!="object"||!t)return t;var r=t[Zie];if(r!==void 0){var n=r.call(t,e);if(Yc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function tse(t){var e=ese(t,"string");return Yc(e)=="symbol"?e:e+""}function Ws(t,e,r){return(e=tse(e))in t?Bne(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Yk={},uy,Qk;function rse(){if(Qk)return uy;Qk=1;var t=Ye(),e=is(),r=Mr(),n=tr(),i=yu(),s=Pd(),o=Function,a=t([].concat),l=t([].join),u={},c=function(h,f,p){if(!n(u,f)){for(var v=[],y=0;y<f;y++)v[y]="a["+y+"]";u[f]=o("C,a","return new C("+l(v,",")+")")}return u[f](h,p)};return uy=s?o.bind:function(f){var p=e(this),v=p.prototype,y=i(arguments,1),w=function(){var m=a(y,i(arguments));return this instanceof w?c(p,m.length,m):p.apply(f,m)};return r(v)&&(w.prototype=v),w},uy}var Xk;function nse(){if(Xk)return Yk;Xk=1;var t=Pe(),e=rse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Yk}var cy,Jk;function rn(){if(Jk)return cy;Jk=1;var t=Mt(),e=Vt();return cy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},cy}var dy,Zk;function ise(){if(Zk)return dy;Zk=1,nse();var t=rn();return dy=t("Function","bind"),dy}var hy,eD;function sse(){if(eD)return hy;eD=1;var t=er(),e=ise(),r=Function.prototype;return hy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},hy}var fy,tD;function ose(){if(tD)return fy;tD=1;var t=sse();return fy=t,fy}var py,rD;function ase(){return rD||(rD=1,py=ose()),py}var lse=ase(),WK=De(lse),nD={},my,iD;function use(){if(iD)return my;iD=1;var t=is(),e=ti(),r=Tp(),n=oo(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,c,h){var f=e(l),p=r(f),v=n(f);if(t(u),v===0&&c<2)throw new i(s);var y=a?v-1:0,w=a?-1:1;if(c<2)for(;;){if(y in p){h=p[y],y+=w;break}if(y+=w,a?y<0:v<=y)throw new i(s)}for(;a?y>=0:v>y;y+=w)y in p&&(h=u(h,p[y],y,f));return h}};return my={left:o(!1),right:o(!0)},my}var vy,sD;function Fp(){if(sD)return vy;sD=1;var t=He();return vy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},vy}var gy,oD;function HK(){if(oD)return gy;oD=1;var t=Mt(),e=du(),r=ns(),n=function(i){return e.slice(0,i.length)===i};return gy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),gy}var yy,aD;function cse(){if(aD)return yy;aD=1;var t=HK();return yy=t==="NODE",yy}var lD;function dse(){if(lD)return nD;lD=1;var t=Pe(),e=use().left,r=Fp(),n=Id(),i=cse(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),nD}var by,uD;function hse(){if(uD)return by;uD=1,dse();var t=rn();return by=t("Array","reduce"),by}var wy,cD;function fse(){if(cD)return wy;cD=1;var t=er(),e=hse(),r=Array.prototype;return wy=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},wy}var xy,dD;function pse(){if(dD)return xy;dD=1;var t=fse();return xy=t,xy}var _y,hD;function mse(){return hD||(hD=1,_y=pse()),_y}var vse=mse(),gse=De(vse),fD={},pD;function yse(){if(pD)return fD;pD=1;var t=Pe(),e=bu().filter,r=Rd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),fD}var Sy,mD;function bse(){if(mD)return Sy;mD=1,yse();var t=rn();return Sy=t("Array","filter"),Sy}var Ey,vD;function wse(){if(vD)return Ey;vD=1;var t=er(),e=bse(),r=Array.prototype;return Ey=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Ey}var Oy,gD;function xse(){if(gD)return Oy;gD=1;var t=wse();return Oy=t,Oy}var Py,yD;function _se(){return yD||(yD=1,Py=xse()),Py}var Sse=_se(),tl=De(Sse),bD={},wD;function Ese(){if(wD)return bD;wD=1;var t=Pe(),e=bu().map,r=Rd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),bD}var Cy,xD;function Ose(){if(xD)return Cy;xD=1,Ese();var t=rn();return Cy=t("Array","map"),Cy}var Ty,_D;function Pse(){if(_D)return Ty;_D=1;var t=er(),e=Ose(),r=Array.prototype;return Ty=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Ty}var Iy,SD;function Cse(){if(SD)return Iy;SD=1;var t=Pse();return Iy=t,Iy}var Ny,ED;function Tse(){return ED||(ED=1,Ny=Cse()),Ny}var Ise=Tse(),Wn=De(Ise),Ry,OD;function Nse(){return OD||(OD=1,Ry=LK()),Ry}var Rse=Nse(),$se=De(Rse),PD={},CD;function jse(){if(CD)return PD;CD=1;var t=Pe(),e=ga(),r=PK(),n=Mr(),i=NT(),s=oo(),o=xi(),a=$p(),l=rr(),u=Rd(),c=yu(),h=u("slice"),f=l("species"),p=Array,v=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(w,g){var m=o(this),x=s(m),b=i(w,x),_=i(g===void 0?x:g,x),E,O,S;if(e(m)&&(E=m.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(m,b,_);for(O=new(E===void 0?p:E)(v(_-b,0)),S=0;b<_;b++,S++)b in m&&a(O,S,m[b]);return O.length=S,O}}),PD}var $y,TD;function kse(){if(TD)return $y;TD=1,jse();var t=rn();return $y=t("Array","slice"),$y}var jy,ID;function Dse(){if(ID)return jy;ID=1;var t=er(),e=kse(),r=Array.prototype;return jy=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},jy}var ky,ND;function qse(){if(ND)return ky;ND=1;var t=Dse();return ky=t,ky}var Dy,RD;function Mse(){return RD||(RD=1,Dy=qse()),Dy}var Ase=Mse(),Fse=De(Ase),$D={},qy,jD;function VK(){if(jD)return qy;jD=1;var t=pn(),e=Ye(),r=Dp(),n=qp(),i=ss(),s=e([].concat);return qy=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},qy}var kD;function Lse(){if(kD)return $D;kD=1;var t=Pe(),e=VK();return t({target:"Reflect",stat:!0},{ownKeys:e}),$D}var My,DD;function Bse(){if(DD)return My;DD=1,Lse();var t=Vt();return My=t.Reflect.ownKeys,My}var Ay,qD;function zse(){if(qD)return Ay;qD=1;var t=Bse();return Ay=t,Ay}var Fy,MD;function Use(){return MD||(MD=1,Fy=zse()),Fy}var Wse=Use(),Hse=De(Wse),AD={},FD;function Vse(){if(FD)return AD;FD=1;var t=Pe(),e=ga();return t({target:"Array",stat:!0},{isArray:e}),AD}var Ly,LD;function Kse(){if(LD)return Ly;LD=1,Vse();var t=Vt();return Ly=t.Array.isArray,Ly}var By,BD;function Gse(){if(BD)return By;BD=1;var t=Kse();return By=t,By}var zy,zD;function Yse(){return zD||(zD=1,zy=Gse()),zy}var Qse=Yse(),ai=De(Qse),UD={},WD;function Xse(){if(WD)return UD;WD=1;var t=Pe(),e=ti(),r=jp(),n=He(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),UD}var Uy,HD;function Jse(){if(HD)return Uy;HD=1,Xse();var t=Vt();return Uy=t.Object.keys,Uy}var Wy,VD;function Zse(){if(VD)return Wy;VD=1;var t=Jse();return Wy=t,Wy}var Hy,KD;function eoe(){return KD||(KD=1,Hy=Zse()),Hy}var toe=eoe(),qT=De(toe),GD={},Vy,YD;function roe(){if(YD)return Vy;YD=1;var t=bu().forEach,e=Fp(),r=e("forEach");return Vy=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Vy}var QD;function noe(){if(QD)return GD;QD=1;var t=Pe(),e=roe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),GD}var Ky,XD;function ioe(){if(XD)return Ky;XD=1,noe();var t=rn();return Ky=t("Array","forEach"),Ky}var Gy,JD;function soe(){if(JD)return Gy;JD=1;var t=ioe();return Gy=t,Gy}var Yy,ZD;function ooe(){if(ZD)return Yy;ZD=1;var t=ao(),e=tr(),r=er(),n=soe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Yy=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},Yy}var Qy,eq;function aoe(){return eq||(eq=1,Qy=ooe()),Qy}var loe=aoe(),sa=De(loe),tq={},rq;function uoe(){if(rq)return tq;rq=1;var t=Pe(),e=Ye(),r=ga(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),tq}var Xy,nq;function coe(){if(nq)return Xy;nq=1,uoe();var t=rn();return Xy=t("Array","reverse"),Xy}var Jy,iq;function doe(){if(iq)return Jy;iq=1;var t=er(),e=coe(),r=Array.prototype;return Jy=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Jy}var Zy,sq;function hoe(){if(sq)return Zy;sq=1;var t=doe();return Zy=t,Zy}var eb,oq;function foe(){return oq||(oq=1,eb=hoe()),eb}var poe=foe(),moe=De(poe),aq={},tb,lq;function voe(){if(lq)return tb;lq=1;var t=At(),e=ga(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return tb=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},tb}var rb,uq;function KK(){if(uq)return rb;uq=1;var t=fu(),e=TypeError;return rb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},rb}var cq;function goe(){if(cq)return aq;cq=1;var t=Pe(),e=ti(),r=NT(),n=gu(),i=oo(),s=voe(),o=OK(),a=IT(),l=$p(),u=KK(),c=Rd(),h=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,w){var g=e(this),m=i(g),x=r(y,m),b=arguments.length,_,E,O,S,C,P;for(b===0?_=E=0:b===1?(_=0,E=m-x):(_=b-2,E=p(f(n(w),0),m-x)),o(m+_-E),O=a(g,E),S=0;S<E;S++)C=x+S,C in g&&l(O,S,g[C]);if(O.length=E,_<E){for(S=x;S<m-E;S++)C=S+E,P=S+_,C in g?g[P]=g[C]:u(g,P);for(S=m;S>m-E+_;S--)u(g,S-1)}else if(_>E)for(S=m-E;S>x;S--)C=S+E-1,P=S+_-1,C in g?g[P]=g[C]:u(g,P);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,m-E+_),O}}),aq}var nb,dq;function yoe(){if(dq)return nb;dq=1,goe();var t=rn();return nb=t("Array","splice"),nb}var ib,hq;function boe(){if(hq)return ib;hq=1;var t=er(),e=yoe(),r=Array.prototype;return ib=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},ib}var sb,fq;function woe(){if(fq)return sb;fq=1;var t=boe();return sb=t,sb}var ob,pq;function xoe(){return pq||(pq=1,ob=woe()),ob}var _oe=xoe(),GK=De(_oe),mq={},ab,vq;function Soe(){if(vq)return ab;vq=1;var t=At(),e=Ye(),r=tn(),n=He(),i=jp(),s=qp(),o=ET(),a=ti(),l=Tp(),u=Object.assign,c=Object.defineProperty,h=e([].concat);return ab=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[v]=7,y.split("").forEach(function(w){p[w]=w}),u({},f)[v]!==7||i(u({},p)).join("")!==y})?function(p,v){for(var y=a(p),w=arguments.length,g=1,m=s.f,x=o.f;w>g;)for(var b=l(arguments[g++]),_=m?h(i(b),m(b)):i(b),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,b,S))&&(y[S]=b[S]);return y}:u,ab}var gq;function Eoe(){if(gq)return mq;gq=1;var t=Pe(),e=Soe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),mq}var lb,yq;function Ooe(){if(yq)return lb;yq=1,Eoe();var t=Vt();return lb=t.Object.assign,lb}var ub,bq;function Poe(){if(bq)return ub;bq=1;var t=Ooe();return ub=t,ub}var cb,wq;function Coe(){return wq||(wq=1,cb=Poe()),cb}var Toe=Coe(),Ioe=De(Toe),db,xq;function Noe(){if(xq)return db;xq=1,CK();var t=rn();return db=t("Array","concat"),db}var hb,_q;function Roe(){if(_q)return hb;_q=1;var t=er(),e=Noe(),r=Array.prototype;return hb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},hb}var fb,Sq;function $oe(){if(Sq)return fb;Sq=1;var t=Roe();return fb=t,fb}var pb,Eq;function joe(){return Eq||(Eq=1,pb=$oe()),pb}var koe=joe(),Doe=De(koe),Oq={},Pq;function qoe(){if(Pq)return Oq;Pq=1;var t=Pe(),e=At(),r=jd();return t({target:"Object",stat:!0,sham:!e},{create:r}),Oq}var mb,Cq;function Moe(){if(Cq)return mb;Cq=1,qoe();var t=Vt(),e=t.Object;return mb=function(n,i){return e.create(n,i)},mb}var vb,Tq;function Aoe(){if(Tq)return vb;Tq=1;var t=Moe();return vb=t,vb}var gb,Iq;function Foe(){return Iq||(Iq=1,gb=Aoe()),gb}var Loe=Foe(),Boe=De(Loe),Nq={},yb,Rq;function zoe(){if(Rq)return yb;Rq=1;var t=gu(),e=lo(),r=va(),n=RangeError;return yb=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},yb}var bb,$q;function Uoe(){if($q)return bb;$q=1;var t=Ye(),e=EK(),r=lo(),n=zoe(),i=va(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(c,h,f){var p=r(i(c)),v=e(h),y=p.length,w=f===void 0?" ":r(f),g,m;return v<=y||w===""?p:(g=v-y,m=s(w,a(g/w.length)),m.length>g&&(m=o(m,0,g)),u?p+m:m+p)}};return bb={start:l(!1),end:l(!0)},bb}var wb,jq;function Woe(){if(jq)return wb;jq=1;var t=Ye(),e=He(),r=Uoe().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),c=t(o.getUTCFullYear),h=t(o.getUTCHours),f=t(o.getUTCMilliseconds),p=t(o.getUTCMinutes),v=t(o.getUTCMonth),y=t(o.getUTCSeconds);return wb=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,m=c(g),x=f(g),b=m<0?"-":m>9999?"+":"";return b+r(s(m),b?6:4,0)+"-"+r(v(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:a,wb}var kq;function Hoe(){if(kq)return Nq;kq=1;var t=Pe(),e=tn(),r=ti(),n=bK(),i=Woe(),s=ns(),o=He(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var c=r(this),h=n(c,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),Nq}var xb,Dq;function Voe(){if(Dq)return xb;Dq=1,Hoe(),$K();var t=Vt(),e=Cp();return t.JSON||(t.JSON={stringify:JSON.stringify}),xb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},xb}var _b,qq;function Koe(){if(qq)return _b;qq=1;var t=Voe();return _b=t,_b}var Sb,Mq;function Goe(){return Mq||(Mq=1,Sb=Koe()),Sb}var Yoe=Goe(),Qoe=De(Yoe),Aq={},Fq={},Eb,Lq;function Xoe(){if(Lq)return Eb;Lq=1;var t=TypeError;return Eb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Eb}var Ob,Bq;function YK(){if(Bq)return Ob;Bq=1;var t=Mt(),e=Cp(),r=Zt(),n=HK(),i=du(),s=yu(),o=Xoe(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Ob=function(u,c){var h=c?2:1;return l?function(f,p){var v=o(arguments.length,1)>h,y=r(f)?f:a(f),w=v?s(arguments,h):[],g=v?function(){e(y,this,w)}:y;return c?u(g,p):u(g)}:u},Ob}var zq;function Joe(){if(zq)return Fq;zq=1;var t=Pe(),e=Mt(),r=YK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Fq}var Uq={},Wq;function Zoe(){if(Wq)return Uq;Wq=1;var t=Pe(),e=Mt(),r=YK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Uq}var Hq;function eae(){return Hq||(Hq=1,Joe(),Zoe()),Aq}var Pb,Vq;function tae(){if(Vq)return Pb;Vq=1,eae();var t=Vt();return Pb=t.setTimeout,Pb}var Cb,Kq;function rae(){return Kq||(Kq=1,Cb=tae()),Cb}var nae=rae(),iae=De(nae),Tb={exports:{}},Gq;function sae(){return Gq||(Gq=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...o)=>{this.off(n,s),i.apply(this,o)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[o,a]of s.entries())if(a===i||a.fn===i){s.splice(o,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const o=[...s];for(const a of o)a.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Tb)),Tb.exports}var oae=sae(),aae=De(oae);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Xn(){return Xn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Xn.apply(this,arguments)}function $n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Rh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var UP;typeof Object.assign!="function"?UP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:UP=Object.assign;var oa=UP,Yq=["","webkit","Moz","MS","ms","o"],lae=typeof document>"u"?{style:{}}:document.createElement("div"),uae="function",rl=Math.round,aa=Math.abs,MT=Date.now;function Lp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Yq.length;){if(r=Yq[s],n=r?r+i:e,n in t)return n;s++}}var Mi;typeof window>"u"?Mi={}:Mi=window;var QK=Lp(lae.style,"touchAction"),XK=QK!==void 0;function cae(){if(!XK)return!1;var t={},e=Mi.CSS&&Mi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Mi.CSS.supports("touch-action",r):!0}),t}var JK="compute",ZK="auto",WP="manipulation",zo="none",Qc="pan-x",Xc="pan-y",$h=cae(),dae=/mobile|tablet|ip(ad|hone|od)|android/i,e9="ontouchstart"in Mi,hae=Lp(Mi,"PointerEvent")!==void 0,fae=e9&&dae.test(navigator.userAgent),qd="touch",pae="pen",AT="mouse",mae="kinect",vae=25,jr=1,ba=2,kt=4,Jr=8,Bf=1,Md=2,Ad=4,Fd=8,Kl=16,bi=Md|Ad,Uo=Fd|Kl,t9=bi|Uo,r9=["x","y"],zf=["clientX","clientY"];function Ai(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Bp(t,e){return typeof t===uae?t.apply(e&&e[0]||void 0,e):t}function Po(t,e){return t.indexOf(e)>-1}function gae(t){if(Po(t,zo))return zo;var e=Po(t,Qc),r=Po(t,Xc);return e&&r?zo:e||r?e?Qc:Xc:Po(t,WP)?WP:ZK}var n9=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===JK&&(n=this.compute()),XK&&this.manager.element.style&&$h[n]&&(this.manager.element.style[QK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Ai(this.manager.recognizers,function(i){Bp(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),gae(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=Po(o,zo)&&!$h[zo],l=Po(o,Xc)&&!$h[Xc],u=Po(o,Qc)&&!$h[Qc];if(a){var c=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(c&&h&&f)return}if(!(u&&l)&&(a||l&&s&bi||u&&s&Uo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function FT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function i9(t){var e=t.length;if(e===1)return{x:rl(t[0].clientX),y:rl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:rl(r/e),y:rl(n/e)}}function Qq(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:rl(t.pointers[r].clientX),clientY:rl(t.pointers[r].clientY)},r++;return{timeStamp:MT(),pointers:e,center:i9(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Uf(t,e,r){r||(r=r9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function HP(t,e,r){r||(r=r9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function s9(t,e){return t===e?Bf:aa(t)>=aa(e)?t<0?Md:Ad:e<0?Fd:Kl}function yae(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===jr||s.eventType===kt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function o9(t,e,r){return{x:e/t||0,y:r/t||0}}function bae(t,e){return Uf(e[0],e[1],zf)/Uf(t[0],t[1],zf)}function wae(t,e){return HP(e[1],e[0],zf)+HP(t[1],t[0],zf)}function xae(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==Jr&&(n>vae||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=o9(n,l,u);s=c.x,o=c.y,i=aa(c.x)>aa(c.y)?c.x:c.y,a=s9(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function _ae(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Qq(e)),i>1&&!r.firstMultiple?r.firstMultiple=Qq(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=i9(n);e.timeStamp=MT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=HP(a,l),e.distance=Uf(a,l),yae(r,e),e.offsetDirection=s9(e.deltaX,e.deltaY);var u=o9(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=aa(u.x)>aa(u.y)?u.x:u.y,e.scale=o?bae(o.pointers,n):1,e.rotation=o?wae(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,xae(r,e);var c=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,FT(f,c)&&(c=f),e.target=c}function Sae(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&jr&&n-i===0,o=e&(kt|Jr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,_ae(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Jc(t){return t.trim().split(/\s+/g)}function bc(t,e,r){Ai(Jc(e),function(n){t.addEventListener(n,r,!1)})}function wc(t,e,r){Ai(Jc(e),function(n){t.removeEventListener(n,r,!1)})}function Xq(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var xu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Bp(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&bc(this.element,this.evEl,this.domHandler),this.evTarget&&bc(this.target,this.evTarget,this.domHandler),this.evWin&&bc(Xq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&wc(this.element,this.evEl,this.domHandler),this.evTarget&&wc(this.target,this.evTarget,this.domHandler),this.evWin&&wc(Xq(this.element),this.evWin,this.domHandler)},t}();function la(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Eae={pointerdown:jr,pointermove:ba,pointerup:kt,pointercancel:Jr,pointerout:Jr},Oae={2:qd,3:pae,4:AT,5:mae},a9="pointerdown",l9="pointermove pointerup pointercancel";Mi.MSPointerEvent&&!Mi.PointerEvent&&(a9="MSPointerDown",l9="MSPointerMove MSPointerUp MSPointerCancel");var u9=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=a9,i.evWin=l9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=Eae[a],u=Oae[i.pointerType]||i.pointerType,c=u===qd,h=la(s,i.pointerId,"pointerId");l&jr&&(i.button===0||c)?h<0&&(s.push(i),h=s.length-1):l&(kt|Jr)&&(o=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(h,1))},e}(xu);function Zc(t){return Array.prototype.slice.call(t,0)}function LT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];la(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var Pae={touchstart:jr,touchmove:ba,touchend:kt,touchcancel:Jr},Cae="touchstart touchmove touchend touchcancel",BT=function(t){$n(e,t);function e(){var n;return e.prototype.evTarget=Cae,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Pae[i.type],o=Tae.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:qd,srcEvent:i})},e}(xu);function Tae(t,e){var r=Zc(t.touches),n=this.targetIds;if(e&(jr|ba)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=Zc(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return FT(u.target,l)}),e===jr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&(kt|Jr)&&delete n[o[i].identifier],i++;if(a.length)return[LT(s.concat(a),"identifier",!0),a]}var Iae={mousedown:jr,mousemove:ba,mouseup:kt},Nae="mousedown",Rae="mousemove mouseup",zT=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=Nae,i.evWin=Rae,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Iae[i.type];s&jr&&i.button===0&&(this.pressed=!0),s&ba&&i.which!==1&&(s=kt),this.pressed&&(s&kt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:AT,srcEvent:i}))},e}(xu),$ae=2500,Jq=25;function Zq(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,$ae)}}function jae(t,e){t&jr?(this.primaryTouch=e.changedPointers[0].identifier,Zq.call(this,e)):t&(kt|Jr)&&Zq.call(this,e)}function kae(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=Jq&&o<=Jq)return!0}return!1}var c9=function(){var t=function(e){$n(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var c=u.pointerType===qd,h=u.pointerType===AT;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)jae.call(Rh(Rh(o)),l,u);else if(h&&kae.call(Rh(Rh(o)),u))return;o.callback(a,l,u)}},o.touch=new BT(o.manager,o.handler),o.mouse=new zT(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(xu);return t}();function Dae(t){var e,r=t.options.inputClass;return r?e=r:hae?e=u9:fae?e=BT:e9?e=c9:e=zT,new e(t,Sae)}function nl(t,e,r){return Array.isArray(t)?(Ai(t,r[e],r),!0):!1}var tf=1,Cn=2,Gl=4,Hs=8,Fi=Hs,ed=16,pi=32,qae=1;function Mae(){return qae++}function jh(t,e){var r=e.manager;return r?r.get(t):t}function eM(t){return t&ed?"cancel":t&Hs?"end":t&Gl?"move":t&Cn?"start":""}var Ld=function(){function t(r){r===void 0&&(r={}),this.options=Xn({enable:!0},r),this.id=Mae(),this.manager=null,this.state=tf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return oa(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(nl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=jh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return nl(n,"dropRecognizeWith",this)?this:(n=jh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(nl(n,"requireFailure",this))return this;var i=this.requireFail;return n=jh(n,this),la(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(nl(n,"dropRequireFailure",this))return this;n=jh(n,this);var i=la(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Hs&&o(i.options.event+eM(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Hs&&o(i.options.event+eM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=pi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(pi|tf)))return!1;n++}return!0},e.recognize=function(n){var i=oa({},n);if(!Bp(this.options.enable,[this,i])){this.reset(),this.state=pi;return}this.state&(Fi|ed|pi)&&(this.state=tf),this.state=this.process(i),this.state&(Cn|Gl|Hs|ed)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),VP=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[WP]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&jr&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==kt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||Uf(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Fi,s.tryEmit()},o.interval),Cn):Fi}return pi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=pi},this.options.interval),pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Fi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ld),Yl=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Cn|Gl),l=this.attrTest(i);return a&&(o&Jr||!l)?s|ed:a||l?o&kt?s|Hs:s&Cn?s|Gl:Cn:pi},e}(Ld);function d9(t){return t===Kl?"down":t===Fd?"up":t===Md?"left":t===Ad?"right":""}var UT=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"pan",threshold:10,pointers:1,direction:t9},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&bi&&s.push(Xc),i&Uo&&s.push(Qc),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&bi?(l=u===0?Bf:u<0?Md:Ad,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=c===0?Bf:c<0?Fd:Kl,o=c!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return Yl.prototype.attrTest.call(this,i)&&(this.state&Cn||!(this.state&Cn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=d9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Yl),h9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"swipe",threshold:10,velocity:.3,direction:bi|Uo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return UT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(bi|Uo)?o=i.overallVelocity:s&bi?o=i.overallVelocityX:s&Uo&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&aa(o)>this.options.velocity&&i.eventType&kt},r.emit=function(i){var s=d9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Yl),f9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[zo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Cn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Yl),p9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Xn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[zo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Cn)},e}(Yl),m9=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Xn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[ZK]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(kt|Jr)&&!u)this.reset();else if(i.eventType&jr)this.reset(),this._timer=setTimeout(function(){s.state=Fi,s.tryEmit()},o.time);else if(i.eventType&kt)return Fi;return pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Fi&&(i&&i.eventType&kt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=MT(),this.manager.emit(this.options.event,this._input)))},e}(Ld),v9={domEvents:!1,touchAction:JK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},tM=[[p9,{enable:!1}],[f9,{enable:!1},["rotate"]],[h9,{direction:bi}],[UT,{direction:bi},["swipe"]],[VP],[VP,{event:"doubletap",taps:2},["tap"]],[m9]],Aae=1,rM=2;function nM(t,e){var r=t.element;if(r.style){var n;Ai(t.options.cssProps,function(i,s){n=Lp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Fae(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var iM=function(){function t(r,n){var i=this;this.options=oa({},v9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Dae(this),this.touchAction=new n9(this,this.options.touchAction),nM(this,!0),Ai(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return oa(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?rM:Aae},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Fi)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==rM&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Cn|Gl|Hs)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof Ld)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(nl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(nl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=la(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Ai(Jc(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Ai(Jc(n),function(o){i?s[o]&&s[o].splice(la(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&Fae(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&nM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Lae={touchstart:jr,touchmove:ba,touchend:kt,touchcancel:Jr},Bae="touchstart",zae="touchstart touchmove touchend touchcancel",Uae=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evTarget=Bae,i.evWin=zae,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Lae[i.type];if(s===jr&&(this.started=!0),!!this.started){var o=Wae.call(this,i,s);s&(kt|Jr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:qd,srcEvent:i})}},e}(xu);function Wae(t,e){var r=Zc(t.touches),n=Zc(t.changedTouches);return e&(kt|Jr)&&(r=LT(r.concat(n),"identifier",!0)),[r,n]}function g9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var y9=g9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Hae=g9(function(t,e){return y9(t,e,!0)},"merge","Use `assign`.");function Vae(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&oa(i,r)}function sM(t,e){return function(){return t.apply(e,arguments)}}var Kae=function(){var t=function(r,n){return n===void 0&&(n={}),new iM(r,Xn({recognizers:tM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=t9,t.DIRECTION_DOWN=Kl,t.DIRECTION_LEFT=Md,t.DIRECTION_RIGHT=Ad,t.DIRECTION_UP=Fd,t.DIRECTION_HORIZONTAL=bi,t.DIRECTION_VERTICAL=Uo,t.DIRECTION_NONE=Bf,t.DIRECTION_DOWN=Kl,t.INPUT_START=jr,t.INPUT_MOVE=ba,t.INPUT_END=kt,t.INPUT_CANCEL=Jr,t.STATE_POSSIBLE=tf,t.STATE_BEGAN=Cn,t.STATE_CHANGED=Gl,t.STATE_ENDED=Hs,t.STATE_RECOGNIZED=Fi,t.STATE_CANCELLED=ed,t.STATE_FAILED=pi,t.Manager=iM,t.Input=xu,t.TouchAction=n9,t.TouchInput=BT,t.MouseInput=zT,t.PointerEventInput=u9,t.TouchMouseInput=c9,t.SingleTouchInput=Uae,t.Recognizer=Ld,t.AttrRecognizer=Yl,t.Tap=VP,t.Pan=UT,t.Swipe=h9,t.Pinch=f9,t.Rotate=p9,t.Press=m9,t.on=bc,t.off=wc,t.each=Ai,t.merge=Hae,t.extend=y9,t.bindFn=sM,t.assign=oa,t.inherit=Vae,t.bindFn=sM,t.prefixed=Lp,t.toArray=Zc,t.inArray=la,t.uniqueArray=LT,t.splitStr=Jc,t.boolOrFn=Bp,t.hasParent=FT,t.addEventListeners=bc,t.removeEventListeners=wc,t.defaults=oa({},v9,{preset:tM}),t}();const b9=$se("DELETE");function Gae(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return w9({},t,...r)}function w9(){const t=Wf(...arguments);return _9(t),t}function Wf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Wf(w9(e[0],e[1]),...Fse(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Hse(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===b9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!ai(n[s])&&!ai(i[s])?n[s]=Wf(n[s],i[s]):n[s]=x9(i[s]));return n}function x9(t){return ai(t)?Wn(t).call(t,e=>x9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Wf({},t):t}function _9(t){for(const e of qT(t))t[e]===b9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&_9(t[e])}function Yae(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Qae=typeof window<"u"?window.Hammer||Kae:function(){return Yae()};function ki(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Qae(this._dom.overlay);r.on("tap",WK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];sa(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Xae(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}aae(ki.prototype);ki.current=null;ki.prototype.destroy=function(){this.deactivate();for(const r of moe(t=GK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ki.prototype.activate=function(){ki.current&&ki.current.deactivate(),ki.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ki.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ki.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Xae(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Ib,oM;function Jae(){if(oM)return Ib;oM=1,jK();var t=Vt();return Ib=t.Object.getOwnPropertySymbols,Ib}var Nb,aM;function Zae(){if(aM)return Nb;aM=1;var t=Jae();return Nb=t,Nb}var Rb,lM;function ele(){return lM||(lM=1,Rb=Zae()),Rb}var tle=ele(),uM=De(tle),$b={exports:{}},cM={},dM;function rle(){if(dM)return cM;dM=1;var t=Pe(),e=He(),r=xi(),n=Np().f,i=At(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),cM}var hM;function nle(){if(hM)return $b.exports;hM=1,rle();var t=Vt(),e=t.Object,r=$b.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),$b.exports}var jb,fM;function ile(){if(fM)return jb;fM=1;var t=nle();return jb=t,jb}var kb,pM;function sle(){return pM||(pM=1,kb=ile()),kb}var ole=sle(),S9=De(ole),mM={},vM;function ale(){if(vM)return mM;vM=1;var t=Pe(),e=At(),r=VK(),n=xi(),i=Np(),s=$p();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,c=r(l),h={},f=0,p,v;c.length>f;)v=u(l,p=c[f++]),v!==void 0&&s(h,p,v);return h}}),mM}var Db,gM;function lle(){if(gM)return Db;gM=1,ale();var t=Vt();return Db=t.Object.getOwnPropertyDescriptors,Db}var qb,yM;function ule(){if(yM)return qb;yM=1;var t=lle();return qb=t,qb}var Mb,bM;function cle(){return bM||(bM=1,Mb=ule()),Mb}var dle=cle(),wM=De(dle),Ab={exports:{}},xM={},_M;function hle(){if(_M)return xM;_M=1;var t=Pe(),e=At(),r=$T().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),xM}var SM;function fle(){if(SM)return Ab.exports;SM=1,hle();var t=Vt(),e=t.Object,r=Ab.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Ab.exports}var Fb,EM;function ple(){if(EM)return Fb;EM=1;var t=fle();return Fb=t,Fb}var Lb,OM;function mle(){return OM||(OM=1,Lb=ple()),Lb}var vle=mle(),gle=De(vle),Bb,PM;function yle(){return PM||(PM=1,Bb=SK()),Bb}var ble=yle(),wle=De(ble),CM={},TM={},zb={exports:{}},Ub,IM;function xle(){if(IM)return Ub;IM=1;var t=He();return Ub=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ub}var Wb,NM;function _le(){if(NM)return Wb;NM=1;var t=He(),e=Mr(),r=ns(),n=xle(),i=Object.isExtensible,s=t(function(){});return Wb=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,Wb}var Hb,RM;function Sle(){if(RM)return Hb;RM=1;var t=He();return Hb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Hb}var $M;function E9(){if($M)return zb.exports;$M=1;var t=Pe(),e=Ye(),r=$d(),n=Mr(),i=tr(),s=Rn().f,o=Dp(),a=IK(),l=_le(),u=Ip(),c=Sle(),h=!1,f=u("meta"),p=0,v=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";v(b)}return b[f].objectID},w=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;v(b)}return b[f].weakData},g=function(b){return c&&h&&l(b)&&!i(b,f)&&v(b),b},m=function(){x.enable=function(){},h=!0;var b=o.f,_=e([].splice),E={};E[f]=1,b(E).length&&(o.f=function(O){for(var S=b(O),C=0,P=S.length;C<P;C++)if(S[C]===f){_(S,C,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},x=zb.exports={enable:m,fastKey:y,getWeakData:w,onFreeze:g};return r[f]=!0,zb.exports}var Vb,jM;function Ele(){if(jM)return Vb;jM=1;var t=rr(),e=wu(),r=t("iterator"),n=Array.prototype;return Vb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Vb}var Kb,kM;function O9(){if(kM)return Kb;kM=1;var t=ao(),e=OT(),r=Td(),n=wu(),i=rr(),s=i("iterator");return Kb=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},Kb}var Gb,DM;function P9(){if(DM)return Gb;DM=1;var t=tn(),e=is(),r=ss(),n=fu(),i=O9(),s=TypeError;return Gb=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},Gb}var Yb,qM;function WT(){if(qM)return Yb;qM=1;var t=tn(),e=ss(),r=OT();return Yb=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},Yb}var Qb,MM;function HT(){if(MM)return Qb;MM=1;var t=Rp(),e=tn(),r=ss(),n=fu(),i=Ele(),s=oo(),o=er(),a=P9(),l=O9(),u=WT(),c=TypeError,h=function(p,v){this.stopped=p,this.result=v},f=h.prototype;return Qb=function(p,v,y){var w=y&&y.that,g=!!(y&&y.AS_ENTRIES),m=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(v,w),E,O,S,C,P,N,T,I=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),b?_(B[0],B[1],I):_(B[0],B[1])):b?_(B,I):_(B)};if(m)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,C=s(p);C>S;S++)if(P=q(p[S]),P&&o(f,P))return P;return new h(!1)}E=a(p,O)}for(N=m?p.next:E.next;!(T=e(N,E)).done;){try{P=q(T.value)}catch(B){u(E,"throw",B)}if(typeof P=="object"&&P&&o(f,P))return P}return new h(!1)},Qb}var Xb,AM;function C9(){if(AM)return Xb;AM=1;var t=er(),e=TypeError;return Xb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Xb}var Jb,FM;function T9(){if(FM)return Jb;FM=1;var t=Pe(),e=Mt(),r=E9(),n=He(),i=vu(),s=HT(),o=C9(),a=Zt(),l=Mr(),u=Td(),c=ya(),h=Rn().f,f=bu().forEach,p=At(),v=Dd(),y=v.set,w=v.getterFor;return Jb=function(g,m,x){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",O=e[g],S=O&&O.prototype,C={},P;if(!p||!a(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))P=x.getConstructor(m,g,b,E),r.enable();else{P=m(function(I,q){y(o(I,N),{type:g,collection:new O}),u(q)||s(q,I[E],{that:I,AS_ENTRIES:b})});var N=P.prototype,T=w(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var q=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(N,I,function(B,re){var Q=T(this).collection;if(!q&&_&&!l(B))return I==="get"?void 0:!1;var L=Q[I](B===0?0:B,re);return q?this:L})}),_||h(N,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return c(P,g,!1,!0),C[g]=P,t({global:!0,forced:!0},C),_||x.setStrong(P,g,b),P},Jb}var Zb,LM;function Ole(){if(LM)return Zb;LM=1;var t=kd();return Zb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Zb}var e0,BM;function Ple(){if(BM)return e0;BM=1;var t=pn(),e=jT(),r=rr(),n=At(),i=r("species");return e0=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},e0}var t0,zM;function I9(){if(zM)return t0;zM=1;var t=jd(),e=jT(),r=Ole(),n=Rp(),i=C9(),s=Td(),o=HT(),a=kT(),l=DT(),u=Ple(),c=At(),h=E9().fastKey,f=Dd(),p=f.set,v=f.getterFor;return t0={getConstructor:function(y,w,g,m){var x=y(function(S,C){i(S,b),p(S,{type:w,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(C)||o(C,S[m],{that:S,AS_ENTRIES:g})}),b=x.prototype,_=v(w),E=function(S,C,P){var N=_(S),T=O(S,C),I,q;return T?T.value=P:(N.last=T={index:q=h(C,!0),key:C,value:P,previous:I=N.last,next:null,removed:!1},N.first||(N.first=T),I&&(I.next=T),c?N.size++:S.size++,q!=="F"&&(N.index[q]=T)),S},O=function(S,C){var P=_(S),N=h(C),T;if(N!=="F")return P.index[N];for(T=P.first;T;T=T.next)if(T.key===C)return T};return r(b,{clear:function(){for(var C=this,P=_(C),N=P.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=null),N=N.next;P.first=P.last=null,P.index=t(null),c?P.size=0:C.size=0},delete:function(S){var C=this,P=_(C),N=O(C,S);if(N){var T=N.next,I=N.previous;delete P.index[N.index],N.removed=!0,I&&(I.next=T),T&&(T.previous=I),P.first===N&&(P.first=T),P.last===N&&(P.last=I),c?P.size--:C.size--}return!!N},forEach:function(C){for(var P=_(this),N=n(C,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:P.first;)for(N(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(C){return!!O(this,C)}}),r(b,g?{get:function(C){var P=O(this,C);return P&&P.value},set:function(C,P){return E(this,C===0?0:C,P)}}:{add:function(C){return E(this,C=C===0?0:C,C)}}),c&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,w,g){var m=w+" Iterator",x=v(w),b=v(m);a(y,w,function(_,E){p(this,{type:m,target:_,state:x(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(w)}},t0}var UM;function Cle(){if(UM)return TM;UM=1;var t=T9(),e=I9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),TM}var WM;function Tle(){return WM||(WM=1,Cle()),CM}var HM={},r0,VM;function N9(){return VM||(VM=1,r0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),r0}var n0,KM;function Ile(){if(KM)return n0;KM=1;var t=pn(),e=N9(),r=t("Map");return n0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},n0}var GM;function Nle(){if(GM)return HM;GM=1;var t=Pe(),e=Ye(),r=is(),n=va(),i=HT(),s=Ile(),o=pu(),a=He(),l=s.Map,u=s.has,c=s.get,h=s.set,f=e([].push),p=o||a(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||p},{groupBy:function(y,w){n(y),r(w);var g=new l,m=0;return i(y,function(x){var b=w(x,m++);u(g,b)?f(c(g,b),x):h(g,b,[x])}),g}}),HM}var i0,YM;function Rle(){if(YM)return i0;YM=1,uo(),Tle(),Nle(),Ap();var t=Vt();return i0=t.Map,i0}var s0,QM;function $le(){if(QM)return s0;QM=1;var t=Rle();return co(),s0=t,s0}var o0,XM;function jle(){return XM||(XM=1,o0=$le()),o0}var kle=jle(),R9=De(kle),JM={},ZM;function Dle(){if(ZM)return JM;ZM=1;var t=Pe(),e=bu().some,r=Fp(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),JM}var a0,eA;function qle(){if(eA)return a0;eA=1,Dle();var t=rn();return a0=t("Array","some"),a0}var l0,tA;function Mle(){if(tA)return l0;tA=1;var t=er(),e=qle(),r=Array.prototype;return l0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},l0}var u0,rA;function Ale(){if(rA)return u0;rA=1;var t=Mle();return u0=t,u0}var c0,nA;function Fle(){return nA||(nA=1,c0=Ale()),c0}var Lle=Fle(),Ble=De(Lle),d0,iA;function zle(){if(iA)return d0;iA=1,uo();var t=rn();return d0=t("Array","keys"),d0}var h0,sA;function Ule(){if(sA)return h0;sA=1;var t=zle();return h0=t,h0}var f0,oA;function Wle(){if(oA)return f0;oA=1,co();var t=ao(),e=tr(),r=er(),n=Ule(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return f0=function(o){var a=o.keys;return o===i||r(i,o)&&a===i.keys||e(s,t(o))?n:a},f0}var p0,aA;function Hle(){return aA||(aA=1,p0=Wle()),p0}var Vle=Hle(),Fa=De(Vle),lA={},m0,uA;function Kle(){if(uA)return m0;uA=1;var t=yu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),c=r(t(n,0,u),i),h=r(t(n,u),i),f=c.length,p=h.length,v=0,y=0;v<f||y<p;)n[v+y]=v<f&&y<p?i(c[v],h[y])<=0?c[v++]:h[y++]:v<f?c[v++]:h[y++];return n};return m0=r,m0}var v0,cA;function Gle(){if(cA)return v0;cA=1;var t=du(),e=t.match(/firefox\/(\d+)/i);return v0=!!e&&+e[1],v0}var g0,dA;function Yle(){if(dA)return g0;dA=1;var t=du();return g0=/MSIE|Trident/.test(t),g0}var y0,hA;function Qle(){if(hA)return y0;hA=1;var t=du(),e=t.match(/AppleWebKit\/(\d+)\./);return y0=!!e&&+e[1],y0}var fA;function Xle(){if(fA)return lA;fA=1;var t=Pe(),e=Ye(),r=is(),n=ti(),i=oo(),s=KK(),o=lo(),a=He(),l=Kle(),u=Fp(),c=Gle(),h=Yle(),f=Id(),p=Qle(),v=[],y=e(v.sort),w=e(v.push),g=a(function(){v.sort(void 0)}),m=a(function(){v.sort(null)}),x=u("sort"),b=!a(function(){if(f)return f<70;if(!(c&&c>3)){if(h)return!0;if(p)return p<603;var O="",S,C,P,N;for(S=65;S<76;S++){switch(C=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(N=0;N<47;N++)v.push({k:C+N,v:P})}for(v.sort(function(T,I){return I.v-T.v}),N=0;N<v.length;N++)C=v[N].k.charAt(0),O.charAt(O.length-1)!==C&&(O+=C);return O!=="DGBEFHACIJK"}}),_=g||!m||!x||!b,E=function(O){return function(S,C){return C===void 0?-1:S===void 0?1:O!==void 0?+O(S,C)||0:o(S)>o(C)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var C=n(this);if(b)return S===void 0?y(C):y(C,S);var P=[],N=i(C),T,I;for(I=0;I<N;I++)I in C&&w(P,C[I]);for(l(P,E(S)),T=i(P),I=0;I<T;)C[I]=P[I++];for(;I<N;)s(C,I++);return C}}),lA}var b0,pA;function Jle(){if(pA)return b0;pA=1,Xle();var t=rn();return b0=t("Array","sort"),b0}var w0,mA;function Zle(){if(mA)return w0;mA=1;var t=er(),e=Jle(),r=Array.prototype;return w0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},w0}var x0,vA;function eue(){if(vA)return x0;vA=1;var t=Zle();return x0=t,x0}var _0,gA;function tue(){return gA||(gA=1,_0=eue()),_0}var rue=tue(),KP=De(rue),S0,yA;function nue(){if(yA)return S0;yA=1,uo();var t=rn();return S0=t("Array","values"),S0}var E0,bA;function iue(){if(bA)return E0;bA=1;var t=nue();return E0=t,E0}var O0,wA;function sue(){if(wA)return O0;wA=1,co();var t=ao(),e=tr(),r=er(),n=iue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return O0=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},O0}var P0,xA;function oue(){return xA||(xA=1,P0=sue()),P0}var aue=oue(),_A=De(aue),C0,SA;function lue(){return SA||(SA=1,C0=UK()),C0}var uue=lue(),il=De(uue),T0,EA;function cue(){if(EA)return T0;EA=1,uo();var t=rn();return T0=t("Array","entries"),T0}var I0,OA;function due(){if(OA)return I0;OA=1;var t=cue();return I0=t,I0}var N0,PA;function hue(){if(PA)return N0;PA=1,co();var t=ao(),e=tr(),r=er(),n=due(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return N0=function(o){var a=o.entries;return o===i||r(i,o)&&a===i.entries||e(s,t(o))?n:a},N0}var R0,CA;function fue(){return CA||(CA=1,R0=hue()),R0}var pue=fue(),mue=De(pue);const sr=[];for(let t=0;t<256;++t)sr.push((t+256).toString(16).slice(1));function vue(t,e=0){return(sr[t[e+0]]+sr[t[e+1]]+sr[t[e+2]]+sr[t[e+3]]+"-"+sr[t[e+4]]+sr[t[e+5]]+"-"+sr[t[e+6]]+sr[t[e+7]]+"-"+sr[t[e+8]]+sr[t[e+9]]+"-"+sr[t[e+10]]+sr[t[e+11]]+sr[t[e+12]]+sr[t[e+13]]+sr[t[e+14]]+sr[t[e+15]]).toLowerCase()}let $0;const gue=new Uint8Array(16);function yue(){if(!$0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");$0=crypto.getRandomValues.bind(crypto)}return $0(gue)}const bue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var TA={randomUUID:bue};function wue(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??yue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,vue(n)}function xue(t,e,r){return TA.randomUUID&&!t?TA.randomUUID():wue(t)}function IA(t){return typeof t=="string"||typeof t=="number"}class VT{constructor(e){Ws(this,"_queue",[]),Ws(this,"_timeout",null),Ws(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new VT(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const o=r.replace[s];i.push({name:o,original:e[o]}),n.replace(e,o)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,o=new Array(s),a=0;a<s;a++)o[a]=arguments[a];n.queue({args:o,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=iae(()=>{this.flush()},this.delay))}flush(){var e,r;sa(e=GK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Hf{constructor(){Ws(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Ws(this,"subscribe",Hf.prototype.on),Ws(this,"unsubscribe",Hf.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");sa(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=tl(n=this._subscribers[e]).call(n,i=>i!==r)}}var NA={},RA={},$A;function _ue(){if($A)return RA;$A=1;var t=T9(),e=I9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),RA}var jA;function Sue(){return jA||(jA=1,_ue()),NA}var kA={},j0,DA;function wa(){if(DA)return j0;DA=1;var t=fu(),e=TypeError;return j0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},j0}var k0,qA;function xa(){if(qA)return k0;qA=1;var t=pn(),e=N9(),r=t("Set"),n=r.prototype;return k0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},k0}var D0,MA;function _a(){if(MA)return D0;MA=1;var t=tn();return D0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},D0}var q0,AA;function Bd(){if(AA)return q0;AA=1;var t=_a();return q0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},q0}var M0,FA;function KT(){if(FA)return M0;FA=1;var t=xa(),e=Bd(),r=t.Set,n=t.add;return M0=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},M0}var A0,LA;function zd(){return LA||(LA=1,A0=function(t){return t.size}),A0}var F0,BA;function Eue(){return BA||(BA=1,F0=function(t){return{iterator:t,next:t.next,done:!1}}),F0}var L0,zA;function Sa(){if(zA)return L0;zA=1;var t=is(),e=ss(),r=tn(),n=gu(),i=Eue(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(c,h){this.set=c,this.size=l(h,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},L0=function(c){e(c);var h=+c.size;if(h!==h)throw new a(s);var f=n(h);if(f<0)throw new o(s);return new u(c,f)},L0}var B0,UA;function Oue(){if(UA)return B0;UA=1;var t=wa(),e=xa(),r=KT(),n=zd(),i=Sa(),s=Bd(),o=_a(),a=e.has,l=e.remove;return B0=function(c){var h=t(this),f=i(c),p=r(h);return n(h)<=f.size?s(h,function(v){f.includes(v)&&l(p,v)}):o(f.getIterator(),function(v){a(p,v)&&l(p,v)}),p},B0}var z0,WA;function Ea(){return WA||(WA=1,z0=function(){return!1}),z0}var HA;function Pue(){if(HA)return kA;HA=1;var t=Pe(),e=Oue(),r=He(),n=Ea(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),kA}var VA={},U0,KA;function Cue(){if(KA)return U0;KA=1;var t=wa(),e=xa(),r=zd(),n=Sa(),i=Bd(),s=_a(),o=e.Set,a=e.add,l=e.has;return U0=function(c){var h=t(this),f=n(c),p=new o;return r(h)>f.size?s(f.getIterator(),function(v){l(h,v)&&a(p,v)}):i(h,function(v){f.includes(v)&&a(p,v)}),p},U0}var GA;function Tue(){if(GA)return VA;GA=1;var t=Pe(),e=He(),r=Cue(),n=Ea(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),VA}var YA={},W0,QA;function Iue(){if(QA)return W0;QA=1;var t=wa(),e=xa().has,r=zd(),n=Sa(),i=Bd(),s=_a(),o=WT();return W0=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var h=c.getIterator();return s(h,function(f){if(e(u,f))return o(h,"normal",!1)})!==!1},W0}var XA;function Nue(){if(XA)return YA;XA=1;var t=Pe(),e=Iue(),r=Ea(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),YA}var JA={},H0,ZA;function Rue(){if(ZA)return H0;ZA=1;var t=wa(),e=zd(),r=Bd(),n=Sa();return H0=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},H0}var eF;function $ue(){if(eF)return JA;eF=1;var t=Pe(),e=Rue(),r=Ea(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),JA}var tF={},V0,rF;function jue(){if(rF)return V0;rF=1;var t=wa(),e=xa().has,r=zd(),n=Sa(),i=_a(),s=WT();return V0=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(h){if(!e(l,h))return s(c,"normal",!1)})!==!1},V0}var nF;function kue(){if(nF)return tF;nF=1;var t=Pe(),e=jue(),r=Ea(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),tF}var iF={},K0,sF;function Due(){if(sF)return K0;sF=1;var t=wa(),e=xa(),r=KT(),n=Sa(),i=_a(),s=e.add,o=e.has,a=e.remove;return K0=function(u){var c=t(this),h=n(u).getIterator(),f=r(c);return i(h,function(p){o(c,p)?a(f,p):s(f,p)}),f},K0}var G0,oF;function $9(){return oF||(oF=1,G0=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),G0}var aF;function que(){if(aF)return iF;aF=1;var t=Pe(),e=Due(),r=$9(),n=Ea(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),iF}var lF={},Y0,uF;function Mue(){if(uF)return Y0;uF=1;var t=wa(),e=xa().add,r=KT(),n=Sa(),i=_a();return Y0=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(c){e(u,c)}),u},Y0}var cF;function Aue(){if(cF)return lF;cF=1;var t=Pe(),e=Mue(),r=$9(),n=Ea(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),lF}var Q0,dF;function Fue(){if(dF)return Q0;dF=1,uo(),Sue(),Pue(),Tue(),Nue(),$ue(),kue(),que(),Aue(),Ap();var t=Vt();return Q0=t.Set,Q0}var X0,hF;function Lue(){if(hF)return X0;hF=1;var t=Fue();return co(),X0=t,X0}var J0,fF;function Bue(){return fF||(fF=1,J0=Lue()),J0}var zue=Bue(),Z0=De(zue),e1,pF;function Uue(){if(pF)return e1;pF=1,uo(),Ap();var t=P9();return e1=t,e1}var t1,mF;function Wue(){if(mF)return t1;mF=1;var t=Uue();return co(),t1=t,t1}var r1,vF;function Hue(){if(vF)return r1;vF=1;var t=Wue();return r1=t,r1}var n1,gF;function Vue(){if(gF)return n1;gF=1;var t=Hue();return n1=t,n1}var i1,yF;function Kue(){return yF||(yF=1,i1=Vue()),i1}var s1,bF;function Gue(){return bF||(bF=1,s1=Kue()),s1}var Yue=Gue(),o1=De(Yue);class Co{constructor(e){this._pairs=e}*[il](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Boe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new R9(this._pairs)}toIdSet(){return new Z0(this.toIdArray())}toItemSet(){return new Z0(this.toItemArray())}cache(){return new Co([...this._pairs])}distinct(e){const r=new Z0;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Co({*[il](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Co({*[il](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=o1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l>s&&(s=l,i=a)}return i}min(e){const r=o1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[o,a]=n.value,l=e(a,o);l<s&&(s=l,i=a)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Co({[il]:()=>{var r;return o1(KP(r=[...this._pairs]).call(r,(n,i)=>{let[s,o]=n,[a,l]=i;return e(o,l,s,a)}))}})}}function wF(t,e){var r=qT(t);if(uM){var n=uM(t);e&&(n=tl(n).call(n,function(i){return S9(t,i).enumerable})),r.push.apply(r,n)}return r}function xF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?sa(r=wF(Object(i),!0)).call(r,function(s){Ws(t,s,i[s])}):wM?gle(t,wM(i)):sa(n=wF(Object(i))).call(n,function(s){wle(t,s,S9(i,s))})}return t}function Que(t,e){return t[e]==null&&(t[e]=xue()),t}class Ql extends Hf{get idProp(){return this._idProp}constructor(e,r){super(),Ws(this,"_queue",null),e&&!ai(e)&&(r=e,e=[]),this._options=r||{},this._data=new R9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=VT.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(ai(e)){const s=Wn(e).call(e,o=>o[this._idProp]);if(Ble(s).call(s,o=>this._data.has(o)))throw new Error("A duplicate id was found in the parameter array.");for(let o=0,a=e.length;o<a;o++)i=this._addItem(e[o]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],o=[],a=this._idProp,l=u=>{const c=u[a];if(c!=null&&this._data.has(c)){const h=u,f=Ioe({},this._data.get(c)),p=this._updateItem(h);i.push(p),o.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(ai(e))for(let u=0,c=e.length;u<c;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:o};this._trigger("update",u,r)}return Doe(n).call(n,i)}updateOnly(e,r){var n;ai(e)||(e=[e]);const i=Wn(n=Wn(e).call(e,s=>{const o=this._data.get(s[this._idProp]);if(o==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:o,update:s}})).call(n,s=>{let{oldData:o,update:a}=s;const l=o[this._idProp],u=Gae(o,a);return this._data.set(l,u),{id:l,oldData:o,updatedData:u}});if(i.length){const s={items:Wn(i).call(i,o=>o.id),oldData:Wn(i).call(i,o=>o.oldData),data:Wn(i).call(i,o=>o.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;IA(e)?(n=e,s=r):ai(e)?(i=e,s=r):s=e;const o=s&&s.returnType==="Object"?"Object":"Array",a=s&&tl(s),l=[];let u,c,h;if(n!=null)u=this._data.get(n),u&&a&&!a(u)&&(u=void 0);else if(i!=null)for(let p=0,v=i.length;p<v;p++)u=this._data.get(i[p]),u!=null&&(!a||a(u))&&l.push(u);else{var f;c=[...Fa(f=this._data).call(f)];for(let p=0,v=c.length;p<v;p++)h=c[p],u=this._data.get(h),u!=null&&(!a||a(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let v=0,y=l.length;v<y;v++)l[v]=this._filterFields(l[v],p)}if(o=="Object"){const p={};for(let v=0,y=l.length;v<y;v++){const w=l[v],g=w[this._idProp];p[g]=w}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&tl(e),i=e&&e.order,s=[...Fa(r).call(r)],o=[];if(n)if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const c=s[l],h=this._data.get(c);h!=null&&n(h)&&a.push(h)}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],c=this._data.get(u);c!=null&&n(c)&&o.push(c[this._idProp])}else if(i){const a=[];for(let l=0,u=s.length;l<u;l++){const c=s[l];a.push(r.get(c))}this._sort(a,i);for(let l=0,u=a.length;l<u;l++)o.push(a[l][this._idProp])}else for(let a=0,l=s.length;a<l;a++){const u=s[a],c=r.get(u);c!=null&&o.push(c[this._idProp])}return o}getDataSet(){return this}forEach(e,r){const n=r&&tl(r),i=this._data,s=[...Fa(i).call(i)];if(r&&r.order){const o=this.get(r);for(let a=0,l=o.length;a<l;a++){const u=o[a],c=u[this._idProp];e(u,c)}}else for(let o=0,a=s.length;o<a;o++){const l=s[o],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&tl(r),i=[],s=this._data,o=[...Fa(s).call(s)];for(let a=0,l=o.length;a<l;a++){const u=o[a],c=this._data.get(u);c!=null&&(!n||n(c))&&i.push(e(c,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&gse(n=ai(r)?r:qT(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;KP(e).call(e,(i,s)=>{const o=i[n],a=s[n];return o>a?1:o<a?-1:0})}else if(typeof r=="function")KP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=ai(e)?e:[e];for(let o=0,a=s.length;o<a;o++){const l=this._remove(s[o]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(IA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...Fa(r=this._data).call(r)],i=[];for(let s=0,o=n.length;s<o;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of _A(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o>n)&&(r=s,n=o)}return r||null}min(e){let r=null,n=null;for(const s of _A(i=this._data).call(i)){var i;const o=s[e];typeof o=="number"&&(n==null||o<n)&&(r=s,n=o)}return r||null}distinct(e){const r=this._data,n=[...Fa(r).call(r)],i=[];let s=0;for(let o=0,a=n.length;o<a;o++){const l=n[o],c=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==c){h=!0;break}!h&&c!==void 0&&(i[s]=c,s++)}return i}_addItem(e){const r=Que(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Qoe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,xF(xF({},n),e)),r}stream(e){if(e){const n=this._data;return new Co({*[il](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Co({[il]:WK(r=mue(this._data)).call(r,this._data)})}}}function Xue(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof sa(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function j9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof sa(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Xue(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var _F=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var SF={},Ju,EF;function ut(){if(EF)return Ju;EF=1;var t=function(e){return e&&e.Math===Math&&e};return Ju=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof _F=="object"&&_F)||t(typeof Ju=="object"&&Ju)||function(){return this}()||Function("return this")(),Ju}var a1,OF;function qe(){return OF||(OF=1,a1=function(t){try{return!!t()}catch{return!0}}),a1}var l1,PF;function Ud(){if(PF)return l1;PF=1;var t=qe();return l1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),l1}var u1,CF;function zp(){if(CF)return u1;CF=1;var t=Ud(),e=Function.prototype,r=e.apply,n=e.call;return u1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),u1}var c1,TF;function Ae(){if(TF)return c1;TF=1;var t=Ud(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return c1=t?n:function(i){return function(){return r.apply(i,arguments)}},c1}var d1,IF;function _i(){if(IF)return d1;IF=1;var t=Ae(),e=t({}.toString),r=t("".slice);return d1=function(n){return r(e(n),8,-1)},d1}var h1,NF;function GT(){if(NF)return h1;NF=1;var t=_i(),e=Ae();return h1=function(r){if(t(r)==="Function")return e(r)},h1}var f1,RF;function nr(){if(RF)return f1;RF=1;var t=typeof document=="object"&&document.all;return f1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},f1}var p1={},m1,$F;function It(){if($F)return m1;$F=1;var t=qe();return m1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),m1}var v1,jF;function nn(){if(jF)return v1;jF=1;var t=Ud(),e=Function.prototype.call;return v1=t?e.bind(e):function(){return e.apply(e,arguments)},v1}var g1={},kF;function Up(){if(kF)return g1;kF=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return g1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,g1}var y1,DF;function Wd(){return DF||(DF=1,y1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),y1}var b1,qF;function Wp(){if(qF)return b1;qF=1;var t=Ae(),e=qe(),r=_i(),n=Object,i=t("".split);return b1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,b1}var w1,MF;function _u(){return MF||(MF=1,w1=function(t){return t==null}),w1}var x1,AF;function os(){if(AF)return x1;AF=1;var t=_u(),e=TypeError;return x1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},x1}var _1,FF;function ri(){if(FF)return _1;FF=1;var t=Wp(),e=os();return _1=function(r){return t(e(r))},_1}var S1,LF;function ir(){if(LF)return S1;LF=1;var t=nr();return S1=function(e){return typeof e=="object"?e!==null:t(e)},S1}var E1,BF;function Ve(){return BF||(BF=1,E1={}),E1}var O1,zF;function mn(){if(zF)return O1;zF=1;var t=Ve(),e=ut(),r=nr(),n=function(i){return r(i)?i:void 0};return O1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},O1}var P1,UF;function Ft(){if(UF)return P1;UF=1;var t=Ae();return P1=t({}.isPrototypeOf),P1}var C1,WF;function Su(){if(WF)return C1;WF=1;var t=ut(),e=t.navigator,r=e&&e.userAgent;return C1=r?String(r):"",C1}var T1,HF;function Hd(){if(HF)return T1;HF=1;var t=ut(),e=Su(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,o,a;return s&&(o=s.split("."),a=o[0]>0&&o[0]<4?1:+(o[0]+o[1])),!a&&e&&(o=e.match(/Edge\/(\d+)/),(!o||o[1]>=74)&&(o=e.match(/Chrome\/(\d+)/),o&&(a=+o[1]))),T1=a,T1}var I1,VF;function Eu(){if(VF)return I1;VF=1;var t=Hd(),e=qe(),r=ut(),n=r.String;return I1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),I1}var N1,KF;function k9(){if(KF)return N1;KF=1;var t=Eu();return N1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",N1}var R1,GF;function Vd(){if(GF)return R1;GF=1;var t=mn(),e=nr(),r=Ft(),n=k9(),i=Object;return R1=n?function(s){return typeof s=="symbol"}:function(s){var o=t("Symbol");return e(o)&&r(o.prototype,i(s))},R1}var $1,YF;function Ou(){if(YF)return $1;YF=1;var t=String;return $1=function(e){try{return t(e)}catch{return"Object"}},$1}var j1,QF;function as(){if(QF)return j1;QF=1;var t=nr(),e=Ou(),r=TypeError;return j1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},j1}var k1,XF;function YT(){if(XF)return k1;XF=1;var t=as(),e=_u();return k1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},k1}var D1,JF;function Jue(){if(JF)return D1;JF=1;var t=nn(),e=nr(),r=ir(),n=TypeError;return D1=function(i,s){var o,a;if(s==="string"&&e(o=i.toString)&&!r(a=t(o,i))||e(o=i.valueOf)&&!r(a=t(o,i))||s!=="string"&&e(o=i.toString)&&!r(a=t(o,i)))return a;throw new n("Can't convert object to primitive value")},D1}var q1={exports:{}},M1,ZF;function Pu(){return ZF||(ZF=1,M1=!0),M1}var A1,eL;function Zue(){if(eL)return A1;eL=1;var t=ut(),e=Object.defineProperty;return A1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},A1}var tL;function QT(){if(tL)return q1.exports;tL=1;var t=Pu(),e=ut(),r=Zue(),n="__core-js_shared__",i=q1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),q1.exports}var F1,rL;function Cu(){if(rL)return F1;rL=1;var t=QT();return F1=function(e,r){return t[e]||(t[e]=r||{})},F1}var L1,nL;function vn(){if(nL)return L1;nL=1;var t=os(),e=Object;return L1=function(r){return e(t(r))},L1}var B1,iL;function fr(){if(iL)return B1;iL=1;var t=Ae(),e=vn(),r=t({}.hasOwnProperty);return B1=Object.hasOwn||function(i,s){return r(e(i),s)},B1}var z1,sL;function Hp(){if(sL)return z1;sL=1;var t=Ae(),e=0,r=Math.random(),n=t(1.1.toString);return z1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},z1}var U1,oL;function Lt(){if(oL)return U1;oL=1;var t=ut(),e=Cu(),r=fr(),n=Hp(),i=Eu(),s=k9(),o=t.Symbol,a=e("wks"),l=s?o.for||o:o&&o.withoutSetter||n;return U1=function(u){return r(a,u)||(a[u]=i&&r(o,u)?o[u]:l("Symbol."+u)),a[u]},U1}var W1,aL;function D9(){if(aL)return W1;aL=1;var t=nn(),e=ir(),r=Vd(),n=YT(),i=Jue(),s=Lt(),o=TypeError,a=s("toPrimitive");return W1=function(l,u){if(!e(l)||r(l))return l;var c=n(l,a),h;if(c){if(u===void 0&&(u="default"),h=t(c,l,u),!e(h)||r(h))return h;throw new o("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},W1}var H1,lL;function XT(){if(lL)return H1;lL=1;var t=D9(),e=Vd();return H1=function(r){var n=t(r,"string");return e(n)?n:n+""},H1}var V1,uL;function q9(){if(uL)return V1;uL=1;var t=ut(),e=ir(),r=t.document,n=e(r)&&e(r.createElement);return V1=function(i){return n?r.createElement(i):{}},V1}var K1,cL;function M9(){if(cL)return K1;cL=1;var t=It(),e=qe(),r=q9();return K1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),K1}var dL;function Vp(){if(dL)return p1;dL=1;var t=It(),e=nn(),r=Up(),n=Wd(),i=ri(),s=XT(),o=fr(),a=M9(),l=Object.getOwnPropertyDescriptor;return p1.f=t?l:function(c,h){if(c=i(c),h=s(h),a)try{return l(c,h)}catch{}if(o(c,h))return n(!e(r.f,c,h),c[h])},p1}var G1,hL;function ece(){if(hL)return G1;hL=1;var t=qe(),e=nr(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===a?!0:c===o?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},o=n.NATIVE="N",a=n.POLYFILL="P";return G1=n,G1}var Y1,fL;function Kp(){if(fL)return Y1;fL=1;var t=GT(),e=as(),r=Ud(),n=t(t.bind);return Y1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Y1}var Q1={},X1,pL;function A9(){if(pL)return X1;pL=1;var t=It(),e=qe();return X1=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),X1}var J1,mL;function Si(){if(mL)return J1;mL=1;var t=ir(),e=String,r=TypeError;return J1=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},J1}var vL;function jn(){if(vL)return Q1;vL=1;var t=It(),e=M9(),r=A9(),n=Si(),i=XT(),s=TypeError,o=Object.defineProperty,a=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return Q1.f=t?r?function(f,p,v){if(n(f),p=i(p),n(v),typeof f=="function"&&p==="prototype"&&"value"in v&&c in v&&!v[c]){var y=a(f,p);y&&y[c]&&(f[p]=v.value,v={configurable:u in v?v[u]:y[u],enumerable:l in v?v[l]:y[l],writable:!1})}return o(f,p,v)}:o:function(f,p,v){if(n(f),p=i(p),n(v),e)try{return o(f,p,v)}catch{}if("get"in v||"set"in v)throw new s("Accessors not supported");return"value"in v&&(f[p]=v.value),f},Q1}var Z1,gL;function Tu(){if(gL)return Z1;gL=1;var t=It(),e=jn(),r=Wd();return Z1=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Z1}var ew,yL;function ye(){if(yL)return ew;yL=1;var t=ut(),e=zp(),r=GT(),n=nr(),i=Vp().f,s=ece(),o=Ve(),a=Kp(),l=Tu(),u=fr(),c=function(h){var f=function(p,v,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,v)}return new h(p,v,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return ew=function(h,f){var p=h.target,v=h.global,y=h.stat,w=h.proto,g=v?t:y?t[p]:t[p]&&t[p].prototype,m=v?o:o[p]||l(o,p,{})[p],x=m.prototype,b,_,E,O,S,C,P,N,T;for(O in f)b=s(v?O:p+(y?".":"#")+O,h.forced),_=!b&&g&&u(g,O),C=m[O],_&&(h.dontCallGetSet?(T=i(g,O),P=T&&T.value):P=g[O]),S=_&&P?P:f[O],!(!b&&!w&&typeof C==typeof S)&&(h.bind&&_?N=a(S,t):h.wrap&&_?N=c(S):w&&n(S)?N=r(S):N=S,(h.sham||S&&S.sham||C&&C.sham)&&l(N,"sham",!0),l(m,O,N),w&&(E=p+"Prototype",u(o,E)||l(o,E,{}),l(o[E],O,S),h.real&&x&&(b||!x[O])&&l(x,O,S)))},ew}var tw,bL;function tce(){if(bL)return tw;bL=1;var t=Math.ceil,e=Math.floor;return tw=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},tw}var rw,wL;function Iu(){if(wL)return rw;wL=1;var t=tce();return rw=function(e){var r=+e;return r!==r||r===0?0:t(r)},rw}var nw,xL;function Gp(){if(xL)return nw;xL=1;var t=Iu(),e=Math.max,r=Math.min;return nw=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},nw}var iw,_L;function F9(){if(_L)return iw;_L=1;var t=Iu(),e=Math.min;return iw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},iw}var sw,SL;function ls(){if(SL)return sw;SL=1;var t=F9();return sw=function(e){return t(e.length)},sw}var ow,EL;function JT(){if(EL)return ow;EL=1;var t=ri(),e=Gp(),r=ls(),n=function(i){return function(s,o,a){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(a,u),h;if(i&&o!==o){for(;u>c;)if(h=l[c++],h!==h)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===o)return i||c||0;return!i&&-1}};return ow={includes:n(!0),indexOf:n(!1)},ow}var aw,OL;function Kd(){return OL||(OL=1,aw={}),aw}var lw,PL;function L9(){if(PL)return lw;PL=1;var t=Ae(),e=fr(),r=ri(),n=JT().indexOf,i=Kd(),s=t([].push);return lw=function(o,a){var l=r(o),u=0,c=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(c,h);for(;a.length>u;)e(l,h=a[u++])&&(~n(c,h)||s(c,h));return c},lw}var uw,CL;function ZT(){return CL||(CL=1,uw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),uw}var cw,TL;function Gd(){if(TL)return cw;TL=1;var t=L9(),e=ZT();return cw=Object.keys||function(n){return t(n,e)},cw}var dw={},IL;function Yp(){return IL||(IL=1,dw.f=Object.getOwnPropertySymbols),dw}var hw,NL;function rce(){if(NL)return hw;NL=1;var t=It(),e=Ae(),r=nn(),n=qe(),i=Gd(),s=Yp(),o=Up(),a=vn(),l=Wp(),u=Object.assign,c=Object.defineProperty,h=e([].concat);return hw=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},v=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[v]=7,y.split("").forEach(function(w){p[w]=w}),u({},f)[v]!==7||i(u({},p)).join("")!==y})?function(p,v){for(var y=a(p),w=arguments.length,g=1,m=s.f,x=o.f;w>g;)for(var b=l(arguments[g++]),_=m?h(i(b),m(b)):i(b),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,b,S))&&(y[S]=b[S]);return y}:u,hw}var RL;function nce(){if(RL)return SF;RL=1;var t=ye(),e=rce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),SF}var fw,$L;function ice(){if($L)return fw;$L=1,nce();var t=Ve();return fw=t.Object.assign,fw}var pw,jL;function sce(){if(jL)return pw;jL=1;var t=ice();return pw=t,pw}var mw,kL;function oce(){return kL||(kL=1,mw=sce()),mw}var ace=oce(),Dt=Oe(ace),DL={},vw,qL;function Nu(){if(qL)return vw;qL=1;var t=Ae();return vw=t([].slice),vw}var gw,ML;function lce(){if(ML)return gw;ML=1;var t=Ae(),e=as(),r=ir(),n=fr(),i=Nu(),s=Ud(),o=Function,a=t([].concat),l=t([].join),u={},c=function(h,f,p){if(!n(u,f)){for(var v=[],y=0;y<f;y++)v[y]="a["+y+"]";u[f]=o("C,a","return new C("+l(v,",")+")")}return u[f](h,p)};return gw=s?o.bind:function(f){var p=e(this),v=p.prototype,y=i(arguments,1),w=function(){var m=a(y,i(arguments));return this instanceof w?c(p,m.length,m):p.apply(f,m)};return r(v)&&(w.prototype=v),w},gw}var AL;function uce(){if(AL)return DL;AL=1;var t=ye(),e=lce();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),DL}var yw,FL;function pr(){if(FL)return yw;FL=1;var t=ut(),e=Ve();return yw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var o=t[r],a=o&&o.prototype;return a&&a[n]},yw}var bw,LL;function cce(){if(LL)return bw;LL=1,uce();var t=pr();return bw=t("Function","bind"),bw}var ww,BL;function dce(){if(BL)return ww;BL=1;var t=Ft(),e=cce(),r=Function.prototype;return ww=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},ww}var xw,zL;function hce(){if(zL)return xw;zL=1;var t=dce();return xw=t,xw}var _w,UL;function fce(){return UL||(UL=1,_w=hce()),_w}var pce=fce(),ee=Oe(pce);function eI(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function mce(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function vce(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r-(a-o)),t.lineTo(e+s,r+o),t.lineTo(e-s,r+o),t.lineTo(e,r-(a-o)),t.closePath()}function gce(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,o=Math.sqrt(3)/6*i,a=Math.sqrt(i*i-s*s);t.moveTo(e,r+(a-o)),t.lineTo(e+s,r-o),t.lineTo(e-s,r-o),t.lineTo(e,r+(a-o)),t.closePath()}function yce(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function bce(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function B9(t,e,r,n,i,s){const o=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,o*270,o*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,o*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,o*90,o*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,o*180,o*270,!1),t.closePath()}function GP(t,e,r,n,i){const s=.5522848,o=n/2*s,a=i/2*s,l=e+n,u=r+i,c=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-a,c-o,r,c,r),t.bezierCurveTo(c+o,r,l,h-a,l,h),t.bezierCurveTo(l,h+a,c+o,u,c,u),t.bezierCurveTo(c-o,u,e,h+a,e,h),t.closePath()}function z9(t,e,r,n,i){const s=.3333333333333333,o=n,a=i*s,l=.5522848,u=o/2*l,c=a/2*l,h=e+o,f=r+a,p=e+o/2,v=r+a/2,y=r+(i-a/2),w=r+i;t.beginPath(),t.moveTo(h,v),t.bezierCurveTo(h,v+c,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,v+c,e,v),t.bezierCurveTo(e,v-c,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,v-c,h,v),t.lineTo(h,y),t.bezierCurveTo(h,y+c,p+u,w,p,w),t.bezierCurveTo(p-u,w,e,y+c,e,y),t.lineTo(e,v)}function U9(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const o=s.length,a=n-e,l=i-r,u=l/a;let c=Math.sqrt(a*a+l*l),h=0,f=!0,p=0,v=+s[0];for(;c>=.1;)v=+s[h++%o],v>c&&(v=c),p=Math.sqrt(v*v/(1+u*u)),p=a<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),c-=v,f=!f}function wce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let o=1;o<i;o++)t.lineTo(e+n*Math.cos(s*o),r+n*Math.sin(s*o));t.closePath()}const WL={circle:eI,dashedLine:U9,database:z9,diamond:bce,ellipse:GP,ellipse_vis:GP,hexagon:wce,roundRect:B9,square:mce,star:yce,triangle:vce,triangleDown:gce};function xce(t){return Object.prototype.hasOwnProperty.call(WL,t)?WL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var Sw={exports:{}},HL;function _ce(){return HL||(HL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var o,a=0;a<s.length;a++)if(o=s[a],o===i||o.fn===i){s.splice(a,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],o=1;o<arguments.length;o++)i[o-1]=arguments[o];if(s){s=s.slice(0);for(var o=0,a=s.length;o<a;++o)s[o].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(Sw)),Sw.exports}var Sce=_ce(),W9=Oe(Sce),VL={},Ew,KL;function Oa(){if(KL)return Ew;KL=1;var t=_i();return Ew=Array.isArray||function(r){return t(r)==="Array"},Ew}var Ow,GL;function H9(){if(GL)return Ow;GL=1;var t=TypeError,e=9007199254740991;return Ow=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Ow}var Pw,YL;function Qp(){if(YL)return Pw;YL=1;var t=It(),e=jn(),r=Wd();return Pw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Pw}var Cw,QL;function tI(){if(QL)return Cw;QL=1;var t=Lt(),e=t("toStringTag"),r={};return r[e]="z",Cw=String(r)==="[object z]",Cw}var Tw,XL;function Ru(){if(XL)return Tw;XL=1;var t=tI(),e=nr(),r=_i(),n=Lt(),i=n("toStringTag"),s=Object,o=r(function(){return arguments}())==="Arguments",a=function(l,u){try{return l[u]}catch{}};return Tw=t?r:function(l){var u,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=a(u=s(l),i))=="string"?c:o?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Tw}var Iw,JL;function Ece(){if(JL)return Iw;JL=1;var t=Ae(),e=nr(),r=QT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Iw=r.inspectSource,Iw}var Nw,ZL;function V9(){if(ZL)return Nw;ZL=1;var t=Ae(),e=qe(),r=nr(),n=Ru(),i=mn(),s=Ece(),o=function(){},a=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(o),h=function(v){if(!r(v))return!1;try{return a(o,[],v),!0}catch{return!1}},f=function(v){if(!r(v))return!1;switch(n(v)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(v))}catch{return!0}};return f.sham=!0,Nw=!a||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Nw}var Rw,e4;function Oce(){if(e4)return Rw;e4=1;var t=Oa(),e=V9(),r=ir(),n=Lt(),i=n("species"),s=Array;return Rw=function(o){var a;return t(o)&&(a=o.constructor,e(a)&&(a===s||t(a.prototype))?a=void 0:r(a)&&(a=a[i],a===null&&(a=void 0))),a===void 0?s:a},Rw}var $w,t4;function rI(){if(t4)return $w;t4=1;var t=Oce();return $w=function(e,r){return new(t(e))(r===0?0:r)},$w}var jw,r4;function Yd(){if(r4)return jw;r4=1;var t=qe(),e=Lt(),r=Hd(),n=e("species");return jw=function(i){return r>=51||!t(function(){var s=[],o=s.constructor={};return o[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},jw}var n4;function K9(){if(n4)return VL;n4=1;var t=ye(),e=qe(),r=Oa(),n=ir(),i=vn(),s=ls(),o=H9(),a=Qp(),l=rI(),u=Yd(),c=Lt(),h=Hd(),f=c("isConcatSpreadable"),p=h>=51||!e(function(){var w=[];return w[f]=!1,w.concat()[0]!==w}),v=function(w){if(!n(w))return!1;var g=w[f];return g!==void 0?!!g:r(w)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var m=i(this),x=l(m,0),b=0,_,E,O,S,C;for(_=-1,O=arguments.length;_<O;_++)if(C=_===-1?m:arguments[_],v(C))for(S=s(C),o(b+S),E=0;E<S;E++,b++)E in C&&a(x,b,C[E]);else o(b+1),a(x,b++,C);return x.length=b,x}}),VL}var i4={},s4={},kw,o4;function kn(){if(o4)return kw;o4=1;var t=Ru(),e=String;return kw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},kw}var Dw={},a4;function nI(){if(a4)return Dw;a4=1;var t=It(),e=A9(),r=jn(),n=Si(),i=ri(),s=Gd();return Dw.f=t&&!e?Object.defineProperties:function(a,l){n(a);for(var u=i(l),c=s(l),h=c.length,f=0,p;h>f;)r.f(a,p=c[f++],u[p]);return a},Dw}var qw,l4;function Pce(){if(l4)return qw;l4=1;var t=mn();return qw=t("document","documentElement"),qw}var Mw,u4;function Xp(){if(u4)return Mw;u4=1;var t=Cu(),e=Hp(),r=t("keys");return Mw=function(n){return r[n]||(r[n]=e(n))},Mw}var Aw,c4;function Qd(){if(c4)return Aw;c4=1;var t=Si(),e=nI(),r=ZT(),n=Kd(),i=Pce(),s=q9(),o=Xp(),a=">",l="<",u="prototype",c="script",h=o("IE_PROTO"),f=function(){},p=function(m){return l+c+a+m+l+"/"+c+a},v=function(m){m.write(p("")),m.close();var x=m.parentWindow.Object;return m=null,x},y=function(){var m=s("iframe"),x="java"+c+":",b;return m.style.display="none",i.appendChild(m),m.src=String(x),b=m.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},w,g=function(){try{w=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&w?v(w):y():v(w);for(var m=r.length;m--;)delete g[u][r[m]];return g()};return n[h]=!0,Aw=Object.create||function(x,b){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),b===void 0?_:e.f(_,b)},Aw}var Fw={},d4;function Jp(){if(d4)return Fw;d4=1;var t=L9(),e=ZT(),r=e.concat("length","prototype");return Fw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Fw}var Lw={},h4;function iI(){if(h4)return Lw;h4=1;var t=_i(),e=ri(),r=Jp().f,n=Nu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(o){try{return r(o)}catch{return n(i)}};return Lw.f=function(a){return i&&t(a)==="Window"?s(a):r(e(a))},Lw}var Bw,f4;function Xd(){if(f4)return Bw;f4=1;var t=Tu();return Bw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Bw}var zw,p4;function sI(){if(p4)return zw;p4=1;var t=jn();return zw=function(e,r,n){return t.f(e,r,n)},zw}var Uw={},m4;function Zp(){if(m4)return Uw;m4=1;var t=Lt();return Uw.f=t,Uw}var Ww,v4;function vt(){if(v4)return Ww;v4=1;var t=Ve(),e=fr(),r=Zp(),n=jn().f;return Ww=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Ww}var Hw,g4;function G9(){if(g4)return Hw;g4=1;var t=nn(),e=mn(),r=Lt(),n=Xd();return Hw=function(){var i=e("Symbol"),s=i&&i.prototype,o=s&&s.valueOf,a=r("toPrimitive");s&&!s[a]&&n(s,a,function(l){return t(o,this)},{arity:1})},Hw}var Vw,y4;function Cce(){if(y4)return Vw;y4=1;var t=tI(),e=Ru();return Vw=t?{}.toString:function(){return"[object "+e(this)+"]"},Vw}var Kw,b4;function Pa(){if(b4)return Kw;b4=1;var t=tI(),e=jn().f,r=Tu(),n=fr(),i=Cce(),s=Lt(),o=s("toStringTag");return Kw=function(a,l,u,c){var h=u?a:a&&a.prototype;h&&(n(h,o)||e(h,o,{configurable:!0,value:l}),c&&!t&&r(h,"toString",i))},Kw}var Gw,w4;function Y9(){if(w4)return Gw;w4=1;var t=ut(),e=nr(),r=t.WeakMap;return Gw=e(r)&&/native code/.test(String(r)),Gw}var Yw,x4;function Ca(){if(x4)return Yw;x4=1;var t=Y9(),e=ut(),r=ir(),n=Tu(),i=fr(),s=QT(),o=Xp(),a=Kd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,h,f,p,v=function(m){return p(m)?f(m):h(m,{})},y=function(m){return function(x){var b;if(!r(x)||(b=f(x)).type!==m)throw new u("Incompatible receiver, "+m+" required");return b}};if(t||s.state){var w=s.state||(s.state=new c);w.get=w.get,w.has=w.has,w.set=w.set,h=function(m,x){if(w.has(m))throw new u(l);return x.facade=m,w.set(m,x),x},f=function(m){return w.get(m)||{}},p=function(m){return w.has(m)}}else{var g=o("state");a[g]=!0,h=function(m,x){if(i(m,g))throw new u(l);return x.facade=m,n(m,g,x),x},f=function(m){return i(m,g)?m[g]:{}},p=function(m){return i(m,g)}}return Yw={set:h,get:f,has:p,enforce:v,getterFor:y},Yw}var Qw,_4;function ho(){if(_4)return Qw;_4=1;var t=Kp(),e=Ae(),r=Wp(),n=vn(),i=ls(),s=rI(),o=e([].push),a=function(l){var u=l===1,c=l===2,h=l===3,f=l===4,p=l===6,v=l===7,y=l===5||p;return function(w,g,m,x){for(var b=n(w),_=r(b),E=i(_),O=t(g,m),S=0,C=x||s,P=u?C(w,E):c||v?C(w,0):void 0,N,T;E>S;S++)if((y||S in _)&&(N=_[S],T=O(N,S,b),l))if(u)P[S]=T;else if(T)switch(l){case 3:return!0;case 5:return N;case 6:return S;case 2:o(P,N)}else switch(l){case 4:return!1;case 7:o(P,N)}return p?-1:h||f?f:P}};return Qw={forEach:a(0),map:a(1),filter:a(2),some:a(3),every:a(4),find:a(5),findIndex:a(6),filterReject:a(7)},Qw}var S4;function Tce(){if(S4)return s4;S4=1;var t=ye(),e=ut(),r=nn(),n=Ae(),i=Pu(),s=It(),o=Eu(),a=qe(),l=fr(),u=Ft(),c=Si(),h=ri(),f=XT(),p=kn(),v=Wd(),y=Qd(),w=Gd(),g=Jp(),m=iI(),x=Yp(),b=Vp(),_=jn(),E=nI(),O=Up(),S=Xd(),C=sI(),P=Cu(),N=Xp(),T=Kd(),I=Hp(),q=Lt(),B=Zp(),re=vt(),Q=G9(),L=Pa(),G=Ca(),U=ho().forEach,z=N("hidden"),te="Symbol",fe="prototype",ge=G.set,ke=G.getterFor(te),be=Object[fe],xe=e.Symbol,Ie=xe&&xe[fe],gt=e.RangeError,nt=e.TypeError,yt=e.QObject,_r=b.f,Qe=_.f,it=m.f,gn=O.f,Ar=n([].push),Ke=P("symbols"),Bt=P("op-symbols"),ni=P("wks"),zt=!yt||!yt[fe]||!yt[fe].findChild,$=function(K,W,V){var Y=_r(be,W);Y&&delete be[W],Qe(K,W,V),Y&&K!==be&&Qe(be,W,Y)},D=s&&a(function(){return y(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?$:Qe,F=function(K,W){var V=Ke[K]=y(Ie);return ge(V,{type:te,tag:K,description:W}),s||(V.description=W),V},oe=function(W,V,Y){W===be&&oe(Bt,V,Y),c(W);var pe=f(V);return c(Y),l(Ke,pe)?(Y.enumerable?(l(W,z)&&W[z][pe]&&(W[z][pe]=!1),Y=y(Y,{enumerable:v(0,!1)})):(l(W,z)||Qe(W,z,v(1,y(null))),W[z][pe]=!0),D(W,pe,Y)):Qe(W,pe,Y)},ne=function(W,V){c(W);var Y=h(V),pe=w(Y).concat(le(Y));return U(pe,function($e){(!s||r(de,Y,$e))&&oe(W,$e,Y[$e])}),W},X=function(W,V){return V===void 0?y(W):ne(y(W),V)},de=function(W){var V=f(W),Y=r(gn,this,V);return this===be&&l(Ke,V)&&!l(Bt,V)?!1:Y||!l(this,V)||!l(Ke,V)||l(this,z)&&this[z][V]?Y:!0},k=function(W,V){var Y=h(W),pe=f(V);if(!(Y===be&&l(Ke,pe)&&!l(Bt,pe))){var $e=_r(Y,pe);return $e&&l(Ke,pe)&&!(l(Y,z)&&Y[z][pe])&&($e.enumerable=!0),$e}},H=function(W){var V=it(h(W)),Y=[];return U(V,function(pe){!l(Ke,pe)&&!l(T,pe)&&Ar(Y,pe)}),Y},le=function(K){var W=K===be,V=it(W?Bt:h(K)),Y=[];return U(V,function(pe){l(Ke,pe)&&(!W||l(be,pe))&&Ar(Y,Ke[pe])}),Y};return o||(xe=function(){if(u(Ie,this))throw new nt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),V=I(W),Y=function(pe){var $e=this===void 0?e:this;$e===be&&r(Y,Bt,pe),l($e,z)&&l($e[z],V)&&($e[z][V]=!1);var Kt=v(1,pe);try{D($e,V,Kt)}catch(Sr){if(!(Sr instanceof gt))throw Sr;$($e,V,Kt)}};return s&&zt&&D(be,V,{configurable:!0,set:Y}),F(V,W)},Ie=xe[fe],S(Ie,"toString",function(){return ke(this).tag}),S(xe,"withoutSetter",function(K){return F(I(K),K)}),O.f=de,_.f=oe,E.f=ne,b.f=k,g.f=m.f=H,x.f=le,B.f=function(K){return F(q(K),K)},s&&(C(Ie,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!o,sham:!o},{Symbol:xe}),U(w(ni),function(K){re(K)}),t({target:te,stat:!0,forced:!o},{useSetter:function(){zt=!0},useSimple:function(){zt=!1}}),t({target:"Object",stat:!0,forced:!o,sham:!s},{create:X,defineProperty:oe,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!o},{getOwnPropertyNames:H}),Q(),L(xe,te),T[z]=!0,s4}var E4={},Xw,O4;function Q9(){if(O4)return Xw;O4=1;var t=Eu();return Xw=t&&!!Symbol.for&&!!Symbol.keyFor,Xw}var P4;function Ice(){if(P4)return E4;P4=1;var t=ye(),e=mn(),r=fr(),n=kn(),i=Cu(),s=Q9(),o=i("string-to-symbol-registry"),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(o,u))return o[u];var c=e("Symbol")(u);return o[u]=c,a[c]=u,c}}),E4}var C4={},T4;function Nce(){if(T4)return C4;T4=1;var t=ye(),e=fr(),r=Vd(),n=Ou(),i=Cu(),s=Q9(),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(o,l))return o[l]}}),C4}var I4={},Jw,N4;function Rce(){if(N4)return Jw;N4=1;var t=Ae(),e=Oa(),r=nr(),n=_i(),i=kn(),s=t([].push);return Jw=function(o){if(r(o))return o;if(e(o)){for(var a=o.length,l=[],u=0;u<a;u++){var c=o[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var h=l.length,f=!0;return function(p,v){if(f)return f=!1,v;if(e(this))return v;for(var y=0;y<h;y++)if(l[y]===p)return v}}},Jw}var R4;function X9(){if(R4)return I4;R4=1;var t=ye(),e=mn(),r=zp(),n=nn(),i=Ae(),s=qe(),o=nr(),a=Vd(),l=Nu(),u=Rce(),c=Eu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),v=i("".charAt),y=i("".charCodeAt),w=i("".replace),g=i(1.1.toString),m=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var C=e("Symbol")("stringify detection");return f([C])!=="[null]"||f({a:C})!=="{}"||f(Object(C))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(C,P){var N=l(arguments),T=u(P);if(!(!o(T)&&(C===void 0||a(C))))return N[1]=function(I,q){if(o(T)&&(q=n(T,this,h(I),q)),!a(q))return q},r(f,null,N)},S=function(C,P,N){var T=v(N,P-1),I=v(N,P+1);return p(x,C)&&!p(b,I)||p(b,C)&&!p(x,T)?"\\u"+g(y(C,0),16):C};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(P,N,T){var I=l(arguments),q=r(_?O:f,null,I);return E&&typeof q=="string"?w(q,m,S):q}}),I4}var $4={},j4;function $ce(){if(j4)return $4;j4=1;var t=ye(),e=Eu(),r=qe(),n=Yp(),i=vn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(a){var l=n.f;return l?l(i(a)):[]}}),$4}var k4;function J9(){return k4||(k4=1,Tce(),Ice(),Nce(),X9(),$ce()),i4}var D4={},q4;function Z9(){if(q4)return D4;q4=1;var t=vt();return t("asyncDispose"),D4}var M4={},A4;function jce(){if(A4)return M4;A4=1;var t=vt();return t("asyncIterator"),M4}var F4={},L4;function eG(){if(L4)return F4;L4=1;var t=vt();return t("dispose"),F4}var B4={},z4;function kce(){if(z4)return B4;z4=1;var t=vt();return t("hasInstance"),B4}var U4={},W4;function Dce(){if(W4)return U4;W4=1;var t=vt();return t("isConcatSpreadable"),U4}var H4={},V4;function tG(){if(V4)return H4;V4=1;var t=vt();return t("iterator"),H4}var K4={},G4;function qce(){if(G4)return K4;G4=1;var t=vt();return t("match"),K4}var Y4={},Q4;function Mce(){if(Q4)return Y4;Q4=1;var t=vt();return t("matchAll"),Y4}var X4={},J4;function Ace(){if(J4)return X4;J4=1;var t=vt();return t("replace"),X4}var Z4={},eB;function Fce(){if(eB)return Z4;eB=1;var t=vt();return t("search"),Z4}var tB={},rB;function Lce(){if(rB)return tB;rB=1;var t=vt();return t("species"),tB}var nB={},iB;function Bce(){if(iB)return nB;iB=1;var t=vt();return t("split"),nB}var sB={},oB;function rG(){if(oB)return sB;oB=1;var t=vt(),e=G9();return t("toPrimitive"),e(),sB}var aB={},lB;function zce(){if(lB)return aB;lB=1;var t=mn(),e=vt(),r=Pa();return e("toStringTag"),r(t("Symbol"),"Symbol"),aB}var uB={},cB;function Uce(){if(cB)return uB;cB=1;var t=vt();return t("unscopables"),uB}var dB={},hB;function Wce(){if(hB)return dB;hB=1;var t=ut(),e=Pa();return e(t.JSON,"JSON",!0),dB}var Zw,fB;function Hce(){if(fB)return Zw;fB=1,K9(),J9(),Z9(),jce(),eG(),kce(),Dce(),tG(),qce(),Mce(),Ace(),Fce(),Lce(),Bce(),rG(),zce(),Uce(),Wce();var t=Ve();return Zw=t.Symbol,Zw}var pB={},ex,mB;function oI(){return mB||(mB=1,ex=function(){}),ex}var tx,vB;function $u(){return vB||(vB=1,tx={}),tx}var rx,gB;function Vce(){if(gB)return rx;gB=1;var t=It(),e=fr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",o=i&&(!t||t&&n(r,"name").configurable);return rx={EXISTS:i,PROPER:s,CONFIGURABLE:o},rx}var nx,yB;function nG(){if(yB)return nx;yB=1;var t=qe();return nx=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),nx}var ix,bB;function em(){if(bB)return ix;bB=1;var t=fr(),e=nr(),r=vn(),n=Xp(),i=nG(),s=n("IE_PROTO"),o=Object,a=o.prototype;return ix=i?o.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof o?a:null},ix}var sx,wB;function iG(){if(wB)return sx;wB=1;var t=qe(),e=nr(),r=ir(),n=Qd(),i=em(),s=Xd(),o=Lt(),a=Pu(),l=o("iterator"),u=!1,c,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(c=h)):u=!0);var p=!r(c)||t(function(){var v={};return c[l].call(v)!==v});return p?c={}:a&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),sx={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},sx}var ox,xB;function Kce(){if(xB)return ox;xB=1;var t=iG().IteratorPrototype,e=Qd(),r=Wd(),n=Pa(),i=$u(),s=function(){return this};return ox=function(o,a,l,u){var c=a+" Iterator";return o.prototype=e(t,{next:r(+!u,l)}),n(o,c,!1,!0),i[c]=s,o},ox}var ax,_B;function Gce(){if(_B)return ax;_B=1;var t=Ae(),e=as();return ax=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ax}var lx,SB;function Yce(){if(SB)return lx;SB=1;var t=ir();return lx=function(e){return t(e)||e===null},lx}var ux,EB;function Qce(){if(EB)return ux;EB=1;var t=Yce(),e=String,r=TypeError;return ux=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},ux}var cx,OB;function Xce(){if(OB)return cx;OB=1;var t=Gce(),e=ir(),r=os(),n=Qce();return cx=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},o;try{o=t(Object.prototype,"__proto__","set"),o(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?o(l,u):l.__proto__=u),l}}():void 0),cx}var dx,PB;function aI(){if(PB)return dx;PB=1;var t=ye(),e=nn(),r=Pu(),n=Vce(),i=nr(),s=Kce(),o=em(),a=Xce(),l=Pa(),u=Tu(),c=Xd(),h=Lt(),f=$u(),p=iG(),v=n.PROPER,y=n.CONFIGURABLE,w=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,m=h("iterator"),x="keys",b="values",_="entries",E=function(){return this};return dx=function(O,S,C,P,N,T,I){s(C,S,P);var q=function(ge){if(ge===N&&G)return G;if(!g&&ge&&ge in Q)return Q[ge];switch(ge){case x:return function(){return new C(this,ge)};case b:return function(){return new C(this,ge)};case _:return function(){return new C(this,ge)}}return function(){return new C(this)}},B=S+" Iterator",re=!1,Q=O.prototype,L=Q[m]||Q["@@iterator"]||N&&Q[N],G=!g&&L||q(N),U=S==="Array"&&Q.entries||L,z,te,fe;if(U&&(z=o(U.call(new O)),z!==Object.prototype&&z.next&&(!r&&o(z)!==w&&(a?a(z,w):i(z[m])||c(z,m,E)),l(z,B,!0,!0),r&&(f[B]=E))),v&&N===b&&L&&L.name!==b&&(!r&&y?u(Q,"name",b):(re=!0,G=function(){return e(L,this)})),N)if(te={values:q(b),keys:T?G:q(x),entries:q(_)},I)for(fe in te)(g||re||!(fe in Q))&&c(Q,fe,te[fe]);else t({target:S,proto:!0,forced:g||re},te);return(!r||I)&&Q[m]!==G&&c(Q,m,G,{name:N}),f[S]=G,te},dx}var hx,CB;function lI(){return CB||(CB=1,hx=function(t,e){return{value:t,done:e}}),hx}var fx,TB;function ju(){if(TB)return fx;TB=1;var t=ri(),e=oI(),r=$u(),n=Ca(),i=jn().f,s=aI(),o=lI(),a=Pu(),l=It(),u="Array Iterator",c=n.set,h=n.getterFor(u);fx=s(Array,"Array",function(p,v){c(this,{type:u,target:t(p),index:0,kind:v})},function(){var p=h(this),v=p.target,y=p.index++;if(!v||y>=v.length)return p.target=null,o(void 0,!0);switch(p.kind){case"keys":return o(y,!1);case"values":return o(v[y],!1)}return o([y,v[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!a&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return fx}var px,IB;function Jce(){return IB||(IB=1,px={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),px}var NB;function ku(){if(NB)return pB;NB=1,ju();var t=Jce(),e=ut(),r=Pa(),n=$u();for(var i in t)r(e[i],i),n[i]=n.Array;return pB}var mx,RB;function sG(){if(RB)return mx;RB=1;var t=Hce();return ku(),mx=t,mx}var vx,$B;function Zce(){return $B||($B=1,vx=sG()),vx}var ede=Zce(),tde=Oe(ede),jB={},kB;function rde(){if(kB)return jB;kB=1;var t=ye(),e=Oa(),r=V9(),n=ir(),i=Gp(),s=ls(),o=ri(),a=Qp(),l=Lt(),u=Yd(),c=Nu(),h=u("slice"),f=l("species"),p=Array,v=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(w,g){var m=o(this),x=s(m),b=i(w,x),_=i(g===void 0?x:g,x),E,O,S;if(e(m)&&(E=m.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(m,b,_);for(O=new(E===void 0?p:E)(v(_-b,0)),S=0;b<_;b++,S++)b in m&&a(O,S,m[b]);return O.length=S,O}}),jB}var gx,DB;function nde(){if(DB)return gx;DB=1,rde();var t=pr();return gx=t("Array","slice"),gx}var yx,qB;function ide(){if(qB)return yx;qB=1;var t=Ft(),e=nde(),r=Array.prototype;return yx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},yx}var bx,MB;function sde(){if(MB)return bx;MB=1;var t=ide();return bx=t,bx}var wx,AB;function ode(){return AB||(AB=1,wx=sde()),wx}var ade=ode(),fi=Oe(ade),xx,FB;function lde(){if(FB)return xx;FB=1;var t=mn(),e=Ae(),r=Jp(),n=Yp(),i=Si(),s=e([].concat);return xx=t("Reflect","ownKeys")||function(a){var l=r.f(i(a)),u=n.f;return u?s(l,u(a)):l},xx}var LB={},BB;function ude(){if(BB)return LB;BB=1;var t=ye(),e=Oa();return t({target:"Array",stat:!0},{isArray:e}),LB}var _x,zB;function cde(){if(zB)return _x;zB=1,ude();var t=Ve();return _x=t.Array.isArray,_x}var Sx,UB;function dde(){if(UB)return Sx;UB=1;var t=cde();return Sx=t,Sx}var Ex,WB;function hde(){return WB||(WB=1,Ex=dde()),Ex}var fde=hde(),Ot=Oe(fde),HB={},VB;function pde(){if(VB)return HB;VB=1;var t=ye(),e=ho().map,r=Yd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),HB}var Ox,KB;function mde(){if(KB)return Ox;KB=1,pde();var t=pr();return Ox=t("Array","map"),Ox}var Px,GB;function vde(){if(GB)return Px;GB=1;var t=Ft(),e=mde(),r=Array.prototype;return Px=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Px}var Cx,YB;function gde(){if(YB)return Cx;YB=1;var t=vde();return Cx=t,Cx}var Tx,QB;function yde(){return QB||(QB=1,Tx=gde()),Tx}var bde=yde(),Xl=Oe(bde),XB={},JB;function wde(){if(JB)return XB;JB=1;var t=ye(),e=vn(),r=Gd(),n=qe(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(o){return r(e(o))}}),XB}var Ix,ZB;function xde(){if(ZB)return Ix;ZB=1,wde();var t=Ve();return Ix=t.Object.keys,Ix}var Nx,e3;function _de(){if(e3)return Nx;e3=1;var t=xde();return Nx=t,Nx}var Rx,t3;function Sde(){return t3||(t3=1,Rx=_de()),Rx}var Ede=Sde(),_t=Oe(Ede),r3={},n3;function Ode(){if(n3)return r3;n3=1;var t=ye(),e=Ae(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),r3}var $x,i3;function Pde(){if(i3)return $x;i3=1,Ode();var t=Ve();return $x=t.Date.now,$x}var jx,s3;function Cde(){if(s3)return jx;s3=1;var t=Pde();return jx=t,jx}var kx,o3;function Tde(){return o3||(o3=1,kx=Cde()),kx}var Ide=Tde(),Vf=Oe(Ide),a3={},Dx,l3;function Du(){if(l3)return Dx;l3=1;var t=qe();return Dx=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Dx}var qx,u3;function Nde(){if(u3)return qx;u3=1;var t=ho().forEach,e=Du(),r=e("forEach");return qx=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},qx}var c3;function Rde(){if(c3)return a3;c3=1;var t=ye(),e=Nde();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),a3}var Mx,d3;function $de(){if(d3)return Mx;d3=1,Rde();var t=pr();return Mx=t("Array","forEach"),Mx}var Ax,h3;function jde(){if(h3)return Ax;h3=1;var t=$de();return Ax=t,Ax}var Fx,f3;function kde(){if(f3)return Fx;f3=1;var t=Ru(),e=fr(),r=Ft(),n=jde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Fx=function(o){var a=o.forEach;return o===i||r(i,o)&&a===i.forEach||e(s,t(o))?n:a},Fx}var Lx,p3;function Dde(){return p3||(p3=1,Lx=kde()),Lx}var qde=Dde(),Ge=Oe(qde),m3={},v3;function Mde(){if(v3)return m3;v3=1;var t=ye(),e=Ae(),r=Oa(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),m3}var Bx,g3;function Ade(){if(g3)return Bx;g3=1,Mde();var t=pr();return Bx=t("Array","reverse"),Bx}var zx,y3;function Fde(){if(y3)return zx;y3=1;var t=Ft(),e=Ade(),r=Array.prototype;return zx=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},zx}var Ux,b3;function Lde(){if(b3)return Ux;b3=1;var t=Fde();return Ux=t,Ux}var Wx,w3;function Bde(){return w3||(w3=1,Wx=Lde()),Wx}var zde=Bde(),Wo=Oe(zde),x3={},Hx,_3;function Ude(){if(_3)return Hx;_3=1;var t=It(),e=Oa(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Hx=i?function(s,o){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=o}:function(s,o){return s.length=o},Hx}var Vx,S3;function oG(){if(S3)return Vx;S3=1;var t=Ou(),e=TypeError;return Vx=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Vx}var E3;function Wde(){if(E3)return x3;E3=1;var t=ye(),e=vn(),r=Gp(),n=Iu(),i=ls(),s=Ude(),o=H9(),a=rI(),l=Qp(),u=oG(),c=Yd(),h=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,w){var g=e(this),m=i(g),x=r(y,m),b=arguments.length,_,E,O,S,C,P;for(b===0?_=E=0:b===1?(_=0,E=m-x):(_=b-2,E=p(f(n(w),0),m-x)),o(m+_-E),O=a(g,E),S=0;S<E;S++)C=x+S,C in g&&l(O,S,g[C]);if(O.length=E,_<E){for(S=x;S<m-E;S++)C=S+E,P=S+_,C in g?g[P]=g[C]:u(g,P);for(S=m;S>m-E+_;S--)u(g,S-1)}else if(_>E)for(S=m-E;S>x;S--)C=S+E-1,P=S+_-1,C in g?g[P]=g[C]:u(g,P);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,m-E+_),O}}),x3}var Kx,O3;function Hde(){if(O3)return Kx;O3=1,Wde();var t=pr();return Kx=t("Array","splice"),Kx}var Gx,P3;function Vde(){if(P3)return Gx;P3=1;var t=Ft(),e=Hde(),r=Array.prototype;return Gx=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Gx}var Yx,C3;function Kde(){if(C3)return Yx;C3=1;var t=Vde();return Yx=t,Yx}var Qx,T3;function Gde(){return T3||(T3=1,Qx=Kde()),Qx}var Yde=Gde(),Li=Oe(Yde),I3={},N3;function Qde(){if(N3)return I3;N3=1;var t=ye(),e=JT().includes,r=qe(),n=oI(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(o){return e(this,o,arguments.length>1?arguments[1]:void 0)}}),n("includes"),I3}var Xx,R3;function Xde(){if(R3)return Xx;R3=1,Qde();var t=pr();return Xx=t("Array","includes"),Xx}var $3={},Jx,j3;function Jde(){if(j3)return Jx;j3=1;var t=ir(),e=_i(),r=Lt(),n=r("match");return Jx=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},Jx}var Zx,k3;function Zde(){if(k3)return Zx;k3=1;var t=Jde(),e=TypeError;return Zx=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},Zx}var e_,D3;function ehe(){if(D3)return e_;D3=1;var t=Lt(),e=t("match");return e_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},e_}var q3;function the(){if(q3)return $3;q3=1;var t=ye(),e=Ae(),r=Zde(),n=os(),i=kn(),s=ehe(),o=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~o(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),$3}var t_,M3;function rhe(){if(M3)return t_;M3=1,the();var t=pr();return t_=t("String","includes"),t_}var r_,A3;function nhe(){if(A3)return r_;A3=1;var t=Ft(),e=Xde(),r=rhe(),n=Array.prototype,i=String.prototype;return r_=function(s){var o=s.includes;return s===n||t(n,s)&&o===n.includes?e:typeof s=="string"||s===i||t(i,s)&&o===i.includes?r:o},r_}var n_,F3;function ihe(){if(F3)return n_;F3=1;var t=nhe();return n_=t,n_}var i_,L3;function she(){return L3||(L3=1,i_=ihe()),i_}var ohe=she(),Vs=Oe(ohe),B3={},z3;function ahe(){if(z3)return B3;z3=1;var t=ye(),e=qe(),r=vn(),n=em(),i=nG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(a){return n(r(a))}}),B3}var s_,U3;function lhe(){if(U3)return s_;U3=1,ahe();var t=Ve();return s_=t.Object.getPrototypeOf,s_}var o_,W3;function uhe(){if(W3)return o_;W3=1;var t=lhe();return o_=t,o_}var a_,H3;function che(){return H3||(H3=1,a_=uhe()),a_}var dhe=che(),V3=Oe(dhe),l_,K3;function hhe(){if(K3)return l_;K3=1,K9();var t=pr();return l_=t("Array","concat"),l_}var u_,G3;function fhe(){if(G3)return u_;G3=1;var t=Ft(),e=hhe(),r=Array.prototype;return u_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},u_}var c_,Y3;function phe(){if(Y3)return c_;Y3=1;var t=fhe();return c_=t,c_}var d_,Q3;function mhe(){return Q3||(Q3=1,d_=phe()),d_}var vhe=mhe(),ghe=Oe(vhe),X3={},J3;function yhe(){if(J3)return X3;J3=1;var t=ye(),e=ho().filter,r=Yd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),X3}var h_,Z3;function bhe(){if(Z3)return h_;Z3=1,yhe();var t=pr();return h_=t("Array","filter"),h_}var f_,e5;function whe(){if(e5)return f_;e5=1;var t=Ft(),e=bhe(),r=Array.prototype;return f_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},f_}var p_,t5;function xhe(){if(t5)return p_;t5=1;var t=whe();return p_=t,p_}var m_,r5;function _he(){return r5||(r5=1,m_=xhe()),m_}var She=_he(),Wr=Oe(She),n5={},v_,i5;function Ehe(){if(i5)return v_;i5=1;var t=It(),e=qe(),r=Ae(),n=em(),i=Gd(),s=ri(),o=Up().f,a=r(o),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!a(h,2)}),c=function(h){return function(f){for(var p=s(f),v=i(p),y=u&&n(p)===null,w=v.length,g=0,m=[],x;w>g;)x=v[g++],(!t||(y?x in p:a(p,x)))&&l(m,h?[x,p[x]]:p[x]);return m}};return v_={entries:c(!0),values:c(!1)},v_}var s5;function Ohe(){if(s5)return n5;s5=1;var t=ye(),e=Ehe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),n5}var g_,o5;function Phe(){if(o5)return g_;o5=1,Ohe();var t=Ve();return g_=t.Object.values,g_}var y_,a5;function Che(){if(a5)return y_;a5=1;var t=Phe();return y_=t,y_}var b_,l5;function The(){return l5||(l5=1,b_=Che()),b_}var Ihe=The(),Nhe=Oe(Ihe),u5={},w_,c5;function uI(){return c5||(c5=1,w_=`	
\v\f\r \u2028\u2029\uFEFF`),w_}var x_,d5;function aG(){if(d5)return x_;d5=1;var t=Ae(),e=os(),r=kn(),n=uI(),i=t("".replace),s=RegExp("^["+n+"]+"),o=RegExp("(^|[^"+n+"])["+n+"]+$"),a=function(l){return function(u){var c=r(e(u));return l&1&&(c=i(c,s,"")),l&2&&(c=i(c,o,"$1")),c}};return x_={start:a(1),end:a(2),trim:a(3)},x_}var __,h5;function Rhe(){if(h5)return __;h5=1;var t=ut(),e=qe(),r=Ae(),n=kn(),i=aG().trim,s=uI(),o=t.parseInt,a=t.Symbol,l=a&&a.iterator,u=/^[+-]?0x/i,c=r(u.exec),h=o(s+"08")!==8||o(s+"0x16")!==22||l&&!e(function(){o(Object(l))});return __=h?function(p,v){var y=i(n(p));return o(y,v>>>0||(c(u,y)?16:10))}:o,__}var f5;function $he(){if(f5)return u5;f5=1;var t=ye(),e=Rhe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),u5}var S_,p5;function jhe(){if(p5)return S_;p5=1,$he();var t=Ve();return S_=t.parseInt,S_}var E_,m5;function khe(){if(m5)return E_;m5=1;var t=jhe();return E_=t,E_}var O_,v5;function Dhe(){return v5||(v5=1,O_=khe()),O_}var qhe=Dhe(),Hn=Oe(qhe),g5={},y5;function Mhe(){if(y5)return g5;y5=1;var t=ye(),e=GT(),r=JT().indexOf,n=Du(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,o=s||!n("indexOf");return t({target:"Array",proto:!0,forced:o},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),g5}var P_,b5;function Ahe(){if(b5)return P_;b5=1,Mhe();var t=pr();return P_=t("Array","indexOf"),P_}var C_,w5;function Fhe(){if(w5)return C_;w5=1;var t=Ft(),e=Ahe(),r=Array.prototype;return C_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},C_}var T_,x5;function Lhe(){if(x5)return T_;x5=1;var t=Fhe();return T_=t,T_}var I_,_5;function Bhe(){return _5||(_5=1,I_=Lhe()),I_}var zhe=Bhe(),Ue=Oe(zhe),S5={},E5;function Uhe(){if(E5)return S5;E5=1;var t=ye(),e=It(),r=Qd();return t({target:"Object",stat:!0,sham:!e},{create:r}),S5}var N_,O5;function Whe(){if(O5)return N_;O5=1,Uhe();var t=Ve(),e=t.Object;return N_=function(n,i){return e.create(n,i)},N_}var R_,P5;function Hhe(){if(P5)return R_;P5=1;var t=Whe();return R_=t,R_}var $_,C5;function Vhe(){return C5||(C5=1,$_=Hhe()),$_}var Khe=Vhe(),Ho=Oe(Khe),T5={},j_,I5;function Ghe(){if(I5)return j_;I5=1;var t=Iu(),e=kn(),r=os(),n=RangeError;return j_=function(s){var o=e(r(this)),a="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(o+=o))l&1&&(a+=o);return a},j_}var k_,N5;function Yhe(){if(N5)return k_;N5=1;var t=Ae(),e=F9(),r=kn(),n=Ghe(),i=os(),s=t(n),o=t("".slice),a=Math.ceil,l=function(u){return function(c,h,f){var p=r(i(c)),v=e(h),y=p.length,w=f===void 0?" ":r(f),g,m;return v<=y||w===""?p:(g=v-y,m=s(w,a(g/w.length)),m.length>g&&(m=o(m,0,g)),u?p+m:m+p)}};return k_={start:l(!1),end:l(!0)},k_}var D_,R5;function Qhe(){if(R5)return D_;R5=1;var t=Ae(),e=qe(),r=Yhe().start,n=RangeError,i=isFinite,s=Math.abs,o=Date.prototype,a=o.toISOString,l=t(o.getTime),u=t(o.getUTCDate),c=t(o.getUTCFullYear),h=t(o.getUTCHours),f=t(o.getUTCMilliseconds),p=t(o.getUTCMinutes),v=t(o.getUTCMonth),y=t(o.getUTCSeconds);return D_=e(function(){return a.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){a.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,m=c(g),x=f(g),b=m<0?"-":m>9999?"+":"";return b+r(s(m),b?6:4,0)+"-"+r(v(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:a,D_}var $5;function Xhe(){if($5)return T5;$5=1;var t=ye(),e=nn(),r=vn(),n=D9(),i=Qhe(),s=_i(),o=qe(),a=o(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:a},{toJSON:function(u){var c=r(this),h=n(c,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),T5}var q_,j5;function Jhe(){if(j5)return q_;j5=1,Xhe(),X9();var t=Ve(),e=zp();return t.JSON||(t.JSON={stringify:JSON.stringify}),q_=function(n,i,s){return e(t.JSON.stringify,null,arguments)},q_}var M_,k5;function Zhe(){if(k5)return M_;k5=1;var t=Jhe();return M_=t,M_}var A_,D5;function efe(){return D5||(D5=1,A_=Zhe()),A_}var tfe=efe(),Jd=Oe(tfe),q5={},M5={},F_,A5;function lG(){if(A5)return F_;A5=1;var t=ut(),e=Su(),r=_i(),n=function(i){return e.slice(0,i.length)===i};return F_=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),F_}var L_,F5;function rfe(){if(F5)return L_;F5=1;var t=TypeError;return L_=function(e,r){if(e<r)throw new t("Not enough arguments");return e},L_}var B_,L5;function uG(){if(L5)return B_;L5=1;var t=ut(),e=zp(),r=nr(),n=lG(),i=Su(),s=Nu(),o=rfe(),a=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return B_=function(u,c){var h=c?2:1;return l?function(f,p){var v=o(arguments.length,1)>h,y=r(f)?f:a(f),w=v?s(arguments,h):[],g=v?function(){e(y,this,w)}:y;return c?u(g,p):u(g)}:u},B_}var B5;function nfe(){if(B5)return M5;B5=1;var t=ye(),e=ut(),r=uG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),M5}var z5={},U5;function ife(){if(U5)return z5;U5=1;var t=ye(),e=ut(),r=uG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),z5}var W5;function cG(){return W5||(W5=1,nfe(),ife()),q5}var z_,H5;function sfe(){if(H5)return z_;H5=1,cG();var t=Ve();return z_=t.setTimeout,z_}var U_,V5;function ofe(){return V5||(V5=1,U_=sfe()),U_}var afe=ofe(),Bi=Oe(afe),K5={},W_,G5;function lfe(){if(G5)return W_;G5=1;var t=vn(),e=Gp(),r=ls();return W_=function(i){for(var s=t(this),o=r(s),a=arguments.length,l=e(a>1?arguments[1]:void 0,o),u=a>2?arguments[2]:void 0,c=u===void 0?o:e(u,o);c>l;)s[l++]=i;return s},W_}var Y5;function ufe(){if(Y5)return K5;Y5=1;var t=ye(),e=lfe(),r=oI();return t({target:"Array",proto:!0},{fill:e}),r("fill"),K5}var H_,Q5;function cfe(){if(Q5)return H_;Q5=1,ufe();var t=pr();return H_=t("Array","fill"),H_}var V_,X5;function dfe(){if(X5)return V_;X5=1;var t=Ft(),e=cfe(),r=Array.prototype;return V_=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},V_}var K_,J5;function hfe(){if(J5)return K_;J5=1;var t=dfe();return K_=t,K_}var G_,Z5;function ffe(){return Z5||(Z5=1,G_=hfe()),G_}var pfe=ffe(),Zd=Oe(pfe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Jn(){return Jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jn.apply(this,arguments)}function Dn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function kh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var YP;typeof Object.assign!="function"?YP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:YP=Object.assign;var ua=YP,ez=["","webkit","Moz","MS","ms","o"],mfe=typeof document>"u"?{style:{}}:document.createElement("div"),vfe="function",sl=Math.round,ca=Math.abs,cI=Date.now;function tm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<ez.length;){if(r=ez[s],n=r?r+i:e,n in t)return n;s++}}var zi;typeof window>"u"?zi={}:zi=window;var dG=tm(mfe.style,"touchAction"),hG=dG!==void 0;function gfe(){if(!hG)return!1;var t={},e=zi.CSS&&zi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?zi.CSS.supports("touch-action",r):!0}),t}var fG="compute",pG="auto",QP="manipulation",Vo="none",td="pan-x",rd="pan-y",Dh=gfe(),yfe=/mobile|tablet|ip(ad|hone|od)|android/i,mG="ontouchstart"in zi,bfe=tm(zi,"PointerEvent")!==void 0,wfe=mG&&yfe.test(navigator.userAgent),eh="touch",xfe="pen",dI="mouse",_fe="kinect",Sfe=25,kr=1,Ta=2,qt=4,Zr=8,Kf=1,th=2,rh=4,nh=8,Jl=16,wi=th|rh,Ko=nh|Jl,vG=wi|Ko,gG=["x","y"],Gf=["clientX","clientY"];function Ui(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function rm(t,e){return typeof t===vfe?t.apply(e&&e[0]||void 0,e):t}function To(t,e){return t.indexOf(e)>-1}function Efe(t){if(To(t,Vo))return Vo;var e=To(t,td),r=To(t,rd);return e&&r?Vo:e||r?e?td:rd:To(t,QP)?QP:pG}var yG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===fG&&(n=this.compute()),hG&&this.manager.element.style&&Dh[n]&&(this.manager.element.style[dG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Ui(this.manager.recognizers,function(i){rm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Efe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var o=this.actions,a=To(o,Vo)&&!Dh[Vo],l=To(o,rd)&&!Dh[rd],u=To(o,td)&&!Dh[td];if(a){var c=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(c&&h&&f)return}if(!(u&&l)&&(a||l&&s&wi||u&&s&Ko))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function hI(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function bG(t){var e=t.length;if(e===1)return{x:sl(t[0].clientX),y:sl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:sl(r/e),y:sl(n/e)}}function tz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:sl(t.pointers[r].clientX),clientY:sl(t.pointers[r].clientY)},r++;return{timeStamp:cI(),pointers:e,center:bG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Yf(t,e,r){r||(r=gG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function XP(t,e,r){r||(r=gG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function wG(t,e){return t===e?Kf:ca(t)>=ca(e)?t<0?th:rh:e<0?nh:Jl}function Ofe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===kr||s.eventType===qt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function xG(t,e,r){return{x:e/t||0,y:r/t||0}}function Pfe(t,e){return Yf(e[0],e[1],Gf)/Yf(t[0],t[1],Gf)}function Cfe(t,e){return XP(e[1],e[0],Gf)+XP(t[1],t[0],Gf)}function Tfe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,o,a;if(e.eventType!==Zr&&(n>Sfe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=xG(n,l,u);s=c.x,o=c.y,i=ca(c.x)>ca(c.y)?c.x:c.y,a=wG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,o=r.velocityY,a=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=o,e.direction=a}function Ife(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=tz(e)),i>1&&!r.firstMultiple?r.firstMultiple=tz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,o=r.firstMultiple,a=o?o.center:s.center,l=e.center=bG(n);e.timeStamp=cI(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=XP(a,l),e.distance=Yf(a,l),Ofe(r,e),e.offsetDirection=wG(e.deltaX,e.deltaY);var u=xG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=ca(u.x)>ca(u.y)?u.x:u.y,e.scale=o?Pfe(o.pointers,n):1,e.rotation=o?Cfe(o.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Tfe(r,e);var c=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,hI(f,c)&&(c=f),e.target=c}function Nfe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&kr&&n-i===0,o=e&(qt|Zr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!o,s&&(t.session={}),r.eventType=e,Ife(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function nd(t){return t.trim().split(/\s+/g)}function xc(t,e,r){Ui(nd(e),function(n){t.addEventListener(n,r,!1)})}function _c(t,e,r){Ui(nd(e),function(n){t.removeEventListener(n,r,!1)})}function rz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var qu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){rm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&xc(this.element,this.evEl,this.domHandler),this.evTarget&&xc(this.target,this.evTarget,this.domHandler),this.evWin&&xc(rz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&_c(this.element,this.evEl,this.domHandler),this.evTarget&&_c(this.target,this.evTarget,this.domHandler),this.evWin&&_c(rz(this.element),this.evWin,this.domHandler)},t}();function da(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Rfe={pointerdown:kr,pointermove:Ta,pointerup:qt,pointercancel:Zr,pointerout:Zr},$fe={2:eh,3:xfe,4:dI,5:_fe},_G="pointerdown",SG="pointermove pointerup pointercancel";zi.MSPointerEvent&&!zi.PointerEvent&&(_G="MSPointerDown",SG="MSPointerMove MSPointerUp MSPointerCancel");var EG=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=_G,i.evWin=SG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,o=!1,a=i.type.toLowerCase().replace("ms",""),l=Rfe[a],u=$fe[i.pointerType]||i.pointerType,c=u===eh,h=da(s,i.pointerId,"pointerId");l&kr&&(i.button===0||c)?h<0&&(s.push(i),h=s.length-1):l&(qt|Zr)&&(o=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),o&&s.splice(h,1))},e}(qu);function id(t){return Array.prototype.slice.call(t,0)}function fI(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var o=e?t[s][e]:t[s];da(i,o)<0&&n.push(t[s]),i[s]=o,s++}return r&&(e?n=n.sort(function(a,l){return a[e]>l[e]}):n=n.sort()),n}var jfe={touchstart:kr,touchmove:Ta,touchend:qt,touchcancel:Zr},kfe="touchstart touchmove touchend touchcancel",pI=function(t){Dn(e,t);function e(){var n;return e.prototype.evTarget=kfe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=jfe[i.type],o=Dfe.call(this,i,s);o&&this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:eh,srcEvent:i})},e}(qu);function Dfe(t,e){var r=id(t.touches),n=this.targetIds;if(e&(kr|Ta)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,o=id(t.changedTouches),a=[],l=this.target;if(s=r.filter(function(u){return hI(u.target,l)}),e===kr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<o.length;)n[o[i].identifier]&&a.push(o[i]),e&(qt|Zr)&&delete n[o[i].identifier],i++;if(a.length)return[fI(s.concat(a),"identifier",!0),a]}var qfe={mousedown:kr,mousemove:Ta,mouseup:qt},Mfe="mousedown",Afe="mousemove mouseup",mI=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=Mfe,i.evWin=Afe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=qfe[i.type];s&kr&&i.button===0&&(this.pressed=!0),s&Ta&&i.which!==1&&(s=qt),this.pressed&&(s&qt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:dI,srcEvent:i}))},e}(qu),Ffe=2500,nz=25;function iz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var a=i.indexOf(n);a>-1&&i.splice(a,1)};setTimeout(s,Ffe)}}function Lfe(t,e){t&kr?(this.primaryTouch=e.changedPointers[0].identifier,iz.call(this,e)):t&(qt|Zr)&&iz.call(this,e)}function Bfe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),o=Math.abs(r-i.y);if(s<=nz&&o<=nz)return!0}return!1}var OG=function(){var t=function(e){Dn(r,e);function r(i,s){var o;return o=e.call(this,i,s)||this,o.handler=function(a,l,u){var c=u.pointerType===eh,h=u.pointerType===dI;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)Lfe.call(kh(kh(o)),l,u);else if(h&&Bfe.call(kh(kh(o)),u))return;o.callback(a,l,u)}},o.touch=new pI(o.manager,o.handler),o.mouse=new mI(o.manager,o.handler),o.primaryTouch=null,o.lastTouches=[],o}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(qu);return t}();function zfe(t){var e,r=t.options.inputClass;return r?e=r:bfe?e=EG:wfe?e=pI:mG?e=OG:e=mI,new e(t,Nfe)}function ol(t,e,r){return Array.isArray(t)?(Ui(t,r[e],r),!0):!1}var rf=1,Tn=2,Zl=4,Ks=8,Wi=Ks,sd=16,mi=32,Ufe=1;function Wfe(){return Ufe++}function qh(t,e){var r=e.manager;return r?r.get(t):t}function sz(t){return t&sd?"cancel":t&Ks?"end":t&Zl?"move":t&Tn?"start":""}var ih=function(){function t(r){r===void 0&&(r={}),this.options=Jn({enable:!0},r),this.id=Wfe(),this.manager=null,this.state=rf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return ua(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(ol(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=qh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return ol(n,"dropRecognizeWith",this)?this:(n=qh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(ol(n,"requireFailure",this))return this;var i=this.requireFail;return n=qh(n,this),da(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(ol(n,"dropRequireFailure",this))return this;n=qh(n,this);var i=da(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function o(a){i.manager.emit(a,n)}s<Ks&&o(i.options.event+sz(s)),o(i.options.event),n.additionalEvent&&o(n.additionalEvent),s>=Ks&&o(i.options.event+sz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=mi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(mi|rf)))return!1;n++}return!0},e.recognize=function(n){var i=ua({},n);if(!rm(this.options.enable,[this,i])){this.reset(),this.state=mi;return}this.state&(Wi|sd|mi)&&(this.state=rf),this.state=this.process(i),this.state&(Tn|Zl|Ks|sd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),JP=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[QP]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime<o.time;if(this.reset(),i.eventType&kr&&this.count===0)return this.failTimeout();if(l&&u&&a){if(i.eventType!==qt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<o.interval:!0,h=!this.pCenter||Yf(this.pCenter,i.center)<o.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%o.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Wi,s.tryEmit()},o.interval),Tn):Wi}return mi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=mi},this.options.interval),mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Wi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(ih),eu=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,o=i.eventType,a=s&(Tn|Zl),l=this.attrTest(i);return a&&(o&Zr||!l)?s|sd:a||l?o&qt?s|Ks:s&Tn?s|Zl:Tn:mi},e}(ih);function PG(t){return t===Jl?"down":t===nh?"up":t===th?"left":t===rh?"right":""}var vI=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"pan",threshold:10,pointers:1,direction:vG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&wi&&s.push(rd),i&Ko&&s.push(td),s},r.directionTest=function(i){var s=this.options,o=!0,a=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&wi?(l=u===0?Kf:u<0?th:rh,o=u!==this.pX,a=Math.abs(i.deltaX)):(l=c===0?Kf:c<0?nh:Jl,o=c!==this.pY,a=Math.abs(i.deltaY))),i.direction=l,o&&a>s.threshold&&l&s.direction},r.attrTest=function(i){return eu.prototype.attrTest.call(this,i)&&(this.state&Tn||!(this.state&Tn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=PG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(eu),CG=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"swipe",threshold:10,velocity:.3,direction:wi|Ko,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return vI.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,o;return s&(wi|Ko)?o=i.overallVelocity:s&wi?o=i.overallVelocityX:s&Ko&&(o=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&ca(o)>this.options.velocity&&i.eventType&qt},r.emit=function(i){var s=PG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(eu),TG=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Vo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Tn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(eu),IG=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Vo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Tn)},e}(eu),NG=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[pG]},r.process=function(i){var s=this,o=this.options,a=i.pointers.length===o.pointers,l=i.distance<o.threshold,u=i.deltaTime>o.time;if(this._input=i,!l||!a||i.eventType&(qt|Zr)&&!u)this.reset();else if(i.eventType&kr)this.reset(),this._timer=setTimeout(function(){s.state=Wi,s.tryEmit()},o.time);else if(i.eventType&qt)return Wi;return mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Wi&&(i&&i.eventType&qt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=cI(),this.manager.emit(this.options.event,this._input)))},e}(ih),RG={domEvents:!1,touchAction:fG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},oz=[[IG,{enable:!1}],[TG,{enable:!1},["rotate"]],[CG,{direction:wi}],[vI,{direction:wi},["swipe"]],[JP],[JP,{event:"doubletap",taps:2},["tap"]],[NG]],Hfe=1,az=2;function lz(t,e){var r=t.element;if(r.style){var n;Ui(t.options.cssProps,function(i,s){n=tm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Vfe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var uz=function(){function t(r,n){var i=this;this.options=ua({},RG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=zfe(this),this.touchAction=new yG(this,this.options.touchAction),lz(this,!0),Ui(this.options.recognizers,function(s){var o=i.add(new s[0](s[1]));s[2]&&o.recognizeWith(s[2]),s[3]&&o.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return ua(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?az:Hfe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,o=this.recognizers,a=i.curRecognizer;(!a||a&&a.state&Wi)&&(i.curRecognizer=null,a=null);for(var l=0;l<o.length;)s=o[l],i.stopped!==az&&(!a||s===a||s.canRecognizeWith(a))?s.recognize(n):s.reset(),!a&&s.state&(Tn|Zl|Ks)&&(i.curRecognizer=s,a=s),l++}},e.get=function(n){if(n instanceof ih)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(ol(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(ol(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,o=da(s,i);o!==-1&&(s.splice(o,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Ui(nd(n),function(o){s[o]=s[o]||[],s[o].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Ui(nd(n),function(o){i?s[o]&&s[o].splice(da(s[o],i),1):delete s[o]}),this},e.emit=function(n,i){this.options.domEvents&&Vfe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var o=0;o<s.length;)s[o](i),o++}},e.destroy=function(){this.element&&lz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Kfe={touchstart:kr,touchmove:Ta,touchend:qt,touchcancel:Zr},Gfe="touchstart",Yfe="touchstart touchmove touchend touchcancel",Qfe=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Gfe,i.evWin=Yfe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Kfe[i.type];if(s===kr&&(this.started=!0),!!this.started){var o=Xfe.call(this,i,s);s&(qt|Zr)&&o[0].length-o[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:o[0],changedPointers:o[1],pointerType:eh,srcEvent:i})}},e}(qu);function Xfe(t,e){var r=id(t.touches),n=id(t.changedTouches);return e&(qt|Zr)&&(r=fI(r.concat(n),"identifier",!0)),[r,n]}function $G(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",o=window.console&&(window.console.warn||window.console.log);return o&&o.call(window.console,n,s),t.apply(this,arguments)}}var jG=$G(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Jfe=$G(function(t,e){return jG(t,e,!0)},"merge","Use `assign`.");function Zfe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&ua(i,r)}function cz(t,e){return function(){return t.apply(e,arguments)}}var kG=function(){var t=function(r,n){return n===void 0&&(n={}),new uz(r,Jn({recognizers:oz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=vG,t.DIRECTION_DOWN=Jl,t.DIRECTION_LEFT=th,t.DIRECTION_RIGHT=rh,t.DIRECTION_UP=nh,t.DIRECTION_HORIZONTAL=wi,t.DIRECTION_VERTICAL=Ko,t.DIRECTION_NONE=Kf,t.DIRECTION_DOWN=Jl,t.INPUT_START=kr,t.INPUT_MOVE=Ta,t.INPUT_END=qt,t.INPUT_CANCEL=Zr,t.STATE_POSSIBLE=rf,t.STATE_BEGAN=Tn,t.STATE_CHANGED=Zl,t.STATE_ENDED=Ks,t.STATE_RECOGNIZED=Wi,t.STATE_CANCELLED=sd,t.STATE_FAILED=mi,t.Manager=uz,t.Input=qu,t.TouchAction=yG,t.TouchInput=pI,t.MouseInput=mI,t.PointerEventInput=EG,t.TouchMouseInput=OG,t.SingleTouchInput=Qfe,t.Recognizer=ih,t.AttrRecognizer=eu,t.Tap=JP,t.Pan=vI,t.Swipe=CG,t.Pinch=TG,t.Rotate=IG,t.Press=NG,t.on=xc,t.off=_c,t.each=Ui,t.merge=Jfe,t.extend=jG,t.bindFn=cz,t.assign=ua,t.inherit=Zfe,t.bindFn=cz,t.prefixed=tm,t.toArray=id,t.inArray=da,t.uniqueArray=fI,t.splitStr=nd,t.boolOrFn=rm,t.hasParent=hI,t.addEventListeners=xc,t.removeEventListeners=_c,t.defaults=ua({},RG,{preset:oz}),t}();kG.defaults;tde("DELETE");function nm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return epe(e.length?e:[Vf()])}function epe(t){let[e,r,n]=tpe(t),i=1;const s=()=>{const o=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=o-(i=o|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function tpe(){const t=rpe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function rpe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function npe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const gI=typeof window<"u"?window.Hammer||kG:function(){return npe()};function vi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=gI(this._dom.overlay);r.on("tap",ee(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ge(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{ipe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}W9(vi.prototype);vi.current=null;vi.prototype.destroy=function(){this.deactivate();for(const r of Wo(t=Li(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};vi.prototype.activate=function(){vi.current&&vi.current.deactivate(),vi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};vi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};vi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function ipe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const spe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ope=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ape=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,lpe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ms(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(ms(e),t.removeChild(e))}}function pl(t){return t instanceof String||typeof t=="string"}function dz(t){return typeof t=="object"&&t!==null}function ha(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function DG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")ha(t,e,n,r);else{const i=t[n],s=e[n];dz(i)&&dz(s)&&DG(i,s,r)}}function Mu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?et(e[s],r[s],!1,n):ha(e,r,s,n);else{if(Ot(r[s]))throw new TypeError("Arrays are not supported by deepExtend");ha(e,r,s,n)}}return e}function Qf(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Vs(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?et(e[i],r[i]):ha(e,r,i,n);else if(Ot(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else ha(e,r,i,n);return e}function et(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&V3(e[s])===Object.prototype)t[s]===void 0?t[s]=et({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&V3(t[s])===Object.prototype?et(t[s],e[s],r):ha(t,e,s,n);else if(Ot(e[s])){var i;t[s]=fi(i=e[s]).call(i)}else ha(t,e,s,n);return t}function Xf(t,e){return[...t,e]}function upe(t){return fi(t).call(t)}function cpe(t){return t.getBoundingClientRect().left}function dpe(t){return t.getBoundingClientRect().top}function Re(t,e){if(Ot(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function yI(t){let e;switch(t.length){case 3:case 4:return e=ope.exec(t),e?{r:Hn(e[1]+e[1],16),g:Hn(e[2]+e[2],16),b:Hn(e[3]+e[3],16)}:null;case 6:case 7:return e=spe.exec(t),e?{r:Hn(e[1],16),g:Hn(e[2],16),b:Hn(e[3],16)}:null;default:return null}}function En(t,e){if(Vs(t).call(t,"rgba"))return t;if(Vs(t).call(t,"rgb")){const r=t.substr(Ue(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=yI(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function qG(t,e,r){var n;return"#"+fi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function ZP(t,e){if(pl(t)){let n=t;if(AG(n)){var r;const i=Xl(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Hn(s)});n=qG(i[0],i[1],i[2])}if(MG(n)===!0){const i=hpe(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},o={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},a=eC(o.h,o.s,o.v),l=eC(s.h,s.s,s.v);return{background:n,border:a,highlight:{background:l,border:a},hover:{background:l,border:a}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:pl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:pl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function oc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,a=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:a,s:l,v:i}}function nf(t,e,r){let n,i,s;const o=Math.floor(t*6),a=t*6-o,l=r*(1-e),u=r*(1-a*e),c=r*(1-(1-a)*e);switch(o%6){case 0:n=r,i=c,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=c;break;case 3:n=l,i=u,s=r;break;case 4:n=c,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function eC(t,e,r){const n=nf(t,e,r);return qG(n.r,n.g,n.b)}function hpe(t){const e=yI(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return oc(e.r,e.g,e.b)}function MG(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function AG(t){return ape.test(t)}function fpe(t){return lpe.test(t)}function Gs(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Ho(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Gs(t[r]));return e}function xn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},o=function(p){for(const v in p)if(Object.prototype.hasOwnProperty.call(p,v))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const a=function(p,v,y){s(p[y])||(p[y]={});const w=v[y],g=p[y];for(const m in w)Object.prototype.hasOwnProperty.call(w,m)&&(g[m]=w[m])},l=e[r],c=s(n)&&!o(n)?n[r]:void 0,h=c?c.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(c))t[r]=Ho(c);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=c.enabled),a(t,e,r),t[r].enabled=f}const ppe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function vs(t,e){let r;Ot(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const mpe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let vpe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return mpe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),pl(e)===!0){if(AG(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(fpe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(MG(e)===!0){const s=yI(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Jd(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Dt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Bi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Dt({},e)),this.color=e;const n=oc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,o=this.centerCoordinates.x+s*Math.sin(i*n.h),a=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=o-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=a-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=oc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=nf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=oc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Zd(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const o=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(o.webkitBackingStorePixelRatio||o.mozBackingStorePixelRatio||o.msBackingStorePixelRatio||o.oBackingStorePixelRatio||o.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const o=document.createElement("DIV");o.style.color="red",o.style.fontWeight="bold",o.style.padding="10px",o.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(o)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=ee(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=ee(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=ee(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=ee(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new gI(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,o,a;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,c=1/this.r;let h;for(o=0;o<360;o++)for(a=0;a<this.r;a++)i=this.centerCoordinates.x+a*Math.sin(l*o),s=this.centerCoordinates.y+a*Math.cos(l*o),h=nf(o*u,a*c,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,o=.5*this.colorPickerDiv.clientWidth,a=n-o,l=i-s,u=Math.atan2(a,l),c=.98*Math.min(Math.sqrt(a*a+l*l),o),h=Math.cos(u)*c+s,f=Math.sin(u)*c+o;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const v=c/this.r,y=oc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=v;const w=nf(y.h,y.s,y.v);w.a=this.color.a,this.color=w,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function tC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(tC(...fi(e).call(e,1))),n}}let gpe=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Dt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new vpe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Ot(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Wr(e)!==void 0&&(this.options.filter=Wr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Wr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Wr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ue(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ge(n).call(n,o=>{s.appendChild(o)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(tC("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ue(e).call(e,r)!==-1&&(s=Ue(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const o=this;i.onchange=function(){o._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeRange(e,r,n){const i=e[0],s=e[1],o=e[2],a=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=o}catch{}l.step=a;let u="",c=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),c=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),c=l.min,u="range increased"),r*1.2>o&&o!==1&&(l.max=Math.ceil(r*1.2),c=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),v=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[v]!==c&&(this.popupHistory[v]=c,this._setupPopup(u,v))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Bi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Bi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Wr(this.options);let o=!1;for(const a in e)if(Object.prototype.hasOwnProperty.call(e,a)){i=!0;const l=e[a],u=Xf(r,a);if(typeof s=="function"&&(i=s(a,r),i===!1&&!Ot(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){o=!0;const c=this._getValue(u);if(Ot(l))this._handleArray(l,c,u);else if(typeof l=="string")this._makeTextInput(l,c,u);else if(typeof l=="boolean")this._makeCheckbox(l,c,u);else if(l instanceof Object){if(!this.hideOption(r,a,this.moduleOptions))if(l.enabled!==void 0){const h=Xf(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(a,u,!0);this._makeItem(u,p),o=this._handleObject(l,u)||o}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(a,u,!0);this._makeItem(u,h),o=this._handleObject(l,u)||o}}else console.error("dont know how to handle",l,a,u)}}return o}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(tC("pre","const options = "+Jd(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},ype=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Hn(e),this.y=Hn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let o=0,a=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?o=this.x-n:o=this.x,u?a=this.y-r:a=this.y}else a=this.y-r,a+r+this.padding>i&&(a=i-r-this.padding),a<this.padding&&(a=this.padding),o=this.x,o+n+this.padding>s&&(o=s-n-this.padding),o<this.padding&&(o=this.padding);this.frame.style.left=o+"px",this.frame.style.top=a+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Zu=!1,hz;const rC="background: #FFeeee; color: #dd0000";let bpe=class bt{static validate(e,r,n){Zu=!1,hz=r;let i=r;return n!==void 0&&(i=r[n]),bt.parse(e,i,[]),Zu}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&bt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){bt.getSuggestion(e,n,i);return}let s=e,o=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",o=bt.getType(r[e])==="object");let a=n[s];o&&a.__type__!==void 0&&(a=a.__type__),bt.checkFields(e,r,n,s,a,i)}static checkFields(e,r,n,i,s,o){const a=function(c){console.error("%c"+c+bt.printLocation(o,e),rC)},l=bt.getType(r[e]),u=s[l];u!==void 0?bt.getType(u)==="array"&&Ue(u).call(u,r[e])===-1?(a('Invalid option detected in "'+e+'". Allowed values are:'+bt.print(u)+' not "'+r[e]+'". '),Zu=!0):l==="object"&&i!=="__any__"&&(o=Xf(o,e),bt.parse(r[e],n[i],o)):s.any===void 0&&(a('Invalid type received for "'+e+'". Expected: '+bt.print(_t(s))+". Received ["+l+'] "'+r[e]+'"'),Zu=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ot(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=bt.findInOptions(e,r,n,!1),s=bt.findInOptions(e,hz,[],!0),o=8,a=4;let l;i.indexMatch!==void 0?l=" in "+bt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=a&&i.distance>s.distance?l=" in "+bt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+bt.printLocation(s.path,s.closestMatch,""):i.distance<=o?l='. Did you mean "'+i.closestMatch+'"?'+bt.printLocation(i.path,e):l=". Did you mean one of these: "+bt.print(_t(r))+bt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,rC),Zu=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,o="",a=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=bt.findInOptions(e,r[h],Xf(n,h));s>p.distance&&(o=p.closestMatch,a=p.path,s=p.distance,u=p.indexMatch)}else{var c;Ue(c=h.toLowerCase()).call(c,l)!==-1&&(u=h),f=bt.levenshteinDistance(e,h),s>f&&(o=h,a=upe(n),s=f)}}return{closestMatch:o,path:a,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let o=0;o<s+1;o++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let o=0;o<e.length-s;o++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Jd(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const wpe=vi,xpe=gpe,ml=gI,_pe=ype,FG=rC,Spe=bpe;function Epe(t){return js=t,Tpe()}var LG={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},bI=Ho(LG);bI.color="color.color";bI.style="dashes";var Tr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},fz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},js="",tu=0,Ne="",_e="",zr=Tr.NULL;function Ope(){tu=0,Ne=js.charAt(0)}function Gt(){tu++,Ne=js.charAt(tu)}function La(){return js.charAt(tu+1)}function pz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function eo(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Ppe(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function BG(t,e){for(var r,n,i=null,s=[t],o=t;o.parent;)s.push(o.parent),o=o.parent;if(o.nodes){for(r=0,n=o.nodes.length;r<n;r++)if(e.id===o.nodes[r].id){i=o.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=eo(i.attr,t.node))),r=s.length-1;r>=0;r--){var a,l=s[r];l.nodes||(l.nodes=[]),Ue(a=l.nodes).call(a,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=eo(i.attr,e.attr))}function Cpe(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=eo({},t.edge);e.attr=eo(r,e.attr)}}function zG(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=eo({},t.edge)),s.attr=eo(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function tt(){for(zr=Tr.NULL,_e="";Ne===" "||Ne==="	"||Ne===`
`||Ne==="\r";)Gt();do{var t=!1;if(Ne==="#"){for(var e=tu-1;js.charAt(e)===" "||js.charAt(e)==="	";)e--;if(js.charAt(e)===`
`||js.charAt(e)===""){for(;Ne!=""&&Ne!=`
`;)Gt();t=!0}}if(Ne==="/"&&La()==="/"){for(;Ne!=""&&Ne!=`
`;)Gt();t=!0}if(Ne==="/"&&La()==="*"){for(;Ne!="";)if(Ne==="*"&&La()==="/"){Gt(),Gt();break}else Gt();t=!0}for(;Ne===" "||Ne==="	"||Ne===`
`||Ne==="\r";)Gt()}while(t);if(Ne===""){zr=Tr.DELIMITER;return}var r=Ne+La();if(fz[r]){zr=Tr.DELIMITER,_e=r,Gt(),Gt();return}if(fz[Ne]){zr=Tr.DELIMITER,_e=Ne,Gt();return}if(pz(Ne)||Ne==="-"){for(_e+=Ne,Gt();pz(Ne);)_e+=Ne,Gt();_e==="false"?_e=!1:_e==="true"?_e=!0:isNaN(Number(_e))||(_e=Number(_e)),zr=Tr.IDENTIFIER;return}if(Ne==='"'){for(Gt();Ne!=""&&(Ne!='"'||Ne==='"'&&La()==='"');)Ne==='"'?(_e+=Ne,Gt()):Ne==="\\"&&La()==="n"?(_e+=`
`,Gt()):_e+=Ne,Gt();if(Ne!='"')throw Ir('End of string " expected');Gt(),zr=Tr.IDENTIFIER;return}for(zr=Tr.UNKNOWN;Ne!="";)_e+=Ne,Gt();throw new SyntaxError('Syntax error in part "'+VG(_e,30)+'"')}function Tpe(){var t={};if(Ope(),tt(),_e==="strict"&&(t.strict=!0,tt()),(_e==="graph"||_e==="digraph")&&(t.type=_e,tt()),zr===Tr.IDENTIFIER&&(t.id=_e,tt()),_e!="{")throw Ir("Angle bracket { expected");if(tt(),UG(t),_e!="}")throw Ir("Angle bracket } expected");if(tt(),_e!=="")throw Ir("End of file expected");return tt(),delete t.node,delete t.edge,delete t.graph,t}function UG(t){for(;_e!==""&&_e!="}";)Ipe(t),_e===";"&&tt()}function Ipe(t){var e=WG(t);if(e){HG(t,e);return}var r=Npe(t);if(!r){if(zr!=Tr.IDENTIFIER)throw Ir("Identifier expected");var n=_e;if(tt(),_e==="="){if(tt(),zr!=Tr.IDENTIFIER)throw Ir("Identifier expected");t[n]=_e,tt()}else Rpe(t,n)}}function WG(t){var e=null;if(_e==="subgraph"&&(e={},e.type="subgraph",tt(),zr===Tr.IDENTIFIER&&(e.id=_e,tt())),_e==="{"){if(tt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,UG(e),_e!="}")throw Ir("Angle bracket } expected");tt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Npe(t){return _e==="node"?(tt(),t.node=Sc(),"node"):_e==="edge"?(tt(),t.edge=Sc(),"edge"):_e==="graph"?(tt(),t.graph=Sc(),"graph"):null}function Rpe(t,e){var r={id:e},n=Sc();n&&(r.attr=n),BG(t,r),HG(t,e)}function HG(t,e){for(;_e==="->"||_e==="--";){var r,n=_e;tt();var i=WG(t);if(i)r=i;else{if(zr!=Tr.IDENTIFIER)throw Ir("Identifier or subgraph expected");r=_e,BG(t,{id:r}),tt()}var s=Sc(),o=zG(t,e,r,n,s);Cpe(t,o),e=r}}function Sc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;_e==="[";){for(tt(),e={};_e!==""&&_e!="]";){if(zr!=Tr.IDENTIFIER)throw Ir("Attribute name expected");var o=_e;if(tt(),_e!="=")throw Ir("Equal sign = expected");if(tt(),zr!=Tr.IDENTIFIER)throw Ir("Attribute value expected");var a=_e;o==="style"&&(a=r[a]);var l;o==="arrowhead"&&(l=n[a],o="arrows",a={to:{enabled:!0,type:l}}),o==="arrowtail"&&(l=n[a],o="arrows",a={from:{enabled:!0,type:l}}),i.push({attr:e,name:o,value:a}),s.push(o),tt(),_e==","&&tt()}if(_e!="]")throw Ir("Bracket ] expected");tt()}if(Vs(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Ir("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var c=i[u.dir].value;if(!Vs(s).call(s,"arrows"))if(c==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(c==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Ir('Invalid dir type "'+c+'"');var h,f;if(c==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},Li(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(c==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(c==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(c==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Ir('Invalid dir type "'+c+'"');Li(i).call(i,u.dir,1)}var v;if(Vs(s).call(s,"penwidth")){var y=[];for(v=i.length,t=0;t<v;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(v=i.length,t=0;t<v;t++)Ppe(i[t].attr,i[t].name,i[t].value);return e}function Ir(t){return new SyntaxError(t+', got "'+VG(_e,30)+'" (char '+tu+")")}function VG(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function $pe(t,e,r){Ot(t)?Ge(t).call(t,function(n){Ot(e)?Ge(e).call(e,function(i){r(n,i)}):r(n,e)}):Ot(e)?Ge(e).call(e,function(n){r(t,n)}):r(t,e)}function Y_(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,o=0;o<n.length;o++){var a=n[o];a in s||(s[a]={}),s=s[a]}return s[i]=r,t}function mz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Ot(i)?Ge(i).call(i,function(s){Y_(r,s,t[n])}):typeof i=="string"?Y_(r,i,t[n]):Y_(r,n,t[n])}return r}function jpe(t){var e=Epe(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Ge(n=e.nodes).call(n,function(o){var a={id:o.id,label:String(o.label||o.id)};eo(a,mz(o.attr,LG)),a.image&&(a.shape="image"),r.nodes.push(a)})}if(e.edges){var i,s=function(o){var a={from:o.from,to:o.to};return eo(a,mz(o.attr,bI)),a.arrows==null&&o.type==="->"&&(a.arrows="to"),a};Ge(i=e.edges).call(i,function(o){var a,l;if(o.from instanceof Object?a=o.from.nodes:a={id:o.from},o.to instanceof Object?l=o.to.nodes:l={id:o.to},o.from instanceof Object&&o.from.edges){var u;Ge(u=o.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if($pe(a,l,function(h,f){var p=zG(r,h.id,f.id,o.type,o.attr),v=s(p);r.edges.push(v)}),o.to instanceof Object&&o.to.edges){var c;Ge(c=o.to.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function kpe(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=Xl(i).call(i,a=>{const l={from:a.source,id:a.id,to:a.target};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.type==="Directed"&&(l.arrows="to"),a.color&&n.edges.inheritColor===!1&&(l.color=a.color),l});return{nodes:Xl(r=t.nodes).call(r,a=>{const l={id:a.id,fixed:n.nodes.fixed&&a.x!=null&&a.y!=null};return a.attributes!=null&&(l.attributes=a.attributes),a.label!=null&&(l.label=a.label),a.size!=null&&(l.size=a.size),a.attributes!=null&&a.attributes.title!=null&&(l.title=a.attributes.title),a.title!=null&&(l.title=a.title),a.x!=null&&(l.x=a.x),a.y!=null&&(l.y=a.y),a.color!=null&&(n.nodes.parseColor===!0?l.color=a.color:l.color={background:a.color,border:a.color,highlight:{background:a.color,border:a.color},hover:{background:a.color,border:a.color}}),l}),edges:s}}const Dpe={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},qpe={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Mpe={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Ape={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Fpe={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Lpe={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Bpe={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},zpe={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Upe={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Wpe={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Hpe={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Vpe=Object.freeze({__proto__:null,cn:zpe,cs:Hpe,de:qpe,en:Dpe,es:Mpe,fr:Wpe,it:Ape,nl:Fpe,pt:Lpe,ru:Bpe,uk:Upe});function Kpe(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,o=i!=null?i.toUpperCase():null;if(s&&o){const a=s+"-"+o;if(Object.prototype.hasOwnProperty.call(t,a))return a;var r;console.warn(ghe(r="Unknown variant ".concat(o," of language ")).call(r,s,"."))}if(s){const a=s;if(Object.prototype.hasOwnProperty.call(t,a))return a;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Gpe{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),o=Math.floor(r/16),a=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,a,n],[a,0,l,i],[a,i,u,s],[5*u,i,c,o]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,o){if(this.initialized())if(r>2){r*=.5;let a=0;for(;r>2&&a<this.NUM_ITERATIONS;)r*=.5,a+=1;a>=this.NUM_ITERATIONS&&(a=this.NUM_ITERATIONS-1);const l=this.coordinates[a];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,o)}else e.drawImage(this.image,n,i,s,o)}}class Ype{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Gpe;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var vz={},gz={},Q_={exports:{}},X_,yz;function Qpe(){if(yz)return X_;yz=1;var t=qe();return X_=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),X_}var J_,bz;function Xpe(){if(bz)return J_;bz=1;var t=qe(),e=ir(),r=_i(),n=Qpe(),i=Object.isExtensible,s=t(function(){});return J_=s||n?function(a){return!e(a)||n&&r(a)==="ArrayBuffer"?!1:i?i(a):!0}:i,J_}var Z_,wz;function KG(){if(wz)return Z_;wz=1;var t=qe();return Z_=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Z_}var xz;function im(){if(xz)return Q_.exports;xz=1;var t=ye(),e=Ae(),r=Kd(),n=ir(),i=fr(),s=jn().f,o=Jp(),a=iI(),l=Xpe(),u=Hp(),c=KG(),h=!1,f=u("meta"),p=0,v=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";v(b)}return b[f].objectID},w=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;v(b)}return b[f].weakData},g=function(b){return c&&h&&l(b)&&!i(b,f)&&v(b),b},m=function(){x.enable=function(){},h=!0;var b=o.f,_=e([].splice),E={};E[f]=1,b(E).length&&(o.f=function(O){for(var S=b(O),C=0,P=S.length;C<P;C++)if(S[C]===f){_(S,C,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:a.f}))},x=Q_.exports={enable:m,fastKey:y,getWeakData:w,onFreeze:g};return r[f]=!0,Q_.exports}var eS,_z;function Jpe(){if(_z)return eS;_z=1;var t=Lt(),e=$u(),r=t("iterator"),n=Array.prototype;return eS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},eS}var tS,Sz;function GG(){if(Sz)return tS;Sz=1;var t=Ru(),e=YT(),r=_u(),n=$u(),i=Lt(),s=i("iterator");return tS=function(o){if(!r(o))return e(o,s)||e(o,"@@iterator")||n[t(o)]},tS}var rS,Ez;function Zpe(){if(Ez)return rS;Ez=1;var t=nn(),e=as(),r=Si(),n=Ou(),i=GG(),s=TypeError;return rS=function(o,a){var l=arguments.length<2?i(o):a;if(e(l))return r(t(l,o));throw new s(n(o)+" is not iterable")},rS}var nS,Oz;function wI(){if(Oz)return nS;Oz=1;var t=nn(),e=Si(),r=YT();return nS=function(n,i,s){var o,a;e(n);try{if(o=r(n,"return"),!o){if(i==="throw")throw s;return s}o=t(o,n)}catch(l){a=!0,o=l}if(i==="throw")throw s;if(a)throw o;return e(o),s},nS}var iS,Pz;function sm(){if(Pz)return iS;Pz=1;var t=Kp(),e=nn(),r=Si(),n=Ou(),i=Jpe(),s=ls(),o=Ft(),a=Zpe(),l=GG(),u=wI(),c=TypeError,h=function(p,v){this.stopped=p,this.result=v},f=h.prototype;return iS=function(p,v,y){var w=y&&y.that,g=!!(y&&y.AS_ENTRIES),m=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(v,w),E,O,S,C,P,N,T,I=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),b?_(B[0],B[1],I):_(B[0],B[1])):b?_(B,I):_(B)};if(m)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,C=s(p);C>S;S++)if(P=q(p[S]),P&&o(f,P))return P;return new h(!1)}E=a(p,O)}for(N=m?p.next:E.next;!(T=e(N,E)).done;){try{P=q(T.value)}catch(B){u(E,"throw",B)}if(typeof P=="object"&&P&&o(f,P))return P}return new h(!1)},iS}var sS,Cz;function xI(){if(Cz)return sS;Cz=1;var t=Ft(),e=TypeError;return sS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},sS}var oS,Tz;function _I(){if(Tz)return oS;Tz=1;var t=ye(),e=ut(),r=im(),n=qe(),i=Tu(),s=sm(),o=xI(),a=nr(),l=ir(),u=_u(),c=Pa(),h=jn().f,f=ho().forEach,p=It(),v=Ca(),y=v.set,w=v.getterFor;return oS=function(g,m,x){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",O=e[g],S=O&&O.prototype,C={},P;if(!p||!a(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))P=x.getConstructor(m,g,b,E),r.enable();else{P=m(function(I,q){y(o(I,N),{type:g,collection:new O}),u(q)||s(q,I[E],{that:I,AS_ENTRIES:b})});var N=P.prototype,T=w(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(I){var q=I==="add"||I==="set";I in S&&!(_&&I==="clear")&&i(N,I,function(B,re){var Q=T(this).collection;if(!q&&_&&!l(B))return I==="get"?void 0:!1;var L=Q[I](B===0?0:B,re);return q?this:L})}),_||h(N,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return c(P,g,!1,!0),C[g]=P,t({global:!0,forced:!0},C),_||x.setStrong(P,g,b),P},oS}var aS,Iz;function SI(){if(Iz)return aS;Iz=1;var t=Xd();return aS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},aS}var lS,Nz;function eme(){if(Nz)return lS;Nz=1;var t=mn(),e=sI(),r=Lt(),n=It(),i=r("species");return lS=function(s){var o=t(s);n&&o&&!o[i]&&e(o,i,{configurable:!0,get:function(){return this}})},lS}var uS,Rz;function YG(){if(Rz)return uS;Rz=1;var t=Qd(),e=sI(),r=SI(),n=Kp(),i=xI(),s=_u(),o=sm(),a=aI(),l=lI(),u=eme(),c=It(),h=im().fastKey,f=Ca(),p=f.set,v=f.getterFor;return uS={getConstructor:function(y,w,g,m){var x=y(function(S,C){i(S,b),p(S,{type:w,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(C)||o(C,S[m],{that:S,AS_ENTRIES:g})}),b=x.prototype,_=v(w),E=function(S,C,P){var N=_(S),T=O(S,C),I,q;return T?T.value=P:(N.last=T={index:q=h(C,!0),key:C,value:P,previous:I=N.last,next:null,removed:!1},N.first||(N.first=T),I&&(I.next=T),c?N.size++:S.size++,q!=="F"&&(N.index[q]=T)),S},O=function(S,C){var P=_(S),N=h(C),T;if(N!=="F")return P.index[N];for(T=P.first;T;T=T.next)if(T.key===C)return T};return r(b,{clear:function(){for(var C=this,P=_(C),N=P.first;N;)N.removed=!0,N.previous&&(N.previous=N.previous.next=null),N=N.next;P.first=P.last=null,P.index=t(null),c?P.size=0:C.size=0},delete:function(S){var C=this,P=_(C),N=O(C,S);if(N){var T=N.next,I=N.previous;delete P.index[N.index],N.removed=!0,I&&(I.next=T),T&&(T.previous=I),P.first===N&&(P.first=T),P.last===N&&(P.last=I),c?P.size--:C.size--}return!!N},forEach:function(C){for(var P=_(this),N=n(C,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:P.first;)for(N(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(C){return!!O(this,C)}}),r(b,g?{get:function(C){var P=O(this,C);return P&&P.value},set:function(C,P){return E(this,C===0?0:C,P)}}:{add:function(C){return E(this,C=C===0?0:C,C)}}),c&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,w,g){var m=w+" Iterator",x=v(w),b=v(m);a(y,w,function(_,E){p(this,{type:m,target:_,state:x(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(w)}},uS}var $z;function tme(){if($z)return gz;$z=1;var t=_I(),e=YG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),gz}var jz;function rme(){return jz||(jz=1,tme()),vz}var kz={},cS,Dz;function QG(){return Dz||(Dz=1,cS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),cS}var dS,qz;function nme(){if(qz)return dS;qz=1;var t=mn(),e=QG(),r=t("Map");return dS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},dS}var Mz;function ime(){if(Mz)return kz;Mz=1;var t=ye(),e=Ae(),r=as(),n=os(),i=sm(),s=nme(),o=Pu(),a=qe(),l=s.Map,u=s.has,c=s.get,h=s.set,f=e([].push),p=o||a(function(){return l.groupBy("ab",function(v){return v}).get("a").length!==1});return t({target:"Map",stat:!0,forced:o||p},{groupBy:function(y,w){n(y),r(w);var g=new l,m=0;return i(y,function(x){var b=w(x,m++);u(g,b)?f(c(g,b),x):h(g,b,[x])}),g}}),kz}var Az={},hS,Fz;function sme(){if(Fz)return hS;Fz=1;var t=Ae(),e=Iu(),r=kn(),n=os(),i=t("".charAt),s=t("".charCodeAt),o=t("".slice),a=function(l){return function(u,c){var h=r(n(u)),f=e(c),p=h.length,v,y;return f<0||f>=p?l?"":void 0:(v=s(h,f),v<55296||v>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):v:l?o(h,f,f+2):(v-55296<<10)+(y-56320)+65536)}};return hS={codeAt:a(!1),charAt:a(!0)},hS}var Lz;function EI(){if(Lz)return Az;Lz=1;var t=sme().charAt,e=kn(),r=Ca(),n=aI(),i=lI(),s="String Iterator",o=r.set,a=r.getterFor(s);return n(String,"String",function(l){o(this,{type:s,string:e(l),index:0})},function(){var u=a(this),c=u.string,h=u.index,f;return h>=c.length?i(void 0,!0):(f=t(c,h),u.index+=f.length,i(f,!1))}),Az}var fS,Bz;function ome(){if(Bz)return fS;Bz=1,ju(),rme(),ime(),EI();var t=Ve();return fS=t.Map,fS}var pS,zz;function ame(){if(zz)return pS;zz=1;var t=ome();return ku(),pS=t,pS}var mS,Uz;function lme(){return Uz||(Uz=1,mS=ame()),mS}var ume=lme(),OI=Oe(ume);class cme{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Dt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ue(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new OI,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var Wz={},Hz;function dme(){if(Hz)return Wz;Hz=1;var t=ye();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),Wz}var vS,Vz;function hme(){if(Vz)return vS;Vz=1,dme();var t=Ve();return vS=t.Number.isNaN,vS}var gS,Kz;function fme(){if(Kz)return gS;Kz=1;var t=hme();return gS=t,gS}var yS,Gz;function pme(){return Gz||(Gz=1,yS=fme()),yS}var mme=pme(),nC=Oe(mme),Yz={},bS,Qz;function vme(){if(Qz)return bS;Qz=1;var t=ut(),e=t.isFinite;return bS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},bS}var Xz;function gme(){if(Xz)return Yz;Xz=1;var t=ye(),e=vme();return t({target:"Number",stat:!0},{isFinite:e}),Yz}var wS,Jz;function yme(){if(Jz)return wS;Jz=1,gme();var t=Ve();return wS=t.Number.isFinite,wS}var xS,Zz;function bme(){if(Zz)return xS;Zz=1;var t=yme();return xS=t,xS}var _S,e6;function wme(){return e6||(e6=1,_S=bme()),_S}var xme=wme(),Io=Oe(xme),t6={},r6;function _me(){if(r6)return t6;r6=1;var t=ye(),e=ho().some,r=Du(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),t6}var SS,n6;function Sme(){if(n6)return SS;n6=1,_me();var t=pr();return SS=t("Array","some"),SS}var ES,i6;function Eme(){if(i6)return ES;i6=1;var t=Ft(),e=Sme(),r=Array.prototype;return ES=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},ES}var OS,s6;function Ome(){if(s6)return OS;s6=1;var t=Eme();return OS=t,OS}var PS,o6;function Pme(){return o6||(o6=1,PS=Ome()),PS}var Cme=Pme(),Tme=Oe(Cme),CS={exports:{}},a6={},l6;function Ime(){if(l6)return a6;l6=1;var t=ye(),e=It(),r=jn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),a6}var u6;function Nme(){if(u6)return CS.exports;u6=1,Ime();var t=Ve(),e=t.Object,r=CS.exports=function(i,s,o){return e.defineProperty(i,s,o)};return e.defineProperty.sham&&(r.sham=!0),CS.exports}var TS,c6;function XG(){if(c6)return TS;c6=1;var t=Nme();return TS=t,TS}var IS,d6;function Rme(){if(d6)return IS;d6=1;var t=XG();return IS=t,IS}var NS,h6;function $me(){if(h6)return NS;h6=1;var t=Rme();return NS=t,NS}var RS,f6;function jme(){return f6||(f6=1,RS=$me()),RS}var kme=jme(),Dme=Oe(kme),p6={},m6;function qme(){if(m6)return p6;m6=1;var t=Lt(),e=jn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),p6}var v6={},g6;function Mme(){return g6||(g6=1,Z9()),v6}var y6={},b6;function Ame(){return b6||(b6=1,eG()),y6}var w6={},x6;function Fme(){if(x6)return w6;x6=1;var t=vt();return t("metadata"),w6}var $S,_6;function Lme(){if(_6)return $S;_6=1;var t=sG();return qme(),Mme(),Ame(),Fme(),$S=t,$S}var S6={},jS,E6;function JG(){if(E6)return jS;E6=1;var t=mn(),e=Ae(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return jS=r.isRegisteredSymbol||function(o){try{return n(i(o))!==void 0}catch{return!1}},jS}var O6;function Bme(){if(O6)return S6;O6=1;var t=ye(),e=JG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),S6}var P6={},kS,C6;function ZG(){if(C6)return kS;C6=1;for(var t=Cu(),e=mn(),r=Ae(),n=Vd(),i=Lt(),s=e("Symbol"),o=s.isWellKnownSymbol,a=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,h=a(s),f=h.length;c<f;c++)try{var p=h[c];n(s[p])&&i(p)}catch{}return kS=function(y){if(o&&o(y))return!0;try{for(var w=l(y),g=0,m=a(u),x=m.length;g<x;g++)if(u[m[g]]==w)return!0}catch{}return!1},kS}var T6;function zme(){if(T6)return P6;T6=1;var t=ye(),e=ZG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),P6}var I6={},N6;function Ume(){if(N6)return I6;N6=1;var t=vt();return t("customMatcher"),I6}var R6={},$6;function Wme(){if($6)return R6;$6=1;var t=vt();return t("observable"),R6}var j6={},k6;function Hme(){if(k6)return j6;k6=1;var t=ye(),e=JG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),j6}var D6={},q6;function Vme(){if(q6)return D6;q6=1;var t=ye(),e=ZG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),D6}var M6={},A6;function Kme(){if(A6)return M6;A6=1;var t=vt();return t("matcher"),M6}var F6={},L6;function Gme(){if(L6)return F6;L6=1;var t=vt();return t("metadataKey"),F6}var B6={},z6;function Yme(){if(z6)return B6;z6=1;var t=vt();return t("patternMatch"),B6}var U6={},W6;function Qme(){if(W6)return U6;W6=1;var t=vt();return t("replaceAll"),U6}var DS,H6;function Xme(){if(H6)return DS;H6=1;var t=Lme();return Bme(),zme(),Ume(),Wme(),Hme(),Vme(),Kme(),Gme(),Yme(),Qme(),DS=t,DS}var qS,V6;function Jme(){return V6||(V6=1,qS=Xme()),qS}var Zme=Jme(),Mh=Oe(Zme),MS,K6;function eve(){if(K6)return MS;K6=1,ju(),EI(),tG();var t=Zp();return MS=t.f("iterator"),MS}var AS,G6;function tve(){if(G6)return AS;G6=1;var t=eve();return ku(),AS=t,AS}var FS,Y6;function rve(){if(Y6)return FS;Y6=1;var t=tve();return FS=t,FS}var LS,Q6;function nve(){if(Q6)return LS;Q6=1;var t=rve();return LS=t,LS}var BS,X6;function ive(){return X6||(X6=1,BS=nve()),BS}var sve=ive(),ove=Oe(sve);function od(t){"@babel/helpers - typeof";return od=typeof Mh=="function"&&typeof ove=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Mh=="function"&&e.constructor===Mh&&e!==Mh.prototype?"symbol":typeof e},od(t)}var zS,J6;function ave(){if(J6)return zS;J6=1,rG();var t=Zp();return zS=t.f("toPrimitive"),zS}var US,Z6;function lve(){if(Z6)return US;Z6=1;var t=ave();return US=t,US}var WS,eU;function uve(){if(eU)return WS;eU=1;var t=lve();return WS=t,WS}var HS,tU;function cve(){if(tU)return HS;tU=1;var t=uve();return HS=t,HS}var VS,rU;function dve(){return rU||(rU=1,VS=cve()),VS}var hve=dve(),fve=Oe(hve);function pve(t,e){if(od(t)!="object"||!t)return t;var r=t[fve];if(r!==void 0){var n=r.call(t,e);if(od(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function mve(t){var e=pve(t,"string");return od(e)=="symbol"?e:e+""}function Di(t,e,r){return(e=mve(e))in t?Dme(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nU={},KS,iU;function vve(){if(iU)return KS;iU=1;var t=ut(),e=qe(),r=Ae(),n=kn(),i=aG().trim,s=uI(),o=r("".charAt),a=t.parseFloat,l=t.Symbol,u=l&&l.iterator,c=1/a(s+"-0")!==-1/0||u&&!e(function(){a(Object(u))});return KS=c?function(f){var p=i(n(f)),v=a(p);return v===0&&o(p,0)==="-"?-0:v}:a,KS}var sU;function gve(){if(sU)return nU;sU=1;var t=ye(),e=vve();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),nU}var GS,oU;function yve(){if(oU)return GS;oU=1,gve();var t=Ve();return GS=t.parseFloat,GS}var YS,aU;function bve(){if(aU)return YS;aU=1;var t=yve();return YS=t,YS}var QS,lU;function wve(){return lU||(lU=1,QS=bve()),QS}var xve=wve(),eY=Oe(xve),uU={},cU;function _ve(){if(cU)return uU;cU=1;var t=ye(),e=qe(),r=iI().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),uU}var XS,dU;function Sve(){if(dU)return XS;dU=1,_ve();var t=Ve(),e=t.Object;return XS=function(n){return e.getOwnPropertyNames(n)},XS}var JS,hU;function Eve(){if(hU)return JS;hU=1;var t=Sve();return JS=t,JS}var ZS,fU;function Ove(){return fU||(fU=1,ZS=Eve()),ZS}var Pve=Ove(),Cve=Oe(Pve),eE,pU;function Tve(){if(pU)return eE;pU=1,J9();var t=Ve();return eE=t.Object.getOwnPropertySymbols,eE}var tE,mU;function Ive(){if(mU)return tE;mU=1;var t=Tve();return tE=t,tE}var rE,vU;function Nve(){return vU||(vU=1,rE=Ive()),rE}var Rve=Nve(),to=Oe(Rve),nE={exports:{}},gU={},yU;function $ve(){if(yU)return gU;yU=1;var t=ye(),e=qe(),r=ri(),n=Vp().f,i=It(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(a,l){return n(r(a),l)}}),gU}var bU;function jve(){if(bU)return nE.exports;bU=1,$ve();var t=Ve(),e=t.Object,r=nE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),nE.exports}var iE,wU;function kve(){if(wU)return iE;wU=1;var t=jve();return iE=t,iE}var sE,xU;function Dve(){return xU||(xU=1,sE=kve()),sE}var qve=Dve(),fo=Oe(qve),_U={},SU;function Mve(){if(SU)return _U;SU=1;var t=ye(),e=It(),r=lde(),n=ri(),i=Vp(),s=Qp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(a){for(var l=n(a),u=i.f,c=r(l),h={},f=0,p,v;c.length>f;)v=u(l,p=c[f++]),v!==void 0&&s(h,p,v);return h}}),_U}var oE,EU;function Ave(){if(EU)return oE;EU=1,Mve();var t=Ve();return oE=t.Object.getOwnPropertyDescriptors,oE}var aE,OU;function Fve(){if(OU)return aE;OU=1;var t=Ave();return aE=t,aE}var lE,PU;function Lve(){return PU||(PU=1,lE=Fve()),lE}var Bve=Lve(),ro=Oe(Bve),uE={exports:{}},CU={},TU;function zve(){if(TU)return CU;TU=1;var t=ye(),e=It(),r=nI().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),CU}var IU;function Uve(){if(IU)return uE.exports;IU=1,zve();var t=Ve(),e=t.Object,r=uE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),uE.exports}var cE,NU;function Wve(){if(NU)return cE;NU=1;var t=Uve();return cE=t,cE}var dE,RU;function Hve(){return RU||(RU=1,dE=Wve()),dE}var Vve=Hve(),om=Oe(Vve),hE,$U;function Kve(){return $U||($U=1,hE=XG()),hE}var Gve=Kve(),am=Oe(Gve);function PI(t,e){const r=["node","edge","label"];let n=!0;const i=vs(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ue(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=vs(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function iC(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const o=-r.angle;e={x:Math.cos(o)*s.x-Math.sin(o)*s.y,y:Math.sin(o)*s.x+Math.cos(o)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Jf(t){return typeof t=="string"&&t!==""}function tY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const o=n.distanceToBorder(t,e),a=Math.sin(e)*o,l=Math.cos(e)*o;l===o?(i+=o,s=n.y):a===o?(i=n.x,s-=o):(i+=l,s-=a)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var fE,jU;function Yve(){if(jU)return fE;jU=1,ju();var t=pr();return fE=t("Array","values"),fE}var pE,kU;function Qve(){if(kU)return pE;kU=1;var t=Yve();return pE=t,pE}var mE,DU;function Xve(){if(DU)return mE;DU=1,ku();var t=Ru(),e=fr(),r=Ft(),n=Qve(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return mE=function(o){var a=o.values;return o===i||r(i,o)&&a===i.values||e(s,t(o))?n:a},mE}var vE,qU;function Jve(){return qU||(qU=1,vE=Xve()),vE}var Zve=Jve(),rY=Oe(Zve);class ege{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),o=Dt({},rY(s));o.text=r,o.width=s.width,o.mod=n,(r===void 0||r==="")&&(o.width=0),this.lines[e].blocks.push(o),this.lines[e].width+=o.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Dt(i,n),i.blocks=[];let s;const o=[];for(let a=0;a<n.blocks.length;a++){const l=n.blocks[a];l.width!==0?o.push(l):s===void 0&&(s=l)}o.length===0&&s!==void 0&&o.push(s),i.blocks=o,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const tge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class MU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=tge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class rge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(o,a)=>{if(o===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,a);let u=0;return o!==""&&(u=this.ctx.measureText(o).width),{width:u,values:l}};this.lines=new ege(s)}process(e){if(!Jf(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const o=this.splitBlocks(n[s],r.multi);if(o!==void 0){if(o.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.splitStringIntoLines(u,l,!0)}else for(let a=0;a<o.length;a++){const l=o[a].mod,u=o[a].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new MU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new MU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(fi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const o=i[0],a=this.getLongestFitWord(o);this.lines.newLine(fi(o).call(o,0,a),r),i[0]=fi(o).call(o,a)}else{let o=s;i[s-1]===" "?s--:i[o]===" "&&o++;const a=fi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(a,r):this.lines.newLine(a,r),i=fi(i).call(i,o)}}}}const ec=["bold","ital","boldital","mono"];class vl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Jf(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Re(ec,r=>{this.fontOptions[r]={}}),vl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Re(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=vs(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=vs(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const o=vs(e,["widthConstraint","minimum"]);typeof o=="number"&&(r.minWdt=Number(o))}const i=vs(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=vs(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const o=vs(e,["heightConstraint","valign"]);typeof o=="string"&&(o==="top"||o==="bottom")&&(r.valign=o)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),et(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=PI("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};vl.parseFontString(s,i)&&(i=s),Re(i,(o,a)=>{o!==void 0&&(Object.prototype.hasOwnProperty.call(r,a)||(Ue(ec).call(ec,a)!==-1?r[a]={}:r[a]=o))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const o=e[s];if(Object.prototype.hasOwnProperty.call(o,r)){if(i=o[r],i==null)continue;const a={};if(vl.parseFontString(a,i)&&(i=a),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const o=i[s];n[o]=this.getFontOption(e,r,o)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<ec.length;++n){const i=ec[n],s=this.fontOptions[i],o=this.getFontOptions(r,i);Re(o,(a,l)=>{s[l]=a}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let a=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&a<this.elementOptions.scaling.label.drawThreshold-1||(a>=this.elementOptions.scaling.label.maxVisible&&(a=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,o),this._drawBackground(e),this._drawText(e,r,this.size.yLine,o,a))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let o=0;o<this.lineCount;o++){const a=this.lines[o];if(a&&a.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-a.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-a.width);for(let u=0;u<a.blocks.length;u++){const c=a.blocks[u];e.font=c.font;const[h,f]=this._getColor(c.color,s,c.strokeColor);c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,c.strokeWidth>0&&e.strokeText(c.text,r+l,n+c.vadjust),e.fillText(c.text,r+l,n+c.vadjust),l+=c.width}n+=a.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const o=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=En(i,o),s=En(s,o)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,o=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,o==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,c){return u==="normal"?c==="mod"?"":l[c]:l[u][c]!==void 0?l[u][c]:l[c]},o={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?o.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(o,this.elementOptions.id,r,n));let a="";return o.mod!==void 0&&o.mod!==""&&(a+=o.mod+" "),a+=o.size+"px "+o.face,e.font=a.replace(/"/g,""),o.font=e.font,o.height=o.size,o}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new rge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Ia{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Zd(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const o=14;return i===0&&(i=o,s=o),{width:i,height:s}}}let nge=class extends Ia{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),B9(e,this.left,this.top,this.width,this.height,o.borderRadius),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const o=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(o)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class CI extends Ia{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),eI(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,o=this.top+i.top,a=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,o,a,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let o=0;if(this.height!==void 0){o=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(o+=l.height/2)}const a=n+o;this.options.label&&(this.labelOffset=o),this.labelModule.draw(e,r,a,i,s,"hanging")}}let ige=class extends CI{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,o),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class sge extends CI{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){this.switchImages(i),this.resize();let a=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,a,l,o),e.save(),e.clip(),this._drawImageAtPosition(e,o),e.restore(),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class po extends Ia{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,o;this.labelModule.getTextSize(e,r,n);const a=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:a,this.height=(o=this.customSizeHeight)!==null&&o!==void 0?o:a,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,o,a,l){return this.resize(e,o,a,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),xce(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(o?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,o,a,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,o,a,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function AU(t,e){var r=_t(t);if(to){var n=to(t);e&&(n=Wr(n).call(n,function(i){return fo(t,i).enumerable})),r.push.apply(r,n)}return r}function oge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=AU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):ro?om(t,ro(i)):Ge(n=AU(Object(i))).call(n,function(s){am(t,s,fo(i,s))})}return t}class age extends po{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,o){this.resize(e,i,s,o),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const a=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:oge({},o),label:this.options.label});if(a.drawNode!=null&&a.drawNode(),e.restore(),a.drawExternalLabel){const l=a.drawExternalLabel;a.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return a.nodeDimensions&&(this.customSizeWidth=a.nodeDimensions.width,this.customSizeHeight=a.nodeDimensions.height),a}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class lge extends Ia{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,o),z9(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let uge=class extends po{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"diamond",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class cge extends po{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"circle",2,r,n,i,s,o)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class FU extends Ia{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,o),GP(e,this.left,this.top,this.width,this.height),this.performFill(e,o),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,o=Math.cos(r)*i;return n*i/Math.sqrt(s*s+o*o)}}class dge extends Ia{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,o),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,o){const a=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+a+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,o),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,o)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let hge=class extends CI{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,o){e.save(),this.switchImages(i),this.resize();let a=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,a+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?c:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;o.opacity!==void 0&&(f=En(f,o.opacity),p=En(p,o.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Zd(e).call(e),this.performStroke(e,o),e.closePath()}this._drawImageAtPosition(e,o),this._drawImageLabel(e,a,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class fge extends po{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"square",2,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class pge extends po{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"hexagon",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class mge extends po{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"star",4,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class vge extends Ia{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,o){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,o),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,o),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let gge=class extends po{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangle",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class yge extends po{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,o){return this._drawShape(e,"triangleDown",3,r,n,i,s,o)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function LU(t,e){var r=_t(t);if(to){var n=to(t);e&&(n=Wr(n).call(n,function(i){return fo(t,i).enumerable})),r.push.apply(r,n)}return r}function BU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=LU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):ro?om(t,ro(i)):Ge(n=LU(Object(i))).call(n,function(s){am(t,s,fo(i,s))})}return t}class at{constructor(e,r,n,i,s,o){this.options=Gs(s),this.globalOptions=s,this.defaultOptions=o,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new vl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ue(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ue(r=this.edges).call(r,e);if(n!=-1){var i;Li(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");at.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Hn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Hn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=eY(e.value)),at.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=PI("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&at.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const a=n.get(s);a.opacity!==void 0&&r.opacity===void 0&&(at.checkOpacity(a.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+a.opacity),a.opacity=void 0));const l=Wr(i=Cve(r)).call(i,u=>r[u]!=null);l.push("font"),Qf(l,e,a),e.color=ZP(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Qf(["color","fixed","shadow"],e,r,n),at.checkMass(r),e.opacity!==void 0&&(at.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(at.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!at.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),xn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const a=ZP(r.color);DG(e.color,a)}else n===!0&&r.color===null&&(e.color=Gs(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Gs(i.font)),at.updateGroupOptions(e,r,s),r.scaling!==void 0&&xn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=En(e.borderColor,r),e.color=En(e.color,r),e.shadowColor=En(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),at.updateGroupOptions(this.options,BU(BU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new nge(this.options,this.body,this.labelModule);break;case"circle":this.shape=new ige(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new sge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new age(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new lge(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new uge(this.options,this.body,this.labelModule);break;case"dot":this.shape=new cge(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new FU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new dge(this.options,this.body,this.labelModule);break;case"image":this.shape=new hge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new fge(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new pge(this.options,this.body,this.labelModule);break;case"star":this.shape=new mge(this.options,this.body,this.labelModule);break;case"text":this.shape=new vge(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new gge(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new yge(this.options,this.body,this.labelModule);break;default:this.shape=new FU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&iC(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),iC(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",FG),e.mass=1}}}class bge{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=ee(s=this.create).call(s,this),this.nodesListeners={add:(o,a)=>{this.add(a.items)},update:(o,a)=>{this.update(a.items,a.data,a.oldData)},remove:(o,a)=>{this.remove(a.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(o,a,l,u){if(a===o)return .5;{const c=1/(a-o);return Math.max(0,(u-o)*c)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Gs(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",ee(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",ee(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Re(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(at.parseOptions(this.options,e),e.opacity!==void 0&&(nC(e.opacity)||!Io(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of _t(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(j9("id",e))this.body.data.nodes=e;else if(Ot(e))this.body.data.nodes=new Ql,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Ql;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Re(this.nodesListeners,function(o,a){i.body.data.nodes.on(a,o)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const o=this.body.data.nodes.get(n),a=this.create(o);i.push(a),this.body.nodes[n]=a}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let o=0;o<e.length;o++){const a=e[o];let l=i[a];const u=r[o];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[a]=l)}!s&&n!==void 0&&(s=Tme(r).call(r,function(o,a){const l=n[a];return l&&l.level!==o.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:at;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Re(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Ot(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],o=Math.round(s.x),a=Math.round(s.y);(n.x!==o||n.y!==a)&&e.push({id:i,x:o,y:a})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let o=0;o<i.edges.length;o++){const a=i.edges[o];r!=="to"&&a.toId==i.id?s[a.fromId]===void 0&&(n.push(a.fromId),s[a.fromId]=!0):r!=="from"&&a.fromId==i.id&&s[a.toId]===void 0&&(n.push(a.toId),s[a.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Bi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var zU={},UU;function wge(){if(UU)return zU;UU=1;var t=ye(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(o,a){for(var l=0,u=0,c=arguments.length,h=0,f,p;u<c;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),zU}var gE,WU;function xge(){if(WU)return gE;WU=1,wge();var t=Ve();return gE=t.Math.hypot,gE}var yE,HU;function _ge(){if(HU)return yE;HU=1;var t=xge();return yE=t,yE}var bE,VU;function Sge(){return VU||(VU=1,bE=_ge()),bE}var Ege=Sge(),Oge=Oe(Ege);class Ct{static transform(e,r){Ot(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,o=r.length;for(let a=0;a<e.length;++a){const l=e[a],u=l.x*Math.cos(s)-l.y*Math.sin(s),c=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+o*u,l.y=i+o*c}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let Pge=class extends Ct{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class Cge extends Ct{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Tge{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Ige{static draw(e,r){const n={x:-.4,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,o=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class Nge{static draw(e,r){const n={x:-.3,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,o=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,o,!1),e.stroke(),!0}}class Rge{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class $ge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class jge{static draw(e,r){const n={x:-.4,y:0};return Ct.transform(n,r),eI(e,n.x,n.y,r.length*.4),!0}}class kge{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Dge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class qge{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Mge{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class nY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return Pge.draw(e,r);case"circle":return jge.draw(e,r);case"box":return Dge.draw(e,r);case"crow":return Tge.draw(e,r);case"curve":return Ige.draw(e,r);case"diamond":return qge.draw(e,r);case"inv_curve":return Nge.draw(e,r);case"triangle":return Rge.draw(e,r);case"inv_triangle":return $ge.draw(e,r);case"bar":return kge.draw(e,r);case"vee":return Mge.draw(e,r);case"arrow":default:return Cge.draw(e,r)}}}function KU(t,e){var r=_t(t);if(to){var n=to(t);e&&(n=Wr(n).call(n,function(i){return fo(t,i).enumerable})),r.push.apply(r,n)}return r}function GU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=KU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):ro?om(t,ro(i)):Ge(n=KU(Object(i))).call(n,function(s){am(t,s,fo(i,s))})}return t}class iY{constructor(e,r,n){Di(this,"color",{}),Di(this,"colorDirty",!0),Di(this,"hoverWidth",1.5),Di(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[o,a,l]=this._getCircleData(e);this._circle(e,r,o,a,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const o=Ot(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(o),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)U9(e,this.from.x,this.from.y,this.to.x,this.to.y,o);else{const[a,l,u]=this._getCircleData(e);this._circle(e,r,a,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=fi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=tY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let o=n.low,a=n.high;const l=n.direction,u=10,c=this.options.selfReference.size,h=.05;let f,p=(o+a)*.5,v=0;this.options.arrowStrikethrough===!0&&(l===-1?v=this.options.endPointOffset.from:l===1&&(v=this.options.endPointOffset.to));let y=0;do{p=(o+a)*.5,f=this._pointOnCircle(i,s,c,p);const w=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,w)+v,m=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-m;if(Math.abs(x)<h)break;x>0?l>0?o=p:a=p:l>0?a=p:o=p,++y}while(o<=a&&y<u);return GU(GU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=En(this.from.options.color.border,r.opacity),s=En(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?En(this.to.options.color.border,r.opacity):En(this.from.options.color.border,r.opacity)}else return En(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let o=0,a=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});o=Math.atan2(c.y-i,c.x-n),a=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,o,a,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,o){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,o);{const[a,l,u]=this._getCircleData(void 0),c=a-s,h=l-o;return Math.abs(Math.sqrt(c*c+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,o){const a=n-e,l=i-r,u=a*a+l*l;let c=((s-e)*a+(o-r)*l)/u;c>1?c=1:c<0&&(c=0);const h=e+c*a,f=r+c*l,p=h-s,v=f-o;return Math.sqrt(p*p+v*v)}getArrowData(e,r,n,i,s,o){let a,l,u,c,h,f,p;const v=o.width;r==="from"?(u=this.from,c=this.to,h=o.fromArrowScale<0,f=Math.abs(o.fromArrowScale),p=o.fromArrowType):r==="to"?(u=this.to,c=this.from,h=o.toArrowScale<0,f=Math.abs(o.toArrowScale),p=o.toArrowType):(u=this.to,c=this.from,h=o.middleArrowScale<0,f=Math.abs(o.middleArrowScale),p=o.middleArrowType);const y=15*f+3*v;if(u!=c){const x=Oge(u.x-c.x,u.y-c.y),b=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+b*(r==="from"?1:-1),n);a=Math.atan2(_.y-E.y,_.x-E.x),l=_}else a=Math.atan2(u.y-c.y,u.x-c.x),l=this._findBorderPosition(u,e);else{const _=(h?-b:b)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);a=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,b,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:b,low:E,high:O,direction:-1});a=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:b,low:E,high:O,direction:1});a=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,b,_,E),a=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const w=l.x-y*.9*Math.cos(a),g=l.y-y*.9*Math.sin(a);return{point:l,core:{x:w,y:g},angle:a,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,nY.draw(e,s)&&(this.enableShadow(e,r),Zd(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Ot(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function YU(t,e){var r=_t(t);if(to){var n=to(t);e&&(n=Wr(n).call(n,function(i){return fo(t,i).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=YU(Object(i),!0)).call(r,function(s){Di(t,s,i[s])}):ro?om(t,ro(i)):Ge(n=YU(Object(i))).call(n,function(s){am(t,s,fo(i,s))})}return t}class TI extends iY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let o=!1,a=1,l=0,u=this.to,c,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,o=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+a)*.5,c=this.getPoint(h,n);const v=Math.atan2(u.y-c.y,u.x-c.x),y=u.distanceToBorder(r,v)+f,w=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2)),g=y-w;if(Math.abs(g)<s)break;g<0?o===!1?l=h:a=h:o===!1?a=h:l=h,++p}while(l<=a&&p<i);return QU(QU({},c),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,o,a){let l=1e9,u,c,h,f,p,v=e,y=r;for(c=1;c<10;c++)h=.1*c,f=Math.pow(1-h,2)*e+2*h*(1-h)*a.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*a.y+Math.pow(h,2)*i,c>0&&(u=this._getDistanceToLine(v,y,f,p,s,o),l=u<l?u:l),v=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class XU extends TI{constructor(e,r,n){super(e,r,n),Di(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),o=2*Math.PI*(1-e);return{x:n+s*Math.sin(o),y:i+s-s*(1-Math.cos(o))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToBezierEdge(e,r,n,i,s,o,this.via)}}class JU extends TI{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return r==="discrete"&&(n<=i?a=n<e*i?this.from.x:a:l=i<e*n?this.from.y:l),{x:a,y:l}}else if(r==="straightCross"){let s=(1-e)*n,o=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(o=-o)):(this.from.x<this.to.x&&(s=-s),o=0),{x:this.to.x+s,y:this.to.y+o}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),o=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*o)%(2*o);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,o;n<=i?s=o=e*i:s=o=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(o=-o);let a=this.from.x+s,l=this.from.y+o;return n<=i?this.from.x<=this.to.x?a=this.to.x<a?this.to.x:a:a=this.to.x>a?this.to.x:a:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:a,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,o){let a=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,o,a)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Age extends TI{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,o,a,l){let u=1e9,c=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const v=.1*p;f[0]=Math.pow(1-v,3),f[1]=3*v*Math.pow(1-v,2),f[2]=3*Math.pow(v,2)*(1-v),f[3]=Math.pow(v,3);const y=f[0]*e+f[1]*a.x+f[2]*l.x+f[3]*n,w=f[0]*r+f[1]*a.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(c,h,y,w,s,o);u=g<u?g:u}c=y,h=w}return u}}class ZU extends Age{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,o;const a=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,o=this.to.y,n=this.from.x-a*e,s=this.to.x+a*e):(i=this.from.y-a*r,o=this.to.y+a*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:o}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,o){let[a,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,o,a,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],o=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,a=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:o,y:a}}}class eW extends iY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),o=n.x-i.x,a=n.y-i.y,l=Math.sqrt(o*o+a*a),u=e.distanceToBorder(r,s),c=(l-u)/l;return{x:(1-c)*i.x+c*n.x,y:(1-c)*i.y+c*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,o){return this._getDistanceToLine(e,r,n,i,s,o)}}class Ys{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Gs(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new vl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Ys.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=eY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=PI("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Mu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Io(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Io(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Jf(r.label)?e.label=r.label:Jf(e.label)||(e.label=void 0),xn(e,r,"smooth",i),xn(e,r,"shadow",i),xn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=Ho(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),xn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=Ho(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const a=r.arrows.toLowerCase();e.arrows.to.enabled=Ue(a).call(a,"to")!=-1,e.arrows.middle.enabled=Ue(a).call(a,"middle")!=-1,e.arrows.from.enabled=Ue(a).call(a,"from")!=-1}else if(typeof r.arrows=="object")xn(e.arrows,r.arrows,"to",i.arrows),xn(e.arrows,r.arrows,"middle",i.arrows),xn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Jd(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=Ho(i.arrows));if(r.color!==void 0&&r.color!==null){const a=pl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)et(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(pl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,a.opacity===void 0&&(l.opacity=1);else{let u=!1;a.color!==void 0&&(l.color=a.color,u=!0),a.highlight!==void 0&&(l.highlight=a.highlight,u=!0),a.hover!==void 0&&(l.hover=a.hover,u=!0),a.inherit!==void 0&&(l.inherit=a.inherit),a.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,a.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Gs(i.color));n===!0&&r.font===null&&(e.font=Gs(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const o=this.options.selectionWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const o=this.options.hoverWidth;typeof o=="function"?s.width=o(s.width):typeof o=="number"&&(s.width+=o),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof XU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof ZU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof JU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof eW&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new XU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new ZU(this.options,this.body,this.labelModule):this.edgeType=new JU(this.options,this.body,this.labelModule):this.edgeType=new eW(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const o=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*o}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const o=this._getRotation(e);o.angle!=0&&(e.translate(o.x,o.y),e.rotate(o.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const o=tY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(o.x,o.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();iC(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,o=this.to.y,a=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,o,a,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,o=this.from.x-this.to.x;let a=Math.atan2(s,o);return(a<-1&&o<0||a>0&&o<0)&&(a+=Math.PI),i.angle=a,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Fge{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=ee(i=this.create).call(i,this),this.edgesListeners={add:(s,o)=>{this.add(o.items)},update:(s,o)=>{this.update(o.items)},remove:(s,o)=>{this.remove(o.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,o,a,l){if(o===s)return .5;{const u=1/(o-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},et(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let o=!1;for(const a in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,a)){const l=e.body.edges[a],u=e.body.data.edges.get(a);if(u!=null){const c=u.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),o=!0)}}s===!0&&o===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",ee(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",ee(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Re(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Ys.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(j9("id",e))this.body.data.edges=e;else if(Ot(e))this.body.data.edges=new Ql,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Ql;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Re(this.edgesListeners,(s,o)=>{this.body.data.edges.on(o,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const o=e[s],a=n[o];a&&a.disconnect();const l=i.get(o,{showInternalIds:!0});n[o]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const o=e[s],a=n.get(o),l=r[o];l!==void 0?(l.disconnect(),i=l.setOptions(a)||i,l.connect()):(this.body.edges[o]=this.create(a),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Re(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Re(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Ys(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Re(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Ge(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class sY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=nm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let o=0;o<i;o++)e=r[n[o]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),a=r*o,l=n*o;this.physicsBody.forces[i.id].x+=a,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,o=e[r[0]].y,a=e[r[0]].x,l=e[r[0]].y;for(let w=1;w<i;w++){const g=e[r[w]],m=g.x,x=g.y;g.options.mass>0&&(m<s&&(s=m),m>a&&(a=m),x<o&&(o=x),x>l&&(l=x))}const u=Math.abs(a-s)-Math.abs(l-o);u>0?(o-=.5*u,l+=.5*u):(s+=.5*u,a-=.5*u);const h=Math.max(1e-5,Math.abs(a-s)),f=.5*h,p=.5*(s+a),v=.5*(o+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:v-f,maxY:v+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let w=0;w<i;w++)n=e[r[w]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const o=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<o?o:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,o;const a=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY,o=e.range.minY+a;break;case"NE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY,o=e.range.minY+a;break;case"SW":n=e.range.minX,i=e.range.minX+a,s=e.range.minY+a,o=e.range.maxY;break;case"SE":n=e.range.minX+a,i=e.range.maxX,s=e.range.minY+a,o=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:o},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Lge{constructor(e,r,n){this._rng=nm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,v=4/3;for(let y=0;y<c.length-1;y++){a=u[c[y]];for(let w=y+1;w<c.length;w++)l=u[c[w]],e=l.x-a.x,r=l.y-a.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?o=1:o=p*n+v,o=o/n,i=e*o,s=r*o,h[a.id].x-=i,h[a.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class Bge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const o=e[r[s]];for(let a=s+1;a<r.length;a++){const l=e[r[a]];if(o.level===l.level){const u=i+this.overlapAvoidanceFactor*((o.shape.radius||0)/2+(l.shape.radius||0)/2),c=l.x-o.x,h=l.y-o.y,f=Math.sqrt(c*c+h*h),p=.05;let v;f<u?v=-Math.pow(p*f,2)+Math.pow(p*u,2):v=0,f!==0&&(v=v/f);const y=c*v,w=h*v;n[o.id].x-=y,n[o.id].y-=w,n[l.id].x+=y,n[l.id].y+=w}}}}}class wE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,o,a;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,o=r.edgeType.via,a=r.from,this._calculateSpringForce(s,o,.5*e),this._calculateSpringForce(o,a,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,o=Math.max(Math.sqrt(i*i+s*s),.01),a=this.options.springConstant*(n-o)/o,l=i*a,u=s*a;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class zge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,o,a,l;const u=this.body.edges,c=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=u[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,a=this.options.springConstant*(e-l)/l,s=n*a,o=i*a,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=o),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=o)):(p[r.toId]!==void 0&&(p[r.toId].x-=c*s,p[r.toId].y-=c*o),p[r.fromId]!==void 0&&(p[r.fromId].x+=c*s,p[r.fromId].y+=c*o)));a=1;let v,y;for(let b=0;b<f.length;b++){const _=f[b];v=Math.min(a,Math.max(-a,p[_].springFx)),y=Math.min(a,Math.max(-a,p[_].springFy)),p[_].x+=v,p[_].y+=y}let w=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];w+=p[_].x,g+=p[_].y}const m=w/f.length,x=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=m,p[_].y-=x}}}class sf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,o=this.physicsBody.physicsNodeIndices,a=this.physicsBody.forces;for(let l=0;l<o.length;l++){const u=o[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,a,i)}}_calculateForces(e,r,n,i,s){const o=e===0?0:this.options.centralGravity/e;i[s.id].x=r*o,i[s.id].y=n*o}}class Uge extends sY{constructor(e,r,n){super(e,r,n),this._rng=nm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const o=i.edges.length+1,a=this.options.gravitationalConstant*s.mass*i.options.mass*o/Math.pow(e,2),l=r*a,u=n*a;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class Wge extends sf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const o=s.edges.length+1,a=this.options.centralGravity*o*s.options.mass;i[s.id].x=r*a,i[s.id].y=n*a}}}class Hge{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Dt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Qf(["stabilization"],this.options,e),xn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||nC(r.x))&&(r.x=0),(typeof r.y!="number"||nC(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Uge(this.body,this.physicsBody,e),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new Wge(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Lge(this.body,this.physicsBody,e),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new sf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Bge(this.body,this.physicsBody,e),this.edgesSolver=new zge(this.body,this.physicsBody,e),this.gravitySolver=new sf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new sY(this.body,this.physicsBody,e),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new sf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=ee(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Vf();this.physicsTick(),(Vf()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Bi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=_t(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,o=.3;for(const a in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,a)&&i[a]!==void 0&&(e=i[a].x-s[a].positions.x,r=i[a].y-s[a].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>o))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const o=e[s],a=this._performStep(o);r=Math.max(r,a),n+=a}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const o=this.options.maxVelocity||1e9;return Math.abs(e)>o&&(e=e>0?o:-o),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Bi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Bi(ee(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],o=20,a=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),c=3*u,h=eC((180-Math.min(1,Math.max(0,a*l))*180)/360,1,1),f={x:i.x+o*s.x,y:i.y+o*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,nY.draw(e,{type:"arrow",point:f,angle:p,length:c}),Zd(e).call(e)}}}const or=[];for(let t=0;t<256;++t)or.push((t+256).toString(16).slice(1));function Vge(t,e=0){return(or[t[e+0]]+or[t[e+1]]+or[t[e+2]]+or[t[e+3]]+"-"+or[t[e+4]]+or[t[e+5]]+"-"+or[t[e+6]]+or[t[e+7]]+"-"+or[t[e+8]]+or[t[e+9]]+"-"+or[t[e+10]]+or[t[e+11]]+or[t[e+12]]+or[t[e+13]]+or[t[e+14]]+or[t[e+15]]).toLowerCase()}let xE;const Kge=new Uint8Array(16);function Gge(){if(!xE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xE=crypto.getRandomValues.bind(crypto)}return xE(Kge)}const Yge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var tW={randomUUID:Yge};function Qge(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Gge();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Vge(n)}function Ec(t,e,r){return tW.randomUUID&&!t?tW.randomUUID():Qge(t)}class Nr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.shape.boundingBox.left&&(s=a.shape.boundingBox.left),o<a.shape.boundingBox.right&&(o=a.shape.boundingBox.right),n>a.shape.boundingBox.top&&(n=a.shape.boundingBox.top),i<a.shape.boundingBox.bottom&&(i=a.shape.boundingBox.bottom);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,o=-1e9,a;if(r.length>0)for(let l=0;l<r.length;l++)a=e[r[l]],s>a.x&&(s=a.x),o<a.x&&(o=a.x),n>a.y&&(n=a.y),i<a.y&&(i=a.y);return s===1e9&&o===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,o=0),{minX:s,maxX:o,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(et(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):et(n,e.options,!0),n}}class Xge extends at{constructor(e,r,n,i,s,o){super(e,r,n,i,s,o),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Re(r.edges,n=>{delete this.containedEdges[n.id]}),Re(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Re(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Re(r.edges,n=>{Re(this.edges,i=>{var s,o;const a=Ue(s=i.clusteringEdgeReplacingIds).call(s,n.id);a!==-1&&(Re(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Li(o=i.clusteringEdgeReplacingIds).call(o,a,1))})}),r.edges=[]}}class Jge{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Dt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Re(this.body.nodes,(s,o)=>{s.options&&e.joinCondition(s.options)===!0&&(n[o]=s,Re(s.edges,a=>{this.clusteredEdges[a.id]===void 0&&(i[a.id]=a)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let o,a,l;for(let u=0;u<this.body.nodeIndices.length;u++){const c={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,a=[];for(let v=0;v<p.edges.length;v++)o=p.edges[v],this.clusteredEdges[o.id]===void 0&&(o.toId!==o.fromId&&l++,a.push(o));if(l===e){const v=function(w){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Nr.cloneOptions(w);return r.joinCondition(g)};let y=!0;for(let w=0;w<a.length;w++){o=a[w];const g=this._getConnectedId(o,f);if(v(p))h[o.id]=o,c[f]=p,c[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(_t(c).length>0&&_t(h).length>0&&y===!0){const g=function(){for(let m=0;m<i.length;++m)for(const x in c)if(i[m].nodes[x]!==void 0)return i[m]}();if(g!==void 0){for(const m in c)g.nodes[m]===void 0&&(g.nodes[m]=c[m]);for(const m in h)g.edges[m]===void 0&&(g.edges[m]=h[m])}else i.push({nodes:c,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const o={},a={},l=s.id,u=Nr.cloneOptions(s);o[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)a[f.id]=f,o[p]=this.body.nodes[p];else{const v=Nr.cloneOptions(this.body.nodes[p]);r.joinCondition(u,v)===!0&&(a[f.id]=f,o[p]=this.body.nodes[p])}else a[f.id]=f}}const c=Xl(n=_t(o)).call(n,function(h){return o[h].id});for(const h in o){if(!Object.prototype.hasOwnProperty.call(o,h))continue;const f=o[h];for(let p=0;p<f.edges.length;p++){const v=f.edges[p];Ue(c).call(c,this._getConnectedId(v,f.id))>-1&&(a[v.id]=v)}}this._cluster(o,a,r,i)}_createClusterEdges(e,r,n,i){let s,o,a,l,u,c;const h=_t(e),f=[];for(let y=0;y<h.length;y++){o=h[y],a=e[o];for(let w=0;w<a.edges.length;w++)s=a.edges[w],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==o?(l=n.id,u=s.fromId,c=u):(l=s.toId,u=n.id,c=l),e[c]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],v=function(y){for(let w=0;w<p.length;w++){const g=p[w],m=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(m||x)return g}return null};for(let y=0;y<f.length;y++){const w=f[y],g=w.edge;let m=v(w);m===null?(m=this._createClusteredEdge(w.fromId,w.toId,g,i),p.push(m)):m.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=m.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&this.clusteredNodes[c]!==void 0&&s.push(c);for(let c=0;c<s.length;++c)delete e[s[c]];if(_t(e).length==0||_t(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let o=et({},n.clusterNodeProperties);if(n.processProperties!==void 0){const c=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Nr.cloneOptions(e[f]);c.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Nr.cloneOptions(r[f],"edge");h.push(p)}if(o=n.processProperties(o,c,h),!o)throw new Error("The processProperties function does not return properties!")}o.id===void 0&&(o.id="cluster:"+Ec());const a=o.id;o.label===void 0&&(o.label="cluster");let l;o.x===void 0&&(l=this._getClusterPosition(e),o.x=l.x),o.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),o.y=l.y),o.id=a;const u=this.body.functions.createNode(o,Xge);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[o.id]=u,this._clusterEdges(e,r,o,n.clusterEdgeProperties),o.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=_t(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,o=e[r[0]].y,a;for(let l=1;l<r.length;l++)a=e[r[l]],n=a.x<n?a.x:n,i=a.x>i?a.x:i,s=a.y<s?a.y:s,o=a.y>o?a.y:o;return{x:.5*(n+i),y:.5*(s+o)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),o=Ue(s).call(s,e)-1;if(o>=0){const c=s[o];this.body.nodes[c]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const a=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const c={},h={x:i.x,y:i.y};for(const p in a)if(Object.prototype.hasOwnProperty.call(a,p)){const v=this.body.nodes[p];c[p]={x:v.x,y:v.y}}const f=r.releaseFunction(h,c);for(const p in a)if(Object.prototype.hasOwnProperty.call(a,p)){const v=this.body.nodes[p];f[p]!==void 0&&(v.x=f[p].x===void 0?i.x:f[p].x,v.y=f[p].y===void 0?i.y:f[p].y)}}else Re(a,function(c){c.options.fixed.x===!1&&(c.x=i.x),c.options.fixed.y===!1&&(c.y=i.y)});for(const c in a)if(Object.prototype.hasOwnProperty.call(a,c)){const h=this.body.nodes[c];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[c]}const u=[];for(let c=0;c<i.edges.length;c++)u.push(i.edges[c]);for(let c=0;c<u.length;c++){const h=u[c],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let v=0;v<h.clusteringEdgeReplacingIds.length;v++){const y=h.clusteringEdgeReplacingIds[v],w=this.body.edges[y];if(w!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[w.id]=w,delete l[w.id];let m=w.fromId,x=w.toId;w.toId==f?x=p.clusterId:m=p.clusterId,this._createClusteredEdge(m,x,w,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(w)}h.remove()}for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&this._restoreEdge(l[c]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),Wo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Wo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let o=0;for(;r.length>0&&o<s;){const a=r.pop();if(a===void 0)continue;const l=this.body.edges[a];if(l===void 0)continue;o++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(a);else for(let c=0;c<u.length;++c){const h=u[c];Ue(r).call(r,u)!==-1||Ue(n).call(n,u)!==-1||r.push(h)}n.push(a)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),o=Math.sqrt(s);let a=Math.floor(e+2*o);return a>i&&(a=i),a}_createClusteredEdge(e,r,n,i,s){const o=Nr.cloneOptions(n,"edge");et(o,i),o.from=e,o.to=r,o.id="clusterEdge:"+Ec(),s!==void 0&&et(o,s);const a=this.body.functions.createEdge(o);return a.clusteringEdgeReplacingIds=[n.id],a.connect(),this.body.edges[a.id]=a,a}_clusterEdges(e,r,n,i){if(r instanceof Ys){const s=r,o={};o[s.id]=s,r=o}if(e instanceof at){const s=e,o={};o[s.id]=s,e=o}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const o=this.body.edges[s];this._backupEdgeOptions(o),o.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Re(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Re(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Re(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Re(l.containedEdges,(u,c)=>{!u.endPointsValid()&&!n[c]&&(n[c]=c)})}),Re(this.body.edges,(l,u)=>{let c=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;Re(h,p=>{const v=this.body.edges[p];v!==void 0&&v.endPointsValid()&&(f+=1)}),c=f>0}(!l.endPointsValid()||!c)&&(n[u]=u)}),i(l=>{Re(n,u=>{delete l.containedEdges[u],Re(l.edges,(c,h)=>{if(c.id===u){l.edges[h]=null;return}c.clusteringEdgeReplacingIds=this._filter(c.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(c){return c!==null})})}),Re(n,l=>{delete this.clusteredEdges[l]}),Re(n,l=>{delete this.body.edges[l]});const s=_t(this.body.edges);Re(s,l=>{const u=this.body.edges[l],c=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(c!==this._isClusteredEdge(u.id))if(c){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let o=!1,a=!0;for(;a;){const l=[];i(function(u){const c=_t(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&c<1||!h&&c<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);a=l.length>0,o=o||a}o&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Zge{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Bi(()=>{var r;this.zooming=!1,ee(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",ee(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Mu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(ee(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:o}=this._drawNodes(n,e);r.drawExternalLabels=o}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const o=[],a=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:c.y,right:c.x},f=[];for(let w=0;w<i.length;w++)if(s=n[i[w]],s.hover)a.push(i[w]);else if(s.isSelected())o.push(i[w]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const v=o.length,y=a.length;for(p=0;p<v;p++){s=n[o[p]];const w=s.draw(e);w.drawExternalLabel!=null&&f.push(w.drawExternalLabel)}for(p=0;p<y;p++){s=n[a[p]];const w=s.draw(e);w.drawExternalLabel!=null&&f.push(w.drawExternalLabel)}return{drawExternalLabels:()=>{for(const w of f)w()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var _E,rW;function eye(){if(rW)return _E;rW=1,cG();var t=Ve();return _E=t.setInterval,_E}var SE,nW;function tye(){return nW||(nW=1,SE=eye()),SE}var rye=tye(),nye=Oe(rye);function Zf(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function oY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class iye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",ee(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Mu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=nye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=ee(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Ge(e=Wo(r=Li(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ue(e).call(e,"%")!==-1||Ue(e).call(e,"px")!==-1)return e;if(Ue(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new ml(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:ml.DIRECTION_ALL}),Zf(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new ml(this.frame),oY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,o=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(o),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const a=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==a||this.frame.canvas.height!==l)&&this._getCameraState(o),this.frame.canvas.width!==a&&(this.frame.canvas.width=a,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function sye(t,e){const r=Dt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Ot(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class oye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",ee(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",ee(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=sye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,o;if(n===0||i===0)o=1,s=Nr.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Nr.getRange(this.body.nodes,e.nodes),o=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);o*=h}else{this.body.emitter.emit("_resizeNodes"),s=Nr.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,c=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/c;o=h<=f?h:f}o>e.maxZoomLevel?o=e.maxZoomLevel:o<e.minZoomLevel&&(o=e.minZoomLevel);const l={position:Nr.findCenter(s),scale:o,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Io(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Io(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Io(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Io(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=ee(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=ee(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=ppe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=ee(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function iW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},o;for(o=97;o<=122;o++)s[String.fromCharCode(o)]={code:65+(o-97),shift:!1};for(o=65;o<=90;o++)s[String.fromCharCode(o)]={code:o,shift:!0};for(o=0;o<=9;o++)s[""+o]={code:48+o,shift:!1};for(o=1;o<=12;o++)s["F"+o]={code:111+o,shift:!1};for(o=0;o<=9;o++)s["num"+o]={code:96+o,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var a=function(c){u(c,"keydown")},l=function(c){u(c,"keyup")},u=function(c,h){if(i[h][c.keyCode]!==void 0){for(var f=i[h][c.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&c.shiftKey==!0||f[p].shift==!1&&c.shiftKey==!1)&&f[p].fn(c);e==!0&&c.preventDefault()}};return n.bind=function(c,h,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);i[f][s[c].code]===void 0&&(i[f][s[c].code]=[]),i[f][s[c].code].push({fn:h,shift:s[c].shift})},n.bindAll=function(c,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,c,h)},n.getKey=function(c){for(var h in s)if(s.hasOwnProperty(h)){if(c.shiftKey==!0&&s[h].shift==!0&&c.keyCode==s[h].code)return h;if(c.shiftKey==!1&&s[h].shift==!1&&c.keyCode==s[h].code)return h;if(c.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(c,h,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);if(h!==void 0){var p=[],v=i[f][s[c].code];if(v!==void 0)for(var y=0;y<v.length;y++)v[y].fn==h&&v[y].shift==s[c].shift||p.push(i[f][s[c].code][y]);i[f][s[c].code]=p}else i[f][s[c].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",a,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",a,!0),r.addEventListener("keyup",l,!0),n}class aye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let o=0;o<e.length;o++){this.navigationDOM[e[o]]=document.createElement("div"),this.navigationDOM[e[o]].className="vis-button vis-"+e[o],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[o]]);const a=new ml(this.navigationDOM[e[o]]);if(r[o]==="_fit"){var n;Zf(a,ee(n=this._fit).call(n,this))}else{var i;Zf(a,ee(i=this.bindToRedraw).call(i,this,r[o]))}this.navigationHammers.push(a)}const s=new ml(this.canvas.frame);oY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=ee(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,o=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:o},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=iW({container:window,preventDefault:!0}):this.keycharm=iW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,o,a,l,u,c,h,f,p,v,y,w,g,m,x,b,_,E,O,S;ee(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),ee(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),ee(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),ee(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),ee(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(o=this.keycharm).call(o,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(a=this.keycharm).call(a,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),ee(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),ee(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),ee(v=this.keycharm).call(v,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),ee(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),ee(w=this.keycharm).call(w,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),ee(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(m=this.keycharm).call(m,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),ee(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),ee(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class lye{constructor(e,r,n){var i,s,o,a,l,u,c,h,f,p,v,y,w;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new aye(e,r),this.body.eventListeners.onTap=ee(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=ee(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=ee(o=this.onDoubleTap).call(o,this),this.body.eventListeners.onHold=ee(a=this.onHold).call(a,this),this.body.eventListeners.onDragStart=ee(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=ee(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=ee(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=ee(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=ee(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=ee(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=ee(v=this.onRelease).call(v,this),this.body.eventListeners.onContext=ee(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=ee(w=this.getPointer).call(w,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Qf(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),xn(this.options,e,"keyboard"),e.tooltip&&(Dt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=ZP(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-cpe(this.canvas.frame.canvas),y:e.y-dpe(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const o=[];for(let a=0;a<i.length;a++){const l=i[a];Ue(s).call(s,l)===-1&&o.push(l)}return o};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Dt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ge(n).call(n,o=>{const a=o.node;o.xFixed===!1&&(a.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(o.x)+i)),o.yFixed===!1&&(a.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(o.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Wr(r=this.body.nodeIndices).call(r,a=>{const l=this.body.nodes[a];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Ge(s).call(s,a=>this.selectionHandler.selectObject(this.body.nodes[a]));const o=this.getPointer(e.center);this.selectionHandler.commitAndEmit(o,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Ge(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,o=e/n,a=(1-o)*r.x+s.x*o,l=(1-o)*r.y+s.y*o;if(this.body.view.scale=e,this.body.view.translation={x:a,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Bi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let o=!1,a="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let c;const h=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&(o=!0,c.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],o=!0)}if(this.popupObj===void 0&&o===!1){const l=this.body.edgeIndices,u=this.body.edges;let c;const h=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&c.connected===!0&&c.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],a="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new _pe(this.canvas.frame)),this.popup.popupTargetType=a,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var sW={},oW={},aW;function uye(){if(aW)return oW;aW=1;var t=_I(),e=YG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),oW}var lW;function cye(){return lW||(lW=1,uye()),sW}var uW={},EE,cW;function Na(){if(cW)return EE;cW=1;var t=Ou(),e=TypeError;return EE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},EE}var OE,dW;function Ra(){if(dW)return OE;dW=1;var t=mn(),e=QG(),r=t("Set"),n=r.prototype;return OE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},OE}var PE,hW;function $a(){if(hW)return PE;hW=1;var t=nn();return PE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,o,a;!(o=t(s,i)).done;)if(a=r(o.value),a!==void 0)return a},PE}var CE,fW;function sh(){if(fW)return CE;fW=1;var t=$a();return CE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},CE}var TE,pW;function II(){if(pW)return TE;pW=1;var t=Ra(),e=sh(),r=t.Set,n=t.add;return TE=function(i){var s=new r;return e(i,function(o){n(s,o)}),s},TE}var IE,mW;function oh(){return mW||(mW=1,IE=function(t){return t.size}),IE}var NE,vW;function dye(){return vW||(vW=1,NE=function(t){return{iterator:t,next:t.next,done:!1}}),NE}var RE,gW;function ja(){if(gW)return RE;gW=1;var t=as(),e=Si(),r=nn(),n=Iu(),i=dye(),s="Invalid size",o=RangeError,a=TypeError,l=Math.max,u=function(c,h){this.set=c,this.size=l(h,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},RE=function(c){e(c);var h=+c.size;if(h!==h)throw new a(s);var f=n(h);if(f<0)throw new o(s);return new u(c,f)},RE}var $E,yW;function hye(){if(yW)return $E;yW=1;var t=Na(),e=Ra(),r=II(),n=oh(),i=ja(),s=sh(),o=$a(),a=e.has,l=e.remove;return $E=function(c){var h=t(this),f=i(c),p=r(h);return n(h)<=f.size?s(h,function(v){f.includes(v)&&l(p,v)}):o(f.getIterator(),function(v){a(p,v)&&l(p,v)}),p},$E}var jE,bW;function ka(){return bW||(bW=1,jE=function(){return!1}),jE}var wW;function fye(){if(wW)return uW;wW=1;var t=ye(),e=hye(),r=qe(),n=ka(),i=!n("difference",function(o){return o.size===0}),s=i||r(function(){var o={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return a.has(1)&&a.clear(),{done:u,value:2}}}}},a=new Set([1,2,3,4]);return a.difference(o).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),uW}var xW={},kE,_W;function pye(){if(_W)return kE;_W=1;var t=Na(),e=Ra(),r=oh(),n=ja(),i=sh(),s=$a(),o=e.Set,a=e.add,l=e.has;return kE=function(c){var h=t(this),f=n(c),p=new o;return r(h)>f.size?s(f.getIterator(),function(v){l(h,v)&&a(p,v)}):i(h,function(v){f.includes(v)&&a(p,v)}),p},kE}var SW;function mye(){if(SW)return xW;SW=1;var t=ye(),e=qe(),r=pye(),n=ka(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),xW}var EW={},DE,OW;function vye(){if(OW)return DE;OW=1;var t=Na(),e=Ra().has,r=oh(),n=ja(),i=sh(),s=$a(),o=wI();return DE=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var h=c.getIterator();return s(h,function(f){if(e(u,f))return o(h,"normal",!1)})!==!1},DE}var PW;function gye(){if(PW)return EW;PW=1;var t=ye(),e=vye(),r=ka(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),EW}var CW={},qE,TW;function yye(){if(TW)return qE;TW=1;var t=Na(),e=oh(),r=sh(),n=ja();return qE=function(s){var o=t(this),a=n(s);return e(o)>a.size?!1:r(o,function(l){if(!a.includes(l))return!1},!0)!==!1},qE}var IW;function bye(){if(IW)return CW;IW=1;var t=ye(),e=yye(),r=ka(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),CW}var NW={},ME,RW;function wye(){if(RW)return ME;RW=1;var t=Na(),e=Ra().has,r=oh(),n=ja(),i=$a(),s=wI();return ME=function(a){var l=t(this),u=n(a);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(h){if(!e(l,h))return s(c,"normal",!1)})!==!1},ME}var $W;function xye(){if($W)return NW;$W=1;var t=ye(),e=wye(),r=ka(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),NW}var jW={},AE,kW;function _ye(){if(kW)return AE;kW=1;var t=Na(),e=Ra(),r=II(),n=ja(),i=$a(),s=e.add,o=e.has,a=e.remove;return AE=function(u){var c=t(this),h=n(u).getIterator(),f=r(c);return i(h,function(p){o(c,p)?a(f,p):s(f,p)}),f},AE}var FE,DW;function aY(){return DW||(DW=1,FE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),FE}var qW;function Sye(){if(qW)return jW;qW=1;var t=ye(),e=_ye(),r=aY(),n=ka(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),jW}var MW={},LE,AW;function Eye(){if(AW)return LE;AW=1;var t=Na(),e=Ra().add,r=II(),n=ja(),i=$a();return LE=function(o){var a=t(this),l=n(o).getIterator(),u=r(a);return i(l,function(c){e(u,c)}),u},LE}var FW;function Oye(){if(FW)return MW;FW=1;var t=ye(),e=Eye(),r=aY(),n=ka(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),MW}var BE,LW;function Pye(){if(LW)return BE;LW=1,ju(),cye(),fye(),mye(),gye(),bye(),xye(),Sye(),Oye(),EI();var t=Ve();return BE=t.Set,BE}var zE,BW;function Cye(){if(BW)return zE;BW=1;var t=Pye();return ku(),zE=t,zE}var UE,zW;function Tye(){return zW||(zW=1,UE=Cye()),UE}var Iye=Tye(),bs=Oe(Iye),UW={},WW={},WE,HW;function Nye(){if(HW)return WE;HW=1;var t=Ae(),e=SI(),r=im().getWeakData,n=xI(),i=Si(),s=_u(),o=ir(),a=sm(),l=ho(),u=fr(),c=Ca(),h=c.set,f=c.getterFor,p=l.find,v=l.findIndex,y=t([].splice),w=0,g=function(b){return b.frozen||(b.frozen=new m)},m=function(){this.entries=[]},x=function(b,_){return p(b.entries,function(E){return E[0]===_})};return m.prototype={get:function(b){var _=x(this,b);if(_)return _[1]},has:function(b){return!!x(this,b)},set:function(b,_){var E=x(this,b);E?E[1]=_:this.entries.push([b,_])},delete:function(b){var _=v(this.entries,function(E){return E[0]===b});return~_&&y(this.entries,_,1),!!~_}},WE={getConstructor:function(b,_,E,O){var S=b(function(T,I){n(T,C),h(T,{type:_,id:w++,frozen:null}),s(I)||a(I,T[O],{that:T,AS_ENTRIES:E})}),C=S.prototype,P=f(_),N=function(T,I,q){var B=P(T),re=r(i(I),!0);return re===!0?g(B).set(I,q):re[B.id]=q,T};return e(C,{delete:function(T){var I=P(this);if(!o(T))return!1;var q=r(T);return q===!0?g(I).delete(T):q&&u(q,I.id)&&delete q[I.id]},has:function(I){var q=P(this);if(!o(I))return!1;var B=r(I);return B===!0?g(q).has(I):B&&u(B,q.id)}}),e(C,E?{get:function(I){var q=P(this);if(o(I)){var B=r(I);if(B===!0)return g(q).get(I);if(B)return B[q.id]}},set:function(I,q){return N(this,I,q)}}:{add:function(I){return N(this,I,!0)}}),S}},WE}var VW;function Rye(){if(VW)return WW;VW=1;var t=KG(),e=ut(),r=Ae(),n=SI(),i=im(),s=_I(),o=Nye(),a=ir(),l=Ca().enforce,u=qe(),c=Y9(),h=Object,f=Array.isArray,p=h.isExtensible,v=h.isFrozen,y=h.isSealed,w=h.freeze,g=h.seal,m=!e.ActiveXObject&&"ActiveXObject"in e,x,b=function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,o),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var T=w([]);return O(new _,T,1),!v(T)})};if(c)if(m){x=o.getConstructor(b,"WeakMap",!0),i.enable();var C=r(E.delete),P=r(E.has),N=r(E.get);n(E,{delete:function(T){if(a(T)&&!p(T)){var I=l(this);return I.frozen||(I.frozen=new x),C(this,T)||I.frozen.delete(T)}return C(this,T)},has:function(I){if(a(I)&&!p(I)){var q=l(this);return q.frozen||(q.frozen=new x),P(this,I)||q.frozen.has(I)}return P(this,I)},get:function(I){if(a(I)&&!p(I)){var q=l(this);return q.frozen||(q.frozen=new x),P(this,I)?N(this,I):q.frozen.get(I)}return N(this,I)},set:function(I,q){if(a(I)&&!p(I)){var B=l(this);B.frozen||(B.frozen=new x),P(this,I)?O(this,I,q):B.frozen.set(I,q)}else O(this,I,q);return this}})}else S()&&n(E,{set:function(I,q){var B;return f(I)&&(v(I)?B=w:y(I)&&(B=g)),O(this,I,q),B&&B(I),this}});return WW}var KW;function $ye(){return KW||(KW=1,Rye()),UW}var HE,GW;function jye(){if(GW)return HE;GW=1,ju(),$ye();var t=Ve();return HE=t.WeakMap,HE}var VE,YW;function kye(){if(YW)return VE;YW=1;var t=jye();return ku(),VE=t,VE}var KE,QW;function Dye(){return QW||(QW=1,KE=kye()),KE}var qye=Dye(),ah=Oe(qye);function Oc(t,e,r){Mye(t,e),e.set(t,r)}function Mye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sC(t,e,r){return t.set(lY(t,e),r),r}function Ze(t,e){return t.get(lY(t,e))}function lY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function XW(t,e){const r=new bs;for(const n of e)t.has(n)||r.add(n);return r}var Ba=new ah,An=new ah;class JW{constructor(){Oc(this,Ba,new bs),Oc(this,An,new bs)}get size(){return Ze(An,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(An,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(An,this).delete(i)}clear(){Ze(An,this).clear()}getSelection(){return[...Ze(An,this)]}getChanges(){return{added:[...XW(Ze(Ba,this),Ze(An,this))],deleted:[...XW(Ze(An,this),Ze(Ba,this))],previous:[...new bs(Ze(Ba,this))],current:[...new bs(Ze(An,this))]}}commit(){const e=this.getChanges();sC(Ba,this,Ze(An,this)),sC(An,this,new bs(Ze(Ba,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var mo=new ah,vo=new ah,GE=new ah;class Aye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Oc(this,mo,new JW),Oc(this,vo,new JW),Oc(this,GE,void 0),sC(GE,this,e)}get sizeNodes(){return Ze(mo,this).size}get sizeEdges(){return Ze(vo,this).size}getNodes(){return Ze(mo,this).getSelection()}getEdges(){return Ze(vo,this).getSelection()}addNodes(){Ze(mo,this).add(...arguments)}addEdges(){Ze(vo,this).add(...arguments)}deleteNodes(e){Ze(mo,this).delete(e)}deleteEdges(e){Ze(vo,this).delete(e)}clear(){Ze(mo,this).clear(),Ze(vo,this).clear()}commit(){const e={nodes:Ze(mo,this).commit(),edges:Ze(vo,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ze(GE,this).call(this,e,...n),e}}class Fye{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Aye,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Dt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Mu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const o=this._initBaseEvent(r,n);if(s===!0)o.nodes=[],o.edges=[];else{const a=this.getSelection();o.nodes=a.nodes,o.edges=a.edges}i!==void 0&&(o.previousSelection=i),e=="click"&&(o.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(o.controlEdge=r.controlEdge),this.body.emitter.emit(e,o)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof at?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const o=this.body.edges;for(let a=0;a<this.body.edgeIndices.length;a++){const l=this.body.edgeIndices[a],u=o[l];if(u.connected){const c=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,v=u.edgeType.getDistanceToEdge(c,h,f,p,n.x,n.y);v<i&&(s=l,i=v)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof at?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof at?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof at?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof at?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof at&&n.id!=s||n instanceof Ys)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Ys&&n.id!=s||n instanceof at&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=_t(this.hoverObj.edges).length,o=_t(this.hoverObj.nodes).length,a=n instanceof Ys&&s===0&&o===0,l=n instanceof at&&s===0&&o===0;(i||a||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof at&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return Xl(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return Xl(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const c=s[i[l]].getItemsOnPoint(r);n.push.apply(n,c)}const o=this.body.edgeIndices,a=this.body.edges;for(let l=o.length-1;l>=0;l--){const c=a[o[l]].getItemsOnPoint(r);n.push.apply(n,c)}return n}}var ZW={},YE,eH;function Lye(){if(eH)return YE;eH=1;var t=Nu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var o=1,a,l;o<s;){for(l=o,a=n[o];l&&i(n[l-1],a)>0;)n[l]=n[--l];l!==o++&&(n[l]=a)}else for(var u=e(s/2),c=r(t(n,0,u),i),h=r(t(n,u),i),f=c.length,p=h.length,v=0,y=0;v<f||y<p;)n[v+y]=v<f&&y<p?i(c[v],h[y])<=0?c[v++]:h[y++]:v<f?c[v++]:h[y++];return n};return YE=r,YE}var QE,tH;function Bye(){if(tH)return QE;tH=1;var t=Su(),e=t.match(/firefox\/(\d+)/i);return QE=!!e&&+e[1],QE}var XE,rH;function zye(){if(rH)return XE;rH=1;var t=Su();return XE=/MSIE|Trident/.test(t),XE}var JE,nH;function Uye(){if(nH)return JE;nH=1;var t=Su(),e=t.match(/AppleWebKit\/(\d+)\./);return JE=!!e&&+e[1],JE}var iH;function Wye(){if(iH)return ZW;iH=1;var t=ye(),e=Ae(),r=as(),n=vn(),i=ls(),s=oG(),o=kn(),a=qe(),l=Lye(),u=Du(),c=Bye(),h=zye(),f=Hd(),p=Uye(),v=[],y=e(v.sort),w=e(v.push),g=a(function(){v.sort(void 0)}),m=a(function(){v.sort(null)}),x=u("sort"),b=!a(function(){if(f)return f<70;if(!(c&&c>3)){if(h)return!0;if(p)return p<603;var O="",S,C,P,N;for(S=65;S<76;S++){switch(C=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:P=3;break;case 68:case 71:P=4;break;default:P=2}for(N=0;N<47;N++)v.push({k:C+N,v:P})}for(v.sort(function(T,I){return I.v-T.v}),N=0;N<v.length;N++)C=v[N].k.charAt(0),O.charAt(O.length-1)!==C&&(O+=C);return O!=="DGBEFHACIJK"}}),_=g||!m||!x||!b,E=function(O){return function(S,C){return C===void 0?-1:S===void 0?1:O!==void 0?+O(S,C)||0:o(S)>o(C)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var C=n(this);if(b)return S===void 0?y(C):y(C,S);var P=[],N=i(C),T,I;for(I=0;I<N;I++)I in C&&w(P,C[I]);for(l(P,E(S)),T=i(P),I=0;I<T;)C[I]=P[I++];for(;I<N;)s(C,I++);return C}}),ZW}var ZE,sH;function Hye(){if(sH)return ZE;sH=1,Wye();var t=pr();return ZE=t("Array","sort"),ZE}var eO,oH;function Vye(){if(oH)return eO;oH=1;var t=Ft(),e=Hye(),r=Array.prototype;return eO=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},eO}var tO,aH;function Kye(){if(aH)return tO;aH=1;var t=Vye();return tO=t,tO}var rO,lH;function Gye(){return lH||(lH=1,rO=Kye()),rO}var Yye=Gye(),gl=Oe(Yye),uH={},nO,cH;function Qye(){if(cH)return nO;cH=1;var t=as(),e=vn(),r=Wp(),n=ls(),i=TypeError,s="Reduce of empty array with no initial value",o=function(a){return function(l,u,c,h){var f=e(l),p=r(f),v=n(f);if(t(u),v===0&&c<2)throw new i(s);var y=a?v-1:0,w=a?-1:1;if(c<2)for(;;){if(y in p){h=p[y],y+=w;break}if(y+=w,a?y<0:v<=y)throw new i(s)}for(;a?y>=0:v>y;y+=w)y in p&&(h=u(h,p[y],y,f));return h}};return nO={left:o(!1),right:o(!0)},nO}var iO,dH;function Xye(){if(dH)return iO;dH=1;var t=lG();return iO=t==="NODE",iO}var hH;function Jye(){if(hH)return uH;hH=1;var t=ye(),e=Qye().left,r=Du(),n=Hd(),i=Xye(),s=!i&&n>79&&n<83,o=s||!r("reduce");return t({target:"Array",proto:!0,forced:o},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),uH}var sO,fH;function Zye(){if(fH)return sO;fH=1,Jye();var t=pr();return sO=t("Array","reduce"),sO}var oO,pH;function ebe(){if(pH)return oO;pH=1;var t=Ft(),e=Zye(),r=Array.prototype;return oO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},oO}var aO,mH;function tbe(){if(mH)return aO;mH=1;var t=ebe();return aO=t,aO}var lO,vH;function rbe(){return vH||(vH=1,lO=tbe()),lO}var nbe=rbe(),uY=Oe(nbe);class cY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class ibe extends cY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){gl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class sbe extends cY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){gl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var gH={},yH;function obe(){if(yH)return gH;yH=1;var t=ye(),e=ho().every,r=Du(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),gH}var uO,bH;function abe(){if(bH)return uO;bH=1,obe();var t=pr();return uO=t("Array","every"),uO}var cO,wH;function lbe(){if(wH)return cO;wH=1;var t=Ft(),e=abe(),r=Array.prototype;return cO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},cO}var dO,xH;function ube(){if(xH)return dO;xH=1;var t=lbe();return dO=t,dO}var hO,_H;function cbe(){return _H||(_H=1,hO=ube()),hO}var dbe=cbe(),dY=Oe(dbe);function hbe(t,e){const r=new bs;return Ge(t).call(t,n=>{var i;Ge(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Ge(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function fbe(t){return hY(e=>{var r,n;return dY(r=Wr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function pbe(t){return hY(e=>{var r,n;return dY(r=Wr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function hY(t,e,r,n){var i;const s=Ho(null),o=uY(i=[...rY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),a=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let v=0,y;for(;y=p.pop();){var u,c;if(!n.has(h))continue;const w=s[y.id]+l;if(Ge(u=Wr(c=y.edges).call(c,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const m=g[a],x=s[m];(x==null||e(w,x))&&(s[m]=w,p.push(g[r]))}),v>o)return hbe(n,s);++v}}return s}class mbe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const o=this.childrenReference[i];if(o.length>0)for(let a=0;a<o.length;a++)s=Math.max(s,n(o[a]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new OI;let n=0;const i=gl(e=[...new bs(Nhe(this.levels))]).call(e,(s,o)=>s-o);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,o=-1e9;for(const a in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,a)&&this.trees[a]===r){const l=e[a];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),o=Math.max(l.y,o)}return{min_x:n,max_x:i,min_y:s,max_y:o}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let o=0;o<i.length;o++)if(n[s]==i[o])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return _t(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class vbe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Vf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Mu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),xn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),et(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=nm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,o={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(o):this.body.modules.clustering.clusterOutliers(o);const c=e.length;if(u==c&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const a=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*a,u.y+=(.5-this._rng())*a)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Nr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Nr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new mbe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const o=this.options.hierarchical.sortMethod;o==="hubsize"?this._determineLevelsByHubsize():o==="directed"?this._determineLevelsDirected():o==="custom"&&this._determineLevelsCustomCallback()}for(const o in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,o)&&this.hierarchical.ensureLevel(o);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=o();let m=0;for(let x=0;x<g.length-1;x++){const b=g[x].max-g[x+1].min;m+=b+this.options.hierarchical.treeSpacing,s(x+1,m)}},s=(g,m)=>{const x=this.hierarchical.trees;for(const b in x)Object.prototype.hasOwnProperty.call(x,b)&&x[b]===g&&this.direction.shift(b,m)},o=()=>{const g=[];for(let m=0;m<this.hierarchical.numTrees();m++)g.push(this.direction.getTreeSize(m));return g},a=(g,m)=>{if(!m[g.id]&&(m[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let b=0;b<x.length;b++)a(this.body.nodes[x[b]],m)}},l=function(g){let m=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,b=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],C=e.hierarchical.levels[S.id],P=e.direction.getPosition(S),[N,T]=e._getSpaceAroundNode(S,g);x=Math.min(N,x),b=Math.min(T,b),C<=m&&(_=Math.min(P,_),E=Math.max(P,E))}return[_,E,x,b]},u=(g,m)=>{const x=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(m.id);return Math.min(x,b)},c=(g,m,x)=>{const b=this.hierarchical;for(let _=0;_<m.length;_++){const E=m[_],O=b.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const C=O[S],P=O[S+1];b.hasSameParent(C,P)&&b.inSameSubNetwork(C,P)&&g(C,P,x)}}},h=function(g,m){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(m),E=Math.abs(_-b),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},C={};a(g,S),a(m,C);const P=u(g,m),N=l(S,P),T=l(C,P),I=N[1],q=T[0],B=T[2];if(Math.abs(I-q)>O){let Q=I-q+O;Q<-B+O&&(Q=-B+O),Q<0&&(e._shiftBlock(m.id,Q),r=!0,x===!0&&e._centerParent(m))}}},f=(g,m)=>{const x=m.id,b=m.edges,_=this.hierarchical.levels[m.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let B=0;B<b.length;B++){const re=b[B];if(re.toId!=re.fromId){const Q=re.toId==x?re.from:re.to;O[b[B].id]=Q,this.hierarchical.levels[Q.id]<_&&S.push(re)}}const C=(B,re)=>{let Q=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-B;Q+=G/Math.sqrt(G*G+E)}return Q},P=(B,re)=>{let Q=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const G=this.direction.getPosition(O[re[L].id])-B;Q-=E*Math.pow(G*G+E,-1.5)}return Q},N=(B,re)=>{let Q=this.direction.getPosition(m);const L={};for(let G=0;G<B;G++){const U=C(Q,re),z=P(Q,re),te=40,fe=Math.max(-te,Math.min(te,Math.round(U/z)));if(Q=Q-fe,L[Q]!==void 0)break;L[Q]=G}return Q},T=B=>{const re=this.direction.getPosition(m);if(n[m.id]===void 0){const te={};a(m,te),n[m.id]=te}const Q=l(n[m.id]),L=Q[2],G=Q[3],U=B-re;let z=0;U>0?z=Math.min(U,G-this.options.hierarchical.nodeSpacing):U<0&&(z=-Math.min(-U,L-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(m.id,z),r=!0)},I=B=>{const re=this.direction.getPosition(m),[Q,L]=this._getSpaceAroundNode(m),G=B-re;let U=re;G>0?U=Math.min(re+(L-this.options.hierarchical.nodeSpacing),B):G<0&&(U=Math.max(re-(Q-this.options.hierarchical.nodeSpacing),B)),U!==re&&(this.direction.setPosition(m,U),r=!0)};let q=N(g,S);T(q),q=N(g,b),I(q)},p=g=>{let m=this.hierarchical.getLevels();m=Wo(m).call(m);for(let x=0;x<g;x++){r=!1;for(let b=0;b<m.length;b++){const _=m[b],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},v=g=>{let m=this.hierarchical.getLevels();m=Wo(m).call(m);for(let x=0;x<g&&(r=!1,c(h,m,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},w=()=>{let g=this.hierarchical.getLevels();g=Wo(g).call(g);for(let m=0;m<g.length;m++){const x=g[m],b=this.hierarchical.distributionOrdering[x];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(v(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&w(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],o=this.direction.getPosition(e),a=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const c=a[s-1];if(n===!0&&r[c.id]===void 0||n===!1){const h=this.direction.getPosition(c);l=o-h}}if(s!=a.length-1){const c=a[s+1];if(n===!0&&r[c.id]===void 0||n===!1){const h=this.direction.getPosition(c);u=Math.min(u,h-o)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],o=this.hierarchical.childrenReference[i];if(o!==void 0){const a=this._getCenterPosition(o),l=this.direction.getPosition(s),[u,c]=this._getSpaceAroundNode(s),h=l-a;(h<0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,a)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=_t(e[n]);i=this._indexArrayToNodes(i),gl(r=this.direction).call(r,i);let s=0;for(let o=0;o<i.length;o++){const a=i[o];if(this.positionedNodes[a.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[o-1])+l),this.direction.setPosition(a,u,n),this._validatePositionAndContinue(a,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let a=0;a<i.length;a++)s.push(this.body.nodes[i[a]]);gl(n=this.direction).call(n,s);for(let a=0;a<s.length;a++){const l=s[a],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const c=this.options.hierarchical.nodeSpacing;let h;a===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[a-1])+c,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const o=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],o,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,o=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(o.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Re(e.edges,n=>{var i;Ue(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Re(r,i=>{const s=this.body.nodes[i],o=this._getActiveEdges(s).length;e[o]=!0});const n=[];return Re(e,i=>{n.push(Number(i))}),gl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Re(this.body.nodeIndices,s=>{const o=this.body.nodes[s];i===this._getActiveEdges(o).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,o){},n=(i,s,o)=>{let a=this.hierarchical.levels[i.id];a===void 0&&(a=this.hierarchical.levels[i.id]=1e5);const l=r(Nr.cloneOptions(i,"node"),Nr.cloneOptions(s,"node"),Nr.cloneOptions(o,"edge"));this.hierarchical.levels[s.id]=a+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=uY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new OI);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=pbe(r):this.hierarchical.levels=fbe(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,o)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,o),n[s.id]=!0;let a;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const c=l[u];c.connected===!0&&(c.toId==s.id?a=c.from:a=c.to,s.id!=a.id&&(e(s,a,c),i(a,o)))}}};if(r===void 0){let s=0;for(let o=0;o<this.body.nodeIndices.length;o++){const a=this.body.nodeIndices[o];if(n[a]===void 0){const l=this.body.nodes[a];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const o=this.hierarchical.childrenReference[s];if(o!==void 0)for(let a=0;a<o.length;a++)i(o[a])};i(e)}_findCommonParent(e,r){const n={},i=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];o[c]=!0,i(o,c)}},s=(o,a)=>{const l=this.hierarchical.parentReference[a];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];if(o[c]!==void 0)return{foundParent:c,withChild:a};const h=s(o,c);if(h.foundParent!==null)return h}return{foundParent:null,withChild:a}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new ibe(this):this.direction=new sbe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const a=e[i];s=this.body.nodes[a]}const o=this.direction.getPosition(s);r=Math.min(r,o),n=Math.max(n,o)}return .5*(r+n)}}class gbe{constructor(e,r,n,i){var s,o;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Dt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",ee(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",ee(o=this._restore).call(o,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,et(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,o=this.options.locales[this.options.locale];let a=!1;this.options.addNode!==!1&&(this._createAddNodeButton(o),a=!0),this.options.addEdge!==!1&&(a===!0?this._createSeperator(1):a=!0,this._createAddEdgeButton(o)),n===1&&typeof this.options.editNode=="function"?(a===!0?this._createSeperator(2):a=!0,this._createEditNodeButton(o)):i===1&&n===0&&this.options.editEdge!==!1&&(a===!0?this._createSeperator(3):a=!0,this._createEditEdgeButton(o)),s!==0&&(n>0&&this.options.deleteNode!==!1?(a===!0&&this._createSeperator(4),this._createDeleteButton(o)):n===0&&this.options.deleteEdge!==!1&&(a===!0&&this._createSeperator(4),this._createDeleteButton(o))),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",ee(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,ee(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",ee(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=et({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var o;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,ee(o=this.toggleEditMode).call(o,this))}this._temporaryBindUI("onTouch",ee(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",ee(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",ee(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",ee(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",ee(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const o=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(o.from.id,o.to.id);return}if(this.guiEnabled===!0){var e;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,ee(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const o=this.body.edges[this.edgeBeingEditedId],a=this._getNewTargetNode(o.from.x,o.from.y),l=this._getNewTargetNode(o.to.x,o.to.y);this.temporaryIds.nodes.push(a.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[a.id]=a,this.body.nodeIndices.push(a.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",ee(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",ee(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",ee(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",ee(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const c=o.edgeType.findBorderPositions(u);a.selected===!1&&(a.x=c.from.x,a.y=c.from.y),l.selected===!1&&(l.x=c.to.x,l.y=c.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=et({},this.options.controlNodeStyle);n.id="targetNode"+Ec(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ms(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,ee(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ms(this.editModeDiv),ms(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Li(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),ms(this.manipulationDiv),ms(this.editModeDiv),ms(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,ee(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,ee(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Jd(_t(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new ml(e,{});Zf(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:o,key:a}=s;(a==="Enter"||a===" "||o===13||o===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const o=Ue(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(o!==-1){var r;Li(r=this.body.edgeIndices).call(r,o,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const o=Ue(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(o!==-1){var i;Li(i=this.body.nodeIndices).call(i,o,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Dt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const o=n.isOverlappingWith(r),a=i.isOverlappingWith(r);o===!0?(this.selectedControlNode=n,s.edgeType.from=n):a===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let a=s.length-1;a>=0;a--)if(s[a]!==this.selectedControlNode.id){o=this.body.nodes[s[a]];break}if(o!==void 0&&this.selectedControlNode!==void 0)if(o.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const a=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===a.id?this._performEditEdge(o.id,i.to.id):this._performEditEdge(i.from.id,o.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Dt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Ec(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(Ue(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let o;for(let l=s.length-1;l>=0;l--){var a;if(Ue(a=this.temporaryIds.nodes).call(a,s[l])===-1){o=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),o!==void 0&&(o.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[o.id]!==void 0&&this._performAddEdge(i,o.id)),e.controlEdge={from:i,to:o?o.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Ec(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",Z="boolean",A="number",ac="array",me="object",fY="dom",ybe="any",fO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],pO={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:Z,function:"function"},node:{boolean:Z,function:"function"},__type__:{object:me,boolean:Z}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},__type__:{object:me,string:se}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:Z},y:{boolean:Z},__type__:{object:me,boolean:Z}},font:{align:{string:se},color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},vadjust:{number:A},multi:{boolean:Z,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},group:{string:se,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:se},__type__:{object:me,boolean:Z,number:A}},hidden:{boolean:Z},icon:{face:{string:se},code:{string:se},size:{number:A},color:{string:se},weight:{string:se,number:A},__type__:{object:me}},id:{string:se,number:A},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:me,string:se}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:Z},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},mass:{number:A},physics:{boolean:Z},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Z},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:me}},shadow:{enabled:{boolean:Z},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:Z}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Z,array:ac},borderRadius:{number:A},interpolation:{boolean:Z},useImageSize:{boolean:Z},useBorderWithImage:{boolean:Z},coordinateOrigin:{string:["center","top-left"]},__type__:{object:me}},size:{number:A},title:{string:se,dom:fY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:me,boolean:Z,number:A}},x:{number:A},y:{number:A},__type__:{object:me}},bbe={configure:{enabled:{boolean:Z},filter:{boolean:Z,string:se,array:ac,function:"function"},container:{dom:fY},showButton:{boolean:Z},__type__:{object:me,boolean:Z,string:se,array:ac,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:fO},imageHeight:{number:A},imageWidth:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},middle:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:fO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},from:{enabled:{boolean:Z},scaleFactor:{number:A},type:{string:fO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:Z}},__type__:{string:["from","to","middle"],object:me}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:me,number:A}},arrowStrikethrough:{boolean:Z},background:{enabled:{boolean:Z},color:{string:se},size:{number:A},dashes:{boolean:Z,array:ac},__type__:{object:me,boolean:Z}},chosen:{label:{boolean:Z,function:"function"},edge:{boolean:Z,function:"function"},__type__:{object:me,boolean:Z}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:Z},opacity:{number:A},__type__:{object:me,string:se}},dashes:{boolean:Z,array:ac},font:{color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:Z,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},hidden:{boolean:Z},hoverWidth:{function:"function",number:A},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:Z},length:{number:A,undefined:"undefined"},physics:{boolean:Z},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Z},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:Z}},customScalingFunction:{function:"function"},__type__:{object:me}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:Z},__type__:{object:me}},shadow:{enabled:{boolean:Z},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:Z}},smooth:{enabled:{boolean:Z},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:Z},__type__:{object:me,boolean:Z}},title:{string:se,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:me,boolean:Z,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:me}},groups:{useDefaultGroups:{boolean:Z},__any__:pO,__type__:{object:me}},interaction:{dragNodes:{boolean:Z},dragView:{boolean:Z},hideEdgesOnDrag:{boolean:Z},hideEdgesOnZoom:{boolean:Z},hideNodesOnDrag:{boolean:Z},hover:{boolean:Z},keyboard:{enabled:{boolean:Z},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:me}},bindToWindow:{boolean:Z},autoFocus:{boolean:Z},__type__:{object:me,boolean:Z}},multiselect:{boolean:Z},navigationButtons:{boolean:Z},selectable:{boolean:Z},selectConnectedEdges:{boolean:Z},hoverConnectedEdges:{boolean:Z},tooltipDelay:{number:A},zoomView:{boolean:Z},zoomSpeed:{number:A},__type__:{object:me}},layout:{randomSeed:{undefined:"undefined",number:A,string:se},improvedLayout:{boolean:Z},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:Z},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:Z},edgeMinimization:{boolean:Z},parentCentralization:{boolean:Z},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:me,boolean:Z}},__type__:{object:me}},manipulation:{enabled:{boolean:Z},initiallyActive:{boolean:Z},addNode:{boolean:Z,function:"function"},addEdge:{boolean:Z,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:me,boolean:Z,function:"function"}},deleteNode:{boolean:Z,function:"function"},deleteEdge:{boolean:Z,function:"function"},controlNodeStyle:pO,__type__:{object:me,boolean:Z}},nodes:pO,physics:{enabled:{boolean:Z},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:me}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Z},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:Z},fit:{boolean:Z},__type__:{object:me,boolean:Z}},timestep:{number:A},adaptiveTimestep:{boolean:Z},wind:{x:{number:A},y:{number:A},__type__:{object:me}},__type__:{object:me,boolean:Z}},autoResize:{boolean:Z},clickToUse:{boolean:Z},locale:{string:se},locales:{__any__:{any:ybe},__type__:{object:me}},height:{string:se},width:{string:se},__type__:{object:me}},pY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},wbe=(t,e,r)=>{var n;return!!(Vs(t).call(t,"physics")&&Vs(n=pY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class xbe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let a=0;a<r.length;a++){const l=r[a],u={};i[l]=u;for(let c=0;c<r.length;c++)u[r[c]]=a==c?0:1e9}for(let a=0;a<n.length;a++){const l=s[n[a]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const o=r.length;for(let a=0;a<o;a++){const l=r[a],u=i[l];for(let c=0;c<o-1;c++){const h=r[c],f=i[h];for(let p=c+1;p<o;p++){const v=r[p],y=i[v],w=Math.min(f[v],f[l]+u[v]);f[v]=w,y[h]=w}}}return i}}class _be{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new xbe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,o=1;let a=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let c=1e9,h=0,f=0,p=0,v=0,y=0;for(;c>s&&a<l;)for(a+=1,[h,c,f,p]=this._getHighestEnergyNode(n),v=c,y=0;v>o&&y<u;)y+=1,this._moveNode(h,f,p),[v,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],o=0,a=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[c,h,f]=this._getEnergy(u);i<c&&(i=c,s=u,o=h,a=f)}}return[s,i,o,a]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let o=0,a=0,l=0;const u=s[e].x,c=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],C=f[_],P=1/((u-E)**2+(c-O)**2)**1.5;o+=S*(1-C*(c-O)**2*P),a+=S*(C*(u-E)*(c-O)*P),l+=S*(1-C*(u-E)**2*P)}}const p=o,v=a,y=r,w=l,g=n,m=(y/p+g/v)/(v/p-w/v),x=-(v*m+y)/p;s[e].x+=x,s[e].y+=m,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,o=r[i].y;let a=0,l=0;for(let u=n;u<e.length;u++){const c=e[u];if(c!==i){const h=r[c].x,f=r[c].y,p=1/Math.sqrt((s-h)**2+(o-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][c]*(s-h-this.L_matrix[i][c]*(s-h)*p),this.K_matrix[i][c]*(o-f-this.L_matrix[i][c]*(o-f)*p)],this.E_matrix[c][n]=this.E_matrix[i][u],a+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[a,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],o=this.L_matrix[e],a=n[e].x,l=n[e].y;let u=0,c=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],v=p[0],y=p[1],w=n[f].x,g=n[f].y,m=1/Math.sqrt((a-w)**2+(l-g)**2),x=s[f]*(a-w-o[f]*(a-w)*m),b=s[f]*(l-g-o[f]*(l-g)*m);i[h]=[x,b],u+=x,c+=b;const _=this.E_sums[f];_[0]+=x-v,_[1]+=b-y}}this.E_sums[e]=[u,c]}}function he(t,e,r){var n,i,s,o;if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Vpe,clickToUse:!1},Dt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:ee(n=this.on).call(n,this),off:ee(i=this.off).call(i,this),emit:ee(s=this.emit).call(s,this),once:ee(o=this.once).call(o,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Ype(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new cme,this.canvas=new iye(this.body),this.selectionHandler=new Fye(this.body,this.canvas),this.interactionHandler=new lye(this.body,this.canvas,this.selectionHandler),this.view=new oye(this.body,this.canvas),this.renderer=new Zge(this.body,this.canvas),this.physics=new Hge(this.body),this.layoutEngine=new vbe(this.body),this.clustering=new Jge(this.body),this.manipulation=new gbe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new bge(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Fge(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new _be(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}W9(he.prototype);he.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(Spe.validate(t,bbe)===!0&&console.error("%cErrors have been found in the supplied options object.",FG),Mu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Kpe(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new xpe(this,this.body.container,pY,this.canvas.pixelRatio,wbe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};et(n.nodes,this.nodesHandler.options),et(n.edges,this.edgesHandler.options),et(n.layout,this.layoutEngine.options),et(n.interaction,this.selectionHandler.options),et(n.interaction,this.renderer.options),et(n.interaction,this.interactionHandler.options),et(n.manipulation,this.manipulation.options),et(n.physics,this.physics.options),et(n.global,this.canvas.options),et(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new wpe(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};he.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],o=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&o&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};he.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};he.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=jpe(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=kpe(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};he.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ms(this.body.container)};he.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};he.prototype.isActive=function(){return!this.activator||this.activator.active};he.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};he.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};he.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};he.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};he.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};he.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};he.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};he.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};he.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};he.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};he.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};he.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};he.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};he.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};he.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};he.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};he.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};he.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};he.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};he.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};he.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};he.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};he.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};he.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};he.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};he.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};he.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};he.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};he.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};he.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};he.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};he.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};he.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};he.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};he.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};he.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};he.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};he.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};he.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};he.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};he.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};he.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};he.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};he.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};he.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};he.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};he.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};he.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function Sbe({graphData:t,startPersonId:e,onNodeClick:r}){const n=j.useRef(null),i=j.useRef(null),s=en(),o=j.useCallback(c=>{r?r(c):s(`/people/${c}`)},[r,s]);j.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const c=new Ql(t.nodes),h=new Ql(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new he(n.current,{nodes:c,edges:h},f);return i.current=p,p.on("click",v=>{if(v.nodes.length>0){const y=v.nodes[0];o(y)}}),p.on("doubleClick",v=>{v.nodes.length>0&&p.focus(v.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const v=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(v.length>0){const y=p.getPositions(),w={},g=new Set;v.forEach(([m,x])=>{if(g.has(m)||g.has(x))return;const b=y[m],_=y[x];if(!b||!_)return;const E=(b.x+_.x)/2;w[m]={x:E-60,y:b.y},w[x]={x:E+60,y:_.y},g.add(m),g.add(x)}),Object.entries(w).forEach(([m,x])=>{p.moveNode(m,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,o]);const a=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):d.jsxs("div",{className:"relative w-full h-full",children:[d.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[d.jsx("button",{onClick:a,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:d.jsx(HZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:d.jsx(VZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:d.jsx(S7,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),d.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const Ebe=["parent","child","spouse","lover","partner"];function Obe(t){return Ebe.includes(t==null?void 0:t.toLowerCase())}function Pbe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function Cbe(t){return(t==null?void 0:t.toLowerCase())==="child"}function Tbe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function Ibe(t,e,r){var c;const n=new Map,i=[],s=new Set,o=new Map;e.forEach(h=>o.set(h.id,h));const a=[{personId:t,depth:0}];s.add(t);function l(h,f){var m,x,b,_;let p=h.name||((m=h.title)==null?void 0:m.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let v=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(v=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let w="";switch((b=h.acf)==null?void 0:b.gender){case"male":w="";break;case"female":w="";break;case"non_binary":case"other":case"prefer_not_to_say":w="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),C=E.getFullYear();g=`${O}-${S}-${C}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:w,photo:h.thumbnail||null,age:v,birthDate:y,formattedBirthDate:g}}const u=o.get(t);for(u&&n.set(t,l(u,t));a.length>0;){const{personId:h,depth:f}=a.shift(),p=r.get(h)||[];for(const v of p){if(v.relationship_type_slug&&!Obe(v.relationship_type_slug))continue;const y=v.related_person;if(!y||!o.has(y))continue;if(!n.has(y)){const x=o.get(y);n.set(y,l(x,y))}const w=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===w||`${x.from}-${x.to}`===g)){const x=(c=v.relationship_type_slug)==null?void 0:c.toLowerCase();if(Pbe(x))i.push({from:y,to:h,type:"parent-child"});else if(Cbe(x))i.push({from:h,to:y,type:"parent-child"});else if(Tbe(x)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),a.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function Nbe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,o=new Map,a=new Map;n.forEach(w=>{s.set(w.id,[]),o.set(w.id,[]),a.set(w.id,[])}),i.forEach(w=>{var g,m,x,b;w.type==="parent-child"?((g=s.get(w.to))==null||g.push(w.from),(m=o.get(w.from))==null||m.push(w.to)):w.type==="spouse"&&((x=a.get(w.from))==null||x.push(w.to),(b=a.get(w.to))==null||b.push(w.from))});const l=new Map,u=new Set,c=[{id:e,generation:0}];for(l.set(e,0),u.add(e);c.length>0;){const{id:w,generation:g}=c.shift(),m=s.get(w)||[];for(const _ of m)u.has(_)||(u.add(_),l.set(_,g-1),c.push({id:_,generation:g-1}));const x=o.get(w)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),c.push({id:_,generation:g+1}));const b=a.get(w)||[];for(const _ of b)u.has(_)||(u.add(_),l.set(_,g),c.push({id:_,generation:g}))}n.forEach(w=>{l.has(w.id)||l.set(w.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((w,g)=>{f.set(g,w-h)});function p(w,g,m=!1){const x=w?w.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let b,_;m?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const v=n.map(w=>{const g=f.get(w.id)||0,m=w.id===e,x=r[w.id]||!1;let b=w.name;x&&(b=w.name+" ");let _=[b],E="";w.genderSymbol&&(E+=w.genderSymbol+" "),w.age!==null&&(E+=w.age+" "),w.formattedBirthDate&&(E+=w.formattedBirthDate),E.trim()&&_.push(E.trim());const O=w.photo||p(w.name,m,x);let S="#d1d5db";return m?S="#f59e0b":x&&(S="#9ca3af"),{id:w.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:m?3:2,data:{...w,isDeceased:x}}}),y=i.map((w,g)=>{const m=w.type==="spouse";return{id:`edge-${g}`,from:w.from,to:w.to,arrows:{to:{enabled:!1}},color:{color:m?"#ec4899":"#9ca3af",highlight:m?"#db2777":"#6b7280"},width:2,dashes:m?[5,5]:!1,smooth:!1,length:m?50:300}});return{nodes:v,edges:y}}function Rbe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(o=>{var u,c,h,f,p,v;let a="";o.relationship_slug?a=o.relationship_slug.toLowerCase():typeof o.relationship_type=="object"?a=((u=o.relationship_type)==null?void 0:u.slug)||((h=(c=o.relationship_type)==null?void 0:c.name)==null?void 0:h.toLowerCase())||"":typeof o.relationship_type=="string"&&(a=o.relationship_type.toLowerCase());let l=null;return typeof o.related_person=="object"?l=((f=o.related_person)==null?void 0:f.ID)||((p=o.related_person)==null?void 0:p.id)||((v=o.related_person)==null?void 0:v.term_id):(typeof o.related_person=="number"||typeof o.related_person=="string")&&(l=parseInt(o.related_person,10)),{related_person:l,relationship_type:o.relationship_type,relationship_type_slug:a,relationship_name:o.relationship_name||"",relationship_label:o.relationship_label||""}}).filter(o=>o.related_person);e.set(r.id,i)}),e}function $be(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function jbe(){var p,v;const{id:t}=ts(),e=en(),r=parseInt(t,10),{data:n,isLoading:i}=uu(t),{data:s=[],isLoading:o}=Op(),{data:a=[]}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),l=j.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=kf({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Xr.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),c=j.useMemo(()=>{const y={};return u.forEach((w,g)=>{if(w.data&&l[g]){const m=l[g],x=w.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[m]=x}}),y},[u,l]);Zn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=j.useMemo(()=>{if(!n||!s.length)return null;try{const y=Rbe(s);a.length>0&&$be(y,a);const w=Ibe(r,s,y);return!w||w.nodes.length===0?null:Nbe(w,r,c)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,a,r,c]),f=y=>{e(`/people/${y}`)};return i||o?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?d.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(rs,{className:"w-4 h-4 mr-2"}),"Back to Person"]}),d.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((v=n.title)==null?void 0:v.rendered)||n.title||`Person ${t}`]})]})}),d.jsx("div",{className:"card p-6",children:d.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?d.jsx(Sbe,{graphData:h,startPersonId:r,onNodeClick:f}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),d.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function kbe(){const{loginUrl:t,isLoggedIn:e}=dT();return N7(),j.useEffect(()=>{e||(window.location.href=t)},[e,t]),d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function Dbe({children:t}){const{isLoggedIn:e,isLoading:r}=dT();return r?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?t:d.jsx(r7,{to:"/login",replace:!0})}function qbe(){return d.jsxs(VN,{children:[d.jsx(Xe,{path:"/login",element:d.jsx(kbe,{})}),d.jsx(Xe,{path:"/*",element:d.jsx(Dbe,{children:d.jsx(Ite,{children:d.jsxs(VN,{children:[d.jsx(Xe,{path:"/",element:d.jsx(Are,{})}),d.jsx(Xe,{path:"/people",element:d.jsx(Gre,{})}),d.jsx(Xe,{path:"/people/new",element:d.jsx(KR,{})}),d.jsx(Xe,{path:"/people/:personId/contact/new",element:d.jsx(YR,{})}),d.jsx(Xe,{path:"/people/:personId/contact/:index/edit",element:d.jsx(YR,{})}),d.jsx(Xe,{path:"/people/:personId/work-history/new",element:d.jsx(GR,{})}),d.jsx(Xe,{path:"/people/:personId/work-history/:index/edit",element:d.jsx(GR,{})}),d.jsx(Xe,{path:"/people/:personId/relationship/new",element:d.jsx(QR,{})}),d.jsx(Xe,{path:"/people/:personId/relationship/:index/edit",element:d.jsx(QR,{})}),d.jsx(Xe,{path:"/people/:id/family-tree",element:d.jsx(jbe,{})}),d.jsx(Xe,{path:"/people/:id/edit",element:d.jsx(KR,{})}),d.jsx(Xe,{path:"/people/:id",element:d.jsx(Yre,{})}),d.jsx(Xe,{path:"/companies",element:d.jsx(wne,{})}),d.jsx(Xe,{path:"/companies/new",element:d.jsx(JR,{})}),d.jsx(Xe,{path:"/companies/:id",element:d.jsx(xne,{})}),d.jsx(Xe,{path:"/companies/:id/edit",element:d.jsx(JR,{})}),d.jsx(Xe,{path:"/dates",element:d.jsx(Ene,{})}),d.jsx(Xe,{path:"/dates/new",element:d.jsx(ZR,{})}),d.jsx(Xe,{path:"/dates/:id/edit",element:d.jsx(ZR,{})}),d.jsx(Xe,{path:"/settings",element:d.jsx(Pne,{})}),d.jsx(Xe,{path:"/settings/relationship-types",element:d.jsx(Cne,{})}),d.jsx(Xe,{path:"/settings/import",element:d.jsx(Rne,{})}),d.jsx(Xe,{path:"*",element:d.jsx(r7,{to:"/",replace:!0})})]})})})})]})}const Mbe=new wZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),mO=document.getElementById("root");if(!mO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{vO.createRoot(mO).render(d.jsx(Ce.StrictMode,{children:d.jsx(xZ,{client:Mbe,children:d.jsx(zJ,{children:d.jsx(qbe,{})})})}))}catch(t){console.error("Error mounting React app:",t),mO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
