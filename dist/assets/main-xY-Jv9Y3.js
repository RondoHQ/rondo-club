var zT=t=>{throw TypeError(t)};var Vm=(t,e,r)=>e.has(t)||zT("Cannot "+r);var R=(t,e,r)=>(Vm(t,e,"read from private field"),r?r.call(t):e.get(t)),pe=(t,e,r)=>e.has(t)?zT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ne=(t,e,r,n)=>(Vm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Oe=(t,e,r)=>(Vm(t,e,"access private method"),r);var Fh=(t,e,r,n)=>({set _(i){ne(t,e,i,r)},get _(){return R(t,e,n)}});function WQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function HQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var HW={exports:{}},Mp={},VW={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ud=Symbol.for("react.element"),VQ=Symbol.for("react.portal"),KQ=Symbol.for("react.fragment"),GQ=Symbol.for("react.strict_mode"),YQ=Symbol.for("react.profiler"),QQ=Symbol.for("react.provider"),XQ=Symbol.for("react.context"),JQ=Symbol.for("react.forward_ref"),ZQ=Symbol.for("react.suspense"),eX=Symbol.for("react.memo"),tX=Symbol.for("react.lazy"),UT=Symbol.iterator;function rX(t){return t===null||typeof t!="object"?null:(t=UT&&t[UT]||t["@@iterator"],typeof t=="function"?t:null)}var KW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},GW=Object.assign,YW={};function ju(t,e,r){this.props=t,this.context=e,this.refs=YW,this.updater=r||KW}ju.prototype.isReactComponent={};ju.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ju.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function QW(){}QW.prototype=ju.prototype;function YO(t,e,r){this.props=t,this.context=e,this.refs=YW,this.updater=r||KW}var QO=YO.prototype=new QW;QO.constructor=YO;GW(QO,ju.prototype);QO.isPureReactComponent=!0;var WT=Array.isArray,XW=Object.prototype.hasOwnProperty,XO={current:null},JW={key:!0,ref:!0,__self:!0,__source:!0};function ZW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)XW.call(e,n)&&!JW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Ud,type:t,key:s,ref:a,props:i,_owner:XO.current}}function nX(t,e){return{$$typeof:Ud,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function JO(t){return typeof t=="object"&&t!==null&&t.$$typeof===Ud}function iX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var HT=/\/+/g;function Km(t,e){return typeof t=="object"&&t!==null&&t.key!=null?iX(""+t.key):e.toString(36)}function gf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Ud:case VQ:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Km(a,0):n,WT(i)?(r="",t!=null&&(r=t.replace(HT,"$&/")+"/"),gf(i,e,r,"",function(c){return c})):i!=null&&(JO(i)&&(i=nX(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(HT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",WT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Km(s,o);a+=gf(s,e,r,l,i)}else if(l=rX(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Km(s,o++),a+=gf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Lh(t,e,r){if(t==null)return t;var n=[],i=0;return gf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function sX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hr={current:null},yf={transition:null},aX={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:yf,ReactCurrentOwner:XO};function e9(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:Lh,forEach:function(t,e,r){Lh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Lh(t,function(){e++}),e},toArray:function(t){return Lh(t,function(e){return e})||[]},only:function(t){if(!JO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=ju;Ae.Fragment=KQ;Ae.Profiler=YQ;Ae.PureComponent=YO;Ae.StrictMode=GQ;Ae.Suspense=ZQ;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=aX;Ae.act=e9;Ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=GW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=XO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)XW.call(e,l)&&!JW.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Ud,type:t.type,key:i,ref:s,props:n,_owner:a}};Ae.createContext=function(t){return t={$$typeof:XQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:QQ,_context:t},t.Consumer=t};Ae.createElement=ZW;Ae.createFactory=function(t){var e=ZW.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:JQ,render:t}};Ae.isValidElement=JO;Ae.lazy=function(t){return{$$typeof:tX,_payload:{_status:-1,_result:t},_init:sX}};Ae.memo=function(t,e){return{$$typeof:eX,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=yf.transition;yf.transition={};try{t()}finally{yf.transition=e}};Ae.unstable_act=e9;Ae.useCallback=function(t,e){return Hr.current.useCallback(t,e)};Ae.useContext=function(t){return Hr.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Hr.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Hr.current.useEffect(t,e)};Ae.useId=function(){return Hr.current.useId()};Ae.useImperativeHandle=function(t,e,r){return Hr.current.useImperativeHandle(t,e,r)};Ae.useInsertionEffect=function(t,e){return Hr.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Hr.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Hr.current.useMemo(t,e)};Ae.useReducer=function(t,e,r){return Hr.current.useReducer(t,e,r)};Ae.useRef=function(t){return Hr.current.useRef(t)};Ae.useState=function(t){return Hr.current.useState(t)};Ae.useSyncExternalStore=function(t,e,r){return Hr.current.useSyncExternalStore(t,e,r)};Ae.useTransition=function(){return Hr.current.useTransition()};Ae.version="18.3.1";VW.exports=Ae;var I=VW.exports;const Pe=HQ(I),oX=WQ({__proto__:null,default:Pe},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var lX=I,uX=Symbol.for("react.element"),cX=Symbol.for("react.fragment"),dX=Object.prototype.hasOwnProperty,hX=lX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,fX={key:!0,ref:!0,__self:!0,__source:!0};function t9(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)dX.call(e,n)&&!fX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:uX,type:t,key:s,ref:a,props:i,_owner:hX.current}}Mp.Fragment=cX;Mp.jsx=t9;Mp.jsxs=t9;HW.exports=Mp;var u=HW.exports,tN={},r9={exports:{}},En={},n9={exports:{}},i9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var W=L.length;L.push(V);e:for(;0<W;){var z=W-1>>>1,K=L[z];if(0<i(K,V))L[z]=V,L[W]=K,W=z;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],W=L.pop();if(W!==V){L[0]=W;e:for(var z=0,K=L.length,fe=K>>>1;z<fe;){var xe=2*(z+1)-1,Re=L[xe],ge=xe+1,Ee=L[ge];if(0>i(Re,W))ge<K&&0>i(Ee,Re)?(L[z]=Ee,L[ge]=W,z=ge):(L[z]=Re,L[xe]=W,z=xe);else if(ge<K&&0>i(Ee,W))L[z]=Ee,L[ge]=W,z=ge;else break e}}return V}function i(L,V){var W=L.sortIndex-V.sortIndex;return W!==0?W:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=L)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function x(L){if(y=!1,w(L),!m)if(r(l)!==null)m=!0,Q(_);else{var V=r(c);V!==null&&H(x,V.startTime-L)}}function _(L,V){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var W=f;try{for(w(V),h=r(l);h!==null&&(!(h.expirationTime>V)||L&&!T());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var K=z(h.expirationTime<=V);V=t.unstable_now(),typeof K=="function"?h.callback=K:h===r(l)&&n(l),w(V)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var xe=r(c);xe!==null&&H(x,xe.startTime-V),fe=!1}return fe}finally{h=null,f=W,p=!1}}var E=!1,N=null,S=-1,O=5,j=-1;function T(){return!(t.unstable_now()-j<O)}function C(){if(N!==null){var L=t.unstable_now();j=L;var V=!0;try{V=N(!0,L)}finally{V?P():(E=!1,N=null)}}else E=!1}var P;if(typeof v=="function")P=function(){v(C)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=C,P=function(){F.postMessage(null)}}else P=function(){b(C,0)};function Q(L){N=L,E||(E=!0,P())}function H(L,V){S=b(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Q(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var W=f;f=V;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return V()}finally{f=W}},t.unstable_scheduleCallback=function(L,V,W){var z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,L={id:d++,callback:V,priorityLevel:L,startTime:W,expirationTime:K,sortIndex:-1},W>z?(L.sortIndex=W,e(c,L),r(l)===null&&L===r(c)&&(y?(g(S),S=-1):y=!0,H(x,W-z))):(L.sortIndex=K,e(l,L),m||p||(m=!0,Q(_))),L},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(L){var V=f;return function(){var W=f;f=V;try{return L.apply(this,arguments)}finally{f=W}}}})(i9);n9.exports=i9;var pX=n9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var mX=I,_n=pX;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s9=new Set,rd={};function Ao(t,e){iu(t,e),iu(t+"Capture",e)}function iu(t,e){for(rd[t]=e,t=0;t<e.length;t++)s9.add(e[t])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),rN=Object.prototype.hasOwnProperty,vX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,VT={},KT={};function gX(t){return rN.call(KT,t)?!0:rN.call(VT,t)?!1:vX.test(t)?KT[t]=!0:(VT[t]=!0,!1)}function yX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function bX(t,e,r,n){if(e===null||typeof e>"u"||yX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yr[t]=new Vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yr[e]=new Vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yr[t]=new Vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yr[t]=new Vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yr[t]=new Vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yr[t]=new Vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yr[t]=new Vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yr[t]=new Vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yr[t]=new Vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var ZO=/[\-:]([a-z])/g;function ej(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(ZO,ej);yr[e]=new Vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(ZO,ej);yr[e]=new Vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(ZO,ej);yr[e]=new Vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!1,!1)});yr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function tj(t,e,r,n){var i=yr.hasOwnProperty(e)?yr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(bX(e,r,i,n)&&(r=null),n||i===null?gX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gs=mX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Bh=Symbol.for("react.element"),pl=Symbol.for("react.portal"),ml=Symbol.for("react.fragment"),rj=Symbol.for("react.strict_mode"),nN=Symbol.for("react.profiler"),a9=Symbol.for("react.provider"),o9=Symbol.for("react.context"),nj=Symbol.for("react.forward_ref"),iN=Symbol.for("react.suspense"),sN=Symbol.for("react.suspense_list"),ij=Symbol.for("react.memo"),Rs=Symbol.for("react.lazy"),l9=Symbol.for("react.offscreen"),GT=Symbol.iterator;function pc(t){return t===null||typeof t!="object"?null:(t=GT&&t[GT]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,Gm;function Ic(t){if(Gm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Gm=e&&e[1]||""}return`
`+Gm+t}var Ym=!1;function Qm(t,e){if(!t||Ym)return"";Ym=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Ym=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Ic(t):""}function xX(t){switch(t.tag){case 5:return Ic(t.type);case 16:return Ic("Lazy");case 13:return Ic("Suspense");case 19:return Ic("SuspenseList");case 0:case 2:case 15:return t=Qm(t.type,!1),t;case 11:return t=Qm(t.type.render,!1),t;case 1:return t=Qm(t.type,!0),t;default:return""}}function aN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ml:return"Fragment";case pl:return"Portal";case nN:return"Profiler";case rj:return"StrictMode";case iN:return"Suspense";case sN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case o9:return(t.displayName||"Context")+".Consumer";case a9:return(t._context.displayName||"Context")+".Provider";case nj:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case ij:return e=t.displayName||null,e!==null?e:aN(t.type)||"Memo";case Rs:e=t._payload,t=t._init;try{return aN(t(e))}catch{}}return null}function wX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return aN(e);case 8:return e===rj?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function va(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function u9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function _X(t){var e=u9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function zh(t){t._valueTracker||(t._valueTracker=_X(t))}function c9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=u9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Ff(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function oN(t,e){var r=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function YT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=va(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function d9(t,e){e=e.checked,e!=null&&tj(t,"checked",e,!1)}function lN(t,e){d9(t,e);var r=va(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?uN(t,e.type,r):e.hasOwnProperty("defaultValue")&&uN(t,e.type,va(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function QT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function uN(t,e,r){(e!=="number"||Ff(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Rc=Array.isArray;function Rl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+va(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function cN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function XT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(Rc(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:va(r)}}function h9(t,e){var r=va(e.value),n=va(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function JT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function f9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function dN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?f9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Uh,p9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Uh=Uh||document.createElement("div"),Uh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Uh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function nd(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Ac={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},SX=["Webkit","ms","Moz","O"];Object.keys(Ac).forEach(function(t){SX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Ac[e]=Ac[t]})});function m9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Ac.hasOwnProperty(t)&&Ac[t]?(""+e).trim():e+"px"}function v9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=m9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var EX=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function hN(t,e){if(e){if(EX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function fN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var pN=null;function sj(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var mN=null,$l=null,kl=null;function ZT(t){if(t=Vd(t)){if(typeof mN!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Bp(e),mN(t.stateNode,t.type,e))}}function g9(t){$l?kl?kl.push(t):kl=[t]:$l=t}function y9(){if($l){var t=$l,e=kl;if(kl=$l=null,ZT(t),e)for(t=0;t<e.length;t++)ZT(e[t])}}function b9(t,e){return t(e)}function x9(){}var Xm=!1;function w9(t,e,r){if(Xm)return t(e,r);Xm=!0;try{return b9(t,e,r)}finally{Xm=!1,($l!==null||kl!==null)&&(x9(),y9())}}function id(t,e){var r=t.stateNode;if(r===null)return null;var n=Bp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var vN=!1;if(ds)try{var mc={};Object.defineProperty(mc,"passive",{get:function(){vN=!0}}),window.addEventListener("test",mc,mc),window.removeEventListener("test",mc,mc)}catch{vN=!1}function NX(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var Fc=!1,Lf=null,Bf=!1,gN=null,OX={onError:function(t){Fc=!0,Lf=t}};function jX(t,e,r,n,i,s,a,o,l){Fc=!1,Lf=null,NX.apply(OX,arguments)}function CX(t,e,r,n,i,s,a,o,l){if(jX.apply(this,arguments),Fc){if(Fc){var c=Lf;Fc=!1,Lf=null}else throw Error(Z(198));Bf||(Bf=!0,gN=c)}}function Fo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function _9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eP(t){if(Fo(t)!==t)throw Error(Z(188))}function TX(t){var e=t.alternate;if(!e){if(e=Fo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return eP(i),t;if(s===n)return eP(i),e;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function S9(t){return t=TX(t),t!==null?E9(t):null}function E9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=E9(t);if(e!==null)return e;t=t.sibling}return null}var N9=_n.unstable_scheduleCallback,tP=_n.unstable_cancelCallback,PX=_n.unstable_shouldYield,IX=_n.unstable_requestPaint,Mt=_n.unstable_now,RX=_n.unstable_getCurrentPriorityLevel,aj=_n.unstable_ImmediatePriority,O9=_n.unstable_UserBlockingPriority,zf=_n.unstable_NormalPriority,$X=_n.unstable_LowPriority,j9=_n.unstable_IdlePriority,qp=null,Ii=null;function kX(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(qp,t,void 0,(t.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:qX,DX=Math.log,MX=Math.LN2;function qX(t){return t>>>=0,t===0?32:31-(DX(t)/MX|0)|0}var Wh=64,Hh=4194304;function $c(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Uf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=$c(o):(s&=a,s!==0&&(n=$c(s)))}else a=r&~i,a!==0?n=$c(a):s!==0&&(n=$c(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ci(e),i=1<<r,n|=t[r],e&=~i;return n}function AX(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function FX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ci(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=AX(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function yN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function C9(){var t=Wh;return Wh<<=1,!(Wh&4194240)&&(Wh=64),t}function Jm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Wd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ci(e),t[e]=r}function LX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ci(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function oj(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ci(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var et=0;function T9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P9,lj,I9,R9,$9,bN=!1,Vh=[],Zs=null,ea=null,ta=null,sd=new Map,ad=new Map,Ms=[],BX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function rP(t,e){switch(t){case"focusin":case"focusout":Zs=null;break;case"dragenter":case"dragleave":ea=null;break;case"mouseover":case"mouseout":ta=null;break;case"pointerover":case"pointerout":sd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ad.delete(e.pointerId)}}function vc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Vd(e),e!==null&&lj(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function zX(t,e,r,n,i){switch(e){case"focusin":return Zs=vc(Zs,t,e,r,n,i),!0;case"dragenter":return ea=vc(ea,t,e,r,n,i),!0;case"mouseover":return ta=vc(ta,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return sd.set(s,vc(sd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ad.set(s,vc(ad.get(s)||null,t,e,r,n,i)),!0}return!1}function k9(t){var e=za(t.target);if(e!==null){var r=Fo(e);if(r!==null){if(e=r.tag,e===13){if(e=_9(r),e!==null){t.blockedOn=e,$9(t.priority,function(){I9(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function bf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=xN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);pN=n,r.target.dispatchEvent(n),pN=null}else return e=Vd(r),e!==null&&lj(e),t.blockedOn=r,!1;e.shift()}return!0}function nP(t,e,r){bf(t)&&r.delete(e)}function UX(){bN=!1,Zs!==null&&bf(Zs)&&(Zs=null),ea!==null&&bf(ea)&&(ea=null),ta!==null&&bf(ta)&&(ta=null),sd.forEach(nP),ad.forEach(nP)}function gc(t,e){t.blockedOn===e&&(t.blockedOn=null,bN||(bN=!0,_n.unstable_scheduleCallback(_n.unstable_NormalPriority,UX)))}function od(t){function e(i){return gc(i,t)}if(0<Vh.length){gc(Vh[0],t);for(var r=1;r<Vh.length;r++){var n=Vh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Zs!==null&&gc(Zs,t),ea!==null&&gc(ea,t),ta!==null&&gc(ta,t),sd.forEach(e),ad.forEach(e),r=0;r<Ms.length;r++)n=Ms[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ms.length&&(r=Ms[0],r.blockedOn===null);)k9(r),r.blockedOn===null&&Ms.shift()}var Dl=gs.ReactCurrentBatchConfig,Wf=!0;function WX(t,e,r,n){var i=et,s=Dl.transition;Dl.transition=null;try{et=1,uj(t,e,r,n)}finally{et=i,Dl.transition=s}}function HX(t,e,r,n){var i=et,s=Dl.transition;Dl.transition=null;try{et=4,uj(t,e,r,n)}finally{et=i,Dl.transition=s}}function uj(t,e,r,n){if(Wf){var i=xN(t,e,r,n);if(i===null)lv(t,e,n,Hf,r),rP(t,n);else if(zX(i,t,e,r,n))n.stopPropagation();else if(rP(t,n),e&4&&-1<BX.indexOf(t)){for(;i!==null;){var s=Vd(i);if(s!==null&&P9(s),s=xN(t,e,r,n),s===null&&lv(t,e,n,Hf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else lv(t,e,n,null,r)}}var Hf=null;function xN(t,e,r,n){if(Hf=null,t=sj(n),t=za(t),t!==null)if(e=Fo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=_9(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Hf=t,null}function D9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(RX()){case aj:return 1;case O9:return 4;case zf:case $X:return 16;case j9:return 536870912;default:return 16}default:return 16}}var Ys=null,cj=null,xf=null;function M9(){if(xf)return xf;var t,e=cj,r=e.length,n,i="value"in Ys?Ys.value:Ys.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return xf=i.slice(t,1<n?1-n:void 0)}function wf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Kh(){return!0}function iP(){return!1}function Nn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Kh:iP,this.isPropagationStopped=iP,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Kh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Kh)},persist:function(){},isPersistent:Kh}),e}var Cu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},dj=Nn(Cu),Hd=Ot({},Cu,{view:0,detail:0}),VX=Nn(Hd),Zm,ev,yc,Ap=Ot({},Hd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:hj,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==yc&&(yc&&t.type==="mousemove"?(Zm=t.screenX-yc.screenX,ev=t.screenY-yc.screenY):ev=Zm=0,yc=t),Zm)},movementY:function(t){return"movementY"in t?t.movementY:ev}}),sP=Nn(Ap),KX=Ot({},Ap,{dataTransfer:0}),GX=Nn(KX),YX=Ot({},Hd,{relatedTarget:0}),tv=Nn(YX),QX=Ot({},Cu,{animationName:0,elapsedTime:0,pseudoElement:0}),XX=Nn(QX),JX=Ot({},Cu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),ZX=Nn(JX),eJ=Ot({},Cu,{data:0}),aP=Nn(eJ),tJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},rJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},nJ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function iJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=nJ[t])?!!e[t]:!1}function hj(){return iJ}var sJ=Ot({},Hd,{key:function(t){if(t.key){var e=tJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=wf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?rJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:hj,charCode:function(t){return t.type==="keypress"?wf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?wf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),aJ=Nn(sJ),oJ=Ot({},Ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),oP=Nn(oJ),lJ=Ot({},Hd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:hj}),uJ=Nn(lJ),cJ=Ot({},Cu,{propertyName:0,elapsedTime:0,pseudoElement:0}),dJ=Nn(cJ),hJ=Ot({},Ap,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),fJ=Nn(hJ),pJ=[9,13,27,32],fj=ds&&"CompositionEvent"in window,Lc=null;ds&&"documentMode"in document&&(Lc=document.documentMode);var mJ=ds&&"TextEvent"in window&&!Lc,q9=ds&&(!fj||Lc&&8<Lc&&11>=Lc),lP=" ",uP=!1;function A9(t,e){switch(t){case"keyup":return pJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function F9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var vl=!1;function vJ(t,e){switch(t){case"compositionend":return F9(e);case"keypress":return e.which!==32?null:(uP=!0,lP);case"textInput":return t=e.data,t===lP&&uP?null:t;default:return null}}function gJ(t,e){if(vl)return t==="compositionend"||!fj&&A9(t,e)?(t=M9(),xf=cj=Ys=null,vl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return q9&&e.locale!=="ko"?null:e.data;default:return null}}var yJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!yJ[t.type]:e==="textarea"}function L9(t,e,r,n){g9(n),e=Vf(e,"onChange"),0<e.length&&(r=new dj("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Bc=null,ld=null;function bJ(t){X9(t,0)}function Fp(t){var e=bl(t);if(c9(e))return t}function xJ(t,e){if(t==="change")return e}var B9=!1;if(ds){var rv;if(ds){var nv="oninput"in document;if(!nv){var dP=document.createElement("div");dP.setAttribute("oninput","return;"),nv=typeof dP.oninput=="function"}rv=nv}else rv=!1;B9=rv&&(!document.documentMode||9<document.documentMode)}function hP(){Bc&&(Bc.detachEvent("onpropertychange",z9),ld=Bc=null)}function z9(t){if(t.propertyName==="value"&&Fp(ld)){var e=[];L9(e,ld,t,sj(t)),w9(bJ,e)}}function wJ(t,e,r){t==="focusin"?(hP(),Bc=e,ld=r,Bc.attachEvent("onpropertychange",z9)):t==="focusout"&&hP()}function _J(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Fp(ld)}function SJ(t,e){if(t==="click")return Fp(e)}function EJ(t,e){if(t==="input"||t==="change")return Fp(e)}function NJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:NJ;function ud(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!rN.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function fP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pP(t,e){var r=fP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=fP(r)}}function U9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?U9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function W9(){for(var t=window,e=Ff();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Ff(t.document)}return e}function pj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function OJ(t){var e=W9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&U9(r.ownerDocument.documentElement,r)){if(n!==null&&pj(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=pP(r,s);var a=pP(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var jJ=ds&&"documentMode"in document&&11>=document.documentMode,gl=null,wN=null,zc=null,_N=!1;function mP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;_N||gl==null||gl!==Ff(n)||(n=gl,"selectionStart"in n&&pj(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),zc&&ud(zc,n)||(zc=n,n=Vf(wN,"onSelect"),0<n.length&&(e=new dj("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=gl)))}function Gh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var yl={animationend:Gh("Animation","AnimationEnd"),animationiteration:Gh("Animation","AnimationIteration"),animationstart:Gh("Animation","AnimationStart"),transitionend:Gh("Transition","TransitionEnd")},iv={},H9={};ds&&(H9=document.createElement("div").style,"AnimationEvent"in window||(delete yl.animationend.animation,delete yl.animationiteration.animation,delete yl.animationstart.animation),"TransitionEvent"in window||delete yl.transitionend.transition);function Lp(t){if(iv[t])return iv[t];if(!yl[t])return t;var e=yl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in H9)return iv[t]=e[r];return t}var V9=Lp("animationend"),K9=Lp("animationiteration"),G9=Lp("animationstart"),Y9=Lp("transitionend"),Q9=new Map,vP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Sa(t,e){Q9.set(t,e),Ao(e,[t])}for(var sv=0;sv<vP.length;sv++){var av=vP[sv],CJ=av.toLowerCase(),TJ=av[0].toUpperCase()+av.slice(1);Sa(CJ,"on"+TJ)}Sa(V9,"onAnimationEnd");Sa(K9,"onAnimationIteration");Sa(G9,"onAnimationStart");Sa("dblclick","onDoubleClick");Sa("focusin","onFocus");Sa("focusout","onBlur");Sa(Y9,"onTransitionEnd");iu("onMouseEnter",["mouseout","mouseover"]);iu("onMouseLeave",["mouseout","mouseover"]);iu("onPointerEnter",["pointerout","pointerover"]);iu("onPointerLeave",["pointerout","pointerover"]);Ao("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ao("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ao("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ao("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ao("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var kc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),PJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(kc));function gP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,CX(n,e,void 0,t),t.currentTarget=null}function X9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;gP(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;gP(i,o,c),s=l}}}if(Bf)throw t=gN,Bf=!1,gN=null,t}function vt(t,e){var r=e[jN];r===void 0&&(r=e[jN]=new Set);var n=t+"__bubble";r.has(n)||(J9(e,t,2,!1),r.add(n))}function ov(t,e,r){var n=0;e&&(n|=4),J9(r,t,n,e)}var Yh="_reactListening"+Math.random().toString(36).slice(2);function cd(t){if(!t[Yh]){t[Yh]=!0,s9.forEach(function(r){r!=="selectionchange"&&(PJ.has(r)||ov(r,!1,t),ov(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Yh]||(e[Yh]=!0,ov("selectionchange",!1,e))}}function J9(t,e,r,n){switch(D9(e)){case 1:var i=WX;break;case 4:i=HX;break;default:i=uj}r=i.bind(null,e,r,t),i=void 0,!vN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function lv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=za(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}w9(function(){var c=s,d=sj(r),h=[];e:{var f=Q9.get(t);if(f!==void 0){var p=dj,m=t;switch(t){case"keypress":if(wf(r)===0)break e;case"keydown":case"keyup":p=aJ;break;case"focusin":m="focus",p=tv;break;case"focusout":m="blur",p=tv;break;case"beforeblur":case"afterblur":p=tv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=sP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=GX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=uJ;break;case V9:case K9:case G9:p=XX;break;case Y9:p=dJ;break;case"scroll":p=VX;break;case"wheel":p=fJ;break;case"copy":case"cut":case"paste":p=ZX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=oP}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var x=w.stateNode;if(w.tag===5&&x!==null&&(w=x,g!==null&&(x=id(v,g),x!=null&&y.push(dd(v,x,w)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==pN&&(m=r.relatedTarget||r.fromElement)&&(za(m)||m[hs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?za(m):null,m!==null&&(b=Fo(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=sP,x="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=oP,x="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:bl(p),w=m==null?f:bl(m),f=new y(x,v+"leave",p,r,d),f.target=b,f.relatedTarget=w,x=null,za(d)===c&&(y=new y(g,v+"enter",m,r,d),y.target=w,y.relatedTarget=b,x=y),b=x,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=ol(w))v++;for(w=0,x=g;x;x=ol(x))w++;for(;0<v-w;)y=ol(y),v--;for(;0<w-v;)g=ol(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=ol(y),g=ol(g)}y=null}else y=null;p!==null&&yP(h,f,p,y,!1),m!==null&&b!==null&&yP(h,b,m,y,!0)}}e:{if(f=c?bl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=xJ;else if(cP(f))if(B9)_=EJ;else{_=_J;var E=wJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=SJ);if(_&&(_=_(t,c))){L9(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&uN(f,"number",f.value)}switch(E=c?bl(c):window,t){case"focusin":(cP(E)||E.contentEditable==="true")&&(gl=E,wN=c,zc=null);break;case"focusout":zc=wN=gl=null;break;case"mousedown":_N=!0;break;case"contextmenu":case"mouseup":case"dragend":_N=!1,mP(h,r,d);break;case"selectionchange":if(jJ)break;case"keydown":case"keyup":mP(h,r,d)}var N;if(fj)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else vl?A9(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(q9&&r.locale!=="ko"&&(vl||S!=="onCompositionStart"?S==="onCompositionEnd"&&vl&&(N=M9()):(Ys=d,cj="value"in Ys?Ys.value:Ys.textContent,vl=!0)),E=Vf(c,S),0<E.length&&(S=new aP(S,t,null,r,d),h.push({event:S,listeners:E}),N?S.data=N:(N=F9(r),N!==null&&(S.data=N)))),(N=mJ?vJ(t,r):gJ(t,r))&&(c=Vf(c,"onBeforeInput"),0<c.length&&(d=new aP("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}X9(h,e)})}function dd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Vf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=id(t,r),s!=null&&n.unshift(dd(t,s,i)),s=id(t,e),s!=null&&n.push(dd(t,s,i))),t=t.return}return n}function ol(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yP(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=id(r,s),l!=null&&a.unshift(dd(r,l,o))):i||(l=id(r,s),l!=null&&a.push(dd(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var IJ=/\r\n?/g,RJ=/\u0000|\uFFFD/g;function bP(t){return(typeof t=="string"?t:""+t).replace(IJ,`
`).replace(RJ,"")}function Qh(t,e,r){if(e=bP(e),bP(t)!==e&&r)throw Error(Z(425))}function Kf(){}var SN=null,EN=null;function NN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ON=typeof setTimeout=="function"?setTimeout:void 0,$J=typeof clearTimeout=="function"?clearTimeout:void 0,xP=typeof Promise=="function"?Promise:void 0,kJ=typeof queueMicrotask=="function"?queueMicrotask:typeof xP<"u"?function(t){return xP.resolve(null).then(t).catch(DJ)}:ON;function DJ(t){setTimeout(function(){throw t})}function uv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),od(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);od(e)}function ra(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function wP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Tu=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Tu,hd="__reactProps$"+Tu,hs="__reactContainer$"+Tu,jN="__reactEvents$"+Tu,MJ="__reactListeners$"+Tu,qJ="__reactHandles$"+Tu;function za(t){var e=t[Oi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hs]||r[Oi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=wP(t);t!==null;){if(r=t[Oi])return r;t=wP(t)}return e}t=r,r=t.parentNode}return null}function Vd(t){return t=t[Oi]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function bl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Bp(t){return t[hd]||null}var CN=[],xl=-1;function Ea(t){return{current:t}}function yt(t){0>xl||(t.current=CN[xl],CN[xl]=null,xl--)}function pt(t,e){xl++,CN[xl]=t.current,t.current=e}var ga={},Tr=Ea(ga),nn=Ea(!1),xo=ga;function su(t,e){var r=t.type.contextTypes;if(!r)return ga;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function sn(t){return t=t.childContextTypes,t!=null}function Gf(){yt(nn),yt(Tr)}function _P(t,e,r){if(Tr.current!==ga)throw Error(Z(168));pt(Tr,e),pt(nn,r)}function Z9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,wX(t)||"Unknown",i));return Ot({},r,n)}function Yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ga,xo=Tr.current,pt(Tr,t),pt(nn,nn.current),!0}function SP(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=Z9(t,e,xo),n.__reactInternalMemoizedMergedChildContext=t,yt(nn),yt(Tr),pt(Tr,t)):yt(nn),pt(nn,r)}var Hi=null,zp=!1,cv=!1;function eH(t){Hi===null?Hi=[t]:Hi.push(t)}function AJ(t){zp=!0,eH(t)}function Na(){if(!cv&&Hi!==null){cv=!0;var t=0,e=et;try{var r=Hi;for(et=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Hi=null,zp=!1}catch(i){throw Hi!==null&&(Hi=Hi.slice(t+1)),N9(aj,Na),i}finally{et=e,cv=!1}}return null}var wl=[],_l=0,Qf=null,Xf=0,Dn=[],Mn=0,wo=null,Qi=1,Xi="";function Aa(t,e){wl[_l++]=Xf,wl[_l++]=Qf,Qf=t,Xf=e}function tH(t,e,r){Dn[Mn++]=Qi,Dn[Mn++]=Xi,Dn[Mn++]=wo,wo=t;var n=Qi;t=Xi;var i=32-ci(n)-1;n&=~(1<<i),r+=1;var s=32-ci(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Qi=1<<32-ci(e)+i|r<<i|n,Xi=s+t}else Qi=1<<s|r<<i|n,Xi=t}function mj(t){t.return!==null&&(Aa(t,1),tH(t,1,0))}function vj(t){for(;t===Qf;)Qf=wl[--_l],wl[_l]=null,Xf=wl[--_l],wl[_l]=null;for(;t===wo;)wo=Dn[--Mn],Dn[Mn]=null,Xi=Dn[--Mn],Dn[Mn]=null,Qi=Dn[--Mn],Dn[Mn]=null}var wn=null,xn=null,wt=!1,ii=null;function rH(t,e){var r=Fn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function EP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,wn=t,xn=ra(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,wn=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=wo!==null?{id:Qi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Fn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,wn=t,xn=null,!0):!1;default:return!1}}function TN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function PN(t){if(wt){var e=xn;if(e){var r=e;if(!EP(t,e)){if(TN(t))throw Error(Z(418));e=ra(r.nextSibling);var n=wn;e&&EP(t,e)?rH(n,r):(t.flags=t.flags&-4097|2,wt=!1,wn=t)}}else{if(TN(t))throw Error(Z(418));t.flags=t.flags&-4097|2,wt=!1,wn=t}}}function NP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;wn=t}function Xh(t){if(t!==wn)return!1;if(!wt)return NP(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!NN(t.type,t.memoizedProps)),e&&(e=xn)){if(TN(t))throw nH(),Error(Z(418));for(;e;)rH(t,e),e=ra(e.nextSibling)}if(NP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){xn=ra(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=wn?ra(t.stateNode.nextSibling):null;return!0}function nH(){for(var t=xn;t;)t=ra(t.nextSibling)}function au(){xn=wn=null,wt=!1}function gj(t){ii===null?ii=[t]:ii.push(t)}var FJ=gs.ReactCurrentBatchConfig;function bc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Jh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function OP(t){var e=t._init;return e(t._payload)}function iH(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=aa(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,x){return v===null||v.tag!==6?(v=gv(w,g.mode,x),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,x){var _=w.type;return _===ml?d(g,v,w.props.children,x,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rs&&OP(_)===v.type)?(x=i(v,w.props),x.ref=bc(g,v,w),x.return=g,x):(x=Cf(w.type,w.key,w.props,null,g.mode,x),x.ref=bc(g,v,w),x.return=g,x)}function c(g,v,w,x){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=yv(w,g.mode,x),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,x,_){return v===null||v.tag!==7?(v=uo(w,g.mode,x,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=gv(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Bh:return w=Cf(v.type,v.key,v.props,null,g.mode,w),w.ref=bc(g,null,v),w.return=g,w;case pl:return v=yv(v,g.mode,w),v.return=g,v;case Rs:var x=v._init;return h(g,x(v._payload),w)}if(Rc(v)||pc(v))return v=uo(v,g.mode,w,null),v.return=g,v;Jh(g,v)}return null}function f(g,v,w,x){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,v,""+w,x);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Bh:return w.key===_?l(g,v,w,x):null;case pl:return w.key===_?c(g,v,w,x):null;case Rs:return _=w._init,f(g,v,_(w._payload),x)}if(Rc(w)||pc(w))return _!==null?null:d(g,v,w,x,null);Jh(g,w)}return null}function p(g,v,w,x,_){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(w)||null,o(v,g,""+x,_);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Bh:return g=g.get(x.key===null?w:x.key)||null,l(v,g,x,_);case pl:return g=g.get(x.key===null?w:x.key)||null,c(v,g,x,_);case Rs:var E=x._init;return p(g,v,w,E(x._payload),_)}if(Rc(x)||pc(x))return g=g.get(w)||null,d(v,g,x,_,null);Jh(v,x)}return null}function m(g,v,w,x){for(var _=null,E=null,N=v,S=v=0,O=null;N!==null&&S<w.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var j=f(g,N,w[S],x);if(j===null){N===null&&(N=O);break}t&&N&&j.alternate===null&&e(g,N),v=s(j,v,S),E===null?_=j:E.sibling=j,E=j,N=O}if(S===w.length)return r(g,N),wt&&Aa(g,S),_;if(N===null){for(;S<w.length;S++)N=h(g,w[S],x),N!==null&&(v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return wt&&Aa(g,S),_}for(N=n(g,N);S<w.length;S++)O=p(N,g,S,w[S],x),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?S:O.key),v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return t&&N.forEach(function(T){return e(g,T)}),wt&&Aa(g,S),_}function y(g,v,w,x){var _=pc(w);if(typeof _!="function")throw Error(Z(150));if(w=_.call(w),w==null)throw Error(Z(151));for(var E=_=null,N=v,S=v=0,O=null,j=w.next();N!==null&&!j.done;S++,j=w.next()){N.index>S?(O=N,N=null):O=N.sibling;var T=f(g,N,j.value,x);if(T===null){N===null&&(N=O);break}t&&N&&T.alternate===null&&e(g,N),v=s(T,v,S),E===null?_=T:E.sibling=T,E=T,N=O}if(j.done)return r(g,N),wt&&Aa(g,S),_;if(N===null){for(;!j.done;S++,j=w.next())j=h(g,j.value,x),j!==null&&(v=s(j,v,S),E===null?_=j:E.sibling=j,E=j);return wt&&Aa(g,S),_}for(N=n(g,N);!j.done;S++,j=w.next())j=p(N,g,S,j.value,x),j!==null&&(t&&j.alternate!==null&&N.delete(j.key===null?S:j.key),v=s(j,v,S),E===null?_=j:E.sibling=j,E=j);return t&&N.forEach(function(C){return e(g,C)}),wt&&Aa(g,S),_}function b(g,v,w,x){if(typeof w=="object"&&w!==null&&w.type===ml&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Bh:e:{for(var _=w.key,E=v;E!==null;){if(E.key===_){if(_=w.type,_===ml){if(E.tag===7){r(g,E.sibling),v=i(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Rs&&OP(_)===E.type){r(g,E.sibling),v=i(E,w.props),v.ref=bc(g,E,w),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}w.type===ml?(v=uo(w.props.children,g.mode,x,w.key),v.return=g,g=v):(x=Cf(w.type,w.key,w.props,null,g.mode,x),x.ref=bc(g,v,w),x.return=g,g=x)}return a(g);case pl:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=yv(w,g.mode,x),v.return=g,g=v}return a(g);case Rs:return E=w._init,b(g,v,E(w._payload),x)}if(Rc(w))return m(g,v,w,x);if(pc(w))return y(g,v,w,x);Jh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,w),v.return=g,g=v):(r(g,v),v=gv(w,g.mode,x),v.return=g,g=v),a(g)):r(g,v)}return b}var ou=iH(!0),sH=iH(!1),Jf=Ea(null),Zf=null,Sl=null,yj=null;function bj(){yj=Sl=Zf=null}function xj(t){var e=Jf.current;yt(Jf),t._currentValue=e}function IN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Ml(t,e){Zf=t,yj=Sl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(rn=!0),t.firstContext=null)}function Un(t){var e=t._currentValue;if(yj!==t)if(t={context:t,memoizedValue:e,next:null},Sl===null){if(Zf===null)throw Error(Z(308));Sl=t,Zf.dependencies={lanes:0,firstContext:t}}else Sl=Sl.next=t;return e}var Ua=null;function wj(t){Ua===null?Ua=[t]:Ua.push(t)}function aH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,wj(e)):(r.next=i.next,i.next=r),e.interleaved=r,fs(t,n)}function fs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var $s=!1;function _j(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function oH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function na(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,fs(t,r)}return i=n.interleaved,i===null?(e.next=e,wj(n)):(e.next=i.next,i.next=e),n.interleaved=e,fs(t,r)}function _f(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,oj(t,r)}}function jP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function ep(t,e,r,n){var i=t.updateQueue;$s=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Ot({},h,f);break e;case 2:$s=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);So|=a,t.lanes=a,t.memoizedState=h}}function CP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var Kd={},Ri=Ea(Kd),fd=Ea(Kd),pd=Ea(Kd);function Wa(t){if(t===Kd)throw Error(Z(174));return t}function Sj(t,e){switch(pt(pd,e),pt(fd,t),pt(Ri,Kd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:dN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=dN(e,t)}yt(Ri),pt(Ri,e)}function lu(){yt(Ri),yt(fd),yt(pd)}function lH(t){Wa(pd.current);var e=Wa(Ri.current),r=dN(e,t.type);e!==r&&(pt(fd,t),pt(Ri,r))}function Ej(t){fd.current===t&&(yt(Ri),yt(fd))}var St=Ea(0);function tp(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var dv=[];function Nj(){for(var t=0;t<dv.length;t++)dv[t]._workInProgressVersionPrimary=null;dv.length=0}var Sf=gs.ReactCurrentDispatcher,hv=gs.ReactCurrentBatchConfig,_o=0,Et=null,Jt=null,sr=null,rp=!1,Uc=!1,md=0,LJ=0;function Er(){throw Error(Z(321))}function Oj(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hi(t[r],e[r]))return!1;return!0}function jj(t,e,r,n,i,s){if(_o=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Sf.current=t===null||t.memoizedState===null?WJ:HJ,t=r(n,i),Uc){s=0;do{if(Uc=!1,md=0,25<=s)throw Error(Z(301));s+=1,sr=Jt=null,e.updateQueue=null,Sf.current=VJ,t=r(n,i)}while(Uc)}if(Sf.current=np,e=Jt!==null&&Jt.next!==null,_o=0,sr=Jt=Et=null,rp=!1,e)throw Error(Z(300));return t}function Cj(){var t=md!==0;return md=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Et.memoizedState=sr=t:sr=sr.next=t,sr}function Wn(){if(Jt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=sr===null?Et.memoizedState:sr.next;if(e!==null)sr=e,Jt=t;else{if(t===null)throw Error(Z(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sr===null?Et.memoizedState=sr=t:sr=sr.next=t}return sr}function vd(t,e){return typeof e=="function"?e(t):e}function fv(t){var e=Wn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=Jt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((_o&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Et.lanes|=d,So|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,hi(n,e.memoizedState)||(rn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Et.lanes|=s,So|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function pv(t){var e=Wn(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hi(s,e.memoizedState)||(rn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function uH(){}function cH(t,e){var r=Et,n=Wn(),i=e(),s=!hi(n.memoizedState,i);if(s&&(n.memoizedState=i,rn=!0),n=n.queue,Tj(fH.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,gd(9,hH.bind(null,r,n,i,e),void 0,null),ar===null)throw Error(Z(349));_o&30||dH(r,e,i)}return i}function dH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function hH(t,e,r,n){e.value=r,e.getSnapshot=n,pH(e)&&mH(t)}function fH(t,e,r){return r(function(){pH(e)&&mH(t)})}function pH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hi(t,r)}catch{return!0}}function mH(t){var e=fs(t,1);e!==null&&di(e,t,1,-1)}function TP(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:vd,lastRenderedState:t},e.queue=t,t=t.dispatch=UJ.bind(null,Et,t),[e.memoizedState,t]}function gd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function vH(){return Wn().memoizedState}function Ef(t,e,r,n){var i=wi();Et.flags|=t,i.memoizedState=gd(1|e,r,void 0,n===void 0?null:n)}function Up(t,e,r,n){var i=Wn();n=n===void 0?null:n;var s=void 0;if(Jt!==null){var a=Jt.memoizedState;if(s=a.destroy,n!==null&&Oj(n,a.deps)){i.memoizedState=gd(e,r,s,n);return}}Et.flags|=t,i.memoizedState=gd(1|e,r,s,n)}function PP(t,e){return Ef(8390656,8,t,e)}function Tj(t,e){return Up(2048,8,t,e)}function gH(t,e){return Up(4,2,t,e)}function yH(t,e){return Up(4,4,t,e)}function bH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function xH(t,e,r){return r=r!=null?r.concat([t]):null,Up(4,4,bH.bind(null,e,t),r)}function Pj(){}function wH(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Oj(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function _H(t,e){var r=Wn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&Oj(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function SH(t,e,r){return _o&21?(hi(r,e)||(r=C9(),Et.lanes|=r,So|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,rn=!0),t.memoizedState=r)}function BJ(t,e){var r=et;et=r!==0&&4>r?r:4,t(!0);var n=hv.transition;hv.transition={};try{t(!1),e()}finally{et=r,hv.transition=n}}function EH(){return Wn().memoizedState}function zJ(t,e,r){var n=sa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},NH(t))OH(e,r);else if(r=aH(t,e,r,n),r!==null){var i=zr();di(r,t,n,i),jH(r,e,n)}}function UJ(t,e,r){var n=sa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(NH(t))OH(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,hi(o,a)){var l=e.interleaved;l===null?(i.next=i,wj(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=aH(t,e,i,n),r!==null&&(i=zr(),di(r,t,n,i),jH(r,e,n))}}function NH(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function OH(t,e){Uc=rp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function jH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,oj(t,r)}}var np={readContext:Un,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},WJ={readContext:Un,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:Un,useEffect:PP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Ef(4194308,4,bH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Ef(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ef(4,2,t,e)},useMemo:function(t,e){var r=wi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=zJ.bind(null,Et,t),[n.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:TP,useDebugValue:Pj,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=TP(!1),e=t[0];return t=BJ.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Et,i=wi();if(wt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),ar===null)throw Error(Z(349));_o&30||dH(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,PP(fH.bind(null,n,s,t),[t]),n.flags|=2048,gd(9,hH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=wi(),e=ar.identifierPrefix;if(wt){var r=Xi,n=Qi;r=(n&~(1<<32-ci(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=md++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=LJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},HJ={readContext:Un,useCallback:wH,useContext:Un,useEffect:Tj,useImperativeHandle:xH,useInsertionEffect:gH,useLayoutEffect:yH,useMemo:_H,useReducer:fv,useRef:vH,useState:function(){return fv(vd)},useDebugValue:Pj,useDeferredValue:function(t){var e=Wn();return SH(e,Jt.memoizedState,t)},useTransition:function(){var t=fv(vd)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:uH,useSyncExternalStore:cH,useId:EH,unstable_isNewReconciler:!1},VJ={readContext:Un,useCallback:wH,useContext:Un,useEffect:Tj,useImperativeHandle:xH,useInsertionEffect:gH,useLayoutEffect:yH,useMemo:_H,useReducer:pv,useRef:vH,useState:function(){return pv(vd)},useDebugValue:Pj,useDeferredValue:function(t){var e=Wn();return Jt===null?e.memoizedState=t:SH(e,Jt.memoizedState,t)},useTransition:function(){var t=pv(vd)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:uH,useSyncExternalStore:cH,useId:EH,unstable_isNewReconciler:!1};function ei(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function RN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ot({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Wp={isMounted:function(t){return(t=t._reactInternals)?Fo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zr(),i=sa(t),s=es(n,i);s.payload=e,r!=null&&(s.callback=r),e=na(t,s,i),e!==null&&(di(e,t,i,n),_f(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zr(),i=sa(t),s=es(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=na(t,s,i),e!==null&&(di(e,t,i,n),_f(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zr(),n=sa(t),i=es(r,n);i.tag=2,e!=null&&(i.callback=e),e=na(t,i,n),e!==null&&(di(e,t,n,r),_f(e,t,n))}};function IP(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!ud(r,n)||!ud(i,s):!0}function CH(t,e,r){var n=!1,i=ga,s=e.contextType;return typeof s=="object"&&s!==null?s=Un(s):(i=sn(e)?xo:Tr.current,n=e.contextTypes,s=(n=n!=null)?su(t,i):ga),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Wp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function RP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Wp.enqueueReplaceState(e,e.state,null)}function $N(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},_j(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Un(s):(s=sn(e)?xo:Tr.current,i.context=su(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(RN(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Wp.enqueueReplaceState(i,i.state,null),ep(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function uu(t,e){try{var r="",n=e;do r+=xX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function mv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function kN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var KJ=typeof WeakMap=="function"?WeakMap:Map;function TH(t,e,r){r=es(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){sp||(sp=!0,WN=n),kN(t,e)},r}function PH(t,e,r){r=es(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){kN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){kN(t,e),typeof n!="function"&&(ia===null?ia=new Set([this]):ia.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function $P(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new KJ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=oZ.bind(null,t,e,r),e.then(t,t))}function kP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function DP(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=es(-1,1),e.tag=2,na(r,e,1))),r.lanes|=1),t)}var GJ=gs.ReactCurrentOwner,rn=!1;function qr(t,e,r,n){e.child=t===null?sH(e,null,r,n):ou(e,t.child,r,n)}function MP(t,e,r,n,i){r=r.render;var s=e.ref;return Ml(e,i),n=jj(t,e,r,n,s,i),r=Cj(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(wt&&r&&mj(e),e.flags|=1,qr(t,e,n,i),e.child)}function qP(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!Aj(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,IH(t,e,s,n,i)):(t=Cf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:ud,r(a,n)&&t.ref===e.ref)return ps(t,e,i)}return e.flags|=1,t=aa(s,n),t.ref=e.ref,t.return=e,e.child=t}function IH(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(ud(s,n)&&t.ref===e.ref)if(rn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(rn=!0);else return e.lanes=t.lanes,ps(t,e,i)}return DN(t,e,r,n,i)}function RH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},pt(Nl,gn),gn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,pt(Nl,gn),gn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,pt(Nl,gn),gn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,pt(Nl,gn),gn|=n;return qr(t,e,i,r),e.child}function $H(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function DN(t,e,r,n,i){var s=sn(r)?xo:Tr.current;return s=su(e,s),Ml(e,i),r=jj(t,e,r,n,s,i),n=Cj(),t!==null&&!rn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(wt&&n&&mj(e),e.flags|=1,qr(t,e,r,i),e.child)}function AP(t,e,r,n,i){if(sn(r)){var s=!0;Yf(e)}else s=!1;if(Ml(e,i),e.stateNode===null)Nf(t,e),CH(e,r,n),$N(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Un(c):(c=sn(r)?xo:Tr.current,c=su(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&RP(e,a,n,c),$s=!1;var f=e.memoizedState;a.state=f,ep(e,n,a,i),l=e.memoizedState,o!==n||f!==l||nn.current||$s?(typeof d=="function"&&(RN(e,r,d,n),l=e.memoizedState),(o=$s||IP(e,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,oH(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ei(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Un(l):(l=sn(r)?xo:Tr.current,l=su(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&RP(e,a,n,l),$s=!1,f=e.memoizedState,a.state=f,ep(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||nn.current||$s?(typeof p=="function"&&(RN(e,r,p,n),m=e.memoizedState),(c=$s||IP(e,r,c,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return MN(t,e,r,n,s,i)}function MN(t,e,r,n,i,s){$H(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&SP(e,r,!1),ps(t,e,s);n=e.stateNode,GJ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=ou(e,t.child,null,s),e.child=ou(e,null,o,s)):qr(t,e,o,s),e.memoizedState=n.state,i&&SP(e,r,!0),e.child}function kH(t){var e=t.stateNode;e.pendingContext?_P(t,e.pendingContext,e.pendingContext!==e.context):e.context&&_P(t,e.context,!1),Sj(t,e.containerInfo)}function FP(t,e,r,n,i){return au(),gj(i),e.flags|=256,qr(t,e,r,n),e.child}var qN={dehydrated:null,treeContext:null,retryLane:0};function AN(t){return{baseLanes:t,cachePool:null,transitions:null}}function DH(t,e,r){var n=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),pt(St,i&1),t===null)return PN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Kp(a,n,0,null),t=uo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=AN(r),e.memoizedState=qN,t):Ij(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return YJ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=aa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=aa(o,s):(s=uo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?AN(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=qN,n}return s=t.child,t=s.sibling,n=aa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function Ij(t,e){return e=Kp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Zh(t,e,r,n){return n!==null&&gj(n),ou(e,t.child,null,r),t=Ij(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function YJ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=mv(Error(Z(422))),Zh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Kp({mode:"visible",children:n.children},i,0,null),s=uo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&ou(e,t.child,null,a),e.child.memoizedState=AN(a),e.memoizedState=qN,s);if(!(e.mode&1))return Zh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Z(419)),n=mv(s,n,void 0),Zh(t,e,a,n)}if(o=(a&t.childLanes)!==0,rn||o){if(n=ar,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fs(t,i),di(n,t,i,-1))}return qj(),n=mv(Error(Z(421))),Zh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=lZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,xn=ra(i.nextSibling),wn=e,wt=!0,ii=null,t!==null&&(Dn[Mn++]=Qi,Dn[Mn++]=Xi,Dn[Mn++]=wo,Qi=t.id,Xi=t.overflow,wo=e),e=Ij(e,n.children),e.flags|=4096,e)}function LP(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),IN(t.return,e,r)}function vv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function MH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(qr(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&LP(t,r,e);else if(t.tag===19)LP(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(pt(St,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&tp(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),vv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&tp(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}vv(e,!0,r,null,s);break;case"together":vv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Nf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ps(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),So|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=aa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=aa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function QJ(t,e,r){switch(e.tag){case 3:kH(e),au();break;case 5:lH(e);break;case 1:sn(e.type)&&Yf(e);break;case 4:Sj(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;pt(Jf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(pt(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?DH(t,e,r):(pt(St,St.current&1),t=ps(t,e,r),t!==null?t.sibling:null);pt(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return MH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),pt(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,RH(t,e,r)}return ps(t,e,r)}var qH,FN,AH,FH;qH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};FN=function(){};AH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Wa(Ri.current);var s=null;switch(r){case"input":i=oN(t,i),n=oN(t,n),s=[];break;case"select":i=Ot({},i,{value:void 0}),n=Ot({},n,{value:void 0}),s=[];break;case"textarea":i=cN(t,i),n=cN(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Kf)}hN(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(rd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(rd.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&vt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};FH=function(t,e,r,n){r!==n&&(e.flags|=4)};function xc(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function XJ(t,e,r){var n=e.pendingProps;switch(vj(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return sn(e.type)&&Gf(),Nr(e),null;case 3:return n=e.stateNode,lu(),yt(nn),yt(Tr),Nj(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Xh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ii!==null&&(KN(ii),ii=null))),FN(t,e),Nr(e),null;case 5:Ej(e);var i=Wa(pd.current);if(r=e.type,t!==null&&e.stateNode!=null)AH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return Nr(e),null}if(t=Wa(Ri.current),Xh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Oi]=e,n[hd]=s,t=(e.mode&1)!==0,r){case"dialog":vt("cancel",n),vt("close",n);break;case"iframe":case"object":case"embed":vt("load",n);break;case"video":case"audio":for(i=0;i<kc.length;i++)vt(kc[i],n);break;case"source":vt("error",n);break;case"img":case"image":case"link":vt("error",n),vt("load",n);break;case"details":vt("toggle",n);break;case"input":YT(n,s),vt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},vt("invalid",n);break;case"textarea":XT(n,s),vt("invalid",n)}hN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Qh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Qh(n.textContent,o,t),i=["children",""+o]):rd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&vt("scroll",n)}switch(r){case"input":zh(n),QT(n,s,!0);break;case"textarea":zh(n),JT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Kf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=f9(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Oi]=e,t[hd]=n,qH(t,e,!1,!1),e.stateNode=t;e:{switch(a=fN(r,n),r){case"dialog":vt("cancel",t),vt("close",t),i=n;break;case"iframe":case"object":case"embed":vt("load",t),i=n;break;case"video":case"audio":for(i=0;i<kc.length;i++)vt(kc[i],t);i=n;break;case"source":vt("error",t),i=n;break;case"img":case"image":case"link":vt("error",t),vt("load",t),i=n;break;case"details":vt("toggle",t),i=n;break;case"input":YT(t,n),i=oN(t,n),vt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ot({},n,{value:void 0}),vt("invalid",t);break;case"textarea":XT(t,n),i=cN(t,n),vt("invalid",t);break;default:i=n}hN(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?v9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&p9(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&nd(t,l):typeof l=="number"&&nd(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(rd.hasOwnProperty(s)?l!=null&&s==="onScroll"&&vt("scroll",t):l!=null&&tj(t,s,l,a))}switch(r){case"input":zh(t),QT(t,n,!1);break;case"textarea":zh(t),JT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+va(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Rl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Rl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Kf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)FH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Wa(pd.current),Wa(Ri.current),Xh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Oi]=e,(s=n.nodeValue!==r)&&(t=wn,t!==null))switch(t.tag){case 3:Qh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Qh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oi]=e,e.stateNode=n}return Nr(e),null;case 13:if(yt(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&xn!==null&&e.mode&1&&!(e.flags&128))nH(),au(),e.flags|=98560,s=!1;else if(s=Xh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[Oi]=e}else au(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),s=!1}else ii!==null&&(KN(ii),ii=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?er===0&&(er=3):qj())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return lu(),FN(t,e),t===null&&cd(e.stateNode.containerInfo),Nr(e),null;case 10:return xj(e.type._context),Nr(e),null;case 17:return sn(e.type)&&Gf(),Nr(e),null;case 19:if(yt(St),s=e.memoizedState,s===null)return Nr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)xc(s,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=tp(t),a!==null){for(e.flags|=128,xc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return pt(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>cu&&(e.flags|=128,n=!0,xc(s,!1),e.lanes=4194304)}else{if(!n)if(t=tp(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),xc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!wt)return Nr(e),null}else 2*Mt()-s.renderingStartTime>cu&&r!==1073741824&&(e.flags|=128,n=!0,xc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,r=St.current,pt(St,n?r&1|2:r&1),e):(Nr(e),null);case 22:case 23:return Mj(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?gn&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function JJ(t,e){switch(vj(e),e.tag){case 1:return sn(e.type)&&Gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return lu(),yt(nn),yt(Tr),Nj(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return Ej(e),null;case 13:if(yt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));au()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return yt(St),null;case 4:return lu(),null;case 10:return xj(e.type._context),null;case 22:case 23:return Mj(),null;case 24:return null;default:return null}}var ef=!1,jr=!1,ZJ=typeof WeakSet=="function"?WeakSet:Set,me=null;function El(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(t,e,n)}else r.current=null}function LN(t,e,r){try{r()}catch(n){It(t,e,n)}}var BP=!1;function eZ(t,e){if(SN=Wf,t=W9(),pj(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(EN={focusedElem:t,selectionRange:r},Wf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ei(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(x){It(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return m=BP,BP=!1,m}function Wc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&LN(e,r,s)}i=i.next}while(i!==n)}}function Hp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function BN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function LH(t){var e=t.alternate;e!==null&&(t.alternate=null,LH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[hd],delete e[jN],delete e[MJ],delete e[qJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function BH(t){return t.tag===5||t.tag===3||t.tag===4}function zP(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||BH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function zN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Kf));else if(n!==4&&(t=t.child,t!==null))for(zN(t,e,r),t=t.sibling;t!==null;)zN(t,e,r),t=t.sibling}function UN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(UN(t,e,r),t=t.sibling;t!==null;)UN(t,e,r),t=t.sibling}var vr=null,ni=!1;function Cs(t,e,r){for(r=r.child;r!==null;)zH(t,e,r),r=r.sibling}function zH(t,e,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(qp,r)}catch{}switch(r.tag){case 5:jr||El(r,e);case 6:var n=vr,i=ni;vr=null,Cs(t,e,r),vr=n,ni=i,vr!==null&&(ni?(t=vr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vr.removeChild(r.stateNode));break;case 18:vr!==null&&(ni?(t=vr,r=r.stateNode,t.nodeType===8?uv(t.parentNode,r):t.nodeType===1&&uv(t,r),od(t)):uv(vr,r.stateNode));break;case 4:n=vr,i=ni,vr=r.stateNode.containerInfo,ni=!0,Cs(t,e,r),vr=n,ni=i;break;case 0:case 11:case 14:case 15:if(!jr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&LN(r,e,a),i=i.next}while(i!==n)}Cs(t,e,r);break;case 1:if(!jr&&(El(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){It(r,e,o)}Cs(t,e,r);break;case 21:Cs(t,e,r);break;case 22:r.mode&1?(jr=(n=jr)||r.memoizedState!==null,Cs(t,e,r),jr=n):Cs(t,e,r);break;default:Cs(t,e,r)}}function UP(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new ZJ),e.forEach(function(n){var i=uZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Jn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:vr=o.stateNode,ni=!1;break e;case 3:vr=o.stateNode.containerInfo,ni=!0;break e;case 4:vr=o.stateNode.containerInfo,ni=!0;break e}o=o.return}if(vr===null)throw Error(Z(160));zH(s,a,i),vr=null,ni=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){It(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)UH(e,t),e=e.sibling}function UH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Jn(e,t),bi(t),n&4){try{Wc(3,t,t.return),Hp(3,t)}catch(y){It(t,t.return,y)}try{Wc(5,t,t.return)}catch(y){It(t,t.return,y)}}break;case 1:Jn(e,t),bi(t),n&512&&r!==null&&El(r,r.return);break;case 5:if(Jn(e,t),bi(t),n&512&&r!==null&&El(r,r.return),t.flags&32){var i=t.stateNode;try{nd(i,"")}catch(y){It(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&d9(i,s),fN(o,a);var c=fN(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?v9(i,h):d==="dangerouslySetInnerHTML"?p9(i,h):d==="children"?nd(i,h):tj(i,d,h,c)}switch(o){case"input":lN(i,s);break;case"textarea":h9(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Rl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Rl(i,!!s.multiple,s.defaultValue,!0):Rl(i,!!s.multiple,s.multiple?[]:"",!1))}i[hd]=s}catch(y){It(t,t.return,y)}}break;case 6:if(Jn(e,t),bi(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){It(t,t.return,y)}}break;case 3:if(Jn(e,t),bi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{od(e.containerInfo)}catch(y){It(t,t.return,y)}break;case 4:Jn(e,t),bi(t);break;case 13:Jn(e,t),bi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(kj=Mt())),n&4&&UP(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(jr=(c=jr)||d,Jn(e,t),jr=c):Jn(e,t),bi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(h=me=d;me!==null;){switch(f=me,p=f.child,f.tag){case 0:case 11:case 14:case 15:Wc(4,f,f.return);break;case 1:El(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){It(n,r,y)}}break;case 5:El(f,f.return);break;case 22:if(f.memoizedState!==null){HP(h);continue}}p!==null?(p.return=f,me=p):HP(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=m9("display",a))}catch(y){It(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){It(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Jn(e,t),bi(t),n&4&&UP(t);break;case 21:break;default:Jn(e,t),bi(t)}}function bi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(BH(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(nd(i,""),n.flags&=-33);var s=zP(t);UN(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=zP(t);zN(t,o,a);break;default:throw Error(Z(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function tZ(t,e,r){me=t,WH(t)}function WH(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||ef;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||jr;o=ef;var c=jr;if(ef=a,(jr=l)&&!c)for(me=i;me!==null;)a=me,l=a.child,a.tag===22&&a.memoizedState!==null?VP(i):l!==null?(l.return=a,me=l):VP(i);for(;s!==null;)me=s,WH(s),s=s.sibling;me=i,ef=o,jr=c}WP(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):WP(t)}}function WP(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:jr||Hp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!jr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ei(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&CP(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}CP(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&od(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}jr||e.flags&512&&BN(e)}catch(f){It(e,e.return,f)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function HP(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function VP(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Hp(4,e)}catch(l){It(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){It(e,i,l)}}var s=e.return;try{BN(e)}catch(l){It(e,s,l)}break;case 5:var a=e.return;try{BN(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===t){me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,me=o;break}me=e.return}}var rZ=Math.ceil,ip=gs.ReactCurrentDispatcher,Rj=gs.ReactCurrentOwner,Ln=gs.ReactCurrentBatchConfig,Ve=0,ar=null,zt=null,gr=0,gn=0,Nl=Ea(0),er=0,yd=null,So=0,Vp=0,$j=0,Hc=null,Zr=null,kj=0,cu=1/0,Wi=null,sp=!1,WN=null,ia=null,tf=!1,Qs=null,ap=0,Vc=0,HN=null,Of=-1,jf=0;function zr(){return Ve&6?Mt():Of!==-1?Of:Of=Mt()}function sa(t){return t.mode&1?Ve&2&&gr!==0?gr&-gr:FJ.transition!==null?(jf===0&&(jf=C9()),jf):(t=et,t!==0||(t=window.event,t=t===void 0?16:D9(t.type)),t):1}function di(t,e,r,n){if(50<Vc)throw Vc=0,HN=null,Error(Z(185));Wd(t,r,n),(!(Ve&2)||t!==ar)&&(t===ar&&(!(Ve&2)&&(Vp|=r),er===4&&qs(t,gr)),an(t,n),r===1&&Ve===0&&!(e.mode&1)&&(cu=Mt()+500,zp&&Na()))}function an(t,e){var r=t.callbackNode;FX(t,e);var n=Uf(t,t===ar?gr:0);if(n===0)r!==null&&tP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&tP(r),e===1)t.tag===0?AJ(KP.bind(null,t)):eH(KP.bind(null,t)),kJ(function(){!(Ve&6)&&Na()}),r=null;else{switch(T9(n)){case 1:r=aj;break;case 4:r=O9;break;case 16:r=zf;break;case 536870912:r=j9;break;default:r=zf}r=JH(r,HH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function HH(t,e){if(Of=-1,jf=0,Ve&6)throw Error(Z(327));var r=t.callbackNode;if(ql()&&t.callbackNode!==r)return null;var n=Uf(t,t===ar?gr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=op(t,n);else{e=n;var i=Ve;Ve|=2;var s=KH();(ar!==t||gr!==e)&&(Wi=null,cu=Mt()+500,lo(t,e));do try{sZ();break}catch(o){VH(t,o)}while(!0);bj(),ip.current=s,Ve=i,zt!==null?e=0:(ar=null,gr=0,e=er)}if(e!==0){if(e===2&&(i=yN(t),i!==0&&(n=i,e=VN(t,i))),e===1)throw r=yd,lo(t,0),qs(t,n),an(t,Mt()),r;if(e===6)qs(t,n);else{if(i=t.current.alternate,!(n&30)&&!nZ(i)&&(e=op(t,n),e===2&&(s=yN(t),s!==0&&(n=s,e=VN(t,s))),e===1))throw r=yd,lo(t,0),qs(t,n),an(t,Mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:Fa(t,Zr,Wi);break;case 3:if(qs(t,n),(n&130023424)===n&&(e=kj+500-Mt(),10<e)){if(Uf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=ON(Fa.bind(null,t,Zr,Wi),e);break}Fa(t,Zr,Wi);break;case 4:if(qs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ci(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*rZ(n/1960))-n,10<n){t.timeoutHandle=ON(Fa.bind(null,t,Zr,Wi),n);break}Fa(t,Zr,Wi);break;case 5:Fa(t,Zr,Wi);break;default:throw Error(Z(329))}}}return an(t,Mt()),t.callbackNode===r?HH.bind(null,t):null}function VN(t,e){var r=Hc;return t.current.memoizedState.isDehydrated&&(lo(t,e).flags|=256),t=op(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&KN(e)),t}function KN(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function nZ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function qs(t,e){for(e&=~$j,e&=~Vp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ci(e),n=1<<r;t[r]=-1,e&=~n}}function KP(t){if(Ve&6)throw Error(Z(327));ql();var e=Uf(t,0);if(!(e&1))return an(t,Mt()),null;var r=op(t,e);if(t.tag!==0&&r===2){var n=yN(t);n!==0&&(e=n,r=VN(t,n))}if(r===1)throw r=yd,lo(t,0),qs(t,e),an(t,Mt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Fa(t,Zr,Wi),an(t,Mt()),null}function Dj(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(cu=Mt()+500,zp&&Na())}}function Eo(t){Qs!==null&&Qs.tag===0&&!(Ve&6)&&ql();var e=Ve;Ve|=1;var r=Ln.transition,n=et;try{if(Ln.transition=null,et=1,t)return t()}finally{et=n,Ln.transition=r,Ve=e,!(Ve&6)&&Na()}}function Mj(){gn=Nl.current,yt(Nl)}function lo(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,$J(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(vj(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Gf();break;case 3:lu(),yt(nn),yt(Tr),Nj();break;case 5:Ej(n);break;case 4:lu();break;case 13:yt(St);break;case 19:yt(St);break;case 10:xj(n.type._context);break;case 22:case 23:Mj()}r=r.return}if(ar=t,zt=t=aa(t.current,null),gr=gn=e,er=0,yd=null,$j=Vp=So=0,Zr=Hc=null,Ua!==null){for(e=0;e<Ua.length;e++)if(r=Ua[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ua=null}return t}function VH(t,e){do{var r=zt;try{if(bj(),Sf.current=np,rp){for(var n=Et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}rp=!1}if(_o=0,sr=Jt=Et=null,Uc=!1,md=0,Rj.current=null,r===null||r.return===null){er=1,yd=e,zt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=gr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=kP(a);if(p!==null){p.flags&=-257,DP(p,a,o,s,e),p.mode&1&&$P(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){$P(s,c,e),qj();break e}l=Error(Z(426))}}else if(wt&&o.mode&1){var b=kP(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),DP(b,a,o,s,e),gj(uu(l,o));break e}}s=l=uu(l,o),er!==4&&(er=2),Hc===null?Hc=[s]:Hc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=TH(s,l,e);jP(s,g);break e;case 1:o=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(ia===null||!ia.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var x=PH(s,o,e);jP(s,x);break e}}s=s.return}while(s!==null)}YH(r)}catch(_){e=_,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(!0)}function KH(){var t=ip.current;return ip.current=np,t===null?np:t}function qj(){(er===0||er===3||er===2)&&(er=4),ar===null||!(So&268435455)&&!(Vp&268435455)||qs(ar,gr)}function op(t,e){var r=Ve;Ve|=2;var n=KH();(ar!==t||gr!==e)&&(Wi=null,lo(t,e));do try{iZ();break}catch(i){VH(t,i)}while(!0);if(bj(),Ve=r,ip.current=n,zt!==null)throw Error(Z(261));return ar=null,gr=0,er}function iZ(){for(;zt!==null;)GH(zt)}function sZ(){for(;zt!==null&&!PX();)GH(zt)}function GH(t){var e=XH(t.alternate,t,gn);t.memoizedProps=t.pendingProps,e===null?YH(t):zt=e,Rj.current=null}function YH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=JJ(r,e),r!==null){r.flags&=32767,zt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,zt=null;return}}else if(r=XJ(r,e,gn),r!==null){zt=r;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);er===0&&(er=5)}function Fa(t,e,r){var n=et,i=Ln.transition;try{Ln.transition=null,et=1,aZ(t,e,r,n)}finally{Ln.transition=i,et=n}return null}function aZ(t,e,r,n){do ql();while(Qs!==null);if(Ve&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(LX(t,s),t===ar&&(zt=ar=null,gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||tf||(tf=!0,JH(zf,function(){return ql(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Ln.transition,Ln.transition=null;var a=et;et=1;var o=Ve;Ve|=4,Rj.current=null,eZ(t,r),UH(r,t),OJ(EN),Wf=!!SN,EN=SN=null,t.current=r,tZ(r),IX(),Ve=o,et=a,Ln.transition=s}else t.current=r;if(tf&&(tf=!1,Qs=t,ap=i),s=t.pendingLanes,s===0&&(ia=null),kX(r.stateNode),an(t,Mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(sp)throw sp=!1,t=WN,WN=null,t;return ap&1&&t.tag!==0&&ql(),s=t.pendingLanes,s&1?t===HN?Vc++:(Vc=0,HN=t):Vc=0,Na(),null}function ql(){if(Qs!==null){var t=T9(ap),e=Ln.transition,r=et;try{if(Ln.transition=null,et=16>t?16:t,Qs===null)var n=!1;else{if(t=Qs,Qs=null,ap=0,Ve&6)throw Error(Z(331));var i=Ve;for(Ve|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:Wc(8,d,s)}var h=d.child;if(h!==null)h.return=d,me=h;else for(;me!==null;){d=me;var f=d.sibling,p=d.return;if(LH(d),d===c){me=null;break}if(f!==null){f.return=p,me=f;break}me=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Wc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,me=g;break e}me=s.return}}var v=t.current;for(me=v;me!==null;){a=me;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,me=w;else e:for(a=v;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Hp(9,o)}}catch(_){It(o,o.return,_)}if(o===a){me=null;break e}var x=o.sibling;if(x!==null){x.return=o.return,me=x;break e}me=o.return}}if(Ve=i,Na(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(qp,t)}catch{}n=!0}return n}finally{et=r,Ln.transition=e}}return!1}function GP(t,e,r){e=uu(r,e),e=TH(t,e,1),t=na(t,e,1),e=zr(),t!==null&&(Wd(t,1,e),an(t,e))}function It(t,e,r){if(t.tag===3)GP(t,t,r);else for(;e!==null;){if(e.tag===3){GP(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(ia===null||!ia.has(n))){t=uu(r,t),t=PH(e,t,1),e=na(e,t,1),t=zr(),e!==null&&(Wd(e,1,t),an(e,t));break}}e=e.return}}function oZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(gr&r)===r&&(er===4||er===3&&(gr&130023424)===gr&&500>Mt()-kj?lo(t,0):$j|=r),an(t,e)}function QH(t,e){e===0&&(t.mode&1?(e=Hh,Hh<<=1,!(Hh&130023424)&&(Hh=4194304)):e=1);var r=zr();t=fs(t,e),t!==null&&(Wd(t,e,r),an(t,r))}function lZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),QH(t,r)}function uZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),QH(t,r)}var XH;XH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||nn.current)rn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return rn=!1,QJ(t,e,r);rn=!!(t.flags&131072)}else rn=!1,wt&&e.flags&1048576&&tH(e,Xf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Nf(t,e),t=e.pendingProps;var i=su(e,Tr.current);Ml(e,r),i=jj(null,e,n,t,i,r);var s=Cj();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,sn(n)?(s=!0,Yf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,_j(e),i.updater=Wp,e.stateNode=i,i._reactInternals=e,$N(e,n,t,r),e=MN(null,e,n,!0,s,r)):(e.tag=0,wt&&s&&mj(e),qr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Nf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=dZ(n),t=ei(n,t),i){case 0:e=DN(null,e,n,t,r);break e;case 1:e=AP(null,e,n,t,r);break e;case 11:e=MP(null,e,n,t,r);break e;case 14:e=qP(null,e,n,ei(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),DN(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),AP(t,e,n,i,r);case 3:e:{if(kH(e),t===null)throw Error(Z(387));n=e.pendingProps,s=e.memoizedState,i=s.element,oH(t,e),ep(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=uu(Error(Z(423)),e),e=FP(t,e,n,r,i);break e}else if(n!==i){i=uu(Error(Z(424)),e),e=FP(t,e,n,r,i);break e}else for(xn=ra(e.stateNode.containerInfo.firstChild),wn=e,wt=!0,ii=null,r=sH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(au(),n===i){e=ps(t,e,r);break e}qr(t,e,n,r)}e=e.child}return e;case 5:return lH(e),t===null&&PN(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,NN(n,i)?a=null:s!==null&&NN(n,s)&&(e.flags|=32),$H(t,e),qr(t,e,a,r),e.child;case 6:return t===null&&PN(e),null;case 13:return DH(t,e,r);case 4:return Sj(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=ou(e,null,n,r):qr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),MP(t,e,n,i,r);case 7:return qr(t,e,e.pendingProps,r),e.child;case 8:return qr(t,e,e.pendingProps.children,r),e.child;case 12:return qr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,pt(Jf,n._currentValue),n._currentValue=a,s!==null)if(hi(s.value,a)){if(s.children===i.children&&!nn.current){e=ps(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=es(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),IN(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),IN(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Ml(e,r),i=Un(i),n=n(i),e.flags|=1,qr(t,e,n,r),e.child;case 14:return n=e.type,i=ei(n,e.pendingProps),i=ei(n.type,i),qP(t,e,n,i,r);case 15:return IH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ei(n,i),Nf(t,e),e.tag=1,sn(n)?(t=!0,Yf(e)):t=!1,Ml(e,r),CH(e,n,i),$N(e,n,i,r),MN(null,e,n,!0,t,r);case 19:return MH(t,e,r);case 22:return RH(t,e,r)}throw Error(Z(156,e.tag))};function JH(t,e){return N9(t,e)}function cZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(t,e,r,n){return new cZ(t,e,r,n)}function Aj(t){return t=t.prototype,!(!t||!t.isReactComponent)}function dZ(t){if(typeof t=="function")return Aj(t)?1:0;if(t!=null){if(t=t.$$typeof,t===nj)return 11;if(t===ij)return 14}return 2}function aa(t,e){var r=t.alternate;return r===null?(r=Fn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Cf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")Aj(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case ml:return uo(r.children,i,s,e);case rj:a=8,i|=8;break;case nN:return t=Fn(12,r,e,i|2),t.elementType=nN,t.lanes=s,t;case iN:return t=Fn(13,r,e,i),t.elementType=iN,t.lanes=s,t;case sN:return t=Fn(19,r,e,i),t.elementType=sN,t.lanes=s,t;case l9:return Kp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case a9:a=10;break e;case o9:a=9;break e;case nj:a=11;break e;case ij:a=14;break e;case Rs:a=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=Fn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function uo(t,e,r,n){return t=Fn(7,t,n,e),t.lanes=r,t}function Kp(t,e,r,n){return t=Fn(22,t,n,e),t.elementType=l9,t.lanes=r,t.stateNode={isHidden:!1},t}function gv(t,e,r){return t=Fn(6,t,null,e),t.lanes=r,t}function yv(t,e,r){return e=Fn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function hZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Jm(0),this.expirationTimes=Jm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Jm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Fj(t,e,r,n,i,s,a,o,l){return t=new hZ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Fn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},_j(s),t}function fZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:pl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function ZH(t){if(!t)return ga;t=t._reactInternals;e:{if(Fo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(sn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(sn(r))return Z9(t,r,e)}return e}function eV(t,e,r,n,i,s,a,o,l){return t=Fj(r,n,!0,t,i,s,a,o,l),t.context=ZH(null),r=t.current,n=zr(),i=sa(r),s=es(n,i),s.callback=e??null,na(r,s,i),t.current.lanes=i,Wd(t,i,n),an(t,n),t}function Gp(t,e,r,n){var i=e.current,s=zr(),a=sa(i);return r=ZH(r),e.context===null?e.context=r:e.pendingContext=r,e=es(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=na(i,e,a),t!==null&&(di(t,i,a,s),_f(t,i,a)),a}function lp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function YP(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function Lj(t,e){YP(t,e),(t=t.alternate)&&YP(t,e)}function pZ(){return null}var tV=typeof reportError=="function"?reportError:function(t){console.error(t)};function Bj(t){this._internalRoot=t}Yp.prototype.render=Bj.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Gp(t,e,null,null)};Yp.prototype.unmount=Bj.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Eo(function(){Gp(null,t,null,null)}),e[hs]=null}};function Yp(t){this._internalRoot=t}Yp.prototype.unstable_scheduleHydration=function(t){if(t){var e=R9();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ms.length&&e!==0&&e<Ms[r].priority;r++);Ms.splice(r,0,t),r===0&&k9(t)}};function zj(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Qp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function QP(){}function mZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=lp(a);s.call(c)}}var a=eV(e,n,t,0,null,!1,!1,"",QP);return t._reactRootContainer=a,t[hs]=a.current,cd(t.nodeType===8?t.parentNode:t),Eo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=lp(l);o.call(c)}}var l=Fj(t,0,!1,null,null,!1,!1,"",QP);return t._reactRootContainer=l,t[hs]=l.current,cd(t.nodeType===8?t.parentNode:t),Eo(function(){Gp(e,l,r,n)}),l}function Xp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=lp(a);o.call(l)}}Gp(e,a,t,i)}else a=mZ(r,e,t,i,n);return lp(a)}P9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=$c(e.pendingLanes);r!==0&&(oj(e,r|1),an(e,Mt()),!(Ve&6)&&(cu=Mt()+500,Na()))}break;case 13:Eo(function(){var n=fs(t,1);if(n!==null){var i=zr();di(n,t,1,i)}}),Lj(t,1)}};lj=function(t){if(t.tag===13){var e=fs(t,134217728);if(e!==null){var r=zr();di(e,t,134217728,r)}Lj(t,134217728)}};I9=function(t){if(t.tag===13){var e=sa(t),r=fs(t,e);if(r!==null){var n=zr();di(r,t,e,n)}Lj(t,e)}};R9=function(){return et};$9=function(t,e){var r=et;try{return et=t,e()}finally{et=r}};mN=function(t,e,r){switch(e){case"input":if(lN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Bp(n);if(!i)throw Error(Z(90));c9(n),lN(n,i)}}}break;case"textarea":h9(t,r);break;case"select":e=r.value,e!=null&&Rl(t,!!r.multiple,e,!1)}};b9=Dj;x9=Eo;var vZ={usingClientEntryPoint:!1,Events:[Vd,bl,Bp,g9,y9,Dj]},wc={findFiberByHostInstance:za,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},gZ={bundleType:wc.bundleType,version:wc.version,rendererPackageName:wc.rendererPackageName,rendererConfig:wc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=S9(t),t===null?null:t.stateNode},findFiberByHostInstance:wc.findFiberByHostInstance||pZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var rf=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!rf.isDisabled&&rf.supportsFiber)try{qp=rf.inject(gZ),Ii=rf}catch{}}En.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=vZ;En.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!zj(e))throw Error(Z(200));return fZ(t,e,null,r)};En.createRoot=function(t,e){if(!zj(t))throw Error(Z(299));var r=!1,n="",i=tV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=Fj(t,1,!1,null,null,r,!1,n,i),t[hs]=e.current,cd(t.nodeType===8?t.parentNode:t),new Bj(e)};En.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=S9(e),t=t===null?null:t.stateNode,t};En.flushSync=function(t){return Eo(t)};En.hydrate=function(t,e,r){if(!Qp(e))throw Error(Z(200));return Xp(null,t,e,!0,r)};En.hydrateRoot=function(t,e,r){if(!zj(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=tV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=eV(e,null,t,1,r??null,i,!1,s,a),t[hs]=e.current,cd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Yp(e)};En.render=function(t,e,r){if(!Qp(e))throw Error(Z(200));return Xp(null,t,e,!1,r)};En.unmountComponentAtNode=function(t){if(!Qp(t))throw Error(Z(40));return t._reactRootContainer?(Eo(function(){Xp(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};En.unstable_batchedUpdates=Dj;En.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Qp(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Xp(t,e,r,!1,n)};En.version="18.3.1-next-f1338f8080-20240426";function rV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(rV)}catch(t){console.error(t)}}rV(),r9.exports=En;var yZ=r9.exports,XP=yZ;tN.createRoot=XP.createRoot,tN.hydrateRoot=XP.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bd(){return bd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},bd.apply(this,arguments)}var Xs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Xs||(Xs={}));const JP="popstate";function bZ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return GN("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:up(i)}return wZ(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function Uj(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function xZ(){return Math.random().toString(36).substr(2,8)}function ZP(t,e){return{usr:t.state,key:t.key,idx:e}}function GN(t,e,r,n){return r===void 0&&(r=null),bd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pu(e):e,{state:r,key:e&&e.key||n||xZ()})}function up(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function wZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Xs.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(bd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Xs.Pop;let b=d(),g=b==null?null:b-c;c=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=Xs.Push;let v=GN(y.location,b,g);c=d()+1;let w=ZP(v,c),x=y.createHref(v);try{a.pushState(w,"",x)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(x)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=Xs.Replace;let v=GN(y.location,b,g);c=d();let w=ZP(v,c),x=y.createHref(v);a.replaceState(w,"",x),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:up(b);return v=v.replace(/ $/,"%20"),Nt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(JP,h),l=b,()=>{i.removeEventListener(JP,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var eI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(eI||(eI={}));function _Z(t,e,r){return r===void 0&&(r="/"),SZ(t,e,r)}function SZ(t,e,r,n){let i=typeof e=="string"?Pu(e):e,s=du(i.pathname||"/",r);if(s==null)return null;let a=nV(t);EZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=DZ(s);o=$Z(a[l],c)}return o}function nV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=oa([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),nV(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:IZ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of iV(s.path))i(s,a,l)}),e}function iV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=iV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function EZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:RZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const NZ=/^:[\w-]+$/,OZ=3,jZ=2,CZ=1,TZ=10,PZ=-2,tI=t=>t==="*";function IZ(t,e){let r=t.split("/"),n=r.length;return r.some(tI)&&(n+=PZ),e&&(n+=jZ),r.filter(i=>!tI(i)).reduce((i,s)=>i+(NZ.test(s)?OZ:s===""?CZ:TZ),n)}function RZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function $Z(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=YN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:oa([s,h.pathname]),pathnameBase:LZ(oa([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=oa([s,h.pathnameBase]))}return a}function YN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=kZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function kZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),Uj(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function DZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Uj(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function du(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const MZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,qZ=t=>MZ.test(t);function AZ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Pu(t):t,s;if(r)if(qZ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),Uj(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=rI(r.substring(1),"/"):s=rI(r,e)}else s=e;return{pathname:s,search:BZ(n),hash:zZ(i)}}function rI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function bv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function FZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function Wj(t,e){let r=FZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function Hj(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Pu(t):(i=bd({},t),Nt(!i.pathname||!i.pathname.includes("?"),bv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),bv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),bv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=AZ(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const oa=t=>t.join("/").replace(/\/\/+/g,"/"),LZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),BZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,zZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function UZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const sV=["post","put","patch","delete"];new Set(sV);const WZ=["get",...sV];new Set(WZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function xd(){return xd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},xd.apply(this,arguments)}const Jp=I.createContext(null),aV=I.createContext(null),ys=I.createContext(null),Zp=I.createContext(null),bs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),oV=I.createContext(null);function HZ(t,e){let{relative:r}=e===void 0?{}:e;Iu()||Nt(!1);let{basename:n,navigator:i}=I.useContext(ys),{hash:s,pathname:a,search:o}=em(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:oa([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Iu(){return I.useContext(Zp)!=null}function xs(){return Iu()||Nt(!1),I.useContext(Zp).location}function lV(t){I.useContext(ys).static||I.useLayoutEffect(t)}function dn(){let{isDataRoute:t}=I.useContext(bs);return t?iee():VZ()}function VZ(){Iu()||Nt(!1);let t=I.useContext(Jp),{basename:e,future:r,navigator:n}=I.useContext(ys),{matches:i}=I.useContext(bs),{pathname:s}=xs(),a=JSON.stringify(Wj(i,r.v7_relativeSplatPath)),o=I.useRef(!1);return lV(()=>{o.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=Hj(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:oa([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function ws(){let{matches:t}=I.useContext(bs),e=t[t.length-1];return e?e.params:{}}function em(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=I.useContext(ys),{matches:i}=I.useContext(bs),{pathname:s}=xs(),a=JSON.stringify(Wj(i,n.v7_relativeSplatPath));return I.useMemo(()=>Hj(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function KZ(t,e){return GZ(t,e)}function GZ(t,e,r,n){Iu()||Nt(!1);let{navigator:i}=I.useContext(ys),{matches:s}=I.useContext(bs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=xs(),d;if(e){var h;let b=typeof e=="string"?Pu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||Nt(!1),d=b}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=_Z(t,{pathname:p}),y=ZZ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:oa([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:oa([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?I.createElement(Zp.Provider,{value:{location:xd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Xs.Pop}},y):y}function YZ(){let t=nee(),e=UZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:i},r):null,null)}const QZ=I.createElement(YZ,null);class XZ extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement(bs.Provider,{value:this.props.routeContext},I.createElement(oV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function JZ(t){let{routeContext:e,match:r,children:n}=t,i=I.useContext(Jp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(bs.Provider,{value:e},n)}function ZZ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||QZ,l&&(c<0&&f===0?(see("route-fallback"),m=!0,b=null):c===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=y:m?w=b:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,I.createElement(JZ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(XZ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var uV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(uV||{}),cV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(cV||{});function eee(t){let e=I.useContext(Jp);return e||Nt(!1),e}function tee(t){let e=I.useContext(aV);return e||Nt(!1),e}function ree(t){let e=I.useContext(bs);return e||Nt(!1),e}function dV(t){let e=ree(),r=e.matches[e.matches.length-1];return r.route.id||Nt(!1),r.route.id}function nee(){var t;let e=I.useContext(oV),r=tee(),n=dV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function iee(){let{router:t}=eee(uV.UseNavigateStable),e=dV(cV.UseNavigateStable),r=I.useRef(!1);return lV(()=>{r.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,xd({fromRouteId:e},s)))},[t,e])}const nI={};function see(t,e,r){nI[t]||(nI[t]=!0)}function aee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function hV(t){let{to:e,replace:r,state:n,relative:i}=t;Iu()||Nt(!1);let{future:s,static:a}=I.useContext(ys),{matches:o}=I.useContext(bs),{pathname:l}=xs(),c=dn(),d=Hj(e,Wj(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return I.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function Xe(t){Nt(!1)}function oee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Xs.Pop,navigator:s,static:a=!1,future:o}=t;Iu()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:a,future:xd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Pu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=I.useMemo(()=>{let b=du(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:I.createElement(ys.Provider,{value:c},I.createElement(Zp.Provider,{children:r,value:y}))}function iI(t){let{children:e,location:r}=t;return KZ(QN(e),r)}new Promise(()=>{});function QN(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let s=[...e,i];if(n.type===I.Fragment){r.push.apply(r,QN(n.props.children,s));return}n.type!==Xe&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=QN(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function cp(){return cp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},cp.apply(this,arguments)}function fV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function lee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function uee(t,e){return t.button===0&&(!e||e==="_self")&&!lee(t)}function XN(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function cee(t,e){let r=XN(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const dee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],hee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],fee="6";try{window.__reactRouterVersion=fee}catch{}const pee=I.createContext({isTransitioning:!1}),mee="startTransition",sI=oX[mee];function vee(t){let{basename:e,children:r,future:n,window:i}=t,s=I.useRef();s.current==null&&(s.current=bZ({window:i,v5Compat:!0}));let a=s.current,[o,l]=I.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=I.useCallback(h=>{c&&sI?sI(()=>l(h)):l(h)},[l,c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.useEffect(()=>aee(n),[n]),I.createElement(oee,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const gee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",yee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=I.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=fV(e,dee),{basename:p}=I.useContext(ys),m,y=!1;if(typeof c=="string"&&yee.test(c)&&(m=c,gee))try{let w=new URL(window.location.href),x=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=du(x.pathname,p);x.origin===w.origin&&_!=null?c=_+x.search+x.hash:y=!0}catch{}let b=HZ(c,{relative:i}),g=wee(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||g(w)}return I.createElement("a",cp({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),bee=I.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,h=fV(e,hee),f=em(l,{relative:h.relative}),p=xs(),m=I.useContext(aV),{navigator:y,basename:b}=I.useContext(ys),g=m!=null&&_ee(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,x=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),x=x?x.toLowerCase():null,v=v.toLowerCase()),x&&b&&(x=du(x,b)||x);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=w===v||!a&&w.startsWith(v)&&w.charAt(_)==="/",N=x!=null&&(x===v||!a&&x.startsWith(v)&&x.charAt(v.length)==="/"),S={isActive:E,isPending:N,isTransitioning:g},O=E?n:void 0,j;typeof s=="function"?j=s(S):j=[s,E?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(S):o;return I.createElement(he,cp({},h,{"aria-current":O,className:j,ref:r,style:T,to:l,viewTransition:c}),typeof d=="function"?d(S):d)});var JN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(JN||(JN={}));var aI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(aI||(aI={}));function xee(t){let e=I.useContext(Jp);return e||Nt(!1),e}function wee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=dn(),c=xs(),d=em(t,{relative:a});return I.useCallback(h=>{if(uee(h,r)){h.preventDefault();let f=n!==void 0?n:up(c)===up(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,t,s,a,o])}function Vj(t){let e=I.useRef(XN(t)),r=I.useRef(!1),n=xs(),i=I.useMemo(()=>cee(n.search,r.current?null:e.current),[n.search]),s=dn(),a=I.useCallback((o,l)=>{const c=XN(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}function _ee(t,e){e===void 0&&(e={});let r=I.useContext(pee);r==null&&Nt(!1);let{basename:n}=xee(JN.useViewTransitionState),i=em(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=du(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=du(r.nextLocation.pathname,n)||r.nextLocation.pathname;return YN(i.pathname,a)!=null||YN(i.pathname,s)!=null}var Lo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},See={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Fs,GO,$W,Eee=($W=class{constructor(){pe(this,Fs,See);pe(this,GO,!1)}setTimeoutProvider(t){ne(this,Fs,t)}setTimeout(t,e){return R(this,Fs).setTimeout(t,e)}clearTimeout(t){R(this,Fs).clearTimeout(t)}setInterval(t,e){return R(this,Fs).setInterval(t,e)}clearInterval(t){R(this,Fs).clearInterval(t)}},Fs=new WeakMap,GO=new WeakMap,$W),Ha=new Eee;function Nee(t){setTimeout(t,0)}var No=typeof window>"u"||"Deno"in globalThis;function Or(){}function Oee(t,e){return typeof t=="function"?t(e):t}function ZN(t){return typeof t=="number"&&t>=0&&t!==1/0}function pV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function la(t,e){return typeof t=="function"?t(e):t}function $n(t,e){return typeof t=="function"?t(e):t}function oI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==Kj(a,e.options))return!1}else if(!wd(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function lI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Oo(e.options.mutationKey)!==Oo(s))return!1}else if(!wd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function Kj(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oo)(t)}function Oo(t){return JSON.stringify(t,(e,r)=>eO(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function wd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>wd(t[r],e[r])):!1}var jee=Object.prototype.hasOwnProperty;function Gj(t,e){if(t===e)return t;const r=uI(t)&&uI(e);if(!r&&!(eO(t)&&eO(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:jee.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=Gj(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function _d(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function uI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function eO(t){if(!cI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!cI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function cI(t){return Object.prototype.toString.call(t)==="[object Object]"}function Cee(t){return new Promise(e=>{Ha.setTimeout(e,t)})}function tO(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?Gj(t,e):e}function Tee(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Pee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var Yj=Symbol();function mV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===Yj?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function Qj(t,e){return typeof t=="function"?t(...e):!!t}function Iee(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Za,Ls,Ul,kW,Ree=(kW=class extends Lo{constructor(){super();pe(this,Za);pe(this,Ls);pe(this,Ul);ne(this,Ul,e=>{if(!No&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Ls)||this.setEventListener(R(this,Ul))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Ls))==null||e.call(this),ne(this,Ls,void 0))}setEventListener(e){var r;ne(this,Ul,e),(r=R(this,Ls))==null||r.call(this),ne(this,Ls,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Za)!==e&&(ne(this,Za,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Za)=="boolean"?R(this,Za):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Za=new WeakMap,Ls=new WeakMap,Ul=new WeakMap,kW),Xj=new Ree;function rO(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var $ee=Nee;function kee(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=$ee;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var kt=kee(),Wl,Bs,Hl,DW,Dee=(DW=class extends Lo{constructor(){super();pe(this,Wl,!0);pe(this,Bs);pe(this,Hl);ne(this,Hl,e=>{if(!No&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Bs)||this.setEventListener(R(this,Hl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Bs))==null||e.call(this),ne(this,Bs,void 0))}setEventListener(e){var r;ne(this,Hl,e),(r=R(this,Bs))==null||r.call(this),ne(this,Bs,e(this.setOnline.bind(this)))}setOnline(e){R(this,Wl)!==e&&(ne(this,Wl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Wl)}},Wl=new WeakMap,Bs=new WeakMap,Hl=new WeakMap,DW),dp=new Dee;function Mee(t){return Math.min(1e3*2**t,3e4)}function vV(t){return(t??"online")==="online"?dp.isOnline():!0}var nO=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function gV(t){let e=!1,r=0,n;const i=rO(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new nO(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>Xj.isFocused()&&(t.networkMode==="always"||dp.isOnline())&&t.canRun(),d=()=>vV(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||c())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(No?0:3),w=t.retryDelay??Mee,x=typeof w=="function"?w(r,g):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),Cee(x).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var eo,MW,yV=(MW=class{constructor(){pe(this,eo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),ZN(this.gcTime)&&ne(this,eo,Ha.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(No?1/0:5*60*1e3))}clearGcTimeout(){R(this,eo)&&(Ha.clearTimeout(R(this,eo)),ne(this,eo,void 0))}},eo=new WeakMap,MW),to,Vl,In,ro,ir,Dd,no,ti,Ui,qW,qee=(qW=class extends yV{constructor(e){super();pe(this,ti);pe(this,to);pe(this,Vl);pe(this,In);pe(this,ro);pe(this,ir);pe(this,Dd);pe(this,no);ne(this,no,!1),ne(this,Dd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,ro,e.client),ne(this,In,R(this,ro).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,to,hI(this.options)),this.state=e.state??R(this,to),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,ir))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Dd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=hI(this.options);r.data!==void 0&&(this.setState(dI(r.data,r.dataUpdatedAt)),ne(this,to,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,In).remove(this)}setData(e,r){const n=tO(this.state.data,e,this.options);return Oe(this,ti,Ui).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Oe(this,ti,Ui).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,ir))==null?void 0:n.promise;return(i=R(this,ir))==null||i.cancel(e),r?r.then(Or).catch(Or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,to))}isActive(){return this.observers.some(e=>$n(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===Yj||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>la(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!pV(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,In).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,ir)&&(R(this,no)?R(this,ir).cancel({revert:!0}):R(this,ir).cancelRetry()),this.scheduleGc()),R(this,In).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,ti,Ui).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,h,f,p,m,y,b,g,v,w;if(this.state.fetchStatus!=="idle"&&((l=R(this,ir))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,ir))return R(this,ir).continueRetry(),R(this,ir).promise}if(e&&this.setOptions(e),!this.options.queryFn){const x=this.observers.find(_=>_.options.queryFn);x&&this.setOptions(x.options)}const n=new AbortController,i=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(ne(this,no,!0),n.signal)})},s=()=>{const x=mV(this.options,r),E=(()=>{const N={client:R(this,ro),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return ne(this,no,!1),this.options.persister?this.options.persister(x,E,this):x(E)},o=(()=>{const x={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,ro),state:this.state,fetchFn:s};return i(x),x})();(c=this.options.behavior)==null||c.onFetch(o,this),ne(this,Vl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Oe(this,ti,Ui).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ne(this,ir,gV({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:x=>{x instanceof nO&&x.revert&&this.setState({...R(this,Vl),fetchStatus:"idle"}),n.abort()},onFail:(x,_)=>{Oe(this,ti,Ui).call(this,{type:"failed",failureCount:x,error:_})},onPause:()=>{Oe(this,ti,Ui).call(this,{type:"pause"})},onContinue:()=>{Oe(this,ti,Ui).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const x=await R(this,ir).start();if(x===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(x),(p=(f=R(this,In).config).onSuccess)==null||p.call(f,x,this),(y=(m=R(this,In).config).onSettled)==null||y.call(m,x,this.state.error,this),x}catch(x){if(x instanceof nO){if(x.silent)return R(this,ir).promise;if(x.revert){if(this.state.data===void 0)throw x;return this.state.data}}throw Oe(this,ti,Ui).call(this,{type:"error",error:x}),(g=(b=R(this,In).config).onError)==null||g.call(b,x,this),(w=(v=R(this,In).config).onSettled)==null||w.call(v,this.state.data,x,this),x}finally{this.scheduleGc()}}},to=new WeakMap,Vl=new WeakMap,In=new WeakMap,ro=new WeakMap,ir=new WeakMap,Dd=new WeakMap,no=new WeakMap,ti=new WeakSet,Ui=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...bV(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...dI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Vl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,In).notify({query:this,type:"updated",action:e})})},qW);function bV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:vV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function dI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function hI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yr,Ue,Md,kr,io,Kl,Vi,zs,qd,Gl,Yl,so,ao,Us,Ql,Ye,Dc,iO,sO,aO,oO,lO,uO,cO,xV,AW,Jj=(AW=class extends Lo{constructor(e,r){super();pe(this,Ye);pe(this,Yr);pe(this,Ue);pe(this,Md);pe(this,kr);pe(this,io);pe(this,Kl);pe(this,Vi);pe(this,zs);pe(this,qd);pe(this,Gl);pe(this,Yl);pe(this,so);pe(this,ao);pe(this,Us);pe(this,Ql,new Set);this.options=r,ne(this,Yr,e),ne(this,zs,null),ne(this,Vi,rO()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ue).addObserver(this),fI(R(this,Ue),this.options)?Oe(this,Ye,Dc).call(this):this.updateResult(),Oe(this,Ye,oO).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return dO(R(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return dO(R(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Ye,lO).call(this),Oe(this,Ye,uO).call(this),R(this,Ue).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Ue);if(this.options=R(this,Yr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof $n(this.options.enabled,R(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,Ye,cO).call(this),R(this,Ue).setOptions(this.options),r._defaulted&&!_d(this.options,r)&&R(this,Yr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ue),observer:this});const i=this.hasListeners();i&&pI(R(this,Ue),n,this.options,r)&&Oe(this,Ye,Dc).call(this),this.updateResult(),i&&(R(this,Ue)!==n||$n(this.options.enabled,R(this,Ue))!==$n(r.enabled,R(this,Ue))||la(this.options.staleTime,R(this,Ue))!==la(r.staleTime,R(this,Ue)))&&Oe(this,Ye,iO).call(this);const s=Oe(this,Ye,sO).call(this);i&&(R(this,Ue)!==n||$n(this.options.enabled,R(this,Ue))!==$n(r.enabled,R(this,Ue))||s!==R(this,Us))&&Oe(this,Ye,aO).call(this,s)}getOptimisticResult(e){const r=R(this,Yr).getQueryCache().build(R(this,Yr),e),n=this.createResult(r,e);return Fee(this,n)&&(ne(this,kr,n),ne(this,Kl,this.options),ne(this,io,R(this,Ue).state)),n}getCurrentResult(){return R(this,kr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Vi).status==="pending"&&R(this,Vi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Ql).add(e)}getCurrentQuery(){return R(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Yr).defaultQueryOptions(e),n=R(this,Yr).getQueryCache().build(R(this,Yr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Oe(this,Ye,Dc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,kr)))}createResult(e,r){var O;const n=R(this,Ue),i=this.options,s=R(this,kr),a=R(this,io),o=R(this,Kl),c=e!==n?e.state:R(this,Md),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const j=this.hasListeners(),T=!j&&fI(e,r),C=j&&pI(e,n,r,i);(T||C)&&(h={...h,...bV(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let j;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(j=s.data,g=!0):j=typeof r.placeholderData=="function"?r.placeholderData((O=R(this,Yl))==null?void 0:O.state.data,R(this,Yl)):r.placeholderData,j!==void 0&&(b="success",p=tO(s==null?void 0:s.data,j,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,qd))p=R(this,Gl);else try{ne(this,qd,r.select),p=r.select(p),p=tO(s==null?void 0:s.data,p,r),ne(this,Gl,p),ne(this,zs,null)}catch(j){ne(this,zs,j)}R(this,zs)&&(m=R(this,zs),p=R(this,Gl),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",w=b==="pending",x=b==="error",_=w&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:w,isSuccess:b==="success",isError:x,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:x&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:x&&E,isStale:Zj(e,r),refetch:this.refetch,promise:R(this,Vi),isEnabled:$n(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const j=P=>{S.status==="error"?P.reject(S.error):S.data!==void 0&&P.resolve(S.data)},T=()=>{const P=ne(this,Vi,S.promise=rO());j(P)},C=R(this,Vi);switch(C.status){case"pending":e.queryHash===n.queryHash&&j(C);break;case"fulfilled":(S.status==="error"||S.data!==C.value)&&T();break;case"rejected":(S.status!=="error"||S.error!==C.reason)&&T();break}}return S}updateResult(){const e=R(this,kr),r=this.createResult(R(this,Ue),this.options);if(ne(this,io,R(this,Ue).state),ne(this,Kl,this.options),R(this,io).data!==void 0&&ne(this,Yl,R(this,Ue)),_d(r,e))return;ne(this,kr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Ql).size)return!0;const a=new Set(s??R(this,Ql));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,kr)).some(o=>{const l=o;return R(this,kr)[l]!==e[l]&&a.has(l)})};Oe(this,Ye,xV).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Ye,oO).call(this)}},Yr=new WeakMap,Ue=new WeakMap,Md=new WeakMap,kr=new WeakMap,io=new WeakMap,Kl=new WeakMap,Vi=new WeakMap,zs=new WeakMap,qd=new WeakMap,Gl=new WeakMap,Yl=new WeakMap,so=new WeakMap,ao=new WeakMap,Us=new WeakMap,Ql=new WeakMap,Ye=new WeakSet,Dc=function(e){Oe(this,Ye,cO).call(this);let r=R(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Or)),r},iO=function(){Oe(this,Ye,lO).call(this);const e=la(this.options.staleTime,R(this,Ue));if(No||R(this,kr).isStale||!ZN(e))return;const n=pV(R(this,kr).dataUpdatedAt,e)+1;ne(this,so,Ha.setTimeout(()=>{R(this,kr).isStale||this.updateResult()},n))},sO=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ue)):this.options.refetchInterval)??!1},aO=function(e){Oe(this,Ye,uO).call(this),ne(this,Us,e),!(No||$n(this.options.enabled,R(this,Ue))===!1||!ZN(R(this,Us))||R(this,Us)===0)&&ne(this,ao,Ha.setInterval(()=>{(this.options.refetchIntervalInBackground||Xj.isFocused())&&Oe(this,Ye,Dc).call(this)},R(this,Us)))},oO=function(){Oe(this,Ye,iO).call(this),Oe(this,Ye,aO).call(this,Oe(this,Ye,sO).call(this))},lO=function(){R(this,so)&&(Ha.clearTimeout(R(this,so)),ne(this,so,void 0))},uO=function(){R(this,ao)&&(Ha.clearInterval(R(this,ao)),ne(this,ao,void 0))},cO=function(){const e=R(this,Yr).getQueryCache().build(R(this,Yr),this.options);if(e===R(this,Ue))return;const r=R(this,Ue);ne(this,Ue,e),ne(this,Md,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},xV=function(e){kt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,kr))}),R(this,Yr).getQueryCache().notify({query:R(this,Ue),type:"observerResultsUpdated"})})},AW);function Aee(t,e){return $n(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function fI(t,e){return Aee(t,e)||t.state.data!==void 0&&dO(t,e,e.refetchOnMount)}function dO(t,e,r){if($n(e.enabled,t)!==!1&&la(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&Zj(t,e)}return!1}function pI(t,e,r,n){return(t!==e||$n(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&Zj(t,r)}function Zj(t,e){return $n(e.enabled,t)!==!1&&t.isStaleByTime(la(e.staleTime,t))}function Fee(t,e){return!_d(t.getCurrentResult(),e)}function mI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const b=w=>{Iee(w,()=>e.signal,()=>y=!0)},g=mV(e.options,e.fetchOptions),v=async(w,x,_)=>{if(y)return Promise.reject();if(x==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:x,direction:_?"backward":"forward",meta:e.options.meta};return b(T),T})(),S=await g(N),{maxPages:O}=e.options,j=_?Pee:Tee;return{pages:j(w.pages,S,O),pageParams:j(w.pageParams,x,O)}};if(i&&s.length){const w=i==="backward",x=w?Lee:vI,_={pages:s,pageParams:a},E=x(n,_);o=await v(_,E,w)}else{const w=t??s.length;do{const x=l===0?a[0]??n.initialPageParam:vI(n,o);if(l>0&&x==null)break;o=await v(o,x),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function vI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Lee(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ad,Si,Dr,oo,Ei,Is,FW,Bee=(FW=class extends yV{constructor(e){super();pe(this,Ei);pe(this,Ad);pe(this,Si);pe(this,Dr);pe(this,oo);ne(this,Ad,e.client),this.mutationId=e.mutationId,ne(this,Dr,e.mutationCache),ne(this,Si,[]),this.state=e.state||wV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Si).includes(e)||(R(this,Si).push(e),this.clearGcTimeout(),R(this,Dr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,Si,R(this,Si).filter(r=>r!==e)),this.scheduleGc(),R(this,Dr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Si).length||(this.state.status==="pending"?this.scheduleGc():R(this,Dr).remove(this))}continue(){var e;return((e=R(this,oo))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,h,f,p,m,y,b,g,v,w,x,_,E,N,S,O;const r=()=>{Oe(this,Ei,Is).call(this,{type:"continue"})},n={client:R(this,Ad),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,oo,gV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(j,T)=>{Oe(this,Ei,Is).call(this,{type:"failed",failureCount:j,error:T})},onPause:()=>{Oe(this,Ei,Is).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Dr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,oo).canStart();try{if(i)r();else{Oe(this,Ei,Is).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Dr).config).onMutate)==null?void 0:o.call(a,e,this,n));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));T!==this.state.context&&Oe(this,Ei,Is).call(this,{type:"pending",context:T,variables:e,isPaused:s})}const j=await R(this,oo).start();return await((h=(d=R(this,Dr).config).onSuccess)==null?void 0:h.call(d,j,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,j,e,this.state.context,n)),await((y=(m=R(this,Dr).config).onSettled)==null?void 0:y.call(m,j,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,j,null,e,this.state.context,n)),Oe(this,Ei,Is).call(this,{type:"success",data:j}),j}catch(j){try{await((w=(v=R(this,Dr).config).onError)==null?void 0:w.call(v,j,e,this.state.context,this,n))}catch(T){Promise.reject(T)}try{await((_=(x=this.options).onError)==null?void 0:_.call(x,j,e,this.state.context,n))}catch(T){Promise.reject(T)}try{await((N=(E=R(this,Dr).config).onSettled)==null?void 0:N.call(E,void 0,j,this.state.variables,this.state.context,this,n))}catch(T){Promise.reject(T)}try{await((O=(S=this.options).onSettled)==null?void 0:O.call(S,void 0,j,e,this.state.context,n))}catch(T){Promise.reject(T)}throw Oe(this,Ei,Is).call(this,{type:"error",error:j}),j}finally{R(this,Dr).runNext(this)}}},Ad=new WeakMap,Si=new WeakMap,Dr=new WeakMap,oo=new WeakMap,Ei=new WeakSet,Is=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{R(this,Si).forEach(n=>{n.onMutationUpdate(e)}),R(this,Dr).notify({mutation:this,type:"updated",action:e})})},FW);function wV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki,ri,Fd,LW,zee=(LW=class extends Lo{constructor(e={}){super();pe(this,Ki);pe(this,ri);pe(this,Fd);this.config=e,ne(this,Ki,new Set),ne(this,ri,new Map),ne(this,Fd,0)}build(e,r,n){const i=new Bee({client:e,mutationCache:this,mutationId:++Fh(this,Fd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ki).add(e);const r=nf(e);if(typeof r=="string"){const n=R(this,ri).get(r);n?n.push(e):R(this,ri).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ki).delete(e)){const r=nf(e);if(typeof r=="string"){const n=R(this,ri).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,ri).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=nf(e);if(typeof r=="string"){const n=R(this,ri).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=nf(e);if(typeof r=="string"){const i=(n=R(this,ri).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{R(this,Ki).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ki).clear(),R(this,ri).clear()})}getAll(){return Array.from(R(this,Ki))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>lI(r,n))}findAll(e={}){return this.getAll().filter(r=>lI(e,r))}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return kt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Or))))}},Ki=new WeakMap,ri=new WeakMap,Fd=new WeakMap,LW);function nf(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Gi,Ws,Qr,Yi,cs,Tf,hO,BW,Uee=(BW=class extends Lo{constructor(e,r){super();pe(this,cs);pe(this,Gi);pe(this,Ws);pe(this,Qr);pe(this,Yi);ne(this,Gi,e),this.setOptions(r),this.bindMethods(),Oe(this,cs,Tf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Gi).defaultMutationOptions(e),_d(this.options,r)||R(this,Gi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Qr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oo(r.mutationKey)!==Oo(this.options.mutationKey)?this.reset():((n=R(this,Qr))==null?void 0:n.state.status)==="pending"&&R(this,Qr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Qr))==null||e.removeObserver(this)}onMutationUpdate(e){Oe(this,cs,Tf).call(this),Oe(this,cs,hO).call(this,e)}getCurrentResult(){return R(this,Ws)}reset(){var e;(e=R(this,Qr))==null||e.removeObserver(this),ne(this,Qr,void 0),Oe(this,cs,Tf).call(this),Oe(this,cs,hO).call(this)}mutate(e,r){var n;return ne(this,Yi,r),(n=R(this,Qr))==null||n.removeObserver(this),ne(this,Qr,R(this,Gi).getMutationCache().build(R(this,Gi),this.options)),R(this,Qr).addObserver(this),R(this,Qr).execute(e)}},Gi=new WeakMap,Ws=new WeakMap,Qr=new WeakMap,Yi=new WeakMap,cs=new WeakSet,Tf=function(){var r;const e=((r=R(this,Qr))==null?void 0:r.state)??wV();ne(this,Ws,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},hO=function(e){kt.batch(()=>{var r,n,i,s,a,o,l,c;if(R(this,Yi)&&this.hasListeners()){const d=R(this,Ws).variables,h=R(this,Ws).context,f={client:R(this,Gi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Yi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Yi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Yi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(l=R(this,Yi)).onSettled)==null||c.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Ws))})})},BW);function gI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function Wee(t,e,r){const n=t.slice(0);return n[e]=r,n}var Xl,vn,Jl,Zl,Rn,Hs,Ld,Bd,zd,br,fO,pO,mO,vO,gO,zW,Hee=(zW=class extends Lo{constructor(e,r,n){super();pe(this,br);pe(this,Xl);pe(this,vn);pe(this,Jl);pe(this,Zl);pe(this,Rn);pe(this,Hs);pe(this,Ld);pe(this,Bd);pe(this,zd,[]);ne(this,Xl,e),ne(this,Zl,n),ne(this,Jl,[]),ne(this,Rn,[]),ne(this,vn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,Rn).forEach(e=>{e.subscribe(r=>{Oe(this,br,vO).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,Rn).forEach(e=>{e.destroy()})}setQueries(e,r){ne(this,Jl,e),ne(this,Zl,r),kt.batch(()=>{const n=R(this,Rn),i=Oe(this,br,mO).call(this,R(this,Jl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),c=o||l,d=c?!0:a.some((h,f)=>{const p=R(this,vn)[f];return!p||!_d(h,p)});!c&&!d||(c&&(ne(this,zd,i),ne(this,Rn,s)),ne(this,vn,a),this.hasListeners()&&(c&&(gI(n,s).forEach(h=>{h.destroy()}),gI(s,n).forEach(h=>{h.subscribe(f=>{Oe(this,br,vO).call(this,h,f)})})),Oe(this,br,gO).call(this)))})}getCurrentResult(){return R(this,vn)}getQueries(){return R(this,Rn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,Rn)}getOptimisticResult(e,r){const n=Oe(this,br,mO).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Oe(this,br,pO).call(this,s??i,r),()=>Oe(this,br,fO).call(this,i,n)]}},Xl=new WeakMap,vn=new WeakMap,Jl=new WeakMap,Zl=new WeakMap,Rn=new WeakMap,Hs=new WeakMap,Ld=new WeakMap,Bd=new WeakMap,zd=new WeakMap,br=new WeakSet,fO=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},pO=function(e,r){return r?((!R(this,Hs)||R(this,vn)!==R(this,Bd)||r!==R(this,Ld))&&(ne(this,Ld,r),ne(this,Bd,R(this,vn)),ne(this,Hs,Gj(R(this,Hs),r(e)))),R(this,Hs)):e},mO=function(e){const r=new Map;R(this,Rn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Xl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new Jj(R(this,Xl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},vO=function(e,r){const n=R(this,Rn).indexOf(e);n!==-1&&(ne(this,vn,Wee(R(this,vn),n,r)),Oe(this,br,gO).call(this))},gO=function(){var e;if(this.hasListeners()){const r=R(this,Hs),n=Oe(this,br,fO).call(this,R(this,vn),R(this,zd)),i=Oe(this,br,pO).call(this,n,(e=R(this,Zl))==null?void 0:e.combine);r!==i&&kt.batch(()=>{this.listeners.forEach(s=>{s(R(this,vn))})})}},zW),Ni,UW,Vee=(UW=class extends Lo{constructor(e={}){super();pe(this,Ni);this.config=e,ne(this,Ni,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??Kj(i,r);let a=this.get(s);return a||(a=new qee({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Ni).has(e.queryHash)||(R(this,Ni).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Ni).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Ni).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Ni).get(e)}getAll(){return[...R(this,Ni).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>oI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>oI(e,n)):r}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ni=new WeakMap,UW),Pt,Vs,Ks,eu,tu,Gs,ru,nu,WW,Kee=(WW=class{constructor(t={}){pe(this,Pt);pe(this,Vs);pe(this,Ks);pe(this,eu);pe(this,tu);pe(this,Gs);pe(this,ru);pe(this,nu);ne(this,Pt,t.queryCache||new Vee),ne(this,Vs,t.mutationCache||new zee),ne(this,Ks,t.defaultOptions||{}),ne(this,eu,new Map),ne(this,tu,new Map),ne(this,Gs,0)}mount(){Fh(this,Gs)._++,R(this,Gs)===1&&(ne(this,ru,Xj.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Pt).onFocus())})),ne(this,nu,dp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,Pt).onOnline())})))}unmount(){var t,e;Fh(this,Gs)._--,R(this,Gs)===0&&((t=R(this,ru))==null||t.call(this),ne(this,ru,void 0),(e=R(this,nu))==null||e.call(this),ne(this,nu,void 0))}isFetching(t){return R(this,Pt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Vs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Pt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,Pt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(la(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,Pt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,Pt).get(n.queryHash),s=i==null?void 0:i.state.data,a=Oee(e,s);if(a!==void 0)return R(this,Pt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return kt.batch(()=>R(this,Pt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,Pt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,Pt);kt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,Pt);return kt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=kt.batch(()=>R(this,Pt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Or).catch(Or)}invalidateQueries(t,e={}){return kt.batch(()=>(R(this,Pt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=kt.batch(()=>R(this,Pt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Or)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,Pt).build(this,e);return r.isStaleByTime(la(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Or).catch(Or)}fetchInfiniteQuery(t){return t.behavior=mI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Or).catch(Or)}ensureInfiniteQueryData(t){return t.behavior=mI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return dp.isOnline()?R(this,Vs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,Pt)}getMutationCache(){return R(this,Vs)}getDefaultOptions(){return R(this,Ks)}setDefaultOptions(t){ne(this,Ks,t)}setQueryDefaults(t,e){R(this,eu).set(Oo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,eu).values()],r={};return e.forEach(n=>{wd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,tu).set(Oo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,tu).values()],r={};return e.forEach(n=>{wd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ks).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Kj(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===Yj&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ks).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,Pt).clear(),R(this,Vs).clear()}},Pt=new WeakMap,Vs=new WeakMap,Ks=new WeakMap,eu=new WeakMap,tu=new WeakMap,Gs=new WeakMap,ru=new WeakMap,nu=new WeakMap,WW),_V=I.createContext(void 0),st=t=>{const e=I.useContext(_V);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Gee=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(_V.Provider,{value:t,children:e})),SV=I.createContext(!1),EV=()=>I.useContext(SV);SV.Provider;function Yee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Qee=I.createContext(Yee()),NV=()=>I.useContext(Qee),OV=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?Qj(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},jV=t=>{I.useEffect(()=>{t.clearReset()},[t])},CV=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||Qj(r,[t.error,n])),TV=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},PV=(t,e)=>t.isLoading&&t.isFetching&&!e,yO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,hp=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function fp({queries:t,...e},r){const n=st(),i=EV(),s=NV(),a=I.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{TV(y);const b=n.getQueryCache().get(y.queryHash);OV(y,s,b)}),jV(s);const[o]=I.useState(()=>new Hee(n,a,e)),[l,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;I.useSyncExternalStore(I.useCallback(y=>h?o.subscribe(kt.batchCalls(y)):Or,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),I.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>yO(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new Jj(n,g);if(yO(g,y))return hp(g,v,s);PV(y,i)&&hp(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&CV({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return c(d())}function Xee(t,e,r){var f,p,m,y;const n=EV(),i=NV(),s=st(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",TV(a),OV(a,i,o),jV(i);const l=!s.getQueryCache().get(a.queryHash),[c]=I.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(b=>{const g=h?c.subscribe(kt.batchCalls(b)):Or;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),I.useEffect(()=>{c.setOptions(a)},[a,c]),yO(a,d))throw hp(a,c,i);if(CV({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!No&&PV(d,n)){const b=l?hp(a,c,i):o==null?void 0:o.promise;b==null||b.catch(Or).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function mt(t,e){return Xee(t,Jj)}function Ge(t,e){const r=st(),[n]=I.useState(()=>new Uee(r,t));I.useEffect(()=>{n.setOptions(t)},[n,t]);const i=I.useSyncExternalStore(I.useCallback(a=>n.subscribe(kt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=I.useCallback((a,o)=>{n.mutate(a,o).catch(Or)},[n]);if(i.error&&Qj(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function eC(){const t=window.prmConfig||{};return I.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function IV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Jee}=Object.prototype,{getPrototypeOf:tC}=Object,{iterator:tm,toStringTag:RV}=Symbol,rm=(t=>e=>{const r=Jee.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mi=t=>(t=t.toLowerCase(),e=>rm(e)===t),nm=t=>e=>typeof e===t,{isArray:Ru}=Array,hu=nm("undefined");function Gd(t){return t!==null&&!hu(t)&&t.constructor!==null&&!hu(t.constructor)&&on(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $V=mi("ArrayBuffer");function Zee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$V(t.buffer),e}const ete=nm("string"),on=nm("function"),kV=nm("number"),Yd=t=>t!==null&&typeof t=="object",tte=t=>t===!0||t===!1,Pf=t=>{if(rm(t)!=="object")return!1;const e=tC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(RV in t)&&!(tm in t)},rte=t=>{if(!Yd(t)||Gd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},nte=mi("Date"),ite=mi("File"),ste=mi("Blob"),ate=mi("FileList"),ote=t=>Yd(t)&&on(t.pipe),lte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||on(t.append)&&((e=rm(t))==="formdata"||e==="object"&&on(t.toString)&&t.toString()==="[object FormData]"))},ute=mi("URLSearchParams"),[cte,dte,hte,fte]=["ReadableStream","Request","Response","Headers"].map(mi),pte=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Qd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Ru(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Gd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function DV(t,e){if(Gd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Va=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,MV=t=>!hu(t)&&t!==Va;function bO(){const{caseless:t,skipUndefined:e}=MV(this)&&this||{},r={},n=(i,s)=>{const a=t&&DV(r,s)||s;Pf(r[a])&&Pf(i)?r[a]=bO(r[a],i):Pf(i)?r[a]=bO({},i):Ru(i)?r[a]=i.slice():(!e||!hu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Qd(arguments[i],n);return r}const mte=(t,e,r,{allOwnKeys:n}={})=>(Qd(e,(i,s)=>{r&&on(i)?t[s]=IV(i,r):t[s]=i},{allOwnKeys:n}),t),vte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),gte=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},yte=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&tC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},bte=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},xte=t=>{if(!t)return null;if(Ru(t))return t;let e=t.length;if(!kV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},wte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&tC(Uint8Array)),_te=(t,e)=>{const n=(t&&t[tm]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Ste=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Ete=mi("HTMLFormElement"),Nte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),yI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ote=mi("RegExp"),qV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Qd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},jte=t=>{qV(t,(e,r)=>{if(on(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(on(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Cte=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Ru(t)?n(t):n(String(t).split(e)),r},Tte=()=>{},Pte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ite(t){return!!(t&&on(t.append)&&t[RV]==="FormData"&&t[tm])}const Rte=t=>{const e=new Array(10),r=(n,i)=>{if(Yd(n)){if(e.indexOf(n)>=0)return;if(Gd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Ru(n)?[]:{};return Qd(n,(a,o)=>{const l=r(a,i+1);!hu(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},$te=mi("AsyncFunction"),kte=t=>t&&(Yd(t)||on(t))&&on(t.then)&&on(t.catch),AV=((t,e)=>t?setImmediate:e?((r,n)=>(Va.addEventListener("message",({source:i,data:s})=>{i===Va&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Va.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",on(Va.postMessage)),Dte=typeof queueMicrotask<"u"?queueMicrotask.bind(Va):typeof process<"u"&&process.nextTick||AV,Mte=t=>t!=null&&on(t[tm]),q={isArray:Ru,isArrayBuffer:$V,isBuffer:Gd,isFormData:lte,isArrayBufferView:Zee,isString:ete,isNumber:kV,isBoolean:tte,isObject:Yd,isPlainObject:Pf,isEmptyObject:rte,isReadableStream:cte,isRequest:dte,isResponse:hte,isHeaders:fte,isUndefined:hu,isDate:nte,isFile:ite,isBlob:ste,isRegExp:Ote,isFunction:on,isStream:ote,isURLSearchParams:ute,isTypedArray:wte,isFileList:ate,forEach:Qd,merge:bO,extend:mte,trim:pte,stripBOM:vte,inherits:gte,toFlatObject:yte,kindOf:rm,kindOfTest:mi,endsWith:bte,toArray:xte,forEachEntry:_te,matchAll:Ste,isHTMLForm:Ete,hasOwnProperty:yI,hasOwnProp:yI,reduceDescriptors:qV,freezeMethods:jte,toObjectSet:Cte,toCamelCase:Nte,noop:Tte,toFiniteNumber:Pte,findKey:DV,global:Va,isContextDefined:MV,isSpecCompliantForm:Ite,toJSONObject:Rte,isAsyncFn:$te,isThenable:kte,setImmediate:AV,asap:Dte,isIterable:Mte};function Ie(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const FV=Ie.prototype,LV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{LV[t]={value:t}});Object.defineProperties(Ie,LV);Object.defineProperty(FV,"isAxiosError",{value:!0});Ie.from=(t,e,r,n,i,s)=>{const a=Object.create(FV);q.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ie.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const qte=null;function xO(t){return q.isPlainObject(t)||q.isArray(t)}function BV(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function bI(t,e,r){return t?t.concat(e).map(function(i,s){return i=BV(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Ate(t){return q.isArray(t)&&!t.some(xO)}const Fte=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function im(t,e,r){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!q.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(q.isBoolean(m))return m.toString();if(!l&&q.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(q.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&Ate(m)||(q.isFileList(m)||q.endsWith(y,"[]"))&&(g=q.toArray(m)))return y=BV(y),g.forEach(function(w,x){!(q.isUndefined(w)||w===null)&&e.append(a===!0?bI([y],x,s):a===null?y:y+"[]",c(w))}),!1}return xO(m)?!0:(e.append(bI(b,y,s),c(m)),!1)}const h=[],f=Object.assign(Fte,{defaultVisitor:d,convertValue:c,isVisitable:xO});function p(m,y){if(!q.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),q.forEach(m,function(g,v){(!(q.isUndefined(g)||g===null)&&i.call(e,g,q.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return p(t),e}function xI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function rC(t,e){this._pairs=[],t&&im(t,this,e)}const zV=rC.prototype;zV.append=function(e,r){this._pairs.push([e,r])};zV.toString=function(e){const r=e?function(n){return e.call(this,n,xI)}:xI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Lte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function UV(t,e,r){if(!e)return t;const n=r&&r.encode||Lte;q.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=q.isURLSearchParams(e)?e.toString():new rC(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class wI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const WV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Bte=typeof URLSearchParams<"u"?URLSearchParams:rC,zte=typeof FormData<"u"?FormData:null,Ute=typeof Blob<"u"?Blob:null,Wte={isBrowser:!0,classes:{URLSearchParams:Bte,FormData:zte,Blob:Ute},protocols:["http","https","file","blob","url","data"]},nC=typeof window<"u"&&typeof document<"u",wO=typeof navigator=="object"&&navigator||void 0,Hte=nC&&(!wO||["ReactNative","NativeScript","NS"].indexOf(wO.product)<0),Vte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Kte=nC&&window.location.href||"http://localhost",Gte=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:nC,hasStandardBrowserEnv:Hte,hasStandardBrowserWebWorkerEnv:Vte,navigator:wO,origin:Kte},Symbol.toStringTag,{value:"Module"})),Cr={...Gte,...Wte};function Yte(t,e){return im(t,new Cr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Cr.isNode&&q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Qte(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Xte(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function HV(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&q.isArray(i)?i.length:a,l?(q.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!q.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&q.isArray(i[a])&&(i[a]=Xte(i[a])),!o)}if(q.isFormData(t)&&q.isFunction(t.entries)){const r={};return q.forEachEntry(t,(n,i)=>{e(Qte(n),i,r,0)}),r}return null}function Jte(t,e,r){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Xd={transitional:WV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=q.isObject(e);if(s&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(HV(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Yte(e,this.formSerializer).toString();if((o=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return im(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Jte(e)):e}],transformResponse:[function(e){const r=this.transitional||Xd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ie.from(o,Ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Cr.classes.FormData,Blob:Cr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{Xd.headers[t]={}});const Zte=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ere=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Zte[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},_I=Symbol("internals");function _c(t){return t&&String(t).trim().toLowerCase()}function If(t){return t===!1||t==null?t:q.isArray(t)?t.map(If):String(t)}function tre(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const rre=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function xv(t,e,r,n,i){if(q.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!q.isString(e)){if(q.isString(n))return e.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(e)}}function nre(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function ire(t,e){const r=q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let ln=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const d=_c(l);if(!d)throw new Error("header name must be a non-empty string");const h=q.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=If(o))}const a=(o,l)=>q.forEach(o,(c,d)=>s(c,d,l));if(q.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(q.isString(e)&&(e=e.trim())&&!rre(e))a(ere(e),r);else if(q.isObject(e)&&q.isIterable(e)){let o={},l,c;for(const d of e){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?q.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=_c(e),e){const n=q.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return tre(i);if(q.isFunction(r))return r.call(this,i,n);if(q.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=_c(e),e){const n=q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||xv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=_c(a),a){const o=q.findKey(n,a);o&&(!r||xv(n,n[o],o,r))&&(delete n[o],i=!0)}}return q.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||xv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return q.forEach(this,(i,s)=>{const a=q.findKey(n,s);if(a){r[a]=If(i),delete r[s];return}const o=e?nre(s):String(s).trim();o!==s&&delete r[s],r[o]=If(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return q.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[_I]=this[_I]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=_c(a);n[o]||(ire(i,a),n[o]=!0)}return q.isArray(e)?e.forEach(s):s(e),this}};ln.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(ln.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});q.freezeMethods(ln);function wv(t,e){const r=this||Xd,n=e||r,i=ln.from(n.headers);let s=n.data;return q.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function VV(t){return!!(t&&t.__CANCEL__)}function $u(t,e,r){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,r),this.name="CanceledError"}q.inherits($u,Ie,{__CANCEL__:!0});function KV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function sre(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function are(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function ore(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const pp=(t,e,r=3)=>{let n=0;const i=are(50,250);return ore(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},SI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},EI=t=>(...e)=>q.asap(()=>t(...e)),lre=Cr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Cr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Cr.origin),Cr.navigator&&/(msie|trident)/i.test(Cr.navigator.userAgent)):()=>!0,ure=Cr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];q.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),q.isString(n)&&o.push(`path=${n}`),q.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),q.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function cre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function dre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function GV(t,e,r){let n=!cre(e);return t&&(n||r==!1)?dre(t,e):e}const NI=t=>t instanceof ln?{...t}:t;function jo(t,e){e=e||{};const r={};function n(c,d,h,f){return q.isPlainObject(c)&&q.isPlainObject(d)?q.merge.call({caseless:f},c,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function i(c,d,h,f){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!q.isUndefined(d))return n(void 0,d)}function a(c,d){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(NI(c),NI(d),h,!0)};return q.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);q.isUndefined(f)&&h!==o||(r[d]=f)}),r}const YV=t=>{const e=jo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=ln.from(a),e.url=UV(GV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),q.isFormData(r)){if(Cr.hasStandardBrowserEnv||Cr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(q.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(Cr.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(e)),n||n!==!1&&lre(e.url))){const l=i&&s&&ure.read(s);l&&a.set(i,l)}return e},hre=typeof XMLHttpRequest<"u",fre=hre&&function(t){return new Promise(function(r,n){const i=YV(t);let s=i.data;const a=ln.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const w=ln.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:w,config:t,request:b};KV(function(N){r(N),y()},function(N){n(N),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Ie("Request aborted",Ie.ECONNABORTED,t,b)),b=null)},b.onerror=function(x){const _=x&&x.message?x.message:"Network Error",E=new Ie(_,Ie.ERR_NETWORK,t,b);E.event=x||null,n(E),b=null},b.ontimeout=function(){let x=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||WV;i.timeoutErrorMessage&&(x=i.timeoutErrorMessage),n(new Ie(x,_.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&q.forEach(a.toJSON(),function(x,_){b.setRequestHeader(_,x)}),q.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),c&&([f,m]=pp(c,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=pp(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{b&&(n(!w||w.type?new $u(null,t,b):w),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=sre(i.url);if(v&&Cr.protocols.indexOf(v)===-1){n(new Ie("Unsupported protocol "+v+":",Ie.ERR_BAD_REQUEST,t));return}b.send(s||null)})},pre=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Ie?d:new $u(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>q.asap(o),l}},mre=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},vre=async function*(t,e){for await(const r of gre(t))yield*mre(r,e)},gre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},OI=(t,e,r,n)=>{const i=vre(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},jI=64*1024,{isFunction:sf}=q,yre=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:CI,TextEncoder:TI}=q.global,PI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},bre=t=>{t=q.merge.call({skipUndefined:!0},yre,t);const{fetch:e,Request:r,Response:n}=t,i=e?sf(e):typeof fetch=="function",s=sf(r),a=sf(n);if(!i)return!1;const o=i&&sf(CI),l=i&&(typeof TI=="function"?(m=>y=>m.encode(y))(new TI):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&o&&PI(()=>{let m=!1;const y=new r(Cr.origin,{body:new CI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&PI(()=>q.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Ie(`Response type '${m}' is not supported`,Ie.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(q.isBlob(m))return m.size;if(q.isSpecCompliantForm(m))return(await new r(Cr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(q.isArrayBufferView(m)||q.isArrayBuffer(m))return m.byteLength;if(q.isURLSearchParams(m)&&(m=m+""),q.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=q.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:w,timeout:x,onDownloadProgress:_,onUploadProgress:E,responseType:N,headers:S,withCredentials:O="same-origin",fetchOptions:j}=YV(m),T=e||fetch;N=N?(N+"").toLowerCase():"text";let C=pre([v,w&&w.toAbortSignal()],x),P=null;const D=C&&C.unsubscribe&&(()=>{C.unsubscribe()});let F;try{if(E&&c&&b!=="get"&&b!=="head"&&(F=await p(S,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),K;if(q.isFormData(g)&&(K=z.headers.get("content-type"))&&S.setContentType(K),z.body){const[fe,xe]=SI(F,pp(EI(E)));g=OI(z.body,jI,fe,xe)}}q.isString(O)||(O=O?"include":"omit");const Q=s&&"credentials"in r.prototype,H={...j,signal:C,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:Q?O:void 0};P=s&&new r(y,H);let L=await(s?T(P,j):T(y,H));const V=d&&(N==="stream"||N==="response");if(d&&(_||V&&D)){const z={};["status","statusText","headers"].forEach(Re=>{z[Re]=L[Re]});const K=q.toFiniteNumber(L.headers.get("content-length")),[fe,xe]=_&&SI(K,pp(EI(_),!0))||[];L=new n(OI(L.body,jI,fe,()=>{xe&&xe(),D&&D()}),z)}N=N||"text";let W=await h[q.findKey(h,N)||"text"](L,m);return!V&&D&&D(),await new Promise((z,K)=>{KV(z,K,{data:W,headers:ln.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:P})})}catch(Q){throw D&&D(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,m,P),{cause:Q.cause||Q}):Ie.from(Q,Q&&Q.code,m,P)}}},xre=new Map,QV=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,c,d=xre;for(;o--;)l=s[o],c=d.get(l),c===void 0&&d.set(l,c=o?new Map:bre(e)),d=c;return c};QV();const iC={http:qte,xhr:fre,fetch:{get:QV}};q.forEach(iC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const II=t=>`- ${t}`,wre=t=>q.isFunction(t)||t===null||t===!1;function _re(t,e){t=q.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!wre(n)&&(i=iC[(o=String(n)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${o}'`);if(i&&(q.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(II).join(`
`):" "+II(a[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const XV={getAdapter:_re,adapters:iC};function _v(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new $u(null,t)}function RI(t){return _v(t),t.headers=ln.from(t.headers),t.data=wv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),XV.getAdapter(t.adapter||Xd.adapter,t)(t).then(function(n){return _v(t),n.data=wv.call(t,t.transformResponse,n),n.headers=ln.from(n.headers),n},function(n){return VV(n)||(_v(t),n&&n.response&&(n.response.data=wv.call(t,t.transformResponse,n.response),n.response.headers=ln.from(n.response.headers))),Promise.reject(n)})}const JV="1.13.2",sm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{sm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const $I={};sm.transitional=function(e,r,n){function i(s,a){return"[Axios v"+JV+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ie(i(a," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!$I[a]&&($I[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};sm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Sre(t,e,r){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ie("option "+s+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+s,Ie.ERR_BAD_OPTION)}}const Rf={assertOptions:Sre,validators:sm},xi=Rf.validators;let co=class{constructor(e){this.defaults=e||{},this.interceptors={request:new wI,response:new wI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=jo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Rf.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),i!=null&&(q.isFunction(i)?r.paramsSerializer={serialize:i}:Rf.assertOptions(i,{encode:xi.function,serialize:xi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Rf.assertOptions(r,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&q.merge(s.common,s[r.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=ln.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[RI.bind(this),void 0];for(m.unshift(...o),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{d=RI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=jo(this.defaults,e);const r=GV(e.baseURL,e.url,e.allowAbsoluteUrls);return UV(r,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){co.prototype[e]=function(r,n){return this.request(jo(n||{},{method:e,url:r,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(jo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}co.prototype[e]=r(),co.prototype[e+"Form"]=r(!0)});let Ere=class ZV{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new $u(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new ZV(function(i){e=i}),cancel:e}}};function Nre(t){return function(r){return t.apply(null,r)}}function Ore(t){return q.isObject(t)&&t.isAxiosError===!0}const _O={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(_O).forEach(([t,e])=>{_O[e]=t});function eK(t){const e=new co(t),r=IV(co.prototype.request,e);return q.extend(r,co.prototype,e,{allOwnKeys:!0}),q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return eK(jo(t,i))},r}const At=eK(Xd);At.Axios=co;At.CanceledError=$u;At.CancelToken=Ere;At.isCancel=VV;At.VERSION=JV;At.toFormData=im;At.AxiosError=Ie;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=Nre;At.isAxiosError=Ore;At.mergeConfig=jo;At.AxiosHeaders=ln;At.formToJSON=t=>HV(q.isHTMLForm(t)?new FormData(t):t);At.getAdapter=XV.getAdapter;At.HttpStatusCode=_O;At.default=At;const{Axios:_xe,AxiosError:Sxe,CanceledError:Exe,isCancel:Nxe,CancelToken:Oxe,VERSION:jxe,all:Cxe,Cancel:Txe,isAxiosError:Pxe,spread:Ixe,toFormData:Rxe,AxiosHeaders:$xe,HttpStatusCode:kxe,formToJSON:Dxe,getAdapter:Mxe,mergeConfig:qxe}=At,SO=window.prmConfig||{},ue=At.create({baseURL:SO.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":SO.nonce||""}});ue.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ue.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=SO.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const We={getPeople:t=>ue.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ue.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ue.post("/wp/v2/people",t),updatePerson:(t,e)=>ue.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ue.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ue.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ue.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ue.post("/wp/v2/companies",t),updateCompany:(t,e)=>ue.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ue.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ue.get("/wp/v2/important-dates",{params:t}),getDate:t=>ue.get(`/wp/v2/important-dates/${t}`),createDate:t=>ue.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ue.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ue.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ue.get("/wp/v2/person_label"),getCompanyLabels:()=>ue.get("/wp/v2/company_label"),getRelationshipTypes:()=>ue.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ue.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ue.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ue.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ue.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ue.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ue.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},$e={getDashboard:()=>ue.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ue.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ue.get("/prm/v1/user/me"),getUsers:()=>ue.get("/prm/v1/users"),approveUser:t=>ue.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ue.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>ue.delete(`/prm/v1/users/${t}`),search:t=>ue.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ue.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>ue.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>ue.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>ue.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>ue.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>ue.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>ue.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>ue.get("/prm/v1/user/slack-status"),disconnectSlack:()=>ue.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>ue.get("/prm/v1/slack/channels"),getSlackTargets:()=>ue.get("/prm/v1/slack/targets"),updateSlackTargets:t=>ue.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>ue.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ue.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ue.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ue.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ue.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ue.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ue.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ue.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ue.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ue.delete(`/prm/v1/activities/${t}`),getAllTodos:(t=!1)=>ue.get("/prm/v1/todos",{params:{completed:t}}),getPersonTodos:t=>ue.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>ue.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>ue.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>ue.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>ue.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ue.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ue.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ue.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const r=I.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>I.createElement("svg",{ref:d,...jre,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Cre(t)}`,o].join(" "),...c},[...e.map(([h,f])=>I.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ya=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sn=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sv=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=ye("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=ye("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ho=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $f=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EO=ye("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ua=ye("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NO=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OO=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const am=ye("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sC=ye("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aC=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=ye("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Co=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oC=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ba=ye("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lC=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ure=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ba=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=ye("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wre=ye("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mu=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=ye("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vu=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hre=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hK=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fK=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MI=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hn=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vre=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),gu="Caelis";function hn(t){I.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||gu;document.title=`${t} - ${r}`}},[t])}function Gre(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function pK(t=null){const e=xs();I.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Gre(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=gu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||gu;document.title=`${r} - ${n}`},[e.pathname,t])}function Yre(){return mt({queryKey:["dashboard"],queryFn:async()=>(await $e.getDashboard()).data})}function Qre(t=30){return mt({queryKey:["reminders",t],queryFn:async()=>(await $e.getReminders(t)).data})}function mK(t=!1){return mt({queryKey:["todos",t],queryFn:async()=>(await $e.getAllTodos(t)).data})}function vK(){const t=st();return Ge({mutationFn:({todoId:e,data:r})=>$e.updateTodo(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function Xre(){const t=st();return Ge({mutationFn:e=>$e.deleteTodo(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function Jre(t){const e=typeof t=="string"?t:"",r=e.length>=2;return mt({queryKey:["search",e],queryFn:async()=>r?(await $e.search(e)).data:{people:[],companies:[]},enabled:r})}const Zre=[{name:"Dashboard",href:"/",icon:qre},{name:"People",href:"/people",icon:$i},{name:"Organizations",href:"/companies",icon:ms},{name:"Dates",href:"/dates",icon:ho},{name:"Todos",href:"/todos",icon:ua},{name:"Settings",href:"/settings",icon:oK}];function qI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=eC();return u.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[u.jsxs(he,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[u.jsx(uK,{className:"w-5 h-5"}),gu]}),t&&u.jsx("button",{onClick:e,className:"p-2 -mr-2",children:u.jsx(Hn,{className:"w-5 h-5"})})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Zre.map(n=>u.jsxs(bee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx(n.icon,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Are,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function ene(){var a;const[t,e]=I.useState(!1),r=I.useRef(null),{data:n,isLoading:i}=mt({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data});if(I.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return u.jsx("div",{className:"flex items-center ml-auto",children:u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return u.jsxs("div",{className:"relative ml-auto",ref:r,children:[u.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?u.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),u.jsx($re,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(hK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&u.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(oK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function tne({onMenuClick:t}){const[e,r]=I.useState(""),[n,i]=I.useState(!1),s=xs(),a=dn(),o=I.useRef(null),l=I.useRef(null),c=e.trim(),{data:d,isLoading:h}=Jre(c),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Organizations":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};I.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"&&a(`/companies/${v}`)},m=d||{people:[],companies:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0,b=n&&e.trim().length>=2;return u.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[u.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:u.jsx(Lre,{className:"w-5 h-5"})}),u.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),u.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:u.jsxs("div",{className:"relative w-full",ref:o,children:[u.jsx(aK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search people & organizations...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&u.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?u.jsxs("div",{className:"p-4 text-center text-gray-500",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?u.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&u.jsxs("div",{className:"px-3 py-2",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>u.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(hK,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&u.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Organizations"}),m.companies.map(g=>u.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Rre,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]})]}):u.jsx("div",{className:"p-4 text-center text-gray-500",children:u.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),u.jsx(ene,{})]})}function rne({children:t}){const[e,r]=I.useState(!1);return pK(),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:u.jsx(qI,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:u.jsx(qI,{mobile:!0,onClose:()=>r(!1)})})]}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx(tne,{onMenuClick:()=>r(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function Ke(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function vs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function nne(t,e){const r=Ke(t);return isNaN(e)?vs(t,NaN):(r.setDate(r.getDate()+e),r)}const gK=6048e5,ine=864e5,yK=6e4,bK=36e5,af=43200,AI=1440;let sne={};function Jd(){return sne}function To(t,e){var o,l,c,d;const r=Jd(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ke(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function mp(t){return To(t,{weekStartsOn:1})}function xK(t){const e=Ke(t),r=e.getFullYear(),n=vs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=mp(n),s=vs(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=mp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function vp(t){const e=Ke(t);return e.setHours(0,0,0,0),e}function gp(t){const e=Ke(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ane(t,e){const r=vp(t),n=vp(e),i=+r-gp(r),s=+n-gp(n);return Math.round((i-s)/ine)}function one(t){const e=xK(t),r=vs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),mp(r)}function Al(t,e){const r=Ke(t),n=Ke(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function om(t){return vs(t,Date.now())}function wK(t,e){const r=vp(t),n=vp(e);return+r==+n}function lne(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function une(t){if(!lne(t)&&typeof t!="number")return!1;const e=Ke(t);return!isNaN(Number(e))}function cne(t,e){const r=Ke(t),n=Ke(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function dne(t,e){const r=Ke(t),n=Ke(e);return r.getFullYear()-n.getFullYear()}function hne(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function fne(t,e){return+Ke(t)-+Ke(e)}function pne(t){const e=Ke(t);return e.setHours(23,59,59,999),e}function mne(t){const e=Ke(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function vne(t){const e=Ke(t);return+pne(e)==+mne(e)}function gne(t,e){const r=Ke(t),n=Ke(e),i=Al(r,n),s=Math.abs(cne(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=Al(r,n)===-i;vne(Ke(t))&&s===1&&Al(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function yne(t,e,r){const n=fne(t,e)/1e3;return hne(r==null?void 0:r.roundingMethod)(n)}function Ev(t,e){const r=Ke(t),n=Ke(e),i=Al(r,n),s=Math.abs(dne(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=Al(r,n)===-i,o=i*(s-+a);return o===0?0:o}function bne(t){const e=Ke(t),r=vs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const xne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},wne=(t,e,r)=>{let n;const i=xne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Nv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const _ne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Sne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Ene={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Nne={date:Nv({formats:_ne,defaultWidth:"full"}),time:Nv({formats:Sne,defaultWidth:"full"}),dateTime:Nv({formats:Ene,defaultWidth:"full"})},One={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},jne=(t,e,r,n)=>One[t];function Sc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Cne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Tne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Pne={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Ine={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Rne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},$ne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},kne=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Dne={ordinalNumber:kne,era:Sc({values:Cne,defaultWidth:"wide"}),quarter:Sc({values:Tne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Sc({values:Pne,defaultWidth:"wide"}),day:Sc({values:Ine,defaultWidth:"wide"}),dayPeriod:Sc({values:Rne,defaultWidth:"wide",formattingValues:$ne,defaultFormattingWidth:"wide"})};function Ec(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?qne(o,h=>h.test(a)):Mne(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function Mne(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function qne(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Ane(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Fne=/^(\d+)(th|st|nd|rd)?/i,Lne=/\d+/i,Bne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},zne={any:[/^b/i,/^(a|c)/i]},Une={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Wne={any:[/1/i,/2/i,/3/i,/4/i]},Hne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Vne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Kne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Gne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Yne={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Qne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Xne={ordinalNumber:Ane({matchPattern:Fne,parsePattern:Lne,valueCallback:t=>parseInt(t,10)}),era:Ec({matchPatterns:Bne,defaultMatchWidth:"wide",parsePatterns:zne,defaultParseWidth:"any"}),quarter:Ec({matchPatterns:Une,defaultMatchWidth:"wide",parsePatterns:Wne,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Ec({matchPatterns:Hne,defaultMatchWidth:"wide",parsePatterns:Vne,defaultParseWidth:"any"}),day:Ec({matchPatterns:Kne,defaultMatchWidth:"wide",parsePatterns:Gne,defaultParseWidth:"any"}),dayPeriod:Ec({matchPatterns:Yne,defaultMatchWidth:"any",parsePatterns:Qne,defaultParseWidth:"any"})},_K={code:"en-US",formatDistance:wne,formatLong:Nne,formatRelative:jne,localize:Dne,match:Xne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Jne(t){const e=Ke(t);return ane(e,bne(e))+1}function Zne(t){const e=Ke(t),r=+mp(e)-+one(e);return Math.round(r/gK)+1}function SK(t,e){var d,h,f,p;const r=Ke(t),n=r.getFullYear(),i=Jd(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=vs(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=To(a,e),l=vs(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=To(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function eie(t,e){var o,l,c,d;const r=Jd(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=SK(t,e),s=vs(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),To(s,e)}function tie(t,e){const r=Ke(t),n=+To(r,e)-+eie(r,e);return Math.round(n/gK)+1}function Je(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ts={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Je(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Je(r+1,2)},d(t,e){return Je(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Je(t.getHours()%12||12,e.length)},H(t,e){return Je(t.getHours(),e.length)},m(t,e){return Je(t.getMinutes(),e.length)},s(t,e){return Je(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Je(i,e.length)}},ll={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},FI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ts.y(t,e)},Y:function(t,e,r,n){const i=SK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Je(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Je(s,e.length)},R:function(t,e){const r=xK(t);return Je(r,e.length)},u:function(t,e){const r=t.getFullYear();return Je(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Je(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Je(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ts.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Je(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=tie(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Je(i,e.length)},I:function(t,e,r){const n=Zne(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Je(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ts.d(t,e)},D:function(t,e,r){const n=Jne(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Je(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Je(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Je(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Je(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=ll.noon:n===0?i=ll.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=ll.evening:n>=12?i=ll.afternoon:n>=4?i=ll.morning:i=ll.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ts.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ts.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Je(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ts.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ts.s(t,e)},S:function(t,e){return Ts.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return BI(n);case"XXXX":case"XX":return La(n);case"XXXXX":case"XXX":default:return La(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return BI(n);case"xxxx":case"xx":return La(n);case"xxxxx":case"xxx":default:return La(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+LI(n,":");case"OOOO":default:return"GMT"+La(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+LI(n,":");case"zzzz":default:return"GMT"+La(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Je(n,e.length)},T:function(t,e,r){const n=t.getTime();return Je(n,e.length)}};function LI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Je(s,2)}function BI(t,e){return t%60===0?(t>0?"-":"+")+Je(Math.abs(t)/60,2):La(t,e)}function La(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Je(Math.trunc(n/60),2),s=Je(n%60,2);return r+i+e+s}const zI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},EK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},rie=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return zI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",zI(n,e)).replace("{{time}}",EK(i,e))},nie={p:EK,P:rie},iie=/^D+$/,sie=/^Y+$/,aie=["D","DD","YY","YYYY"];function oie(t){return iie.test(t)}function lie(t){return sie.test(t)}function uie(t,e,r){const n=cie(t,e,r);if(console.warn(n),aie.includes(t))throw new RangeError(n)}function cie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const die=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,hie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,fie=/^'([^]*?)'?$/,pie=/''/g,mie=/[a-zA-Z]/;function en(t,e,r){var d,h,f,p;const n=Jd(),i=n.locale??_K,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=Ke(t);if(!une(o))throw new RangeError("Invalid time value");let l=e.match(hie).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=nie[y];return b(m,i.formatLong)}return m}).join("").match(die).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:vie(m)};if(FI[y])return{isToken:!0,value:m};if(y.match(mie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(lie(y)||oie(y))&&uie(y,e,String(t));const b=FI[y[0]];return b(o,y,i.localize,c)}).join("")}function vie(t){const e=t.match(fie);return e?e[1].replace(pie,"'"):t}function gie(t,e,r){const n=Jd(),i=(r==null?void 0:r.locale)??n.locale??_K,s=2520,a=Al(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=Ke(e),c=Ke(t)):(l=Ke(t),c=Ke(e));const d=yne(c,l),h=(gp(c)-gp(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<AI){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<af){const m=Math.round(f/AI);return i.formatDistance("xDays",m,o)}else if(f<af*2)return p=Math.round(f/af),i.formatDistance("aboutXMonths",p,o)}if(p=gne(c,l),p<12){const m=Math.round(f/af);return i.formatDistance("xMonths",m,o)}else{const m=p%12,y=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",y,o):m<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function yie(t,e){return gie(t,om(t),e)}function bie(t,e,r){const n=To(t,r),i=To(e,r);return+n==+i}function xie(t,e){return bie(t,om(t),e)}function NK(t){return wK(t,om(t))}function wie(t,e){return nne(t,-1)}function OK(t){return wK(t,wie(om(t)))}function yp(t,e){const n=Nie(t);let i;if(n.date){const l=Oie(n.date,2);i=jie(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=Cie(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=Tie(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const of={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},_ie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Sie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,Eie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function Nie(t){const e={},r=t.split(of.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],of.timeZoneDelimiter.test(e.date)&&(e.date=t.split(of.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=of.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function Oie(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function jie(t,e){if(e===null)return new Date(NaN);const r=t.match(_ie);if(!r)return new Date(NaN);const n=!!r[4],i=Nc(r[1]),s=Nc(r[2])-1,a=Nc(r[3]),o=Nc(r[4]),l=Nc(r[5])-1;if(n)return kie(e,o,l)?Pie(e,o,l):new Date(NaN);{const c=new Date(0);return!Rie(e,s,a)||!$ie(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Nc(t){return t?parseInt(t):1}function Cie(t){const e=t.match(Sie);if(!e)return NaN;const r=Ov(e[1]),n=Ov(e[2]),i=Ov(e[3]);return Die(r,n,i)?r*bK+n*yK+i*1e3:NaN}function Ov(t){return t&&parseFloat(t.replace(",","."))||0}function Tie(t){if(t==="Z")return 0;const e=t.match(Eie);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return Mie(n,i)?r*(n*bK+i*yK):NaN}function Pie(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Iie=[31,null,31,30,31,30,31,31,30,31,30,31];function jK(t){return t%400===0||t%4===0&&t%100!==0}function Rie(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Iie[e]||(jK(t)?29:28))}function $ie(t,e){return e>=1&&e<=(jK(t)?366:365)}function kie(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Die(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function Mie(t,e){return e>=0&&e<=59}function qie(t){if(!t||t.length===0)return{todos:[],today:[],yesterday:[],thisWeek:[],older:[]};const e={todos:[],today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{if(r.type==="todo"){e.todos.push(r);return}const n=yp(r.created),i=r.activity_date?yp(r.activity_date):n;NK(i)?e.today.push(r):OK(i)?e.yesterday.push(r):xie(i)?e.thisWeek.push(r):e.older.push(r)}),e.todos.sort((r,n)=>{if(r.is_completed&&!n.is_completed)return 1;if(!r.is_completed&&n.is_completed)return-1;if(!r.is_completed&&!n.is_completed){if(r.due_date&&n.due_date)return new Date(r.due_date)-new Date(n.due_date);if(r.due_date&&!n.due_date)return-1;if(!r.due_date&&n.due_date)return 1}return new Date(n.created)-new Date(r.created)}),e}function Aie(t){if(!t)return"";try{const e=yp(t),r=yie(e,{addSuffix:!0});return NK(e)?r:OK(e)?"Yesterday":en(e,"MMM d, yyyy")}catch{return t}}function Fie(t){return{call:"Phone",email:"Mail",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function Lie(t){return{call:"Phone call",email:"Email",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function Zd(t){if(!t.due_date||t.is_completed)return!1;try{const e=yp(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function Bie(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):Zd(t)&&e.push("text-red-600","font-medium"),e.join(" ")}function Ps({title:t,value:e,icon:r,href:n}){return u.jsx(he,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),u.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function UI({person:t,hideStar:e=!1}){var r,n;return u.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&u.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&u.jsx(mu,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function zie({reminder:t}){var o,l,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),u.jsx("p",{className:"text-xs text-gray-500",children:en(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&u.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?u.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):u.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:u.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?u.jsx(he,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):u.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function Uie({todo:t,onToggle:e}){var n;const r=Zd(t);return u.jsxs(he,{to:`/people/${t.person_id}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[u.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),e(t)},className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?u.jsx(ua,{className:"w-5 h-5 text-primary-600"}):u.jsx(pu,{className:`w-5 h-5 ${r?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm font-medium ${t.is_completed?"line-through text-gray-400":r?"text-red-600":"text-gray-900"}`,children:t.content}),u.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.person_thumbnail?u.jsx("img",{src:t.person_thumbnail,alt:t.person_name,loading:"lazy",className:"w-5 h-5 rounded-full object-cover"}):u.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:(n=t.person_name)==null?void 0:n[0]})}),u.jsx("span",{className:"text-xs text-gray-500 truncate",children:t.person_name})]}),t.due_date&&u.jsxs("p",{className:`text-xs mt-1 ${r&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",en(new Date(t.due_date),"MMM d, yyyy"),r&&!t.is_completed&&" (overdue)"]})]})]})}function Wie(){return u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:u.jsx(uK,{className:"w-12 h-12 text-primary-600"})})}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",gu,"!"]}),u.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(he,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[u.jsx(Zt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),u.jsxs(he,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Zt,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function Hie(){var p,m,y;const{data:t,isLoading:e,error:r}=Yre(),{data:n}=mK(!1),i=vK(),s=b=>{i.mutate({todoId:b.id,data:{content:b.content,due_date:b.due_date,is_completed:!b.is_completed}})};if(e)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const b=((p=r==null?void 0:r.response)==null?void 0:p.status)>=500||!(r!=null&&r.response);return u.jsx("div",{className:"card p-8 text-center",children:u.jsx("div",{className:"text-red-600 mb-2",children:b?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),u.jsx("p",{className:"text-sm text-gray-600",children:((y=(m=r==null?void 0:r.response)==null?void 0:m.data)==null?void 0:y.message)||"An error occurred while loading your data."})]})})})}const{stats:a,recent_people:o,upcoming_reminders:l,favorites:c}=t||{};if(((a==null?void 0:a.total_people)||0)+((a==null?void 0:a.total_companies)||0)+((a==null?void 0:a.total_dates)||0)===0)return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Ps,{title:"Total people",value:0,icon:$i,href:"/people"}),u.jsx(Ps,{title:"Organizations",value:0,icon:ms,href:"/companies"}),u.jsx(Ps,{title:"Events",value:0,icon:ho,href:"/dates"}),u.jsx(Ps,{title:"Open todos",value:0,icon:ua,href:"/todos"})]}),u.jsx(Wie,{})]});const f=(n==null?void 0:n.slice(0,5))||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[u.jsx(Ps,{title:"Total people",value:(a==null?void 0:a.total_people)||0,icon:$i,href:"/people"}),u.jsx(Ps,{title:"Organizations",value:(a==null?void 0:a.total_companies)||0,icon:ms,href:"/companies"}),u.jsx(Ps,{title:"Events",value:(a==null?void 0:a.total_dates)||0,icon:ho,href:"/dates"}),u.jsx(Ps,{title:"Open todos",value:(a==null?void 0:a.open_todos_count)||0,icon:ua,href:"/todos"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(ho,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),u.jsxs(he,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",u.jsx(Sv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(l==null?void 0:l.length)>0?l.map(b=>u.jsx(zie,{reminder:b},b.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(ua,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos"]}),u.jsxs(he,{to:"/todos",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all todos",u.jsx(Sv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:f.length>0?f.map(b=>u.jsx(Uie,{todo:b,onToggle:s},b.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No open todos"})})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(mu,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),(c==null?void 0:c.length)>0?u.jsx("div",{className:"divide-y divide-gray-100",children:c.slice(0,5).map(b=>u.jsx(UI,{person:b,hideStar:!0},b.id))}):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No favorites yet"})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),u.jsxs(he,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",u.jsx(Sv,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(o==null?void 0:o.length)>0?o.map(b=>u.jsx(UI,{person:b},b.id)):u.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",u.jsx(he,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]})]})}function ui(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function ts(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return ui(e)}function fo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return ui(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return ui(e)}function Ka(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const gt={all:["people"],lists:()=>[...gt.all,"list"],list:t=>[...gt.lists(),t],details:()=>[...gt.all,"detail"],detail:t=>[...gt.details(),t],timeline:t=>[...gt.detail(t),"timeline"],dates:t=>[...gt.detail(t),"dates"]};function CK(t){var i,s,a,o,l,c,d,h,f,p,m,y,b,g,v,w,x;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=ui(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((x=t.acf)==null?void 0:x.is_favorite)||!1,thumbnail:e,labels:r}}function ku(t={}){return mt({queryKey:gt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await We.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(CK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Du(t){return mt({queryKey:gt.detail(t),queryFn:async()=>{const e=await We.getPerson(t,{_embed:!0});return CK(e.data)},enabled:!!t})}function Vie(t){return mt({queryKey:gt.timeline(t),queryFn:async()=>(await $e.getPersonTimeline(t)).data,enabled:!!t})}function Kie(t){return mt({queryKey:gt.dates(t),queryFn:async()=>(await $e.getPersonDates(t)).data,enabled:!!t})}function Gie(){const t=st();return Ge({mutationFn:e=>We.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:gt.lists()})}})}function eh(){const t=st();return Ge({mutationFn:({id:e,data:r})=>We.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:gt.detail(r)}),t.invalidateQueries({queryKey:gt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:gt.detail(o)})})}})}function Yie(){const t=st();return Ge({mutationFn:e=>We.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:gt.lists()}),t.invalidateQueries({queryKey:gt.details()})}})}function Qie(){const t=st();return Ge({mutationFn:({personId:e,content:r})=>$e.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function Xie(){const t=st();return Ge({mutationFn:({noteId:e,personId:r})=>$e.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function Jie(){const t=st();return Ge({mutationFn:({personId:e,data:r})=>$e.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function Zie(){const t=st();return Ge({mutationFn:({activityId:e,personId:r})=>$e.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function ese(){const t=st();return Ge({mutationFn:({personId:e,data:r})=>$e.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:gt.timeline(r)})}})}function tse(){const t=st();return Ge({mutationFn:({todoId:e,data:r,personId:n})=>$e.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function rse(){const t=st();return Ge({mutationFn:({todoId:e,personId:r})=>$e.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:gt.timeline(r)})}})}function nse(){const t=st();return Ge({mutationFn:({dateId:e,personId:r})=>We.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:gt.dates(r)}),t.invalidateQueries({queryKey:gt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function WI(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function ise({person:t,companyName:e,isDeceased:r}){var n,i;return u.jsx(he,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&u.jsx(mu,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&u.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>u.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function sse(){const[t,e]=I.useState(!1),[r,n]=I.useState(!1),[i,s]=I.useState([]),[a,o]=I.useState("first_name"),[l,c]=I.useState("asc"),d=I.useRef(null),h=I.useRef(null),{data:f,isLoading:p,error:m}=ku(),{data:y}=mt({queryKey:["person-labels"],queryFn:async()=>(await We.getPersonLabels()).data}),b=(y==null?void 0:y.map(C=>C.name))||[];I.useEffect(()=>{const C=P=>{h.current&&!h.current.contains(P.target)&&d.current&&!d.current.contains(P.target)&&e(!1)};return document.addEventListener("mousedown",C),()=>{document.removeEventListener("mousedown",C)}},[]);const g=I.useMemo(()=>{if(!f)return[];let C=[...f];return r&&(C=C.filter(P=>P.is_favorite)),i.length>0&&(C=C.filter(P=>{const D=P.labels||[];return i.some(F=>D.includes(F))})),C.sort((P,D)=>{var L,V,W,z,K,fe,xe,Re;let F,Q;if(a==="first_name"?(F=(((L=P.acf)==null?void 0:L.first_name)||P.first_name||"").toLowerCase(),Q=(((V=D.acf)==null?void 0:V.first_name)||D.first_name||"").toLowerCase()):(F=(((W=P.acf)==null?void 0:W.last_name)||P.last_name||"").toLowerCase(),Q=(((z=D.acf)==null?void 0:z.last_name)||D.last_name||"").toLowerCase()),F===Q){const ge=a==="first_name"?(((K=P.acf)==null?void 0:K.last_name)||P.last_name||"").toLowerCase():(((fe=P.acf)==null?void 0:fe.first_name)||P.first_name||"").toLowerCase(),Ee=a==="first_name"?(((xe=D.acf)==null?void 0:xe.last_name)||D.last_name||"").toLowerCase():(((Re=D.acf)==null?void 0:Re.first_name)||D.first_name||"").toLowerCase(),ke=ge.localeCompare(Ee);return l==="asc"?ke:-ke}const H=F.localeCompare(Q);return l==="asc"?H:-H})},[f,r,i,a,l]),v=r||i.length>0,w=C=>{s(P=>P.includes(C)?P.filter(D=>D!==C):[...P,C])},x=()=>{n(!1),s([])},_=I.useMemo(()=>{if(!g)return[];const C=g.map(P=>WI(P)).filter(Boolean);return[...new Set(C)]},[g]),{data:E}=mt({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await We.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),N=I.useMemo(()=>{const C={};return E&&E.forEach(P=>{C[P.id]=ts(P)}),C},[E]),S=I.useMemo(()=>{const C={};return g.forEach(P=>{const D=WI(P);D&&N[D]&&(C[P.id]=N[D])}),C},[g,N]),O=I.useMemo(()=>g.map(C=>C.id).filter(Boolean),[g]),j=fp({queries:O.map(C=>({queryKey:["person-dates",C],queryFn:async()=>(await $e.getPersonDates(C)).data,enabled:!!C}))}),T=I.useMemo(()=>{const C={};return j.forEach((P,D)=>{if(P.data&&O[D]){const F=O[D],Q=P.data.some(H=>{const L=Array.isArray(H.date_type)?H.date_type[0]:H.date_type;return(L==null?void 0:L.toLowerCase())==="died"});C[F]=Q}}),C},[j,O]);return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[u.jsxs("select",{value:a,onChange:C=>o(C.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[u.jsx("option",{value:"first_name",children:"First name"}),u.jsx("option",{value:"last_name",children:"Last name"})]}),u.jsx("div",{className:"h-4 w-px bg-gray-300"}),u.jsx("button",{onClick:()=>c(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?u.jsx(Ire,{className:"w-4 h-4 text-gray-600"}):u.jsx(Pre,{className:"w-4 h-4 text-gray-600"})})]}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[u.jsx(jO,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&u.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&u.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:C=>n(C.target.checked),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&u.jsx(DI,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(mu,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(C=>u.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:i.includes(C),onChange:()=>w(C),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(C)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(C)&&u.jsx(DI,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:"text-sm text-gray-700",children:C})]},C))})]}),v&&u.jsx("button",{onClick:x,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[u.jsx(mu,{className:"w-3 h-3"}),"Favorites",u.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:u.jsx(Hn,{className:"w-3 h-3"})})]}),i.map(C=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[C,u.jsx("button",{onClick:()=>w(C),className:"hover:text-gray-600",children:u.jsx(Hn,{className:"w-3 h-3"})})]},C))]}),u.jsxs(he,{to:"/people/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Zt,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),u.jsxs(he,{to:"/people/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(C=>u.jsx(ise,{person:C,companyName:S[C.id],isDeceased:T[C.id]||!1},C.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(jO,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),u.jsx("button",{onClick:x,className:"btn-secondary",children:"Clear filters"})]})]})}const ase="#0285FF",ose=I.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=ase),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),lse="#0866FF",use=I.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=lse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),cse="#FF0069",dse=I.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=cse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),hse="#000000",fse=I.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=hse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),pse="#000000",mse=I.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=pse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})}),vse={Phone:lC,Mail:oC,Users:$i,Coffee:rK,Utensils:fK,FileText:aC,Circle:NO};function gse({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=I.useMemo(()=>qie(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),l=f=>{if(f.type==="todo")return f.is_completed?EO:pu;if(f.type==="activity"&&f.activity_type){const p=Fie(f.activity_type);return vse[p]||NO}return f.type==="note"?aC:NO},c=f=>{const p=l(f),m=f.type==="todo",y=f.type==="activity";f.type;const b=f.activity_date||f.created,g=Aie(b),v=Bie(f),w=m&&Zd(f);return u.jsxs("div",{className:`relative ${m?"pl-0":"pl-8"} pb-6 group`,children:[!m&&u.jsx("div",{className:"absolute left-0 top-1",children:u.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),u.jsx("div",{className:`${v}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[!m&&u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&u.jsx("span",{className:"text-xs font-medium text-gray-600",children:Lie(f.activity_type)}),u.jsx("span",{className:"text-xs text-gray-400",children:""}),u.jsx("span",{className:"text-xs text-gray-500",children:g})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[m&&u.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?u.jsx(EO,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):u.jsx(pu,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),u.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(x=>{const _=o(x);return _?u.jsxs(he,{to:`/people/${x}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[u.jsx(iK,{className:"w-3 h-3"}),_.name]},x):null})]}),m&&f.due_date&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",en(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&u.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:u.jsx(Ba,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&u.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(qn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),u.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?u.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function yse({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=I.useState("");if(!t)return null;const a=l=>{l.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),u.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Hn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:a,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),u.jsx("textarea",{id:"note-content",value:i,onChange:l=>s(l.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}const jv=[{id:"call",label:"Phone call",icon:lC},{id:"email",label:"Email",icon:oC},{id:"meeting",label:"Meeting",icon:$i},{id:"coffee",label:"Coffee",icon:rK},{id:"lunch",label:"Lunch",icon:fK},{id:"note",label:"Other",icon:aC}];function bse({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i}){const[s,a]=I.useState("call"),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState([]),[p,m]=I.useState(!1),[y,b]=I.useState(""),{data:g}=ku();if(I.useEffect(()=>{if(t){const T=new Date().toISOString().split("T")[0];l(T),d(""),f([]),a("call")}},[t]),!t)return null;const v=(g||[]).filter(T=>T.id.toString()!==(i==null?void 0:i.toString())),w=v.filter(T=>{var C;return(C=T.name)==null?void 0:C.toLowerCase().includes(y.toLowerCase())}),x=T=>{T.preventDefault(),c.trim()&&(r({activity_type:s,activity_date:o||null,content:c.trim(),participants:h}),d(""),f([]),l(new Date().toISOString().split("T")[0]))},_=()=>{d(""),f([]),l(""),m(!1),b(""),e()},E=T=>{f(C=>C.includes(T)?C.filter(P=>P!==T):[...C,T])},N=T=>{f(C=>C.filter(P=>P!==T))},S=()=>v.filter(T=>h.includes(T.id)),O=T=>{if(!T)return"";try{return new Date(T).toISOString().split("T")[0]}catch{return""}};return(jv.find(T=>T.id===s)||jv[0]).icon,u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add activity"}),u.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Hn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:x,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:jv.map(T=>{const C=T.icon,P=s===T.id;return u.jsxs("button",{type:"button",onClick:()=>a(T.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${P?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[u.jsx(C,{className:"w-5 h-5 mb-1"}),u.jsx("span",{className:"text-xs",children:T.label})]},T.id)})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{id:"activity-date",type:"date",value:O(o),onChange:T=>l(T.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"activity-content",value:c,onChange:T=>d(T.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),S().length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S().map(T=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[T.name,u.jsx("button",{type:"button",onClick:()=>N(T.id),className:"hover:text-primary-900",disabled:n,children:u.jsx(Hn,{className:"w-3 h-3"})})]},T.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button",onClick:()=>m(!p),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:h.length===0?"Add participants...":"Add more participants..."}),p&&u.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"p-2 border-b",children:u.jsx("input",{type:"text",placeholder:"Search people...",value:y,onChange:T=>b(T.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:w.length===0?u.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):w.map(T=>{var P;const C=h.includes(T.id);return u.jsxs("button",{type:"button",onClick:()=>E(T.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${C?"bg-primary-50":""}`,children:[u.jsx("input",{type:"checkbox",checked:C,onChange:()=>{},className:"mr-1"}),T.thumbnail?u.jsx("img",{src:T.thumbnail,alt:T.name,className:"w-6 h-6 rounded-full"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((P=T.first_name)==null?void 0:P[0])||"?"})}),u.jsx("span",{children:T.name})]},T.id)})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!c.trim(),children:n?"Adding...":"Add activity"})]})]})]})})}function TK({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=I.useState(""),[o,l]=I.useState(""),[c,d]=I.useState(!1);if(I.useEffect(()=>{i?(a(i.content||""),l(i.due_date||""),d(i.is_completed||!1)):(a(""),l(""),d(!1))},[i,t]),!t)return null;const h=m=>{m.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),l(""),d(!1)))},f=()=>{i||(a(""),l(""),d(!1)),e()},p=m=>{if(!m)return"";try{return new Date(m).toISOString().split("T")[0]}catch{return""}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),u.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Hn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:h,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"todo-content",value:s,onChange:m=>a(m.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),u.jsx("input",{id:"todo-due-date",type:"date",value:p(o),onChange:m=>l(m.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:m=>d(m.target.checked),className:"mr-2",disabled:n}),u.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:f,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function Bi(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function xse(t){return t?t.replace(/[^\d+]/g,""):""}function HI(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function wse(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function _se(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Bi(l)}`),s.push(`N:${Bi(o)};${Bi(a)};;;`),i.nickname&&s.push(`NICKNAME:${Bi(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Bi(h.contact_value),p=h.contact_label?Bi(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",b=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=xse(h.contact_value);g&&s.push(`${b}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",x=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${x}:${Bi(v)}`);break}});const{title:c,org:d}=wse(i.work_history,r);if(d&&s.push(`ORG:${Bi(d)}`),c&&s.push(`TITLE:${Bi(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=HI(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=HI(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function Sse(t,e={}){const{filename:r,...n}=e,i=_se(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const Ese=({className:t})=>u.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:u.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function lf(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Nse(){var ET,NT,OT,jT,CT,TT,PT,IT,RT,$T,kT,DT,MT,qT;const{id:t}=ws(),e=dn(),r=st(),{data:n,isLoading:i,error:s}=Du(t),{data:a}=Vie(t),{data:o}=Kie(t),l=Yie(),c=Xie(),d=nse(),h=eh(),f=Qie(),p=Jie(),m=ese(),y=tse(),b=Zie(),g=rse(),{data:v}=ku(),[w,x]=I.useState(!1),[_,E]=I.useState(""),[N,S]=I.useState(!1),O=I.useRef(null),[j,T]=I.useState(!1),[C,P]=I.useState(!1),[D,F]=I.useState(!1),[Q,H]=I.useState(null),{data:L}=mt({queryKey:["person-labels"],queryFn:async()=>(await We.getPersonLabels()).data}),V=L||[],W=(n==null?void 0:n.labels)||[],z=((jT=(OT=(NT=(ET=n==null?void 0:n._embedded)==null?void 0:ET["wp:term"])==null?void 0:NT.flat())==null?void 0:OT.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:jT.map(k=>k.id))||[],K=V.filter(k=>!W.includes(k.name));hn((n==null?void 0:n.name)||((CT=n==null?void 0:n.title)==null?void 0:CT.rendered)||(n==null?void 0:n.title)||"Person");const fe=o==null?void 0:o.find(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Y==null?void 0:Y.toLowerCase())==="birthday"}),xe=fe!=null&&fe.date_value?new Date(fe.date_value):null,Re=o==null?void 0:o.find(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Y==null?void 0:Y.toLowerCase())==="died"}),ge=Re!=null&&Re.date_value?new Date(Re.date_value):null,Ee=!!ge,ke=xe?Ev(Ee?ge:new Date,xe):null,nt=o?[...o].sort((k,Y)=>{const G=k.date_value?new Date(k.date_value):new Date(0),je=Y.date_value?new Date(Y.date_value):new Date(0);return G-je}):[],rr=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},bt=k=>{if(!k)return"";let Y=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const G=Y.startsWith("+");return Y=Y.replace(/\D/g,""),G?`+${Y}`:Y},fr=async k=>{var je;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const Y=[...((je=n.acf)==null?void 0:je.contact_info)||[]];Y.splice(k,1);const G=Ka(n.acf,{contact_info:Y});await h.mutateAsync({id:t,data:{acf:G}})},ut=async k=>{var ka,Xn,Fi,dc,AT,FT;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const Y=(Xn=(ka=n.acf)==null?void 0:ka.relationships)==null?void 0:Xn[k];if(!Y)return;const G=Y.related_person,je=Y.relationship_type;let Fe=!0;G&&je&&(Fe=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let Qe=null;if(!Fe&&G&&je)try{const[yi,Ah]=await Promise.all([We.getPerson(G,{_embed:!0}),We.getRelationshipTypes()]),Hm={};Ah.data.forEach(hc=>{Hm[hc.id]=hc});const Pn=Hm[je],Da=(Fi=Pn==null?void 0:Pn.acf)==null?void 0:Fi.inverse_relationship_type;if(Da){const fc=(((dc=yi.data.acf)==null?void 0:dc.relationships)||[]).find(Li=>{var LT,BT;const zQ=typeof Li.related_person=="object"?(LT=Li.related_person)==null?void 0:LT.ID:Li.related_person,UQ=typeof Li.relationship_type=="object"?(BT=Li.relationship_type)==null?void 0:BT.term_id:Li.relationship_type;return zQ===parseInt(t)&&UQ===Da});fc&&(Qe={related_person:parseInt(t),relationship_type:Da,relationship_label:fc.relationship_label||""})}}catch(yi){console.error("Failed to fetch inverse relationship:",yi)}const at=[...((AT=n.acf)==null?void 0:AT.relationships)||[]];at.splice(k,1);const al=Ka(n.acf,{relationships:at});if(await h.mutateAsync({id:t,data:{acf:al}}),!Fe&&Qe&&G){await new Promise(yi=>setTimeout(yi,500));try{const yi=await We.getPerson(G,{_embed:!0}),Ah=((FT=yi.data.acf)==null?void 0:FT.relationships)||[];if(!Ah.some(Pn=>{var fc,Li;const Da=typeof Pn.related_person=="object"?(fc=Pn.related_person)==null?void 0:fc.ID:Pn.related_person,hc=typeof Pn.relationship_type=="object"?(Li=Pn.relationship_type)==null?void 0:Li.term_id:Pn.relationship_type;return Da===Qe.related_person&&hc===Qe.relationship_type})){const Pn=[...Ah,Qe],Da=Ka(yi.data.acf,{relationships:Pn});await We.updatePerson(G,{acf:Da})}}catch(yi){console.error("Failed to restore inverse relationship:",yi)}}r.invalidateQueries({queryKey:["person",t]}),G&&r.invalidateQueries({queryKey:["person",G]}),r.invalidateQueries({queryKey:["people"]})},Pr=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},Ir=async k=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:k,personId:t})},_r=async k=>{try{await f.mutateAsync({personId:t,content:k}),T(!1)}catch(Y){console.error("Failed to create note:",Y),alert("Failed to create note. Please try again.")}},it=async k=>{try{await p.mutateAsync({personId:t,data:k}),P(!1)}catch(Y){console.error("Failed to create activity:",Y),alert("Failed to create activity. Please try again.")}},Lt=async k=>{try{await m.mutateAsync({personId:t,data:k}),F(!1),H(null)}catch(Y){console.error("Failed to create todo:",Y),alert("Failed to create todo. Please try again.")}},Rr=async k=>{if(Q)try{await y.mutateAsync({todoId:Q.id,data:k,personId:t}),F(!1),H(null)}catch(Y){console.error("Failed to update todo:",Y),alert("Failed to update todo. Please try again.")}},$r=async k=>{try{await y.mutateAsync({todoId:k.id,data:{content:k.content,due_date:k.due_date,is_completed:!k.is_completed},personId:t})}catch(Y){console.error("Failed to toggle todo:",Y),alert("Failed to update todo. Please try again.")}},$=async k=>{window.confirm("Are you sure you want to delete this activity?")&&await b.mutateAsync({activityId:k,personId:t})},M=async k=>{window.confirm("Are you sure you want to delete this todo?")&&await g.mutateAsync({todoId:k,personId:t})},A=k=>{k.type==="todo"&&(H(k),F(!0))},se=k=>{k.type==="note"?Ir(k.id):k.type==="activity"?$(k.id):k.type==="todo"&&M(k.id)},re=async k=>{var je;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const Y=[...((je=n.acf)==null?void 0:je.work_history)||[]];Y.splice(k,1);const G=Ka(n.acf,{work_history:Y});await h.mutateAsync({id:t,data:{acf:G}})},X=async k=>{var je,Fe,Qe;const Y=(Qe=(Fe=(je=n==null?void 0:n._embedded)==null?void 0:je["wp:term"])==null?void 0:Fe.flat())==null?void 0:Qe.find(at=>(at==null?void 0:at.taxonomy)==="person_label"&&(at==null?void 0:at.name)===k);if(!Y)return;const G=z.filter(at=>at!==Y.id);await h.mutateAsync({id:t,data:{person_label:G}})},U=async()=>{if(!_)return;const k=V.find(G=>G.id.toString()===_);if(!k)return;const Y=[...z,k.id];await h.mutateAsync({id:t,data:{person_label:Y}}),E(""),x(!1)},oe=async k=>{var G;const Y=(G=k.target.files)==null?void 0:G[0];if(Y){if(!Y.type.startsWith("image/")){alert("Please select an image file");return}if(Y.size>5*1024*1024){alert("Image size must be less than 5MB");return}S(!0);try{await $e.uploadPersonPhoto(t,Y),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(je){console.error("Failed to upload photo:",je),alert("Failed to upload photo. Please try again.")}finally{S(!1),O.current&&(O.current.value="")}}},de=()=>{if(n)try{Sse(n,{companyMap:Gr,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},ze=((PT=(TT=n==null?void 0:n.acf)==null?void 0:TT.work_history)==null?void 0:PT.map(k=>k.company).filter(Boolean))||[],ve=fp({queries:ze.map(k=>({queryKey:["company",k],queryFn:async()=>(await We.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),J=((RT=(IT=n==null?void 0:n.acf)==null?void 0:IT.relationships)==null?void 0:RT.map(k=>k.related_person).filter(Boolean))||[],le=fp({queries:J.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await $e.getPersonDates(k)).data,enabled:!!k}))}),ae=I.useMemo(()=>{const k={};return le.forEach((Y,G)=>{if(Y.data&&J[G]){const je=J[G],Fe=Y.data.find(Qe=>{const at=Array.isArray(Qe.date_type)?Qe.date_type[0]:Qe.date_type;return(at==null?void 0:at.toLowerCase())==="birthday"});if(Fe!=null&&Fe.date_value){const Qe=new Date(Fe.date_value);k[je]=Ev(new Date,Qe)}else k[je]=-1}}),k},[le,J]),we=I.useMemo(()=>{const k={};return le.forEach((Y,G)=>{if(Y.data&&J[G]){const je=J[G],Fe=Y.data.some(Qe=>{const at=Array.isArray(Qe.date_type)?Qe.date_type[0]:Qe.date_type;return(at==null?void 0:at.toLowerCase())==="died"});k[je]=Fe}}),k},[le,J]),De=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((Y,G)=>{const je=ae[Y.related_person]??-1,Fe=ae[G.related_person]??-1;return je===-1&&Fe===-1?0:je===-1?1:Fe===-1?-1:Fe-je}):[]},[($T=n==null?void 0:n.acf)==null?void 0:$T.relationships,ae]),Gr={};ve.forEach((k,Y)=>{var G,je,Fe,Qe,at,al,ka,Xn,Fi;if(k.data){const dc=ze[Y];Gr[dc]={name:ts(k.data),logo:((Fe=(je=(G=k.data._embedded)==null?void 0:G["wp:featuredmedia"])==null?void 0:je[0])==null?void 0:Fe.source_url)||((Fi=(Xn=(ka=(al=(at=(Qe=k.data._embedded)==null?void 0:Qe["wp:featuredmedia"])==null?void 0:at[0])==null?void 0:al.media_details)==null?void 0:ka.sizes)==null?void 0:Xn.thumbnail)==null?void 0:Fi.source_url)||null}}});const Tn=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((Y,G)=>({...Y,originalIndex:G})).sort((Y,G)=>{if(Y.is_current&&!G.is_current)return-1;if(!Y.is_current&&G.is_current)return 1;const je=Y.start_date?new Date(Y.start_date):new Date(0);return(G.start_date?new Date(G.start_date):new Date(0))-je}):[]},[(kT=n==null?void 0:n.acf)==null?void 0:kT.work_history]),cc=I.useMemo(()=>a?a.filter(Y=>Y.type==="todo").sort((Y,G)=>{if(Y.is_completed&&!G.is_completed)return 1;if(!Y.is_completed&&G.is_completed)return-1;if(!Y.is_completed&&!G.is_completed){if(Y.due_date&&G.due_date)return new Date(Y.due_date)-new Date(G.due_date);if(Y.due_date&&!G.due_date)return-1;if(!Y.due_date&&G.due_date)return 1}return new Date(G.created)-new Date(Y.created)}):[],[a]);if(I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Sr=n.acf||{},Wm=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],FQ=((DT=Sr.contact_info)==null?void 0:DT.filter(k=>Wm.includes(k.contact_type)))||[],_T={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},ST=[...FQ].sort((k,Y)=>{const G=_T[k.contact_type]||99,je=_T[Y.contact_type]||99;return G-je}),LQ=k=>{switch(k){case"facebook":return use;case"linkedin":return Ese;case"instagram":return dse;case"twitter":return mse;case"bluesky":return ose;case"threads":return fse;case"website":return kf;default:return kf}},BQ=k=>{switch(k){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:de,className:"btn-secondary",children:[u.jsx(OO,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),u.jsxs(he,{to:`/people/${t}/edit`,className:"btn-secondary",children:[u.jsx(cK,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),u.jsxs("button",{onClick:rr,className:"btn-danger",children:[u.jsx(qn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),u.jsxs("div",{className:"card p-6 relative",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(he,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"relative group",children:[n.thumbnail?u.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):u.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((MT=n.first_name)==null?void 0:MT[0])||"?"})}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=O.current)==null?void 0:k.click()},children:N?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx($f,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),u.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:oe,className:"hidden",disabled:N})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Ee&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&u.jsx(mu,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Sr.nickname&&u.jsxs("p",{className:"text-gray-500",children:['"',Sr.nickname,'"']}),Ee&&ge&&ke!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[lf(Sr.gender)&&u.jsx("span",{className:"mr-1",children:lf(Sr.gender)}),"Died ",en(ge,"MMMM d, yyyy")," at age ",ke]}),!Ee&&ke!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[lf(Sr.gender)&&u.jsx("span",{className:"mr-1",children:lf(Sr.gender)}),ke," years old"]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,Y)=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,u.jsx("button",{onClick:()=>X(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:u.jsx(Hn,{className:"w-3 h-3"})})]},Y)),w?u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsxs("select",{value:_,onChange:k=>E(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:K.length===0,children:[u.jsx("option",{value:"",children:"Select a label..."}),K.map(k=>u.jsx("option",{value:k.id,children:k.name},k.id))]}),u.jsx("button",{onClick:U,disabled:!_,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),u.jsx("button",{onClick:()=>{x(!1),E("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):K.length>0&&u.jsxs("button",{onClick:()=>x(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Zt,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),ST.length>0&&u.jsx("div",{className:"flex items-center gap-3 mt-4",children:ST.map((k,Y)=>{const G=LQ(k.contact_type),je=BQ(k.contact_type);let Fe=k.contact_value;return Fe.match(/^https?:\/\//i)||(Fe=`https://${Fe}`),u.jsx("a",{href:Fe,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${je}`,title:`${k.contact_type.charAt(0).toUpperCase()+k.contact_type.slice(1)}: ${k.contact_value}`,children:u.jsx(G,{className:"w-5 h-5"})},Y)})})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Ee&&u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Contact information"}),u.jsxs(he,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((qT=Sr.contact_info)==null?void 0:qT.filter(k=>!Wm.includes(k.contact_type)).length)>0?u.jsx("div",{className:"space-y-2",children:(()=>{const k={email:1,phone:2,mobile:2,address:3,other:4};return Sr.contact_info.filter(G=>!Wm.includes(G.contact_type)).map((G,je)=>({...G,originalIndex:je})).sort((G,je)=>{const Fe=k[G.contact_type]||99,Qe=k[je.contact_type]||99;return Fe!==Qe?Fe-Qe:G.originalIndex-je.originalIndex}).map((G,je)=>{Sr.contact_info.indexOf(G);const Fe=G.contact_type==="email"?oC:G.contact_type==="phone"||G.contact_type==="mobile"?lC:G.contact_type==="address"?Fre:kf,Qe=G.contact_type==="email",at=G.contact_type==="phone"||G.contact_type==="mobile",al=G.contact_type==="mobile",ka=G.contact_type==="address";let Xn=null,Fi=null;return Qe?Xn=`mailto:${G.contact_value}`:at?Xn=`tel:${bt(G.contact_value)}`:ka&&(Xn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(G.contact_value)}`,Fi="_blank"),u.jsx("div",{className:"group",children:u.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[u.jsx(Fe,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[G.contact_label||G.contact_type,": "]}),Xn?u.jsx("a",{href:Xn,target:Fi||void 0,rel:Fi==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:G.contact_value}):u.jsx("span",{children:G.contact_value}),al&&u.jsx("a",{href:`https://wa.me/${bt(G.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:u.jsx(Bre,{className:"w-4 h-4 text-[#25D366]"})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(he,{to:`/people/${t}/contact/${G.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:u.jsx(Ba,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>fr(G.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:u.jsx(qn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},G.originalIndex)})})()}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Events"}),u.jsxs(he,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),nt.length>0?u.jsx("div",{className:"space-y-3",children:nt.map(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,G=(Y==null?void 0:Y.toLowerCase())||"",je=G.includes("died"),Fe=G.includes("wedding")||G.includes("marriage")?Mre:G.includes("birthday")?Dre:ho;return u.jsxs("div",{className:"flex items-start group",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:je?u.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):u.jsx(Fe,{className:"w-4 h-4 text-gray-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:k.title}),u.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&en(new Date(k.date_value),"MMMM d, yyyy")}),Y&&u.jsx("p",{className:"text-xs text-gray-400 capitalize",children:Y})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(he,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:u.jsx(Ba,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>Pr(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:u.jsx(qn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Work history"}),u.jsxs(he,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(Tn==null?void 0:Tn.length)>0?u.jsx("div",{className:"space-y-4",children:Tn.map((k,Y)=>{const G=k.company?Gr[k.company]:null,je=k.originalIndex;return u.jsxs("div",{className:"flex items-start group",children:[G!=null&&G.logo?u.jsx("img",{src:G.logo,alt:G.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:u.jsx(ms,{className:"w-10 h-10 text-gray-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&G&&u.jsx(he,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:G.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&en(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?en(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(he,{to:`/people/${t}/work-history/${je}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:u.jsx(Ba,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>re(je),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:u.jsx(qn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},je)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Timeline"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>T(!0),className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Note"})]}),u.jsxs("button",{onClick:()=>P(!0),className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Activity"})]})]})]}),u.jsx(gse,{timeline:a||[],onEdit:A,onDelete:se,onToggleTodo:$r,personId:t,allPeople:v||[]})]}),u.jsx(yse,{isOpen:j,onClose:()=>T(!1),onSubmit:_r,isLoading:f.isPending}),u.jsx(bse,{isOpen:C,onClose:()=>P(!1),onSubmit:it,isLoading:p.isPending,personId:t}),u.jsx(TK,{isOpen:D,onClose:()=>{F(!1),H(null)},onSubmit:Q?Rr:Lt,isLoading:Q?y.isPending:m.isPending,todo:Q})]}),u.jsxs("div",{className:"space-y-6",children:[(Sr.how_we_met||Sr.met_date)&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Sr.met_date&&u.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[u.jsx(ho,{className:"w-4 h-4 inline mr-1"}),en(new Date(Sr.met_date),"MMMM d, yyyy")]}),Sr.how_we_met&&u.jsx("p",{className:"text-sm",children:Sr.how_we_met})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Todos"}),u.jsxs("button",{onClick:()=>{H(null),F(!0)},className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add todo"})]})]}),cc.length>0?u.jsx("div",{className:"space-y-2",children:cc.map(k=>{const Y=Zd(k);return u.jsxs("div",{className:"flex items-start p-2 rounded hover:bg-gray-50 group",children:[u.jsx("button",{onClick:()=>$r(k),className:"mt-0.5 mr-2 flex-shrink-0",title:k.is_completed?"Mark as incomplete":"Mark as complete",children:k.is_completed?u.jsx(EO,{className:"w-5 h-5 text-primary-600"}):u.jsx(pu,{className:`w-5 h-5 ${Y?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${k.is_completed?"line-through text-gray-400":Y?"text-red-600":""}`,children:k.content}),k.due_date&&u.jsxs("p",{className:`text-xs mt-0.5 ${Y&&!k.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",en(new Date(k.due_date),"MMM d, yyyy"),Y&&!k.is_completed&&" (overdue)"]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>{H(k),F(!0)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:u.jsx(Ba,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>M(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:u.jsx(qn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No todos yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Relationships"}),u.jsxs(he,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(De==null?void 0:De.length)>0?u.jsx("div",{className:"space-y-2",children:De.map((k,Y)=>{var je,Fe,Qe;const G=((Fe=(je=n==null?void 0:n.acf)==null?void 0:je.relationships)==null?void 0:Fe.findIndex(at=>at.related_person===k.related_person&&at.relationship_type===k.relationship_type))??Y;return u.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[u.jsxs(he,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?u.jsx("img",{src:k.person_thumbnail,alt:ui(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-medium text-gray-500",children:((Qe=ui(k.person_name))==null?void 0:Qe[0])||"?"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium",children:[ui(k.person_name)||`Person #${k.related_person}`,we[k.related_person]&&u.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500",children:ui(k.relationship_name||k.relationship_label)})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(he,{to:`/people/${t}/relationship/${G}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:u.jsx(Ba,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>ut(G),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:u.jsx(qn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Y)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var th=t=>t.type==="checkbox",Ga=t=>t instanceof Date,Xr=t=>t==null;const PK=t=>typeof t=="object";var Ut=t=>!Xr(t)&&!Array.isArray(t)&&PK(t)&&!Ga(t),IK=t=>Ut(t)&&t.target?th(t.target)?t.target.checked:t.target.value:t,Ose=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,RK=(t,e)=>t.has(Ose(e)),jse=t=>{const e=t.constructor&&t.constructor.prototype;return Ut(e)&&e.hasOwnProperty("isPrototypeOf")},uC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(uC&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Ut(t)&&jse(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Xt(t[i]));return n}var lm=t=>/^\w*$/.test(t),$t=t=>t===void 0,cC=t=>Array.isArray(t)?t.filter(Boolean):[],dC=t=>cC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ce=(t,e,r)=>{if(!e||!Ut(t))return r;const n=(lm(e)?[e]:dC(e)).reduce((i,s)=>Xr(i)?i:i[s],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n},yn=t=>typeof t=="boolean",Br=t=>typeof t=="function",ct=(t,e,r)=>{let n=-1;const i=lm(e)?[e]:dC(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Ut(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const bp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},$K=Pe.createContext(null);$K.displayName="HookFormContext";const hC=()=>Pe.useContext($K);var kK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==oi.all&&(e._proxyFormState[a]=!n||oi.all),r&&(r[a]=!0),t[a]}});return i};const fC=typeof window<"u"?Pe.useLayoutEffect:Pe.useEffect;function Cse(t){const e=hC(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Pe.useState(r._formState),l=Pe.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return fC(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),Pe.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Pe.useMemo(()=>kK(a,r,l.current,!1),[a,r])}var bn=t=>typeof t=="string",CO=(t,e,r,n,i)=>bn(t)?(n&&e.watch.add(t),ce(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ce(r,s))):(n&&(e.watchAll=!0),r),TO=t=>Xr(t)||!PK(t);function li(t,e,r=new WeakSet){if(TO(t)||TO(e))return Object.is(t,e);if(Ga(t)&&Ga(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ga(a)&&Ga(o)||Ut(a)&&Ut(o)||Array.isArray(a)&&Array.isArray(o)?!li(a,o,r):!Object.is(a,o))return!1}}return!0}function Tse(t){const e=hC(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Pe.useRef(i),c=Pe.useRef(o),d=Pe.useRef(void 0),h=Pe.useRef(r),f=Pe.useRef(n);c.current=o;const[p,m]=Pe.useState(()=>{const x=r._getWatch(n,l.current);return c.current?c.current(x):x}),y=Pe.useCallback(x=>{const _=CO(n,r._names,x||r._formValues,!1,l.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),b=Pe.useCallback(x=>{if(!s){const _=CO(n,r._names,x||r._formValues,!1,l.current);if(c.current){const E=c.current(_);li(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);fC(()=>((h.current!==r||!li(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:x=>{b(x.values)}})),[r,a,n,b]),Pe.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,w=Pe.useMemo(()=>{if(s)return null;const x=!g&&!li(v,n);return g||x?y():null},[s,g,n,v,y]);return w!==null?w:p}function Pse(t){const e=hC(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=RK(i._names.array,r),c=Pe.useMemo(()=>ce(i._formValues,r,ce(i._defaultValues,r,a)),[i,r,a]),d=Tse({control:i,name:r,defaultValue:c,exact:o}),h=Cse({control:i,name:r,exact:o}),f=Pe.useRef(t),p=Pe.useRef(void 0),m=Pe.useRef(i.register(r,{...t.rules,value:d,...yn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Pe.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ce(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ce(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ce(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ce(h.validatingFields,r)},error:{enumerable:!0,get:()=>ce(h.errors,r)}}),[h,r]),b=Pe.useCallback(x=>m.current.onChange({target:{value:IK(x),name:r},type:bp.CHANGE}),[r]),g=Pe.useCallback(()=>m.current.onBlur({target:{value:ce(i._formValues,r),name:r},type:bp.BLUR}),[r,i._formValues]),v=Pe.useCallback(x=>{const _=ce(i._fields,r);_&&_._f&&x&&(_._f.ref={focus:()=>Br(x.focus)&&x.focus(),select:()=>Br(x.select)&&x.select(),setCustomValidity:E=>Br(x.setCustomValidity)&&x.setCustomValidity(E),reportValidity:()=>Br(x.reportValidity)&&x.reportValidity()})},[i._fields,r]),w=Pe.useMemo(()=>({name:r,value:d,...yn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,d]);return Pe.useEffect(()=>{const x=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...yn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(N,S)=>{const O=ce(i._fields,N);O&&O._f&&(O._f.mount=S)};if(E(r,!0),x){const N=Xt(ce(i._options.defaultValues,r,f.current.defaultValue));ct(i._defaultValues,r,N),$t(ce(i._formValues,r))&&ct(i._formValues,r,N)}return!l&&i.register(r),p.current=r,()=>{(l?x&&!i._state.action:x)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Pe.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Pe.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const xp=t=>t.render(Pse(t));var Ise=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Kc=t=>Array.isArray(t)?t:[t],VI=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function DK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Ut(i)&&s){const a=DK(i,s);Ut(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Mr=t=>Ut(t)&&!Object.keys(t).length,pC=t=>t.type==="file",wp=t=>{if(!uC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},MK=t=>t.type==="select-multiple",mC=t=>t.type==="radio",Rse=t=>mC(t)||th(t),Cv=t=>wp(t)&&t.isConnected;function $se(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function kse(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function Bt(t,e){const r=Array.isArray(e)?e:lm(e)?[e]:dC(e),n=r.length===1?t:$se(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ut(n)&&Mr(n)||Array.isArray(n)&&kse(n))&&Bt(t,r.slice(0,-1)),t}var Dse=t=>{for(const e in t)if(Br(t[e]))return!0;return!1};function qK(t){return Array.isArray(t)||Ut(t)&&!Dse(t)}function PO(t,e={}){for(const r in t){const n=t[r];qK(n)?(e[r]=Array.isArray(n)?[]:{},PO(n,e[r])):$t(n)||(e[r]=!0)}return e}function fl(t,e,r){r||(r=PO(e));for(const n in t){const i=t[n];if(qK(i))$t(e)||TO(r[n])?r[n]=PO(i,Array.isArray(i)?[]:{}):fl(i,Xr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!li(i,s)}}return r}const KI={value:!1,isValid:!1},GI={value:!0,isValid:!0};var AK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?GI:{value:t[0].value,isValid:!0}:GI:KI}return KI},FK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&bn(t)?new Date(t):n?n(t):t;const YI={isValid:!1,value:null};var LK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,YI):YI;function QI(t){const e=t.ref;return pC(e)?e.files:mC(e)?LK(t.refs).value:MK(e)?[...e.selectedOptions].map(({value:r})=>r):th(e)?AK(t.refs).value:FK($t(e.value)?t.ref.value:e.value,t)}var Mse=(t,e,r,n)=>{const i={};for(const s of t){const a=ce(e,s);a&&ct(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},_p=t=>t instanceof RegExp,Oc=t=>$t(t)?t:_p(t)?t.source:Ut(t)?_p(t.value)?t.value.source:t.value:t,XI=t=>({isOnSubmit:!t||t===oi.onSubmit,isOnBlur:t===oi.onBlur,isOnChange:t===oi.onChange,isOnAll:t===oi.all,isOnTouch:t===oi.onTouched});const JI="AsyncFunction";var qse=t=>!!t&&!!t.validate&&!!(Br(t.validate)&&t.validate.constructor.name===JI||Ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===JI)),Ase=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),ZI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Gc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ce(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Gc(o,e))break}else if(Ut(o)&&Gc(o,e))break}}};function eR(t,e,r){const n=ce(t,r);if(n||lm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ce(e,s),o=ce(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var Fse=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Mr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||oi.all))},Lse=(t,e,r)=>!t||!e||t===e||Kc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Bse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,zse=(t,e)=>!cC(ce(t,e)).length&&Bt(t,e),Use=(t,e,r)=>{const n=Kc(ce(t,r));return ct(n,"root",e[r]),ct(t,r,n),t};function tR(t,e,r="validate"){if(bn(t)||Array.isArray(t)&&t.every(bn)||yn(t)&&!t)return{type:r,message:bn(t)?t:"",ref:e}}var ul=t=>Ut(t)&&!_p(t)?t:{value:t,message:""},rR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=ce(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,x=C=>{i&&w.reportValidity&&(w.setCustomValidity(yn(C)?"":C||""),w.reportValidity())},_={},E=mC(a),N=th(a),S=E||N,O=(b||pC(a))&&$t(a.value)&&$t(v)||wp(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,j=Ise.bind(null,y,n,_),T=(C,P,D,F=zi.maxLength,Q=zi.minLength)=>{const H=C?P:D;_[y]={type:C?F:Q,message:H,ref:a,...j(C?F:Q,H)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(O||Xr(v))||yn(v)&&!v||N&&!AK(o).isValid||E&&!LK(o).isValid)){const{value:C,message:P}=bn(l)?{value:!!l,message:l}:ul(l);if(C&&(_[y]={type:zi.required,message:P,ref:w,...j(zi.required,P)},!n))return x(P),_}if(!O&&(!Xr(h)||!Xr(f))){let C,P;const D=ul(f),F=ul(h);if(!Xr(v)&&!isNaN(v)){const Q=a.valueAsNumber||v&&+v;Xr(D.value)||(C=Q>D.value),Xr(F.value)||(P=Q<F.value)}else{const Q=a.valueAsDate||new Date(v),H=W=>new Date(new Date().toDateString()+" "+W),L=a.type=="time",V=a.type=="week";bn(D.value)&&v&&(C=L?H(v)>H(D.value):V?v>D.value:Q>new Date(D.value)),bn(F.value)&&v&&(P=L?H(v)<H(F.value):V?v<F.value:Q<new Date(F.value))}if((C||P)&&(T(!!C,D.message,F.message,zi.max,zi.min),!n))return x(_[y].message),_}if((c||d)&&!O&&(bn(v)||s&&Array.isArray(v))){const C=ul(c),P=ul(d),D=!Xr(C.value)&&v.length>+C.value,F=!Xr(P.value)&&v.length<+P.value;if((D||F)&&(T(D,C.message,P.message),!n))return x(_[y].message),_}if(p&&!O&&bn(v)){const{value:C,message:P}=ul(p);if(_p(C)&&!v.match(C)&&(_[y]={type:zi.pattern,message:P,ref:a,...j(zi.pattern,P)},!n))return x(P),_}if(m){if(Br(m)){const C=await m(v,r),P=tR(C,w);if(P&&(_[y]={...P,...j(zi.validate,P.message)},!n))return x(P.message),_}else if(Ut(m)){let C={};for(const P in m){if(!Mr(C)&&!n)break;const D=tR(await m[P](v,r),w,P);D&&(C={...D,...j(P,D.message)},x(D.message),n&&(_[y]=C))}if(!Mr(C)&&(_[y]={ref:w,...C},!n))return _}}return x(!0),_};const Wse={mode:oi.onSubmit,reValidateMode:oi.onChange,shouldFocusError:!0};function Hse(t={}){let e={...Wse,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Br(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Ut(e.defaultValues)||Ut(e.values)?Xt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Xt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:VI(),state:VI()},m=e.criteriaMode===oi.all,y=$=>M=>{clearTimeout(c),c=setTimeout($,M)},b=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let M;e.resolver?(M=Mr((await S()).errors),g()):M=await j(n,!0),M!==r.isValid&&p.state.next({isValid:M})}},g=($,M)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(A=>{A&&(M?ct(r.validatingFields,A,M):Bt(r.validatingFields,A))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Mr(r.validatingFields)}))},v=($,M=[],A,se,re=!0,X=!0)=>{if(se&&A&&!e.disabled){if(a.action=!0,X&&Array.isArray(ce(n,$))){const U=A(ce(n,$),se.argA,se.argB);re&&ct(n,$,U)}if(X&&Array.isArray(ce(r.errors,$))){const U=A(ce(r.errors,$),se.argA,se.argB);re&&ct(r.errors,$,U),zse(r.errors,$)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(ce(r.touchedFields,$))){const U=A(ce(r.touchedFields,$),se.argA,se.argB);re&&ct(r.touchedFields,$,U)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=fl(i,s)),p.state.next({name:$,isDirty:C($,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ct(s,$,M)},w=($,M)=>{ct(r.errors,$,M),p.state.next({errors:r.errors})},x=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,M,A,se)=>{const re=ce(n,$);if(re){const X=ce(s,$,$t(A)?ce(i,$):A);$t(X)||se&&se.defaultChecked||M?ct(s,$,M?X:QI(re._f)):F($,X),a.mount&&!a.action&&b()}},E=($,M,A,se,re)=>{let X=!1,U=!1;const oe={name:$};if(!e.disabled){if(!A||se){(h.isDirty||f.isDirty)&&(U=r.isDirty,r.isDirty=oe.isDirty=C(),X=U!==oe.isDirty);const de=li(ce(i,$),M);U=!!ce(r.dirtyFields,$),de?Bt(r.dirtyFields,$):ct(r.dirtyFields,$,!0),oe.dirtyFields=r.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&U!==!de}if(A){const de=ce(r.touchedFields,$);de||(ct(r.touchedFields,$,A),oe.touchedFields=r.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&de!==A)}X&&re&&p.state.next(oe)}return X?oe:{}},N=($,M,A,se)=>{const re=ce(r.errors,$),X=(h.isValid||f.isValid)&&yn(M)&&r.isValid!==M;if(e.delayError&&A?(l=y(()=>w($,A)),l(e.delayError)):(clearTimeout(c),l=null,A?ct(r.errors,$,A):Bt(r.errors,$)),(A?!li(re,A):re)||!Mr(se)||X){const U={...se,...X&&yn(M)?{isValid:M}:{},errors:r.errors,name:$};r={...r,...U},p.state.next(U)}},S=async $=>(g($,!0),await e.resolver(s,e.context,Mse($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),O=async $=>{const{errors:M}=await S($);if(g($),$)for(const A of $){const se=ce(M,A);se?ct(r.errors,A,se):Bt(r.errors,A)}else r.errors=M;return M},j=async($,M,A={valid:!0})=>{for(const se in $){const re=$[se];if(re){const{_f:X,...U}=re;if(X){const oe=o.array.has(X.name),de=re._f&&qse(re._f);de&&h.validatingFields&&g([X.name],!0);const ze=await rR(re,o.disabled,s,m,e.shouldUseNativeValidation&&!M,oe);if(de&&h.validatingFields&&g([X.name]),ze[X.name]&&(A.valid=!1,M))break;!M&&(ce(ze,X.name)?oe?Use(r.errors,ze,X.name):ct(r.errors,X.name,ze[X.name]):Bt(r.errors,X.name))}!Mr(U)&&await j(U,M,A)}}return A.valid},T=()=>{for(const $ of o.unMount){const M=ce(n,$);M&&(M._f.refs?M._f.refs.every(A=>!Cv(A)):!Cv(M._f.ref))&&ke($)}o.unMount=new Set},C=($,M)=>!e.disabled&&($&&M&&ct(s,$,M),!li(z(),i)),P=($,M,A)=>CO($,o,{...a.mount?s:$t(M)?i:bn($)?{[$]:M}:M},A,M),D=$=>cC(ce(a.mount?s:i,$,e.shouldUnregister?ce(i,$,[]):[])),F=($,M,A={})=>{const se=ce(n,$);let re=M;if(se){const X=se._f;X&&(!X.disabled&&ct(s,$,FK(M,X)),re=wp(X.ref)&&Xr(M)?"":M,MK(X.ref)?[...X.ref.options].forEach(U=>U.selected=re.includes(U.value)):X.refs?th(X.ref)?X.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(re)?U.checked=!!re.find(oe=>oe===U.value):U.checked=re===U.value||!!re)}):X.refs.forEach(U=>U.checked=U.value===re):pC(X.ref)?X.ref.value="":(X.ref.value=re,X.ref.type||p.state.next({name:$,values:Xt(s)})))}(A.shouldDirty||A.shouldTouch)&&E($,re,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&W($)},Q=($,M,A)=>{for(const se in M){if(!M.hasOwnProperty(se))return;const re=M[se],X=$+"."+se,U=ce(n,X);(o.array.has($)||Ut(re)||U&&!U._f)&&!Ga(re)?Q(X,re,A):F(X,re,A)}},H=($,M,A={})=>{const se=ce(n,$),re=o.array.has($),X=Xt(M);ct(s,$,X),re?(p.array.next({name:$,values:Xt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&A.shouldDirty&&p.state.next({name:$,dirtyFields:fl(i,s),isDirty:C($,X)})):se&&!se._f&&!Xr(X)?Q($,X,A):F($,X,A),ZI($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:Xt(s)})},L=async $=>{a.mount=!0;const M=$.target;let A=M.name,se=!0;const re=ce(n,A),X=de=>{se=Number.isNaN(de)||Ga(de)&&isNaN(de.getTime())||li(de,ce(s,A,de))},U=XI(e.mode),oe=XI(e.reValidateMode);if(re){let de,ze;const ve=M.type?QI(re._f):IK($),J=$.type===bp.BLUR||$.type===bp.FOCUS_OUT,le=!Ase(re._f)&&!e.resolver&&!ce(r.errors,A)&&!re._f.deps||Bse(J,ce(r.touchedFields,A),r.isSubmitted,oe,U),ae=ZI(A,o,J);ct(s,A,ve),J?(!M||!M.readOnly)&&(re._f.onBlur&&re._f.onBlur($),l&&l(0)):re._f.onChange&&re._f.onChange($);const we=E(A,ve,J),De=!Mr(we)||ae;if(!J&&p.state.next({name:A,type:$.type,values:Xt(s)}),le)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?J&&b():J||b()),De&&p.state.next({name:A,...ae?{}:we});if(!J&&ae&&p.state.next({...r}),e.resolver){const{errors:Gr}=await S([A]);if(g([A]),X(ve),se){const Tn=eR(r.errors,n,A),cc=eR(Gr,n,Tn.name||A);de=cc.error,A=cc.name,ze=Mr(Gr)}}else g([A],!0),de=(await rR(re,o.disabled,s,m,e.shouldUseNativeValidation))[A],g([A]),X(ve),se&&(de?ze=!1:(h.isValid||f.isValid)&&(ze=await j(n,!0)));se&&(re._f.deps&&(!Array.isArray(re._f.deps)||re._f.deps.length>0)&&W(re._f.deps),N(A,ze,de,we))}},V=($,M)=>{if(ce(r.errors,M)&&$.focus)return $.focus(),1},W=async($,M={})=>{let A,se;const re=Kc($);if(e.resolver){const X=await O($t($)?$:re);A=Mr(X),se=$?!re.some(U=>ce(X,U)):A}else $?(se=(await Promise.all(re.map(async X=>{const U=ce(n,X);return await j(U&&U._f?{[X]:U}:U)}))).every(Boolean),!(!se&&!r.isValid)&&b()):se=A=await j(n);return p.state.next({...!bn($)||(h.isValid||f.isValid)&&A!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:A}:{},errors:r.errors}),M.shouldFocus&&!se&&Gc(n,V,$?re:o.mount),se},z=($,M)=>{let A={...a.mount?s:i};return M&&(A=DK(M.dirtyFields?r.dirtyFields:r.touchedFields,A)),$t($)?A:bn($)?ce(A,$):$.map(se=>ce(A,se))},K=($,M)=>({invalid:!!ce((M||r).errors,$),isDirty:!!ce((M||r).dirtyFields,$),error:ce((M||r).errors,$),isValidating:!!ce(r.validatingFields,$),isTouched:!!ce((M||r).touchedFields,$)}),fe=$=>{$&&Kc($).forEach(M=>Bt(r.errors,M)),p.state.next({errors:$?r.errors:{}})},xe=($,M,A)=>{const se=(ce(n,$,{_f:{}})._f||{}).ref,re=ce(r.errors,$)||{},{ref:X,message:U,type:oe,...de}=re;ct(r.errors,$,{...de,...M,ref:se}),p.state.next({name:$,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&se&&se.focus&&se.focus()},Re=($,M)=>Br($)?p.state.subscribe({next:A=>"values"in A&&$(P(void 0,M),A)}):P($,M,!0),ge=$=>p.state.subscribe({next:M=>{Lse($.name,M.name,$.exact)&&Fse(M,$.formState||h,Lt,$.reRenderRoot)&&$.callback({values:{...s},...r,...M,defaultValues:i})}}).unsubscribe,Ee=$=>(a.mount=!0,f={...f,...$.formState},ge({...$,formState:{...d,...$.formState}})),ke=($,M={})=>{for(const A of $?Kc($):o.mount)o.mount.delete(A),o.array.delete(A),M.keepValue||(Bt(n,A),Bt(s,A)),!M.keepError&&Bt(r.errors,A),!M.keepDirty&&Bt(r.dirtyFields,A),!M.keepTouched&&Bt(r.touchedFields,A),!M.keepIsValidating&&Bt(r.validatingFields,A),!e.shouldUnregister&&!M.keepDefaultValue&&Bt(i,A);p.state.next({values:Xt(s)}),p.state.next({...r,...M.keepDirty?{isDirty:C()}:{}}),!M.keepIsValid&&b()},nt=({disabled:$,name:M})=>{(yn($)&&a.mount||$||o.disabled.has(M))&&($?o.disabled.add(M):o.disabled.delete(M))},rr=($,M={})=>{let A=ce(n,$);const se=yn(M.disabled)||yn(e.disabled);return ct(n,$,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:$}},name:$,mount:!0,...M}}),o.mount.add($),A?nt({disabled:yn(M.disabled)?M.disabled:e.disabled,name:$}):_($,!0,M.value),{...se?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Oc(M.min),max:Oc(M.max),minLength:Oc(M.minLength),maxLength:Oc(M.maxLength),pattern:Oc(M.pattern)}:{},name:$,onChange:L,onBlur:L,ref:re=>{if(re){rr($,M),A=ce(n,$);const X=$t(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,U=Rse(X),oe=A._f.refs||[];if(U?oe.find(de=>de===X):X===A._f.ref)return;ct(n,$,{_f:{...A._f,...U?{refs:[...oe.filter(Cv),X,...Array.isArray(ce(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else A=ce(n,$,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(RK(o.array,$)&&a.action)&&o.unMount.add($)}}},bt=()=>e.shouldFocusError&&Gc(n,V,o.mount),fr=$=>{yn($)&&(p.state.next({disabled:$}),Gc(n,(M,A)=>{const se=ce(n,A);se&&(M.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(re=>{re.disabled=se._f.disabled||$}))},0,!1))},ut=($,M)=>async A=>{let se;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let re=Xt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:U}=await S();g(),r.errors=X,re=Xt(U)}else await j(n);if(o.disabled.size)for(const X of o.disabled)Bt(re,X);if(Bt(r.errors,"root"),Mr(r.errors)){p.state.next({errors:{}});try{await $(re,A)}catch(X){se=X}}else M&&await M({...r.errors},A),bt(),setTimeout(bt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mr(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},Pr=($,M={})=>{ce(n,$)&&($t(M.defaultValue)?H($,Xt(ce(i,$))):(H($,M.defaultValue),ct(i,$,Xt(M.defaultValue))),M.keepTouched||Bt(r.touchedFields,$),M.keepDirty||(Bt(r.dirtyFields,$),r.isDirty=M.defaultValue?C($,Xt(ce(i,$))):C()),M.keepError||(Bt(r.errors,$),h.isValid&&b()),p.state.next({...r}))},Ir=($,M={})=>{const A=$?Xt($):i,se=Xt(A),re=Mr($),X=re?i:se;if(M.keepDefaultValues||(i=A),!M.keepValues){if(M.keepDirtyValues){const U=new Set([...o.mount,...Object.keys(fl(i,s))]);for(const oe of Array.from(U))ce(r.dirtyFields,oe)?ct(X,oe,ce(s,oe)):H(oe,ce(X,oe))}else{if(uC&&$t($))for(const U of o.mount){const oe=ce(n,U);if(oe&&oe._f){const de=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(wp(de)){const ze=de.closest("form");if(ze){ze.reset();break}}}}if(M.keepFieldsRef)for(const U of o.mount)H(U,ce(X,U));else n={}}s=e.shouldUnregister?M.keepDefaultValues?Xt(i):{}:Xt(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:M.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!e.shouldUnregister&&!Mr(X),a.watch=!!e.shouldUnregister,a.keepIsValid=!!M.keepIsValid,a.action=!1,M.keepErrors||(r.errors={}),p.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:re?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!li($,i)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:M.keepDirtyValues?M.keepDefaultValues&&s?fl(i,s):r.dirtyFields:M.keepDefaultValues&&$?fl(i,$):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_r=($,M)=>Ir(Br($)?$(s):$,{...e.resetOptions,...M}),it=($,M={})=>{const A=ce(n,$),se=A&&A._f;if(se){const re=se.refs?se.refs[0]:se.ref;re.focus&&setTimeout(()=>{re.focus(),M.shouldSelect&&Br(re.select)&&re.select()})}},Lt=$=>{r={...r,...$}},$r={control:{register:rr,unregister:ke,getFieldState:K,handleSubmit:ut,setError:xe,_subscribe:ge,_runSchema:S,_updateIsValidating:g,_focusError:bt,_getWatch:P,_getDirty:C,_setValid:b,_setFieldArray:v,_setDisabledField:nt,_setErrors:x,_getFieldArray:D,_reset:Ir,_resetDefaultValues:()=>Br(e.defaultValues)&&e.defaultValues().then($=>{_r($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:fr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ee,trigger:W,register:rr,handleSubmit:ut,watch:Re,setValue:H,getValues:z,reset:_r,resetField:Pr,clearErrors:fe,unregister:ke,setError:xe,setFocus:it,getFieldState:K};return{...$r,formControl:$r}}function Mu(t={}){const e=Pe.useRef(void 0),r=Pe.useRef(void 0),[n,i]=Pe.useState({isDirty:!1,isValidating:!1,isLoading:Br(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Br(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Br(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Hse(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,fC(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Pe.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Pe.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Pe.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Pe.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Pe.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Pe.useEffect(()=>{var a;t.values&&!li(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Pe.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=kK(n,s),e.current}function nR(){var v;const{id:t}=ws(),e=dn(),[r]=Vj(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=Du(t),l=Gie(),c=eh(),{data:d=[]}=mt({queryKey:["date-types"],queryFn:async()=>(await We.getDateTypes()).data}),h=d.find(w=>w.slug==="birthday"||w.name.toLowerCase()==="birthday"),{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=Mu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});I.useEffect(()=>{var w,x,_,E,N,S,O,j;if(a){const T=(x=(w=a.acf)==null?void 0:w.contact_info)==null?void 0:x.find(P=>P.contact_type==="email"),C=(T==null?void 0:T.contact_value)||"";m({first_name:((_=a.acf)==null?void 0:_.first_name)||"",last_name:((E=a.acf)==null?void 0:E.last_name)||"",nickname:((N=a.acf)==null?void 0:N.nickname)||"",gender:((S=a.acf)==null?void 0:S.gender)||"",email:C,how_we_met:((O=a.acf)==null?void 0:O.how_we_met)||"",is_favorite:((j=a.acf)==null?void 0:j.is_favorite)||!1,birthday:""})}},[a,m]),hn(n&&a?`Edit ${((v=a.title)==null?void 0:v.rendered)||a.title||"person"}`:"New person");const g=async w=>{try{const _=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unnamed Person",E={title:_,status:"publish",acf:{first_name:w.first_name,last_name:w.last_name,nickname:w.nickname,gender:w.gender||null,how_we_met:w.how_we_met,is_favorite:w.is_favorite}};if(!n&&w.email&&(E.acf.contact_info=[{contact_type:"email",contact_value:w.email,contact_label:""}]),n)E.title=_,await c.mutateAsync({id:t,data:E}),e(`/people/${t}`);else{const S=(await l.mutateAsync(E)).data.id;if(w.email)try{await $e.sideloadGravatar(S,w.email)}catch(O){console.error("Failed to load Gravatar:",O)}if(w.birthday&&h)try{const O=w.first_name||"Person";await We.createDate({title:`${O}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:w.birthday,is_recurring:!0,related_people:[S],reminder_days_before:7}})}catch(O){console.error("Failed to create birthday:",O)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${S}`:`/people/${S}`)}}catch(x){console.error("Failed to save person:",x)}};return n&&o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?u.jsxs(he,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):u.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"First name *"}),u.jsx("input",{...f("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),y.first_name&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.first_name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Last name"}),u.jsx("input",{...f("last_name"),className:"input",placeholder:"Doe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nickname"}),u.jsx("input",{...f("nickname"),className:"input",placeholder:"Johnny"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Gender"}),u.jsxs("select",{...f("gender"),className:"input",children:[u.jsx("option",{value:"",children:"Select gender..."}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"}),u.jsx("option",{value:"non_binary",children:"Non-binary"}),u.jsx("option",{value:"other",children:"Other"}),u.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",...f("email"),className:"input",placeholder:"john@example.com"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Birthday"}),u.jsx("input",{type:"date",...f("birthday"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"How we met"}),u.jsx("textarea",{...f("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...f("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?u.jsx(he,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):u.jsx(he,{to:"/people",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ba,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function Vse({value:t,onChange:e,companies:r,isLoading:n}){return u.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[u.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return u.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function iR(){var v,w;const{personId:t,index:e}=ws(),r=dn();st();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Du(t),o=eh(),{data:l=[],isLoading:c}=mt({queryKey:["companies","all"],queryFn:async()=>(await We.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=Mu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});I.useEffect(()=>{var x;if(s&&i){const E=(((x=s.acf)==null?void 0:x.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),hn(i?`Edit work history - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async x=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],N={company:x.company||null,job_title:x.job_title||"",description:x.description||"",start_date:x.start_date||"",end_date:x.end_date||"",is_current:x.is_current||!1};i?E[n]=N:E.push(N);const S=Ka(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),u.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization"}),u.jsx(xp,{name:"company",control:m,render:({field:x})=>u.jsx(Vse,{value:x.value,onChange:x.onChange,companies:l,isLoading:c})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Job title"}),u.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Description"}),u.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Start date"}),u.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"End date"}),u.jsx("input",{type:"date",...d("end_date"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ba,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const Kse=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function sR(){var y,b;const{personId:t,index:e}=ws(),r=dn(),n=st(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Du(t),l=eh(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Mu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});I.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),hn(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((b=a==null?void 0:a.title)==null?void 0:b.rendered)||(a==null?void 0:a.title)||"person"}`);const m=async g=>{var v,w,x,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],N={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=N:E.push(N);const S=Ka(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(x=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:x[0])==null?void 0:_.source_url)||a.thumbnail))try{await $e.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(j){console.log("No Gravatar found or failed to load:",j)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),u.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contact type *"}),u.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),Kse.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Value *"}),u.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ba,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Gse({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=I.useState(""),[o,l]=I.useState(!1),c=I.useRef(null),d=I.useRef(null),h=I.useMemo(()=>r.filter(v=>v.id!==i).sort((v,w)=>{var E,N;const x=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(w.first_name||((N=w.acf)==null?void 0:N.first_name)||"").toLowerCase();return x<_?-1:x>_?1:0}),[r,i]),f=I.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,N;const w=fo(v).toLowerCase(),x=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((N=v.acf)==null?void 0:N.last_name)||"").toLowerCase();return w.includes(g)||x.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=I.useMemo(()=>h.find(g=>g.id===t),[h,t]);I.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&c.current&&!c.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?fo(p):"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:p&&!o?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[u.jsx("span",{children:b}),u.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&u.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>u.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:fo(g)},g.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function aR(){var E,N;const{personId:t,index:e}=ws(),r=dn(),[n]=Vj(),i=st(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:l}=Du(t),c=eh(),{data:d=[],isLoading:h}=ku(),{data:f=[],isLoading:p}=mt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),{register:m,handleSubmit:y,reset:b,control:g,setValue:v,formState:{errors:w,isSubmitting:x}}=Mu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});I.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const O=parseInt(S,10);if(!isNaN(O))if(d.some(T=>T.id===O)){v("related_person",O);const T=new URLSearchParams(n);T.delete("newPersonId"),r({search:T.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:C=[]}=await i.refetchQueries({queryKey:["people"]});C.some(F=>F.id===O)&&v("related_person",O);const D=new URLSearchParams(n);D.delete("newPersonId"),r({search:D.toString()},{replace:!0})}catch(C){console.error("Failed to load new person:",C);const P=new URLSearchParams(n);P.delete("newPersonId"),r({search:P.toString()},{replace:!0})}})()}},[n,a,h,d,v,r,i]),I.useEffect(()=>{var S;if(o&&a){const j=(((S=o.acf)==null?void 0:S.relationships)||[])[s];j&&b({related_person:j.related_person||null,relationship_type:j.relationship_type?String(j.relationship_type):"",relationship_label:j.relationship_label||""})}},[o,s,a,b]),hn(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((N=o==null?void 0:o.title)==null?void 0:N.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var O;try{const j=[...((O=o.acf)==null?void 0:O.relationships)||[]],T={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?j[s]=T:j.push(T);const C=Ka(o.acf,{relationships:j});await c.mutateAsync({id:t,data:{acf:C}}),r(`/people/${t}`)}catch(j){console.error("Failed to save relationship:",j)}};return l?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),u.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related person *"}),u.jsx(xp,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>u.jsx(Gse,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&u.jsx("div",{className:"mt-2",children:u.jsxs(he,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[u.jsx(Zt,{className:"w-4 h-4"}),"Add new person"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Relationship type"}),u.jsxs("select",{...m("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[u.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Custom label"}),u.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ba,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Yse({company:t}){var e,r,n,i,s;return u.jsx(he,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?u.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:ts(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(ms,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:ts(t)}),((i=t.acf)==null?void 0:i.industry)&&u.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&u.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function Qse(){const[t,e]=I.useState(""),{data:r,isLoading:n,error:i}=mt({queryKey:["companies",t],queryFn:async()=>(await We.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=I.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(c)}):[],[r]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(aK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),u.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ms,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&u.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>u.jsx(Yse,{company:a},a.id))})]})}function Xse(){var d,h,f,p,m,y;const{id:t}=ws(),e=dn(),r=st(),{data:n,isLoading:i,error:s}=mt({queryKey:["company",t],queryFn:async()=>(await We.getCompany(t,{_embed:!0})).data}),{data:a}=mt({queryKey:["company-people",t],queryFn:async()=>(await $e.getCompanyPeople(t)).data}),o=Ge({mutationFn:()=>We.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});hn(ts(n)||"Organization"),I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await o.mutateAsync()}catch(b){console.error("Failed to delete company:",b),alert("Failed to delete organization. Please try again.")}};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),u.jsx(he,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const c=n.acf||{};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(he,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[u.jsx(cK,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsxs("button",{onClick:l,className:"btn-danger",children:[u.jsx(qn,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?u.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:ts(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(ms,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:ts(n)}),c.industry&&u.jsx("p",{className:"text-gray-500",children:c.industry}),c.website&&u.jsxs("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[u.jsx(kf,{className:"w-4 h-4 mr-1"}),c.website]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?u.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return u.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?u.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?u.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return u.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?u.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=c.contact_info)==null?void 0:y.length)>0&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),u.jsx("div",{className:"space-y-3",children:c.contact_info.map((b,g)=>u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),u.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function oR(){var v,w,x,_,E,N;const{id:t}=ws(),e=dn(),r=st(),n=!!t,{data:i,isLoading:s}=mt({queryKey:["company",t],queryFn:async()=>(await We.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=I.useState(!1),l=I.useRef(null),c=Ge({mutationFn:S=>We.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Ge({mutationFn:S=>We.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var j;const O=(j=S.target.files)==null?void 0:j[0];if(O){if(!O.type.startsWith("image/")){alert("Please select an image file");return}if(O.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await $e.uploadCompanyLogo(t,O),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(T){console.error("Failed to upload logo:",T),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=Mu();I.useEffect(()=>{var S,O,j;i&&m({title:ui(((S=i.title)==null?void 0:S.rendered)||""),website:((O=i.acf)==null?void 0:O.website)||"",industry:((j=i.acf)==null?void 0:j.industry)||""})},[i,m]),hn(n&&i?`Edit ${ts(i)||"organization"}`:"New organization");const g=async S=>{const O={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(O):c.mutate(O)};return n&&s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Logo"}),u.jsxs("div",{className:"flex items-center gap-4",children:[(x=(w=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:w[0])!=null&&x.source_url?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:ts(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx($f,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:u.jsx($f,{className:"w-8 h-8 text-gray-400"})}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx($f,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(N=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&N.source_url?"Change logo":"Upload logo"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),u.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization name *"}),u.jsx("input",{...f("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Website"}),u.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Industry"}),u.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:"/companies",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[u.jsx(ba,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function Jse({person:t,dateType:e}){var r;return u.jsx("div",{className:"flex items-center gap-3 py-2",children:u.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),u.jsx("span",{className:"font-medium truncate",children:t.name}),u.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Zse({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),u.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:u.jsx("span",{className:"text-2xl font-bold leading-none",children:en(new Date(e.next_occurrence),"d")})}),u.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>u.jsx(Jse,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function eae(){const{data:t,isLoading:e,error:r}=Qre(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=en(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=en(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),u.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx(ho,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),u.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),u.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>u.jsx(Zse,{dates:o},o[0].next_occurrence))})]},s))]})}function tae({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=I.useState(""),a=I.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>fo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=I.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return u.jsxs("div",{className:"space-y-2",children:[o.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[fo(d),u.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:u.jsx(Hn,{className:"w-3 h-3"})})]},d.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>u.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:fo(d)},d.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function lR(){var V;const{id:t}=ws(),[e]=Vj(),r=dn(),n=st(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=mt({queryKey:["important-date",t],queryFn:async()=>(await We.getDate(t)).data,enabled:i}),c=I.useMemo(()=>{var z;if(!((z=o==null?void 0:o.acf)!=null&&z.related_people))return[];const W=o.acf.related_people;return Array.isArray(W)?W.map(K=>parseInt(typeof K=="object"&&K!==null?K.ID||K.id||K.post_id:K,10)).filter(K=>!isNaN(K)&&K>0):[]},[o]),{data:d=[],isLoading:h}=ku({orderby:"title",order:"asc"}),{data:f=[]}=mt({queryKey:["people","specific",c],queryFn:async()=>{const W=c.map(K=>We.getPerson(K,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(W)).filter(Boolean)},enabled:c.length>0}),p=I.useMemo(()=>{const W=new Map;return d.forEach(z=>W.set(z.id,z)),f.forEach(z=>{var fe,xe,Re,ge,Ee,ke,nt,rr,bt,fr,ut,Pr,Ir,_r,it,Lt;const K={...z,id:z.id,name:fo(z),first_name:((fe=z.acf)==null?void 0:fe.first_name)||"",last_name:((xe=z.acf)==null?void 0:xe.last_name)||"",is_favorite:((Re=z.acf)==null?void 0:Re.is_favorite)||!1,thumbnail:((ke=(Ee=(ge=z._embedded)==null?void 0:ge["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:ke.source_url)||((Pr=(ut=(fr=(bt=(rr=(nt=z._embedded)==null?void 0:nt["wp:featuredmedia"])==null?void 0:rr[0])==null?void 0:bt.media_details)==null?void 0:fr.sizes)==null?void 0:ut.thumbnail)==null?void 0:Pr.source_url)||null,labels:((Lt=(it=(_r=(Ir=z._embedded)==null?void 0:Ir["wp:term"])==null?void 0:_r.flat())==null?void 0:it.filter(Rr=>(Rr==null?void 0:Rr.taxonomy)==="person_label"))==null?void 0:Lt.map(Rr=>Rr.name))||[]};W.set(K.id,K)}),Array.from(W.values())},[d,f]),{data:m=[]}=mt({queryKey:["date-types"],queryFn:async()=>((await We.getDateTypes()).data||[]).sort((K,fe)=>{const xe=K.name||"",Re=fe.name||"";return xe.localeCompare(Re)})}),y=Ge({mutationFn:W=>We.createDate(W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=Ge({mutationFn:W=>We.updateDate(t,W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const W=x("related_people");(W==null?void 0:W.length)>0?r(`/people/${W[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:w,watch:x,setValue:_,control:E,formState:{errors:N,isSubmitting:S}}=Mu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),O=x("related_people"),j=x("date_type"),T=x("title");I.useEffect(()=>{var K;if((!T||["'s Birthday","Wedding of "].some(fe=>T.endsWith(fe)||T.startsWith(fe)))&&(O==null?void 0:O.length)>0&&j){const fe=m.find(Ee=>Ee.id===parseInt(j)),xe=(fe==null?void 0:fe.name)||"",Re=((K=fe==null?void 0:fe.slug)==null?void 0:K.toLowerCase())||xe.toLowerCase(),ge=O.map(Ee=>{var nt,rr,bt;const ke=p.find(fr=>fr.id===Ee);return ke?ui(((nt=ke.acf)==null?void 0:nt.first_name)||((bt=(rr=ke.title)==null?void 0:rr.rendered)==null?void 0:bt.split(" ")[0])||""):null}).filter(Boolean);if(ge.length>0&&xe){let Ee;Re==="wedding"?ge.length>=2?Ee=`Wedding of ${ge[0]} & ${ge[1]}`:Ee=`Wedding of ${ge[0]}`:Ee=`${ge[0]}'s ${xe}`,_("title",Ee)}}},[O,j,p,m,_,T]);const[C,P]=I.useState(!1);I.useEffect(()=>{var z,K,fe,xe,Re;if(C&&!i)return;const W=c.length===0||f.length>0;if(o&&p.length>0&&W){let ge=[];const Ee=(z=o.acf)==null?void 0:z.related_people;Ee&&(Array.isArray(Ee)?ge=Ee.map(nt=>parseInt(typeof nt=="object"&&nt!==null?nt.ID||nt.id||nt.post_id:nt,10)).filter(nt=>!isNaN(nt)&&nt>0):typeof Ee=="number"&&(ge=[Ee]));let ke="";((K=o.date_type)==null?void 0:K.length)>0&&(ke=o.date_type[0].toString()),w({title:ui(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((xe=o.acf)==null?void 0:xe.date_value)||"",date_type:ke,related_people:ge,is_recurring:((Re=o.acf)==null?void 0:Re.is_recurring)??!0}),P(!0)}else if(!i&&p.length>0&&m.length>0){const ge={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(ge.related_people=[parseInt(s)]),a){const Ee=m.find(ke=>ke.slug===a||ke.name.toLowerCase()===a.toLowerCase());Ee&&(ge.date_type=Ee.id.toString())}w(ge),P(!0)}},[o,w,i,s,a,m,p,c,f,C]),hn(i&&o?`Edit ${((V=o.title)==null?void 0:V.rendered)||o.title||"date"}`:"New date");const D=async W=>{const z={title:W.title,status:"publish",date_type:W.date_type?[parseInt(W.date_type)]:[],acf:{date_value:W.date_value,related_people:W.related_people,is_recurring:W.is_recurring}};i?b.mutate(z):y.mutate(z)};if(i&&l)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const F=x("related_people"),Q=i&&(F==null?void 0:F.length)>0?F[0]:s,H=Q?`/people/${Q}`:"/dates",L=Q?"Back to person":"Back to dates";return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(he,{to:H,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:L})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),u.jsxs("form",{onSubmit:v(D),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related people"}),u.jsx(xp,{name:"related_people",control:E,render:({field:W})=>u.jsx(tae,{value:W.value,onChange:W.onChange,people:p,isLoading:h})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date type *"}),u.jsx(xp,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:W})=>{const z=W.value?String(W.value):"";return u.jsxs("select",{value:z,onChange:K=>{const fe=K.target.value;W.onChange(fe)},onBlur:W.onBlur,name:W.name,ref:W.ref,className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),m.map(K=>u.jsx("option",{value:String(K.id),children:K.name},K.id))]})}}),N.date_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date *"}),u.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),N.date_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_value.message})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(he,{to:H,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[u.jsx(ba,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function rae(){hn("Todos");const[t,e]=I.useState(!1),[r,n]=I.useState(null),[i,s]=I.useState(!1),{data:a,isLoading:o}=mK(t),l=vK(),c=Xre(),d=y=>{l.mutate({todoId:y.id,data:{content:y.content,due_date:y.due_date,is_completed:!y.is_completed}})},h=async y=>{r&&(await l.mutateAsync({todoId:r.id,data:y}),s(!1),n(null))},f=async y=>{window.confirm("Are you sure you want to delete this todo?")&&await c.mutateAsync(y)};if(o)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const p=(a==null?void 0:a.filter(y=>!y.is_completed))||[],m=(a==null?void 0:a.filter(y=>y.is_completed))||[];return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Todos"}),u.jsx("div",{className:"flex items-center gap-2",children:u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary text-sm flex items-center gap-2 ${t?"bg-primary-50 border-primary-300":""}`,children:[u.jsx(jO,{className:"w-4 h-4"}),t?"Hide completed":"Show completed"]})})]}),u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(pu,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos (",p.length,")"]})}),p.length>0?u.jsx("div",{className:"divide-y divide-gray-100",children:p.map(y=>u.jsx(uR,{todo:y,onToggle:d,onEdit:b=>{n(b),s(!0)},onDelete:f},y.id))}):u.jsxs("div",{className:"p-8 text-center",children:[u.jsx(ua,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),u.jsx("p",{className:"text-gray-500",children:"No open todos"}),u.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create todos from a person's detail page"})]})]}),t&&m.length>0&&u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(ua,{className:"w-5 h-5 mr-2 text-primary-600"}),"Completed todos (",m.length,")"]})}),u.jsx("div",{className:"divide-y divide-gray-100",children:m.map(y=>u.jsx(uR,{todo:y,onToggle:d,onEdit:b=>{n(b),s(!0)},onDelete:f},y.id))})]}),u.jsx(TK,{isOpen:i,onClose:()=>{s(!1),n(null)},onSubmit:h,isLoading:l.isPending,todo:r})]})}function uR({todo:t,onToggle:e,onEdit:r,onDelete:n}){var s;const i=Zd(t);return u.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 transition-colors group",children:[u.jsx("button",{onClick:()=>e(t),className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?u.jsx(ua,{className:"w-5 h-5 text-primary-600"}):u.jsx(pu,{className:`w-5 h-5 ${i?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${t.is_completed?"line-through text-gray-400":i?"text-red-600 font-medium":"text-gray-900"}`,children:t.content}),u.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[u.jsxs(he,{to:`/people/${t.person_id}`,className:"flex items-center gap-2 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[t.person_thumbnail?u.jsx("img",{src:t.person_thumbnail,alt:t.person_name,className:"w-5 h-5 rounded-full object-cover"}):u.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:(s=t.person_name)==null?void 0:s[0]})}),t.person_name]}),t.due_date&&u.jsxs("span",{className:`text-xs ${i&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",en(new Date(t.due_date),"MMM d, yyyy"),i&&!t.is_completed&&" (overdue)"]})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>r(t),className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:u.jsx(Ba,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>n(t.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:u.jsx(qn,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})}function nae(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=I.useState(""),[i,s]=I.useState(""),[a,o]=I.useState(!0),[l,c]=I.useState(!1),[d,h]=I.useState(!1),[f,p]=I.useState([]),[m,y]=I.useState(""),[b,g]=I.useState(!1),[v,w]=I.useState(""),[x,_]=I.useState("09:00"),[E,N]=I.useState(!0),[S,O]=I.useState(!1),[j,T]=I.useState(!1),[C,P]=I.useState(!1),[D,F]=I.useState(""),[Q,H]=I.useState(!1),[L,V]=I.useState([]),[W,z]=I.useState([]),[K,fe]=I.useState([]),[xe,Re]=I.useState(!1),[ge,Ee]=I.useState(!1),[ke,nt]=I.useState(!1),[rr,bt]=I.useState(""),[fr,ut]=I.useState(!1),[Pr,Ir]=I.useState("");I.useEffect(()=>{(async()=>{try{const oe=await ue.get("/prm/v1/user/ical-url");n(oe.data.url),s(oe.data.webcal_url)}catch(oe){console.error("Failed to fetch iCal URL:",oe)}finally{o(!1)}})()},[]);const _r=async()=>{Re(!0);try{const[U,oe]=await Promise.all([$e.getSlackChannels(),$e.getSlackTargets()]);V(U.data.channels||[]),z(U.data.users||[]),fe(oe.data.targets||[])}catch(U){console.error("Failed to fetch Slack data:",U),F("Failed to load Slack channels and users. Please try refreshing the page.")}finally{Re(!1)}};I.useEffect(()=>{(async()=>{try{const oe=await $e.getNotificationChannels();p(oe.data.channels||["email"]),y(oe.data.slack_webhook||""),_(oe.data.notification_time||"09:00");const de=await $e.getSlackStatus(),ze=de.data.connected||!1;g(ze),w(de.data.workspace_name||""),ze&&await _r()}catch(oe){console.error("Failed to fetch notification channels:",oe)}finally{N(!1)}})()},[]),I.useEffect(()=>{b&&_r()},[b]),I.useEffect(()=>{const U=new URLSearchParams(window.location.search),oe=U.get("slack_connected"),de=U.get("slack_error");oe==="1"?(F("Slack connected successfully!"),$e.getSlackStatus().then(ze=>{g(ze.data.connected||!1),w(ze.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):de&&(F(`Slack connection failed: ${de}`),window.history.replaceState({},"",window.location.pathname))},[]);const it=async()=>{var U,oe;try{const de=await ue.get("/prm/v1/slack/oauth/authorize");window.location.href=de.data.oauth_url}catch(de){console.error("Failed to get Slack OAuth URL:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to connect Slack")}},Lt=async()=>{var U,oe;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){H(!0);try{await $e.disconnectSlack(),g(!1),w(""),V([]),z([]),fe([]),F("Slack disconnected successfully"),f.includes("slack")&&await A("slack")}catch(de){console.error("Failed to disconnect Slack:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to disconnect Slack")}finally{H(!1)}}},Rr=U=>{const oe=K.includes(U)?K.filter(de=>de!==U):[...K,U];fe(oe)},$r=async()=>{var U,oe;Ee(!0);try{await $e.updateSlackTargets(K),F("Notification targets saved successfully"),setTimeout(()=>F(""),3e3)}catch(de){console.error("Failed to save Slack targets:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to save notification targets")}finally{Ee(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(U){console.error("Failed to copy:",U)}},M=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const U=await ue.post("/prm/v1/user/regenerate-ical-token");n(U.data.url),s(U.data.webcal_url)}catch(U){console.error("Failed to regenerate token:",U)}finally{h(!1)}}},A=async U=>{var de,ze;const oe=f.includes(U)?f.filter(ve=>ve!==U):[...f,U];O(!0);try{await $e.updateNotificationChannels(oe),p(oe)}catch(ve){console.error("Failed to update notification channels:",ve),alert(((ze=(de=ve.response)==null?void 0:de.data)==null?void 0:ze.message)||"Failed to update notification channels")}finally{O(!1)}},se=async U=>{var ae,we;const[oe,de]=U.split(":").map(Number),ze=Math.round(de/5)*5,ve=ze===60?(oe+1)%24:oe,J=ze===60?0:ze,le=`${String(ve).padStart(2,"0")}:${String(J).padStart(2,"0")}`;_(le),P(!0);try{await $e.updateNotificationTime(le)}catch(De){console.error("Failed to update notification time:",De),alert(((we=(ae=De.response)==null?void 0:ae.data)==null?void 0:we.message)||"Failed to update notification time");const Gr=await $e.getNotificationChannels();_(Gr.data.notification_time||"09:00")}finally{P(!1)}},re=async()=>{var U,oe;if(confirm("This will send reminder emails for all reminders due today. Continue?")){nt(!0),bt("");try{const de=await $e.triggerReminders();bt(de.data.message||"Reminders triggered successfully.")}catch(de){console.error("Failed to trigger reminders:",de),bt(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to trigger reminders. Please check server logs.")}finally{nt(!1)}}},X=async()=>{var U,oe;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){ut(!0),Ir("");try{const de=await $e.rescheduleCronJobs();Ir(de.data.message||"Cron jobs rescheduled successfully.")}catch(de){console.error("Failed to reschedule cron jobs:",de),Ir(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{ut(!1)}}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:U=>U.target.select()}),u.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("a",{href:i,className:"btn-primary",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),u.jsx("button",{onClick:M,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(he,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Import Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),u.jsxs(he,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Export Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Email"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>A("email"),disabled:S,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Slack"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>A("slack"),disabled:S||!b,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsx("div",{children:b?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),v&&u.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",v]})]}),u.jsx("button",{onClick:Lt,disabled:Q,className:"btn-secondary text-sm",children:Q?"Disconnecting...":"Disconnect"})]})}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")||D.includes("disconnected")?"text-green-600":"text-red-600"}`,children:D}),f.includes("slack")&&u.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),xe?u.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):u.jsxs(u.Fragment,{children:[L.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:L.map(U=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(U.id),onChange:()=>Rr(U.id),className:"mr-2 cursor-pointer"}),u.jsx("span",{className:"text-sm",children:U.name})]},U.id))})]}),W.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:W.map(U=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(U.id),onChange:()=>Rr(U.id),className:"mr-2 cursor-pointer"}),u.jsxs("span",{className:"text-sm",children:[U.name,U.is_me&&u.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},U.id))})]}),L.length===0&&W.length===0&&!xe&&u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),u.jsx("button",{onClick:$r,disabled:ge,className:"btn-primary text-sm mt-4",children:ge?"Saving...":"Save targets"})]})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:it,className:"btn-primary w-full",disabled:Q,children:"Connect Slack"}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")?"text-green-600":"text-red-600"}`,children:D}),u.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),m&&!b&&u.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),u.jsx("input",{type:"time",value:x,onChange:U=>se(U.target.value),className:"input",disabled:C,step:"300"}),x&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[u.jsxs("p",{className:"text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"UTC:"})," ",x]}),u.jsxs("p",{className:"text-gray-700 mt-1",children:[u.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[U,oe]=x.split(":"),de=new Date;return de.setUTCHours(parseInt(U),parseInt(oe),0,0),de.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return x}})()]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(he,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Relationship Types"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),u.jsxs(he,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"User Approval"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),u.jsxs("button",{onClick:re,disabled:ke,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Trigger reminders"}),u.jsx("p",{className:"text-sm text-gray-500",children:ke?"Sending...":"Manually send reminders for today"}),rr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:rr})]}),u.jsxs("button",{onClick:X,disabled:fr,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),u.jsx("p",{className:"text-sm text-gray-500",children:fr?"Rescheduling...":"Reschedule all user reminder cron jobs"}),Pr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:Pr})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[gu," v",t.version||"1.0.0",u.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function cR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=I.useState(""),[a,o]=I.useState(!1),l=I.useRef(null),c=I.useRef(null),d=I.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return v<w?-1:v>w?1:0}),[r]),h=I.useMemo(()=>{if(!i)return d.slice(0,10);const b=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[d,i]),f=I.useMemo(()=>d.find(b=>b.id===parseInt(t,10)),[d,t]);I.useEffect(()=>{const b=g=>{c.current&&!c.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:f&&!a?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[u.jsx("span",{children:y}),u.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(Hn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&u.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:u.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>u.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function iae(){hn("Relationship Types - Settings");const t=st();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(lK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),u.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=mt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),[s,a]=I.useState(null),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState(""),[p,m]=I.useState(""),[y,b]=I.useState(!1),g=Ge({mutationFn:async({id:T,name:C,inverseId:P})=>{const D={name:C};return P&&(D.acf={inverse_relationship_type:parseInt(P,10)}),We.updateRelationshipType(T,D)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Ge({mutationFn:async({name:T,inverseId:C})=>{const P={name:T};return C&&(P.acf={inverse_relationship_type:parseInt(C,10)}),We.createRelationshipType(P)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),w=Ge({mutationFn:T=>We.deleteRelationshipType(T),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),x=Ge({mutationFn:()=>We.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return u.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&x.mutate()},disabled:x.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[x.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):u.jsx(sK,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=T=>{var P;a(T.id),l(T.name);const C=(P=T.acf)==null?void 0:P.inverse_relationship_type;d(C?C.toString():"")},N=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},O=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},j=(T,C)=>{window.confirm(`Are you sure you want to delete "${C}"? This cannot be undone.`)&&w.mutate(T)};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),u.jsx("div",{className:"flex gap-2",children:!y&&u.jsxs(u.Fragment,{children:[u.jsx(_,{}),u.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[u.jsx(Zt,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:h,onChange:T=>f(T.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(cR,{value:p,onChange:m,relationshipTypes:n}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:O,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(ba,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(T=>{var Q,H;const C=s===T.id,P=(Q=T.acf)==null?void 0:Q.inverse_relationship_type,D=typeof P=="object"&&(P!=null&&P.ID)?P.ID:typeof P=="object"&&(P!=null&&P.id)?P.id:P,F=D?n.find(L=>L.id===D):null;return u.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:C?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(cR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:T.id}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(ba,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2",children:[u.jsx(Hn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:T.name}),F&&u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",u.jsx("span",{className:"font-medium",children:F.name})]}),!F&&((H=T.acf)==null?void 0:H.inverse_relationship_type)===null&&u.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>E(T),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:u.jsx(zre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>j(T.id,T.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(qn,{className:"w-4 h-4"})})]})]})},T.id)})})]})})}function sae(){var g,v,w;const[t,e]=I.useState(null),[r,n]=I.useState(""),[i,s]=I.useState(!1),[a,o]=I.useState(null),l=st(),c=Ge({mutationFn:async x=>{const _=new FormData;return _.append("file",x),(await ue.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:x=>{o(x)},onError:x=>{var _,E;o({valid:!1,error:((E=(_=x.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Ge({mutationFn:async({file:x,monicaUrl:_})=>{const E=new FormData;return E.append("file",x),E.append("monica_url",_),(await ue.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(x=>{x.preventDefault(),x.stopPropagation(),x.type==="dragenter"||x.type==="dragover"?s(!0):x.type==="dragleave"&&s(!1)},[]),f=I.useCallback(x=>{x.preventDefault(),x.stopPropagation(),s(!1),x.dataTransfer.files&&x.dataTransfer.files[0]&&m(x.dataTransfer.files[0])},[]),p=x=>{x.target.files&&x.target.files[0]&&m(x.target.files[0])},m=x=>{if(!x.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(x),o(null),d.reset(),c.mutate(x)},y=()=>{if(!r.trim()){o(x=>({...x,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(fu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),u.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((x,_)=>u.jsx("li",{children:x},_))})]})]}),u.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Co,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(am,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(vu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&u.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(fu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[u.jsxs("p",{children:["Export format: ",a.version]}),u.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),u.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),u.jsxs("p",{children:["Notes: ",a.summary.notes]}),u.jsxs("p",{children:["Dates: ",a.summary.reminders]}),u.jsxs("p",{children:["Photos: ",a.summary.photos]}),u.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(iK,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",id:"monica-url",value:r,onChange:x=>n(x.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&u.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),u.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Co,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(vu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(v=d.error.response)==null?void 0:v.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function aae(){var y,b,g;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),a=st(),o=Ge({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ue.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var w,x;s({valid:!1,error:((x=(w=v.response)==null?void 0:w.data)==null?void 0:x.message)||"Failed to validate file"})}}),l=Ge({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ue.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const w=v.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(fu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",l.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,w)=>u.jsx("li",{children:v},w))})]})]}),u.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[u.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Co,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(am,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(vu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(fu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(tK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(nK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(dK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Co,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(vu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function oae(){var x,_,E;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),[a,o]=I.useState({}),l=st(),c=Ge({mutationFn:async N=>{const S=new FormData;return S.append("file",N),(await ue.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:N=>{var S;if(s(N),((S=N.duplicates)==null?void 0:S.length)>0){const O={};N.duplicates.forEach(j=>{O[j.index]="merge"}),o(O)}},onError:N=>{var S,O;s({valid:!1,error:((O=(S=N.response)==null?void 0:S.data)==null?void 0:O.message)||"Failed to validate file"})}}),d=Ge({mutationFn:async({file:N,decisions:S})=>{const O=new FormData;return O.append("file",N),O.append("decisions",JSON.stringify(S)),(await ue.post("/prm/v1/import/google-contacts",O,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?n(!0):N.type==="dragleave"&&n(!1)},[]),f=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),n(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&m(N.dataTransfer.files[0])},[]),p=N=>{N.target.files&&N.target.files[0]&&m(N.target.files[0])},m=N=>{if(!N.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(N),s(null),o({}),d.reset(),c.mutate(N)},y=(N,S)=>{o(O=>({...O,[N]:S}))},b=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],w=v.length>0;return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),u.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[u.jsxs("li",{children:["Go to ",u.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),u.jsx("li",{children:'Click "Export" in the left sidebar'}),u.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(fu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((x=d.data.stats.errors)==null?void 0:x.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((N,S)=>u.jsx("li",{children:N},S))})]})]}),u.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(Co,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(sC,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(vu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(fu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(tK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(dK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(nK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&u.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Tre,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),u.jsx("div",{className:"mt-4 space-y-4",children:v.map(N=>u.jsx(lae,{duplicate:N,decision:a[N.index]||"merge",onDecision:S=>y(N.index,S)},N.index))})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(Co,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(vu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(ya,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function lae({duplicate:t,decision:e,onDecision:r}){var n,i;return u.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),u.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),u.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?u.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Ure,{className:"h-4 w-4"}),"Update existing"]}),u.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Hre,{className:"h-4 w-4"}),"Create new"]}),u.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Wre,{className:"h-4 w-4"}),"Skip"]})]})]})}const dR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:am,component:aae},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:sC,component:oae},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:kre,component:sae}];function uae(){var n;hn("Import - Settings");const[t,e]=I.useState("vcard"),r=(n=dR.find(i=>i.id===t))==null?void 0:n.component;return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(Sn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),u.jsx("div",{className:"border-b border-gray-200 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:dR.map(i=>{const s=i.icon,a=t===i.id;return u.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),u.jsxs("div",{className:"text-left",children:[u.jsx("span",{className:"block",children:i.name}),u.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&u.jsx(r,{})]})]})}function cae(){hn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(Sn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(am,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),u.jsx(OO,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(sC,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),u.jsx(OO,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function dae(){hn("User Approval - Settings");const t=st();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(lK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),u.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=mt({queryKey:["users"],queryFn:async()=>(await $e.getUsers()).data}),s=Ge({mutationFn:p=>$e.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Ge({mutationFn:p=>$e.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=Ge({mutationFn:p=>$e.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),l=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,m)=>{window.confirm(`Are you sure you want to delete ${m}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(Co,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(Sn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),u.jsxs("div",{className:"space-y-6",children:[h.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),u.jsx("div",{className:"space-y-3",children:h.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:p.name}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>l(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[u.jsx(kI,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(MI,{className:"w-4 h-4"}),"Deny"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(qn,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),u.jsx("div",{className:"space-y-3",children:f.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,u.jsx(kI,{className:"w-4 h-4 text-green-600"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(MI,{className:"w-4 h-4"}),"Revoke Access"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(qn,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&u.jsx("div",{className:"card p-8 text-center",children:u.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var hR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Tv={exports:{}},fR={},jc,pR;function Kt(){if(pR)return jc;pR=1;var t=function(e){return e&&e.Math===Math&&e};return jc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof hR=="object"&&hR)||t(typeof jc=="object"&&jc)||function(){return this}()||Function("return this")(),jc}var Pv,mR;function tt(){return mR||(mR=1,Pv=function(t){try{return!!t()}catch{return!0}}),Pv}var Iv,vR;function rh(){if(vR)return Iv;vR=1;var t=tt();return Iv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Iv}var Rv,gR;function um(){if(gR)return Rv;gR=1;var t=rh(),e=Function.prototype,r=e.apply,n=e.call;return Rv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Rv}var $v,yR;function lt(){if(yR)return $v;yR=1;var t=rh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return $v=t?n:function(i){return function(){return r.apply(i,arguments)}},$v}var kv,bR;function _s(){if(bR)return kv;bR=1;var t=lt(),e=t({}.toString),r=t("".slice);return kv=function(n){return r(e(n),8,-1)},kv}var Dv,xR;function BK(){if(xR)return Dv;xR=1;var t=_s(),e=lt();return Dv=function(r){if(t(r)==="Function")return e(r)},Dv}var Mv,wR;function or(){if(wR)return Mv;wR=1;var t=typeof document=="object"&&document.all;return Mv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Mv}var qv={},Av,_R;function Gt(){if(_R)return Av;_R=1;var t=tt();return Av=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Av}var Fv,SR;function fn(){if(SR)return Fv;SR=1;var t=rh(),e=Function.prototype.call;return Fv=t?e.bind(e):function(){return e.apply(e,arguments)},Fv}var Lv={},ER;function vC(){if(ER)return Lv;ER=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Lv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Lv}var Bv,NR;function nh(){return NR||(NR=1,Bv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Bv}var zv,OR;function cm(){if(OR)return zv;OR=1;var t=lt(),e=tt(),r=_s(),n=Object,i=t("".split);return zv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,zv}var Uv,jR;function ih(){return jR||(jR=1,Uv=function(t){return t==null}),Uv}var Wv,CR;function Bo(){if(CR)return Wv;CR=1;var t=ih(),e=TypeError;return Wv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Wv}var Hv,TR;function Mi(){if(TR)return Hv;TR=1;var t=cm(),e=Bo();return Hv=function(r){return t(e(r))},Hv}var Vv,PR;function Kr(){if(PR)return Vv;PR=1;var t=or();return Vv=function(e){return typeof e=="object"?e!==null:t(e)},Vv}var Kv,IR;function tr(){return IR||(IR=1,Kv={}),Kv}var Gv,RR;function On(){if(RR)return Gv;RR=1;var t=tr(),e=Kt(),r=or(),n=function(i){return r(i)?i:void 0};return Gv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Gv}var Yv,$R;function lr(){if($R)return Yv;$R=1;var t=lt();return Yv=t({}.isPrototypeOf),Yv}var Qv,kR;function qu(){if(kR)return Qv;kR=1;var t=Kt(),e=t.navigator,r=e&&e.userAgent;return Qv=r?String(r):"",Qv}var Xv,DR;function sh(){if(DR)return Xv;DR=1;var t=Kt(),e=qu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Xv=o,Xv}var Jv,MR;function Au(){if(MR)return Jv;MR=1;var t=sh(),e=tt(),r=Kt(),n=r.String;return Jv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),Jv}var Zv,qR;function zK(){if(qR)return Zv;qR=1;var t=Au();return Zv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Zv}var eg,AR;function ah(){if(AR)return eg;AR=1;var t=On(),e=or(),r=lr(),n=zK(),i=Object;return eg=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},eg}var tg,FR;function Fu(){if(FR)return tg;FR=1;var t=String;return tg=function(e){try{return t(e)}catch{return"Object"}},tg}var rg,LR;function Ss(){if(LR)return rg;LR=1;var t=or(),e=Fu(),r=TypeError;return rg=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},rg}var ng,BR;function gC(){if(BR)return ng;BR=1;var t=Ss(),e=ih();return ng=function(r,n){var i=r[n];return e(i)?void 0:t(i)},ng}var ig,zR;function hae(){if(zR)return ig;zR=1;var t=fn(),e=or(),r=Kr(),n=TypeError;return ig=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},ig}var sg={exports:{}},ag,UR;function Lu(){return UR||(UR=1,ag=!0),ag}var og,WR;function fae(){if(WR)return og;WR=1;var t=Kt(),e=Object.defineProperty;return og=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},og}var HR;function yC(){if(HR)return sg.exports;HR=1;var t=Lu(),e=Kt(),r=fae(),n="__core-js_shared__",i=sg.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),sg.exports}var lg,VR;function Bu(){if(VR)return lg;VR=1;var t=yC();return lg=function(e,r){return t[e]||(t[e]=r||{})},lg}var ug,KR;function vi(){if(KR)return ug;KR=1;var t=Bo(),e=Object;return ug=function(r){return e(t(r))},ug}var cg,GR;function ur(){if(GR)return cg;GR=1;var t=lt(),e=vi(),r=t({}.hasOwnProperty);return cg=Object.hasOwn||function(i,s){return r(e(i),s)},cg}var dg,YR;function dm(){if(YR)return dg;YR=1;var t=lt(),e=0,r=Math.random(),n=t(1.1.toString);return dg=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},dg}var hg,QR;function cr(){if(QR)return hg;QR=1;var t=Kt(),e=Bu(),r=ur(),n=dm(),i=Au(),s=zK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return hg=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},hg}var fg,XR;function UK(){if(XR)return fg;XR=1;var t=fn(),e=Kr(),r=ah(),n=gC(),i=hae(),s=cr(),a=TypeError,o=s("toPrimitive");return fg=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},fg}var pg,JR;function bC(){if(JR)return pg;JR=1;var t=UK(),e=ah();return pg=function(r){var n=t(r,"string");return e(n)?n:n+""},pg}var mg,ZR;function WK(){if(ZR)return mg;ZR=1;var t=Kt(),e=Kr(),r=t.document,n=e(r)&&e(r.createElement);return mg=function(i){return n?r.createElement(i):{}},mg}var vg,e$;function HK(){if(e$)return vg;e$=1;var t=Gt(),e=tt(),r=WK();return vg=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),vg}var t$;function hm(){if(t$)return qv;t$=1;var t=Gt(),e=fn(),r=vC(),n=nh(),i=Mi(),s=bC(),a=ur(),o=HK(),l=Object.getOwnPropertyDescriptor;return qv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},qv}var gg,r$;function pae(){if(r$)return gg;r$=1;var t=tt(),e=or(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return gg=n,gg}var yg,n$;function fm(){if(n$)return yg;n$=1;var t=BK(),e=Ss(),r=rh(),n=t(t.bind);return yg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},yg}var bg={},xg,i$;function VK(){if(i$)return xg;i$=1;var t=Gt(),e=tt();return xg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),xg}var wg,s$;function Es(){if(s$)return wg;s$=1;var t=Kr(),e=String,r=TypeError;return wg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},wg}var a$;function Vn(){if(a$)return bg;a$=1;var t=Gt(),e=HK(),r=VK(),n=Es(),i=bC(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return bg.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},bg}var _g,o$;function zu(){if(o$)return _g;o$=1;var t=Gt(),e=Vn(),r=nh();return _g=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},_g}var Sg,l$;function Te(){if(l$)return Sg;l$=1;var t=Kt(),e=um(),r=BK(),n=or(),i=hm().f,s=pae(),a=tr(),o=fm(),l=zu(),c=ur(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Sg=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,x,_,E,N,S,O,j,T,C;for(N in f)x=s(m?N:p+(y?".":"#")+N,h.forced),_=!x&&g&&c(g,N),O=v[N],_&&(h.dontCallGetSet?(C=i(g,N),j=C&&C.value):j=g[N]),S=_&&j?j:f[N],!(!x&&!b&&typeof O==typeof S)&&(h.bind&&_?T=o(S,t):h.wrap&&_?T=d(S):b&&n(S)?T=r(S):T=S,(h.sham||S&&S.sham||O&&O.sham)&&l(T,"sham",!0),l(v,N,T),b&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(x||!w[N])&&l(w,N,S)))},Sg}var u$;function mae(){if(u$)return fR;u$=1;var t=Te(),e=Gt(),r=Vn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),fR}var c$;function vae(){if(c$)return Tv.exports;c$=1,mae();var t=tr(),e=t.Object,r=Tv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Tv.exports}var Eg,d$;function KK(){if(d$)return Eg;d$=1;var t=vae();return Eg=t,Eg}var Ng,h$;function gae(){if(h$)return Ng;h$=1;var t=KK();return Ng=t,Ng}var Og,f$;function yae(){if(f$)return Og;f$=1;var t=gae();return Og=t,Og}var jg,p$;function bae(){return p$||(p$=1,jg=yae()),jg}var xae=bae(),wae=Le(xae),m$={},Cg,v$;function zo(){if(v$)return Cg;v$=1;var t=_s();return Cg=Array.isArray||function(r){return t(r)==="Array"},Cg}var Tg,g$;function _ae(){if(g$)return Tg;g$=1;var t=Math.ceil,e=Math.floor;return Tg=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Tg}var Pg,y$;function Uu(){if(y$)return Pg;y$=1;var t=_ae();return Pg=function(e){var r=+e;return r!==r||r===0?0:t(r)},Pg}var Ig,b$;function GK(){if(b$)return Ig;b$=1;var t=Uu(),e=Math.min;return Ig=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Ig}var Rg,x$;function Oa(){if(x$)return Rg;x$=1;var t=GK();return Rg=function(e){return t(e.length)},Rg}var $g,w$;function YK(){if(w$)return $g;w$=1;var t=TypeError,e=9007199254740991;return $g=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},$g}var kg,_$;function pm(){if(_$)return kg;_$=1;var t=Gt(),e=Vn(),r=nh();return kg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},kg}var Dg,S$;function xC(){if(S$)return Dg;S$=1;var t=cr(),e=t("toStringTag"),r={};return r[e]="z",Dg=String(r)==="[object z]",Dg}var Mg,E$;function ja(){if(E$)return Mg;E$=1;var t=xC(),e=or(),r=_s(),n=cr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return Mg=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Mg}var qg,N$;function Sae(){if(N$)return qg;N$=1;var t=lt(),e=or(),r=yC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),qg=r.inspectSource,qg}var Ag,O$;function QK(){if(O$)return Ag;O$=1;var t=lt(),e=tt(),r=or(),n=ja(),i=On(),s=Sae(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,Ag=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Ag}var Fg,j$;function Eae(){if(j$)return Fg;j$=1;var t=zo(),e=QK(),r=Kr(),n=cr(),i=n("species"),s=Array;return Fg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Fg}var Lg,C$;function wC(){if(C$)return Lg;C$=1;var t=Eae();return Lg=function(e,r){return new(t(e))(r===0?0:r)},Lg}var Bg,T$;function oh(){if(T$)return Bg;T$=1;var t=tt(),e=cr(),r=sh(),n=e("species");return Bg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Bg}var P$;function XK(){if(P$)return m$;P$=1;var t=Te(),e=tt(),r=zo(),n=Kr(),i=vi(),s=Oa(),a=YK(),o=pm(),l=wC(),c=oh(),d=cr(),h=sh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),x=0,_,E,N,S,O;for(_=-1,N=arguments.length;_<N;_++)if(O=_===-1?v:arguments[_],m(O))for(S=s(O),a(x+S),E=0;E<S;E++,x++)E in O&&o(w,x,O[E]);else a(x+1),o(w,x++,O);return w.length=x,w}}),m$}var I$={},R$={},zg,$$;function Ca(){if($$)return zg;$$=1;var t=ja(),e=String;return zg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},zg}var Ug={},Wg,k$;function _C(){if(k$)return Wg;k$=1;var t=Uu(),e=Math.max,r=Math.min;return Wg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Wg}var Hg,D$;function Nae(){if(D$)return Hg;D$=1;var t=Mi(),e=_C(),r=Oa(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Hg={includes:n(!0),indexOf:n(!1)},Hg}var Vg,M$;function lh(){return M$||(M$=1,Vg={}),Vg}var Kg,q$;function JK(){if(q$)return Kg;q$=1;var t=lt(),e=ur(),r=Mi(),n=Nae().indexOf,i=lh(),s=t([].push);return Kg=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Kg}var Gg,A$;function SC(){return A$||(A$=1,Gg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Gg}var Yg,F$;function mm(){if(F$)return Yg;F$=1;var t=JK(),e=SC();return Yg=Object.keys||function(n){return t(n,e)},Yg}var L$;function EC(){if(L$)return Ug;L$=1;var t=Gt(),e=VK(),r=Vn(),n=Es(),i=Mi(),s=mm();return Ug.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Ug}var Qg,B$;function Oae(){if(B$)return Qg;B$=1;var t=On();return Qg=t("document","documentElement"),Qg}var Xg,z$;function vm(){if(z$)return Xg;z$=1;var t=Bu(),e=dm(),r=t("keys");return Xg=function(n){return r[n]||(r[n]=e(n))},Xg}var Jg,U$;function uh(){if(U$)return Jg;U$=1;var t=Es(),e=EC(),r=SC(),n=lh(),i=Oae(),s=WK(),a=vm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",x;return v.style.display="none",i.appendChild(v),v.src=String(w),x=v.contentWindow.document,x.open(),x.write(p("document.F=Object")),x.close(),x.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,Jg=Object.create||function(w,x){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),x===void 0?_:e.f(_,x)},Jg}var Zg={},W$;function gm(){if(W$)return Zg;W$=1;var t=JK(),e=SC(),r=e.concat("length","prototype");return Zg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Zg}var ey={},ty,H$;function Wu(){if(H$)return ty;H$=1;var t=lt();return ty=t([].slice),ty}var V$;function ZK(){if(V$)return ey;V$=1;var t=_s(),e=Mi(),r=gm().f,n=Wu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return ey.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},ey}var ry={},K$;function ym(){return K$||(K$=1,ry.f=Object.getOwnPropertySymbols),ry}var ny,G$;function ch(){if(G$)return ny;G$=1;var t=zu();return ny=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},ny}var iy,Y$;function NC(){if(Y$)return iy;Y$=1;var t=Vn();return iy=function(e,r,n){return t.f(e,r,n)},iy}var sy={},Q$;function bm(){if(Q$)return sy;Q$=1;var t=cr();return sy.f=t,sy}var ay,X$;function jt(){if(X$)return ay;X$=1;var t=tr(),e=ur(),r=bm(),n=Vn().f;return ay=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ay}var oy,J$;function eG(){if(J$)return oy;J$=1;var t=fn(),e=On(),r=cr(),n=ch();return oy=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},oy}var ly,Z$;function jae(){if(Z$)return ly;Z$=1;var t=xC(),e=ja();return ly=t?{}.toString:function(){return"[object "+e(this)+"]"},ly}var uy,ek;function Uo(){if(ek)return uy;ek=1;var t=xC(),e=Vn().f,r=zu(),n=ur(),i=jae(),s=cr(),a=s("toStringTag");return uy=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},uy}var cy,tk;function Cae(){if(tk)return cy;tk=1;var t=Kt(),e=or(),r=t.WeakMap;return cy=e(r)&&/native code/.test(String(r)),cy}var dy,rk;function dh(){if(rk)return dy;rk=1;var t=Cae(),e=Kt(),r=Kr(),n=zu(),i=ur(),s=yC(),a=vm(),o=lh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var x;if(!r(w)||(x=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return x}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,w){if(b.has(v))throw new c(l);return w.facade=v,b.set(v,w),w},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return dy={set:h,get:f,has:p,enforce:m,getterFor:y},dy}var hy,nk;function Hu(){if(nk)return hy;nk=1;var t=fm(),e=lt(),r=cm(),n=vi(),i=Oa(),s=wC(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,w){for(var x=n(b),_=r(x),E=i(_),N=t(g,v),S=0,O=w||s,j=c?O(b,E):d||m?O(b,0):void 0,T,C;E>S;S++)if((y||S in _)&&(T=_[S],C=N(T,S,x),l))if(c)j[S]=C;else if(C)switch(l){case 3:return!0;case 5:return T;case 6:return S;case 2:a(j,T)}else switch(l){case 4:return!1;case 7:a(j,T)}return p?-1:h||f?f:j}};return hy={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},hy}var ik;function Tae(){if(ik)return R$;ik=1;var t=Te(),e=Kt(),r=fn(),n=lt(),i=Lu(),s=Gt(),a=Au(),o=tt(),l=ur(),c=lr(),d=Es(),h=Mi(),f=bC(),p=Ca(),m=nh(),y=uh(),b=mm(),g=gm(),v=ZK(),w=ym(),x=hm(),_=Vn(),E=EC(),N=vC(),S=ch(),O=NC(),j=Bu(),T=vm(),C=lh(),P=dm(),D=cr(),F=bm(),Q=jt(),H=eG(),L=Uo(),V=dh(),W=Hu().forEach,z=T("hidden"),K="Symbol",fe="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[fe],Ee=e.Symbol,ke=Ee&&Ee[fe],nt=e.RangeError,rr=e.TypeError,bt=e.QObject,fr=x.f,ut=_.f,Pr=v.f,Ir=N.f,_r=n([].push),it=j("symbols"),Lt=j("op-symbols"),Rr=j("wks"),$r=!bt||!bt[fe]||!bt[fe].findChild,$=function(ve,J,le){var ae=fr(ge,J);ae&&delete ge[J],ut(ve,J,le),ae&&ve!==ge&&ut(ge,J,ae)},M=s&&o(function(){return y(ut({},"a",{get:function(){return ut(this,"a",{value:7}).a}})).a!==7})?$:ut,A=function(ve,J){var le=it[ve]=y(ke);return xe(le,{type:K,tag:ve,description:J}),s||(le.description=J),le},se=function(J,le,ae){J===ge&&se(Lt,le,ae),d(J);var we=f(le);return d(ae),l(it,we)?(ae.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),ae=y(ae,{enumerable:m(0,!1)})):(l(J,z)||ut(J,z,m(1,y(null))),J[z][we]=!0),M(J,we,ae)):ut(J,we,ae)},re=function(J,le){d(J);var ae=h(le),we=b(ae).concat(ze(ae));return W(we,function(De){(!s||r(U,ae,De))&&se(J,De,ae[De])}),J},X=function(J,le){return le===void 0?y(J):re(y(J),le)},U=function(J){var le=f(J),ae=r(Ir,this,le);return this===ge&&l(it,le)&&!l(Lt,le)?!1:ae||!l(this,le)||!l(it,le)||l(this,z)&&this[z][le]?ae:!0},oe=function(J,le){var ae=h(J),we=f(le);if(!(ae===ge&&l(it,we)&&!l(Lt,we))){var De=fr(ae,we);return De&&l(it,we)&&!(l(ae,z)&&ae[z][we])&&(De.enumerable=!0),De}},de=function(J){var le=Pr(h(J)),ae=[];return W(le,function(we){!l(it,we)&&!l(C,we)&&_r(ae,we)}),ae},ze=function(ve){var J=ve===ge,le=Pr(J?Lt:h(ve)),ae=[];return W(le,function(we){l(it,we)&&(!J||l(ge,we))&&_r(ae,it[we])}),ae};return a||(Ee=function(){if(c(ke,this))throw new rr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=P(J),ae=function(we){var De=this===void 0?e:this;De===ge&&r(ae,Lt,we),l(De,z)&&l(De[z],le)&&(De[z][le]=!1);var Gr=m(1,we);try{M(De,le,Gr)}catch(Tn){if(!(Tn instanceof nt))throw Tn;$(De,le,Gr)}};return s&&$r&&M(ge,le,{configurable:!0,set:ae}),A(le,J)},ke=Ee[fe],S(ke,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(P(ve),ve)}),N.f=U,_.f=se,E.f=re,x.f=oe,g.f=v.f=de,w.f=ze,F.f=function(ve){return A(D(ve),ve)},s&&(O(ke,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",U,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(b(Rr),function(ve){Q(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){$r=!0},useSimple:function(){$r=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),L(Ee,K),C[z]=!0,R$}var sk={},fy,ak;function tG(){if(ak)return fy;ak=1;var t=Au();return fy=t&&!!Symbol.for&&!!Symbol.keyFor,fy}var ok;function Pae(){if(ok)return sk;ok=1;var t=Te(),e=On(),r=ur(),n=Ca(),i=Bu(),s=tG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),sk}var lk={},uk;function Iae(){if(uk)return lk;uk=1;var t=Te(),e=ur(),r=ah(),n=Fu(),i=Bu(),s=tG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),lk}var ck={},py,dk;function Rae(){if(dk)return py;dk=1;var t=lt(),e=zo(),r=or(),n=_s(),i=Ca(),s=t([].push);return py=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},py}var hk;function rG(){if(hk)return ck;hk=1;var t=Te(),e=On(),r=um(),n=fn(),i=lt(),s=tt(),a=or(),o=ah(),l=Wu(),c=Rae(),d=Au(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(O,j){var T=l(arguments),C=c(j);if(!(!a(C)&&(O===void 0||o(O))))return T[1]=function(P,D){if(a(C)&&(D=n(C,this,h(P),D)),!o(D))return D},r(f,null,T)},S=function(O,j,T){var C=m(T,j-1),P=m(T,j+1);return p(w,O)&&!p(x,P)||p(x,O)&&!p(w,C)?"\\u"+g(y(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(j,T,C){var P=l(arguments),D=r(_?N:f,null,P);return E&&typeof D=="string"?b(D,v,S):D}}),ck}var fk={},pk;function $ae(){if(pk)return fk;pk=1;var t=Te(),e=Au(),r=tt(),n=ym(),i=vi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),fk}var mk;function nG(){return mk||(mk=1,Tae(),Pae(),Iae(),rG(),$ae()),I$}var vk={},gk;function iG(){if(gk)return vk;gk=1;var t=jt();return t("asyncDispose"),vk}var yk={},bk;function kae(){if(bk)return yk;bk=1;var t=jt();return t("asyncIterator"),yk}var xk={},wk;function sG(){if(wk)return xk;wk=1;var t=jt();return t("dispose"),xk}var _k={},Sk;function Dae(){if(Sk)return _k;Sk=1;var t=jt();return t("hasInstance"),_k}var Ek={},Nk;function Mae(){if(Nk)return Ek;Nk=1;var t=jt();return t("isConcatSpreadable"),Ek}var Ok={},jk;function aG(){if(jk)return Ok;jk=1;var t=jt();return t("iterator"),Ok}var Ck={},Tk;function qae(){if(Tk)return Ck;Tk=1;var t=jt();return t("match"),Ck}var Pk={},Ik;function Aae(){if(Ik)return Pk;Ik=1;var t=jt();return t("matchAll"),Pk}var Rk={},$k;function Fae(){if($k)return Rk;$k=1;var t=jt();return t("replace"),Rk}var kk={},Dk;function Lae(){if(Dk)return kk;Dk=1;var t=jt();return t("search"),kk}var Mk={},qk;function Bae(){if(qk)return Mk;qk=1;var t=jt();return t("species"),Mk}var Ak={},Fk;function zae(){if(Fk)return Ak;Fk=1;var t=jt();return t("split"),Ak}var Lk={},Bk;function oG(){if(Bk)return Lk;Bk=1;var t=jt(),e=eG();return t("toPrimitive"),e(),Lk}var zk={},Uk;function Uae(){if(Uk)return zk;Uk=1;var t=On(),e=jt(),r=Uo();return e("toStringTag"),r(t("Symbol"),"Symbol"),zk}var Wk={},Hk;function Wae(){if(Hk)return Wk;Hk=1;var t=jt();return t("unscopables"),Wk}var Vk={},Kk;function Hae(){if(Kk)return Vk;Kk=1;var t=Kt(),e=Uo();return e(t.JSON,"JSON",!0),Vk}var my,Gk;function Vae(){if(Gk)return my;Gk=1,XK(),nG(),iG(),kae(),sG(),Dae(),Mae(),aG(),qae(),Aae(),Fae(),Lae(),Bae(),zae(),oG(),Uae(),Wae(),Hae();var t=tr();return my=t.Symbol,my}var Yk={},vy,Qk;function Kae(){return Qk||(Qk=1,vy=function(){}),vy}var gy,Xk;function Vu(){return Xk||(Xk=1,gy={}),gy}var yy,Jk;function Gae(){if(Jk)return yy;Jk=1;var t=Gt(),e=ur(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return yy={EXISTS:i,PROPER:s,CONFIGURABLE:a},yy}var by,Zk;function Yae(){if(Zk)return by;Zk=1;var t=tt();return by=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),by}var xy,eD;function lG(){if(eD)return xy;eD=1;var t=ur(),e=or(),r=vi(),n=vm(),i=Yae(),s=n("IE_PROTO"),a=Object,o=a.prototype;return xy=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},xy}var wy,tD;function uG(){if(tD)return wy;tD=1;var t=tt(),e=or(),r=Kr(),n=uh(),i=lG(),s=ch(),a=cr(),o=Lu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),wy={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},wy}var _y,rD;function Qae(){if(rD)return _y;rD=1;var t=uG().IteratorPrototype,e=uh(),r=nh(),n=Uo(),i=Vu(),s=function(){return this};return _y=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},_y}var Sy,nD;function Xae(){if(nD)return Sy;nD=1;var t=lt(),e=Ss();return Sy=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Sy}var Ey,iD;function Jae(){if(iD)return Ey;iD=1;var t=Kr();return Ey=function(e){return t(e)||e===null},Ey}var Ny,sD;function Zae(){if(sD)return Ny;sD=1;var t=Jae(),e=String,r=TypeError;return Ny=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Ny}var Oy,aD;function eoe(){if(aD)return Oy;aD=1;var t=Xae(),e=Kr(),r=Bo(),n=Zae();return Oy=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Oy}var jy,oD;function OC(){if(oD)return jy;oD=1;var t=Te(),e=fn(),r=Lu(),n=Gae(),i=or(),s=Qae(),a=lG(),o=eoe(),l=Uo(),c=zu(),d=ch(),h=cr(),f=Vu(),p=uG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",x="values",_="entries",E=function(){return this};return jy=function(N,S,O,j,T,C,P){s(O,S,j);var D=function(xe){if(xe===T&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new O(this,xe)};case x:return function(){return new O(this,xe)};case _:return function(){return new O(this,xe)}}return function(){return new O(this)}},F=S+" Iterator",Q=!1,H=N.prototype,L=H[v]||H["@@iterator"]||T&&H[T],V=!g&&L||D(T),W=S==="Array"&&H.entries||L,z,K,fe;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==b&&(o?o(z,b):i(z[v])||d(z,v,E)),l(z,F,!0,!0),r&&(f[F]=E))),m&&T===x&&L&&L.name!==x&&(!r&&y?c(H,"name",x):(Q=!0,V=function(){return e(L,this)})),T)if(K={values:D(x),keys:C?V:D(w),entries:D(_)},P)for(fe in K)(g||Q||!(fe in H))&&d(H,fe,K[fe]);else t({target:S,proto:!0,forced:g||Q},K);return(!r||P)&&H[v]!==V&&d(H,v,V,{name:T}),f[S]=V,K},jy}var Cy,lD;function jC(){return lD||(lD=1,Cy=function(t,e){return{value:t,done:e}}),Cy}var Ty,uD;function Ta(){if(uD)return Ty;uD=1;var t=Mi(),e=Kae(),r=Vu(),n=dh(),i=Vn().f,s=OC(),a=jC(),o=Lu(),l=Gt(),c="Array Iterator",d=n.set,h=n.getterFor(c);Ty=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Ty}var Py,cD;function toe(){return cD||(cD=1,Py={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Py}var dD;function Pa(){if(dD)return Yk;dD=1,Ta();var t=toe(),e=Kt(),r=Uo(),n=Vu();for(var i in t)r(e[i],i),n[i]=n.Array;return Yk}var Iy,hD;function cG(){if(hD)return Iy;hD=1;var t=Vae();return Pa(),Iy=t,Iy}var fD={},pD;function roe(){if(pD)return fD;pD=1;var t=cr(),e=Vn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),fD}var mD={},vD;function noe(){return vD||(vD=1,iG()),mD}var gD={},yD;function ioe(){return yD||(yD=1,sG()),gD}var bD={},xD;function soe(){if(xD)return bD;xD=1;var t=jt();return t("metadata"),bD}var Ry,wD;function aoe(){if(wD)return Ry;wD=1;var t=cG();return roe(),noe(),ioe(),soe(),Ry=t,Ry}var _D={},$y,SD;function dG(){if(SD)return $y;SD=1;var t=On(),e=lt(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return $y=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},$y}var ED;function ooe(){if(ED)return _D;ED=1;var t=Te(),e=dG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),_D}var ND={},ky,OD;function hG(){if(OD)return ky;OD=1;for(var t=Bu(),e=On(),r=lt(),n=ah(),i=cr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return ky=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==b)return!0}catch{}return!1},ky}var jD;function loe(){if(jD)return ND;jD=1;var t=Te(),e=hG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),ND}var CD={},TD;function uoe(){if(TD)return CD;TD=1;var t=jt();return t("customMatcher"),CD}var PD={},ID;function coe(){if(ID)return PD;ID=1;var t=jt();return t("observable"),PD}var RD={},$D;function doe(){if($D)return RD;$D=1;var t=Te(),e=dG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),RD}var kD={},DD;function hoe(){if(DD)return kD;DD=1;var t=Te(),e=hG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),kD}var MD={},qD;function foe(){if(qD)return MD;qD=1;var t=jt();return t("matcher"),MD}var AD={},FD;function poe(){if(FD)return AD;FD=1;var t=jt();return t("metadataKey"),AD}var LD={},BD;function moe(){if(BD)return LD;BD=1;var t=jt();return t("patternMatch"),LD}var zD={},UD;function voe(){if(UD)return zD;UD=1;var t=jt();return t("replaceAll"),zD}var Dy,WD;function goe(){if(WD)return Dy;WD=1;var t=aoe();return ooe(),loe(),uoe(),coe(),doe(),hoe(),foe(),poe(),moe(),voe(),Dy=t,Dy}var My,HD;function yoe(){return HD||(HD=1,My=goe()),My}var boe=yoe(),uf=Le(boe),VD={},qy,KD;function xoe(){if(KD)return qy;KD=1;var t=lt(),e=Uu(),r=Ca(),n=Bo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return qy={codeAt:o(!1),charAt:o(!0)},qy}var GD;function xm(){if(GD)return VD;GD=1;var t=xoe().charAt,e=Ca(),r=dh(),n=OC(),i=jC(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),VD}var Ay,YD;function woe(){if(YD)return Ay;YD=1,Ta(),xm(),aG();var t=bm();return Ay=t.f("iterator"),Ay}var Fy,QD;function fG(){if(QD)return Fy;QD=1;var t=woe();return Pa(),Fy=t,Fy}var Ly,XD;function _oe(){if(XD)return Ly;XD=1;var t=fG();return Ly=t,Ly}var By,JD;function Soe(){if(JD)return By;JD=1;var t=_oe();return By=t,By}var zy,ZD;function Eoe(){return ZD||(ZD=1,zy=Soe()),zy}var Noe=Eoe(),Ooe=Le(Noe);function Sd(t){"@babel/helpers - typeof";return Sd=typeof uf=="function"&&typeof Ooe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof uf=="function"&&e.constructor===uf&&e!==uf.prototype?"symbol":typeof e},Sd(t)}var Uy,eM;function joe(){if(eM)return Uy;eM=1,oG();var t=bm();return Uy=t.f("toPrimitive"),Uy}var Wy,tM;function Coe(){if(tM)return Wy;tM=1;var t=joe();return Wy=t,Wy}var Hy,rM;function Toe(){if(rM)return Hy;rM=1;var t=Coe();return Hy=t,Hy}var Vy,nM;function Poe(){if(nM)return Vy;nM=1;var t=Toe();return Vy=t,Vy}var Ky,iM;function Ioe(){return iM||(iM=1,Ky=Poe()),Ky}var Roe=Ioe(),$oe=Le(Roe);function koe(t,e){if(Sd(t)!="object"||!t)return t;var r=t[$oe];if(r!==void 0){var n=r.call(t,e);if(Sd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Doe(t){var e=koe(t,"string");return Sd(e)=="symbol"?e:e+""}function ca(t,e,r){return(e=Doe(e))in t?wae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var sM={},Gy,aM;function Moe(){if(aM)return Gy;aM=1;var t=lt(),e=Ss(),r=Kr(),n=ur(),i=Wu(),s=rh(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return Gy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},Gy}var oM;function qoe(){if(oM)return sM;oM=1;var t=Te(),e=Moe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),sM}var Yy,lM;function pn(){if(lM)return Yy;lM=1;var t=Kt(),e=tr();return Yy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Yy}var Qy,uM;function Aoe(){if(uM)return Qy;uM=1,qoe();var t=pn();return Qy=t("Function","bind"),Qy}var Xy,cM;function Foe(){if(cM)return Xy;cM=1;var t=lr(),e=Aoe(),r=Function.prototype;return Xy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Xy}var Jy,dM;function Loe(){if(dM)return Jy;dM=1;var t=Foe();return Jy=t,Jy}var Zy,hM;function Boe(){return hM||(hM=1,Zy=Loe()),Zy}var zoe=Boe(),pG=Le(zoe),fM={},e0,pM;function Uoe(){if(pM)return e0;pM=1;var t=Ss(),e=vi(),r=cm(),n=Oa(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=c(h,p[y],y,f));return h}};return e0={left:a(!1),right:a(!0)},e0}var t0,mM;function wm(){if(mM)return t0;mM=1;var t=tt();return t0=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},t0}var r0,vM;function mG(){if(vM)return r0;vM=1;var t=Kt(),e=qu(),r=_s(),n=function(i){return e.slice(0,i.length)===i};return r0=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),r0}var n0,gM;function Woe(){if(gM)return n0;gM=1;var t=mG();return n0=t==="NODE",n0}var yM;function Hoe(){if(yM)return fM;yM=1;var t=Te(),e=Uoe().left,r=wm(),n=sh(),i=Woe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),fM}var i0,bM;function Voe(){if(bM)return i0;bM=1,Hoe();var t=pn();return i0=t("Array","reduce"),i0}var s0,xM;function Koe(){if(xM)return s0;xM=1;var t=lr(),e=Voe(),r=Array.prototype;return s0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},s0}var a0,wM;function Goe(){if(wM)return a0;wM=1;var t=Koe();return a0=t,a0}var o0,_M;function Yoe(){return _M||(_M=1,o0=Goe()),o0}var Qoe=Yoe(),Xoe=Le(Qoe),SM={},EM;function Joe(){if(EM)return SM;EM=1;var t=Te(),e=Hu().filter,r=oh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),SM}var l0,NM;function Zoe(){if(NM)return l0;NM=1,Joe();var t=pn();return l0=t("Array","filter"),l0}var u0,OM;function ele(){if(OM)return u0;OM=1;var t=lr(),e=Zoe(),r=Array.prototype;return u0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},u0}var c0,jM;function tle(){if(jM)return c0;jM=1;var t=ele();return c0=t,c0}var d0,CM;function rle(){return CM||(CM=1,d0=tle()),d0}var nle=rle(),Ol=Le(nle),TM={},PM;function ile(){if(PM)return TM;PM=1;var t=Te(),e=Hu().map,r=oh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),TM}var h0,IM;function sle(){if(IM)return h0;IM=1,ile();var t=pn();return h0=t("Array","map"),h0}var f0,RM;function ale(){if(RM)return f0;RM=1;var t=lr(),e=sle(),r=Array.prototype;return f0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},f0}var p0,$M;function ole(){if($M)return p0;$M=1;var t=ale();return p0=t,p0}var m0,kM;function lle(){return kM||(kM=1,m0=ole()),m0}var ule=lle(),si=Le(ule),v0,DM;function cle(){return DM||(DM=1,v0=cG()),v0}var dle=cle(),hle=Le(dle),MM={},qM;function fle(){if(qM)return MM;qM=1;var t=Te(),e=zo(),r=QK(),n=Kr(),i=_C(),s=Oa(),a=Mi(),o=pm(),l=cr(),c=oh(),d=Wu(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),w=s(v),x=i(b,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,x,_);for(N=new(E===void 0?p:E)(m(_-x,0)),S=0;x<_;x++,S++)x in v&&o(N,S,v[x]);return N.length=S,N}}),MM}var g0,AM;function ple(){if(AM)return g0;AM=1,fle();var t=pn();return g0=t("Array","slice"),g0}var y0,FM;function mle(){if(FM)return y0;FM=1;var t=lr(),e=ple(),r=Array.prototype;return y0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},y0}var b0,LM;function vle(){if(LM)return b0;LM=1;var t=mle();return b0=t,b0}var x0,BM;function gle(){return BM||(BM=1,x0=vle()),x0}var yle=gle(),ble=Le(yle),zM={},w0,UM;function vG(){if(UM)return w0;UM=1;var t=On(),e=lt(),r=gm(),n=ym(),i=Es(),s=e([].concat);return w0=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},w0}var WM;function xle(){if(WM)return zM;WM=1;var t=Te(),e=vG();return t({target:"Reflect",stat:!0},{ownKeys:e}),zM}var _0,HM;function wle(){if(HM)return _0;HM=1,xle();var t=tr();return _0=t.Reflect.ownKeys,_0}var S0,VM;function _le(){if(VM)return S0;VM=1;var t=wle();return S0=t,S0}var E0,KM;function Sle(){return KM||(KM=1,E0=_le()),E0}var Ele=Sle(),Nle=Le(Ele),GM={},YM;function Ole(){if(YM)return GM;YM=1;var t=Te(),e=zo();return t({target:"Array",stat:!0},{isArray:e}),GM}var N0,QM;function jle(){if(QM)return N0;QM=1,Ole();var t=tr();return N0=t.Array.isArray,N0}var O0,XM;function Cle(){if(XM)return O0;XM=1;var t=jle();return O0=t,O0}var j0,JM;function Tle(){return JM||(JM=1,j0=Cle()),j0}var Ple=Tle(),_i=Le(Ple),ZM={},eq;function Ile(){if(eq)return ZM;eq=1;var t=Te(),e=vi(),r=mm(),n=tt(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),ZM}var C0,tq;function Rle(){if(tq)return C0;tq=1,Ile();var t=tr();return C0=t.Object.keys,C0}var T0,rq;function $le(){if(rq)return T0;rq=1;var t=Rle();return T0=t,T0}var P0,nq;function kle(){return nq||(nq=1,P0=$le()),P0}var Dle=kle(),CC=Le(Dle),iq={},I0,sq;function Mle(){if(sq)return I0;sq=1;var t=Hu().forEach,e=wm(),r=e("forEach");return I0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},I0}var aq;function qle(){if(aq)return iq;aq=1;var t=Te(),e=Mle();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),iq}var R0,oq;function Ale(){if(oq)return R0;oq=1,qle();var t=pn();return R0=t("Array","forEach"),R0}var $0,lq;function Fle(){if(lq)return $0;lq=1;var t=Ale();return $0=t,$0}var k0,uq;function Lle(){if(uq)return k0;uq=1;var t=ja(),e=ur(),r=lr(),n=Fle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return k0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},k0}var D0,cq;function Ble(){return cq||(cq=1,D0=Lle()),D0}var zle=Ble(),Po=Le(zle),dq={},hq;function Ule(){if(hq)return dq;hq=1;var t=Te(),e=lt(),r=zo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),dq}var M0,fq;function Wle(){if(fq)return M0;fq=1,Ule();var t=pn();return M0=t("Array","reverse"),M0}var q0,pq;function Hle(){if(pq)return q0;pq=1;var t=lr(),e=Wle(),r=Array.prototype;return q0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},q0}var A0,mq;function Vle(){if(mq)return A0;mq=1;var t=Hle();return A0=t,A0}var F0,vq;function Kle(){return vq||(vq=1,F0=Vle()),F0}var Gle=Kle(),Yle=Le(Gle),gq={},L0,yq;function Qle(){if(yq)return L0;yq=1;var t=Gt(),e=zo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return L0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},L0}var B0,bq;function gG(){if(bq)return B0;bq=1;var t=Fu(),e=TypeError;return B0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},B0}var xq;function Xle(){if(xq)return gq;xq=1;var t=Te(),e=vi(),r=_C(),n=Uu(),i=Oa(),s=Qle(),a=YK(),o=wC(),l=pm(),c=gG(),d=oh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),w=r(y,v),x=arguments.length,_,E,N,S,O,j;for(x===0?_=E=0:x===1?(_=0,E=v-w):(_=x-2,E=p(f(n(b),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)O=w+S,O in g&&l(N,S,g[O]);if(N.length=E,_<E){for(S=w;S<v-E;S++)O=S+E,j=S+_,O in g?g[j]=g[O]:c(g,j);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)O=S+E-1,j=S+_-1,O in g?g[j]=g[O]:c(g,j);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),gq}var z0,wq;function Jle(){if(wq)return z0;wq=1,Xle();var t=pn();return z0=t("Array","splice"),z0}var U0,_q;function Zle(){if(_q)return U0;_q=1;var t=lr(),e=Jle(),r=Array.prototype;return U0=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},U0}var W0,Sq;function eue(){if(Sq)return W0;Sq=1;var t=Zle();return W0=t,W0}var H0,Eq;function tue(){return Eq||(Eq=1,H0=eue()),H0}var rue=tue(),yG=Le(rue),Nq={},V0,Oq;function nue(){if(Oq)return V0;Oq=1;var t=Gt(),e=lt(),r=fn(),n=tt(),i=mm(),s=ym(),a=vC(),o=vi(),l=cm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return V0=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,w=a.f;b>g;)for(var x=l(arguments[g++]),_=v?h(i(x),v(x)):i(x),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,x,S))&&(y[S]=x[S]);return y}:c,V0}var jq;function iue(){if(jq)return Nq;jq=1;var t=Te(),e=nue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Nq}var K0,Cq;function sue(){if(Cq)return K0;Cq=1,iue();var t=tr();return K0=t.Object.assign,K0}var G0,Tq;function aue(){if(Tq)return G0;Tq=1;var t=sue();return G0=t,G0}var Y0,Pq;function oue(){return Pq||(Pq=1,Y0=aue()),Y0}var lue=oue(),uue=Le(lue),Q0,Iq;function cue(){if(Iq)return Q0;Iq=1,XK();var t=pn();return Q0=t("Array","concat"),Q0}var X0,Rq;function due(){if(Rq)return X0;Rq=1;var t=lr(),e=cue(),r=Array.prototype;return X0=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},X0}var J0,$q;function hue(){if($q)return J0;$q=1;var t=due();return J0=t,J0}var Z0,kq;function fue(){return kq||(kq=1,Z0=hue()),Z0}var pue=fue(),mue=Le(pue),Dq={},Mq;function vue(){if(Mq)return Dq;Mq=1;var t=Te(),e=Gt(),r=uh();return t({target:"Object",stat:!0,sham:!e},{create:r}),Dq}var eb,qq;function gue(){if(qq)return eb;qq=1,vue();var t=tr(),e=t.Object;return eb=function(n,i){return e.create(n,i)},eb}var tb,Aq;function yue(){if(Aq)return tb;Aq=1;var t=gue();return tb=t,tb}var rb,Fq;function bue(){return Fq||(Fq=1,rb=yue()),rb}var xue=bue(),wue=Le(xue),Lq={},nb,Bq;function _ue(){if(Bq)return nb;Bq=1;var t=Uu(),e=Ca(),r=Bo(),n=RangeError;return nb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},nb}var ib,zq;function Sue(){if(zq)return ib;zq=1;var t=lt(),e=GK(),r=Ca(),n=_ue(),i=Bo(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return ib={start:l(!1),end:l(!0)},ib}var sb,Uq;function Eue(){if(Uq)return sb;Uq=1;var t=lt(),e=tt(),r=Sue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return sb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),x=v<0?"-":v>9999?"+":"";return x+r(s(v),x?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,sb}var Wq;function Nue(){if(Wq)return Lq;Wq=1;var t=Te(),e=fn(),r=vi(),n=UK(),i=Eue(),s=_s(),a=tt(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),Lq}var ab,Hq;function Oue(){if(Hq)return ab;Hq=1,Nue(),rG();var t=tr(),e=um();return t.JSON||(t.JSON={stringify:JSON.stringify}),ab=function(n,i,s){return e(t.JSON.stringify,null,arguments)},ab}var ob,Vq;function jue(){if(Vq)return ob;Vq=1;var t=Oue();return ob=t,ob}var lb,Kq;function Cue(){return Kq||(Kq=1,lb=jue()),lb}var Tue=Cue(),Pue=Le(Tue),Gq={},Yq={},ub,Qq;function Iue(){if(Qq)return ub;Qq=1;var t=TypeError;return ub=function(e,r){if(e<r)throw new t("Not enough arguments");return e},ub}var cb,Xq;function bG(){if(Xq)return cb;Xq=1;var t=Kt(),e=um(),r=or(),n=mG(),i=qu(),s=Wu(),a=Iue(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return cb=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?c(g,p):c(g)}:c},cb}var Jq;function Rue(){if(Jq)return Yq;Jq=1;var t=Te(),e=Kt(),r=bG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Yq}var Zq={},eA;function $ue(){if(eA)return Zq;eA=1;var t=Te(),e=Kt(),r=bG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Zq}var tA;function kue(){return tA||(tA=1,Rue(),$ue()),Gq}var db,rA;function Due(){if(rA)return db;rA=1,kue();var t=tr();return db=t.setTimeout,db}var hb,nA;function Mue(){return nA||(nA=1,hb=Due()),hb}var que=Mue(),Aue=Le(que),fb={exports:{}},iA;function Fue(){return iA||(iA=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(fb)),fb.exports}var Lue=Fue(),Bue=Le(Lue);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function fi(){return fi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fi.apply(this,arguments)}function Kn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function cf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var IO;typeof Object.assign!="function"?IO=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:IO=Object.assign;var Io=IO,sA=["","webkit","Moz","MS","ms","o"],zue=typeof document>"u"?{style:{}}:document.createElement("div"),Uue="function",jl=Math.round,Ro=Math.abs,TC=Date.now;function _m(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<sA.length;){if(r=sA[s],n=r?r+i:e,n in t)return n;s++}}var rs;typeof window>"u"?rs={}:rs=window;var xG=_m(zue.style,"touchAction"),wG=xG!==void 0;function Wue(){if(!wG)return!1;var t={},e=rs.CSS&&rs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?rs.CSS.supports("touch-action",r):!0}),t}var _G="compute",SG="auto",RO="manipulation",po="none",Ed="pan-x",Nd="pan-y",df=Wue(),Hue=/mobile|tablet|ip(ad|hone|od)|android/i,EG="ontouchstart"in rs,Vue=_m(rs,"PointerEvent")!==void 0,Kue=EG&&Hue.test(navigator.userAgent),hh="touch",Gue="pen",PC="mouse",Yue="kinect",Que=25,Ur=1,Wo=2,Wt=4,un=8,Sp=1,fh=2,ph=4,mh=8,yu=16,ki=fh|ph,mo=mh|yu,NG=ki|mo,OG=["x","y"],Ep=["clientX","clientY"];function ns(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Sm(t,e){return typeof t===Uue?t.apply(e&&e[0]||void 0,e):t}function Ya(t,e){return t.indexOf(e)>-1}function Xue(t){if(Ya(t,po))return po;var e=Ya(t,Ed),r=Ya(t,Nd);return e&&r?po:e||r?e?Ed:Nd:Ya(t,RO)?RO:SG}var jG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===_G&&(n=this.compute()),wG&&this.manager.element.style&&df[n]&&(this.manager.element.style[xG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ns(this.manager.recognizers,function(i){Sm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Xue(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ya(a,po)&&!df[po],l=Ya(a,Nd)&&!df[Nd],c=Ya(a,Ed)&&!df[Ed];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&ki||c&&s&mo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function IC(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function CG(t){var e=t.length;if(e===1)return{x:jl(t[0].clientX),y:jl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:jl(r/e),y:jl(n/e)}}function aA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:jl(t.pointers[r].clientX),clientY:jl(t.pointers[r].clientY)},r++;return{timeStamp:TC(),pointers:e,center:CG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Np(t,e,r){r||(r=OG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function $O(t,e,r){r||(r=OG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function TG(t,e){return t===e?Sp:Ro(t)>=Ro(e)?t<0?fh:ph:e<0?mh:yu}function Jue(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Ur||s.eventType===Wt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function PG(t,e,r){return{x:e/t||0,y:r/t||0}}function Zue(t,e){return Np(e[0],e[1],Ep)/Np(t[0],t[1],Ep)}function ece(t,e){return $O(e[1],e[0],Ep)+$O(t[1],t[0],Ep)}function tce(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==un&&(n>Que||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=PG(n,l,c);s=d.x,a=d.y,i=Ro(d.x)>Ro(d.y)?d.x:d.y,o=TG(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function rce(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=aA(e)),i>1&&!r.firstMultiple?r.firstMultiple=aA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=CG(n);e.timeStamp=TC(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=$O(o,l),e.distance=Np(o,l),Jue(r,e),e.offsetDirection=TG(e.deltaX,e.deltaY);var c=PG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Ro(c.x)>Ro(c.y)?c.x:c.y,e.scale=a?Zue(a.pointers,n):1,e.rotation=a?ece(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,tce(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,IC(f,d)&&(d=f),e.target=d}function nce(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Ur&&n-i===0,a=e&(Wt|un)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,rce(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Od(t){return t.trim().split(/\s+/g)}function Yc(t,e,r){ns(Od(e),function(n){t.addEventListener(n,r,!1)})}function Qc(t,e,r){ns(Od(e),function(n){t.removeEventListener(n,r,!1)})}function oA(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Ku=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Sm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Yc(this.element,this.evEl,this.domHandler),this.evTarget&&Yc(this.target,this.evTarget,this.domHandler),this.evWin&&Yc(oA(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Qc(this.element,this.evEl,this.domHandler),this.evTarget&&Qc(this.target,this.evTarget,this.domHandler),this.evWin&&Qc(oA(this.element),this.evWin,this.domHandler)},t}();function $o(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var ice={pointerdown:Ur,pointermove:Wo,pointerup:Wt,pointercancel:un,pointerout:un},sce={2:hh,3:Gue,4:PC,5:Yue},IG="pointerdown",RG="pointermove pointerup pointercancel";rs.MSPointerEvent&&!rs.PointerEvent&&(IG="MSPointerDown",RG="MSPointerMove MSPointerUp MSPointerCancel");var $G=function(t){Kn(e,t);function e(){var n,i=e.prototype;return i.evEl=IG,i.evWin=RG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=ice[o],c=sce[i.pointerType]||i.pointerType,d=c===hh,h=$o(s,i.pointerId,"pointerId");l&Ur&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Wt|un)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Ku);function jd(t){return Array.prototype.slice.call(t,0)}function RC(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];$o(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var ace={touchstart:Ur,touchmove:Wo,touchend:Wt,touchcancel:un},oce="touchstart touchmove touchend touchcancel",$C=function(t){Kn(e,t);function e(){var n;return e.prototype.evTarget=oce,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=ace[i.type],a=lce.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:hh,srcEvent:i})},e}(Ku);function lce(t,e){var r=jd(t.touches),n=this.targetIds;if(e&(Ur|Wo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=jd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return IC(c.target,l)}),e===Ur)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Wt|un)&&delete n[a[i].identifier],i++;if(o.length)return[RC(s.concat(o),"identifier",!0),o]}var uce={mousedown:Ur,mousemove:Wo,mouseup:Wt},cce="mousedown",dce="mousemove mouseup",kC=function(t){Kn(e,t);function e(){var n,i=e.prototype;return i.evEl=cce,i.evWin=dce,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=uce[i.type];s&Ur&&i.button===0&&(this.pressed=!0),s&Wo&&i.which!==1&&(s=Wt),this.pressed&&(s&Wt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:PC,srcEvent:i}))},e}(Ku),hce=2500,lA=25;function uA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,hce)}}function fce(t,e){t&Ur?(this.primaryTouch=e.changedPointers[0].identifier,uA.call(this,e)):t&(Wt|un)&&uA.call(this,e)}function pce(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=lA&&a<=lA)return!0}return!1}var kG=function(){var t=function(e){Kn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===hh,h=c.pointerType===PC;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)fce.call(cf(cf(a)),l,c);else if(h&&pce.call(cf(cf(a)),c))return;a.callback(o,l,c)}},a.touch=new $C(a.manager,a.handler),a.mouse=new kC(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Ku);return t}();function mce(t){var e,r=t.options.inputClass;return r?e=r:Vue?e=$G:Kue?e=$C:EG?e=kG:e=kC,new e(t,nce)}function Cl(t,e,r){return Array.isArray(t)?(ns(t,r[e],r),!0):!1}var Df=1,Bn=2,bu=4,da=8,is=da,Cd=16,Ci=32,vce=1;function gce(){return vce++}function hf(t,e){var r=e.manager;return r?r.get(t):t}function cA(t){return t&Cd?"cancel":t&da?"end":t&bu?"move":t&Bn?"start":""}var vh=function(){function t(r){r===void 0&&(r={}),this.options=fi({enable:!0},r),this.id=gce(),this.manager=null,this.state=Df,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Io(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Cl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=hf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Cl(n,"dropRecognizeWith",this)?this:(n=hf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Cl(n,"requireFailure",this))return this;var i=this.requireFail;return n=hf(n,this),$o(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Cl(n,"dropRequireFailure",this))return this;n=hf(n,this);var i=$o(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<da&&a(i.options.event+cA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=da&&a(i.options.event+cA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ci},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ci|Df)))return!1;n++}return!0},e.recognize=function(n){var i=Io({},n);if(!Sm(this.options.enable,[this,i])){this.reset(),this.state=Ci;return}this.state&(is|Cd|Ci)&&(this.state=Df),this.state=this.process(i),this.state&(Bn|bu|da|Cd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),kO=function(t){Kn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[RO]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Ur&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Wt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Np(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=is,s.tryEmit()},a.interval),Bn):is}return Ci},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ci},this.options.interval),Ci},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===is&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(vh),xu=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Bn|bu),l=this.attrTest(i);return o&&(a&un||!l)?s|Cd:o||l?a&Wt?s|da:s&Bn?s|bu:Bn:Ci},e}(vh);function DG(t){return t===yu?"down":t===mh?"up":t===fh?"left":t===ph?"right":""}var DC=function(t){Kn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"pan",threshold:10,pointers:1,direction:NG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&ki&&s.push(Nd),i&mo&&s.push(Ed),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&ki?(l=c===0?Sp:c<0?fh:ph,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Sp:d<0?mh:yu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return xu.prototype.attrTest.call(this,i)&&(this.state&Bn||!(this.state&Bn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=DG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(xu),MG=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"swipe",threshold:10,velocity:.3,direction:ki|mo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return DC.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(ki|mo)?a=i.overallVelocity:s&ki?a=i.overallVelocityX:s&mo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ro(a)>this.options.velocity&&i.eventType&Wt},r.emit=function(i){var s=DG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(xu),qG=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[po]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Bn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(xu),AG=function(t){Kn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[po]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Bn)},e}(xu),FG=function(t){Kn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[SG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Wt|un)&&!c)this.reset();else if(i.eventType&Ur)this.reset(),this._timer=setTimeout(function(){s.state=is,s.tryEmit()},a.time);else if(i.eventType&Wt)return is;return Ci},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===is&&(i&&i.eventType&Wt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=TC(),this.manager.emit(this.options.event,this._input)))},e}(vh),LG={domEvents:!1,touchAction:_G,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},dA=[[AG,{enable:!1}],[qG,{enable:!1},["rotate"]],[MG,{direction:ki}],[DC,{direction:ki},["swipe"]],[kO],[kO,{event:"doubletap",taps:2},["tap"]],[FG]],yce=1,hA=2;function fA(t,e){var r=t.element;if(r.style){var n;ns(t.options.cssProps,function(i,s){n=_m(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function bce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var pA=function(){function t(r,n){var i=this;this.options=Io({},LG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=mce(this),this.touchAction=new jG(this,this.options.touchAction),fA(this,!0),ns(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Io(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?hA:yce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&is)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==hA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Bn|bu|da)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof vh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Cl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Cl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=$o(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ns(Od(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ns(Od(n),function(a){i?s[a]&&s[a].splice($o(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&bce(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&fA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),xce={touchstart:Ur,touchmove:Wo,touchend:Wt,touchcancel:un},wce="touchstart",_ce="touchstart touchmove touchend touchcancel",Sce=function(t){Kn(e,t);function e(){var n,i=e.prototype;return i.evTarget=wce,i.evWin=_ce,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=xce[i.type];if(s===Ur&&(this.started=!0),!!this.started){var a=Ece.call(this,i,s);s&(Wt|un)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:hh,srcEvent:i})}},e}(Ku);function Ece(t,e){var r=jd(t.touches),n=jd(t.changedTouches);return e&(Wt|un)&&(r=RC(r.concat(n),"identifier",!0)),[r,n]}function BG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var zG=BG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Nce=BG(function(t,e){return zG(t,e,!0)},"merge","Use `assign`.");function Oce(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Io(i,r)}function mA(t,e){return function(){return t.apply(e,arguments)}}var jce=function(){var t=function(r,n){return n===void 0&&(n={}),new pA(r,fi({recognizers:dA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=NG,t.DIRECTION_DOWN=yu,t.DIRECTION_LEFT=fh,t.DIRECTION_RIGHT=ph,t.DIRECTION_UP=mh,t.DIRECTION_HORIZONTAL=ki,t.DIRECTION_VERTICAL=mo,t.DIRECTION_NONE=Sp,t.DIRECTION_DOWN=yu,t.INPUT_START=Ur,t.INPUT_MOVE=Wo,t.INPUT_END=Wt,t.INPUT_CANCEL=un,t.STATE_POSSIBLE=Df,t.STATE_BEGAN=Bn,t.STATE_CHANGED=bu,t.STATE_ENDED=da,t.STATE_RECOGNIZED=is,t.STATE_CANCELLED=Cd,t.STATE_FAILED=Ci,t.Manager=pA,t.Input=Ku,t.TouchAction=jG,t.TouchInput=$C,t.MouseInput=kC,t.PointerEventInput=$G,t.TouchMouseInput=kG,t.SingleTouchInput=Sce,t.Recognizer=vh,t.AttrRecognizer=xu,t.Tap=kO,t.Pan=DC,t.Swipe=MG,t.Pinch=qG,t.Rotate=AG,t.Press=FG,t.on=Yc,t.off=Qc,t.each=ns,t.merge=Nce,t.extend=zG,t.bindFn=mA,t.assign=Io,t.inherit=Oce,t.bindFn=mA,t.prefixed=_m,t.toArray=jd,t.inArray=$o,t.uniqueArray=RC,t.splitStr=Od,t.boolOrFn=Sm,t.hasParent=IC,t.addEventListeners=Yc,t.removeEventListeners=Qc,t.defaults=Io({},LG,{preset:dA}),t}();const UG=hle("DELETE");function Cce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return WG({},t,...r)}function WG(){const t=Op(...arguments);return VG(t),t}function Op(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Op(WG(e[0],e[1]),...ble(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Nle(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===UG?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!_i(n[s])&&!_i(i[s])?n[s]=Op(n[s],i[s]):n[s]=HG(i[s]));return n}function HG(t){return _i(t)?si(t).call(t,e=>HG(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Op({},t):t}function VG(t){for(const e of CC(t))t[e]===UG?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&VG(t[e])}function Tce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Pce=typeof window<"u"?window.Hammer||jce:function(){return Tce()};function Ji(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Pce(this._dom.overlay);r.on("tap",pG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Po(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Ice(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}Bue(Ji.prototype);Ji.current=null;Ji.prototype.destroy=function(){this.deactivate();for(const r of Yle(t=yG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ji.prototype.activate=function(){Ji.current&&Ji.current.deactivate(),Ji.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ji.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ji.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Ice(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var pb,vA;function Rce(){if(vA)return pb;vA=1,nG();var t=tr();return pb=t.Object.getOwnPropertySymbols,pb}var mb,gA;function $ce(){if(gA)return mb;gA=1;var t=Rce();return mb=t,mb}var vb,yA;function kce(){return yA||(yA=1,vb=$ce()),vb}var Dce=kce(),bA=Le(Dce),gb={exports:{}},xA={},wA;function Mce(){if(wA)return xA;wA=1;var t=Te(),e=tt(),r=Mi(),n=hm().f,i=Gt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),xA}var _A;function qce(){if(_A)return gb.exports;_A=1,Mce();var t=tr(),e=t.Object,r=gb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),gb.exports}var yb,SA;function Ace(){if(SA)return yb;SA=1;var t=qce();return yb=t,yb}var bb,EA;function Fce(){return EA||(EA=1,bb=Ace()),bb}var Lce=Fce(),KG=Le(Lce),NA={},OA;function Bce(){if(OA)return NA;OA=1;var t=Te(),e=Gt(),r=vG(),n=Mi(),i=hm(),s=pm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),NA}var xb,jA;function zce(){if(jA)return xb;jA=1,Bce();var t=tr();return xb=t.Object.getOwnPropertyDescriptors,xb}var wb,CA;function Uce(){if(CA)return wb;CA=1;var t=zce();return wb=t,wb}var _b,TA;function Wce(){return TA||(TA=1,_b=Uce()),_b}var Hce=Wce(),PA=Le(Hce),Sb={exports:{}},IA={},RA;function Vce(){if(RA)return IA;RA=1;var t=Te(),e=Gt(),r=EC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),IA}var $A;function Kce(){if($A)return Sb.exports;$A=1,Vce();var t=tr(),e=t.Object,r=Sb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Sb.exports}var Eb,kA;function Gce(){if(kA)return Eb;kA=1;var t=Kce();return Eb=t,Eb}var Nb,DA;function Yce(){return DA||(DA=1,Nb=Gce()),Nb}var Qce=Yce(),Xce=Le(Qce),Ob,MA;function Jce(){return MA||(MA=1,Ob=KK()),Ob}var Zce=Jce(),ede=Le(Zce),qA={},AA={},jb={exports:{}},Cb,FA;function tde(){if(FA)return Cb;FA=1;var t=tt();return Cb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Cb}var Tb,LA;function rde(){if(LA)return Tb;LA=1;var t=tt(),e=Kr(),r=_s(),n=tde(),i=Object.isExtensible,s=t(function(){});return Tb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Tb}var Pb,BA;function nde(){if(BA)return Pb;BA=1;var t=tt();return Pb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Pb}var zA;function GG(){if(zA)return jb.exports;zA=1;var t=Te(),e=lt(),r=lh(),n=Kr(),i=ur(),s=Vn().f,a=gm(),o=ZK(),l=rde(),c=dm(),d=nde(),h=!1,f=c("meta"),p=0,m=function(x){s(x,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(x,_){if(!n(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!i(x,f)){if(!l(x))return"F";if(!_)return"E";m(x)}return x[f].objectID},b=function(x,_){if(!i(x,f)){if(!l(x))return!0;if(!_)return!1;m(x)}return x[f].weakData},g=function(x){return d&&h&&l(x)&&!i(x,f)&&m(x),x},v=function(){w.enable=function(){},h=!0;var x=a.f,_=e([].splice),E={};E[f]=1,x(E).length&&(a.f=function(N){for(var S=x(N),O=0,j=S.length;O<j;O++)if(S[O]===f){_(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=jb.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,jb.exports}var Ib,UA;function ide(){if(UA)return Ib;UA=1;var t=cr(),e=Vu(),r=t("iterator"),n=Array.prototype;return Ib=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Ib}var Rb,WA;function YG(){if(WA)return Rb;WA=1;var t=ja(),e=gC(),r=ih(),n=Vu(),i=cr(),s=i("iterator");return Rb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Rb}var $b,HA;function QG(){if(HA)return $b;HA=1;var t=fn(),e=Ss(),r=Es(),n=Fu(),i=YG(),s=TypeError;return $b=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},$b}var kb,VA;function MC(){if(VA)return kb;VA=1;var t=fn(),e=Es(),r=gC();return kb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},kb}var Db,KA;function qC(){if(KA)return Db;KA=1;var t=fm(),e=fn(),r=Es(),n=Fu(),i=ide(),s=Oa(),a=lr(),o=QG(),l=YG(),c=MC(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Db=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),x=!!(y&&y.INTERRUPTED),_=t(m,b),E,N,S,O,j,T,C,P=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),x?_(F[0],F[1],P):_(F[0],F[1])):x?_(F,P):_(F)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,O=s(p);O>S;S++)if(j=D(p[S]),j&&a(f,j))return j;return new h(!1)}E=o(p,N)}for(T=v?p.next:E.next;!(C=e(T,E)).done;){try{j=D(C.value)}catch(F){c(E,"throw",F)}if(typeof j=="object"&&j&&a(f,j))return j}return new h(!1)},Db}var Mb,GA;function XG(){if(GA)return Mb;GA=1;var t=lr(),e=TypeError;return Mb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Mb}var qb,YA;function JG(){if(YA)return qb;YA=1;var t=Te(),e=Kt(),r=GG(),n=tt(),i=zu(),s=qC(),a=XG(),o=or(),l=Kr(),c=ih(),d=Uo(),h=Vn().f,f=Hu().forEach,p=Gt(),m=dh(),y=m.set,b=m.getterFor;return qb=function(g,v,w){var x=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=x?"set":"add",N=e[g],S=N&&N.prototype,O={},j;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))j=w.getConstructor(v,g,x,E),r.enable();else{j=v(function(P,D){y(a(P,T),{type:g,collection:new N}),c(D)||s(D,P[E],{that:P,AS_ENTRIES:x})});var T=j.prototype,C=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var D=P==="add"||P==="set";P in S&&!(_&&P==="clear")&&i(T,P,function(F,Q){var H=C(this).collection;if(!D&&_&&!l(F))return P==="get"?void 0:!1;var L=H[P](F===0?0:F,Q);return D?this:L})}),_||h(T,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return d(j,g,!1,!0),O[g]=j,t({global:!0,forced:!0},O),_||w.setStrong(j,g,x),j},qb}var Ab,QA;function sde(){if(QA)return Ab;QA=1;var t=ch();return Ab=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Ab}var Fb,XA;function ade(){if(XA)return Fb;XA=1;var t=On(),e=NC(),r=cr(),n=Gt(),i=r("species");return Fb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},Fb}var Lb,JA;function ZG(){if(JA)return Lb;JA=1;var t=uh(),e=NC(),r=sde(),n=fm(),i=XG(),s=ih(),a=qC(),o=OC(),l=jC(),c=ade(),d=Gt(),h=GG().fastKey,f=dh(),p=f.set,m=f.getterFor;return Lb={getConstructor:function(y,b,g,v){var w=y(function(S,O){i(S,x),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(O)||a(O,S[v],{that:S,AS_ENTRIES:g})}),x=w.prototype,_=m(b),E=function(S,O,j){var T=_(S),C=N(S,O),P,D;return C?C.value=j:(T.last=C={index:D=h(O,!0),key:O,value:j,previous:P=T.last,next:null,removed:!1},T.first||(T.first=C),P&&(P.next=C),d?T.size++:S.size++,D!=="F"&&(T.index[D]=C)),S},N=function(S,O){var j=_(S),T=h(O),C;if(T!=="F")return j.index[T];for(C=j.first;C;C=C.next)if(C.key===O)return C};return r(x,{clear:function(){for(var O=this,j=_(O),T=j.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;j.first=j.last=null,j.index=t(null),d?j.size=0:O.size=0},delete:function(S){var O=this,j=_(O),T=N(O,S);if(T){var C=T.next,P=T.previous;delete j.index[T.index],T.removed=!0,P&&(P.next=C),C&&(C.previous=P),j.first===T&&(j.first=C),j.last===T&&(j.last=P),d?j.size--:O.size--}return!!T},forEach:function(O){for(var j=_(this),T=n(O,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:j.first;)for(T(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(O){return!!N(this,O)}}),r(x,g?{get:function(O){var j=N(this,O);return j&&j.value},set:function(O,j){return E(this,O===0?0:O,j)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),d&&e(x,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,b,g){var v=b+" Iterator",w=m(b),x=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=x(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(b)}},Lb}var ZA;function ode(){if(ZA)return AA;ZA=1;var t=JG(),e=ZG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),AA}var eF;function lde(){return eF||(eF=1,ode()),qA}var tF={},Bb,rF;function eY(){return rF||(rF=1,Bb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Bb}var zb,nF;function ude(){if(nF)return zb;nF=1;var t=On(),e=eY(),r=t("Map");return zb={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},zb}var iF;function cde(){if(iF)return tF;iF=1;var t=Te(),e=lt(),r=Ss(),n=Bo(),i=qC(),s=ude(),a=Lu(),o=tt(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(w){var x=b(w,v++);c(g,x)?f(d(g,x),w):h(g,x,[w])}),g}}),tF}var Ub,sF;function dde(){if(sF)return Ub;sF=1,Ta(),lde(),cde(),xm();var t=tr();return Ub=t.Map,Ub}var Wb,aF;function hde(){if(aF)return Wb;aF=1;var t=dde();return Pa(),Wb=t,Wb}var Hb,oF;function fde(){return oF||(oF=1,Hb=hde()),Hb}var pde=fde(),tY=Le(pde),lF={},uF;function mde(){if(uF)return lF;uF=1;var t=Te(),e=Hu().some,r=wm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),lF}var Vb,cF;function vde(){if(cF)return Vb;cF=1,mde();var t=pn();return Vb=t("Array","some"),Vb}var Kb,dF;function gde(){if(dF)return Kb;dF=1;var t=lr(),e=vde(),r=Array.prototype;return Kb=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},Kb}var Gb,hF;function yde(){if(hF)return Gb;hF=1;var t=gde();return Gb=t,Gb}var Yb,fF;function bde(){return fF||(fF=1,Yb=yde()),Yb}var xde=bde(),wde=Le(xde),Qb,pF;function _de(){if(pF)return Qb;pF=1,Ta();var t=pn();return Qb=t("Array","keys"),Qb}var Xb,mF;function Sde(){if(mF)return Xb;mF=1;var t=_de();return Xb=t,Xb}var Jb,vF;function Ede(){if(vF)return Jb;vF=1,Pa();var t=ja(),e=ur(),r=lr(),n=Sde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Jb=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},Jb}var Zb,gF;function Nde(){return gF||(gF=1,Zb=Ede()),Zb}var Ode=Nde(),cl=Le(Ode),yF={},e1,bF;function jde(){if(bF)return e1;bF=1;var t=Wu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return e1=r,e1}var t1,xF;function Cde(){if(xF)return t1;xF=1;var t=qu(),e=t.match(/firefox\/(\d+)/i);return t1=!!e&&+e[1],t1}var r1,wF;function Tde(){if(wF)return r1;wF=1;var t=qu();return r1=/MSIE|Trident/.test(t),r1}var n1,_F;function Pde(){if(_F)return n1;_F=1;var t=qu(),e=t.match(/AppleWebKit\/(\d+)\./);return n1=!!e&&+e[1],n1}var SF;function Ide(){if(SF)return yF;SF=1;var t=Te(),e=lt(),r=Ss(),n=vi(),i=Oa(),s=gG(),a=Ca(),o=tt(),l=jde(),c=wm(),d=Cde(),h=Tde(),f=sh(),p=Pde(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),x=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,O,j,T;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:j=3;break;case 68:case 71:j=4;break;default:j=2}for(T=0;T<47;T++)m.push({k:O+T,v:j})}for(m.sort(function(C,P){return P.v-C.v}),T=0;T<m.length;T++)O=m[T].k.charAt(0),N.charAt(N.length-1)!==O&&(N+=O);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!x,E=function(N){return function(S,O){return O===void 0?-1:S===void 0?1:N!==void 0?+N(S,O)||0:a(S)>a(O)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(x)return S===void 0?y(O):y(O,S);var j=[],T=i(O),C,P;for(P=0;P<T;P++)P in O&&b(j,O[P]);for(l(j,E(S)),C=i(j),P=0;P<C;)O[P]=j[P++];for(;P<T;)s(O,P++);return O}}),yF}var i1,EF;function Rde(){if(EF)return i1;EF=1,Ide();var t=pn();return i1=t("Array","sort"),i1}var s1,NF;function $de(){if(NF)return s1;NF=1;var t=lr(),e=Rde(),r=Array.prototype;return s1=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},s1}var a1,OF;function kde(){if(OF)return a1;OF=1;var t=$de();return a1=t,a1}var o1,jF;function Dde(){return jF||(jF=1,o1=kde()),o1}var Mde=Dde(),DO=Le(Mde),l1,CF;function qde(){if(CF)return l1;CF=1,Ta();var t=pn();return l1=t("Array","values"),l1}var u1,TF;function Ade(){if(TF)return u1;TF=1;var t=qde();return u1=t,u1}var c1,PF;function Fde(){if(PF)return c1;PF=1,Pa();var t=ja(),e=ur(),r=lr(),n=Ade(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return c1=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},c1}var d1,IF;function Lde(){return IF||(IF=1,d1=Fde()),d1}var Bde=Lde(),RF=Le(Bde),h1,$F;function zde(){return $F||($F=1,h1=fG()),h1}var Ude=zde(),Tl=Le(Ude),f1,kF;function Wde(){if(kF)return f1;kF=1,Ta();var t=pn();return f1=t("Array","entries"),f1}var p1,DF;function Hde(){if(DF)return p1;DF=1;var t=Wde();return p1=t,p1}var m1,MF;function Vde(){if(MF)return m1;MF=1,Pa();var t=ja(),e=ur(),r=lr(),n=Hde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return m1=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},m1}var v1,qF;function Kde(){return qF||(qF=1,v1=Vde()),v1}var Gde=Kde(),Yde=Le(Gde);const pr=[];for(let t=0;t<256;++t)pr.push((t+256).toString(16).slice(1));function Qde(t,e=0){return(pr[t[e+0]]+pr[t[e+1]]+pr[t[e+2]]+pr[t[e+3]]+"-"+pr[t[e+4]]+pr[t[e+5]]+"-"+pr[t[e+6]]+pr[t[e+7]]+"-"+pr[t[e+8]]+pr[t[e+9]]+"-"+pr[t[e+10]]+pr[t[e+11]]+pr[t[e+12]]+pr[t[e+13]]+pr[t[e+14]]+pr[t[e+15]]).toLowerCase()}let g1;const Xde=new Uint8Array(16);function Jde(){if(!g1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");g1=crypto.getRandomValues.bind(crypto)}return g1(Xde)}const Zde=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var AF={randomUUID:Zde};function ehe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Jde();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Qde(n)}function the(t,e,r){return AF.randomUUID&&!t?AF.randomUUID():ehe(t)}function FF(t){return typeof t=="string"||typeof t=="number"}class AC{constructor(e){ca(this,"_queue",[]),ca(this,"_timeout",null),ca(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new AC(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Aue(()=>{this.flush()},this.delay))}flush(){var e,r;Po(e=yG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class jp{constructor(){ca(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ca(this,"subscribe",jp.prototype.on),ca(this,"unsubscribe",jp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");Po(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=Ol(n=this._subscribers[e]).call(n,i=>i!==r)}}var LF={},BF={},zF;function rhe(){if(zF)return BF;zF=1;var t=JG(),e=ZG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),BF}var UF;function nhe(){return UF||(UF=1,rhe()),LF}var WF={},y1,HF;function Ho(){if(HF)return y1;HF=1;var t=Fu(),e=TypeError;return y1=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},y1}var b1,VF;function Vo(){if(VF)return b1;VF=1;var t=On(),e=eY(),r=t("Set"),n=r.prototype;return b1={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},b1}var x1,KF;function Ko(){if(KF)return x1;KF=1;var t=fn();return x1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},x1}var w1,GF;function gh(){if(GF)return w1;GF=1;var t=Ko();return w1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},w1}var _1,YF;function FC(){if(YF)return _1;YF=1;var t=Vo(),e=gh(),r=t.Set,n=t.add;return _1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},_1}var S1,QF;function yh(){return QF||(QF=1,S1=function(t){return t.size}),S1}var E1,XF;function ihe(){return XF||(XF=1,E1=function(t){return{iterator:t,next:t.next,done:!1}}),E1}var N1,JF;function Go(){if(JF)return N1;JF=1;var t=Ss(),e=Es(),r=fn(),n=Uu(),i=ihe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},N1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},N1}var O1,ZF;function she(){if(ZF)return O1;ZF=1;var t=Ho(),e=Vo(),r=FC(),n=yh(),i=Go(),s=gh(),a=Ko(),o=e.has,l=e.remove;return O1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},O1}var j1,e4;function Yo(){return e4||(e4=1,j1=function(){return!1}),j1}var t4;function ahe(){if(t4)return WF;t4=1;var t=Te(),e=she(),r=tt(),n=Yo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),WF}var r4={},C1,n4;function ohe(){if(n4)return C1;n4=1;var t=Ho(),e=Vo(),r=yh(),n=Go(),i=gh(),s=Ko(),a=e.Set,o=e.add,l=e.has;return C1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},C1}var i4;function lhe(){if(i4)return r4;i4=1;var t=Te(),e=tt(),r=ohe(),n=Yo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),r4}var s4={},T1,a4;function uhe(){if(a4)return T1;a4=1;var t=Ho(),e=Vo().has,r=yh(),n=Go(),i=gh(),s=Ko(),a=MC();return T1=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},T1}var o4;function che(){if(o4)return s4;o4=1;var t=Te(),e=uhe(),r=Yo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),s4}var l4={},P1,u4;function dhe(){if(u4)return P1;u4=1;var t=Ho(),e=yh(),r=gh(),n=Go();return P1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},P1}var c4;function hhe(){if(c4)return l4;c4=1;var t=Te(),e=dhe(),r=Yo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),l4}var d4={},I1,h4;function fhe(){if(h4)return I1;h4=1;var t=Ho(),e=Vo().has,r=yh(),n=Go(),i=Ko(),s=MC();return I1=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},I1}var f4;function phe(){if(f4)return d4;f4=1;var t=Te(),e=fhe(),r=Yo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),d4}var p4={},R1,m4;function mhe(){if(m4)return R1;m4=1;var t=Ho(),e=Vo(),r=FC(),n=Go(),i=Ko(),s=e.add,a=e.has,o=e.remove;return R1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},R1}var $1,v4;function rY(){return v4||(v4=1,$1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),$1}var g4;function vhe(){if(g4)return p4;g4=1;var t=Te(),e=mhe(),r=rY(),n=Yo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),p4}var y4={},k1,b4;function ghe(){if(b4)return k1;b4=1;var t=Ho(),e=Vo().add,r=FC(),n=Go(),i=Ko();return k1=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},k1}var x4;function yhe(){if(x4)return y4;x4=1;var t=Te(),e=ghe(),r=rY(),n=Yo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),y4}var D1,w4;function bhe(){if(w4)return D1;w4=1,Ta(),nhe(),ahe(),lhe(),che(),hhe(),phe(),vhe(),yhe(),xm();var t=tr();return D1=t.Set,D1}var M1,_4;function xhe(){if(_4)return M1;_4=1;var t=bhe();return Pa(),M1=t,M1}var q1,S4;function whe(){return S4||(S4=1,q1=xhe()),q1}var _he=whe(),A1=Le(_he),F1,E4;function She(){if(E4)return F1;E4=1,Ta(),xm();var t=QG();return F1=t,F1}var L1,N4;function Ehe(){if(N4)return L1;N4=1;var t=She();return Pa(),L1=t,L1}var B1,O4;function Nhe(){if(O4)return B1;O4=1;var t=Ehe();return B1=t,B1}var z1,j4;function Ohe(){if(j4)return z1;j4=1;var t=Nhe();return z1=t,z1}var U1,C4;function jhe(){return C4||(C4=1,U1=Ohe()),U1}var W1,T4;function Che(){return T4||(T4=1,W1=jhe()),W1}var The=Che(),H1=Le(The);class Qa{constructor(e){this._pairs=e}*[Tl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return si(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return si(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=wue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new tY(this._pairs)}toIdSet(){return new A1(this.toIdArray())}toItemSet(){return new A1(this.toItemArray())}cache(){return new Qa([...this._pairs])}distinct(e){const r=new A1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Qa({*[Tl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Qa({*[Tl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=H1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=H1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Qa({[Tl]:()=>{var r;return H1(DO(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function P4(t,e){var r=CC(t);if(bA){var n=bA(t);e&&(n=Ol(n).call(n,function(i){return KG(t,i).enumerable})),r.push.apply(r,n)}return r}function I4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Po(r=P4(Object(i),!0)).call(r,function(s){ca(t,s,i[s])}):PA?Xce(t,PA(i)):Po(n=P4(Object(i))).call(n,function(s){ede(t,s,KG(i,s))})}return t}function Phe(t,e){return t[e]==null&&(t[e]=the()),t}class wu extends jp{get idProp(){return this._idProp}constructor(e,r){super(),ca(this,"_queue",null),e&&!_i(e)&&(r=e,e=[]),this._options=r||{},this._data=new tY,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=AC.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(_i(e)){const s=si(e).call(e,a=>a[this._idProp]);if(wde(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=uue({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(_i(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return mue(n).call(n,i)}updateOnly(e,r){var n;_i(e)||(e=[e]);const i=si(n=si(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],c=Cce(a,o);return this._data.set(l,c),{id:l,oldData:a,updatedData:c}});if(i.length){const s={items:si(i).call(i,a=>a.id),oldData:si(i).call(i,a=>a.oldData),data:si(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;FF(e)?(n=e,s=r):_i(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&Ol(s),l=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&l.push(c);else{var f;d=[...cl(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?c??null:l}getIds(e){const r=this._data,n=e&&Ol(e),i=e&&e.order,s=[...cl(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&Ol(r),i=this._data,s=[...cl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,r){const n=r&&Ol(r),i=[],s=this._data,a=[...cl(s).call(s)];for(let o=0,l=a.length;o<l;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Xoe(n=_i(r)?r:CC(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;DO(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")DO(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=_i(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(FF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...cl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of RF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of RF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...cl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Phe(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Pue(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,I4(I4({},n),e)),r}stream(e){if(e){const n=this._data;return new Qa({*[Tl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Qa({[Tl]:pG(r=Yde(this._data)).call(r,this._data)})}}}function Ihe(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Po(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof si(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function nY(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof Po(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof si(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Ihe(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var R4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ce(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var $4={},Cc,k4;function _t(){if(k4)return Cc;k4=1;var t=function(e){return e&&e.Math===Math&&e};return Cc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof R4=="object"&&R4)||t(typeof Cc=="object"&&Cc)||function(){return this}()||Function("return this")(),Cc}var V1,D4;function Be(){return D4||(D4=1,V1=function(t){try{return!!t()}catch{return!0}}),V1}var K1,M4;function bh(){if(M4)return K1;M4=1;var t=Be();return K1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),K1}var G1,q4;function Em(){if(q4)return G1;q4=1;var t=bh(),e=Function.prototype,r=e.apply,n=e.call;return G1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),G1}var Y1,A4;function He(){if(A4)return Y1;A4=1;var t=bh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Y1=t?n:function(i){return function(){return r.apply(i,arguments)}},Y1}var Q1,F4;function qi(){if(F4)return Q1;F4=1;var t=He(),e=t({}.toString),r=t("".slice);return Q1=function(n){return r(e(n),8,-1)},Q1}var X1,L4;function LC(){if(L4)return X1;L4=1;var t=qi(),e=He();return X1=function(r){if(t(r)==="Function")return e(r)},X1}var J1,B4;function dr(){if(B4)return J1;B4=1;var t=typeof document=="object"&&document.all;return J1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},J1}var Z1={},ex,z4;function Ft(){if(z4)return ex;z4=1;var t=Be();return ex=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),ex}var tx,U4;function mn(){if(U4)return tx;U4=1;var t=bh(),e=Function.prototype.call;return tx=t?e.bind(e):function(){return e.apply(e,arguments)},tx}var rx={},W4;function Nm(){if(W4)return rx;W4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return rx.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,rx}var nx,H4;function xh(){return H4||(H4=1,nx=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),nx}var ix,V4;function Om(){if(V4)return ix;V4=1;var t=He(),e=Be(),r=qi(),n=Object,i=t("".split);return ix=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,ix}var sx,K4;function Gu(){return K4||(K4=1,sx=function(t){return t==null}),sx}var ax,G4;function Ns(){if(G4)return ax;G4=1;var t=Gu(),e=TypeError;return ax=function(r){if(t(r))throw new e("Can't call method on "+r);return r},ax}var ox,Y4;function gi(){if(Y4)return ox;Y4=1;var t=Om(),e=Ns();return ox=function(r){return t(e(r))},ox}var lx,Q4;function hr(){if(Q4)return lx;Q4=1;var t=dr();return lx=function(e){return typeof e=="object"?e!==null:t(e)},lx}var ux,X4;function rt(){return X4||(X4=1,ux={}),ux}var cx,J4;function jn(){if(J4)return cx;J4=1;var t=rt(),e=_t(),r=dr(),n=function(i){return r(i)?i:void 0};return cx=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},cx}var dx,Z4;function Yt(){if(Z4)return dx;Z4=1;var t=He();return dx=t({}.isPrototypeOf),dx}var hx,e5;function Yu(){if(e5)return hx;e5=1;var t=_t(),e=t.navigator,r=e&&e.userAgent;return hx=r?String(r):"",hx}var fx,t5;function wh(){if(t5)return fx;t5=1;var t=_t(),e=Yu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),fx=o,fx}var px,r5;function Qu(){if(r5)return px;r5=1;var t=wh(),e=Be(),r=_t(),n=r.String;return px=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),px}var mx,n5;function iY(){if(n5)return mx;n5=1;var t=Qu();return mx=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",mx}var vx,i5;function _h(){if(i5)return vx;i5=1;var t=jn(),e=dr(),r=Yt(),n=iY(),i=Object;return vx=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},vx}var gx,s5;function Xu(){if(s5)return gx;s5=1;var t=String;return gx=function(e){try{return t(e)}catch{return"Object"}},gx}var yx,a5;function Os(){if(a5)return yx;a5=1;var t=dr(),e=Xu(),r=TypeError;return yx=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},yx}var bx,o5;function BC(){if(o5)return bx;o5=1;var t=Os(),e=Gu();return bx=function(r,n){var i=r[n];return e(i)?void 0:t(i)},bx}var xx,l5;function Rhe(){if(l5)return xx;l5=1;var t=mn(),e=dr(),r=hr(),n=TypeError;return xx=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},xx}var wx={exports:{}},_x,u5;function Ju(){return u5||(u5=1,_x=!0),_x}var Sx,c5;function $he(){if(c5)return Sx;c5=1;var t=_t(),e=Object.defineProperty;return Sx=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Sx}var d5;function zC(){if(d5)return wx.exports;d5=1;var t=Ju(),e=_t(),r=$he(),n="__core-js_shared__",i=wx.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),wx.exports}var Ex,h5;function Zu(){if(h5)return Ex;h5=1;var t=zC();return Ex=function(e,r){return t[e]||(t[e]=r||{})},Ex}var Nx,f5;function Cn(){if(f5)return Nx;f5=1;var t=Ns(),e=Object;return Nx=function(r){return e(t(r))},Nx}var Ox,p5;function xr(){if(p5)return Ox;p5=1;var t=He(),e=Cn(),r=t({}.hasOwnProperty);return Ox=Object.hasOwn||function(i,s){return r(e(i),s)},Ox}var jx,m5;function jm(){if(m5)return jx;m5=1;var t=He(),e=0,r=Math.random(),n=t(1.1.toString);return jx=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},jx}var Cx,v5;function Qt(){if(v5)return Cx;v5=1;var t=_t(),e=Zu(),r=xr(),n=jm(),i=Qu(),s=iY(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Cx=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},Cx}var Tx,g5;function sY(){if(g5)return Tx;g5=1;var t=mn(),e=hr(),r=_h(),n=BC(),i=Rhe(),s=Qt(),a=TypeError,o=s("toPrimitive");return Tx=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},Tx}var Px,y5;function UC(){if(y5)return Px;y5=1;var t=sY(),e=_h();return Px=function(r){var n=t(r,"string");return e(n)?n:n+""},Px}var Ix,b5;function aY(){if(b5)return Ix;b5=1;var t=_t(),e=hr(),r=t.document,n=e(r)&&e(r.createElement);return Ix=function(i){return n?r.createElement(i):{}},Ix}var Rx,x5;function oY(){if(x5)return Rx;x5=1;var t=Ft(),e=Be(),r=aY();return Rx=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Rx}var w5;function Cm(){if(w5)return Z1;w5=1;var t=Ft(),e=mn(),r=Nm(),n=xh(),i=gi(),s=UC(),a=xr(),o=oY(),l=Object.getOwnPropertyDescriptor;return Z1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Z1}var $x,_5;function khe(){if(_5)return $x;_5=1;var t=Be(),e=dr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return $x=n,$x}var kx,S5;function Tm(){if(S5)return kx;S5=1;var t=LC(),e=Os(),r=bh(),n=t(t.bind);return kx=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},kx}var Dx={},Mx,E5;function lY(){if(E5)return Mx;E5=1;var t=Ft(),e=Be();return Mx=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Mx}var qx,N5;function Ai(){if(N5)return qx;N5=1;var t=hr(),e=String,r=TypeError;return qx=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},qx}var O5;function Gn(){if(O5)return Dx;O5=1;var t=Ft(),e=oY(),r=lY(),n=Ai(),i=UC(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return Dx.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Dx}var Ax,j5;function ec(){if(j5)return Ax;j5=1;var t=Ft(),e=Gn(),r=xh();return Ax=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Ax}var Fx,C5;function Se(){if(C5)return Fx;C5=1;var t=_t(),e=Em(),r=LC(),n=dr(),i=Cm().f,s=khe(),a=rt(),o=Tm(),l=ec(),c=xr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Fx=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,x,_,E,N,S,O,j,T,C;for(N in f)x=s(m?N:p+(y?".":"#")+N,h.forced),_=!x&&g&&c(g,N),O=v[N],_&&(h.dontCallGetSet?(C=i(g,N),j=C&&C.value):j=g[N]),S=_&&j?j:f[N],!(!x&&!b&&typeof O==typeof S)&&(h.bind&&_?T=o(S,t):h.wrap&&_?T=d(S):b&&n(S)?T=r(S):T=S,(h.sham||S&&S.sham||O&&O.sham)&&l(T,"sham",!0),l(v,N,T),b&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(x||!w[N])&&l(w,N,S)))},Fx}var Lx,T5;function Dhe(){if(T5)return Lx;T5=1;var t=Math.ceil,e=Math.floor;return Lx=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Lx}var Bx,P5;function tc(){if(P5)return Bx;P5=1;var t=Dhe();return Bx=function(e){var r=+e;return r!==r||r===0?0:t(r)},Bx}var zx,I5;function Pm(){if(I5)return zx;I5=1;var t=tc(),e=Math.max,r=Math.min;return zx=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},zx}var Ux,R5;function uY(){if(R5)return Ux;R5=1;var t=tc(),e=Math.min;return Ux=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Ux}var Wx,$5;function js(){if($5)return Wx;$5=1;var t=uY();return Wx=function(e){return t(e.length)},Wx}var Hx,k5;function WC(){if(k5)return Hx;k5=1;var t=gi(),e=Pm(),r=js(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Hx={includes:n(!0),indexOf:n(!1)},Hx}var Vx,D5;function Sh(){return D5||(D5=1,Vx={}),Vx}var Kx,M5;function cY(){if(M5)return Kx;M5=1;var t=He(),e=xr(),r=gi(),n=WC().indexOf,i=Sh(),s=t([].push);return Kx=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Kx}var Gx,q5;function HC(){return q5||(q5=1,Gx=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Gx}var Yx,A5;function Eh(){if(A5)return Yx;A5=1;var t=cY(),e=HC();return Yx=Object.keys||function(n){return t(n,e)},Yx}var Qx={},F5;function Im(){return F5||(F5=1,Qx.f=Object.getOwnPropertySymbols),Qx}var Xx,L5;function Mhe(){if(L5)return Xx;L5=1;var t=Ft(),e=He(),r=mn(),n=Be(),i=Eh(),s=Im(),a=Nm(),o=Cn(),l=Om(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Xx=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,w=a.f;b>g;)for(var x=l(arguments[g++]),_=v?h(i(x),v(x)):i(x),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,x,S))&&(y[S]=x[S]);return y}:c,Xx}var B5;function qhe(){if(B5)return $4;B5=1;var t=Se(),e=Mhe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),$4}var Jx,z5;function Ahe(){if(z5)return Jx;z5=1,qhe();var t=rt();return Jx=t.Object.assign,Jx}var Zx,U5;function Fhe(){if(U5)return Zx;U5=1;var t=Ahe();return Zx=t,Zx}var ew,W5;function Lhe(){return W5||(W5=1,ew=Fhe()),ew}var Bhe=Lhe(),Ht=Ce(Bhe),H5={},tw,V5;function rc(){if(V5)return tw;V5=1;var t=He();return tw=t([].slice),tw}var rw,K5;function zhe(){if(K5)return rw;K5=1;var t=He(),e=Os(),r=hr(),n=xr(),i=rc(),s=bh(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return rw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},rw}var G5;function Uhe(){if(G5)return H5;G5=1;var t=Se(),e=zhe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),H5}var nw,Y5;function wr(){if(Y5)return nw;Y5=1;var t=_t(),e=rt();return nw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},nw}var iw,Q5;function Whe(){if(Q5)return iw;Q5=1,Uhe();var t=wr();return iw=t("Function","bind"),iw}var sw,X5;function Hhe(){if(X5)return sw;X5=1;var t=Yt(),e=Whe(),r=Function.prototype;return sw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},sw}var aw,J5;function Vhe(){if(J5)return aw;J5=1;var t=Hhe();return aw=t,aw}var ow,Z5;function Khe(){return Z5||(Z5=1,ow=Vhe()),ow}var Ghe=Khe(),te=Ce(Ghe);function VC(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function Yhe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function Qhe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function Xhe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function Jhe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function Zhe(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function dY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function MO(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function hY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,c=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,b,p,b),t.bezierCurveTo(p-c,b,e,y+d,e,y),t.lineTo(e,m)}function fY(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,c=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function efe(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const e3={circle:VC,dashedLine:fY,database:hY,diamond:Zhe,ellipse:MO,ellipse_vis:MO,hexagon:efe,roundRect:dY,square:Yhe,star:Jhe,triangle:Qhe,triangleDown:Xhe};function tfe(t){return Object.prototype.hasOwnProperty.call(e3,t)?e3[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var lw={exports:{}},t3;function rfe(){return t3||(t3=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(lw)),lw.exports}var nfe=rfe(),pY=Ce(nfe),r3={},uw,n3;function Qo(){if(n3)return uw;n3=1;var t=qi();return uw=Array.isArray||function(r){return t(r)==="Array"},uw}var cw,i3;function mY(){if(i3)return cw;i3=1;var t=TypeError,e=9007199254740991;return cw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},cw}var dw,s3;function Rm(){if(s3)return dw;s3=1;var t=Ft(),e=Gn(),r=xh();return dw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},dw}var hw,a3;function KC(){if(a3)return hw;a3=1;var t=Qt(),e=t("toStringTag"),r={};return r[e]="z",hw=String(r)==="[object z]",hw}var fw,o3;function nc(){if(o3)return fw;o3=1;var t=KC(),e=dr(),r=qi(),n=Qt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return fw=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},fw}var pw,l3;function ife(){if(l3)return pw;l3=1;var t=He(),e=dr(),r=zC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),pw=r.inspectSource,pw}var mw,u3;function vY(){if(u3)return mw;u3=1;var t=He(),e=Be(),r=dr(),n=nc(),i=jn(),s=ife(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,mw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,mw}var vw,c3;function sfe(){if(c3)return vw;c3=1;var t=Qo(),e=vY(),r=hr(),n=Qt(),i=n("species"),s=Array;return vw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},vw}var gw,d3;function GC(){if(d3)return gw;d3=1;var t=sfe();return gw=function(e,r){return new(t(e))(r===0?0:r)},gw}var yw,h3;function Nh(){if(h3)return yw;h3=1;var t=Be(),e=Qt(),r=wh(),n=e("species");return yw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},yw}var f3;function gY(){if(f3)return r3;f3=1;var t=Se(),e=Be(),r=Qo(),n=hr(),i=Cn(),s=js(),a=mY(),o=Rm(),l=GC(),c=Nh(),d=Qt(),h=wh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),x=0,_,E,N,S,O;for(_=-1,N=arguments.length;_<N;_++)if(O=_===-1?v:arguments[_],m(O))for(S=s(O),a(x+S),E=0;E<S;E++,x++)E in O&&o(w,x,O[E]);else a(x+1),o(w,x++,O);return w.length=x,w}}),r3}var p3={},m3={},bw,v3;function Yn(){if(v3)return bw;v3=1;var t=nc(),e=String;return bw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},bw}var xw={},g3;function YC(){if(g3)return xw;g3=1;var t=Ft(),e=lY(),r=Gn(),n=Ai(),i=gi(),s=Eh();return xw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},xw}var ww,y3;function afe(){if(y3)return ww;y3=1;var t=jn();return ww=t("document","documentElement"),ww}var _w,b3;function $m(){if(b3)return _w;b3=1;var t=Zu(),e=jm(),r=t("keys");return _w=function(n){return r[n]||(r[n]=e(n))},_w}var Sw,x3;function Oh(){if(x3)return Sw;x3=1;var t=Ai(),e=YC(),r=HC(),n=Sh(),i=afe(),s=aY(),a=$m(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",x;return v.style.display="none",i.appendChild(v),v.src=String(w),x=v.contentWindow.document,x.open(),x.write(p("document.F=Object")),x.close(),x.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,Sw=Object.create||function(w,x){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),x===void 0?_:e.f(_,x)},Sw}var Ew={},w3;function km(){if(w3)return Ew;w3=1;var t=cY(),e=HC(),r=e.concat("length","prototype");return Ew.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Ew}var Nw={},_3;function QC(){if(_3)return Nw;_3=1;var t=qi(),e=gi(),r=km().f,n=rc(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Nw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Nw}var Ow,S3;function jh(){if(S3)return Ow;S3=1;var t=ec();return Ow=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Ow}var jw,E3;function XC(){if(E3)return jw;E3=1;var t=Gn();return jw=function(e,r,n){return t.f(e,r,n)},jw}var Cw={},N3;function Dm(){if(N3)return Cw;N3=1;var t=Qt();return Cw.f=t,Cw}var Tw,O3;function Ct(){if(O3)return Tw;O3=1;var t=rt(),e=xr(),r=Dm(),n=Gn().f;return Tw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Tw}var Pw,j3;function yY(){if(j3)return Pw;j3=1;var t=mn(),e=jn(),r=Qt(),n=jh();return Pw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Pw}var Iw,C3;function ofe(){if(C3)return Iw;C3=1;var t=KC(),e=nc();return Iw=t?{}.toString:function(){return"[object "+e(this)+"]"},Iw}var Rw,T3;function Xo(){if(T3)return Rw;T3=1;var t=KC(),e=Gn().f,r=ec(),n=xr(),i=ofe(),s=Qt(),a=s("toStringTag");return Rw=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Rw}var $w,P3;function bY(){if(P3)return $w;P3=1;var t=_t(),e=dr(),r=t.WeakMap;return $w=e(r)&&/native code/.test(String(r)),$w}var kw,I3;function Jo(){if(I3)return kw;I3=1;var t=bY(),e=_t(),r=hr(),n=ec(),i=xr(),s=zC(),a=$m(),o=Sh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var x;if(!r(w)||(x=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return x}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,w){if(b.has(v))throw new c(l);return w.facade=v,b.set(v,w),w},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return kw={set:h,get:f,has:p,enforce:m,getterFor:y},kw}var Dw,R3;function Ia(){if(R3)return Dw;R3=1;var t=Tm(),e=He(),r=Om(),n=Cn(),i=js(),s=GC(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,w){for(var x=n(b),_=r(x),E=i(_),N=t(g,v),S=0,O=w||s,j=c?O(b,E):d||m?O(b,0):void 0,T,C;E>S;S++)if((y||S in _)&&(T=_[S],C=N(T,S,x),l))if(c)j[S]=C;else if(C)switch(l){case 3:return!0;case 5:return T;case 6:return S;case 2:a(j,T)}else switch(l){case 4:return!1;case 7:a(j,T)}return p?-1:h||f?f:j}};return Dw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Dw}var $3;function lfe(){if($3)return m3;$3=1;var t=Se(),e=_t(),r=mn(),n=He(),i=Ju(),s=Ft(),a=Qu(),o=Be(),l=xr(),c=Yt(),d=Ai(),h=gi(),f=UC(),p=Yn(),m=xh(),y=Oh(),b=Eh(),g=km(),v=QC(),w=Im(),x=Cm(),_=Gn(),E=YC(),N=Nm(),S=jh(),O=XC(),j=Zu(),T=$m(),C=Sh(),P=jm(),D=Qt(),F=Dm(),Q=Ct(),H=yY(),L=Xo(),V=Jo(),W=Ia().forEach,z=T("hidden"),K="Symbol",fe="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[fe],Ee=e.Symbol,ke=Ee&&Ee[fe],nt=e.RangeError,rr=e.TypeError,bt=e.QObject,fr=x.f,ut=_.f,Pr=v.f,Ir=N.f,_r=n([].push),it=j("symbols"),Lt=j("op-symbols"),Rr=j("wks"),$r=!bt||!bt[fe]||!bt[fe].findChild,$=function(ve,J,le){var ae=fr(ge,J);ae&&delete ge[J],ut(ve,J,le),ae&&ve!==ge&&ut(ge,J,ae)},M=s&&o(function(){return y(ut({},"a",{get:function(){return ut(this,"a",{value:7}).a}})).a!==7})?$:ut,A=function(ve,J){var le=it[ve]=y(ke);return xe(le,{type:K,tag:ve,description:J}),s||(le.description=J),le},se=function(J,le,ae){J===ge&&se(Lt,le,ae),d(J);var we=f(le);return d(ae),l(it,we)?(ae.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),ae=y(ae,{enumerable:m(0,!1)})):(l(J,z)||ut(J,z,m(1,y(null))),J[z][we]=!0),M(J,we,ae)):ut(J,we,ae)},re=function(J,le){d(J);var ae=h(le),we=b(ae).concat(ze(ae));return W(we,function(De){(!s||r(U,ae,De))&&se(J,De,ae[De])}),J},X=function(J,le){return le===void 0?y(J):re(y(J),le)},U=function(J){var le=f(J),ae=r(Ir,this,le);return this===ge&&l(it,le)&&!l(Lt,le)?!1:ae||!l(this,le)||!l(it,le)||l(this,z)&&this[z][le]?ae:!0},oe=function(J,le){var ae=h(J),we=f(le);if(!(ae===ge&&l(it,we)&&!l(Lt,we))){var De=fr(ae,we);return De&&l(it,we)&&!(l(ae,z)&&ae[z][we])&&(De.enumerable=!0),De}},de=function(J){var le=Pr(h(J)),ae=[];return W(le,function(we){!l(it,we)&&!l(C,we)&&_r(ae,we)}),ae},ze=function(ve){var J=ve===ge,le=Pr(J?Lt:h(ve)),ae=[];return W(le,function(we){l(it,we)&&(!J||l(ge,we))&&_r(ae,it[we])}),ae};return a||(Ee=function(){if(c(ke,this))throw new rr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=P(J),ae=function(we){var De=this===void 0?e:this;De===ge&&r(ae,Lt,we),l(De,z)&&l(De[z],le)&&(De[z][le]=!1);var Gr=m(1,we);try{M(De,le,Gr)}catch(Tn){if(!(Tn instanceof nt))throw Tn;$(De,le,Gr)}};return s&&$r&&M(ge,le,{configurable:!0,set:ae}),A(le,J)},ke=Ee[fe],S(ke,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(P(ve),ve)}),N.f=U,_.f=se,E.f=re,x.f=oe,g.f=v.f=de,w.f=ze,F.f=function(ve){return A(D(ve),ve)},s&&(O(ke,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",U,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(b(Rr),function(ve){Q(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){$r=!0},useSimple:function(){$r=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),L(Ee,K),C[z]=!0,m3}var k3={},Mw,D3;function xY(){if(D3)return Mw;D3=1;var t=Qu();return Mw=t&&!!Symbol.for&&!!Symbol.keyFor,Mw}var M3;function ufe(){if(M3)return k3;M3=1;var t=Se(),e=jn(),r=xr(),n=Yn(),i=Zu(),s=xY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),k3}var q3={},A3;function cfe(){if(A3)return q3;A3=1;var t=Se(),e=xr(),r=_h(),n=Xu(),i=Zu(),s=xY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),q3}var F3={},qw,L3;function dfe(){if(L3)return qw;L3=1;var t=He(),e=Qo(),r=dr(),n=qi(),i=Yn(),s=t([].push);return qw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},qw}var B3;function wY(){if(B3)return F3;B3=1;var t=Se(),e=jn(),r=Em(),n=mn(),i=He(),s=Be(),a=dr(),o=_h(),l=rc(),c=dfe(),d=Qu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,x=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(O,j){var T=l(arguments),C=c(j);if(!(!a(C)&&(O===void 0||o(O))))return T[1]=function(P,D){if(a(C)&&(D=n(C,this,h(P),D)),!o(D))return D},r(f,null,T)},S=function(O,j,T){var C=m(T,j-1),P=m(T,j+1);return p(w,O)&&!p(x,P)||p(x,O)&&!p(w,C)?"\\u"+g(y(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(j,T,C){var P=l(arguments),D=r(_?N:f,null,P);return E&&typeof D=="string"?b(D,v,S):D}}),F3}var z3={},U3;function hfe(){if(U3)return z3;U3=1;var t=Se(),e=Qu(),r=Be(),n=Im(),i=Cn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),z3}var W3;function _Y(){return W3||(W3=1,lfe(),ufe(),cfe(),wY(),hfe()),p3}var H3={},V3;function SY(){if(V3)return H3;V3=1;var t=Ct();return t("asyncDispose"),H3}var K3={},G3;function ffe(){if(G3)return K3;G3=1;var t=Ct();return t("asyncIterator"),K3}var Y3={},Q3;function EY(){if(Q3)return Y3;Q3=1;var t=Ct();return t("dispose"),Y3}var X3={},J3;function pfe(){if(J3)return X3;J3=1;var t=Ct();return t("hasInstance"),X3}var Z3={},eL;function mfe(){if(eL)return Z3;eL=1;var t=Ct();return t("isConcatSpreadable"),Z3}var tL={},rL;function NY(){if(rL)return tL;rL=1;var t=Ct();return t("iterator"),tL}var nL={},iL;function vfe(){if(iL)return nL;iL=1;var t=Ct();return t("match"),nL}var sL={},aL;function gfe(){if(aL)return sL;aL=1;var t=Ct();return t("matchAll"),sL}var oL={},lL;function yfe(){if(lL)return oL;lL=1;var t=Ct();return t("replace"),oL}var uL={},cL;function bfe(){if(cL)return uL;cL=1;var t=Ct();return t("search"),uL}var dL={},hL;function xfe(){if(hL)return dL;hL=1;var t=Ct();return t("species"),dL}var fL={},pL;function wfe(){if(pL)return fL;pL=1;var t=Ct();return t("split"),fL}var mL={},vL;function OY(){if(vL)return mL;vL=1;var t=Ct(),e=yY();return t("toPrimitive"),e(),mL}var gL={},yL;function _fe(){if(yL)return gL;yL=1;var t=jn(),e=Ct(),r=Xo();return e("toStringTag"),r(t("Symbol"),"Symbol"),gL}var bL={},xL;function Sfe(){if(xL)return bL;xL=1;var t=Ct();return t("unscopables"),bL}var wL={},_L;function Efe(){if(_L)return wL;_L=1;var t=_t(),e=Xo();return e(t.JSON,"JSON",!0),wL}var Aw,SL;function Nfe(){if(SL)return Aw;SL=1,gY(),_Y(),SY(),ffe(),EY(),pfe(),mfe(),NY(),vfe(),gfe(),yfe(),bfe(),xfe(),wfe(),OY(),_fe(),Sfe(),Efe();var t=rt();return Aw=t.Symbol,Aw}var EL={},Fw,NL;function JC(){return NL||(NL=1,Fw=function(){}),Fw}var Lw,OL;function ic(){return OL||(OL=1,Lw={}),Lw}var Bw,jL;function Ofe(){if(jL)return Bw;jL=1;var t=Ft(),e=xr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Bw={EXISTS:i,PROPER:s,CONFIGURABLE:a},Bw}var zw,CL;function jY(){if(CL)return zw;CL=1;var t=Be();return zw=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),zw}var Uw,TL;function Mm(){if(TL)return Uw;TL=1;var t=xr(),e=dr(),r=Cn(),n=$m(),i=jY(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Uw=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Uw}var Ww,PL;function CY(){if(PL)return Ww;PL=1;var t=Be(),e=dr(),r=hr(),n=Oh(),i=Mm(),s=jh(),a=Qt(),o=Ju(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Ww={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Ww}var Hw,IL;function jfe(){if(IL)return Hw;IL=1;var t=CY().IteratorPrototype,e=Oh(),r=xh(),n=Xo(),i=ic(),s=function(){return this};return Hw=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Hw}var Vw,RL;function Cfe(){if(RL)return Vw;RL=1;var t=He(),e=Os();return Vw=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Vw}var Kw,$L;function Tfe(){if($L)return Kw;$L=1;var t=hr();return Kw=function(e){return t(e)||e===null},Kw}var Gw,kL;function Pfe(){if(kL)return Gw;kL=1;var t=Tfe(),e=String,r=TypeError;return Gw=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Gw}var Yw,DL;function Ife(){if(DL)return Yw;DL=1;var t=Cfe(),e=hr(),r=Ns(),n=Pfe();return Yw=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Yw}var Qw,ML;function ZC(){if(ML)return Qw;ML=1;var t=Se(),e=mn(),r=Ju(),n=Ofe(),i=dr(),s=jfe(),a=Mm(),o=Ife(),l=Xo(),c=ec(),d=jh(),h=Qt(),f=ic(),p=CY(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",x="values",_="entries",E=function(){return this};return Qw=function(N,S,O,j,T,C,P){s(O,S,j);var D=function(xe){if(xe===T&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new O(this,xe)};case x:return function(){return new O(this,xe)};case _:return function(){return new O(this,xe)}}return function(){return new O(this)}},F=S+" Iterator",Q=!1,H=N.prototype,L=H[v]||H["@@iterator"]||T&&H[T],V=!g&&L||D(T),W=S==="Array"&&H.entries||L,z,K,fe;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==b&&(o?o(z,b):i(z[v])||d(z,v,E)),l(z,F,!0,!0),r&&(f[F]=E))),m&&T===x&&L&&L.name!==x&&(!r&&y?c(H,"name",x):(Q=!0,V=function(){return e(L,this)})),T)if(K={values:D(x),keys:C?V:D(w),entries:D(_)},P)for(fe in K)(g||Q||!(fe in H))&&d(H,fe,K[fe]);else t({target:S,proto:!0,forced:g||Q},K);return(!r||P)&&H[v]!==V&&d(H,v,V,{name:T}),f[S]=V,K},Qw}var Xw,qL;function eT(){return qL||(qL=1,Xw=function(t,e){return{value:t,done:e}}),Xw}var Jw,AL;function sc(){if(AL)return Jw;AL=1;var t=gi(),e=JC(),r=ic(),n=Jo(),i=Gn().f,s=ZC(),a=eT(),o=Ju(),l=Ft(),c="Array Iterator",d=n.set,h=n.getterFor(c);Jw=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Jw}var Zw,FL;function Rfe(){return FL||(FL=1,Zw={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Zw}var LL;function ac(){if(LL)return EL;LL=1,sc();var t=Rfe(),e=_t(),r=Xo(),n=ic();for(var i in t)r(e[i],i),n[i]=n.Array;return EL}var e_,BL;function TY(){if(BL)return e_;BL=1;var t=Nfe();return ac(),e_=t,e_}var t_,zL;function $fe(){return zL||(zL=1,t_=TY()),t_}var kfe=$fe(),Dfe=Ce(kfe),UL={},WL;function Mfe(){if(WL)return UL;WL=1;var t=Se(),e=Qo(),r=vY(),n=hr(),i=Pm(),s=js(),a=gi(),o=Rm(),l=Qt(),c=Nh(),d=rc(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),w=s(v),x=i(b,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,x,_);for(N=new(E===void 0?p:E)(m(_-x,0)),S=0;x<_;x++,S++)x in v&&o(N,S,v[x]);return N.length=S,N}}),UL}var r_,HL;function qfe(){if(HL)return r_;HL=1,Mfe();var t=wr();return r_=t("Array","slice"),r_}var n_,VL;function Afe(){if(VL)return n_;VL=1;var t=Yt(),e=qfe(),r=Array.prototype;return n_=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},n_}var i_,KL;function Ffe(){if(KL)return i_;KL=1;var t=Afe();return i_=t,i_}var s_,GL;function Lfe(){return GL||(GL=1,s_=Ffe()),s_}var Bfe=Lfe(),ji=Ce(Bfe),a_,YL;function zfe(){if(YL)return a_;YL=1;var t=jn(),e=He(),r=km(),n=Im(),i=Ai(),s=e([].concat);return a_=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},a_}var QL={},XL;function Ufe(){if(XL)return QL;XL=1;var t=Se(),e=Qo();return t({target:"Array",stat:!0},{isArray:e}),QL}var o_,JL;function Wfe(){if(JL)return o_;JL=1,Ufe();var t=rt();return o_=t.Array.isArray,o_}var l_,ZL;function Hfe(){if(ZL)return l_;ZL=1;var t=Wfe();return l_=t,l_}var u_,e6;function Vfe(){return e6||(e6=1,u_=Hfe()),u_}var Kfe=Vfe(),Dt=Ce(Kfe),t6={},r6;function Gfe(){if(r6)return t6;r6=1;var t=Se(),e=Ia().map,r=Nh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),t6}var c_,n6;function Yfe(){if(n6)return c_;n6=1,Gfe();var t=wr();return c_=t("Array","map"),c_}var d_,i6;function Qfe(){if(i6)return d_;i6=1;var t=Yt(),e=Yfe(),r=Array.prototype;return d_=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},d_}var h_,s6;function Xfe(){if(s6)return h_;s6=1;var t=Qfe();return h_=t,h_}var f_,a6;function Jfe(){return a6||(a6=1,f_=Xfe()),f_}var Zfe=Jfe(),_u=Ce(Zfe),o6={},l6;function epe(){if(l6)return o6;l6=1;var t=Se(),e=Cn(),r=Eh(),n=Be(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),o6}var p_,u6;function tpe(){if(u6)return p_;u6=1,epe();var t=rt();return p_=t.Object.keys,p_}var m_,c6;function rpe(){if(c6)return m_;c6=1;var t=tpe();return m_=t,m_}var v_,d6;function npe(){return d6||(d6=1,v_=rpe()),v_}var ipe=npe(),Rt=Ce(ipe),h6={},f6;function spe(){if(f6)return h6;f6=1;var t=Se(),e=He(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),h6}var g_,p6;function ape(){if(p6)return g_;p6=1,spe();var t=rt();return g_=t.Date.now,g_}var y_,m6;function ope(){if(m6)return y_;m6=1;var t=ape();return y_=t,y_}var b_,v6;function lpe(){return v6||(v6=1,b_=ope()),b_}var upe=lpe(),Cp=Ce(upe),g6={},x_,y6;function oc(){if(y6)return x_;y6=1;var t=Be();return x_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},x_}var w_,b6;function cpe(){if(b6)return w_;b6=1;var t=Ia().forEach,e=oc(),r=e("forEach");return w_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},w_}var x6;function dpe(){if(x6)return g6;x6=1;var t=Se(),e=cpe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),g6}var __,w6;function hpe(){if(w6)return __;w6=1,dpe();var t=wr();return __=t("Array","forEach"),__}var S_,_6;function fpe(){if(_6)return S_;_6=1;var t=hpe();return S_=t,S_}var E_,S6;function ppe(){if(S6)return E_;S6=1;var t=nc(),e=xr(),r=Yt(),n=fpe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return E_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},E_}var N_,E6;function mpe(){return E6||(E6=1,N_=ppe()),N_}var vpe=mpe(),ot=Ce(vpe),N6={},O6;function gpe(){if(O6)return N6;O6=1;var t=Se(),e=He(),r=Qo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),N6}var O_,j6;function ype(){if(j6)return O_;j6=1,gpe();var t=wr();return O_=t("Array","reverse"),O_}var j_,C6;function bpe(){if(C6)return j_;C6=1;var t=Yt(),e=ype(),r=Array.prototype;return j_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},j_}var C_,T6;function xpe(){if(T6)return C_;T6=1;var t=bpe();return C_=t,C_}var T_,P6;function wpe(){return P6||(P6=1,T_=xpe()),T_}var _pe=wpe(),vo=Ce(_pe),I6={},P_,R6;function Spe(){if(R6)return P_;R6=1;var t=Ft(),e=Qo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return P_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},P_}var I_,$6;function PY(){if($6)return I_;$6=1;var t=Xu(),e=TypeError;return I_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},I_}var k6;function Epe(){if(k6)return I6;k6=1;var t=Se(),e=Cn(),r=Pm(),n=tc(),i=js(),s=Spe(),a=mY(),o=GC(),l=Rm(),c=PY(),d=Nh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),w=r(y,v),x=arguments.length,_,E,N,S,O,j;for(x===0?_=E=0:x===1?(_=0,E=v-w):(_=x-2,E=p(f(n(b),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)O=w+S,O in g&&l(N,S,g[O]);if(N.length=E,_<E){for(S=w;S<v-E;S++)O=S+E,j=S+_,O in g?g[j]=g[O]:c(g,j);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)O=S+E-1,j=S+_-1,O in g?g[j]=g[O]:c(g,j);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),I6}var R_,D6;function Npe(){if(D6)return R_;D6=1,Epe();var t=wr();return R_=t("Array","splice"),R_}var $_,M6;function Ope(){if(M6)return $_;M6=1;var t=Yt(),e=Npe(),r=Array.prototype;return $_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},$_}var k_,q6;function jpe(){if(q6)return k_;q6=1;var t=Ope();return k_=t,k_}var D_,A6;function Cpe(){return A6||(A6=1,D_=jpe()),D_}var Tpe=Cpe(),ss=Ce(Tpe),F6={},L6;function Ppe(){if(L6)return F6;L6=1;var t=Se(),e=WC().includes,r=Be(),n=JC(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),F6}var M_,B6;function Ipe(){if(B6)return M_;B6=1,Ppe();var t=wr();return M_=t("Array","includes"),M_}var z6={},q_,U6;function Rpe(){if(U6)return q_;U6=1;var t=hr(),e=qi(),r=Qt(),n=r("match");return q_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},q_}var A_,W6;function $pe(){if(W6)return A_;W6=1;var t=Rpe(),e=TypeError;return A_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},A_}var F_,H6;function kpe(){if(H6)return F_;H6=1;var t=Qt(),e=t("match");return F_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},F_}var V6;function Dpe(){if(V6)return z6;V6=1;var t=Se(),e=He(),r=$pe(),n=Ns(),i=Yn(),s=kpe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),z6}var L_,K6;function Mpe(){if(K6)return L_;K6=1,Dpe();var t=wr();return L_=t("String","includes"),L_}var B_,G6;function qpe(){if(G6)return B_;G6=1;var t=Yt(),e=Ipe(),r=Mpe(),n=Array.prototype,i=String.prototype;return B_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},B_}var z_,Y6;function Ape(){if(Y6)return z_;Y6=1;var t=qpe();return z_=t,z_}var U_,Q6;function Fpe(){return Q6||(Q6=1,U_=Ape()),U_}var Lpe=Fpe(),ha=Ce(Lpe),X6={},J6;function Bpe(){if(J6)return X6;J6=1;var t=Se(),e=Be(),r=Cn(),n=Mm(),i=jY(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),X6}var W_,Z6;function zpe(){if(Z6)return W_;Z6=1,Bpe();var t=rt();return W_=t.Object.getPrototypeOf,W_}var H_,eB;function Upe(){if(eB)return H_;eB=1;var t=zpe();return H_=t,H_}var V_,tB;function Wpe(){return tB||(tB=1,V_=Upe()),V_}var Hpe=Wpe(),rB=Ce(Hpe),K_,nB;function Vpe(){if(nB)return K_;nB=1,gY();var t=wr();return K_=t("Array","concat"),K_}var G_,iB;function Kpe(){if(iB)return G_;iB=1;var t=Yt(),e=Vpe(),r=Array.prototype;return G_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},G_}var Y_,sB;function Gpe(){if(sB)return Y_;sB=1;var t=Kpe();return Y_=t,Y_}var Q_,aB;function Ype(){return aB||(aB=1,Q_=Gpe()),Q_}var Qpe=Ype(),Xpe=Ce(Qpe),oB={},lB;function Jpe(){if(lB)return oB;lB=1;var t=Se(),e=Ia().filter,r=Nh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),oB}var X_,uB;function Zpe(){if(uB)return X_;uB=1,Jpe();var t=wr();return X_=t("Array","filter"),X_}var J_,cB;function eme(){if(cB)return J_;cB=1;var t=Yt(),e=Zpe(),r=Array.prototype;return J_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},J_}var Z_,dB;function tme(){if(dB)return Z_;dB=1;var t=eme();return Z_=t,Z_}var eS,hB;function rme(){return hB||(hB=1,eS=tme()),eS}var nme=rme(),tn=Ce(nme),fB={},tS,pB;function ime(){if(pB)return tS;pB=1;var t=Ft(),e=Be(),r=He(),n=Mm(),i=Eh(),s=gi(),a=Nm().f,o=r(a),l=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=c&&n(p)===null,b=m.length,g=0,v=[],w;b>g;)w=m[g++],(!t||(y?w in p:o(p,w)))&&l(v,h?[w,p[w]]:p[w]);return v}};return tS={entries:d(!0),values:d(!1)},tS}var mB;function sme(){if(mB)return fB;mB=1;var t=Se(),e=ime().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),fB}var rS,vB;function ame(){if(vB)return rS;vB=1,sme();var t=rt();return rS=t.Object.values,rS}var nS,gB;function ome(){if(gB)return nS;gB=1;var t=ame();return nS=t,nS}var iS,yB;function lme(){return yB||(yB=1,iS=ome()),iS}var ume=lme(),cme=Ce(ume),bB={},sS,xB;function tT(){return xB||(xB=1,sS=`	
\v\f\r \u2028\u2029\uFEFF`),sS}var aS,wB;function IY(){if(wB)return aS;wB=1;var t=He(),e=Ns(),r=Yn(),n=tT(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(c){var d=r(e(c));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return aS={start:o(1),end:o(2),trim:o(3)},aS}var oS,_B;function dme(){if(_B)return oS;_B=1;var t=_t(),e=Be(),r=He(),n=Yn(),i=IY().trim,s=tT(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return oS=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(c,y)?16:10))}:a,oS}var SB;function hme(){if(SB)return bB;SB=1;var t=Se(),e=dme();return t({global:!0,forced:parseInt!==e},{parseInt:e}),bB}var lS,EB;function fme(){if(EB)return lS;EB=1,hme();var t=rt();return lS=t.parseInt,lS}var uS,NB;function pme(){if(NB)return uS;NB=1;var t=fme();return uS=t,uS}var cS,OB;function mme(){return OB||(OB=1,cS=pme()),cS}var vme=mme(),ai=Ce(vme),jB={},CB;function gme(){if(CB)return jB;CB=1;var t=Se(),e=LC(),r=WC().indexOf,n=oc(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:r(this,l,c)}}),jB}var dS,TB;function yme(){if(TB)return dS;TB=1,gme();var t=wr();return dS=t("Array","indexOf"),dS}var hS,PB;function bme(){if(PB)return hS;PB=1;var t=Yt(),e=yme(),r=Array.prototype;return hS=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},hS}var fS,IB;function xme(){if(IB)return fS;IB=1;var t=bme();return fS=t,fS}var pS,RB;function wme(){return RB||(RB=1,pS=xme()),pS}var _me=wme(),Ze=Ce(_me),$B={},kB;function Sme(){if(kB)return $B;kB=1;var t=Se(),e=Ft(),r=Oh();return t({target:"Object",stat:!0,sham:!e},{create:r}),$B}var mS,DB;function Eme(){if(DB)return mS;DB=1,Sme();var t=rt(),e=t.Object;return mS=function(n,i){return e.create(n,i)},mS}var vS,MB;function Nme(){if(MB)return vS;MB=1;var t=Eme();return vS=t,vS}var gS,qB;function Ome(){return qB||(qB=1,gS=Nme()),gS}var jme=Ome(),go=Ce(jme),AB={},yS,FB;function Cme(){if(FB)return yS;FB=1;var t=tc(),e=Yn(),r=Ns(),n=RangeError;return yS=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},yS}var bS,LB;function Tme(){if(LB)return bS;LB=1;var t=He(),e=uY(),r=Yn(),n=Cme(),i=Ns(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return bS={start:l(!1),end:l(!0)},bS}var xS,BB;function Pme(){if(BB)return xS;BB=1;var t=He(),e=Be(),r=Tme().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return xS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),x=v<0?"-":v>9999?"+":"";return x+r(s(v),x?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,xS}var zB;function Ime(){if(zB)return AB;zB=1;var t=Se(),e=mn(),r=Cn(),n=sY(),i=Pme(),s=qi(),a=Be(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),AB}var wS,UB;function Rme(){if(UB)return wS;UB=1,Ime(),wY();var t=rt(),e=Em();return t.JSON||(t.JSON={stringify:JSON.stringify}),wS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},wS}var _S,WB;function $me(){if(WB)return _S;WB=1;var t=Rme();return _S=t,_S}var SS,HB;function kme(){return HB||(HB=1,SS=$me()),SS}var Dme=kme(),Ch=Ce(Dme),VB={},KB={},ES,GB;function RY(){if(GB)return ES;GB=1;var t=_t(),e=Yu(),r=qi(),n=function(i){return e.slice(0,i.length)===i};return ES=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),ES}var NS,YB;function Mme(){if(YB)return NS;YB=1;var t=TypeError;return NS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},NS}var OS,QB;function $Y(){if(QB)return OS;QB=1;var t=_t(),e=Em(),r=dr(),n=RY(),i=Yu(),s=rc(),a=Mme(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return OS=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?c(g,p):c(g)}:c},OS}var XB;function qme(){if(XB)return KB;XB=1;var t=Se(),e=_t(),r=$Y(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),KB}var JB={},ZB;function Ame(){if(ZB)return JB;ZB=1;var t=Se(),e=_t(),r=$Y(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),JB}var ez;function kY(){return ez||(ez=1,qme(),Ame()),VB}var jS,tz;function Fme(){if(tz)return jS;tz=1,kY();var t=rt();return jS=t.setTimeout,jS}var CS,rz;function Lme(){return rz||(rz=1,CS=Fme()),CS}var Bme=Lme(),as=Ce(Bme),nz={},TS,iz;function zme(){if(iz)return TS;iz=1;var t=Cn(),e=Pm(),r=js();return TS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>l;)s[l++]=i;return s},TS}var sz;function Ume(){if(sz)return nz;sz=1;var t=Se(),e=zme(),r=JC();return t({target:"Array",proto:!0},{fill:e}),r("fill"),nz}var PS,az;function Wme(){if(az)return PS;az=1,Ume();var t=wr();return PS=t("Array","fill"),PS}var IS,oz;function Hme(){if(oz)return IS;oz=1;var t=Yt(),e=Wme(),r=Array.prototype;return IS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},IS}var RS,lz;function Vme(){if(lz)return RS;lz=1;var t=Hme();return RS=t,RS}var $S,uz;function Kme(){return uz||(uz=1,$S=Vme()),$S}var Gme=Kme(),Th=Ce(Gme);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function pi(){return pi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pi.apply(this,arguments)}function Qn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function ff(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var qO;typeof Object.assign!="function"?qO=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:qO=Object.assign;var ko=qO,cz=["","webkit","Moz","MS","ms","o"],Yme=typeof document>"u"?{style:{}}:document.createElement("div"),Qme="function",Pl=Math.round,Do=Math.abs,rT=Date.now;function qm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<cz.length;){if(r=cz[s],n=r?r+i:e,n in t)return n;s++}}var os;typeof window>"u"?os={}:os=window;var DY=qm(Yme.style,"touchAction"),MY=DY!==void 0;function Xme(){if(!MY)return!1;var t={},e=os.CSS&&os.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?os.CSS.supports("touch-action",r):!0}),t}var qY="compute",AY="auto",AO="manipulation",yo="none",Td="pan-x",Pd="pan-y",pf=Xme(),Jme=/mobile|tablet|ip(ad|hone|od)|android/i,FY="ontouchstart"in os,Zme=qm(os,"PointerEvent")!==void 0,eve=FY&&Jme.test(navigator.userAgent),Ph="touch",tve="pen",nT="mouse",rve="kinect",nve=25,Wr=1,Zo=2,Vt=4,cn=8,Tp=1,Ih=2,Rh=4,$h=8,Su=16,Di=Ih|Rh,bo=$h|Su,LY=Di|bo,BY=["x","y"],Pp=["clientX","clientY"];function ls(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Am(t,e){return typeof t===Qme?t.apply(e&&e[0]||void 0,e):t}function Xa(t,e){return t.indexOf(e)>-1}function ive(t){if(Xa(t,yo))return yo;var e=Xa(t,Td),r=Xa(t,Pd);return e&&r?yo:e||r?e?Td:Pd:Xa(t,AO)?AO:AY}var zY=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===qY&&(n=this.compute()),MY&&this.manager.element.style&&pf[n]&&(this.manager.element.style[DY]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ls(this.manager.recognizers,function(i){Am(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),ive(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Xa(a,yo)&&!pf[yo],l=Xa(a,Pd)&&!pf[Pd],c=Xa(a,Td)&&!pf[Td];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&Di||c&&s&bo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function iT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function UY(t){var e=t.length;if(e===1)return{x:Pl(t[0].clientX),y:Pl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Pl(r/e),y:Pl(n/e)}}function dz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Pl(t.pointers[r].clientX),clientY:Pl(t.pointers[r].clientY)},r++;return{timeStamp:rT(),pointers:e,center:UY(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Ip(t,e,r){r||(r=BY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function FO(t,e,r){r||(r=BY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function WY(t,e){return t===e?Tp:Do(t)>=Do(e)?t<0?Ih:Rh:e<0?$h:Su}function sve(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Wr||s.eventType===Vt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function HY(t,e,r){return{x:e/t||0,y:r/t||0}}function ave(t,e){return Ip(e[0],e[1],Pp)/Ip(t[0],t[1],Pp)}function ove(t,e){return FO(e[1],e[0],Pp)+FO(t[1],t[0],Pp)}function lve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==cn&&(n>nve||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=HY(n,l,c);s=d.x,a=d.y,i=Do(d.x)>Do(d.y)?d.x:d.y,o=WY(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function uve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=dz(e)),i>1&&!r.firstMultiple?r.firstMultiple=dz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=UY(n);e.timeStamp=rT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=FO(o,l),e.distance=Ip(o,l),sve(r,e),e.offsetDirection=WY(e.deltaX,e.deltaY);var c=HY(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Do(c.x)>Do(c.y)?c.x:c.y,e.scale=a?ave(a.pointers,n):1,e.rotation=a?ove(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,lve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,iT(f,d)&&(d=f),e.target=d}function cve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Wr&&n-i===0,a=e&(Vt|cn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,uve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Id(t){return t.trim().split(/\s+/g)}function Xc(t,e,r){ls(Id(e),function(n){t.addEventListener(n,r,!1)})}function Jc(t,e,r){ls(Id(e),function(n){t.removeEventListener(n,r,!1)})}function hz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var lc=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Am(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Xc(this.element,this.evEl,this.domHandler),this.evTarget&&Xc(this.target,this.evTarget,this.domHandler),this.evWin&&Xc(hz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Jc(this.element,this.evEl,this.domHandler),this.evTarget&&Jc(this.target,this.evTarget,this.domHandler),this.evWin&&Jc(hz(this.element),this.evWin,this.domHandler)},t}();function Mo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var dve={pointerdown:Wr,pointermove:Zo,pointerup:Vt,pointercancel:cn,pointerout:cn},hve={2:Ph,3:tve,4:nT,5:rve},VY="pointerdown",KY="pointermove pointerup pointercancel";os.MSPointerEvent&&!os.PointerEvent&&(VY="MSPointerDown",KY="MSPointerMove MSPointerUp MSPointerCancel");var GY=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=VY,i.evWin=KY,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=dve[o],c=hve[i.pointerType]||i.pointerType,d=c===Ph,h=Mo(s,i.pointerId,"pointerId");l&Wr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Vt|cn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(lc);function Rd(t){return Array.prototype.slice.call(t,0)}function sT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Mo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var fve={touchstart:Wr,touchmove:Zo,touchend:Vt,touchcancel:cn},pve="touchstart touchmove touchend touchcancel",aT=function(t){Qn(e,t);function e(){var n;return e.prototype.evTarget=pve,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=fve[i.type],a=mve.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ph,srcEvent:i})},e}(lc);function mve(t,e){var r=Rd(t.touches),n=this.targetIds;if(e&(Wr|Zo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Rd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return iT(c.target,l)}),e===Wr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Vt|cn)&&delete n[a[i].identifier],i++;if(o.length)return[sT(s.concat(o),"identifier",!0),o]}var vve={mousedown:Wr,mousemove:Zo,mouseup:Vt},gve="mousedown",yve="mousemove mouseup",oT=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evEl=gve,i.evWin=yve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=vve[i.type];s&Wr&&i.button===0&&(this.pressed=!0),s&Zo&&i.which!==1&&(s=Vt),this.pressed&&(s&Vt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:nT,srcEvent:i}))},e}(lc),bve=2500,fz=25;function pz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,bve)}}function xve(t,e){t&Wr?(this.primaryTouch=e.changedPointers[0].identifier,pz.call(this,e)):t&(Vt|cn)&&pz.call(this,e)}function wve(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=fz&&a<=fz)return!0}return!1}var YY=function(){var t=function(e){Qn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===Ph,h=c.pointerType===nT;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)xve.call(ff(ff(a)),l,c);else if(h&&wve.call(ff(ff(a)),c))return;a.callback(o,l,c)}},a.touch=new aT(a.manager,a.handler),a.mouse=new oT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(lc);return t}();function _ve(t){var e,r=t.options.inputClass;return r?e=r:Zme?e=GY:eve?e=aT:FY?e=YY:e=oT,new e(t,cve)}function Il(t,e,r){return Array.isArray(t)?(ls(t,r[e],r),!0):!1}var Mf=1,zn=2,Eu=4,fa=8,us=fa,$d=16,Ti=32,Sve=1;function Eve(){return Sve++}function mf(t,e){var r=e.manager;return r?r.get(t):t}function mz(t){return t&$d?"cancel":t&fa?"end":t&Eu?"move":t&zn?"start":""}var kh=function(){function t(r){r===void 0&&(r={}),this.options=pi({enable:!0},r),this.id=Eve(),this.manager=null,this.state=Mf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return ko(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Il(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=mf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Il(n,"dropRecognizeWith",this)?this:(n=mf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Il(n,"requireFailure",this))return this;var i=this.requireFail;return n=mf(n,this),Mo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Il(n,"dropRequireFailure",this))return this;n=mf(n,this);var i=Mo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<fa&&a(i.options.event+mz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=fa&&a(i.options.event+mz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ti},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ti|Mf)))return!1;n++}return!0},e.recognize=function(n){var i=ko({},n);if(!Am(this.options.enable,[this,i])){this.reset(),this.state=Ti;return}this.state&(us|$d|Ti)&&(this.state=Mf),this.state=this.process(i),this.state&(zn|Eu|fa|$d)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),LO=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[AO]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Wr&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Vt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Ip(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=us,s.tryEmit()},a.interval),zn):us}return Ti},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ti},this.options.interval),Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===us&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(kh),Nu=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(zn|Eu),l=this.attrTest(i);return o&&(a&cn||!l)?s|$d:o||l?a&Vt?s|fa:s&zn?s|Eu:zn:Ti},e}(kh);function QY(t){return t===Su?"down":t===$h?"up":t===Ih?"left":t===Rh?"right":""}var lT=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"pan",threshold:10,pointers:1,direction:LY},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Di&&s.push(Pd),i&bo&&s.push(Td),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Di?(l=c===0?Tp:c<0?Ih:Rh,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Tp:d<0?$h:Su,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return Nu.prototype.attrTest.call(this,i)&&(this.state&zn||!(this.state&zn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=QY(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Nu),XY=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"swipe",threshold:10,velocity:.3,direction:Di|bo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return lT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Di|bo)?a=i.overallVelocity:s&Di?a=i.overallVelocityX:s&bo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Do(a)>this.options.velocity&&i.eventType&Vt},r.emit=function(i){var s=QY(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Nu),JY=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[yo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&zn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Nu),ZY=function(t){Qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[yo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&zn)},e}(Nu),eQ=function(t){Qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[AY]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Vt|cn)&&!c)this.reset();else if(i.eventType&Wr)this.reset(),this._timer=setTimeout(function(){s.state=us,s.tryEmit()},a.time);else if(i.eventType&Vt)return us;return Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===us&&(i&&i.eventType&Vt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=rT(),this.manager.emit(this.options.event,this._input)))},e}(kh),tQ={domEvents:!1,touchAction:qY,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},vz=[[ZY,{enable:!1}],[JY,{enable:!1},["rotate"]],[XY,{direction:Di}],[lT,{direction:Di},["swipe"]],[LO],[LO,{event:"doubletap",taps:2},["tap"]],[eQ]],Nve=1,gz=2;function yz(t,e){var r=t.element;if(r.style){var n;ls(t.options.cssProps,function(i,s){n=qm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Ove(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var bz=function(){function t(r,n){var i=this;this.options=ko({},tQ,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=_ve(this),this.touchAction=new zY(this,this.options.touchAction),yz(this,!0),ls(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return ko(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?gz:Nve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&us)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==gz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(zn|Eu|fa)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof kh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Il(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Il(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Mo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ls(Id(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ls(Id(n),function(a){i?s[a]&&s[a].splice(Mo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Ove(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&yz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),jve={touchstart:Wr,touchmove:Zo,touchend:Vt,touchcancel:cn},Cve="touchstart",Tve="touchstart touchmove touchend touchcancel",Pve=function(t){Qn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Cve,i.evWin=Tve,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=jve[i.type];if(s===Wr&&(this.started=!0),!!this.started){var a=Ive.call(this,i,s);s&(Vt|cn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ph,srcEvent:i})}},e}(lc);function Ive(t,e){var r=Rd(t.touches),n=Rd(t.changedTouches);return e&(Vt|cn)&&(r=sT(r.concat(n),"identifier",!0)),[r,n]}function rQ(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var nQ=rQ(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Rve=rQ(function(t,e){return nQ(t,e,!0)},"merge","Use `assign`.");function $ve(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&ko(i,r)}function xz(t,e){return function(){return t.apply(e,arguments)}}var iQ=function(){var t=function(r,n){return n===void 0&&(n={}),new bz(r,pi({recognizers:vz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=LY,t.DIRECTION_DOWN=Su,t.DIRECTION_LEFT=Ih,t.DIRECTION_RIGHT=Rh,t.DIRECTION_UP=$h,t.DIRECTION_HORIZONTAL=Di,t.DIRECTION_VERTICAL=bo,t.DIRECTION_NONE=Tp,t.DIRECTION_DOWN=Su,t.INPUT_START=Wr,t.INPUT_MOVE=Zo,t.INPUT_END=Vt,t.INPUT_CANCEL=cn,t.STATE_POSSIBLE=Mf,t.STATE_BEGAN=zn,t.STATE_CHANGED=Eu,t.STATE_ENDED=fa,t.STATE_RECOGNIZED=us,t.STATE_CANCELLED=$d,t.STATE_FAILED=Ti,t.Manager=bz,t.Input=lc,t.TouchAction=zY,t.TouchInput=aT,t.MouseInput=oT,t.PointerEventInput=GY,t.TouchMouseInput=YY,t.SingleTouchInput=Pve,t.Recognizer=kh,t.AttrRecognizer=Nu,t.Tap=LO,t.Pan=lT,t.Swipe=XY,t.Pinch=JY,t.Rotate=ZY,t.Press=eQ,t.on=Xc,t.off=Jc,t.each=ls,t.merge=Rve,t.extend=nQ,t.bindFn=xz,t.assign=ko,t.inherit=$ve,t.bindFn=xz,t.prefixed=qm,t.toArray=Rd,t.inArray=Mo,t.uniqueArray=sT,t.splitStr=Id,t.boolOrFn=Am,t.hasParent=iT,t.addEventListeners=Xc,t.removeEventListeners=Jc,t.defaults=ko({},tQ,{preset:vz}),t}();iQ.defaults;Dfe("DELETE");function Fm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return kve(e.length?e:[Cp()])}function kve(t){let[e,r,n]=Dve(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Dve(){const t=Mve();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Mve(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function qve(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const uT=typeof window<"u"?window.Hammer||iQ:function(){return qve()};function Pi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=uT(this._dom.overlay);r.on("tap",te(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ot(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Ave(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}pY(Pi.prototype);Pi.current=null;Pi.prototype.destroy=function(){this.deactivate();for(const r of vo(t=ss(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Pi.prototype.activate=function(){Pi.current&&Pi.current.deactivate(),Pi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Pi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Pi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Ave(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Fve=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,Lve=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,Bve=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,zve=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ks(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(ks(e),t.removeChild(e))}}function Fl(t){return t instanceof String||typeof t=="string"}function wz(t){return typeof t=="object"&&t!==null}function qo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function sQ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")qo(t,e,n,r);else{const i=t[n],s=e[n];wz(i)&&wz(s)&&sQ(i,s,r)}}function uc(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?ht(e[s],r[s],!1,n):qo(e,r,s,n);else{if(Dt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");qo(e,r,s,n)}}return e}function Rp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!ha(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?ht(e[i],r[i]):qo(e,r,i,n);else if(Dt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else qo(e,r,i,n);return e}function ht(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&rB(e[s])===Object.prototype)t[s]===void 0?t[s]=ht({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&rB(t[s])===Object.prototype?ht(t[s],e[s],r):qo(t,e,s,n);else if(Dt(e[s])){var i;t[s]=ji(i=e[s]).call(i)}else qo(t,e,s,n);return t}function $p(t,e){return[...t,e]}function Uve(t){return ji(t).call(t)}function Wve(t){return t.getBoundingClientRect().left}function Hve(t){return t.getBoundingClientRect().top}function qe(t,e){if(Dt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function cT(t){let e;switch(t.length){case 3:case 4:return e=Lve.exec(t),e?{r:ai(e[1]+e[1],16),g:ai(e[2]+e[2],16),b:ai(e[3]+e[3],16)}:null;case 6:case 7:return e=Fve.exec(t),e?{r:ai(e[1],16),g:ai(e[2],16),b:ai(e[3],16)}:null;default:return null}}function An(t,e){if(ha(t).call(t,"rgba"))return t;if(ha(t).call(t,"rgb")){const r=t.substr(Ze(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=cT(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function aQ(t,e,r){var n;return"#"+ji(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function BO(t,e){if(Fl(t)){let n=t;if(lQ(n)){var r;const i=_u(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return ai(s)});n=aQ(i[0],i[1],i[2])}if(oQ(n)===!0){const i=Vve(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=zO(a.h,a.s,a.v),l=zO(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Fl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Fl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Mc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function qf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=c,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=c,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function zO(t,e,r){const n=qf(t,e,r);return aQ(n.r,n.g,n.b)}function Vve(t){const e=cT(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Mc(e.r,e.g,e.b)}function oQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function lQ(t){return Bve.test(t)}function Kve(t){return zve.test(t)}function pa(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=go(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=pa(t[r]));return e}function kn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=go(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Gve={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Ds(t,e){let r;Dt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const Yve={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Qve=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Yve[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Fl(e)===!0){if(lQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Kve(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(oQ(e)===!0){const s=cT(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Ch(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Ht({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",as(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Ht({},e)),this.color=e;const n=Mc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Mc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=qf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Mc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Th(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=te(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=te(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=te(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=te(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new uT(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=qf(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,c=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=Mc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=qf(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function UO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(UO(...ji(e).call(e,1))),n}}let Xve=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ht(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Qve(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Dt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),tn(e)!==void 0&&(this.options.filter=tn(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);tn(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=tn(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ze(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return ot(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(UO("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ze(e).call(e,r)!==-1&&(s=Ze(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=as(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=as(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=tn(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],c=$p(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Dt(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Dt(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=$p(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(l,c)||a}else this._makeCheckbox(l,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(l,c)||a}}else console.error("dont know how to handle",l,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(UO("pre","const options = "+Ch(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Jve=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=ai(e),this.y=ai(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Tc=!1,_z;const WO="background: #FFeeee; color: #dd0000";let Zve=class Tt{static validate(e,r,n){Tc=!1,_z=r;let i=r;return n!==void 0&&(i=r[n]),Tt.parse(e,i,[]),Tc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Tt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Tt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=Tt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),Tt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+Tt.printLocation(a,e),WO)},l=Tt.getType(r[e]),c=s[l];c!==void 0?Tt.getType(c)==="array"&&Ze(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+Tt.print(c)+' not "'+r[e]+'". '),Tc=!0):l==="object"&&i!=="__any__"&&(a=$p(a,e),Tt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+Tt.print(Rt(s))+". Received ["+l+'] "'+r[e]+'"'),Tc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Dt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Tt.findInOptions(e,r,n,!1),s=Tt.findInOptions(e,_z,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+Tt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+Tt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Tt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+Tt.printLocation(i.path,e):l=". Did you mean one of these: "+Tt.print(Rt(r))+Tt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,WO),Tc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=Tt.findInOptions(e,r[h],$p(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;Ze(d=h.toLowerCase()).call(d,l)!==-1&&(c=h),f=Tt.levenshteinDistance(e,h),s>f&&(a=h,o=Uve(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Ch(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const ege=Pi,tge=Xve,Ll=uT,rge=Jve,uQ=WO,nge=Zve;function ige(t){return Js=t,lge()}var cQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},dT=go(cQ);dT.color="color.color";dT.style="dashes";var Ar={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Sz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Js="",Ou=0,Me="",Ne="",Jr=Ar.NULL;function sge(){Ou=0,Me=Js.charAt(0)}function nr(){Ou++,Me=Js.charAt(Ou)}function dl(){return Js.charAt(Ou+1)}function Ez(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function xa(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function age(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function dQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=xa(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ze(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=xa(i.attr,e.attr))}function oge(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=xa({},t.edge);e.attr=xa(r,e.attr)}}function hQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=xa({},t.edge)),s.attr=xa(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function ft(){for(Jr=Ar.NULL,Ne="";Me===" "||Me==="	"||Me===`
`||Me==="\r";)nr();do{var t=!1;if(Me==="#"){for(var e=Ou-1;Js.charAt(e)===" "||Js.charAt(e)==="	";)e--;if(Js.charAt(e)===`
`||Js.charAt(e)===""){for(;Me!=""&&Me!=`
`;)nr();t=!0}}if(Me==="/"&&dl()==="/"){for(;Me!=""&&Me!=`
`;)nr();t=!0}if(Me==="/"&&dl()==="*"){for(;Me!="";)if(Me==="*"&&dl()==="/"){nr(),nr();break}else nr();t=!0}for(;Me===" "||Me==="	"||Me===`
`||Me==="\r";)nr()}while(t);if(Me===""){Jr=Ar.DELIMITER;return}var r=Me+dl();if(Sz[r]){Jr=Ar.DELIMITER,Ne=r,nr(),nr();return}if(Sz[Me]){Jr=Ar.DELIMITER,Ne=Me,nr();return}if(Ez(Me)||Me==="-"){for(Ne+=Me,nr();Ez(Me);)Ne+=Me,nr();Ne==="false"?Ne=!1:Ne==="true"?Ne=!0:isNaN(Number(Ne))||(Ne=Number(Ne)),Jr=Ar.IDENTIFIER;return}if(Me==='"'){for(nr();Me!=""&&(Me!='"'||Me==='"'&&dl()==='"');)Me==='"'?(Ne+=Me,nr()):Me==="\\"&&dl()==="n"?(Ne+=`
`,nr()):Ne+=Me,nr();if(Me!='"')throw Fr('End of string " expected');nr(),Jr=Ar.IDENTIFIER;return}for(Jr=Ar.UNKNOWN;Me!="";)Ne+=Me,nr();throw new SyntaxError('Syntax error in part "'+vQ(Ne,30)+'"')}function lge(){var t={};if(sge(),ft(),Ne==="strict"&&(t.strict=!0,ft()),(Ne==="graph"||Ne==="digraph")&&(t.type=Ne,ft()),Jr===Ar.IDENTIFIER&&(t.id=Ne,ft()),Ne!="{")throw Fr("Angle bracket { expected");if(ft(),fQ(t),Ne!="}")throw Fr("Angle bracket } expected");if(ft(),Ne!=="")throw Fr("End of file expected");return ft(),delete t.node,delete t.edge,delete t.graph,t}function fQ(t){for(;Ne!==""&&Ne!="}";)uge(t),Ne===";"&&ft()}function uge(t){var e=pQ(t);if(e){mQ(t,e);return}var r=cge(t);if(!r){if(Jr!=Ar.IDENTIFIER)throw Fr("Identifier expected");var n=Ne;if(ft(),Ne==="="){if(ft(),Jr!=Ar.IDENTIFIER)throw Fr("Identifier expected");t[n]=Ne,ft()}else dge(t,n)}}function pQ(t){var e=null;if(Ne==="subgraph"&&(e={},e.type="subgraph",ft(),Jr===Ar.IDENTIFIER&&(e.id=Ne,ft())),Ne==="{"){if(ft(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,fQ(e),Ne!="}")throw Fr("Angle bracket } expected");ft(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function cge(t){return Ne==="node"?(ft(),t.node=Zc(),"node"):Ne==="edge"?(ft(),t.edge=Zc(),"edge"):Ne==="graph"?(ft(),t.graph=Zc(),"graph"):null}function dge(t,e){var r={id:e},n=Zc();n&&(r.attr=n),dQ(t,r),mQ(t,e)}function mQ(t,e){for(;Ne==="->"||Ne==="--";){var r,n=Ne;ft();var i=pQ(t);if(i)r=i;else{if(Jr!=Ar.IDENTIFIER)throw Fr("Identifier or subgraph expected");r=Ne,dQ(t,{id:r}),ft()}var s=Zc(),a=hQ(t,e,r,n,s);oge(t,a),e=r}}function Zc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Ne==="[";){for(ft(),e={};Ne!==""&&Ne!="]";){if(Jr!=Ar.IDENTIFIER)throw Fr("Attribute name expected");var a=Ne;if(ft(),Ne!="=")throw Fr("Equal sign = expected");if(ft(),Jr!=Ar.IDENTIFIER)throw Fr("Attribute value expected");var o=Ne;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),ft(),Ne==","&&ft()}if(Ne!="]")throw Fr("Bracket ] expected");ft()}if(ha(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw Fr("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!ha(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw Fr('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},ss(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw Fr('Invalid dir type "'+d+'"');ss(i).call(i,c.dir,1)}var m;if(ha(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)age(i[t].attr,i[t].name,i[t].value);return e}function Fr(t){return new SyntaxError(t+', got "'+vQ(Ne,30)+'" (char '+Ou+")")}function vQ(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function hge(t,e,r){Dt(t)?ot(t).call(t,function(n){Dt(e)?ot(e).call(e,function(i){r(n,i)}):r(n,e)}):Dt(e)?ot(e).call(e,function(n){r(t,n)}):r(t,e)}function kS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function Nz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Dt(i)?ot(i).call(i,function(s){kS(r,s,t[n])}):typeof i=="string"?kS(r,i,t[n]):kS(r,n,t[n])}return r}function fge(t){var e=ige(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;ot(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};xa(o,Nz(a.attr,cQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return xa(o,Nz(a.attr,dT)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};ot(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var c;ot(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(hge(o,l,function(h,f){var p=hQ(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;ot(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function pge(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=_u(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:_u(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const mge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},vge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},gge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},yge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},bge={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},xge={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},wge={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},_ge={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Sge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Ege={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Nge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Oge=Object.freeze({__proto__:null,cn:_ge,cs:Nge,de:vge,en:mge,es:gge,fr:Ege,it:yge,nl:bge,pt:xge,ru:wge,uk:Sge});function jge(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(Xpe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Cge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Tge{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Cge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Oz={},jz={},DS={exports:{}},MS,Cz;function Pge(){if(Cz)return MS;Cz=1;var t=Be();return MS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),MS}var qS,Tz;function Ige(){if(Tz)return qS;Tz=1;var t=Be(),e=hr(),r=qi(),n=Pge(),i=Object.isExtensible,s=t(function(){});return qS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,qS}var AS,Pz;function gQ(){if(Pz)return AS;Pz=1;var t=Be();return AS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),AS}var Iz;function Lm(){if(Iz)return DS.exports;Iz=1;var t=Se(),e=He(),r=Sh(),n=hr(),i=xr(),s=Gn().f,a=km(),o=QC(),l=Ige(),c=jm(),d=gQ(),h=!1,f=c("meta"),p=0,m=function(x){s(x,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(x,_){if(!n(x))return typeof x=="symbol"?x:(typeof x=="string"?"S":"P")+x;if(!i(x,f)){if(!l(x))return"F";if(!_)return"E";m(x)}return x[f].objectID},b=function(x,_){if(!i(x,f)){if(!l(x))return!0;if(!_)return!1;m(x)}return x[f].weakData},g=function(x){return d&&h&&l(x)&&!i(x,f)&&m(x),x},v=function(){w.enable=function(){},h=!0;var x=a.f,_=e([].splice),E={};E[f]=1,x(E).length&&(a.f=function(N){for(var S=x(N),O=0,j=S.length;O<j;O++)if(S[O]===f){_(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=DS.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,DS.exports}var FS,Rz;function Rge(){if(Rz)return FS;Rz=1;var t=Qt(),e=ic(),r=t("iterator"),n=Array.prototype;return FS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},FS}var LS,$z;function yQ(){if($z)return LS;$z=1;var t=nc(),e=BC(),r=Gu(),n=ic(),i=Qt(),s=i("iterator");return LS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},LS}var BS,kz;function $ge(){if(kz)return BS;kz=1;var t=mn(),e=Os(),r=Ai(),n=Xu(),i=yQ(),s=TypeError;return BS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},BS}var zS,Dz;function hT(){if(Dz)return zS;Dz=1;var t=mn(),e=Ai(),r=BC();return zS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},zS}var US,Mz;function Bm(){if(Mz)return US;Mz=1;var t=Tm(),e=mn(),r=Ai(),n=Xu(),i=Rge(),s=js(),a=Yt(),o=$ge(),l=yQ(),c=hT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return US=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),x=!!(y&&y.INTERRUPTED),_=t(m,b),E,N,S,O,j,T,C,P=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),x?_(F[0],F[1],P):_(F[0],F[1])):x?_(F,P):_(F)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,O=s(p);O>S;S++)if(j=D(p[S]),j&&a(f,j))return j;return new h(!1)}E=o(p,N)}for(T=v?p.next:E.next;!(C=e(T,E)).done;){try{j=D(C.value)}catch(F){c(E,"throw",F)}if(typeof j=="object"&&j&&a(f,j))return j}return new h(!1)},US}var WS,qz;function fT(){if(qz)return WS;qz=1;var t=Yt(),e=TypeError;return WS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},WS}var HS,Az;function pT(){if(Az)return HS;Az=1;var t=Se(),e=_t(),r=Lm(),n=Be(),i=ec(),s=Bm(),a=fT(),o=dr(),l=hr(),c=Gu(),d=Xo(),h=Gn().f,f=Ia().forEach,p=Ft(),m=Jo(),y=m.set,b=m.getterFor;return HS=function(g,v,w){var x=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=x?"set":"add",N=e[g],S=N&&N.prototype,O={},j;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))j=w.getConstructor(v,g,x,E),r.enable();else{j=v(function(P,D){y(a(P,T),{type:g,collection:new N}),c(D)||s(D,P[E],{that:P,AS_ENTRIES:x})});var T=j.prototype,C=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var D=P==="add"||P==="set";P in S&&!(_&&P==="clear")&&i(T,P,function(F,Q){var H=C(this).collection;if(!D&&_&&!l(F))return P==="get"?void 0:!1;var L=H[P](F===0?0:F,Q);return D?this:L})}),_||h(T,"size",{configurable:!0,get:function(){return C(this).collection.size}})}return d(j,g,!1,!0),O[g]=j,t({global:!0,forced:!0},O),_||w.setStrong(j,g,x),j},HS}var VS,Fz;function mT(){if(Fz)return VS;Fz=1;var t=jh();return VS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},VS}var KS,Lz;function kge(){if(Lz)return KS;Lz=1;var t=jn(),e=XC(),r=Qt(),n=Ft(),i=r("species");return KS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},KS}var GS,Bz;function bQ(){if(Bz)return GS;Bz=1;var t=Oh(),e=XC(),r=mT(),n=Tm(),i=fT(),s=Gu(),a=Bm(),o=ZC(),l=eT(),c=kge(),d=Ft(),h=Lm().fastKey,f=Jo(),p=f.set,m=f.getterFor;return GS={getConstructor:function(y,b,g,v){var w=y(function(S,O){i(S,x),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(O)||a(O,S[v],{that:S,AS_ENTRIES:g})}),x=w.prototype,_=m(b),E=function(S,O,j){var T=_(S),C=N(S,O),P,D;return C?C.value=j:(T.last=C={index:D=h(O,!0),key:O,value:j,previous:P=T.last,next:null,removed:!1},T.first||(T.first=C),P&&(P.next=C),d?T.size++:S.size++,D!=="F"&&(T.index[D]=C)),S},N=function(S,O){var j=_(S),T=h(O),C;if(T!=="F")return j.index[T];for(C=j.first;C;C=C.next)if(C.key===O)return C};return r(x,{clear:function(){for(var O=this,j=_(O),T=j.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;j.first=j.last=null,j.index=t(null),d?j.size=0:O.size=0},delete:function(S){var O=this,j=_(O),T=N(O,S);if(T){var C=T.next,P=T.previous;delete j.index[T.index],T.removed=!0,P&&(P.next=C),C&&(C.previous=P),j.first===T&&(j.first=C),j.last===T&&(j.last=P),d?j.size--:O.size--}return!!T},forEach:function(O){for(var j=_(this),T=n(O,arguments.length>1?arguments[1]:void 0),C;C=C?C.next:j.first;)for(T(C.value,C.key,this);C&&C.removed;)C=C.previous},has:function(O){return!!N(this,O)}}),r(x,g?{get:function(O){var j=N(this,O);return j&&j.value},set:function(O,j){return E(this,O===0?0:O,j)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),d&&e(x,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,b,g){var v=b+" Iterator",w=m(b),x=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=x(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(b)}},GS}var zz;function Dge(){if(zz)return jz;zz=1;var t=pT(),e=bQ();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),jz}var Uz;function Mge(){return Uz||(Uz=1,Dge()),Oz}var Wz={},YS,Hz;function xQ(){return Hz||(Hz=1,YS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),YS}var QS,Vz;function qge(){if(Vz)return QS;Vz=1;var t=jn(),e=xQ(),r=t("Map");return QS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},QS}var Kz;function Age(){if(Kz)return Wz;Kz=1;var t=Se(),e=He(),r=Os(),n=Ns(),i=Bm(),s=qge(),a=Ju(),o=Be(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(w){var x=b(w,v++);c(g,x)?f(d(g,x),w):h(g,x,[w])}),g}}),Wz}var Gz={},XS,Yz;function Fge(){if(Yz)return XS;Yz=1;var t=He(),e=tc(),r=Yn(),n=Ns(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return XS={codeAt:o(!1),charAt:o(!0)},XS}var Qz;function vT(){if(Qz)return Gz;Qz=1;var t=Fge().charAt,e=Yn(),r=Jo(),n=ZC(),i=eT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),Gz}var JS,Xz;function Lge(){if(Xz)return JS;Xz=1,sc(),Mge(),Age(),vT();var t=rt();return JS=t.Map,JS}var ZS,Jz;function Bge(){if(Jz)return ZS;Jz=1;var t=Lge();return ac(),ZS=t,ZS}var eE,Zz;function zge(){return Zz||(Zz=1,eE=Bge()),eE}var Uge=zge(),gT=Ce(Uge);class Wge{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ht(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ze(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new gT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var e8={},t8;function Hge(){if(t8)return e8;t8=1;var t=Se();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),e8}var tE,r8;function Vge(){if(r8)return tE;r8=1,Hge();var t=rt();return tE=t.Number.isNaN,tE}var rE,n8;function Kge(){if(n8)return rE;n8=1;var t=Vge();return rE=t,rE}var nE,i8;function Gge(){return i8||(i8=1,nE=Kge()),nE}var Yge=Gge(),HO=Ce(Yge),s8={},iE,a8;function Qge(){if(a8)return iE;a8=1;var t=_t(),e=t.isFinite;return iE=Number.isFinite||function(n){return typeof n=="number"&&e(n)},iE}var o8;function Xge(){if(o8)return s8;o8=1;var t=Se(),e=Qge();return t({target:"Number",stat:!0},{isFinite:e}),s8}var sE,l8;function Jge(){if(l8)return sE;l8=1,Xge();var t=rt();return sE=t.Number.isFinite,sE}var aE,u8;function Zge(){if(u8)return aE;u8=1;var t=Jge();return aE=t,aE}var oE,c8;function eye(){return c8||(c8=1,oE=Zge()),oE}var tye=eye(),Ja=Ce(tye),d8={},h8;function rye(){if(h8)return d8;h8=1;var t=Se(),e=Ia().some,r=oc(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),d8}var lE,f8;function nye(){if(f8)return lE;f8=1,rye();var t=wr();return lE=t("Array","some"),lE}var uE,p8;function iye(){if(p8)return uE;p8=1;var t=Yt(),e=nye(),r=Array.prototype;return uE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},uE}var cE,m8;function sye(){if(m8)return cE;m8=1;var t=iye();return cE=t,cE}var dE,v8;function aye(){return v8||(v8=1,dE=sye()),dE}var oye=aye(),lye=Ce(oye),hE={exports:{}},g8={},y8;function uye(){if(y8)return g8;y8=1;var t=Se(),e=Ft(),r=Gn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),g8}var b8;function cye(){if(b8)return hE.exports;b8=1,uye();var t=rt(),e=t.Object,r=hE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),hE.exports}var fE,x8;function wQ(){if(x8)return fE;x8=1;var t=cye();return fE=t,fE}var pE,w8;function dye(){if(w8)return pE;w8=1;var t=wQ();return pE=t,pE}var mE,_8;function hye(){if(_8)return mE;_8=1;var t=dye();return mE=t,mE}var vE,S8;function fye(){return S8||(S8=1,vE=hye()),vE}var pye=fye(),mye=Ce(pye),E8={},N8;function vye(){if(N8)return E8;N8=1;var t=Qt(),e=Gn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),E8}var O8={},j8;function gye(){return j8||(j8=1,SY()),O8}var C8={},T8;function yye(){return T8||(T8=1,EY()),C8}var P8={},I8;function bye(){if(I8)return P8;I8=1;var t=Ct();return t("metadata"),P8}var gE,R8;function xye(){if(R8)return gE;R8=1;var t=TY();return vye(),gye(),yye(),bye(),gE=t,gE}var $8={},yE,k8;function _Q(){if(k8)return yE;k8=1;var t=jn(),e=He(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return yE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},yE}var D8;function wye(){if(D8)return $8;D8=1;var t=Se(),e=_Q();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),$8}var M8={},bE,q8;function SQ(){if(q8)return bE;q8=1;for(var t=Zu(),e=jn(),r=He(),n=_h(),i=Qt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return bE=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==b)return!0}catch{}return!1},bE}var A8;function _ye(){if(A8)return M8;A8=1;var t=Se(),e=SQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),M8}var F8={},L8;function Sye(){if(L8)return F8;L8=1;var t=Ct();return t("customMatcher"),F8}var B8={},z8;function Eye(){if(z8)return B8;z8=1;var t=Ct();return t("observable"),B8}var U8={},W8;function Nye(){if(W8)return U8;W8=1;var t=Se(),e=_Q();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),U8}var H8={},V8;function Oye(){if(V8)return H8;V8=1;var t=Se(),e=SQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),H8}var K8={},G8;function jye(){if(G8)return K8;G8=1;var t=Ct();return t("matcher"),K8}var Y8={},Q8;function Cye(){if(Q8)return Y8;Q8=1;var t=Ct();return t("metadataKey"),Y8}var X8={},J8;function Tye(){if(J8)return X8;J8=1;var t=Ct();return t("patternMatch"),X8}var Z8={},e7;function Pye(){if(e7)return Z8;e7=1;var t=Ct();return t("replaceAll"),Z8}var xE,t7;function Iye(){if(t7)return xE;t7=1;var t=xye();return wye(),_ye(),Sye(),Eye(),Nye(),Oye(),jye(),Cye(),Tye(),Pye(),xE=t,xE}var wE,r7;function Rye(){return r7||(r7=1,wE=Iye()),wE}var $ye=Rye(),vf=Ce($ye),_E,n7;function kye(){if(n7)return _E;n7=1,sc(),vT(),NY();var t=Dm();return _E=t.f("iterator"),_E}var SE,i7;function Dye(){if(i7)return SE;i7=1;var t=kye();return ac(),SE=t,SE}var EE,s7;function Mye(){if(s7)return EE;s7=1;var t=Dye();return EE=t,EE}var NE,a7;function qye(){if(a7)return NE;a7=1;var t=Mye();return NE=t,NE}var OE,o7;function Aye(){return o7||(o7=1,OE=qye()),OE}var Fye=Aye(),Lye=Ce(Fye);function kd(t){"@babel/helpers - typeof";return kd=typeof vf=="function"&&typeof Lye=="symbol"?function(e){return typeof e}:function(e){return e&&typeof vf=="function"&&e.constructor===vf&&e!==vf.prototype?"symbol":typeof e},kd(t)}var jE,l7;function Bye(){if(l7)return jE;l7=1,OY();var t=Dm();return jE=t.f("toPrimitive"),jE}var CE,u7;function zye(){if(u7)return CE;u7=1;var t=Bye();return CE=t,CE}var TE,c7;function Uye(){if(c7)return TE;c7=1;var t=zye();return TE=t,TE}var PE,d7;function Wye(){if(d7)return PE;d7=1;var t=Uye();return PE=t,PE}var IE,h7;function Hye(){return h7||(h7=1,IE=Wye()),IE}var Vye=Hye(),Kye=Ce(Vye);function Gye(t,e){if(kd(t)!="object"||!t)return t;var r=t[Kye];if(r!==void 0){var n=r.call(t,e);if(kd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Yye(t){var e=Gye(t,"string");return kd(e)=="symbol"?e:e+""}function Zi(t,e,r){return(e=Yye(e))in t?mye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var f7={},RE,p7;function Qye(){if(p7)return RE;p7=1;var t=_t(),e=Be(),r=He(),n=Yn(),i=IY().trim,s=tT(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,c=l&&l.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return RE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,RE}var m7;function Xye(){if(m7)return f7;m7=1;var t=Se(),e=Qye();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),f7}var $E,v7;function Jye(){if(v7)return $E;v7=1,Xye();var t=rt();return $E=t.parseFloat,$E}var kE,g7;function Zye(){if(g7)return kE;g7=1;var t=Jye();return kE=t,kE}var DE,y7;function e0e(){return y7||(y7=1,DE=Zye()),DE}var t0e=e0e(),EQ=Ce(t0e),b7={},x7;function r0e(){if(x7)return b7;x7=1;var t=Se(),e=Be(),r=QC().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),b7}var ME,w7;function n0e(){if(w7)return ME;w7=1,r0e();var t=rt(),e=t.Object;return ME=function(n){return e.getOwnPropertyNames(n)},ME}var qE,_7;function i0e(){if(_7)return qE;_7=1;var t=n0e();return qE=t,qE}var AE,S7;function s0e(){return S7||(S7=1,AE=i0e()),AE}var a0e=s0e(),o0e=Ce(a0e),FE,E7;function l0e(){if(E7)return FE;E7=1,_Y();var t=rt();return FE=t.Object.getOwnPropertySymbols,FE}var LE,N7;function u0e(){if(N7)return LE;N7=1;var t=l0e();return LE=t,LE}var BE,O7;function c0e(){return O7||(O7=1,BE=u0e()),BE}var d0e=c0e(),wa=Ce(d0e),zE={exports:{}},j7={},C7;function h0e(){if(C7)return j7;C7=1;var t=Se(),e=Be(),r=gi(),n=Cm().f,i=Ft(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),j7}var T7;function f0e(){if(T7)return zE.exports;T7=1,h0e();var t=rt(),e=t.Object,r=zE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),zE.exports}var UE,P7;function p0e(){if(P7)return UE;P7=1;var t=f0e();return UE=t,UE}var WE,I7;function m0e(){return I7||(I7=1,WE=p0e()),WE}var v0e=m0e(),Ra=Ce(v0e),R7={},$7;function g0e(){if($7)return R7;$7=1;var t=Se(),e=Ft(),r=zfe(),n=gi(),i=Cm(),s=Rm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),R7}var HE,k7;function y0e(){if(k7)return HE;k7=1,g0e();var t=rt();return HE=t.Object.getOwnPropertyDescriptors,HE}var VE,D7;function b0e(){if(D7)return VE;D7=1;var t=y0e();return VE=t,VE}var KE,M7;function x0e(){return M7||(M7=1,KE=b0e()),KE}var w0e=x0e(),_a=Ce(w0e),GE={exports:{}},q7={},A7;function _0e(){if(A7)return q7;A7=1;var t=Se(),e=Ft(),r=YC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),q7}var F7;function S0e(){if(F7)return GE.exports;F7=1,_0e();var t=rt(),e=t.Object,r=GE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),GE.exports}var YE,L7;function E0e(){if(L7)return YE;L7=1;var t=S0e();return YE=t,YE}var QE,B7;function N0e(){return B7||(B7=1,QE=E0e()),QE}var O0e=N0e(),zm=Ce(O0e),XE,z7;function j0e(){return z7||(z7=1,XE=wQ()),XE}var C0e=j0e(),Um=Ce(C0e);function yT(t,e){const r=["node","edge","label"];let n=!0;const i=Ds(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ze(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=Ds(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function VO(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function kp(t){return typeof t=="string"&&t!==""}function NQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var JE,U7;function T0e(){if(U7)return JE;U7=1,sc();var t=wr();return JE=t("Array","values"),JE}var ZE,W7;function P0e(){if(W7)return ZE;W7=1;var t=T0e();return ZE=t,ZE}var e2,H7;function I0e(){if(H7)return e2;H7=1,ac();var t=nc(),e=xr(),r=Yt(),n=P0e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return e2=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},e2}var t2,V7;function R0e(){return V7||(V7=1,t2=I0e()),t2}var $0e=R0e(),OQ=Ce($0e);class k0e{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Ht({},OQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Ht(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const D0e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class K7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=D0e[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class M0e{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:l}};this.lines=new k0e(s)}process(e){if(!kp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new K7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new K7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(ji(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(ji(a).call(a,0,o),r),i[0]=ji(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=ji(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=ji(i).call(i,a)}}}}const Pc=["bold","ital","boldital","mono"];class Bl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),kp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(qe(Pc,r=>{this.fontOptions[r]={}}),Bl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}qe(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Ds(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=Ds(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=Ds(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=Ds(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=Ds(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=Ds(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),ht(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=yT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Bl.parseFontString(s,i)&&(i=s),qe(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ze(Pc).call(Pc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Bl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Pc.length;++n){const i=Pc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);qe(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=An(i,a),s=An(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new M0e(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class el{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Th(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let q0e=class extends el{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),dY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class bT extends el{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),VC(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let A0e=class extends bT{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class F0e extends bT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class $a extends el{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),tfe(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function G7(t,e){var r=Rt(t);if(wa){var n=wa(t);e&&(n=tn(n).call(n,function(i){return Ra(t,i).enumerable})),r.push.apply(r,n)}return r}function L0e(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=G7(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):_a?zm(t,_a(i)):ot(n=G7(Object(i))).call(n,function(s){Um(t,s,Ra(i,s))})}return t}class B0e extends $a{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:L0e({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class z0e extends el{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),hY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let U0e=class extends $a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class W0e extends $a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class Y7 extends el{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),MO(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class H0e extends el{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let V0e=class extends bT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=An(f,a.opacity),p=An(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Th(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class K0e extends $a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class G0e extends $a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Y0e extends $a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Q0e extends el{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let X0e=class extends $a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class J0e extends $a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function Q7(t,e){var r=Rt(t);if(wa){var n=wa(t);e&&(n=tn(n).call(n,function(i){return Ra(t,i).enumerable})),r.push.apply(r,n)}return r}function X7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=Q7(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):_a?zm(t,_a(i)):ot(n=Q7(Object(i))).call(n,function(s){Um(t,s,Ra(i,s))})}return t}class xt{constructor(e,r,n,i,s,a){this.options=pa(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Bl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ze(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ze(r=this.edges).call(r,e);if(n!=-1){var i;ss(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");xt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=ai(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=ai(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=EQ(e.value)),xt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=yT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&xt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(xt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=tn(i=o0e(r)).call(i,c=>r[c]!=null);l.push("font"),Rp(l,e,o),e.color=BO(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Rp(["color","fixed","shadow"],e,r,n),xt.checkMass(r),e.opacity!==void 0&&(xt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(xt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!xt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),kn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=BO(r.color);sQ(e.color,o)}else n===!0&&r.color===null&&(e.color=pa(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=pa(i.font)),xt.updateGroupOptions(e,r,s),r.scaling!==void 0&&kn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=An(e.borderColor,r),e.color=An(e.color,r),e.shadowColor=An(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),xt.updateGroupOptions(this.options,X7(X7({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new q0e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new A0e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new F0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new B0e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new z0e(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new U0e(this.options,this.body,this.labelModule);break;case"dot":this.shape=new W0e(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new Y7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new H0e(this.options,this.body,this.labelModule);break;case"image":this.shape=new V0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new K0e(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new G0e(this.options,this.body,this.labelModule);break;case"star":this.shape=new Y0e(this.options,this.body,this.labelModule);break;case"text":this.shape=new Q0e(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new X0e(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new J0e(this.options,this.body,this.labelModule);break;default:this.shape=new Y7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&VO(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),VO(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",uQ),e.mass=1}}}class Z0e{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=te(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=pa(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",te(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",te(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{qe(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(xt.parseOptions(this.options,e),e.opacity!==void 0&&(HO(e.opacity)||!Ja(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Rt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(nY("id",e))this.body.data.nodes=e;else if(Dt(e))this.body.data.nodes=new wu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new wu;else throw new TypeError("Array or DataSet expected");if(n&&qe(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;qe(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const c=r[a];l!==void 0?l.setOptions(c)&&(s=!0):(s=!0,l=this.create(c),i[o]=l)}!s&&n!==void 0&&(s=lye(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;qe(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Dt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),as(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var J7={},Z7;function ebe(){if(Z7)return J7;Z7=1;var t=Se(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),J7}var r2,eU;function tbe(){if(eU)return r2;eU=1,ebe();var t=rt();return r2=t.Math.hypot,r2}var n2,tU;function rbe(){if(tU)return n2;tU=1;var t=tbe();return n2=t,n2}var i2,rU;function nbe(){return rU||(rU=1,i2=rbe()),i2}var ibe=nbe(),sbe=Ce(ibe);class qt{static transform(e,r){Dt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],c=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*c,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let abe=class extends qt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class obe extends qt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class lbe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class ube{static draw(e,r){const n={x:-.4,y:0};qt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class cbe{static draw(e,r){const n={x:-.3,y:0};qt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class dbe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class hbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class fbe{static draw(e,r){const n={x:-.4,y:0};return qt.transform(n,r),VC(e,n.x,n.y,r.length*.4),!0}}class pbe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class mbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class vbe{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class gbe{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class jQ{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return abe.draw(e,r);case"circle":return fbe.draw(e,r);case"box":return mbe.draw(e,r);case"crow":return lbe.draw(e,r);case"curve":return ube.draw(e,r);case"diamond":return vbe.draw(e,r);case"inv_curve":return cbe.draw(e,r);case"triangle":return dbe.draw(e,r);case"inv_triangle":return hbe.draw(e,r);case"bar":return pbe.draw(e,r);case"vee":return gbe.draw(e,r);case"arrow":default:return obe.draw(e,r)}}}function nU(t,e){var r=Rt(t);if(wa){var n=wa(t);e&&(n=tn(n).call(n,function(i){return Ra(t,i).enumerable})),r.push.apply(r,n)}return r}function iU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=nU(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):_a?zm(t,_a(i)):ot(n=nU(Object(i))).call(n,function(s){Um(t,s,Ra(i,s))})}return t}class CQ{constructor(e,r,n){Zi(this,"color",{}),Zi(this,"colorDirty",!0),Zi(this,"hoverWidth",1.5),Zi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Dt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)fY(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=ji(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=NQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-v;if(Math.abs(w)<h)break;w>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<c);return iU(iU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=An(this.from.options.color.border,r.opacity),s=An(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?An(this.to.options.color.border,r.opacity):An(this.from.options.color.border,r.opacity)}else return An(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,c]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,c=o*o+l*l;let d=((s-e)*o+(a-r)*l)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,c,d,h,f,p;const m=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(c!=d){const w=sbe(c.x-d.x,c.y-d.y),x=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+x*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const _=(h?-x:x)/2,E=this.getPoint(.5+_,n),N=this.getPoint(.5-_,n);o=Math.atan2(E.y-N.y,E.x-N.x),l=this.getPoint(.5,n)}}else{const[w,x,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:x,low:E,high:N,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:x,low:E,high:N,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(w,x,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,jQ.draw(e,s)&&(this.enableShadow(e,r),Th(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Dt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function sU(t,e){var r=Rt(t);if(wa){var n=wa(t);e&&(n=tn(n).call(n,function(i){return Ra(t,i).enumerable})),r.push.apply(r,n)}return r}function aU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ot(r=sU(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):_a?zm(t,_a(i)):ot(n=sU(Object(i))).call(n,function(s){Um(t,s,Ra(i,s))})}return t}class xT extends CQ{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return aU(aU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,c,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(m,y,f,p,s,a),l=c<l?c:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class oU extends xT{constructor(e,r,n){super(e,r,n),Zi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class lU extends xT{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class ybe extends xT{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,b,s,a);c=g<c?g:c}d=y,h=b}return c}}class uU extends ybe{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class cU extends CQ{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(l-c)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class ma{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=pa(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Bl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;ma.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=EQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=yT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(uc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ja(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ja(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),kp(r.label)?e.label=r.label:kp(e.label)||(e.label=void 0),kn(e,r,"smooth",i),kn(e,r,"shadow",i),kn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=go(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),kn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=go(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ze(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ze(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ze(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")kn(e.arrows,r.arrows,"to",i.arrows),kn(e.arrows,r.arrows,"middle",i.arrows),kn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Ch(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=go(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Fl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)ht(l,i.color,!1,n);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(Fl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let c=!1;o.color!==void 0&&(l.color=o.color,c=!0),o.highlight!==void 0&&(l.highlight=o.highlight,c=!0),o.hover!==void 0&&(l.hover=o.hover,c=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=pa(i.color));n===!0&&r.font===null&&(e.font=pa(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof oU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof uU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof lU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof cU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new oU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new uU(this.options,this.body,this.labelModule):this.edgeType=new lU(this.options,this.body,this.labelModule):this.edgeType=new cU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=NQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();VO(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class bbe{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=te(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(l-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",te(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",te(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{qe(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){ma.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(nY("id",e))this.body.data.edges=e;else if(Dt(e))this.body.data.edges=new wu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new wu;else throw new TypeError("Array or DataSet expected");if(n&&qe(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){qe(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;qe(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){qe(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new ma(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];qe(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];ot(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class TQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Fm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,w=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),w<a&&(a=w),w>l&&(l=w))}const c=Math.abs(o-s)-Math.abs(l-a);c>0?(a-=.5*c,l+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class xbe{constructor(e,r,n){this._rng=Fm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let b=y+1;b<d.length;b++)l=c[d[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class wbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<c?m=-Math.pow(p*f,2)+Math.pow(p*c,2):m=0,f!==0&&(m=m/f);const y=d*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class s2{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class _be{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let x=0;x<f.length;x++){const _=f[x];p[_].springFx=0,p[_].springFy=0}for(let x=0;x<h.length;x++)r=c[h[x]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let x=0;x<f.length;x++){const _=f[x];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let x=0;x<f.length;x++){const _=f[x];b+=p[_].x,g+=p[_].y}const v=b/f.length,w=g/f.length;for(let x=0;x<f.length;x++){const _=f[x];p[_].x-=v,p[_].y-=w}}}class Af{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const c=a[l];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Sbe extends TQ{constructor(e,r,n){super(e,r,n),this._rng=Fm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,c=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=c}}class Ebe extends Af{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Nbe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ht(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Rp(["stabilization"],this.options,e),kn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||HO(r.x))&&(r.x=0),(typeof r.y!="number"||HO(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Sbe(this.body,this.physicsBody,e),this.edgesSolver=new s2(this.body,this.physicsBody,e),this.gravitySolver=new Ebe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new xbe(this.body,this.physicsBody,e),this.edgesSolver=new s2(this.body,this.physicsBody,e),this.gravitySolver=new Af(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new wbe(this.body,this.physicsBody,e),this.edgesSolver=new _be(this.body,this.physicsBody,e),this.gravitySolver=new Af(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new TQ(this.body,this.physicsBody,e),this.edgesSolver=new s2(this.body,this.physicsBody,e),this.gravitySolver=new Af(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=te(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Cp();this.physicsTick(),(Cp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&as(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Rt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,as(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;as(te(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,h=zO((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,jQ.draw(e,{type:"arrow",point:f,angle:p,length:d}),Th(e).call(e)}}}const mr=[];for(let t=0;t<256;++t)mr.push((t+256).toString(16).slice(1));function Obe(t,e=0){return(mr[t[e+0]]+mr[t[e+1]]+mr[t[e+2]]+mr[t[e+3]]+"-"+mr[t[e+4]]+mr[t[e+5]]+"-"+mr[t[e+6]]+mr[t[e+7]]+"-"+mr[t[e+8]]+mr[t[e+9]]+"-"+mr[t[e+10]]+mr[t[e+11]]+mr[t[e+12]]+mr[t[e+13]]+mr[t[e+14]]+mr[t[e+15]]).toLowerCase()}let a2;const jbe=new Uint8Array(16);function Cbe(){if(!a2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");a2=crypto.getRandomValues.bind(crypto)}return a2(jbe)}const Tbe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var dU={randomUUID:Tbe};function Pbe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Cbe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Obe(n)}function ed(t,e,r){return dU.randomUUID&&!t?dU.randomUUID():Pbe(t)}class Lr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(ht(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):ht(n,e.options,!0),n}}class Ibe extends xt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],qe(r.edges,n=>{delete this.containedEdges[n.id]}),qe(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},qe(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},qe(r.edges,n=>{qe(this.edges,i=>{var s,a;const o=Ze(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(qe(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),ss(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Rbe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ht(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};qe(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,qe(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Lr.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Rt(d).length>0&&Rt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const w in d)if(i[v].nodes[w]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,c=Lr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Lr.cloneOptions(this.body.nodes[p]);r.joinCondition(c,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=_u(n=Rt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ze(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,c,d;const h=Rt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,c=s.fromId,d=c):(l=s.toId,c=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:c,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(v||w)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Rt(e).length==0||Rt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=ht({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Lr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Lr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+ed());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const c=this.body.functions.createNode(a,Ibe);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Rt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ze(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else qe(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,w=b.toId;b.toId==f?w=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,w,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),vo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return vo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];Ze(r).call(r,c)!==-1||Ze(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Lr.cloneOptions(n,"edge");ht(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+ed(),s!==void 0&&ht(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof ma){const s=r,a={};a[s.id]=s,r=a}if(e instanceof xt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return qe(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{qe(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];qe(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(n[l]=l)}),i(function(l){qe(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),qe(this.body.edges,(l,c)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;qe(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[c]=c)}),i(l=>{qe(n,c=>{delete l.containedEdges[c],qe(l.edges,(d,h)=>{if(d.id===c){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),qe(n,l=>{delete this.clusteredEdges[l]}),qe(n,l=>{delete this.body.edges[l]});const s=Rt(this.body.edges);qe(s,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[l],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const l=[];i(function(c){const d=Rt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class $be{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=as(()=>{var r;this.zooming=!1,te(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",te(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&uc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(te(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var o2,hU;function kbe(){if(hU)return o2;hU=1,kY();var t=rt();return o2=t.setInterval,o2}var l2,fU;function Dbe(){return fU||(fU=1,l2=kbe()),l2}var Mbe=Dbe(),qbe=Ce(Mbe);function Dp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function PQ(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Abe{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",te(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&uc(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=qbe(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=te(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;ot(e=vo(r=ss(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ze(e).call(e,"%")!==-1||Ze(e).call(e,"px")!==-1)return e;if(Ze(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Ll(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Ll.DIRECTION_ALL}),Dp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Ll(this.frame),PQ(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Fbe(t,e){const r=Ht({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Dt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class Lbe{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",te(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",te(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Fbe(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Lr.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Lr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Lr.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Lr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ja(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ja(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ja(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ja(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=te(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=te(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Gve[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=te(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function pU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class Bbe{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Ll(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;Dp(o,te(n=this._fit).call(n,this))}else{var i;Dp(o,te(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Ll(this.canvas.frame);PQ(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=te(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=pU({container:window,preventDefault:!0}):this.keycharm=pU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,c,d,h,f,p,m,y,b,g,v,w,x,_,E,N,S;te(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),te(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),te(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),te(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),te(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),te(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),te(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),te(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),te(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(x=this.keycharm).call(x,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(N=this.keycharm).call(N,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class zbe{constructor(e,r,n){var i,s,a,o,l,c,d,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new Bbe(e,r),this.body.eventListeners.onTap=te(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=te(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=te(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=te(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=te(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=te(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=te(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=te(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=te(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=te(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=te(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=te(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=te(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Rp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),kn(this.options,e,"keyboard"),e.tooltip&&(Ht(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=BO(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Wve(this.canvas.frame.canvas),y:e.y-Hve(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ze(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ht({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;ot(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=tn(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});ot(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(ot(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=as(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new rge(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var mU={},vU={},gU;function Ube(){if(gU)return vU;gU=1;var t=pT(),e=bQ();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),vU}var yU;function Wbe(){return yU||(yU=1,Ube()),mU}var bU={},u2,xU;function tl(){if(xU)return u2;xU=1;var t=Xu(),e=TypeError;return u2=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},u2}var c2,wU;function rl(){if(wU)return c2;wU=1;var t=jn(),e=xQ(),r=t("Set"),n=r.prototype;return c2={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},c2}var d2,_U;function nl(){if(_U)return d2;_U=1;var t=mn();return d2=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},d2}var h2,SU;function Dh(){if(SU)return h2;SU=1;var t=nl();return h2=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},h2}var f2,EU;function wT(){if(EU)return f2;EU=1;var t=rl(),e=Dh(),r=t.Set,n=t.add;return f2=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},f2}var p2,NU;function Mh(){return NU||(NU=1,p2=function(t){return t.size}),p2}var m2,OU;function Hbe(){return OU||(OU=1,m2=function(t){return{iterator:t,next:t.next,done:!1}}),m2}var v2,jU;function il(){if(jU)return v2;jU=1;var t=Os(),e=Ai(),r=mn(),n=tc(),i=Hbe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},v2=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},v2}var g2,CU;function Vbe(){if(CU)return g2;CU=1;var t=tl(),e=rl(),r=wT(),n=Mh(),i=il(),s=Dh(),a=nl(),o=e.has,l=e.remove;return g2=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},g2}var y2,TU;function sl(){return TU||(TU=1,y2=function(){return!1}),y2}var PU;function Kbe(){if(PU)return bU;PU=1;var t=Se(),e=Vbe(),r=Be(),n=sl(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),bU}var IU={},b2,RU;function Gbe(){if(RU)return b2;RU=1;var t=tl(),e=rl(),r=Mh(),n=il(),i=Dh(),s=nl(),a=e.Set,o=e.add,l=e.has;return b2=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},b2}var $U;function Ybe(){if($U)return IU;$U=1;var t=Se(),e=Be(),r=Gbe(),n=sl(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),IU}var kU={},x2,DU;function Qbe(){if(DU)return x2;DU=1;var t=tl(),e=rl().has,r=Mh(),n=il(),i=Dh(),s=nl(),a=hT();return x2=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},x2}var MU;function Xbe(){if(MU)return kU;MU=1;var t=Se(),e=Qbe(),r=sl(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),kU}var qU={},w2,AU;function Jbe(){if(AU)return w2;AU=1;var t=tl(),e=Mh(),r=Dh(),n=il();return w2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},w2}var FU;function Zbe(){if(FU)return qU;FU=1;var t=Se(),e=Jbe(),r=sl(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),qU}var LU={},_2,BU;function e1e(){if(BU)return _2;BU=1;var t=tl(),e=rl().has,r=Mh(),n=il(),i=nl(),s=hT();return _2=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},_2}var zU;function t1e(){if(zU)return LU;zU=1;var t=Se(),e=e1e(),r=sl(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),LU}var UU={},S2,WU;function r1e(){if(WU)return S2;WU=1;var t=tl(),e=rl(),r=wT(),n=il(),i=nl(),s=e.add,a=e.has,o=e.remove;return S2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},S2}var E2,HU;function IQ(){return HU||(HU=1,E2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),E2}var VU;function n1e(){if(VU)return UU;VU=1;var t=Se(),e=r1e(),r=IQ(),n=sl(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),UU}var KU={},N2,GU;function i1e(){if(GU)return N2;GU=1;var t=tl(),e=rl().add,r=wT(),n=il(),i=nl();return N2=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},N2}var YU;function s1e(){if(YU)return KU;YU=1;var t=Se(),e=i1e(),r=IQ(),n=sl(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),KU}var O2,QU;function a1e(){if(QU)return O2;QU=1,sc(),Wbe(),Kbe(),Ybe(),Xbe(),Zbe(),t1e(),n1e(),s1e(),vT();var t=rt();return O2=t.Set,O2}var j2,XU;function o1e(){if(XU)return j2;XU=1;var t=a1e();return ac(),j2=t,j2}var C2,JU;function l1e(){return JU||(JU=1,C2=o1e()),C2}var u1e=l1e(),As=Ce(u1e),ZU={},eW={},T2,tW;function c1e(){if(tW)return T2;tW=1;var t=He(),e=mT(),r=Lm().getWeakData,n=fT(),i=Ai(),s=Gu(),a=hr(),o=Bm(),l=Ia(),c=xr(),d=Jo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(x){return x.frozen||(x.frozen=new v)},v=function(){this.entries=[]},w=function(x,_){return p(x.entries,function(E){return E[0]===_})};return v.prototype={get:function(x){var _=w(this,x);if(_)return _[1]},has:function(x){return!!w(this,x)},set:function(x,_){var E=w(this,x);E?E[1]=_:this.entries.push([x,_])},delete:function(x){var _=m(this.entries,function(E){return E[0]===x});return~_&&y(this.entries,_,1),!!~_}},T2={getConstructor:function(x,_,E,N){var S=x(function(C,P){n(C,O),h(C,{type:_,id:b++,frozen:null}),s(P)||o(P,C[N],{that:C,AS_ENTRIES:E})}),O=S.prototype,j=f(_),T=function(C,P,D){var F=j(C),Q=r(i(P),!0);return Q===!0?g(F).set(P,D):Q[F.id]=D,C};return e(O,{delete:function(C){var P=j(this);if(!a(C))return!1;var D=r(C);return D===!0?g(P).delete(C):D&&c(D,P.id)&&delete D[P.id]},has:function(P){var D=j(this);if(!a(P))return!1;var F=r(P);return F===!0?g(D).has(P):F&&c(F,D.id)}}),e(O,E?{get:function(P){var D=j(this);if(a(P)){var F=r(P);if(F===!0)return g(D).get(P);if(F)return F[D.id]}},set:function(P,D){return T(this,P,D)}}:{add:function(P){return T(this,P,!0)}}),S}},T2}var rW;function d1e(){if(rW)return eW;rW=1;var t=gQ(),e=_t(),r=He(),n=mT(),i=Lm(),s=pT(),a=c1e(),o=hr(),l=Jo().enforce,c=Be(),d=bY(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,w,x=function(C){return function(){return C(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",x,a),E=_.prototype,N=r(E.set),S=function(){return t&&c(function(){var C=b([]);return N(new _,C,1),!m(C)})};if(d)if(v){w=a.getConstructor(x,"WeakMap",!0),i.enable();var O=r(E.delete),j=r(E.has),T=r(E.get);n(E,{delete:function(C){if(o(C)&&!p(C)){var P=l(this);return P.frozen||(P.frozen=new w),O(this,C)||P.frozen.delete(C)}return O(this,C)},has:function(P){if(o(P)&&!p(P)){var D=l(this);return D.frozen||(D.frozen=new w),j(this,P)||D.frozen.has(P)}return j(this,P)},get:function(P){if(o(P)&&!p(P)){var D=l(this);return D.frozen||(D.frozen=new w),j(this,P)?T(this,P):D.frozen.get(P)}return T(this,P)},set:function(P,D){if(o(P)&&!p(P)){var F=l(this);F.frozen||(F.frozen=new w),j(this,P)?N(this,P,D):F.frozen.set(P,D)}else N(this,P,D);return this}})}else S()&&n(E,{set:function(P,D){var F;return f(P)&&(m(P)?F=b:y(P)&&(F=g)),N(this,P,D),F&&F(P),this}});return eW}var nW;function h1e(){return nW||(nW=1,d1e()),ZU}var P2,iW;function f1e(){if(iW)return P2;iW=1,sc(),h1e();var t=rt();return P2=t.WeakMap,P2}var I2,sW;function p1e(){if(sW)return I2;sW=1;var t=f1e();return ac(),I2=t,I2}var R2,aW;function m1e(){return aW||(aW=1,R2=p1e()),R2}var v1e=m1e(),qh=Ce(v1e);function td(t,e,r){g1e(t,e),e.set(t,r)}function g1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function KO(t,e,r){return t.set(RQ(t,e),r),r}function dt(t,e){return t.get(RQ(t,e))}function RQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function oW(t,e){const r=new As;for(const n of e)t.has(n)||r.add(n);return r}var hl=new qh,Zn=new qh;class lW{constructor(){td(this,hl,new As),td(this,Zn,new As)}get size(){return dt(Zn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)dt(Zn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)dt(Zn,this).delete(i)}clear(){dt(Zn,this).clear()}getSelection(){return[...dt(Zn,this)]}getChanges(){return{added:[...oW(dt(hl,this),dt(Zn,this))],deleted:[...oW(dt(Zn,this),dt(hl,this))],previous:[...new As(dt(hl,this))],current:[...new As(dt(Zn,this))]}}commit(){const e=this.getChanges();KO(hl,this,dt(Zn,this)),KO(Zn,this,new As(dt(hl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var Ma=new qh,qa=new qh,$2=new qh;class y1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};td(this,Ma,new lW),td(this,qa,new lW),td(this,$2,void 0),KO($2,this,e)}get sizeNodes(){return dt(Ma,this).size}get sizeEdges(){return dt(qa,this).size}getNodes(){return dt(Ma,this).getSelection()}getEdges(){return dt(qa,this).getSelection()}addNodes(){dt(Ma,this).add(...arguments)}addEdges(){dt(qa,this).add(...arguments)}deleteNodes(e){dt(Ma,this).delete(e)}deleteEdges(e){dt(qa,this).delete(e)}clear(){dt(Ma,this).clear(),dt(qa,this).clear()}commit(){const e={nodes:dt(Ma,this).commit(),edges:dt(qa,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return dt($2,this).call(this,e,...n),e}}class b1e{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new y1e,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ht(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&uc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof xt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],c=a[l];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,m=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof xt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof xt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof xt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof xt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof xt&&n.id!=s||n instanceof ma)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof ma&&n.id!=s||n instanceof xt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Rt(this.hoverObj.edges).length,a=Rt(this.hoverObj.nodes).length,o=n instanceof ma&&s===0&&a===0,l=n instanceof xt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof xt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return _u(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return _u(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var uW={},k2,cW;function x1e(){if(cW)return k2;cW=1;var t=rc(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return k2=r,k2}var D2,dW;function w1e(){if(dW)return D2;dW=1;var t=Yu(),e=t.match(/firefox\/(\d+)/i);return D2=!!e&&+e[1],D2}var M2,hW;function _1e(){if(hW)return M2;hW=1;var t=Yu();return M2=/MSIE|Trident/.test(t),M2}var q2,fW;function S1e(){if(fW)return q2;fW=1;var t=Yu(),e=t.match(/AppleWebKit\/(\d+)\./);return q2=!!e&&+e[1],q2}var pW;function E1e(){if(pW)return uW;pW=1;var t=Se(),e=He(),r=Os(),n=Cn(),i=js(),s=PY(),a=Yn(),o=Be(),l=x1e(),c=oc(),d=w1e(),h=_1e(),f=wh(),p=S1e(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),x=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,O,j,T;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:j=3;break;case 68:case 71:j=4;break;default:j=2}for(T=0;T<47;T++)m.push({k:O+T,v:j})}for(m.sort(function(C,P){return P.v-C.v}),T=0;T<m.length;T++)O=m[T].k.charAt(0),N.charAt(N.length-1)!==O&&(N+=O);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!x,E=function(N){return function(S,O){return O===void 0?-1:S===void 0?1:N!==void 0?+N(S,O)||0:a(S)>a(O)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(x)return S===void 0?y(O):y(O,S);var j=[],T=i(O),C,P;for(P=0;P<T;P++)P in O&&b(j,O[P]);for(l(j,E(S)),C=i(j),P=0;P<C;)O[P]=j[P++];for(;P<T;)s(O,P++);return O}}),uW}var A2,mW;function N1e(){if(mW)return A2;mW=1,E1e();var t=wr();return A2=t("Array","sort"),A2}var F2,vW;function O1e(){if(vW)return F2;vW=1;var t=Yt(),e=N1e(),r=Array.prototype;return F2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},F2}var L2,gW;function j1e(){if(gW)return L2;gW=1;var t=O1e();return L2=t,L2}var B2,yW;function C1e(){return yW||(yW=1,B2=j1e()),B2}var T1e=C1e(),zl=Ce(T1e),bW={},z2,xW;function P1e(){if(xW)return z2;xW=1;var t=Os(),e=Cn(),r=Om(),n=js(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=c(h,p[y],y,f));return h}};return z2={left:a(!1),right:a(!0)},z2}var U2,wW;function I1e(){if(wW)return U2;wW=1;var t=RY();return U2=t==="NODE",U2}var _W;function R1e(){if(_W)return bW;_W=1;var t=Se(),e=P1e().left,r=oc(),n=wh(),i=I1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),bW}var W2,SW;function $1e(){if(SW)return W2;SW=1,R1e();var t=wr();return W2=t("Array","reduce"),W2}var H2,EW;function k1e(){if(EW)return H2;EW=1;var t=Yt(),e=$1e(),r=Array.prototype;return H2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},H2}var V2,NW;function D1e(){if(NW)return V2;NW=1;var t=k1e();return V2=t,V2}var K2,OW;function M1e(){return OW||(OW=1,K2=D1e()),K2}var q1e=M1e(),$Q=Ce(q1e);class kQ{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class A1e extends kQ{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){zl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class F1e extends kQ{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){zl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var jW={},CW;function L1e(){if(CW)return jW;CW=1;var t=Se(),e=Ia().every,r=oc(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),jW}var G2,TW;function B1e(){if(TW)return G2;TW=1,L1e();var t=wr();return G2=t("Array","every"),G2}var Y2,PW;function z1e(){if(PW)return Y2;PW=1;var t=Yt(),e=B1e(),r=Array.prototype;return Y2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},Y2}var Q2,IW;function U1e(){if(IW)return Q2;IW=1;var t=z1e();return Q2=t,Q2}var X2,RW;function W1e(){return RW||(RW=1,X2=U1e()),X2}var H1e=W1e(),DQ=Ce(H1e);function V1e(t,e){const r=new As;return ot(t).call(t,n=>{var i;ot(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),ot(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function K1e(t){return MQ(e=>{var r,n;return DQ(r=tn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function G1e(t){return MQ(e=>{var r,n;return DQ(r=tn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function MQ(t,e,r,n){var i;const s=go(null),a=$Q(i=[...OQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const b=s[y.id]+l;if(ot(c=tn(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const v=g[o],w=s[v];(w==null||e(b,w))&&(s[v]=b,p.push(g[r]))}),m>a)return V1e(n,s);++m}}return s}class Y1e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new gT;let n=0;const i=zl(e=[...new As(cme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Rt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class Q1e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Cp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(uc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),kn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),ht(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Fm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Lr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Lr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new Y1e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let w=0;w<g.length-1;w++){const x=g[w].max-g[w+1].min;v+=x+this.options.hierarchical.treeSpacing,s(w+1,v)}},s=(g,v)=>{const w=this.hierarchical.trees;for(const x in w)Object.prototype.hasOwnProperty.call(w,x)&&w[x]===g&&this.direction.shift(x,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let x=0;x<w.length;x++)o(this.body.nodes[w[x]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,x=1e9,_=1e9,E=-1e9;for(const N in g)if(Object.prototype.hasOwnProperty.call(g,N)){const S=e.body.nodes[N],O=e.hierarchical.levels[S.id],j=e.direction.getPosition(S),[T,C]=e._getSpaceAroundNode(S,g);w=Math.min(T,w),x=Math.min(C,x),O<=v&&(_=Math.min(j,_),E=Math.max(j,E))}return[_,E,w,x]},c=(g,v)=>{const w=this.hierarchical.getMaxLevel(g.id),x=this.hierarchical.getMaxLevel(v.id);return Math.min(w,x)},d=(g,v,w)=>{const x=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],N=x.distributionOrdering[E];if(N.length>1)for(let S=0;S<N.length-1;S++){const O=N[S],j=N[S+1];x.hasSameParent(O,j)&&x.inSameSubNetwork(O,j)&&g(O,j,w)}}},h=function(g,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const x=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-x),N=e.options.hierarchical.nodeSpacing;if(E>N){const S={},O={};o(g,S),o(v,O);const j=c(g,v),T=l(S,j),C=l(O,j),P=T[1],D=C[0],F=C[2];if(Math.abs(P-D)>N){let H=P-D+N;H<-F+N&&(H=-F+N),H<0&&(e._shiftBlock(v.id,H),r=!0,w===!0&&e._centerParent(v))}}},f=(g,v)=>{const w=v.id,x=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,N={},S=[];for(let F=0;F<x.length;F++){const Q=x[F];if(Q.toId!=Q.fromId){const H=Q.toId==w?Q.from:Q.to;N[x[F].id]=H,this.hierarchical.levels[H.id]<_&&S.push(Q)}}const O=(F,Q)=>{let H=0;for(let L=0;L<Q.length;L++)if(N[Q[L].id]!==void 0){const V=this.direction.getPosition(N[Q[L].id])-F;H+=V/Math.sqrt(V*V+E)}return H},j=(F,Q)=>{let H=0;for(let L=0;L<Q.length;L++)if(N[Q[L].id]!==void 0){const V=this.direction.getPosition(N[Q[L].id])-F;H-=E*Math.pow(V*V+E,-1.5)}return H},T=(F,Q)=>{let H=this.direction.getPosition(v);const L={};for(let V=0;V<F;V++){const W=O(H,Q),z=j(H,Q),K=40,fe=Math.max(-K,Math.min(K,Math.round(W/z)));if(H=H-fe,L[H]!==void 0)break;L[H]=V}return H},C=F=>{const Q=this.direction.getPosition(v);if(n[v.id]===void 0){const K={};o(v,K),n[v.id]=K}const H=l(n[v.id]),L=H[2],V=H[3],W=F-Q;let z=0;W>0?z=Math.min(W,V-this.options.hierarchical.nodeSpacing):W<0&&(z=-Math.min(-W,L-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(v.id,z),r=!0)},P=F=>{const Q=this.direction.getPosition(v),[H,L]=this._getSpaceAroundNode(v),V=F-Q;let W=Q;V>0?W=Math.min(Q+(L-this.options.hierarchical.nodeSpacing),F):V<0&&(W=Math.max(Q-(H-this.options.hierarchical.nodeSpacing),F)),W!==Q&&(this.direction.setPosition(v,W),r=!0)};let D=T(g,S);C(D),D=T(g,x),P(D)},p=g=>{let v=this.hierarchical.getLevels();v=vo(v).call(v);for(let w=0;w<g;w++){r=!1;for(let x=0;x<v.length;x++){const _=v[x],E=this.hierarchical.distributionOrdering[_];for(let N=0;N<E.length;N++)f(1e3,E[N])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=vo(v).call(v);for(let w=0;w<g&&(r=!1,d(h,v,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=vo(g).call(g);for(let v=0;v<g.length;v++){const w=g[v],x=this.hierarchical.distributionOrdering[w];for(let _=0;_<x.length;_++)this._centerParent(x[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Rt(e[n]);i=this._indexArrayToNodes(i),zl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*s;s>0&&(c=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);zl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,c),this._validatePositionAndContinue(l,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return qe(e.edges,n=>{var i;Ze(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;qe(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return qe(e,i=>{n.push(Number(i))}),zl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;qe(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Lr.cloneOptions(i,"node"),Lr.cloneOptions(s,"node"),Lr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=$Q(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new gT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=G1e(r):this.hierarchical.levels=K1e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new A1e(this):this.direction=new F1e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class X1e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ht(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",te(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",te(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,ht(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,te(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",te(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,te(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",te(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=ht({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,te(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",te(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",te(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",te(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",te(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",te(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,te(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",te(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",te(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",te(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",te(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=ht({},this.options.controlNodeStyle);n.id="targetNode"+ed(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ks(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,te(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ks(this.editModeDiv),ks(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of ss(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),ks(this.manipulationDiv),ks(this.editModeDiv),ks(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,te(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Ch(Rt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Ll(e,{});Dp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ze(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;ss(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ze(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;ss(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+ed(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ze(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ze(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:ed(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ie="string",ee="boolean",B="number",qc="array",_e="object",qQ="dom",J1e="any",J2=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Z2={borderWidth:{number:B},borderWidthSelected:{number:B,undefined:"undefined"},brokenImage:{string:ie,undefined:"undefined"},chosen:{label:{boolean:ee,function:"function"},node:{boolean:ee,function:"function"},__type__:{object:_e,boolean:ee}},color:{border:{string:ie},background:{string:ie},highlight:{border:{string:ie},background:{string:ie},__type__:{object:_e,string:ie}},hover:{border:{string:ie},background:{string:ie},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},opacity:{number:B,undefined:"undefined"},fixed:{x:{boolean:ee},y:{boolean:ee},__type__:{object:_e,boolean:ee}},font:{align:{string:ie},color:{string:ie},size:{number:B},face:{string:ie},background:{string:ie},strokeWidth:{number:B},strokeColor:{string:ie},vadjust:{number:B},multi:{boolean:ee,string:ie},bold:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},boldital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},ital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},mono:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},group:{string:ie,number:B,undefined:"undefined"},heightConstraint:{minimum:{number:B},valign:{string:ie},__type__:{object:_e,boolean:ee,number:B}},hidden:{boolean:ee},icon:{face:{string:ie},code:{string:ie},size:{number:B},color:{string:ie},weight:{string:ie,number:B},__type__:{object:_e}},id:{string:ie,number:B},image:{selected:{string:ie,undefined:"undefined"},unselected:{string:ie,undefined:"undefined"},__type__:{object:_e,string:ie}},imagePadding:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:_e,number:B}},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:ee},level:{number:B,undefined:"undefined"},margin:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:_e,number:B}},mass:{number:B},physics:{boolean:ee},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:ee},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:_e,boolean:ee}},customScalingFunction:{function:"function"},__type__:{object:_e}},shadow:{enabled:{boolean:ee},color:{string:ie},size:{number:B},x:{number:B},y:{number:B},__type__:{object:_e,boolean:ee}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ee,array:qc},borderRadius:{number:B},interpolation:{boolean:ee},useImageSize:{boolean:ee},useBorderWithImage:{boolean:ee},coordinateOrigin:{string:["center","top-left"]},__type__:{object:_e}},size:{number:B},title:{string:ie,dom:qQ,undefined:"undefined"},value:{number:B,undefined:"undefined"},widthConstraint:{minimum:{number:B},maximum:{number:B},__type__:{object:_e,boolean:ee,number:B}},x:{number:B},y:{number:B},__type__:{object:_e}},Z1e={configure:{enabled:{boolean:ee},filter:{boolean:ee,string:ie,array:qc,function:"function"},container:{dom:qQ},showButton:{boolean:ee},__type__:{object:_e,boolean:ee,string:ie,array:qc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:J2},imageHeight:{number:B},imageWidth:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},middle:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:J2},imageWidth:{number:B},imageHeight:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},from:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:J2},imageWidth:{number:B},imageHeight:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},__type__:{string:["from","to","middle"],object:_e}},endPointOffset:{from:{number:B},to:{number:B},__type__:{object:_e,number:B}},arrowStrikethrough:{boolean:ee},background:{enabled:{boolean:ee},color:{string:ie},size:{number:B},dashes:{boolean:ee,array:qc},__type__:{object:_e,boolean:ee}},chosen:{label:{boolean:ee,function:"function"},edge:{boolean:ee,function:"function"},__type__:{object:_e,boolean:ee}},color:{color:{string:ie},highlight:{string:ie},hover:{string:ie},inherit:{string:["from","to","both"],boolean:ee},opacity:{number:B},__type__:{object:_e,string:ie}},dashes:{boolean:ee,array:qc},font:{color:{string:ie},size:{number:B},face:{string:ie},background:{string:ie},strokeWidth:{number:B},strokeColor:{string:ie},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:B},multi:{boolean:ee,string:ie},bold:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},boldital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},ital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},mono:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},hidden:{boolean:ee},hoverWidth:{function:"function",number:B},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:ee},length:{number:B,undefined:"undefined"},physics:{boolean:ee},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:ee},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:_e,boolean:ee}},customScalingFunction:{function:"function"},__type__:{object:_e}},selectionWidth:{function:"function",number:B},selfReferenceSize:{number:B},selfReference:{size:{number:B},angle:{number:B},renderBehindTheNode:{boolean:ee},__type__:{object:_e}},shadow:{enabled:{boolean:ee},color:{string:ie},size:{number:B},x:{number:B},y:{number:B},__type__:{object:_e,boolean:ee}},smooth:{enabled:{boolean:ee},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:B},forceDirection:{string:["horizontal","vertical","none"],boolean:ee},__type__:{object:_e,boolean:ee}},title:{string:ie,undefined:"undefined"},width:{number:B},widthConstraint:{maximum:{number:B},__type__:{object:_e,boolean:ee,number:B}},value:{number:B,undefined:"undefined"},__type__:{object:_e}},groups:{useDefaultGroups:{boolean:ee},__any__:Z2,__type__:{object:_e}},interaction:{dragNodes:{boolean:ee},dragView:{boolean:ee},hideEdgesOnDrag:{boolean:ee},hideEdgesOnZoom:{boolean:ee},hideNodesOnDrag:{boolean:ee},hover:{boolean:ee},keyboard:{enabled:{boolean:ee},speed:{x:{number:B},y:{number:B},zoom:{number:B},__type__:{object:_e}},bindToWindow:{boolean:ee},autoFocus:{boolean:ee},__type__:{object:_e,boolean:ee}},multiselect:{boolean:ee},navigationButtons:{boolean:ee},selectable:{boolean:ee},selectConnectedEdges:{boolean:ee},hoverConnectedEdges:{boolean:ee},tooltipDelay:{number:B},zoomView:{boolean:ee},zoomSpeed:{number:B},__type__:{object:_e}},layout:{randomSeed:{undefined:"undefined",number:B,string:ie},improvedLayout:{boolean:ee},clusterThreshold:{number:B},hierarchical:{enabled:{boolean:ee},levelSeparation:{number:B},nodeSpacing:{number:B},treeSpacing:{number:B},blockShifting:{boolean:ee},edgeMinimization:{boolean:ee},parentCentralization:{boolean:ee},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:_e,boolean:ee}},__type__:{object:_e}},manipulation:{enabled:{boolean:ee},initiallyActive:{boolean:ee},addNode:{boolean:ee,function:"function"},addEdge:{boolean:ee,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:_e,boolean:ee,function:"function"}},deleteNode:{boolean:ee,function:"function"},deleteEdge:{boolean:ee,function:"function"},controlNodeStyle:Z2,__type__:{object:_e,boolean:ee}},nodes:Z2,physics:{enabled:{boolean:ee},barnesHut:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},forceAtlas2Based:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},repulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},__type__:{object:_e}},hierarchicalRepulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},maxVelocity:{number:B},minVelocity:{number:B},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ee},iterations:{number:B},updateInterval:{number:B},onlyDynamicEdges:{boolean:ee},fit:{boolean:ee},__type__:{object:_e,boolean:ee}},timestep:{number:B},adaptiveTimestep:{boolean:ee},wind:{x:{number:B},y:{number:B},__type__:{object:_e}},__type__:{object:_e,boolean:ee}},autoResize:{boolean:ee},clickToUse:{boolean:ee},locale:{string:ie},locales:{__any__:{any:J1e},__type__:{object:_e}},height:{string:ie},width:{string:ie},__type__:{object:_e}},AQ={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},exe=(t,e,r)=>{var n;return!!(ha(t).call(t,"physics")&&ha(n=AQ.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class txe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],c={};i[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],c=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+c[m]);f[m]=b,y[h]=b}}}return i}}class rxe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new txe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<c;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const c=r[l];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let x=0;x<i.length;x++){const _=i[x];if(_!==e){const E=s[_].x,N=s[_].y,S=h[_],O=f[_],j=1/((c-E)**2+(d-N)**2)**1.5;a+=S*(1-O*(d-N)**2*j),o+=S*(O*(c-E)*(d-N)*j),l+=S*(1-O*(c-E)**2*j)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),w=-(m*v+y)/p;s[e].x+=w,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],l+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),w=s[f]*(o-b-a[f]*(o-b)*v),x=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[w,x],c+=w,d+=x;const _=this.E_sums[f];_[0]+=w-m,_[1]+=x-y}}this.E_sums[e]=[c,d]}}function be(t,e,r){var n,i,s,a;if(!(this instanceof be))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Oge,clickToUse:!1},Ht(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:te(n=this.on).call(n,this),off:te(i=this.off).call(i,this),emit:te(s=this.emit).call(s,this),once:te(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Tge(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Wge,this.canvas=new Abe(this.body),this.selectionHandler=new b1e(this.body,this.canvas),this.interactionHandler=new zbe(this.body,this.canvas,this.selectionHandler),this.view=new Lbe(this.body,this.canvas),this.renderer=new $be(this.body,this.canvas),this.physics=new Nbe(this.body),this.layoutEngine=new Q1e(this.body),this.clustering=new Rbe(this.body),this.manipulation=new X1e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Z0e(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new bbe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new rxe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}pY(be.prototype);be.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(nge.validate(t,Z1e)===!0&&console.error("%cErrors have been found in the supplied options object.",uQ),uc(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=jge(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new tge(this,this.body.container,AQ,this.canvas.pixelRatio,exe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};ht(n.nodes,this.nodesHandler.options),ht(n.edges,this.edgesHandler.options),ht(n.layout,this.layoutEngine.options),ht(n.interaction,this.selectionHandler.options),ht(n.interaction,this.renderer.options),ht(n.interaction,this.interactionHandler.options),ht(n.manipulation,this.manipulation.options),ht(n.physics,this.physics.options),ht(n.global,this.canvas.options),ht(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new ege(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};be.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};be.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};be.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=fge(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=pge(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};be.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ks(this.body.container)};be.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};be.prototype.isActive=function(){return!this.activator||this.activator.active};be.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};be.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};be.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};be.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};be.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};be.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};be.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};be.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};be.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};be.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};be.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};be.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};be.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};be.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};be.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};be.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};be.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};be.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};be.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};be.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};be.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};be.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};be.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};be.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};be.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};be.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};be.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};be.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};be.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};be.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};be.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};be.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};be.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};be.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};be.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};be.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};be.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};be.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};be.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};be.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};be.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};be.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};be.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};be.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};be.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};be.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};be.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};be.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function nxe({graphData:t,startPersonId:e,onNodeClick:r}){const n=I.useRef(null),i=I.useRef(null),s=dn(),a=I.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);I.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new wu(t.nodes),h=new wu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new be(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,w])=>{if(g.has(v)||g.has(w))return;const x=y[v],_=y[w];if(!x||!_)return;const E=(x.x+_.x)/2;b[v]={x:E-60,y:x.y},b[w]={x:E+60,y:_.y},g.add(v),g.add(w)}),Object.entries(b).forEach(([v,w])=>{p.moveNode(v,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):u.jsxs("div",{className:"relative w-full h-full",children:[u.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[u.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:u.jsx(Vre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:u.jsx(Kre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:u.jsx(sK,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),u.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const ixe=["parent","child","spouse","lover","partner"];function sxe(t){return ixe.includes(t==null?void 0:t.toLowerCase())}function axe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function oxe(t){return(t==null?void 0:t.toLowerCase())==="child"}function lxe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function uxe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,w,x,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((x=h.acf)==null?void 0:x.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const N=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),O=E.getFullYear();g=`${N}-${S}-${O}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,l(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!sxe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,l(w,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===b||`${w.from}-${w.to}`===g)){const w=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(axe(w))i.push({from:y,to:h,type:"parent-child"});else if(oxe(w))i.push({from:h,to:y,type:"parent-child"});else if(lxe(w)){const[x,_]=h<y?[h,y]:[y,h];i.push({from:x,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function cxe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,w,x;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((w=o.get(b.from))==null||w.push(b.to),(x=o.get(b.to))==null||x.push(b.from))});const l=new Map,c=new Set,d=[{id:e,generation:0}];for(l.set(e,0),c.add(e);d.length>0;){const{id:b,generation:g}=d.shift(),v=s.get(b)||[];for(const _ of v)c.has(_)||(c.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(b)||[];for(const _ of w)c.has(_)||(c.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const x=o.get(b)||[];for(const _ of x)c.has(_)||(c.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const w=b?b.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):"?";let x,_;v?(x="%23d1d5db",_="%236b7280"):g?(x="%23fef3c7",_="%23b45309"):(x="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${x}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,w=r[b.id]||!1;let x=b.name;w&&(x=b.name+" ");let _=[x],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const N=b.photo||p(b.name,v,w);let S="#d1d5db";return v?S="#f59e0b":w&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:N,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:w}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function dxe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function hxe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function fxe(){var p,m;const{id:t}=ws(),e=dn(),r=parseInt(t,10),{data:n,isLoading:i}=Du(t),{data:s=[],isLoading:a}=ku(),{data:o=[]}=mt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),l=I.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=fp({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await $e.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=I.useMemo(()=>{const y={};return c.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],w=b.data.some(x=>{const _=Array.isArray(x.date_type)?x.date_type[0]:x.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=w}}),y},[c,l]);hn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=I.useMemo(()=>{if(!n||!s.length)return null;try{const y=dxe(s);o.length>0&&hxe(y,o);const b=uxe(r,s,y);return!b||b.nodes.length===0?null:cxe(b,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?u.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(Sn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),u.jsx("div",{className:"card p-6",children:u.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?u.jsx(nxe,{graphData:h,startPersonId:r,onNodeClick:f}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),u.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),u.jsx(he,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function pxe(){const{loginUrl:t,isLoggedIn:e}=eC();return pK(),I.useEffect(()=>{e||(window.location.href=t)},[e,t]),u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function mxe({children:t}){const{data:e,isLoading:r,error:n}=mt({queryKey:["current-user"],queryFn:async()=>(await $e.getCurrentUser()).data,retry:!1});return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(ya,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(ya,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function vxe({children:t}){const{isLoggedIn:e,isLoading:r}=eC();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?u.jsx(mxe,{children:t}):u.jsx(hV,{to:"/login",replace:!0})}function gxe(){return u.jsxs(iI,{children:[u.jsx(Xe,{path:"/login",element:u.jsx(pxe,{})}),u.jsx(Xe,{path:"/*",element:u.jsx(vxe,{children:u.jsx(rne,{children:u.jsxs(iI,{children:[u.jsx(Xe,{path:"/",element:u.jsx(Hie,{})}),u.jsx(Xe,{path:"/people",element:u.jsx(sse,{})}),u.jsx(Xe,{path:"/people/new",element:u.jsx(nR,{})}),u.jsx(Xe,{path:"/people/:personId/contact/new",element:u.jsx(sR,{})}),u.jsx(Xe,{path:"/people/:personId/contact/:index/edit",element:u.jsx(sR,{})}),u.jsx(Xe,{path:"/people/:personId/work-history/new",element:u.jsx(iR,{})}),u.jsx(Xe,{path:"/people/:personId/work-history/:index/edit",element:u.jsx(iR,{})}),u.jsx(Xe,{path:"/people/:personId/relationship/new",element:u.jsx(aR,{})}),u.jsx(Xe,{path:"/people/:personId/relationship/:index/edit",element:u.jsx(aR,{})}),u.jsx(Xe,{path:"/people/:id/family-tree",element:u.jsx(fxe,{})}),u.jsx(Xe,{path:"/people/:id/edit",element:u.jsx(nR,{})}),u.jsx(Xe,{path:"/people/:id",element:u.jsx(Nse,{})}),u.jsx(Xe,{path:"/companies",element:u.jsx(Qse,{})}),u.jsx(Xe,{path:"/companies/new",element:u.jsx(oR,{})}),u.jsx(Xe,{path:"/companies/:id",element:u.jsx(Xse,{})}),u.jsx(Xe,{path:"/companies/:id/edit",element:u.jsx(oR,{})}),u.jsx(Xe,{path:"/dates",element:u.jsx(eae,{})}),u.jsx(Xe,{path:"/dates/new",element:u.jsx(lR,{})}),u.jsx(Xe,{path:"/dates/:id/edit",element:u.jsx(lR,{})}),u.jsx(Xe,{path:"/todos",element:u.jsx(rae,{})}),u.jsx(Xe,{path:"/settings",element:u.jsx(nae,{})}),u.jsx(Xe,{path:"/settings/relationship-types",element:u.jsx(iae,{})}),u.jsx(Xe,{path:"/settings/import",element:u.jsx(uae,{})}),u.jsx(Xe,{path:"/settings/export",element:u.jsx(cae,{})}),u.jsx(Xe,{path:"/settings/user-approval",element:u.jsx(dae,{})}),u.jsx(Xe,{path:"*",element:u.jsx(hV,{to:"/",replace:!0})})]})})})})]})}const yxe=new Kee({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),eN=document.getElementById("root");if(!eN)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{tN.createRoot(eN).render(u.jsx(Pe.StrictMode,{children:u.jsx(Gee,{client:yxe,children:u.jsx(vee,{children:u.jsx(gxe,{})})})}))}catch(t){console.error("Error mounting React app:",t),eN.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
