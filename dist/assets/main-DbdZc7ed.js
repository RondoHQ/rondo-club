var FT=t=>{throw TypeError(t)};var Um=(t,e,r)=>e.has(t)||FT("Cannot "+r);var R=(t,e,r)=>(Um(t,e,"read from private field"),r?r.call(t):e.get(t)),pe=(t,e,r)=>e.has(t)?FT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ne=(t,e,r,n)=>(Um(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Oe=(t,e,r)=>(Um(t,e,"access private method"),r);var Mh=(t,e,r,n)=>({set _(i){ne(t,e,i,r)},get _(){return R(t,e,n)}});function FQ(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function LQ(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var UW={exports:{}},$p={},WW={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bd=Symbol.for("react.element"),BQ=Symbol.for("react.portal"),zQ=Symbol.for("react.fragment"),UQ=Symbol.for("react.strict_mode"),WQ=Symbol.for("react.profiler"),HQ=Symbol.for("react.provider"),VQ=Symbol.for("react.context"),KQ=Symbol.for("react.forward_ref"),GQ=Symbol.for("react.suspense"),YQ=Symbol.for("react.memo"),QQ=Symbol.for("react.lazy"),LT=Symbol.iterator;function XQ(t){return t===null||typeof t!="object"?null:(t=LT&&t[LT]||t["@@iterator"],typeof t=="function"?t:null)}var HW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},VW=Object.assign,KW={};function Nu(t,e,r){this.props=t,this.context=e,this.refs=KW,this.updater=r||HW}Nu.prototype.isReactComponent={};Nu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Nu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function GW(){}GW.prototype=Nu.prototype;function HO(t,e,r){this.props=t,this.context=e,this.refs=KW,this.updater=r||HW}var VO=HO.prototype=new GW;VO.constructor=HO;VW(VO,Nu.prototype);VO.isPureReactComponent=!0;var BT=Array.isArray,YW=Object.prototype.hasOwnProperty,KO={current:null},QW={key:!0,ref:!0,__self:!0,__source:!0};function XW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)YW.call(e,n)&&!QW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),c=0;c<o;c++)l[c]=arguments[c+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Bd,type:t,key:s,ref:a,props:i,_owner:KO.current}}function JQ(t,e){return{$$typeof:Bd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function GO(t){return typeof t=="object"&&t!==null&&t.$$typeof===Bd}function ZQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var zT=/\/+/g;function Wm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?ZQ(""+t.key):e.toString(36)}function pf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Bd:case BQ:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Wm(a,0):n,BT(i)?(r="",t!=null&&(r=t.replace(zT,"$&/")+"/"),pf(i,e,r,"",function(c){return c})):i!=null&&(GO(i)&&(i=JQ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(zT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",BT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Wm(s,o);a+=pf(s,e,r,l,i)}else if(l=XQ(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Wm(s,o++),a+=pf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function qh(t,e,r){if(t==null)return t;var n=[],i=0;return pf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function eX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Hr={current:null},mf={transition:null},tX={ReactCurrentDispatcher:Hr,ReactCurrentBatchConfig:mf,ReactCurrentOwner:KO};function JW(){throw Error("act(...) is not supported in production builds of React.")}Ae.Children={map:qh,forEach:function(t,e,r){qh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return qh(t,function(){e++}),e},toArray:function(t){return qh(t,function(e){return e})||[]},only:function(t){if(!GO(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ae.Component=Nu;Ae.Fragment=zQ;Ae.Profiler=WQ;Ae.PureComponent=HO;Ae.StrictMode=UQ;Ae.Suspense=GQ;Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tX;Ae.act=JW;Ae.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=VW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=KO.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)YW.call(e,l)&&!QW.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var c=0;c<l;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Bd,type:t.type,key:i,ref:s,props:n,_owner:a}};Ae.createContext=function(t){return t={$$typeof:VQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:HQ,_context:t},t.Consumer=t};Ae.createElement=XW;Ae.createFactory=function(t){var e=XW.bind(null,t);return e.type=t,e};Ae.createRef=function(){return{current:null}};Ae.forwardRef=function(t){return{$$typeof:KQ,render:t}};Ae.isValidElement=GO;Ae.lazy=function(t){return{$$typeof:QQ,_payload:{_status:-1,_result:t},_init:eX}};Ae.memo=function(t,e){return{$$typeof:YQ,type:t,compare:e===void 0?null:e}};Ae.startTransition=function(t){var e=mf.transition;mf.transition={};try{t()}finally{mf.transition=e}};Ae.unstable_act=JW;Ae.useCallback=function(t,e){return Hr.current.useCallback(t,e)};Ae.useContext=function(t){return Hr.current.useContext(t)};Ae.useDebugValue=function(){};Ae.useDeferredValue=function(t){return Hr.current.useDeferredValue(t)};Ae.useEffect=function(t,e){return Hr.current.useEffect(t,e)};Ae.useId=function(){return Hr.current.useId()};Ae.useImperativeHandle=function(t,e,r){return Hr.current.useImperativeHandle(t,e,r)};Ae.useInsertionEffect=function(t,e){return Hr.current.useInsertionEffect(t,e)};Ae.useLayoutEffect=function(t,e){return Hr.current.useLayoutEffect(t,e)};Ae.useMemo=function(t,e){return Hr.current.useMemo(t,e)};Ae.useReducer=function(t,e,r){return Hr.current.useReducer(t,e,r)};Ae.useRef=function(t){return Hr.current.useRef(t)};Ae.useState=function(t){return Hr.current.useState(t)};Ae.useSyncExternalStore=function(t,e,r){return Hr.current.useSyncExternalStore(t,e,r)};Ae.useTransition=function(){return Hr.current.useTransition()};Ae.version="18.3.1";WW.exports=Ae;var I=WW.exports;const je=LQ(I),rX=FQ({__proto__:null,default:je},[I]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var nX=I,iX=Symbol.for("react.element"),sX=Symbol.for("react.fragment"),aX=Object.prototype.hasOwnProperty,oX=nX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,lX={key:!0,ref:!0,__self:!0,__source:!0};function ZW(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)aX.call(e,n)&&!lX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:iX,type:t,key:s,ref:a,props:i,_owner:oX.current}}$p.Fragment=sX;$p.jsx=ZW;$p.jsxs=ZW;UW.exports=$p;var u=UW.exports,X2={},e9={exports:{}},_n={},t9={exports:{}},r9={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var W=L.length;L.push(V);e:for(;0<W;){var z=W-1>>>1,K=L[z];if(0<i(K,V))L[z]=V,L[W]=K,W=z;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],W=L.pop();if(W!==V){L[0]=W;e:for(var z=0,K=L.length,he=K>>>1;z<he;){var xe=2*(z+1)-1,Re=L[xe],ge=xe+1,Ee=L[ge];if(0>i(Re,W))ge<K&&0>i(Ee,Re)?(L[z]=Ee,L[ge]=W,z=ge):(L[z]=Re,L[xe]=W,z=xe);else if(ge<K&&0>i(Ee,W))L[z]=Ee,L[ge]=W,z=ge;else break e}}return V}function i(L,V){var W=L.sortIndex-V.sortIndex;return W!==0?W:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(L){for(var V=r(c);V!==null;){if(V.callback===null)n(c);else if(V.startTime<=L)n(c),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(c)}}function b(L){if(y=!1,w(L),!m)if(r(l)!==null)m=!0,Q(_);else{var V=r(c);V!==null&&H(b,V.startTime-L)}}function _(L,V){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var W=f;try{for(w(V),h=r(l);h!==null&&(!(h.expirationTime>V)||L&&!T());){var z=h.callback;if(typeof z=="function"){h.callback=null,f=h.priorityLevel;var K=z(h.expirationTime<=V);V=t.unstable_now(),typeof K=="function"?h.callback=K:h===r(l)&&n(l),w(V)}else n(l);h=r(l)}if(h!==null)var he=!0;else{var xe=r(c);xe!==null&&H(b,xe.startTime-V),he=!1}return he}finally{h=null,f=W,p=!1}}var E=!1,N=null,S=-1,O=5,C=-1;function T(){return!(t.unstable_now()-C<O)}function P(){if(N!==null){var L=t.unstable_now();C=L;var V=!0;try{V=N(!0,L)}finally{V?j():(E=!1,N=null)}}else E=!1}var j;if(typeof v=="function")j=function(){v(P)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,F=D.port2;D.port1.onmessage=P,j=function(){F.postMessage(null)}}else j=function(){x(P,0)};function Q(L){N=L,E||(E=!0,j())}function H(L,V){S=x(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Q(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):O=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var W=f;f=V;try{return L()}finally{f=W}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var W=f;f=L;try{return V()}finally{f=W}},t.unstable_scheduleCallback=function(L,V,W){var z=t.unstable_now();switch(typeof W=="object"&&W!==null?(W=W.delay,W=typeof W=="number"&&0<W?z+W:z):W=z,L){case 1:var K=-1;break;case 2:K=250;break;case 5:K=1073741823;break;case 4:K=1e4;break;default:K=5e3}return K=W+K,L={id:d++,callback:V,priorityLevel:L,startTime:W,expirationTime:K,sortIndex:-1},W>z?(L.sortIndex=W,e(c,L),r(l)===null&&L===r(c)&&(y?(g(S),S=-1):y=!0,H(b,W-z))):(L.sortIndex=K,e(l,L),m||p||(m=!0,Q(_))),L},t.unstable_shouldYield=T,t.unstable_wrapCallback=function(L){var V=f;return function(){var W=f;f=V;try{return L.apply(this,arguments)}finally{f=W}}}})(r9);t9.exports=r9;var uX=t9.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var cX=I,xn=uX;function Z(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var n9=new Set,ed={};function Do(t,e){nu(t,e),nu(t+"Capture",e)}function nu(t,e){for(ed[t]=e,t=0;t<e.length;t++)n9.add(e[t])}var ds=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),J2=Object.prototype.hasOwnProperty,dX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,UT={},WT={};function hX(t){return J2.call(WT,t)?!0:J2.call(UT,t)?!1:dX.test(t)?WT[t]=!0:(UT[t]=!0,!1)}function fX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function pX(t,e,r,n){if(e===null||typeof e>"u"||fX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Vr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var yr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){yr[t]=new Vr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];yr[e]=new Vr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){yr[t]=new Vr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){yr[t]=new Vr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){yr[t]=new Vr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){yr[t]=new Vr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){yr[t]=new Vr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){yr[t]=new Vr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){yr[t]=new Vr(t,5,!1,t.toLowerCase(),null,!1,!1)});var YO=/[\-:]([a-z])/g;function QO(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(YO,QO);yr[e]=new Vr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(YO,QO);yr[e]=new Vr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(YO,QO);yr[e]=new Vr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){yr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!1,!1)});yr.xlinkHref=new Vr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){yr[t]=new Vr(t,1,!1,t.toLowerCase(),null,!0,!0)});function XO(t,e,r,n){var i=yr.hasOwnProperty(e)?yr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(pX(e,r,i,n)&&(r=null),n||i===null?hX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var gs=cX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ah=Symbol.for("react.element"),fl=Symbol.for("react.portal"),pl=Symbol.for("react.fragment"),JO=Symbol.for("react.strict_mode"),Z2=Symbol.for("react.profiler"),i9=Symbol.for("react.provider"),s9=Symbol.for("react.context"),ZO=Symbol.for("react.forward_ref"),eN=Symbol.for("react.suspense"),tN=Symbol.for("react.suspense_list"),eC=Symbol.for("react.memo"),Is=Symbol.for("react.lazy"),a9=Symbol.for("react.offscreen"),HT=Symbol.iterator;function hc(t){return t===null||typeof t!="object"?null:(t=HT&&t[HT]||t["@@iterator"],typeof t=="function"?t:null)}var Ot=Object.assign,Hm;function Tc(t){if(Hm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Hm=e&&e[1]||""}return`
`+Hm+t}var Vm=!1;function Km(t,e){if(!t||Vm)return"";Vm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{Vm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?Tc(t):""}function mX(t){switch(t.tag){case 5:return Tc(t.type);case 16:return Tc("Lazy");case 13:return Tc("Suspense");case 19:return Tc("SuspenseList");case 0:case 2:case 15:return t=Km(t.type,!1),t;case 11:return t=Km(t.type.render,!1),t;case 1:return t=Km(t.type,!0),t;default:return""}}function rN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case pl:return"Fragment";case fl:return"Portal";case Z2:return"Profiler";case JO:return"StrictMode";case eN:return"Suspense";case tN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case s9:return(t.displayName||"Context")+".Consumer";case i9:return(t._context.displayName||"Context")+".Provider";case ZO:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case eC:return e=t.displayName||null,e!==null?e:rN(t.type)||"Memo";case Is:e=t._payload,t=t._init;try{return rN(t(e))}catch{}}return null}function vX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return rN(e);case 8:return e===JO?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function pa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function o9(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function gX(t){var e=o9(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Fh(t){t._valueTracker||(t._valueTracker=gX(t))}function l9(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=o9(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Mf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function nN(t,e){var r=e.checked;return Ot({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function VT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=pa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function u9(t,e){e=e.checked,e!=null&&XO(t,"checked",e,!1)}function iN(t,e){u9(t,e);var r=pa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?sN(t,e.type,r):e.hasOwnProperty("defaultValue")&&sN(t,e.type,pa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function KT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function sN(t,e,r){(e!=="number"||Mf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var jc=Array.isArray;function Il(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+pa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function aN(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Z(91));return Ot({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function GT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Z(92));if(jc(r)){if(1<r.length)throw Error(Z(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:pa(r)}}function c9(t,e){var r=pa(e.value),n=pa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function YT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function d9(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function oN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?d9(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Lh,h9=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Lh=Lh||document.createElement("div"),Lh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Lh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function td(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Mc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},yX=["Webkit","ms","Moz","O"];Object.keys(Mc).forEach(function(t){yX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Mc[e]=Mc[t]})});function f9(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Mc.hasOwnProperty(t)&&Mc[t]?(""+e).trim():e+"px"}function p9(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=f9(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var bX=Ot({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lN(t,e){if(e){if(bX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Z(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Z(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Z(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Z(62))}}function uN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var cN=null;function tC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dN=null,Rl=null,$l=null;function QT(t){if(t=Wd(t)){if(typeof dN!="function")throw Error(Z(280));var e=t.stateNode;e&&(e=Ap(e),dN(t.stateNode,t.type,e))}}function m9(t){Rl?$l?$l.push(t):$l=[t]:Rl=t}function v9(){if(Rl){var t=Rl,e=$l;if($l=Rl=null,QT(t),e)for(t=0;t<e.length;t++)QT(e[t])}}function g9(t,e){return t(e)}function y9(){}var Gm=!1;function b9(t,e,r){if(Gm)return t(e,r);Gm=!0;try{return g9(t,e,r)}finally{Gm=!1,(Rl!==null||$l!==null)&&(y9(),v9())}}function rd(t,e){var r=t.stateNode;if(r===null)return null;var n=Ap(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Z(231,e,typeof r));return r}var hN=!1;if(ds)try{var fc={};Object.defineProperty(fc,"passive",{get:function(){hN=!0}}),window.addEventListener("test",fc,fc),window.removeEventListener("test",fc,fc)}catch{hN=!1}function xX(t,e,r,n,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var qc=!1,qf=null,Af=!1,fN=null,wX={onError:function(t){qc=!0,qf=t}};function _X(t,e,r,n,i,s,a,o,l){qc=!1,qf=null,xX.apply(wX,arguments)}function SX(t,e,r,n,i,s,a,o,l){if(_X.apply(this,arguments),qc){if(qc){var c=qf;qc=!1,qf=null}else throw Error(Z(198));Af||(Af=!0,fN=c)}}function Mo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function x9(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function XT(t){if(Mo(t)!==t)throw Error(Z(188))}function EX(t){var e=t.alternate;if(!e){if(e=Mo(t),e===null)throw Error(Z(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return XT(i),t;if(s===n)return XT(i),e;s=s.sibling}throw Error(Z(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Z(189))}}if(r.alternate!==n)throw Error(Z(190))}if(r.tag!==3)throw Error(Z(188));return r.stateNode.current===r?t:e}function w9(t){return t=EX(t),t!==null?_9(t):null}function _9(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=_9(t);if(e!==null)return e;t=t.sibling}return null}var S9=xn.unstable_scheduleCallback,JT=xn.unstable_cancelCallback,NX=xn.unstable_shouldYield,OX=xn.unstable_requestPaint,Mt=xn.unstable_now,CX=xn.unstable_getCurrentPriorityLevel,rC=xn.unstable_ImmediatePriority,E9=xn.unstable_UserBlockingPriority,Ff=xn.unstable_NormalPriority,PX=xn.unstable_LowPriority,N9=xn.unstable_IdlePriority,kp=null,Ii=null;function TX(t){if(Ii&&typeof Ii.onCommitFiberRoot=="function")try{Ii.onCommitFiberRoot(kp,t,void 0,(t.current.flags&128)===128)}catch{}}var ci=Math.clz32?Math.clz32:RX,jX=Math.log,IX=Math.LN2;function RX(t){return t>>>=0,t===0?32:31-(jX(t)/IX|0)|0}var Bh=64,zh=4194304;function Ic(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Lf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Ic(o):(s&=a,s!==0&&(n=Ic(s)))}else a=r&~i,a!==0?n=Ic(a):s!==0&&(n=Ic(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ci(e),i=1<<r,n|=t[r],e&=~i;return n}function $X(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function kX(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ci(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=$X(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function pN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function O9(){var t=Bh;return Bh<<=1,!(Bh&4194240)&&(Bh=64),t}function Ym(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function zd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ci(e),t[e]=r}function DX(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ci(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function nC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ci(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var Ze=0;function C9(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var P9,iC,T9,j9,I9,mN=!1,Uh=[],Js=null,Zs=null,ea=null,nd=new Map,id=new Map,Ds=[],MX="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ZT(t,e){switch(t){case"focusin":case"focusout":Js=null;break;case"dragenter":case"dragleave":Zs=null;break;case"mouseover":case"mouseout":ea=null;break;case"pointerover":case"pointerout":nd.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":id.delete(e.pointerId)}}function pc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Wd(e),e!==null&&iC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function qX(t,e,r,n,i){switch(e){case"focusin":return Js=pc(Js,t,e,r,n,i),!0;case"dragenter":return Zs=pc(Zs,t,e,r,n,i),!0;case"mouseover":return ea=pc(ea,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return nd.set(s,pc(nd.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,id.set(s,pc(id.get(s)||null,t,e,r,n,i)),!0}return!1}function R9(t){var e=Fa(t.target);if(e!==null){var r=Mo(e);if(r!==null){if(e=r.tag,e===13){if(e=x9(r),e!==null){t.blockedOn=e,I9(t.priority,function(){T9(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function vf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=vN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);cN=n,r.target.dispatchEvent(n),cN=null}else return e=Wd(r),e!==null&&iC(e),t.blockedOn=r,!1;e.shift()}return!0}function ej(t,e,r){vf(t)&&r.delete(e)}function AX(){mN=!1,Js!==null&&vf(Js)&&(Js=null),Zs!==null&&vf(Zs)&&(Zs=null),ea!==null&&vf(ea)&&(ea=null),nd.forEach(ej),id.forEach(ej)}function mc(t,e){t.blockedOn===e&&(t.blockedOn=null,mN||(mN=!0,xn.unstable_scheduleCallback(xn.unstable_NormalPriority,AX)))}function sd(t){function e(i){return mc(i,t)}if(0<Uh.length){mc(Uh[0],t);for(var r=1;r<Uh.length;r++){var n=Uh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Js!==null&&mc(Js,t),Zs!==null&&mc(Zs,t),ea!==null&&mc(ea,t),nd.forEach(e),id.forEach(e),r=0;r<Ds.length;r++)n=Ds[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ds.length&&(r=Ds[0],r.blockedOn===null);)R9(r),r.blockedOn===null&&Ds.shift()}var kl=gs.ReactCurrentBatchConfig,Bf=!0;function FX(t,e,r,n){var i=Ze,s=kl.transition;kl.transition=null;try{Ze=1,sC(t,e,r,n)}finally{Ze=i,kl.transition=s}}function LX(t,e,r,n){var i=Ze,s=kl.transition;kl.transition=null;try{Ze=4,sC(t,e,r,n)}finally{Ze=i,kl.transition=s}}function sC(t,e,r,n){if(Bf){var i=vN(t,e,r,n);if(i===null)sv(t,e,n,zf,r),ZT(t,n);else if(qX(i,t,e,r,n))n.stopPropagation();else if(ZT(t,n),e&4&&-1<MX.indexOf(t)){for(;i!==null;){var s=Wd(i);if(s!==null&&P9(s),s=vN(t,e,r,n),s===null&&sv(t,e,n,zf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else sv(t,e,n,null,r)}}var zf=null;function vN(t,e,r,n){if(zf=null,t=tC(n),t=Fa(t),t!==null)if(e=Mo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=x9(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return zf=t,null}function $9(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(CX()){case rC:return 1;case E9:return 4;case Ff:case PX:return 16;case N9:return 536870912;default:return 16}default:return 16}}var Gs=null,aC=null,gf=null;function k9(){if(gf)return gf;var t,e=aC,r=e.length,n,i="value"in Gs?Gs.value:Gs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return gf=i.slice(t,1<n?1-n:void 0)}function yf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Wh(){return!0}function tj(){return!1}function Sn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?Wh:tj,this.isPropagationStopped=tj,this}return Ot(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=Wh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=Wh)},persist:function(){},isPersistent:Wh}),e}var Ou={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},oC=Sn(Ou),Ud=Ot({},Ou,{view:0,detail:0}),BX=Sn(Ud),Qm,Xm,vc,Dp=Ot({},Ud,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:lC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vc&&(vc&&t.type==="mousemove"?(Qm=t.screenX-vc.screenX,Xm=t.screenY-vc.screenY):Xm=Qm=0,vc=t),Qm)},movementY:function(t){return"movementY"in t?t.movementY:Xm}}),rj=Sn(Dp),zX=Ot({},Dp,{dataTransfer:0}),UX=Sn(zX),WX=Ot({},Ud,{relatedTarget:0}),Jm=Sn(WX),HX=Ot({},Ou,{animationName:0,elapsedTime:0,pseudoElement:0}),VX=Sn(HX),KX=Ot({},Ou,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),GX=Sn(KX),YX=Ot({},Ou,{data:0}),nj=Sn(YX),QX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},XX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},JX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function ZX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=JX[t])?!!e[t]:!1}function lC(){return ZX}var eJ=Ot({},Ud,{key:function(t){if(t.key){var e=QX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=yf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?XX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:lC,charCode:function(t){return t.type==="keypress"?yf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?yf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),tJ=Sn(eJ),rJ=Ot({},Dp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ij=Sn(rJ),nJ=Ot({},Ud,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:lC}),iJ=Sn(nJ),sJ=Ot({},Ou,{propertyName:0,elapsedTime:0,pseudoElement:0}),aJ=Sn(sJ),oJ=Ot({},Dp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),lJ=Sn(oJ),uJ=[9,13,27,32],uC=ds&&"CompositionEvent"in window,Ac=null;ds&&"documentMode"in document&&(Ac=document.documentMode);var cJ=ds&&"TextEvent"in window&&!Ac,D9=ds&&(!uC||Ac&&8<Ac&&11>=Ac),sj=" ",aj=!1;function M9(t,e){switch(t){case"keyup":return uJ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function q9(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ml=!1;function dJ(t,e){switch(t){case"compositionend":return q9(e);case"keypress":return e.which!==32?null:(aj=!0,sj);case"textInput":return t=e.data,t===sj&&aj?null:t;default:return null}}function hJ(t,e){if(ml)return t==="compositionend"||!uC&&M9(t,e)?(t=k9(),gf=aC=Gs=null,ml=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return D9&&e.locale!=="ko"?null:e.data;default:return null}}var fJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function oj(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!fJ[t.type]:e==="textarea"}function A9(t,e,r,n){m9(n),e=Uf(e,"onChange"),0<e.length&&(r=new oC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Fc=null,ad=null;function pJ(t){Y9(t,0)}function Mp(t){var e=yl(t);if(l9(e))return t}function mJ(t,e){if(t==="change")return e}var F9=!1;if(ds){var Zm;if(ds){var ev="oninput"in document;if(!ev){var lj=document.createElement("div");lj.setAttribute("oninput","return;"),ev=typeof lj.oninput=="function"}Zm=ev}else Zm=!1;F9=Zm&&(!document.documentMode||9<document.documentMode)}function uj(){Fc&&(Fc.detachEvent("onpropertychange",L9),ad=Fc=null)}function L9(t){if(t.propertyName==="value"&&Mp(ad)){var e=[];A9(e,ad,t,tC(t)),b9(pJ,e)}}function vJ(t,e,r){t==="focusin"?(uj(),Fc=e,ad=r,Fc.attachEvent("onpropertychange",L9)):t==="focusout"&&uj()}function gJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Mp(ad)}function yJ(t,e){if(t==="click")return Mp(e)}function bJ(t,e){if(t==="input"||t==="change")return Mp(e)}function xJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hi=typeof Object.is=="function"?Object.is:xJ;function od(t,e){if(hi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!J2.call(e,i)||!hi(t[i],e[i]))return!1}return!0}function cj(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function dj(t,e){var r=cj(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cj(r)}}function B9(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?B9(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function z9(){for(var t=window,e=Mf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Mf(t.document)}return e}function cC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function wJ(t){var e=z9(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&B9(r.ownerDocument.documentElement,r)){if(n!==null&&cC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=dj(r,s);var a=dj(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var _J=ds&&"documentMode"in document&&11>=document.documentMode,vl=null,gN=null,Lc=null,yN=!1;function hj(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;yN||vl==null||vl!==Mf(n)||(n=vl,"selectionStart"in n&&cC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Lc&&od(Lc,n)||(Lc=n,n=Uf(gN,"onSelect"),0<n.length&&(e=new oC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=vl)))}function Hh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var gl={animationend:Hh("Animation","AnimationEnd"),animationiteration:Hh("Animation","AnimationIteration"),animationstart:Hh("Animation","AnimationStart"),transitionend:Hh("Transition","TransitionEnd")},tv={},U9={};ds&&(U9=document.createElement("div").style,"AnimationEvent"in window||(delete gl.animationend.animation,delete gl.animationiteration.animation,delete gl.animationstart.animation),"TransitionEvent"in window||delete gl.transitionend.transition);function qp(t){if(tv[t])return tv[t];if(!gl[t])return t;var e=gl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in U9)return tv[t]=e[r];return t}var W9=qp("animationend"),H9=qp("animationiteration"),V9=qp("animationstart"),K9=qp("transitionend"),G9=new Map,fj="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function wa(t,e){G9.set(t,e),Do(e,[t])}for(var rv=0;rv<fj.length;rv++){var nv=fj[rv],SJ=nv.toLowerCase(),EJ=nv[0].toUpperCase()+nv.slice(1);wa(SJ,"on"+EJ)}wa(W9,"onAnimationEnd");wa(H9,"onAnimationIteration");wa(V9,"onAnimationStart");wa("dblclick","onDoubleClick");wa("focusin","onFocus");wa("focusout","onBlur");wa(K9,"onTransitionEnd");nu("onMouseEnter",["mouseout","mouseover"]);nu("onMouseLeave",["mouseout","mouseover"]);nu("onPointerEnter",["pointerout","pointerover"]);nu("onPointerLeave",["pointerout","pointerover"]);Do("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Do("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Do("onBeforeInput",["compositionend","keypress","textInput","paste"]);Do("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Do("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Rc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),NJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(Rc));function pj(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,SX(n,e,void 0,t),t.currentTarget=null}function Y9(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;pj(i,o,c),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;pj(i,o,c),s=l}}}if(Af)throw t=fN,Af=!1,fN=null,t}function mt(t,e){var r=e[SN];r===void 0&&(r=e[SN]=new Set);var n=t+"__bubble";r.has(n)||(Q9(e,t,2,!1),r.add(n))}function iv(t,e,r){var n=0;e&&(n|=4),Q9(r,t,n,e)}var Vh="_reactListening"+Math.random().toString(36).slice(2);function ld(t){if(!t[Vh]){t[Vh]=!0,n9.forEach(function(r){r!=="selectionchange"&&(NJ.has(r)||iv(r,!1,t),iv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Vh]||(e[Vh]=!0,iv("selectionchange",!1,e))}}function Q9(t,e,r,n){switch($9(e)){case 1:var i=FX;break;case 4:i=LX;break;default:i=sC}r=i.bind(null,e,r,t),i=void 0,!hN||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function sv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Fa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}b9(function(){var c=s,d=tC(r),h=[];e:{var f=G9.get(t);if(f!==void 0){var p=oC,m=t;switch(t){case"keypress":if(yf(r)===0)break e;case"keydown":case"keyup":p=tJ;break;case"focusin":m="focus",p=Jm;break;case"focusout":m="blur",p=Jm;break;case"beforeblur":case"afterblur":p=Jm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=rj;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=UX;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=iJ;break;case W9:case H9:case V9:p=VX;break;case K9:p=aJ;break;case"scroll":p=BX;break;case"wheel":p=lJ;break;case"copy":case"cut":case"paste":p=GX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ij}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=rd(v,g),b!=null&&y.push(ud(v,b,w)))),x)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==cN&&(m=r.relatedTarget||r.fromElement)&&(Fa(m)||m[hs]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Fa(m):null,m!==null&&(x=Mo(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=rj,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=ij,b="onPointerLeave",g="onPointerEnter",v="pointer"),x=p==null?f:yl(p),w=m==null?f:yl(m),f=new y(b,v+"leave",p,r,d),f.target=x,f.relatedTarget=w,b=null,Fa(d)===c&&(y=new y(g,v+"enter",m,r,d),y.target=w,y.relatedTarget=x,b=y),x=b,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=il(w))v++;for(w=0,b=g;b;b=il(b))w++;for(;0<v-w;)y=il(y),v--;for(;0<w-v;)g=il(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=il(y),g=il(g)}y=null}else y=null;p!==null&&mj(h,f,p,y,!1),m!==null&&x!==null&&mj(h,x,m,y,!0)}}e:{if(f=c?yl(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=mJ;else if(oj(f))if(F9)_=bJ;else{_=gJ;var E=vJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=yJ);if(_&&(_=_(t,c))){A9(h,_,r,d);break e}E&&E(t,f,c),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&sN(f,"number",f.value)}switch(E=c?yl(c):window,t){case"focusin":(oj(E)||E.contentEditable==="true")&&(vl=E,gN=c,Lc=null);break;case"focusout":Lc=gN=vl=null;break;case"mousedown":yN=!0;break;case"contextmenu":case"mouseup":case"dragend":yN=!1,hj(h,r,d);break;case"selectionchange":if(_J)break;case"keydown":case"keyup":hj(h,r,d)}var N;if(uC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ml?M9(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(D9&&r.locale!=="ko"&&(ml||S!=="onCompositionStart"?S==="onCompositionEnd"&&ml&&(N=k9()):(Gs=d,aC="value"in Gs?Gs.value:Gs.textContent,ml=!0)),E=Uf(c,S),0<E.length&&(S=new nj(S,t,null,r,d),h.push({event:S,listeners:E}),N?S.data=N:(N=q9(r),N!==null&&(S.data=N)))),(N=cJ?dJ(t,r):hJ(t,r))&&(c=Uf(c,"onBeforeInput"),0<c.length&&(d=new nj("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}Y9(h,e)})}function ud(t,e,r){return{instance:t,listener:e,currentTarget:r}}function Uf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=rd(t,r),s!=null&&n.unshift(ud(t,s,i)),s=rd(t,e),s!=null&&n.push(ud(t,s,i))),t=t.return}return n}function il(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function mj(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,c=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&c!==null&&(o=c,i?(l=rd(r,s),l!=null&&a.unshift(ud(r,l,o))):i||(l=rd(r,s),l!=null&&a.push(ud(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var OJ=/\r\n?/g,CJ=/\u0000|\uFFFD/g;function vj(t){return(typeof t=="string"?t:""+t).replace(OJ,`
`).replace(CJ,"")}function Kh(t,e,r){if(e=vj(e),vj(t)!==e&&r)throw Error(Z(425))}function Wf(){}var bN=null,xN=null;function wN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var _N=typeof setTimeout=="function"?setTimeout:void 0,PJ=typeof clearTimeout=="function"?clearTimeout:void 0,gj=typeof Promise=="function"?Promise:void 0,TJ=typeof queueMicrotask=="function"?queueMicrotask:typeof gj<"u"?function(t){return gj.resolve(null).then(t).catch(jJ)}:_N;function jJ(t){setTimeout(function(){throw t})}function av(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),sd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);sd(e)}function ta(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function yj(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var Cu=Math.random().toString(36).slice(2),Oi="__reactFiber$"+Cu,cd="__reactProps$"+Cu,hs="__reactContainer$"+Cu,SN="__reactEvents$"+Cu,IJ="__reactListeners$"+Cu,RJ="__reactHandles$"+Cu;function Fa(t){var e=t[Oi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[hs]||r[Oi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=yj(t);t!==null;){if(r=t[Oi])return r;t=yj(t)}return e}t=r,r=t.parentNode}return null}function Wd(t){return t=t[Oi]||t[hs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function yl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Z(33))}function Ap(t){return t[cd]||null}var EN=[],bl=-1;function _a(t){return{current:t}}function gt(t){0>bl||(t.current=EN[bl],EN[bl]=null,bl--)}function ft(t,e){bl++,EN[bl]=t.current,t.current=e}var ma={},Tr=_a(ma),rn=_a(!1),go=ma;function iu(t,e){var r=t.type.contextTypes;if(!r)return ma;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function nn(t){return t=t.childContextTypes,t!=null}function Hf(){gt(rn),gt(Tr)}function bj(t,e,r){if(Tr.current!==ma)throw Error(Z(168));ft(Tr,e),ft(rn,r)}function X9(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Z(108,vX(t)||"Unknown",i));return Ot({},r,n)}function Vf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ma,go=Tr.current,ft(Tr,t),ft(rn,rn.current),!0}function xj(t,e,r){var n=t.stateNode;if(!n)throw Error(Z(169));r?(t=X9(t,e,go),n.__reactInternalMemoizedMergedChildContext=t,gt(rn),gt(Tr),ft(Tr,t)):gt(rn),ft(rn,r)}var Hi=null,Fp=!1,ov=!1;function J9(t){Hi===null?Hi=[t]:Hi.push(t)}function $J(t){Fp=!0,J9(t)}function Sa(){if(!ov&&Hi!==null){ov=!0;var t=0,e=Ze;try{var r=Hi;for(Ze=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Hi=null,Fp=!1}catch(i){throw Hi!==null&&(Hi=Hi.slice(t+1)),S9(rC,Sa),i}finally{Ze=e,ov=!1}}return null}var xl=[],wl=0,Kf=null,Gf=0,kn=[],Dn=0,yo=null,Qi=1,Xi="";function Ma(t,e){xl[wl++]=Gf,xl[wl++]=Kf,Kf=t,Gf=e}function Z9(t,e,r){kn[Dn++]=Qi,kn[Dn++]=Xi,kn[Dn++]=yo,yo=t;var n=Qi;t=Xi;var i=32-ci(n)-1;n&=~(1<<i),r+=1;var s=32-ci(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Qi=1<<32-ci(e)+i|r<<i|n,Xi=s+t}else Qi=1<<s|r<<i|n,Xi=t}function dC(t){t.return!==null&&(Ma(t,1),Z9(t,1,0))}function hC(t){for(;t===Kf;)Kf=xl[--wl],xl[wl]=null,Gf=xl[--wl],xl[wl]=null;for(;t===yo;)yo=kn[--Dn],kn[Dn]=null,Xi=kn[--Dn],kn[Dn]=null,Qi=kn[--Dn],kn[Dn]=null}var bn=null,yn=null,wt=!1,ni=null;function eH(t,e){var r=An(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function wj(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,bn=t,yn=ta(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,bn=t,yn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=yo!==null?{id:Qi,overflow:Xi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=An(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,bn=t,yn=null,!0):!1;default:return!1}}function NN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function ON(t){if(wt){var e=yn;if(e){var r=e;if(!wj(t,e)){if(NN(t))throw Error(Z(418));e=ta(r.nextSibling);var n=bn;e&&wj(t,e)?eH(n,r):(t.flags=t.flags&-4097|2,wt=!1,bn=t)}}else{if(NN(t))throw Error(Z(418));t.flags=t.flags&-4097|2,wt=!1,bn=t}}}function _j(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;bn=t}function Gh(t){if(t!==bn)return!1;if(!wt)return _j(t),wt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!wN(t.type,t.memoizedProps)),e&&(e=yn)){if(NN(t))throw tH(),Error(Z(418));for(;e;)eH(t,e),e=ta(e.nextSibling)}if(_j(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Z(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){yn=ta(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}yn=null}}else yn=bn?ta(t.stateNode.nextSibling):null;return!0}function tH(){for(var t=yn;t;)t=ta(t.nextSibling)}function su(){yn=bn=null,wt=!1}function fC(t){ni===null?ni=[t]:ni.push(t)}var kJ=gs.ReactCurrentBatchConfig;function gc(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Z(309));var n=r.stateNode}if(!n)throw Error(Z(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Z(284));if(!r._owner)throw Error(Z(290,t))}return t}function Yh(t,e){throw t=Object.prototype.toString.call(e),Error(Z(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Sj(t){var e=t._init;return e(t._payload)}function rH(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=sa(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,b){return v===null||v.tag!==6?(v=pv(w,g.mode,b),v.return=g,v):(v=i(v,w),v.return=g,v)}function l(g,v,w,b){var _=w.type;return _===pl?d(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Is&&Sj(_)===v.type)?(b=i(v,w.props),b.ref=gc(g,v,w),b.return=g,b):(b=Nf(w.type,w.key,w.props,null,g.mode,b),b.ref=gc(g,v,w),b.return=g,b)}function c(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=mv(w,g.mode,b),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,b,_){return v===null||v.tag!==7?(v=ao(w,g.mode,b,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=pv(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ah:return w=Nf(v.type,v.key,v.props,null,g.mode,w),w.ref=gc(g,null,v),w.return=g,w;case fl:return v=mv(v,g.mode,w),v.return=g,v;case Is:var b=v._init;return h(g,b(v._payload),w)}if(jc(v)||hc(v))return v=ao(v,g.mode,w,null),v.return=g,v;Yh(g,v)}return null}function f(g,v,w,b){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ah:return w.key===_?l(g,v,w,b):null;case fl:return w.key===_?c(g,v,w,b):null;case Is:return _=w._init,f(g,v,_(w._payload),b)}if(jc(w)||hc(w))return _!==null?null:d(g,v,w,b,null);Yh(g,w)}return null}function p(g,v,w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,o(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Ah:return g=g.get(b.key===null?w:b.key)||null,l(v,g,b,_);case fl:return g=g.get(b.key===null?w:b.key)||null,c(v,g,b,_);case Is:var E=b._init;return p(g,v,w,E(b._payload),_)}if(jc(b)||hc(b))return g=g.get(w)||null,d(v,g,b,_,null);Yh(v,b)}return null}function m(g,v,w,b){for(var _=null,E=null,N=v,S=v=0,O=null;N!==null&&S<w.length;S++){N.index>S?(O=N,N=null):O=N.sibling;var C=f(g,N,w[S],b);if(C===null){N===null&&(N=O);break}t&&N&&C.alternate===null&&e(g,N),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,N=O}if(S===w.length)return r(g,N),wt&&Ma(g,S),_;if(N===null){for(;S<w.length;S++)N=h(g,w[S],b),N!==null&&(v=s(N,v,S),E===null?_=N:E.sibling=N,E=N);return wt&&Ma(g,S),_}for(N=n(g,N);S<w.length;S++)O=p(N,g,S,w[S],b),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?S:O.key),v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return t&&N.forEach(function(T){return e(g,T)}),wt&&Ma(g,S),_}function y(g,v,w,b){var _=hc(w);if(typeof _!="function")throw Error(Z(150));if(w=_.call(w),w==null)throw Error(Z(151));for(var E=_=null,N=v,S=v=0,O=null,C=w.next();N!==null&&!C.done;S++,C=w.next()){N.index>S?(O=N,N=null):O=N.sibling;var T=f(g,N,C.value,b);if(T===null){N===null&&(N=O);break}t&&N&&T.alternate===null&&e(g,N),v=s(T,v,S),E===null?_=T:E.sibling=T,E=T,N=O}if(C.done)return r(g,N),wt&&Ma(g,S),_;if(N===null){for(;!C.done;S++,C=w.next())C=h(g,C.value,b),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return wt&&Ma(g,S),_}for(N=n(g,N);!C.done;S++,C=w.next())C=p(N,g,S,C.value,b),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&N.forEach(function(P){return e(g,P)}),wt&&Ma(g,S),_}function x(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===pl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Ah:e:{for(var _=w.key,E=v;E!==null;){if(E.key===_){if(_=w.type,_===pl){if(E.tag===7){r(g,E.sibling),v=i(E,w.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===Is&&Sj(_)===E.type){r(g,E.sibling),v=i(E,w.props),v.ref=gc(g,E,w),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}w.type===pl?(v=ao(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=Nf(w.type,w.key,w.props,null,g.mode,b),b.ref=gc(g,v,w),b.return=g,g=b)}return a(g);case fl:e:{for(E=w.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=mv(w,g.mode,b),v.return=g,g=v}return a(g);case Is:return E=w._init,x(g,v,E(w._payload),b)}if(jc(w))return m(g,v,w,b);if(hc(w))return y(g,v,w,b);Yh(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,w),v.return=g,g=v):(r(g,v),v=pv(w,g.mode,b),v.return=g,g=v),a(g)):r(g,v)}return x}var au=rH(!0),nH=rH(!1),Yf=_a(null),Qf=null,_l=null,pC=null;function mC(){pC=_l=Qf=null}function vC(t){var e=Yf.current;gt(Yf),t._currentValue=e}function CN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Dl(t,e){Qf=t,pC=_l=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(tn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(pC!==t)if(t={context:t,memoizedValue:e,next:null},_l===null){if(Qf===null)throw Error(Z(308));_l=t,Qf.dependencies={lanes:0,firstContext:t}}else _l=_l.next=t;return e}var La=null;function gC(t){La===null?La=[t]:La.push(t)}function iH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,gC(e)):(r.next=i.next,i.next=r),e.interleaved=r,fs(t,n)}function fs(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Rs=!1;function yC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function sH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function es(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function ra(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ve&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,fs(t,r)}return i=n.interleaved,i===null?(e.next=e,gC(n)):(e.next=i.next,i.next=e),n.interleaved=e,fs(t,r)}function bf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nC(t,r)}}function Ej(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Xf(t,e,r,n){var i=t.updateQueue;Rs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,c=l.next;l.next=null,a===null?s=c:a.next=c,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=c=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=Ot({},h,f);break e;case 2:Rs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);xo|=a,t.lanes=a,t.memoizedState=h}}function Nj(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Z(191,i));i.call(n)}}}var Hd={},Ri=_a(Hd),dd=_a(Hd),hd=_a(Hd);function Ba(t){if(t===Hd)throw Error(Z(174));return t}function bC(t,e){switch(ft(hd,e),ft(dd,t),ft(Ri,Hd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:oN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=oN(e,t)}gt(Ri),ft(Ri,e)}function ou(){gt(Ri),gt(dd),gt(hd)}function aH(t){Ba(hd.current);var e=Ba(Ri.current),r=oN(e,t.type);e!==r&&(ft(dd,t),ft(Ri,r))}function xC(t){dd.current===t&&(gt(Ri),gt(dd))}var St=_a(0);function Jf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var lv=[];function wC(){for(var t=0;t<lv.length;t++)lv[t]._workInProgressVersionPrimary=null;lv.length=0}var xf=gs.ReactCurrentDispatcher,uv=gs.ReactCurrentBatchConfig,bo=0,Et=null,Jt=null,sr=null,Zf=!1,Bc=!1,fd=0,DJ=0;function Er(){throw Error(Z(321))}function _C(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!hi(t[r],e[r]))return!1;return!0}function SC(t,e,r,n,i,s){if(bo=s,Et=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,xf.current=t===null||t.memoizedState===null?FJ:LJ,t=r(n,i),Bc){s=0;do{if(Bc=!1,fd=0,25<=s)throw Error(Z(301));s+=1,sr=Jt=null,e.updateQueue=null,xf.current=BJ,t=r(n,i)}while(Bc)}if(xf.current=ep,e=Jt!==null&&Jt.next!==null,bo=0,sr=Jt=Et=null,Zf=!1,e)throw Error(Z(300));return t}function EC(){var t=fd!==0;return fd=0,t}function wi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return sr===null?Et.memoizedState=sr=t:sr=sr.next=t,sr}function Un(){if(Jt===null){var t=Et.alternate;t=t!==null?t.memoizedState:null}else t=Jt.next;var e=sr===null?Et.memoizedState:sr.next;if(e!==null)sr=e,Jt=t;else{if(t===null)throw Error(Z(310));Jt=t,t={memoizedState:Jt.memoizedState,baseState:Jt.baseState,baseQueue:Jt.baseQueue,queue:Jt.queue,next:null},sr===null?Et.memoizedState=sr=t:sr=sr.next=t}return sr}function pd(t,e){return typeof e=="function"?e(t):e}function cv(t){var e=Un(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=Jt,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,c=s;do{var d=c.lane;if((bo&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,Et.lanes|=d,xo|=d}c=c.next}while(c!==null&&c!==s);l===null?a=n:l.next=o,hi(n,e.memoizedState)||(tn=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,Et.lanes|=s,xo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function dv(t){var e=Un(),r=e.queue;if(r===null)throw Error(Z(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);hi(s,e.memoizedState)||(tn=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function oH(){}function lH(t,e){var r=Et,n=Un(),i=e(),s=!hi(n.memoizedState,i);if(s&&(n.memoizedState=i,tn=!0),n=n.queue,NC(dH.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||sr!==null&&sr.memoizedState.tag&1){if(r.flags|=2048,md(9,cH.bind(null,r,n,i,e),void 0,null),ar===null)throw Error(Z(349));bo&30||uH(r,e,i)}return i}function uH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function cH(t,e,r,n){e.value=r,e.getSnapshot=n,hH(e)&&fH(t)}function dH(t,e,r){return r(function(){hH(e)&&fH(t)})}function hH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!hi(t,r)}catch{return!0}}function fH(t){var e=fs(t,1);e!==null&&di(e,t,1,-1)}function Oj(t){var e=wi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:pd,lastRenderedState:t},e.queue=t,t=t.dispatch=AJ.bind(null,Et,t),[e.memoizedState,t]}function md(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=Et.updateQueue,e===null?(e={lastEffect:null,stores:null},Et.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function pH(){return Un().memoizedState}function wf(t,e,r,n){var i=wi();Et.flags|=t,i.memoizedState=md(1|e,r,void 0,n===void 0?null:n)}function Lp(t,e,r,n){var i=Un();n=n===void 0?null:n;var s=void 0;if(Jt!==null){var a=Jt.memoizedState;if(s=a.destroy,n!==null&&_C(n,a.deps)){i.memoizedState=md(e,r,s,n);return}}Et.flags|=t,i.memoizedState=md(1|e,r,s,n)}function Cj(t,e){return wf(8390656,8,t,e)}function NC(t,e){return Lp(2048,8,t,e)}function mH(t,e){return Lp(4,2,t,e)}function vH(t,e){return Lp(4,4,t,e)}function gH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function yH(t,e,r){return r=r!=null?r.concat([t]):null,Lp(4,4,gH.bind(null,e,t),r)}function OC(){}function bH(t,e){var r=Un();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_C(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function xH(t,e){var r=Un();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&_C(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function wH(t,e,r){return bo&21?(hi(r,e)||(r=O9(),Et.lanes|=r,xo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,tn=!0),t.memoizedState=r)}function MJ(t,e){var r=Ze;Ze=r!==0&&4>r?r:4,t(!0);var n=uv.transition;uv.transition={};try{t(!1),e()}finally{Ze=r,uv.transition=n}}function _H(){return Un().memoizedState}function qJ(t,e,r){var n=ia(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},SH(t))EH(e,r);else if(r=iH(t,e,r,n),r!==null){var i=zr();di(r,t,n,i),NH(r,e,n)}}function AJ(t,e,r){var n=ia(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(SH(t))EH(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,hi(o,a)){var l=e.interleaved;l===null?(i.next=i,gC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=iH(t,e,i,n),r!==null&&(i=zr(),di(r,t,n,i),NH(r,e,n))}}function SH(t){var e=t.alternate;return t===Et||e!==null&&e===Et}function EH(t,e){Bc=Zf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function NH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,nC(t,r)}}var ep={readContext:zn,useCallback:Er,useContext:Er,useEffect:Er,useImperativeHandle:Er,useInsertionEffect:Er,useLayoutEffect:Er,useMemo:Er,useReducer:Er,useRef:Er,useState:Er,useDebugValue:Er,useDeferredValue:Er,useTransition:Er,useMutableSource:Er,useSyncExternalStore:Er,useId:Er,unstable_isNewReconciler:!1},FJ={readContext:zn,useCallback:function(t,e){return wi().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:Cj,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,wf(4194308,4,gH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return wf(4194308,4,t,e)},useInsertionEffect:function(t,e){return wf(4,2,t,e)},useMemo:function(t,e){var r=wi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=wi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=qJ.bind(null,Et,t),[n.memoizedState,t]},useRef:function(t){var e=wi();return t={current:t},e.memoizedState=t},useState:Oj,useDebugValue:OC,useDeferredValue:function(t){return wi().memoizedState=t},useTransition:function(){var t=Oj(!1),e=t[0];return t=MJ.bind(null,t[1]),wi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=Et,i=wi();if(wt){if(r===void 0)throw Error(Z(407));r=r()}else{if(r=e(),ar===null)throw Error(Z(349));bo&30||uH(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,Cj(dH.bind(null,n,s,t),[t]),n.flags|=2048,md(9,cH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=wi(),e=ar.identifierPrefix;if(wt){var r=Xi,n=Qi;r=(n&~(1<<32-ci(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=fd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=DJ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},LJ={readContext:zn,useCallback:bH,useContext:zn,useEffect:NC,useImperativeHandle:yH,useInsertionEffect:mH,useLayoutEffect:vH,useMemo:xH,useReducer:cv,useRef:pH,useState:function(){return cv(pd)},useDebugValue:OC,useDeferredValue:function(t){var e=Un();return wH(e,Jt.memoizedState,t)},useTransition:function(){var t=cv(pd)[0],e=Un().memoizedState;return[t,e]},useMutableSource:oH,useSyncExternalStore:lH,useId:_H,unstable_isNewReconciler:!1},BJ={readContext:zn,useCallback:bH,useContext:zn,useEffect:NC,useImperativeHandle:yH,useInsertionEffect:mH,useLayoutEffect:vH,useMemo:xH,useReducer:dv,useRef:pH,useState:function(){return dv(pd)},useDebugValue:OC,useDeferredValue:function(t){var e=Un();return Jt===null?e.memoizedState=t:wH(e,Jt.memoizedState,t)},useTransition:function(){var t=dv(pd)[0],e=Un().memoizedState;return[t,e]},useMutableSource:oH,useSyncExternalStore:lH,useId:_H,unstable_isNewReconciler:!1};function Zn(t,e){if(t&&t.defaultProps){e=Ot({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function PN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:Ot({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Bp={isMounted:function(t){return(t=t._reactInternals)?Mo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=zr(),i=ia(t),s=es(n,i);s.payload=e,r!=null&&(s.callback=r),e=ra(t,s,i),e!==null&&(di(e,t,i,n),bf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=zr(),i=ia(t),s=es(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=ra(t,s,i),e!==null&&(di(e,t,i,n),bf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=zr(),n=ia(t),i=es(r,n);i.tag=2,e!=null&&(i.callback=e),e=ra(t,i,n),e!==null&&(di(e,t,n,r),bf(e,t,n))}};function Pj(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!od(r,n)||!od(i,s):!0}function OH(t,e,r){var n=!1,i=ma,s=e.contextType;return typeof s=="object"&&s!==null?s=zn(s):(i=nn(e)?go:Tr.current,n=e.contextTypes,s=(n=n!=null)?iu(t,i):ma),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Bp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function Tj(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Bp.enqueueReplaceState(e,e.state,null)}function TN(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},yC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=zn(s):(s=nn(e)?go:Tr.current,i.context=iu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(PN(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Bp.enqueueReplaceState(i,i.state,null),Xf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function lu(t,e){try{var r="",n=e;do r+=mX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function hv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function jN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var zJ=typeof WeakMap=="function"?WeakMap:Map;function CH(t,e,r){r=es(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){rp||(rp=!0,LN=n),jN(t,e)},r}function PH(t,e,r){r=es(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){jN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){jN(t,e),typeof n!="function"&&(na===null?na=new Set([this]):na.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function jj(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new zJ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=rZ.bind(null,t,e,r),e.then(t,t))}function Ij(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Rj(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=es(-1,1),e.tag=2,ra(r,e,1))),r.lanes|=1),t)}var UJ=gs.ReactCurrentOwner,tn=!1;function qr(t,e,r,n){e.child=t===null?nH(e,null,r,n):au(e,t.child,r,n)}function $j(t,e,r,n,i){r=r.render;var s=e.ref;return Dl(e,i),n=SC(t,e,r,n,s,i),r=EC(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(wt&&r&&dC(e),e.flags|=1,qr(t,e,n,i),e.child)}function kj(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!kC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,TH(t,e,s,n,i)):(t=Nf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:od,r(a,n)&&t.ref===e.ref)return ps(t,e,i)}return e.flags|=1,t=sa(s,n),t.ref=e.ref,t.return=e,e.child=t}function TH(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(od(s,n)&&t.ref===e.ref)if(tn=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(tn=!0);else return e.lanes=t.lanes,ps(t,e,i)}return IN(t,e,r,n,i)}function jH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ft(El,mn),mn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ft(El,mn),mn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,ft(El,mn),mn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,ft(El,mn),mn|=n;return qr(t,e,i,r),e.child}function IH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function IN(t,e,r,n,i){var s=nn(r)?go:Tr.current;return s=iu(e,s),Dl(e,i),r=SC(t,e,r,n,s,i),n=EC(),t!==null&&!tn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ps(t,e,i)):(wt&&n&&dC(e),e.flags|=1,qr(t,e,r,i),e.child)}function Dj(t,e,r,n,i){if(nn(r)){var s=!0;Vf(e)}else s=!1;if(Dl(e,i),e.stateNode===null)_f(t,e),OH(e,r,n),TN(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=zn(c):(c=nn(r)?go:Tr.current,c=iu(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==c)&&Tj(e,a,n,c),Rs=!1;var f=e.memoizedState;a.state=f,Xf(e,n,a,i),l=e.memoizedState,o!==n||f!==l||rn.current||Rs?(typeof d=="function"&&(PN(e,r,d,n),l=e.memoizedState),(o=Rs||Pj(e,r,o,n,f,l,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,sH(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:Zn(e.type,o),a.props=c,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=zn(l):(l=nn(r)?go:Tr.current,l=iu(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&Tj(e,a,n,l),Rs=!1,f=e.memoizedState,a.state=f,Xf(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||rn.current||Rs?(typeof p=="function"&&(PN(e,r,p,n),m=e.memoizedState),(c=Rs||Pj(e,r,c,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return RN(t,e,r,n,s,i)}function RN(t,e,r,n,i,s){IH(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&xj(e,r,!1),ps(t,e,s);n=e.stateNode,UJ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=au(e,t.child,null,s),e.child=au(e,null,o,s)):qr(t,e,o,s),e.memoizedState=n.state,i&&xj(e,r,!0),e.child}function RH(t){var e=t.stateNode;e.pendingContext?bj(t,e.pendingContext,e.pendingContext!==e.context):e.context&&bj(t,e.context,!1),bC(t,e.containerInfo)}function Mj(t,e,r,n,i){return su(),fC(i),e.flags|=256,qr(t,e,r,n),e.child}var $N={dehydrated:null,treeContext:null,retryLane:0};function kN(t){return{baseLanes:t,cachePool:null,transitions:null}}function $H(t,e,r){var n=e.pendingProps,i=St.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),ft(St,i&1),t===null)return ON(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Wp(a,n,0,null),t=ao(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=kN(r),e.memoizedState=$N,t):CC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return WJ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=sa(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=sa(o,s):(s=ao(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?kN(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=$N,n}return s=t.child,t=s.sibling,n=sa(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function CC(t,e){return e=Wp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Qh(t,e,r,n){return n!==null&&fC(n),au(e,t.child,null,r),t=CC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function WJ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=hv(Error(Z(422))),Qh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Wp({mode:"visible",children:n.children},i,0,null),s=ao(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&au(e,t.child,null,a),e.child.memoizedState=kN(a),e.memoizedState=$N,s);if(!(e.mode&1))return Qh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Z(419)),n=hv(s,n,void 0),Qh(t,e,a,n)}if(o=(a&t.childLanes)!==0,tn||o){if(n=ar,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,fs(t,i),di(n,t,i,-1))}return $C(),n=hv(Error(Z(421))),Qh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=nZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,yn=ta(i.nextSibling),bn=e,wt=!0,ni=null,t!==null&&(kn[Dn++]=Qi,kn[Dn++]=Xi,kn[Dn++]=yo,Qi=t.id,Xi=t.overflow,yo=e),e=CC(e,n.children),e.flags|=4096,e)}function qj(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),CN(t.return,e,r)}function fv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function kH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(qr(t,e,n.children,r),n=St.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&qj(t,r,e);else if(t.tag===19)qj(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(ft(St,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Jf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),fv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Jf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}fv(e,!0,r,null,s);break;case"together":fv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function _f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ps(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),xo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Z(153));if(e.child!==null){for(t=e.child,r=sa(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=sa(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function HJ(t,e,r){switch(e.tag){case 3:RH(e),su();break;case 5:aH(e);break;case 1:nn(e.type)&&Vf(e);break;case 4:bC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;ft(Yf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(ft(St,St.current&1),e.flags|=128,null):r&e.child.childLanes?$H(t,e,r):(ft(St,St.current&1),t=ps(t,e,r),t!==null?t.sibling:null);ft(St,St.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return kH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),ft(St,St.current),n)break;return null;case 22:case 23:return e.lanes=0,jH(t,e,r)}return ps(t,e,r)}var DH,DN,MH,qH;DH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};DN=function(){};MH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ba(Ri.current);var s=null;switch(r){case"input":i=nN(t,i),n=nN(t,n),s=[];break;case"select":i=Ot({},i,{value:void 0}),n=Ot({},n,{value:void 0}),s=[];break;case"textarea":i=aN(t,i),n=aN(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Wf)}lN(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(ed.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var l=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&l!==o&&(l!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(c,r)),r=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(ed.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&mt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(c,l))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};qH=function(t,e,r,n){r!==n&&(e.flags|=4)};function yc(t,e){if(!wt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Nr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function VJ(t,e,r){var n=e.pendingProps;switch(hC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Nr(e),null;case 1:return nn(e.type)&&Hf(),Nr(e),null;case 3:return n=e.stateNode,ou(),gt(rn),gt(Tr),wC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Gh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ni!==null&&(UN(ni),ni=null))),DN(t,e),Nr(e),null;case 5:xC(e);var i=Ba(hd.current);if(r=e.type,t!==null&&e.stateNode!=null)MH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Z(166));return Nr(e),null}if(t=Ba(Ri.current),Gh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Oi]=e,n[cd]=s,t=(e.mode&1)!==0,r){case"dialog":mt("cancel",n),mt("close",n);break;case"iframe":case"object":case"embed":mt("load",n);break;case"video":case"audio":for(i=0;i<Rc.length;i++)mt(Rc[i],n);break;case"source":mt("error",n);break;case"img":case"image":case"link":mt("error",n),mt("load",n);break;case"details":mt("toggle",n);break;case"input":VT(n,s),mt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},mt("invalid",n);break;case"textarea":GT(n,s),mt("invalid",n)}lN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Kh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Kh(n.textContent,o,t),i=["children",""+o]):ed.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&mt("scroll",n)}switch(r){case"input":Fh(n),KT(n,s,!0);break;case"textarea":Fh(n),YT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Wf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=d9(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Oi]=e,t[cd]=n,DH(t,e,!1,!1),e.stateNode=t;e:{switch(a=uN(r,n),r){case"dialog":mt("cancel",t),mt("close",t),i=n;break;case"iframe":case"object":case"embed":mt("load",t),i=n;break;case"video":case"audio":for(i=0;i<Rc.length;i++)mt(Rc[i],t);i=n;break;case"source":mt("error",t),i=n;break;case"img":case"image":case"link":mt("error",t),mt("load",t),i=n;break;case"details":mt("toggle",t),i=n;break;case"input":VT(t,n),i=nN(t,n),mt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=Ot({},n,{value:void 0}),mt("invalid",t);break;case"textarea":GT(t,n),i=aN(t,n),mt("invalid",t);break;default:i=n}lN(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?p9(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&h9(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&td(t,l):typeof l=="number"&&td(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(ed.hasOwnProperty(s)?l!=null&&s==="onScroll"&&mt("scroll",t):l!=null&&XO(t,s,l,a))}switch(r){case"input":Fh(t),KT(t,n,!1);break;case"textarea":Fh(t),YT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+pa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Il(t,!!n.multiple,s,!1):n.defaultValue!=null&&Il(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Wf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Nr(e),null;case 6:if(t&&e.stateNode!=null)qH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Z(166));if(r=Ba(hd.current),Ba(Ri.current),Gh(e)){if(n=e.stateNode,r=e.memoizedProps,n[Oi]=e,(s=n.nodeValue!==r)&&(t=bn,t!==null))switch(t.tag){case 3:Kh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Kh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Oi]=e,e.stateNode=n}return Nr(e),null;case 13:if(gt(St),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(wt&&yn!==null&&e.mode&1&&!(e.flags&128))tH(),su(),e.flags|=98560,s=!1;else if(s=Gh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Z(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Z(317));s[Oi]=e}else su(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Nr(e),s=!1}else ni!==null&&(UN(ni),ni=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||St.current&1?er===0&&(er=3):$C())),e.updateQueue!==null&&(e.flags|=4),Nr(e),null);case 4:return ou(),DN(t,e),t===null&&ld(e.stateNode.containerInfo),Nr(e),null;case 10:return vC(e.type._context),Nr(e),null;case 17:return nn(e.type)&&Hf(),Nr(e),null;case 19:if(gt(St),s=e.memoizedState,s===null)return Nr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)yc(s,!1);else{if(er!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Jf(t),a!==null){for(e.flags|=128,yc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return ft(St,St.current&1|2),e.child}t=t.sibling}s.tail!==null&&Mt()>uu&&(e.flags|=128,n=!0,yc(s,!1),e.lanes=4194304)}else{if(!n)if(t=Jf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),yc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!wt)return Nr(e),null}else 2*Mt()-s.renderingStartTime>uu&&r!==1073741824&&(e.flags|=128,n=!0,yc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Mt(),e.sibling=null,r=St.current,ft(St,n?r&1|2:r&1),e):(Nr(e),null);case 22:case 23:return RC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?mn&1073741824&&(Nr(e),e.subtreeFlags&6&&(e.flags|=8192)):Nr(e),null;case 24:return null;case 25:return null}throw Error(Z(156,e.tag))}function KJ(t,e){switch(hC(e),e.tag){case 1:return nn(e.type)&&Hf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ou(),gt(rn),gt(Tr),wC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return xC(e),null;case 13:if(gt(St),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Z(340));su()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return gt(St),null;case 4:return ou(),null;case 10:return vC(e.type._context),null;case 22:case 23:return RC(),null;case 24:return null;default:return null}}var Xh=!1,Cr=!1,GJ=typeof WeakSet=="function"?WeakSet:Set,me=null;function Sl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){It(t,e,n)}else r.current=null}function MN(t,e,r){try{r()}catch(n){It(t,e,n)}}var Aj=!1;function YJ(t,e){if(bN=Bf,t=z9(),cC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(xN={focusedElem:t,selectionRange:r},Bf=!1,me=e;me!==null;)if(e=me,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,me=t;else for(;me!==null;){e=me;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Zn(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Z(163))}}catch(b){It(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,me=t;break}me=e.return}return m=Aj,Aj=!1,m}function zc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&MN(e,r,s)}i=i.next}while(i!==n)}}function zp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function qN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function AH(t){var e=t.alternate;e!==null&&(t.alternate=null,AH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Oi],delete e[cd],delete e[SN],delete e[IJ],delete e[RJ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function FH(t){return t.tag===5||t.tag===3||t.tag===4}function Fj(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||FH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function AN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Wf));else if(n!==4&&(t=t.child,t!==null))for(AN(t,e,r),t=t.sibling;t!==null;)AN(t,e,r),t=t.sibling}function FN(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(FN(t,e,r),t=t.sibling;t!==null;)FN(t,e,r),t=t.sibling}var vr=null,ri=!1;function Ps(t,e,r){for(r=r.child;r!==null;)LH(t,e,r),r=r.sibling}function LH(t,e,r){if(Ii&&typeof Ii.onCommitFiberUnmount=="function")try{Ii.onCommitFiberUnmount(kp,r)}catch{}switch(r.tag){case 5:Cr||Sl(r,e);case 6:var n=vr,i=ri;vr=null,Ps(t,e,r),vr=n,ri=i,vr!==null&&(ri?(t=vr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):vr.removeChild(r.stateNode));break;case 18:vr!==null&&(ri?(t=vr,r=r.stateNode,t.nodeType===8?av(t.parentNode,r):t.nodeType===1&&av(t,r),sd(t)):av(vr,r.stateNode));break;case 4:n=vr,i=ri,vr=r.stateNode.containerInfo,ri=!0,Ps(t,e,r),vr=n,ri=i;break;case 0:case 11:case 14:case 15:if(!Cr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&MN(r,e,a),i=i.next}while(i!==n)}Ps(t,e,r);break;case 1:if(!Cr&&(Sl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){It(r,e,o)}Ps(t,e,r);break;case 21:Ps(t,e,r);break;case 22:r.mode&1?(Cr=(n=Cr)||r.memoizedState!==null,Ps(t,e,r),Cr=n):Ps(t,e,r);break;default:Ps(t,e,r)}}function Lj(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new GJ),e.forEach(function(n){var i=iZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Xn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:vr=o.stateNode,ri=!1;break e;case 3:vr=o.stateNode.containerInfo,ri=!0;break e;case 4:vr=o.stateNode.containerInfo,ri=!0;break e}o=o.return}if(vr===null)throw Error(Z(160));LH(s,a,i),vr=null,ri=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(c){It(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)BH(e,t),e=e.sibling}function BH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Xn(e,t),bi(t),n&4){try{zc(3,t,t.return),zp(3,t)}catch(y){It(t,t.return,y)}try{zc(5,t,t.return)}catch(y){It(t,t.return,y)}}break;case 1:Xn(e,t),bi(t),n&512&&r!==null&&Sl(r,r.return);break;case 5:if(Xn(e,t),bi(t),n&512&&r!==null&&Sl(r,r.return),t.flags&32){var i=t.stateNode;try{td(i,"")}catch(y){It(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&u9(i,s),uN(o,a);var c=uN(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?p9(i,h):d==="dangerouslySetInnerHTML"?h9(i,h):d==="children"?td(i,h):XO(i,d,h,c)}switch(o){case"input":iN(i,s);break;case"textarea":c9(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Il(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Il(i,!!s.multiple,s.defaultValue,!0):Il(i,!!s.multiple,s.multiple?[]:"",!1))}i[cd]=s}catch(y){It(t,t.return,y)}}break;case 6:if(Xn(e,t),bi(t),n&4){if(t.stateNode===null)throw Error(Z(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){It(t,t.return,y)}}break;case 3:if(Xn(e,t),bi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{sd(e.containerInfo)}catch(y){It(t,t.return,y)}break;case 4:Xn(e,t),bi(t);break;case 13:Xn(e,t),bi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(jC=Mt())),n&4&&Lj(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(Cr=(c=Cr)||d,Xn(e,t),Cr=c):Xn(e,t),bi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(me=t,d=t.child;d!==null;){for(h=me=d;me!==null;){switch(f=me,p=f.child,f.tag){case 0:case 11:case 14:case 15:zc(4,f,f.return);break;case 1:Sl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){It(n,r,y)}}break;case 5:Sl(f,f.return);break;case 22:if(f.memoizedState!==null){zj(h);continue}}p!==null?(p.return=f,me=p):zj(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=f9("display",a))}catch(y){It(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){It(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Xn(e,t),bi(t),n&4&&Lj(t);break;case 21:break;default:Xn(e,t),bi(t)}}function bi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(FH(r)){var n=r;break e}r=r.return}throw Error(Z(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(td(i,""),n.flags&=-33);var s=Fj(t);FN(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=Fj(t);AN(t,o,a);break;default:throw Error(Z(161))}}catch(l){It(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function QJ(t,e,r){me=t,zH(t)}function zH(t,e,r){for(var n=(t.mode&1)!==0;me!==null;){var i=me,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Xh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||Cr;o=Xh;var c=Cr;if(Xh=a,(Cr=l)&&!c)for(me=i;me!==null;)a=me,l=a.child,a.tag===22&&a.memoizedState!==null?Uj(i):l!==null?(l.return=a,me=l):Uj(i);for(;s!==null;)me=s,zH(s),s=s.sibling;me=i,Xh=o,Cr=c}Bj(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,me=s):Bj(t)}}function Bj(t){for(;me!==null;){var e=me;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:Cr||zp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!Cr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Zn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&Nj(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}Nj(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&sd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Z(163))}Cr||e.flags&512&&qN(e)}catch(f){It(e,e.return,f)}}if(e===t){me=null;break}if(r=e.sibling,r!==null){r.return=e.return,me=r;break}me=e.return}}function zj(t){for(;me!==null;){var e=me;if(e===t){me=null;break}var r=e.sibling;if(r!==null){r.return=e.return,me=r;break}me=e.return}}function Uj(t){for(;me!==null;){var e=me;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{zp(4,e)}catch(l){It(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){It(e,i,l)}}var s=e.return;try{qN(e)}catch(l){It(e,s,l)}break;case 5:var a=e.return;try{qN(e)}catch(l){It(e,a,l)}}}catch(l){It(e,e.return,l)}if(e===t){me=null;break}var o=e.sibling;if(o!==null){o.return=e.return,me=o;break}me=e.return}}var XJ=Math.ceil,tp=gs.ReactCurrentDispatcher,PC=gs.ReactCurrentOwner,Fn=gs.ReactCurrentBatchConfig,Ve=0,ar=null,zt=null,gr=0,mn=0,El=_a(0),er=0,vd=null,xo=0,Up=0,TC=0,Uc=null,Zr=null,jC=0,uu=1/0,Wi=null,rp=!1,LN=null,na=null,Jh=!1,Ys=null,np=0,Wc=0,BN=null,Sf=-1,Ef=0;function zr(){return Ve&6?Mt():Sf!==-1?Sf:Sf=Mt()}function ia(t){return t.mode&1?Ve&2&&gr!==0?gr&-gr:kJ.transition!==null?(Ef===0&&(Ef=O9()),Ef):(t=Ze,t!==0||(t=window.event,t=t===void 0?16:$9(t.type)),t):1}function di(t,e,r,n){if(50<Wc)throw Wc=0,BN=null,Error(Z(185));zd(t,r,n),(!(Ve&2)||t!==ar)&&(t===ar&&(!(Ve&2)&&(Up|=r),er===4&&Ms(t,gr)),sn(t,n),r===1&&Ve===0&&!(e.mode&1)&&(uu=Mt()+500,Fp&&Sa()))}function sn(t,e){var r=t.callbackNode;kX(t,e);var n=Lf(t,t===ar?gr:0);if(n===0)r!==null&&JT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&JT(r),e===1)t.tag===0?$J(Wj.bind(null,t)):J9(Wj.bind(null,t)),TJ(function(){!(Ve&6)&&Sa()}),r=null;else{switch(C9(n)){case 1:r=rC;break;case 4:r=E9;break;case 16:r=Ff;break;case 536870912:r=N9;break;default:r=Ff}r=QH(r,UH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function UH(t,e){if(Sf=-1,Ef=0,Ve&6)throw Error(Z(327));var r=t.callbackNode;if(Ml()&&t.callbackNode!==r)return null;var n=Lf(t,t===ar?gr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=ip(t,n);else{e=n;var i=Ve;Ve|=2;var s=HH();(ar!==t||gr!==e)&&(Wi=null,uu=Mt()+500,so(t,e));do try{eZ();break}catch(o){WH(t,o)}while(!0);mC(),tp.current=s,Ve=i,zt!==null?e=0:(ar=null,gr=0,e=er)}if(e!==0){if(e===2&&(i=pN(t),i!==0&&(n=i,e=zN(t,i))),e===1)throw r=vd,so(t,0),Ms(t,n),sn(t,Mt()),r;if(e===6)Ms(t,n);else{if(i=t.current.alternate,!(n&30)&&!JJ(i)&&(e=ip(t,n),e===2&&(s=pN(t),s!==0&&(n=s,e=zN(t,s))),e===1))throw r=vd,so(t,0),Ms(t,n),sn(t,Mt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Z(345));case 2:qa(t,Zr,Wi);break;case 3:if(Ms(t,n),(n&130023424)===n&&(e=jC+500-Mt(),10<e)){if(Lf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){zr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=_N(qa.bind(null,t,Zr,Wi),e);break}qa(t,Zr,Wi);break;case 4:if(Ms(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ci(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Mt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*XJ(n/1960))-n,10<n){t.timeoutHandle=_N(qa.bind(null,t,Zr,Wi),n);break}qa(t,Zr,Wi);break;case 5:qa(t,Zr,Wi);break;default:throw Error(Z(329))}}}return sn(t,Mt()),t.callbackNode===r?UH.bind(null,t):null}function zN(t,e){var r=Uc;return t.current.memoizedState.isDehydrated&&(so(t,e).flags|=256),t=ip(t,e),t!==2&&(e=Zr,Zr=r,e!==null&&UN(e)),t}function UN(t){Zr===null?Zr=t:Zr.push.apply(Zr,t)}function JJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!hi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Ms(t,e){for(e&=~TC,e&=~Up,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ci(e),n=1<<r;t[r]=-1,e&=~n}}function Wj(t){if(Ve&6)throw Error(Z(327));Ml();var e=Lf(t,0);if(!(e&1))return sn(t,Mt()),null;var r=ip(t,e);if(t.tag!==0&&r===2){var n=pN(t);n!==0&&(e=n,r=zN(t,n))}if(r===1)throw r=vd,so(t,0),Ms(t,e),sn(t,Mt()),r;if(r===6)throw Error(Z(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,qa(t,Zr,Wi),sn(t,Mt()),null}function IC(t,e){var r=Ve;Ve|=1;try{return t(e)}finally{Ve=r,Ve===0&&(uu=Mt()+500,Fp&&Sa())}}function wo(t){Ys!==null&&Ys.tag===0&&!(Ve&6)&&Ml();var e=Ve;Ve|=1;var r=Fn.transition,n=Ze;try{if(Fn.transition=null,Ze=1,t)return t()}finally{Ze=n,Fn.transition=r,Ve=e,!(Ve&6)&&Sa()}}function RC(){mn=El.current,gt(El)}function so(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,PJ(r)),zt!==null)for(r=zt.return;r!==null;){var n=r;switch(hC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&Hf();break;case 3:ou(),gt(rn),gt(Tr),wC();break;case 5:xC(n);break;case 4:ou();break;case 13:gt(St);break;case 19:gt(St);break;case 10:vC(n.type._context);break;case 22:case 23:RC()}r=r.return}if(ar=t,zt=t=sa(t.current,null),gr=mn=e,er=0,vd=null,TC=Up=xo=0,Zr=Uc=null,La!==null){for(e=0;e<La.length;e++)if(r=La[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}La=null}return t}function WH(t,e){do{var r=zt;try{if(mC(),xf.current=ep,Zf){for(var n=Et.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Zf=!1}if(bo=0,sr=Jt=Et=null,Bc=!1,fd=0,PC.current=null,r===null||r.return===null){er=1,vd=e,zt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=gr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=Ij(a);if(p!==null){p.flags&=-257,Rj(p,a,o,s,e),p.mode&1&&jj(s,c,e),e=p,l=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){jj(s,c,e),$C();break e}l=Error(Z(426))}}else if(wt&&o.mode&1){var x=Ij(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),Rj(x,a,o,s,e),fC(lu(l,o));break e}}s=l=lu(l,o),er!==4&&(er=2),Uc===null?Uc=[s]:Uc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=CH(s,l,e);Ej(s,g);break e;case 1:o=l;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(na===null||!na.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=PH(s,o,e);Ej(s,b);break e}}s=s.return}while(s!==null)}KH(r)}catch(_){e=_,zt===r&&r!==null&&(zt=r=r.return);continue}break}while(!0)}function HH(){var t=tp.current;return tp.current=ep,t===null?ep:t}function $C(){(er===0||er===3||er===2)&&(er=4),ar===null||!(xo&268435455)&&!(Up&268435455)||Ms(ar,gr)}function ip(t,e){var r=Ve;Ve|=2;var n=HH();(ar!==t||gr!==e)&&(Wi=null,so(t,e));do try{ZJ();break}catch(i){WH(t,i)}while(!0);if(mC(),Ve=r,tp.current=n,zt!==null)throw Error(Z(261));return ar=null,gr=0,er}function ZJ(){for(;zt!==null;)VH(zt)}function eZ(){for(;zt!==null&&!NX();)VH(zt)}function VH(t){var e=YH(t.alternate,t,mn);t.memoizedProps=t.pendingProps,e===null?KH(t):zt=e,PC.current=null}function KH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=KJ(r,e),r!==null){r.flags&=32767,zt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{er=6,zt=null;return}}else if(r=VJ(r,e,mn),r!==null){zt=r;return}if(e=e.sibling,e!==null){zt=e;return}zt=e=t}while(e!==null);er===0&&(er=5)}function qa(t,e,r){var n=Ze,i=Fn.transition;try{Fn.transition=null,Ze=1,tZ(t,e,r,n)}finally{Fn.transition=i,Ze=n}return null}function tZ(t,e,r,n){do Ml();while(Ys!==null);if(Ve&6)throw Error(Z(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Z(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(DX(t,s),t===ar&&(zt=ar=null,gr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Jh||(Jh=!0,QH(Ff,function(){return Ml(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Fn.transition,Fn.transition=null;var a=Ze;Ze=1;var o=Ve;Ve|=4,PC.current=null,YJ(t,r),BH(r,t),wJ(xN),Bf=!!bN,xN=bN=null,t.current=r,QJ(r),OX(),Ve=o,Ze=a,Fn.transition=s}else t.current=r;if(Jh&&(Jh=!1,Ys=t,np=i),s=t.pendingLanes,s===0&&(na=null),TX(r.stateNode),sn(t,Mt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(rp)throw rp=!1,t=LN,LN=null,t;return np&1&&t.tag!==0&&Ml(),s=t.pendingLanes,s&1?t===BN?Wc++:(Wc=0,BN=t):Wc=0,Sa(),null}function Ml(){if(Ys!==null){var t=C9(np),e=Fn.transition,r=Ze;try{if(Fn.transition=null,Ze=16>t?16:t,Ys===null)var n=!1;else{if(t=Ys,Ys=null,np=0,Ve&6)throw Error(Z(331));var i=Ve;for(Ve|=4,me=t.current;me!==null;){var s=me,a=s.child;if(me.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var c=o[l];for(me=c;me!==null;){var d=me;switch(d.tag){case 0:case 11:case 15:zc(8,d,s)}var h=d.child;if(h!==null)h.return=d,me=h;else for(;me!==null;){d=me;var f=d.sibling,p=d.return;if(AH(d),d===c){me=null;break}if(f!==null){f.return=p,me=f;break}me=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}me=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,me=a;else e:for(;me!==null;){if(s=me,s.flags&2048)switch(s.tag){case 0:case 11:case 15:zc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,me=g;break e}me=s.return}}var v=t.current;for(me=v;me!==null;){a=me;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,me=w;else e:for(a=v;me!==null;){if(o=me,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:zp(9,o)}}catch(_){It(o,o.return,_)}if(o===a){me=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,me=b;break e}me=o.return}}if(Ve=i,Sa(),Ii&&typeof Ii.onPostCommitFiberRoot=="function")try{Ii.onPostCommitFiberRoot(kp,t)}catch{}n=!0}return n}finally{Ze=r,Fn.transition=e}}return!1}function Hj(t,e,r){e=lu(r,e),e=CH(t,e,1),t=ra(t,e,1),e=zr(),t!==null&&(zd(t,1,e),sn(t,e))}function It(t,e,r){if(t.tag===3)Hj(t,t,r);else for(;e!==null;){if(e.tag===3){Hj(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(na===null||!na.has(n))){t=lu(r,t),t=PH(e,t,1),e=ra(e,t,1),t=zr(),e!==null&&(zd(e,1,t),sn(e,t));break}}e=e.return}}function rZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=zr(),t.pingedLanes|=t.suspendedLanes&r,ar===t&&(gr&r)===r&&(er===4||er===3&&(gr&130023424)===gr&&500>Mt()-jC?so(t,0):TC|=r),sn(t,e)}function GH(t,e){e===0&&(t.mode&1?(e=zh,zh<<=1,!(zh&130023424)&&(zh=4194304)):e=1);var r=zr();t=fs(t,e),t!==null&&(zd(t,e,r),sn(t,r))}function nZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),GH(t,r)}function iZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Z(314))}n!==null&&n.delete(e),GH(t,r)}var YH;YH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||rn.current)tn=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return tn=!1,HJ(t,e,r);tn=!!(t.flags&131072)}else tn=!1,wt&&e.flags&1048576&&Z9(e,Gf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;_f(t,e),t=e.pendingProps;var i=iu(e,Tr.current);Dl(e,r),i=SC(null,e,n,t,i,r);var s=EC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,nn(n)?(s=!0,Vf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,yC(e),i.updater=Bp,e.stateNode=i,i._reactInternals=e,TN(e,n,t,r),e=RN(null,e,n,!0,s,r)):(e.tag=0,wt&&s&&dC(e),qr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(_f(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=aZ(n),t=Zn(n,t),i){case 0:e=IN(null,e,n,t,r);break e;case 1:e=Dj(null,e,n,t,r);break e;case 11:e=$j(null,e,n,t,r);break e;case 14:e=kj(null,e,n,Zn(n.type,t),r);break e}throw Error(Z(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zn(n,i),IN(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zn(n,i),Dj(t,e,n,i,r);case 3:e:{if(RH(e),t===null)throw Error(Z(387));n=e.pendingProps,s=e.memoizedState,i=s.element,sH(t,e),Xf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=lu(Error(Z(423)),e),e=Mj(t,e,n,r,i);break e}else if(n!==i){i=lu(Error(Z(424)),e),e=Mj(t,e,n,r,i);break e}else for(yn=ta(e.stateNode.containerInfo.firstChild),bn=e,wt=!0,ni=null,r=nH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(su(),n===i){e=ps(t,e,r);break e}qr(t,e,n,r)}e=e.child}return e;case 5:return aH(e),t===null&&ON(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,wN(n,i)?a=null:s!==null&&wN(n,s)&&(e.flags|=32),IH(t,e),qr(t,e,a,r),e.child;case 6:return t===null&&ON(e),null;case 13:return $H(t,e,r);case 4:return bC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=au(e,null,n,r):qr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zn(n,i),$j(t,e,n,i,r);case 7:return qr(t,e,e.pendingProps,r),e.child;case 8:return qr(t,e,e.pendingProps.children,r),e.child;case 12:return qr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,ft(Yf,n._currentValue),n._currentValue=a,s!==null)if(hi(s.value,a)){if(s.children===i.children&&!rn.current){e=ps(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=es(-1,r&-r),l.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),CN(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Z(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),CN(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}qr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Dl(e,r),i=zn(i),n=n(i),e.flags|=1,qr(t,e,n,r),e.child;case 14:return n=e.type,i=Zn(n,e.pendingProps),i=Zn(n.type,i),kj(t,e,n,i,r);case 15:return TH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Zn(n,i),_f(t,e),e.tag=1,nn(n)?(t=!0,Vf(e)):t=!1,Dl(e,r),OH(e,n,i),TN(e,n,i,r),RN(null,e,n,!0,t,r);case 19:return kH(t,e,r);case 22:return jH(t,e,r)}throw Error(Z(156,e.tag))};function QH(t,e){return S9(t,e)}function sZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function An(t,e,r,n){return new sZ(t,e,r,n)}function kC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function aZ(t){if(typeof t=="function")return kC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ZO)return 11;if(t===eC)return 14}return 2}function sa(t,e){var r=t.alternate;return r===null?(r=An(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Nf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")kC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case pl:return ao(r.children,i,s,e);case JO:a=8,i|=8;break;case Z2:return t=An(12,r,e,i|2),t.elementType=Z2,t.lanes=s,t;case eN:return t=An(13,r,e,i),t.elementType=eN,t.lanes=s,t;case tN:return t=An(19,r,e,i),t.elementType=tN,t.lanes=s,t;case a9:return Wp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case i9:a=10;break e;case s9:a=9;break e;case ZO:a=11;break e;case eC:a=14;break e;case Is:a=16,n=null;break e}throw Error(Z(130,t==null?t:typeof t,""))}return e=An(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function ao(t,e,r,n){return t=An(7,t,n,e),t.lanes=r,t}function Wp(t,e,r,n){return t=An(22,t,n,e),t.elementType=a9,t.lanes=r,t.stateNode={isHidden:!1},t}function pv(t,e,r){return t=An(6,t,null,e),t.lanes=r,t}function mv(t,e,r){return e=An(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function oZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Ym(0),this.expirationTimes=Ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Ym(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function DC(t,e,r,n,i,s,a,o,l){return t=new oZ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=An(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},yC(s),t}function lZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:fl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function XH(t){if(!t)return ma;t=t._reactInternals;e:{if(Mo(t)!==t||t.tag!==1)throw Error(Z(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(nn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Z(171))}if(t.tag===1){var r=t.type;if(nn(r))return X9(t,r,e)}return e}function JH(t,e,r,n,i,s,a,o,l){return t=DC(r,n,!0,t,i,s,a,o,l),t.context=XH(null),r=t.current,n=zr(),i=ia(r),s=es(n,i),s.callback=e??null,ra(r,s,i),t.current.lanes=i,zd(t,i,n),sn(t,n),t}function Hp(t,e,r,n){var i=e.current,s=zr(),a=ia(i);return r=XH(r),e.context===null?e.context=r:e.pendingContext=r,e=es(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=ra(i,e,a),t!==null&&(di(t,i,a,s),bf(t,i,a)),a}function sp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Vj(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function MC(t,e){Vj(t,e),(t=t.alternate)&&Vj(t,e)}function uZ(){return null}var ZH=typeof reportError=="function"?reportError:function(t){console.error(t)};function qC(t){this._internalRoot=t}Vp.prototype.render=qC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Z(409));Hp(t,e,null,null)};Vp.prototype.unmount=qC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;wo(function(){Hp(null,t,null,null)}),e[hs]=null}};function Vp(t){this._internalRoot=t}Vp.prototype.unstable_scheduleHydration=function(t){if(t){var e=j9();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ds.length&&e!==0&&e<Ds[r].priority;r++);Ds.splice(r,0,t),r===0&&R9(t)}};function AC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Kp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Kj(){}function cZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=sp(a);s.call(c)}}var a=JH(e,n,t,0,null,!1,!1,"",Kj);return t._reactRootContainer=a,t[hs]=a.current,ld(t.nodeType===8?t.parentNode:t),wo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=sp(l);o.call(c)}}var l=DC(t,0,!1,null,null,!1,!1,"",Kj);return t._reactRootContainer=l,t[hs]=l.current,ld(t.nodeType===8?t.parentNode:t),wo(function(){Hp(e,l,r,n)}),l}function Gp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=sp(a);o.call(l)}}Hp(e,a,t,i)}else a=cZ(r,e,t,i,n);return sp(a)}P9=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Ic(e.pendingLanes);r!==0&&(nC(e,r|1),sn(e,Mt()),!(Ve&6)&&(uu=Mt()+500,Sa()))}break;case 13:wo(function(){var n=fs(t,1);if(n!==null){var i=zr();di(n,t,1,i)}}),MC(t,1)}};iC=function(t){if(t.tag===13){var e=fs(t,134217728);if(e!==null){var r=zr();di(e,t,134217728,r)}MC(t,134217728)}};T9=function(t){if(t.tag===13){var e=ia(t),r=fs(t,e);if(r!==null){var n=zr();di(r,t,e,n)}MC(t,e)}};j9=function(){return Ze};I9=function(t,e){var r=Ze;try{return Ze=t,e()}finally{Ze=r}};dN=function(t,e,r){switch(e){case"input":if(iN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ap(n);if(!i)throw Error(Z(90));l9(n),iN(n,i)}}}break;case"textarea":c9(t,r);break;case"select":e=r.value,e!=null&&Il(t,!!r.multiple,e,!1)}};g9=IC;y9=wo;var dZ={usingClientEntryPoint:!1,Events:[Wd,yl,Ap,m9,v9,IC]},bc={findFiberByHostInstance:Fa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},hZ={bundleType:bc.bundleType,version:bc.version,rendererPackageName:bc.rendererPackageName,rendererConfig:bc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=w9(t),t===null?null:t.stateNode},findFiberByHostInstance:bc.findFiberByHostInstance||uZ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Zh.isDisabled&&Zh.supportsFiber)try{kp=Zh.inject(hZ),Ii=Zh}catch{}}_n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=dZ;_n.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!AC(e))throw Error(Z(200));return lZ(t,e,null,r)};_n.createRoot=function(t,e){if(!AC(t))throw Error(Z(299));var r=!1,n="",i=ZH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=DC(t,1,!1,null,null,r,!1,n,i),t[hs]=e.current,ld(t.nodeType===8?t.parentNode:t),new qC(e)};_n.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Z(188)):(t=Object.keys(t).join(","),Error(Z(268,t)));return t=w9(e),t=t===null?null:t.stateNode,t};_n.flushSync=function(t){return wo(t)};_n.hydrate=function(t,e,r){if(!Kp(e))throw Error(Z(200));return Gp(null,t,e,!0,r)};_n.hydrateRoot=function(t,e,r){if(!AC(t))throw Error(Z(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=ZH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=JH(e,null,t,1,r??null,i,!1,s,a),t[hs]=e.current,ld(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new Vp(e)};_n.render=function(t,e,r){if(!Kp(e))throw Error(Z(200));return Gp(null,t,e,!1,r)};_n.unmountComponentAtNode=function(t){if(!Kp(t))throw Error(Z(40));return t._reactRootContainer?(wo(function(){Gp(null,null,t,!1,function(){t._reactRootContainer=null,t[hs]=null})}),!0):!1};_n.unstable_batchedUpdates=IC;_n.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!Kp(r))throw Error(Z(200));if(t==null||t._reactInternals===void 0)throw Error(Z(38));return Gp(t,e,r,!1,n)};_n.version="18.3.1-next-f1338f8080-20240426";function eV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(eV)}catch(t){console.error(t)}}eV(),e9.exports=_n;var fZ=e9.exports,Gj=fZ;X2.createRoot=Gj.createRoot,X2.hydrateRoot=Gj.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function gd(){return gd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},gd.apply(this,arguments)}var Qs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Qs||(Qs={}));const Yj="popstate";function pZ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return WN("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:ap(i)}return vZ(e,r,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function FC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function mZ(){return Math.random().toString(36).substr(2,8)}function Qj(t,e){return{usr:t.state,key:t.key,idx:e}}function WN(t,e,r,n){return r===void 0&&(r=null),gd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Pu(e):e,{state:r,key:e&&e.key||n||mZ()})}function ap(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function Pu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function vZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Qs.Pop,l=null,c=d();c==null&&(c=0,a.replaceState(gd({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Qs.Pop;let x=d(),g=x==null?null:x-c;c=x,l&&l({action:o,location:y.location,delta:g})}function f(x,g){o=Qs.Push;let v=WN(y.location,x,g);c=d()+1;let w=Qj(v,c),b=y.createHref(v);try{a.pushState(w,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&l&&l({action:o,location:y.location,delta:1})}function p(x,g){o=Qs.Replace;let v=WN(y.location,x,g);c=d();let w=Qj(v,c),b=y.createHref(v);a.replaceState(w,"",b),s&&l&&l({action:o,location:y.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:ap(x);return v=v.replace(/ $/,"%20"),Nt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(x){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(Yj,h),l=x,()=>{i.removeEventListener(Yj,h),l=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var Xj;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(Xj||(Xj={}));function gZ(t,e,r){return r===void 0&&(r="/"),yZ(t,e,r)}function yZ(t,e,r,n){let i=typeof e=="string"?Pu(e):e,s=cu(i.pathname||"/",r);if(s==null)return null;let a=tV(t);bZ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let c=jZ(s);o=PZ(a[l],c)}return o}function tV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(Nt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let c=aa([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(Nt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),tV(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:OZ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of rV(s.path))i(s,a,l)}),e}function rV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=rV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function bZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:CZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const xZ=/^:[\w-]+$/,wZ=3,_Z=2,SZ=1,EZ=10,NZ=-2,Jj=t=>t==="*";function OZ(t,e){let r=t.split("/"),n=r.length;return r.some(Jj)&&(n+=NZ),e&&(n+=_Z),r.filter(i=>!Jj(i)).reduce((i,s)=>i+(xZ.test(s)?wZ:s===""?SZ:EZ),n)}function CZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function PZ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=HN({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:aa([s,h.pathname]),pathnameBase:DZ(aa([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=aa([s,h.pathnameBase]))}return a}function HN(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=TZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function TZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),FC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function jZ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return FC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function cu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const IZ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,RZ=t=>IZ.test(t);function $Z(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?Pu(t):t,s;if(r)if(RZ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),FC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=Zj(r.substring(1),"/"):s=Zj(r,e)}else s=e;return{pathname:s,search:MZ(n),hash:qZ(i)}}function Zj(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function vv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function kZ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function LC(t,e){let r=kZ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function BC(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=Pu(t):(i=gd({},t),Nt(!i.pathname||!i.pathname.includes("?"),vv("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),vv("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),vv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=$Z(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const aa=t=>t.join("/").replace(/\/\/+/g,"/"),DZ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),MZ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,qZ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function AZ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const nV=["post","put","patch","delete"];new Set(nV);const FZ=["get",...nV];new Set(FZ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yd(){return yd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yd.apply(this,arguments)}const Yp=I.createContext(null),iV=I.createContext(null),ys=I.createContext(null),Qp=I.createContext(null),bs=I.createContext({outlet:null,matches:[],isDataRoute:!1}),sV=I.createContext(null);function LZ(t,e){let{relative:r}=e===void 0?{}:e;Tu()||Nt(!1);let{basename:n,navigator:i}=I.useContext(ys),{hash:s,pathname:a,search:o}=Xp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:aa([n,a])),i.createHref({pathname:l,search:o,hash:s})}function Tu(){return I.useContext(Qp)!=null}function xs(){return Tu()||Nt(!1),I.useContext(Qp).location}function aV(t){I.useContext(ys).static||I.useLayoutEffect(t)}function cn(){let{isDataRoute:t}=I.useContext(bs);return t?ZZ():BZ()}function BZ(){Tu()||Nt(!1);let t=I.useContext(Yp),{basename:e,future:r,navigator:n}=I.useContext(ys),{matches:i}=I.useContext(bs),{pathname:s}=xs(),a=JSON.stringify(LC(i,r.v7_relativeSplatPath)),o=I.useRef(!1);return aV(()=>{o.current=!0}),I.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=BC(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:aa([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function ws(){let{matches:t}=I.useContext(bs),e=t[t.length-1];return e?e.params:{}}function Xp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=I.useContext(ys),{matches:i}=I.useContext(bs),{pathname:s}=xs(),a=JSON.stringify(LC(i,n.v7_relativeSplatPath));return I.useMemo(()=>BC(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function zZ(t,e){return UZ(t,e)}function UZ(t,e,r,n){Tu()||Nt(!1);let{navigator:i}=I.useContext(ys),{matches:s}=I.useContext(bs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let c=xs(),d;if(e){var h;let x=typeof e=="string"?Pu(e):e;l==="/"||(h=x.pathname)!=null&&h.startsWith(l)||Nt(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(l!=="/"){let x=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=gZ(t,{pathname:p}),y=GZ(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:aa([l,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?l:aa([l,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?I.createElement(Qp.Provider,{value:{location:yd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Qs.Pop}},y):y}function WZ(){let t=JZ(),e=AZ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return I.createElement(I.Fragment,null,I.createElement("h2",null,"Unexpected Application Error!"),I.createElement("h3",{style:{fontStyle:"italic"}},e),r?I.createElement("pre",{style:i},r):null,null)}const HZ=I.createElement(WZ,null);class VZ extends I.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?I.createElement(bs.Provider,{value:this.props.routeContext},I.createElement(sV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function KZ(t){let{routeContext:e,match:r,children:n}=t,i=I.useContext(Yp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),I.createElement(bs.Provider,{value:e},n)}function GZ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Nt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||HZ,l&&(c<0&&f===0?(eee("route-fallback"),m=!0,x=null):c===f&&(m=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=y:m?w=x:h.route.Component?w=I.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,I.createElement(KZ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?I.createElement(VZ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var oV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(oV||{}),lV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(lV||{});function YZ(t){let e=I.useContext(Yp);return e||Nt(!1),e}function QZ(t){let e=I.useContext(iV);return e||Nt(!1),e}function XZ(t){let e=I.useContext(bs);return e||Nt(!1),e}function uV(t){let e=XZ(),r=e.matches[e.matches.length-1];return r.route.id||Nt(!1),r.route.id}function JZ(){var t;let e=I.useContext(sV),r=QZ(),n=uV();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function ZZ(){let{router:t}=YZ(oV.UseNavigateStable),e=uV(lV.UseNavigateStable),r=I.useRef(!1);return aV(()=>{r.current=!0}),I.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,yd({fromRouteId:e},s)))},[t,e])}const eI={};function eee(t,e,r){eI[t]||(eI[t]=!0)}function tee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function cV(t){let{to:e,replace:r,state:n,relative:i}=t;Tu()||Nt(!1);let{future:s,static:a}=I.useContext(ys),{matches:o}=I.useContext(bs),{pathname:l}=xs(),c=cn(),d=BC(e,LC(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return I.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function it(t){Nt(!1)}function ree(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Qs.Pop,navigator:s,static:a=!1,future:o}=t;Tu()&&Nt(!1);let l=e.replace(/^\/*/,"/"),c=I.useMemo(()=>({basename:l,navigator:s,static:a,future:yd({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=Pu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=I.useMemo(()=>{let x=cu(d,l);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:I.createElement(ys.Provider,{value:c},I.createElement(Qp.Provider,{children:r,value:y}))}function tI(t){let{children:e,location:r}=t;return zZ(VN(e),r)}new Promise(()=>{});function VN(t,e){e===void 0&&(e=[]);let r=[];return I.Children.forEach(t,(n,i)=>{if(!I.isValidElement(n))return;let s=[...e,i];if(n.type===I.Fragment){r.push.apply(r,VN(n.props.children,s));return}n.type!==it&&Nt(!1),!n.props.index||!n.props.children||Nt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=VN(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function op(){return op=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},op.apply(this,arguments)}function dV(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function nee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function iee(t,e){return t.button===0&&(!e||e==="_self")&&!nee(t)}function KN(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function see(t,e){let r=KN(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const aee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],oee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],lee="6";try{window.__reactRouterVersion=lee}catch{}const uee=I.createContext({isTransitioning:!1}),cee="startTransition",rI=rX[cee];function dee(t){let{basename:e,children:r,future:n,window:i}=t,s=I.useRef();s.current==null&&(s.current=pZ({window:i,v5Compat:!0}));let a=s.current,[o,l]=I.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=I.useCallback(h=>{c&&rI?rI(()=>l(h)):l(h)},[l,c]);return I.useLayoutEffect(()=>a.listen(d),[a,d]),I.useEffect(()=>tee(n),[n]),I.createElement(ree,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const hee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",fee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,fe=I.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=dV(e,aee),{basename:p}=I.useContext(ys),m,y=!1;if(typeof c=="string"&&fee.test(c)&&(m=c,hee))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=cu(b.pathname,p);b.origin===w.origin&&_!=null?c=_+b.search+b.hash:y=!0}catch{}let x=LZ(c,{relative:i}),g=vee(c,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||g(w)}return I.createElement("a",op({},f,{href:m||x,onClick:y||s?n:v,ref:r,target:l}))}),pee=I.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:c,children:d}=e,h=dV(e,oee),f=Xp(l,{relative:h.relative}),p=xs(),m=I.useContext(iV),{navigator:y,basename:x}=I.useContext(ys),g=m!=null&&gee(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&x&&(b=cu(b,x)||b);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=w===v||!a&&w.startsWith(v)&&w.charAt(_)==="/",N=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),S={isActive:E,isPending:N,isTransitioning:g},O=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let T=typeof o=="function"?o(S):o;return I.createElement(fe,op({},h,{"aria-current":O,className:C,ref:r,style:T,to:l,viewTransition:c}),typeof d=="function"?d(S):d)});var GN;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(GN||(GN={}));var nI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(nI||(nI={}));function mee(t){let e=I.useContext(Yp);return e||Nt(!1),e}function vee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=cn(),c=xs(),d=Xp(t,{relative:a});return I.useCallback(h=>{if(iee(h,r)){h.preventDefault();let f=n!==void 0?n:ap(c)===ap(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,l,d,n,i,r,t,s,a,o])}function zC(t){let e=I.useRef(KN(t)),r=I.useRef(!1),n=xs(),i=I.useMemo(()=>see(n.search,r.current?null:e.current),[n.search]),s=cn(),a=I.useCallback((o,l)=>{const c=KN(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,l)},[s,i]);return[i,a]}function gee(t,e){e===void 0&&(e={});let r=I.useContext(uee);r==null&&Nt(!1);let{basename:n}=mee(GN.useViewTransitionState),i=Xp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=cu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=cu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return HN(i.pathname,a)!=null||HN(i.pathname,s)!=null}var qo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},yee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},As,WO,IW,bee=(IW=class{constructor(){pe(this,As,yee);pe(this,WO,!1)}setTimeoutProvider(t){ne(this,As,t)}setTimeout(t,e){return R(this,As).setTimeout(t,e)}clearTimeout(t){R(this,As).clearTimeout(t)}setInterval(t,e){return R(this,As).setInterval(t,e)}clearInterval(t){R(this,As).clearInterval(t)}},As=new WeakMap,WO=new WeakMap,IW),za=new bee;function xee(t){setTimeout(t,0)}var _o=typeof window>"u"||"Deno"in globalThis;function Or(){}function wee(t,e){return typeof t=="function"?t(e):t}function YN(t){return typeof t=="number"&&t>=0&&t!==1/0}function hV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function oa(t,e){return typeof t=="function"?t(e):t}function Rn(t,e){return typeof t=="function"?t(e):t}function iI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==UC(a,e.options))return!1}else if(!bd(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function sI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(So(e.options.mutationKey)!==So(s))return!1}else if(!bd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function UC(t,e){return((e==null?void 0:e.queryKeyHashFn)||So)(t)}function So(t){return JSON.stringify(t,(e,r)=>QN(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function bd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>bd(t[r],e[r])):!1}var _ee=Object.prototype.hasOwnProperty;function WC(t,e){if(t===e)return t;const r=aI(t)&&aI(e);if(!r&&!(QN(t)&&QN(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:_ee.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=WC(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function xd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function aI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function QN(t){if(!oI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!oI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function oI(t){return Object.prototype.toString.call(t)==="[object Object]"}function See(t){return new Promise(e=>{za.setTimeout(e,t)})}function XN(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?WC(t,e):e}function Eee(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Nee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var HC=Symbol();function fV(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===HC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function VC(t,e){return typeof t=="function"?t(...e):!!t}function Oee(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Qa,Fs,zl,RW,Cee=(RW=class extends qo{constructor(){super();pe(this,Qa);pe(this,Fs);pe(this,zl);ne(this,zl,e=>{if(!_o&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Fs)||this.setEventListener(R(this,zl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Fs))==null||e.call(this),ne(this,Fs,void 0))}setEventListener(e){var r;ne(this,zl,e),(r=R(this,Fs))==null||r.call(this),ne(this,Fs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Qa)!==e&&(ne(this,Qa,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Qa)=="boolean"?R(this,Qa):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Qa=new WeakMap,Fs=new WeakMap,zl=new WeakMap,RW),KC=new Cee;function JN(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Pee=xee;function Tee(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Pee;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var kt=Tee(),Ul,Ls,Wl,$W,jee=($W=class extends qo{constructor(){super();pe(this,Ul,!0);pe(this,Ls);pe(this,Wl);ne(this,Wl,e=>{if(!_o&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Ls)||this.setEventListener(R(this,Wl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Ls))==null||e.call(this),ne(this,Ls,void 0))}setEventListener(e){var r;ne(this,Wl,e),(r=R(this,Ls))==null||r.call(this),ne(this,Ls,e(this.setOnline.bind(this)))}setOnline(e){R(this,Ul)!==e&&(ne(this,Ul,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Ul)}},Ul=new WeakMap,Ls=new WeakMap,Wl=new WeakMap,$W),lp=new jee;function Iee(t){return Math.min(1e3*2**t,3e4)}function pV(t){return(t??"online")==="online"?lp.isOnline():!0}var ZN=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function mV(t){let e=!1,r=0,n;const i=JN(),s=()=>i.status!=="pending",a=y=>{var x;if(!s()){const g=new ZN(y);f(g),(x=t.onCancel)==null||x.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},c=()=>KC.isFocused()&&(t.networkMode==="always"||lp.isOnline())&&t.canRun(),d=()=>pV(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var x;n=g=>{(s()||c())&&y(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const x=r===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(_o?0:3),w=t.retryDelay??Iee,b=typeof w=="function"?w(r,g):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),See(b).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var Xa,kW,vV=(kW=class{constructor(){pe(this,Xa)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),YN(this.gcTime)&&ne(this,Xa,za.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(_o?1/0:5*60*1e3))}clearGcTimeout(){R(this,Xa)&&(za.clearTimeout(R(this,Xa)),ne(this,Xa,void 0))}},Xa=new WeakMap,kW),Ja,Hl,jn,Za,ir,$d,eo,ei,Ui,DW,Ree=(DW=class extends vV{constructor(e){super();pe(this,ei);pe(this,Ja);pe(this,Hl);pe(this,jn);pe(this,Za);pe(this,ir);pe(this,$d);pe(this,eo);ne(this,eo,!1),ne(this,$d,e.defaultOptions),this.setOptions(e.options),this.observers=[],ne(this,Za,e.client),ne(this,jn,R(this,Za).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ne(this,Ja,uI(this.options)),this.state=e.state??R(this,Ja),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,ir))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,$d),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=uI(this.options);r.data!==void 0&&(this.setState(lI(r.data,r.dataUpdatedAt)),ne(this,Ja,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,jn).remove(this)}setData(e,r){const n=XN(this.state.data,e,this.options);return Oe(this,ei,Ui).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Oe(this,ei,Ui).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,ir))==null?void 0:n.promise;return(i=R(this,ir))==null||i.cancel(e),r?r.then(Or).catch(Or):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Ja))}isActive(){return this.observers.some(e=>Rn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===HC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>oa(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!hV(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,ir))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,jn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,ir)&&(R(this,eo)?R(this,ir).cancel({revert:!0}):R(this,ir).cancelRetry()),this.scheduleGc()),R(this,jn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Oe(this,ei,Ui).call(this,{type:"invalidate"})}async fetch(e,r){var l,c,d,h,f,p,m,y,x,g,v,w;if(this.state.fetchStatus!=="idle"&&((l=R(this,ir))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,ir))return R(this,ir).continueRetry(),R(this,ir).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ne(this,eo,!0),n.signal)})},s=()=>{const b=fV(this.options,r),E=(()=>{const N={client:R(this,Za),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return ne(this,eo,!1),this.options.persister?this.options.persister(b,E,this):b(E)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,Za),state:this.state,fetchFn:s};return i(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),ne(this,Hl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Oe(this,ei,Ui).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ne(this,ir,mV({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof ZN&&b.revert&&this.setState({...R(this,Hl),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Oe(this,ei,Ui).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Oe(this,ei,Ui).call(this,{type:"pause"})},onContinue:()=>{Oe(this,ei,Ui).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await R(this,ir).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,jn).config).onSuccess)==null||p.call(f,b,this),(y=(m=R(this,jn).config).onSettled)==null||y.call(m,b,this.state.error,this),b}catch(b){if(b instanceof ZN){if(b.silent)return R(this,ir).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Oe(this,ei,Ui).call(this,{type:"error",error:b}),(g=(x=R(this,jn).config).onError)==null||g.call(x,b,this),(w=(v=R(this,jn).config).onSettled)==null||w.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},Ja=new WeakMap,Hl=new WeakMap,jn=new WeakMap,Za=new WeakMap,ir=new WeakMap,$d=new WeakMap,eo=new WeakMap,ei=new WeakSet,Ui=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...gV(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...lI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ne(this,Hl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),kt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,jn).notify({query:this,type:"updated",action:e})})},DW);function gV(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:pV(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function lI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function uI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Yr,Ue,kd,kr,to,Vl,Vi,Bs,Dd,Kl,Gl,ro,no,zs,Yl,Ge,$c,eO,tO,rO,nO,iO,sO,aO,yV,MW,GC=(MW=class extends qo{constructor(e,r){super();pe(this,Ge);pe(this,Yr);pe(this,Ue);pe(this,kd);pe(this,kr);pe(this,to);pe(this,Vl);pe(this,Vi);pe(this,Bs);pe(this,Dd);pe(this,Kl);pe(this,Gl);pe(this,ro);pe(this,no);pe(this,zs);pe(this,Yl,new Set);this.options=r,ne(this,Yr,e),ne(this,Bs,null),ne(this,Vi,JN()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ue).addObserver(this),cI(R(this,Ue),this.options)?Oe(this,Ge,$c).call(this):this.updateResult(),Oe(this,Ge,nO).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return oO(R(this,Ue),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return oO(R(this,Ue),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Oe(this,Ge,iO).call(this),Oe(this,Ge,sO).call(this),R(this,Ue).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Ue);if(this.options=R(this,Yr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Rn(this.options.enabled,R(this,Ue))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Oe(this,Ge,aO).call(this),R(this,Ue).setOptions(this.options),r._defaulted&&!xd(this.options,r)&&R(this,Yr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ue),observer:this});const i=this.hasListeners();i&&dI(R(this,Ue),n,this.options,r)&&Oe(this,Ge,$c).call(this),this.updateResult(),i&&(R(this,Ue)!==n||Rn(this.options.enabled,R(this,Ue))!==Rn(r.enabled,R(this,Ue))||oa(this.options.staleTime,R(this,Ue))!==oa(r.staleTime,R(this,Ue)))&&Oe(this,Ge,eO).call(this);const s=Oe(this,Ge,tO).call(this);i&&(R(this,Ue)!==n||Rn(this.options.enabled,R(this,Ue))!==Rn(r.enabled,R(this,Ue))||s!==R(this,zs))&&Oe(this,Ge,rO).call(this,s)}getOptimisticResult(e){const r=R(this,Yr).getQueryCache().build(R(this,Yr),e),n=this.createResult(r,e);return kee(this,n)&&(ne(this,kr,n),ne(this,Vl,this.options),ne(this,to,R(this,Ue).state)),n}getCurrentResult(){return R(this,kr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Vi).status==="pending"&&R(this,Vi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Yl).add(e)}getCurrentQuery(){return R(this,Ue)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Yr).defaultQueryOptions(e),n=R(this,Yr).getQueryCache().build(R(this,Yr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Oe(this,Ge,$c).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,kr)))}createResult(e,r){var O;const n=R(this,Ue),i=this.options,s=R(this,kr),a=R(this,to),o=R(this,Vl),c=e!==n?e.state:R(this,kd),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),T=!C&&cI(e,r),P=C&&dI(e,n,r,i);(T||P)&&(h={...h,...gV(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:x}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((O=R(this,Gl))==null?void 0:O.state.data,R(this,Gl)):r.placeholderData,C!==void 0&&(x="success",p=XN(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Dd))p=R(this,Kl);else try{ne(this,Dd,r.select),p=r.select(p),p=XN(s==null?void 0:s.data,p,r),ne(this,Kl,p),ne(this,Bs,null)}catch(C){ne(this,Bs,C)}R(this,Bs)&&(m=R(this,Bs),p=R(this,Kl),y=Date.now(),x="error");const v=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",_=w&&v,E=p!==void 0,S={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:b&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&E,isStale:YC(e,r),refetch:this.refetch,promise:R(this,Vi),isEnabled:Rn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=j=>{S.status==="error"?j.reject(S.error):S.data!==void 0&&j.resolve(S.data)},T=()=>{const j=ne(this,Vi,S.promise=JN());C(j)},P=R(this,Vi);switch(P.status){case"pending":e.queryHash===n.queryHash&&C(P);break;case"fulfilled":(S.status==="error"||S.data!==P.value)&&T();break;case"rejected":(S.status!=="error"||S.error!==P.reason)&&T();break}}return S}updateResult(){const e=R(this,kr),r=this.createResult(R(this,Ue),this.options);if(ne(this,to,R(this,Ue).state),ne(this,Vl,this.options),R(this,to).data!==void 0&&ne(this,Gl,R(this,Ue)),xd(r,e))return;ne(this,kr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Yl).size)return!0;const a=new Set(s??R(this,Yl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,kr)).some(o=>{const l=o;return R(this,kr)[l]!==e[l]&&a.has(l)})};Oe(this,Ge,yV).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Oe(this,Ge,nO).call(this)}},Yr=new WeakMap,Ue=new WeakMap,kd=new WeakMap,kr=new WeakMap,to=new WeakMap,Vl=new WeakMap,Vi=new WeakMap,Bs=new WeakMap,Dd=new WeakMap,Kl=new WeakMap,Gl=new WeakMap,ro=new WeakMap,no=new WeakMap,zs=new WeakMap,Yl=new WeakMap,Ge=new WeakSet,$c=function(e){Oe(this,Ge,aO).call(this);let r=R(this,Ue).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Or)),r},eO=function(){Oe(this,Ge,iO).call(this);const e=oa(this.options.staleTime,R(this,Ue));if(_o||R(this,kr).isStale||!YN(e))return;const n=hV(R(this,kr).dataUpdatedAt,e)+1;ne(this,ro,za.setTimeout(()=>{R(this,kr).isStale||this.updateResult()},n))},tO=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ue)):this.options.refetchInterval)??!1},rO=function(e){Oe(this,Ge,sO).call(this),ne(this,zs,e),!(_o||Rn(this.options.enabled,R(this,Ue))===!1||!YN(R(this,zs))||R(this,zs)===0)&&ne(this,no,za.setInterval(()=>{(this.options.refetchIntervalInBackground||KC.isFocused())&&Oe(this,Ge,$c).call(this)},R(this,zs)))},nO=function(){Oe(this,Ge,eO).call(this),Oe(this,Ge,rO).call(this,Oe(this,Ge,tO).call(this))},iO=function(){R(this,ro)&&(za.clearTimeout(R(this,ro)),ne(this,ro,void 0))},sO=function(){R(this,no)&&(za.clearInterval(R(this,no)),ne(this,no,void 0))},aO=function(){const e=R(this,Yr).getQueryCache().build(R(this,Yr),this.options);if(e===R(this,Ue))return;const r=R(this,Ue);ne(this,Ue,e),ne(this,kd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},yV=function(e){kt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,kr))}),R(this,Yr).getQueryCache().notify({query:R(this,Ue),type:"observerResultsUpdated"})})},MW);function $ee(t,e){return Rn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function cI(t,e){return $ee(t,e)||t.state.data!==void 0&&oO(t,e,e.refetchOnMount)}function oO(t,e,r){if(Rn(e.enabled,t)!==!1&&oa(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&YC(t,e)}return!1}function dI(t,e,r,n){return(t!==e||Rn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&YC(t,r)}function YC(t,e){return Rn(e.enabled,t)!==!1&&t.isStaleByTime(oa(e.staleTime,t))}function kee(t,e){return!xd(t.getCurrentResult(),e)}function hI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const c=async()=>{let y=!1;const x=w=>{Oee(w,()=>e.signal,()=>y=!0)},g=fV(e.options,e.fetchOptions),v=async(w,b,_)=>{if(y)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const T={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return x(T),T})(),S=await g(N),{maxPages:O}=e.options,C=_?Nee:Eee;return{pages:C(w.pages,S,O),pageParams:C(w.pageParams,b,O)}};if(i&&s.length){const w=i==="backward",b=w?Dee:fI,_={pages:s,pageParams:a},E=b(n,_);o=await v(_,E,w)}else{const w=t??s.length;do{const b=l===0?a[0]??n.initialPageParam:fI(n,o);if(l>0&&b==null)break;o=await v(o,b),l++}while(l<w)}return o};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function fI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function Dee(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Md,Si,Dr,io,Ei,js,qW,Mee=(qW=class extends vV{constructor(e){super();pe(this,Ei);pe(this,Md);pe(this,Si);pe(this,Dr);pe(this,io);ne(this,Md,e.client),this.mutationId=e.mutationId,ne(this,Dr,e.mutationCache),ne(this,Si,[]),this.state=e.state||bV(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Si).includes(e)||(R(this,Si).push(e),this.clearGcTimeout(),R(this,Dr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ne(this,Si,R(this,Si).filter(r=>r!==e)),this.scheduleGc(),R(this,Dr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Si).length||(this.state.status==="pending"?this.scheduleGc():R(this,Dr).remove(this))}continue(){var e;return((e=R(this,io))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,c,d,h,f,p,m,y,x,g,v,w,b,_,E,N,S,O;const r=()=>{Oe(this,Ei,js).call(this,{type:"continue"})},n={client:R(this,Md),meta:this.options.meta,mutationKey:this.options.mutationKey};ne(this,io,mV({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,T)=>{Oe(this,Ei,js).call(this,{type:"failed",failureCount:C,error:T})},onPause:()=>{Oe(this,Ei,js).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Dr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,io).canStart();try{if(i)r();else{Oe(this,Ei,js).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Dr).config).onMutate)==null?void 0:o.call(a,e,this,n));const T=await((c=(l=this.options).onMutate)==null?void 0:c.call(l,e,n));T!==this.state.context&&Oe(this,Ei,js).call(this,{type:"pending",context:T,variables:e,isPaused:s})}const C=await R(this,io).start();return await((h=(d=R(this,Dr).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Dr).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,C,null,e,this.state.context,n)),Oe(this,Ei,js).call(this,{type:"success",data:C}),C}catch(C){try{await((w=(v=R(this,Dr).config).onError)==null?void 0:w.call(v,C,e,this.state.context,this,n))}catch(T){Promise.reject(T)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,C,e,this.state.context,n))}catch(T){Promise.reject(T)}try{await((N=(E=R(this,Dr).config).onSettled)==null?void 0:N.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(T){Promise.reject(T)}try{await((O=(S=this.options).onSettled)==null?void 0:O.call(S,void 0,C,e,this.state.context,n))}catch(T){Promise.reject(T)}throw Oe(this,Ei,js).call(this,{type:"error",error:C}),C}finally{R(this,Dr).runNext(this)}}},Md=new WeakMap,Si=new WeakMap,Dr=new WeakMap,io=new WeakMap,Ei=new WeakSet,js=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),kt.batch(()=>{R(this,Si).forEach(n=>{n.onMutationUpdate(e)}),R(this,Dr).notify({mutation:this,type:"updated",action:e})})},qW);function bV(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ki,ti,qd,AW,qee=(AW=class extends qo{constructor(e={}){super();pe(this,Ki);pe(this,ti);pe(this,qd);this.config=e,ne(this,Ki,new Set),ne(this,ti,new Map),ne(this,qd,0)}build(e,r,n){const i=new Mee({client:e,mutationCache:this,mutationId:++Mh(this,qd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ki).add(e);const r=ef(e);if(typeof r=="string"){const n=R(this,ti).get(r);n?n.push(e):R(this,ti).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ki).delete(e)){const r=ef(e);if(typeof r=="string"){const n=R(this,ti).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,ti).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=ef(e);if(typeof r=="string"){const n=R(this,ti).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=ef(e);if(typeof r=="string"){const i=(n=R(this,ti).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){kt.batch(()=>{R(this,Ki).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ki).clear(),R(this,ti).clear()})}getAll(){return Array.from(R(this,Ki))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>sI(r,n))}findAll(e={}){return this.getAll().filter(r=>sI(e,r))}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return kt.batch(()=>Promise.all(e.map(r=>r.continue().catch(Or))))}},Ki=new WeakMap,ti=new WeakMap,qd=new WeakMap,AW);function ef(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Gi,Us,Qr,Yi,cs,Of,lO,FW,Aee=(FW=class extends qo{constructor(e,r){super();pe(this,cs);pe(this,Gi);pe(this,Us);pe(this,Qr);pe(this,Yi);ne(this,Gi,e),this.setOptions(r),this.bindMethods(),Oe(this,cs,Of).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Gi).defaultMutationOptions(e),xd(this.options,r)||R(this,Gi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Qr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&So(r.mutationKey)!==So(this.options.mutationKey)?this.reset():((n=R(this,Qr))==null?void 0:n.state.status)==="pending"&&R(this,Qr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Qr))==null||e.removeObserver(this)}onMutationUpdate(e){Oe(this,cs,Of).call(this),Oe(this,cs,lO).call(this,e)}getCurrentResult(){return R(this,Us)}reset(){var e;(e=R(this,Qr))==null||e.removeObserver(this),ne(this,Qr,void 0),Oe(this,cs,Of).call(this),Oe(this,cs,lO).call(this)}mutate(e,r){var n;return ne(this,Yi,r),(n=R(this,Qr))==null||n.removeObserver(this),ne(this,Qr,R(this,Gi).getMutationCache().build(R(this,Gi),this.options)),R(this,Qr).addObserver(this),R(this,Qr).execute(e)}},Gi=new WeakMap,Us=new WeakMap,Qr=new WeakMap,Yi=new WeakMap,cs=new WeakSet,Of=function(){var r;const e=((r=R(this,Qr))==null?void 0:r.state)??bV();ne(this,Us,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},lO=function(e){kt.batch(()=>{var r,n,i,s,a,o,l,c;if(R(this,Yi)&&this.hasListeners()){const d=R(this,Us).variables,h=R(this,Us).context,f={client:R(this,Gi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Yi)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Yi)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Yi)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(l=R(this,Yi)).onSettled)==null||c.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Us))})})},FW);function pI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function Fee(t,e,r){const n=t.slice(0);return n[e]=r,n}var Ql,pn,Xl,Jl,In,Ws,Ad,Fd,Ld,br,uO,cO,dO,hO,fO,LW,Lee=(LW=class extends qo{constructor(e,r,n){super();pe(this,br);pe(this,Ql);pe(this,pn);pe(this,Xl);pe(this,Jl);pe(this,In);pe(this,Ws);pe(this,Ad);pe(this,Fd);pe(this,Ld,[]);ne(this,Ql,e),ne(this,Jl,n),ne(this,Xl,[]),ne(this,In,[]),ne(this,pn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,In).forEach(e=>{e.subscribe(r=>{Oe(this,br,hO).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,In).forEach(e=>{e.destroy()})}setQueries(e,r){ne(this,Xl,e),ne(this,Jl,r),kt.batch(()=>{const n=R(this,In),i=Oe(this,br,dO).call(this,R(this,Xl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),c=o||l,d=c?!0:a.some((h,f)=>{const p=R(this,pn)[f];return!p||!xd(h,p)});!c&&!d||(c&&(ne(this,Ld,i),ne(this,In,s)),ne(this,pn,a),this.hasListeners()&&(c&&(pI(n,s).forEach(h=>{h.destroy()}),pI(s,n).forEach(h=>{h.subscribe(f=>{Oe(this,br,hO).call(this,h,f)})})),Oe(this,br,fO).call(this)))})}getCurrentResult(){return R(this,pn)}getQueries(){return R(this,In).map(e=>e.getCurrentQuery())}getObservers(){return R(this,In)}getOptimisticResult(e,r){const n=Oe(this,br,dO).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Oe(this,br,cO).call(this,s??i,r),()=>Oe(this,br,uO).call(this,i,n)]}},Ql=new WeakMap,pn=new WeakMap,Xl=new WeakMap,Jl=new WeakMap,In=new WeakMap,Ws=new WeakMap,Ad=new WeakMap,Fd=new WeakMap,Ld=new WeakMap,br=new WeakSet,uO=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},cO=function(e,r){return r?((!R(this,Ws)||R(this,pn)!==R(this,Fd)||r!==R(this,Ad))&&(ne(this,Ad,r),ne(this,Fd,R(this,pn)),ne(this,Ws,WC(R(this,Ws),r(e)))),R(this,Ws)):e},dO=function(e){const r=new Map;R(this,In).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Ql).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new GC(R(this,Ql),s);n.push({defaultedQueryOptions:s,observer:o})}),n},hO=function(e,r){const n=R(this,In).indexOf(e);n!==-1&&(ne(this,pn,Fee(R(this,pn),n,r)),Oe(this,br,fO).call(this))},fO=function(){var e;if(this.hasListeners()){const r=R(this,Ws),n=Oe(this,br,uO).call(this,R(this,pn),R(this,Ld)),i=Oe(this,br,cO).call(this,n,(e=R(this,Jl))==null?void 0:e.combine);r!==i&&kt.batch(()=>{this.listeners.forEach(s=>{s(R(this,pn))})})}},LW),Ni,BW,Bee=(BW=class extends qo{constructor(e={}){super();pe(this,Ni);this.config=e,ne(this,Ni,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??UC(i,r);let a=this.get(s);return a||(a=new Ree({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,Ni).has(e.queryHash)||(R(this,Ni).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,Ni).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,Ni).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){kt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,Ni).get(e)}getAll(){return[...R(this,Ni).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>iI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>iI(e,n)):r}notify(e){kt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){kt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){kt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Ni=new WeakMap,BW),jt,Hs,Vs,Zl,eu,Ks,tu,ru,zW,zee=(zW=class{constructor(t={}){pe(this,jt);pe(this,Hs);pe(this,Vs);pe(this,Zl);pe(this,eu);pe(this,Ks);pe(this,tu);pe(this,ru);ne(this,jt,t.queryCache||new Bee),ne(this,Hs,t.mutationCache||new qee),ne(this,Vs,t.defaultOptions||{}),ne(this,Zl,new Map),ne(this,eu,new Map),ne(this,Ks,0)}mount(){Mh(this,Ks)._++,R(this,Ks)===1&&(ne(this,tu,KC.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,jt).onFocus())})),ne(this,ru,lp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,jt).onOnline())})))}unmount(){var t,e;Mh(this,Ks)._--,R(this,Ks)===0&&((t=R(this,tu))==null||t.call(this),ne(this,tu,void 0),(e=R(this,ru))==null||e.call(this),ne(this,ru,void 0))}isFetching(t){return R(this,jt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Hs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,jt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,jt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(oa(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,jt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,jt).get(n.queryHash),s=i==null?void 0:i.state.data,a=wee(e,s);if(a!==void 0)return R(this,jt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return kt.batch(()=>R(this,jt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,jt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,jt);kt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,jt);return kt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=kt.batch(()=>R(this,jt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Or).catch(Or)}invalidateQueries(t,e={}){return kt.batch(()=>(R(this,jt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=kt.batch(()=>R(this,jt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Or)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Or)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,jt).build(this,e);return r.isStaleByTime(oa(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Or).catch(Or)}fetchInfiniteQuery(t){return t.behavior=hI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Or).catch(Or)}ensureInfiniteQueryData(t){return t.behavior=hI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return lp.isOnline()?R(this,Hs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,jt)}getMutationCache(){return R(this,Hs)}getDefaultOptions(){return R(this,Vs)}setDefaultOptions(t){ne(this,Vs,t)}setQueryDefaults(t,e){R(this,Zl).set(So(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Zl).values()],r={};return e.forEach(n=>{bd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,eu).set(So(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,eu).values()],r={};return e.forEach(n=>{bd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Vs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=UC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===HC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Vs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,jt).clear(),R(this,Hs).clear()}},jt=new WeakMap,Hs=new WeakMap,Vs=new WeakMap,Zl=new WeakMap,eu=new WeakMap,Ks=new WeakMap,tu=new WeakMap,ru=new WeakMap,zW),xV=I.createContext(void 0),pt=t=>{const e=I.useContext(xV);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},Uee=({client:t,children:e})=>(I.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(xV.Provider,{value:t,children:e})),wV=I.createContext(!1),_V=()=>I.useContext(wV);wV.Provider;function Wee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var Hee=I.createContext(Wee()),SV=()=>I.useContext(Hee),EV=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?VC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},NV=t=>{I.useEffect(()=>{t.clearReset()},[t])},OV=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||VC(r,[t.error,n])),CV=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},PV=(t,e)=>t.isLoading&&t.isFetching&&!e,pO=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,up=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function cp({queries:t,...e},r){const n=pt(),i=_V(),s=SV(),a=I.useMemo(()=>t.map(y=>{const x=n.defaultQueryOptions(y);return x._optimisticResults=i?"isRestoring":"optimistic",x}),[t,n,i]);a.forEach(y=>{CV(y);const x=n.getQueryCache().get(y.queryHash);EV(y,s,x)}),NV(s);const[o]=I.useState(()=>new Lee(n,a,e)),[l,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;I.useSyncExternalStore(I.useCallback(y=>h?o.subscribe(kt.batchCalls(y)):Or,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),I.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,x)=>pO(a[x],y))?l.flatMap((y,x)=>{const g=a[x];if(g){const v=new GC(n,g);if(pO(g,y))return up(g,v,s);PV(y,i)&&up(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,x)=>{const g=a[x];return g&&OV({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return c(d())}function Vee(t,e,r){var f,p,m,y;const n=_V(),i=SV(),s=pt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",CV(a),EV(a,i,o),NV(i);const l=!s.getQueryCache().get(a.queryHash),[c]=I.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(I.useSyncExternalStore(I.useCallback(x=>{const g=h?c.subscribe(kt.batchCalls(x)):Or;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),I.useEffect(()=>{c.setOptions(a)},[a,c]),pO(a,d))throw up(a,c,i);if(OV({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!_o&&PV(d,n)){const x=l?up(a,c,i):o==null?void 0:o.promise;x==null||x.catch(Or).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function yt(t,e){return Vee(t,GC)}function Xe(t,e){const r=pt(),[n]=I.useState(()=>new Aee(r,t));I.useEffect(()=>{n.setOptions(t)},[n,t]);const i=I.useSyncExternalStore(I.useCallback(a=>n.subscribe(kt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=I.useCallback((a,o)=>{n.mutate(a,o).catch(Or)},[n]);if(i.error&&VC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function QC(){const t=window.prmConfig||{};return I.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function TV(t,e){return function(){return t.apply(e,arguments)}}const{toString:Kee}=Object.prototype,{getPrototypeOf:XC}=Object,{iterator:Jp,toStringTag:jV}=Symbol,Zp=(t=>e=>{const r=Kee.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),mi=t=>(t=t.toLowerCase(),e=>Zp(e)===t),em=t=>e=>typeof e===t,{isArray:ju}=Array,du=em("undefined");function Vd(t){return t!==null&&!du(t)&&t.constructor!==null&&!du(t.constructor)&&an(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const IV=mi("ArrayBuffer");function Gee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&IV(t.buffer),e}const Yee=em("string"),an=em("function"),RV=em("number"),Kd=t=>t!==null&&typeof t=="object",Qee=t=>t===!0||t===!1,Cf=t=>{if(Zp(t)!=="object")return!1;const e=XC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(jV in t)&&!(Jp in t)},Xee=t=>{if(!Kd(t)||Vd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},Jee=mi("Date"),Zee=mi("File"),ete=mi("Blob"),tte=mi("FileList"),rte=t=>Kd(t)&&an(t.pipe),nte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||an(t.append)&&((e=Zp(t))==="formdata"||e==="object"&&an(t.toString)&&t.toString()==="[object FormData]"))},ite=mi("URLSearchParams"),[ste,ate,ote,lte]=["ReadableStream","Request","Response","Headers"].map(mi),ute=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Gd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),ju(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Vd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function $V(t,e){if(Vd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ua=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,kV=t=>!du(t)&&t!==Ua;function mO(){const{caseless:t,skipUndefined:e}=kV(this)&&this||{},r={},n=(i,s)=>{const a=t&&$V(r,s)||s;Cf(r[a])&&Cf(i)?r[a]=mO(r[a],i):Cf(i)?r[a]=mO({},i):ju(i)?r[a]=i.slice():(!e||!du(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Gd(arguments[i],n);return r}const cte=(t,e,r,{allOwnKeys:n}={})=>(Gd(e,(i,s)=>{r&&an(i)?t[s]=TV(i,r):t[s]=i},{allOwnKeys:n}),t),dte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),hte=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},fte=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&XC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},pte=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},mte=t=>{if(!t)return null;if(ju(t))return t;let e=t.length;if(!RV(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},vte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&XC(Uint8Array)),gte=(t,e)=>{const n=(t&&t[Jp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},yte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},bte=mi("HTMLFormElement"),xte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),mI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),wte=mi("RegExp"),DV=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Gd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},_te=t=>{DV(t,(e,r)=>{if(an(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(an(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Ste=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return ju(t)?n(t):n(String(t).split(e)),r},Ete=()=>{},Nte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Ote(t){return!!(t&&an(t.append)&&t[jV]==="FormData"&&t[Jp])}const Cte=t=>{const e=new Array(10),r=(n,i)=>{if(Kd(n)){if(e.indexOf(n)>=0)return;if(Vd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=ju(n)?[]:{};return Gd(n,(a,o)=>{const l=r(a,i+1);!du(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Pte=mi("AsyncFunction"),Tte=t=>t&&(Kd(t)||an(t))&&an(t.then)&&an(t.catch),MV=((t,e)=>t?setImmediate:e?((r,n)=>(Ua.addEventListener("message",({source:i,data:s})=>{i===Ua&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ua.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",an(Ua.postMessage)),jte=typeof queueMicrotask<"u"?queueMicrotask.bind(Ua):typeof process<"u"&&process.nextTick||MV,Ite=t=>t!=null&&an(t[Jp]),q={isArray:ju,isArrayBuffer:IV,isBuffer:Vd,isFormData:nte,isArrayBufferView:Gee,isString:Yee,isNumber:RV,isBoolean:Qee,isObject:Kd,isPlainObject:Cf,isEmptyObject:Xee,isReadableStream:ste,isRequest:ate,isResponse:ote,isHeaders:lte,isUndefined:du,isDate:Jee,isFile:Zee,isBlob:ete,isRegExp:wte,isFunction:an,isStream:rte,isURLSearchParams:ite,isTypedArray:vte,isFileList:tte,forEach:Gd,merge:mO,extend:cte,trim:ute,stripBOM:dte,inherits:hte,toFlatObject:fte,kindOf:Zp,kindOfTest:mi,endsWith:pte,toArray:mte,forEachEntry:gte,matchAll:yte,isHTMLForm:bte,hasOwnProperty:mI,hasOwnProp:mI,reduceDescriptors:DV,freezeMethods:_te,toObjectSet:Ste,toCamelCase:xte,noop:Ete,toFiniteNumber:Nte,findKey:$V,global:Ua,isContextDefined:kV,isSpecCompliantForm:Ote,toJSONObject:Cte,isAsyncFn:Pte,isThenable:Tte,setImmediate:MV,asap:jte,isIterable:Ite};function Ie(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}q.inherits(Ie,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:q.toJSONObject(this.config),code:this.code,status:this.status}}});const qV=Ie.prototype,AV={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{AV[t]={value:t}});Object.defineProperties(Ie,AV);Object.defineProperty(qV,"isAxiosError",{value:!0});Ie.from=(t,e,r,n,i,s)=>{const a=Object.create(qV);q.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ie.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Rte=null;function vO(t){return q.isPlainObject(t)||q.isArray(t)}function FV(t){return q.endsWith(t,"[]")?t.slice(0,-2):t}function vI(t,e,r){return t?t.concat(e).map(function(i,s){return i=FV(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function $te(t){return q.isArray(t)&&!t.some(vO)}const kte=q.toFlatObject(q,{},null,function(e){return/^is[A-Z]/.test(e)});function tm(t,e,r){if(!q.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=q.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!q.isUndefined(x[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&q.isSpecCompliantForm(e);if(!q.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(q.isDate(m))return m.toISOString();if(q.isBoolean(m))return m.toString();if(!l&&q.isBlob(m))throw new Ie("Blob is not supported. Use a Buffer instead.");return q.isArrayBuffer(m)||q.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,x){let g=m;if(m&&!x&&typeof m=="object"){if(q.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(q.isArray(m)&&$te(m)||(q.isFileList(m)||q.endsWith(y,"[]"))&&(g=q.toArray(m)))return y=FV(y),g.forEach(function(w,b){!(q.isUndefined(w)||w===null)&&e.append(a===!0?vI([y],b,s):a===null?y:y+"[]",c(w))}),!1}return vO(m)?!0:(e.append(vI(x,y,s),c(m)),!1)}const h=[],f=Object.assign(kte,{defaultVisitor:d,convertValue:c,isVisitable:vO});function p(m,y){if(!q.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),q.forEach(m,function(g,v){(!(q.isUndefined(g)||g===null)&&i.call(e,g,q.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!q.isObject(t))throw new TypeError("data must be an object");return p(t),e}function gI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function JC(t,e){this._pairs=[],t&&tm(t,this,e)}const LV=JC.prototype;LV.append=function(e,r){this._pairs.push([e,r])};LV.toString=function(e){const r=e?function(n){return e.call(this,n,gI)}:gI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Dte(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function BV(t,e,r){if(!e)return t;const n=r&&r.encode||Dte;q.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=q.isURLSearchParams(e)?e.toString():new JC(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class yI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){q.forEach(this.handlers,function(n){n!==null&&e(n)})}}const zV={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Mte=typeof URLSearchParams<"u"?URLSearchParams:JC,qte=typeof FormData<"u"?FormData:null,Ate=typeof Blob<"u"?Blob:null,Fte={isBrowser:!0,classes:{URLSearchParams:Mte,FormData:qte,Blob:Ate},protocols:["http","https","file","blob","url","data"]},ZC=typeof window<"u"&&typeof document<"u",gO=typeof navigator=="object"&&navigator||void 0,Lte=ZC&&(!gO||["ReactNative","NativeScript","NS"].indexOf(gO.product)<0),Bte=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",zte=ZC&&window.location.href||"http://localhost",Ute=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:ZC,hasStandardBrowserEnv:Lte,hasStandardBrowserWebWorkerEnv:Bte,navigator:gO,origin:zte},Symbol.toStringTag,{value:"Module"})),Pr={...Ute,...Fte};function Wte(t,e){return tm(t,new Pr.classes.URLSearchParams,{visitor:function(r,n,i,s){return Pr.isNode&&q.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Hte(t){return q.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Vte(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function UV(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&q.isArray(i)?i.length:a,l?(q.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!q.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&q.isArray(i[a])&&(i[a]=Vte(i[a])),!o)}if(q.isFormData(t)&&q.isFunction(t.entries)){const r={};return q.forEachEntry(t,(n,i)=>{e(Hte(n),i,r,0)}),r}return null}function Kte(t,e,r){if(q.isString(t))try{return(e||JSON.parse)(t),q.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Yd={transitional:zV,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=q.isObject(e);if(s&&q.isHTMLForm(e)&&(e=new FormData(e)),q.isFormData(e))return i?JSON.stringify(UV(e)):e;if(q.isArrayBuffer(e)||q.isBuffer(e)||q.isStream(e)||q.isFile(e)||q.isBlob(e)||q.isReadableStream(e))return e;if(q.isArrayBufferView(e))return e.buffer;if(q.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Wte(e,this.formSerializer).toString();if((o=q.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return tm(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Kte(e)):e}],transformResponse:[function(e){const r=this.transitional||Yd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(q.isResponse(e)||q.isReadableStream(e))return e;if(e&&q.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ie.from(o,Ie.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Pr.classes.FormData,Blob:Pr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};q.forEach(["delete","get","head","post","put","patch"],t=>{Yd.headers[t]={}});const Gte=q.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Yte=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Gte[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},bI=Symbol("internals");function xc(t){return t&&String(t).trim().toLowerCase()}function Pf(t){return t===!1||t==null?t:q.isArray(t)?t.map(Pf):String(t)}function Qte(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Xte=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function gv(t,e,r,n,i){if(q.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!q.isString(e)){if(q.isString(n))return e.indexOf(n)!==-1;if(q.isRegExp(n))return n.test(e)}}function Jte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Zte(t,e){const r=q.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let on=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,c){const d=xc(l);if(!d)throw new Error("header name must be a non-empty string");const h=q.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||l]=Pf(o))}const a=(o,l)=>q.forEach(o,(c,d)=>s(c,d,l));if(q.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(q.isString(e)&&(e=e.trim())&&!Xte(e))a(Yte(e),r);else if(q.isObject(e)&&q.isIterable(e)){let o={},l,c;for(const d of e){if(!q.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(l=o[c])?q.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=xc(e),e){const n=q.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Qte(i);if(q.isFunction(r))return r.call(this,i,n);if(q.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=xc(e),e){const n=q.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||gv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=xc(a),a){const o=q.findKey(n,a);o&&(!r||gv(n,n[o],o,r))&&(delete n[o],i=!0)}}return q.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||gv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return q.forEach(this,(i,s)=>{const a=q.findKey(n,s);if(a){r[a]=Pf(i),delete r[s];return}const o=e?Jte(s):String(s).trim();o!==s&&delete r[s],r[o]=Pf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return q.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&q.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[bI]=this[bI]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=xc(a);n[o]||(Zte(i,a),n[o]=!0)}return q.isArray(e)?e.forEach(s):s(e),this}};on.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);q.reduceDescriptors(on.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});q.freezeMethods(on);function yv(t,e){const r=this||Yd,n=e||r,i=on.from(n.headers);let s=n.data;return q.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function WV(t){return!!(t&&t.__CANCEL__)}function Iu(t,e,r){Ie.call(this,t??"canceled",Ie.ERR_CANCELED,e,r),this.name="CanceledError"}q.inherits(Iu,Ie,{__CANCEL__:!0});function HV(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ie("Request failed with status code "+r.status,[Ie.ERR_BAD_REQUEST,Ie.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ere(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function tre(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const c=Date.now(),d=n[s];a||(a=c),r[i]=l,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function rre(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const dp=(t,e,r=3)=>{let n=0;const i=tre(50,250);return rre(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,c=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},xI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},wI=t=>(...e)=>q.asap(()=>t(...e)),nre=Pr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Pr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Pr.origin),Pr.navigator&&/(msie|trident)/i.test(Pr.navigator.userAgent)):()=>!0,ire=Pr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];q.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),q.isString(n)&&o.push(`path=${n}`),q.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),q.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function sre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function are(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function VV(t,e,r){let n=!sre(e);return t&&(n||r==!1)?are(t,e):e}const _I=t=>t instanceof on?{...t}:t;function Eo(t,e){e=e||{};const r={};function n(c,d,h,f){return q.isPlainObject(c)&&q.isPlainObject(d)?q.merge.call({caseless:f},c,d):q.isPlainObject(d)?q.merge({},d):q.isArray(d)?d.slice():d}function i(c,d,h,f){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!q.isUndefined(d))return n(void 0,d)}function a(c,d){if(q.isUndefined(d)){if(!q.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(_I(c),_I(d),h,!0)};return q.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);q.isUndefined(f)&&h!==o||(r[d]=f)}),r}const KV=t=>{const e=Eo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=on.from(a),e.url=BV(VV(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),q.isFormData(r)){if(Pr.hasStandardBrowserEnv||Pr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(q.isFunction(r.getHeaders)){const l=r.getHeaders(),c=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(Pr.hasStandardBrowserEnv&&(n&&q.isFunction(n)&&(n=n(e)),n||n!==!1&&nre(e.url))){const l=i&&s&&ire.read(s);l&&a.set(i,l)}return e},ore=typeof XMLHttpRequest<"u",lre=ore&&function(t){return new Promise(function(r,n){const i=KV(t);let s=i.data;const a=on.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:c}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const w=on.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};HV(function(N){r(N),y()},function(N){n(N),y()},_),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new Ie("Request aborted",Ie.ECONNABORTED,t,x)),x=null)},x.onerror=function(b){const _=b&&b.message?b.message:"Network Error",E=new Ie(_,Ie.ERR_NETWORK,t,x);E.event=b||null,n(E),x=null},x.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||zV;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new Ie(b,_.clarifyTimeoutError?Ie.ETIMEDOUT:Ie.ECONNABORTED,t,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&q.forEach(a.toJSON(),function(b,_){x.setRequestHeader(_,b)}),q.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),c&&([f,m]=dp(c,!0),x.addEventListener("progress",f)),l&&x.upload&&([h,p]=dp(l),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{x&&(n(!w||w.type?new Iu(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=ere(i.url);if(v&&Pr.protocols.indexOf(v)===-1){n(new Ie("Unsupported protocol "+v+":",Ie.ERR_BAD_REQUEST,t));return}x.send(s||null)})},ure=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof Ie?d:new Iu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ie(`timeout ${e} of ms exceeded`,Ie.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>q.asap(o),l}},cre=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},dre=async function*(t,e){for await(const r of hre(t))yield*cre(r,e)},hre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},SI=(t,e,r,n)=>{const i=dre(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:c,value:d}=await i.next();if(c){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},EI=64*1024,{isFunction:tf}=q,fre=(({Request:t,Response:e})=>({Request:t,Response:e}))(q.global),{ReadableStream:NI,TextEncoder:OI}=q.global,CI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},pre=t=>{t=q.merge.call({skipUndefined:!0},fre,t);const{fetch:e,Request:r,Response:n}=t,i=e?tf(e):typeof fetch=="function",s=tf(r),a=tf(n);if(!i)return!1;const o=i&&tf(NI),l=i&&(typeof OI=="function"?(m=>y=>m.encode(y))(new OI):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&o&&CI(()=>{let m=!1;const y=new r(Pr.origin,{body:new NI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&CI(()=>q.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,x)=>{let g=y&&y[m];if(g)return g.call(y);throw new Ie(`Response type '${m}' is not supported`,Ie.ERR_NOT_SUPPORT,x)})});const f=async m=>{if(m==null)return 0;if(q.isBlob(m))return m.size;if(q.isSpecCompliantForm(m))return(await new r(Pr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(q.isArrayBufferView(m)||q.isArrayBuffer(m))return m.byteLength;if(q.isURLSearchParams(m)&&(m=m+""),q.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const x=q.toFiniteNumber(m.getContentLength());return x??f(y)};return async m=>{let{url:y,method:x,data:g,signal:v,cancelToken:w,timeout:b,onDownloadProgress:_,onUploadProgress:E,responseType:N,headers:S,withCredentials:O="same-origin",fetchOptions:C}=KV(m),T=e||fetch;N=N?(N+"").toLowerCase():"text";let P=ure([v,w&&w.toAbortSignal()],b),j=null;const D=P&&P.unsubscribe&&(()=>{P.unsubscribe()});let F;try{if(E&&c&&x!=="get"&&x!=="head"&&(F=await p(S,g))!==0){let z=new r(y,{method:"POST",body:g,duplex:"half"}),K;if(q.isFormData(g)&&(K=z.headers.get("content-type"))&&S.setContentType(K),z.body){const[he,xe]=xI(F,dp(wI(E)));g=SI(z.body,EI,he,xe)}}q.isString(O)||(O=O?"include":"omit");const Q=s&&"credentials"in r.prototype,H={...C,signal:P,method:x.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:Q?O:void 0};j=s&&new r(y,H);let L=await(s?T(j,C):T(y,H));const V=d&&(N==="stream"||N==="response");if(d&&(_||V&&D)){const z={};["status","statusText","headers"].forEach(Re=>{z[Re]=L[Re]});const K=q.toFiniteNumber(L.headers.get("content-length")),[he,xe]=_&&xI(K,dp(wI(_),!0))||[];L=new n(SI(L.body,EI,he,()=>{xe&&xe(),D&&D()}),z)}N=N||"text";let W=await h[q.findKey(h,N)||"text"](L,m);return!V&&D&&D(),await new Promise((z,K)=>{HV(z,K,{data:W,headers:on.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:j})})}catch(Q){throw D&&D(),Q&&Q.name==="TypeError"&&/Load failed|fetch/i.test(Q.message)?Object.assign(new Ie("Network Error",Ie.ERR_NETWORK,m,j),{cause:Q.cause||Q}):Ie.from(Q,Q&&Q.code,m,j)}}},mre=new Map,GV=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,c,d=mre;for(;o--;)l=s[o],c=d.get(l),c===void 0&&d.set(l,c=o?new Map:pre(e)),d=c;return c};GV();const eP={http:Rte,xhr:lre,fetch:{get:GV}};q.forEach(eP,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const PI=t=>`- ${t}`,vre=t=>q.isFunction(t)||t===null||t===!1;function gre(t,e){t=q.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!vre(n)&&(i=eP[(o=String(n)).toLowerCase()],i===void 0))throw new Ie(`Unknown adapter '${o}'`);if(i&&(q.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,c])=>`adapter ${l} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(PI).join(`
`):" "+PI(a[0]):"as no adapter specified";throw new Ie("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const YV={getAdapter:gre,adapters:eP};function bv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new Iu(null,t)}function TI(t){return bv(t),t.headers=on.from(t.headers),t.data=yv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),YV.getAdapter(t.adapter||Yd.adapter,t)(t).then(function(n){return bv(t),n.data=yv.call(t,t.transformResponse,n),n.headers=on.from(n.headers),n},function(n){return WV(n)||(bv(t),n&&n.response&&(n.response.data=yv.call(t,t.transformResponse,n.response),n.response.headers=on.from(n.response.headers))),Promise.reject(n)})}const QV="1.13.2",rm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{rm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const jI={};rm.transitional=function(e,r,n){function i(s,a){return"[Axios v"+QV+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ie(i(a," has been removed"+(r?" in "+r:"")),Ie.ERR_DEPRECATED);return r&&!jI[a]&&(jI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};rm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function yre(t,e,r){if(typeof t!="object")throw new Ie("options must be an object",Ie.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ie("option "+s+" must be "+l,Ie.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ie("Unknown option "+s,Ie.ERR_BAD_OPTION)}}const Tf={assertOptions:yre,validators:rm},xi=Tf.validators;let oo=class{constructor(e){this.defaults=e||{},this.interceptors={request:new yI,response:new yI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=Eo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Tf.assertOptions(n,{silentJSONParsing:xi.transitional(xi.boolean),forcedJSONParsing:xi.transitional(xi.boolean),clarifyTimeoutError:xi.transitional(xi.boolean)},!1),i!=null&&(q.isFunction(i)?r.paramsSerializer={serialize:i}:Tf.assertOptions(i,{encode:xi.function,serialize:xi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Tf.assertOptions(r,{baseUrl:xi.spelling("baseURL"),withXsrfToken:xi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&q.merge(s.common,s[r.method]);s&&q.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=on.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[TI.bind(this),void 0];for(m.unshift(...o),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(x){y.call(this,x);break}}try{d=TI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=Eo(this.defaults,e);const r=VV(e.baseURL,e.url,e.allowAbsoluteUrls);return BV(r,e.params,e.paramsSerializer)}};q.forEach(["delete","get","head","options"],function(e){oo.prototype[e]=function(r,n){return this.request(Eo(n||{},{method:e,url:r,data:(n||{}).data}))}});q.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(Eo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}oo.prototype[e]=r(),oo.prototype[e+"Form"]=r(!0)});let bre=class XV{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new Iu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new XV(function(i){e=i}),cancel:e}}};function xre(t){return function(r){return t.apply(null,r)}}function wre(t){return q.isObject(t)&&t.isAxiosError===!0}const yO={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(yO).forEach(([t,e])=>{yO[e]=t});function JV(t){const e=new oo(t),r=TV(oo.prototype.request,e);return q.extend(r,oo.prototype,e,{allOwnKeys:!0}),q.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return JV(Eo(t,i))},r}const At=JV(Yd);At.Axios=oo;At.CanceledError=Iu;At.CancelToken=bre;At.isCancel=WV;At.VERSION=QV;At.toFormData=tm;At.AxiosError=Ie;At.Cancel=At.CanceledError;At.all=function(e){return Promise.all(e)};At.spread=xre;At.isAxiosError=wre;At.mergeConfig=Eo;At.AxiosHeaders=on;At.formToJSON=t=>UV(q.isHTMLForm(t)?new FormData(t):t);At.getAdapter=YV.getAdapter;At.HttpStatusCode=yO;At.default=At;const{Axios:mxe,AxiosError:vxe,CanceledError:gxe,isCancel:yxe,CancelToken:bxe,VERSION:xxe,all:wxe,Cancel:_xe,isAxiosError:Sxe,spread:Exe,toFormData:Nxe,AxiosHeaders:Oxe,HttpStatusCode:Cxe,formToJSON:Pxe,getAdapter:Txe,mergeConfig:jxe}=At,bO=window.prmConfig||{},ce=At.create({baseURL:bO.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":bO.nonce||""}});ce.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ce.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=bO.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const We={getPeople:t=>ce.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ce.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ce.post("/wp/v2/people",t),updatePerson:(t,e)=>ce.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ce.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ce.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ce.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ce.post("/wp/v2/companies",t),updateCompany:(t,e)=>ce.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ce.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ce.get("/wp/v2/important-dates",{params:t}),getDate:t=>ce.get(`/wp/v2/important-dates/${t}`),createDate:t=>ce.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ce.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ce.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ce.get("/wp/v2/person_label"),getCompanyLabels:()=>ce.get("/wp/v2/company_label"),getRelationshipTypes:()=>ce.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ce.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ce.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ce.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ce.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ce.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ce.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},qe={getDashboard:()=>ce.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ce.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ce.get("/prm/v1/user/me"),getUsers:()=>ce.get("/prm/v1/users"),approveUser:t=>ce.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ce.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>ce.delete(`/prm/v1/users/${t}`),search:t=>ce.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ce.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>ce.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>ce.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>ce.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>ce.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>ce.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>ce.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>ce.get("/prm/v1/user/slack-status"),disconnectSlack:()=>ce.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>ce.get("/prm/v1/slack/channels"),getSlackTargets:()=>ce.get("/prm/v1/slack/targets"),updateSlackTargets:t=>ce.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>ce.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ce.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ce.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ce.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ce.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ce.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ce.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ce.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ce.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ce.delete(`/prm/v1/activities/${t}`),getPersonTodos:t=>ce.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>ce.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>ce.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>ce.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>ce.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ce.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ce.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ce.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var _re={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const r=I.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...c},d)=>I.createElement("svg",{ref:d,..._re,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Sre(t)}`,o].join(" "),...c},[...e.map(([h,f])=>I.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const va=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ere=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nre=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wn=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const II=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ore=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cre=ye("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ms=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZV=ye("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jf=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RI=ye("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hu=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xO=ye("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pre=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wO=ye("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=ye("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tre=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _O=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nm=ye("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tP=ye("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rP=ye("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kI=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jre=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const If=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ire=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rre=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=ye("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const No=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $re=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nP=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kre=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dre=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mre=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qre=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dl=ye("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zt=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Are=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ga=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=ye("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fre=ye("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oK=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lK=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SO=ye("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fu=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uK=ye("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ii=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pu=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lre=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cK=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $i=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dK=ye("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DI=ye("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wn=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bre=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zre=ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),mu="Caelis";function En(t){I.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||mu;document.title=`${t} - ${r}`}},[t])}function Ure(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function hK(t=null){const e=xs();I.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Ure(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=mu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||mu;document.title=`${r} - ${n}`},[e.pathname,t])}function Wre(){return yt({queryKey:["dashboard"],queryFn:async()=>(await qe.getDashboard()).data})}function Hre(t=30){return yt({queryKey:["reminders",t],queryFn:async()=>(await qe.getReminders(t)).data})}function Vre(t){const e=typeof t=="string"?t:"",r=e.length>=2;return yt({queryKey:["search",e],queryFn:async()=>r?(await qe.search(e)).data:{people:[],companies:[]},enabled:r})}const Kre=[{name:"Dashboard",href:"/",icon:Rre},{name:"People",href:"/people",icon:$i},{name:"Organizations",href:"/companies",icon:ms},{name:"Dates",href:"/dates",icon:lo},{name:"Settings",href:"/settings",icon:sK}];function MI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=QC();return u.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[u.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[u.jsxs(fe,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[u.jsx(oK,{className:"w-5 h-5"}),mu]}),t&&u.jsx("button",{onClick:e,className:"p-2 -mr-2",children:u.jsx(Wn,{className:"w-5 h-5"})})]}),u.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Kre.map(n=>u.jsxs(pee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[u.jsx(n.icon,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),u.jsx("div",{className:"p-4 border-t border-gray-200",children:u.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx($re,{className:"w-5 h-5 mr-3"}),u.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function Gre(){var a;const[t,e]=I.useState(!1),r=I.useRef(null),{data:n,isLoading:i}=yt({queryKey:["current-user"],queryFn:async()=>(await qe.getCurrentUser()).data});if(I.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return u.jsx("div",{className:"flex items-center ml-auto",children:u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return u.jsxs("div",{className:"relative ml-auto",ref:r,children:[u.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?u.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):u.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),u.jsx(Pre,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"py-1",children:[u.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(cK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&u.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[u.jsx(sK,{className:"w-4 h-4 mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function Yre({onMenuClick:t}){const[e,r]=I.useState(""),[n,i]=I.useState(!1),s=xs(),a=cn(),o=I.useRef(null),l=I.useRef(null),c=e.trim(),{data:d,isLoading:h}=Vre(c),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Organizations":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};I.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"&&a(`/companies/${v}`)},m=d||{people:[],companies:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0,x=n&&e.trim().length>=2;return u.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[u.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:u.jsx(Dre,{className:"w-5 h-5"})}),u.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),u.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:u.jsxs("div",{className:"relative w-full",ref:o,children:[u.jsx(iK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search people & organizations...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),x&&u.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?u.jsxs("div",{className:"p-4 text-center text-gray-500",children:[u.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),u.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?u.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&u.jsxs("div",{className:"px-3 py-2",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>u.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(cK,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&u.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[u.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Organizations"}),m.companies.map(g=>u.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[u.jsx(Cre,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),u.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]})]}):u.jsx("div",{className:"p-4 text-center text-gray-500",children:u.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),u.jsx(Gre,{})]})}function Qre({children:t}){const[e,r]=I.useState(!1);return hK(),u.jsxs("div",{className:"flex h-screen bg-gray-50",children:[u.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:u.jsx(MI,{})}),e&&u.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[u.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),u.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:u.jsx(MI,{mobile:!0,onClose:()=>r(!1)})})]}),u.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[u.jsx(Yre,{onMenuClick:()=>r(!0)}),u.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function Ke(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function vs(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function Xre(t,e){const r=Ke(t);return isNaN(e)?vs(t,NaN):(r.setDate(r.getDate()+e),r)}const fK=6048e5,Jre=864e5,pK=6e4,mK=36e5,rf=43200,qI=1440;let Zre={};function Qd(){return Zre}function Oo(t,e){var o,l,c,d;const r=Qd(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Ke(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function hp(t){return Oo(t,{weekStartsOn:1})}function vK(t){const e=Ke(t),r=e.getFullYear(),n=vs(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=hp(n),s=vs(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=hp(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function fp(t){const e=Ke(t);return e.setHours(0,0,0,0),e}function pp(t){const e=Ke(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function ene(t,e){const r=fp(t),n=fp(e),i=+r-pp(r),s=+n-pp(n);return Math.round((i-s)/Jre)}function tne(t){const e=vK(t),r=vs(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),hp(r)}function ql(t,e){const r=Ke(t),n=Ke(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function im(t){return vs(t,Date.now())}function gK(t,e){const r=fp(t),n=fp(e);return+r==+n}function rne(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function nne(t){if(!rne(t)&&typeof t!="number")return!1;const e=Ke(t);return!isNaN(Number(e))}function ine(t,e){const r=Ke(t),n=Ke(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function sne(t,e){const r=Ke(t),n=Ke(e);return r.getFullYear()-n.getFullYear()}function ane(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function one(t,e){return+Ke(t)-+Ke(e)}function lne(t){const e=Ke(t);return e.setHours(23,59,59,999),e}function une(t){const e=Ke(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function cne(t){const e=Ke(t);return+lne(e)==+une(e)}function dne(t,e){const r=Ke(t),n=Ke(e),i=ql(r,n),s=Math.abs(ine(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=ql(r,n)===-i;cne(Ke(t))&&s===1&&ql(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function hne(t,e,r){const n=one(t,e)/1e3;return ane(r==null?void 0:r.roundingMethod)(n)}function xv(t,e){const r=Ke(t),n=Ke(e),i=ql(r,n),s=Math.abs(sne(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=ql(r,n)===-i,o=i*(s-+a);return o===0?0:o}function fne(t){const e=Ke(t),r=vs(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const pne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},mne=(t,e,r)=>{let n;const i=pne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function wv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const vne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},gne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},yne={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},bne={date:wv({formats:vne,defaultWidth:"full"}),time:wv({formats:gne,defaultWidth:"full"}),dateTime:wv({formats:yne,defaultWidth:"full"})},xne={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},wne=(t,e,r,n)=>xne[t];function wc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const _ne={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Sne={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Ene={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Nne={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},One={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Cne={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},Pne=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},Tne={ordinalNumber:Pne,era:wc({values:_ne,defaultWidth:"wide"}),quarter:wc({values:Sne,defaultWidth:"wide",argumentCallback:t=>t-1}),month:wc({values:Ene,defaultWidth:"wide"}),day:wc({values:Nne,defaultWidth:"wide"}),dayPeriod:wc({values:One,defaultWidth:"wide",formattingValues:Cne,defaultFormattingWidth:"wide"})};function _c(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Ine(o,h=>h.test(a)):jne(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(l):l,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function jne(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Ine(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function Rne(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const $ne=/^(\d+)(th|st|nd|rd)?/i,kne=/\d+/i,Dne={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Mne={any:[/^b/i,/^(a|c)/i]},qne={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},Ane={any:[/1/i,/2/i,/3/i,/4/i]},Fne={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Lne={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Bne={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},zne={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Une={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Wne={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Hne={ordinalNumber:Rne({matchPattern:$ne,parsePattern:kne,valueCallback:t=>parseInt(t,10)}),era:_c({matchPatterns:Dne,defaultMatchWidth:"wide",parsePatterns:Mne,defaultParseWidth:"any"}),quarter:_c({matchPatterns:qne,defaultMatchWidth:"wide",parsePatterns:Ane,defaultParseWidth:"any",valueCallback:t=>t+1}),month:_c({matchPatterns:Fne,defaultMatchWidth:"wide",parsePatterns:Lne,defaultParseWidth:"any"}),day:_c({matchPatterns:Bne,defaultMatchWidth:"wide",parsePatterns:zne,defaultParseWidth:"any"}),dayPeriod:_c({matchPatterns:Une,defaultMatchWidth:"any",parsePatterns:Wne,defaultParseWidth:"any"})},yK={code:"en-US",formatDistance:mne,formatLong:bne,formatRelative:wne,localize:Tne,match:Hne,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Vne(t){const e=Ke(t);return ene(e,fne(e))+1}function Kne(t){const e=Ke(t),r=+hp(e)-+tne(e);return Math.round(r/fK)+1}function bK(t,e){var d,h,f,p;const r=Ke(t),n=r.getFullYear(),i=Qd(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=vs(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Oo(a,e),l=vs(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const c=Oo(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Gne(t,e){var o,l,c,d;const r=Qd(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=bK(t,e),s=vs(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Oo(s,e)}function Yne(t,e){const r=Ke(t),n=+Oo(r,e)-+Gne(r,e);return Math.round(n/fK)+1}function Qe(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Ts={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return Qe(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):Qe(r+1,2)},d(t,e){return Qe(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return Qe(t.getHours()%12||12,e.length)},H(t,e){return Qe(t.getHours(),e.length)},m(t,e){return Qe(t.getMinutes(),e.length)},s(t,e){return Qe(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return Qe(i,e.length)}},sl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},AI={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Ts.y(t,e)},Y:function(t,e,r,n){const i=bK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return Qe(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):Qe(s,e.length)},R:function(t,e){const r=vK(t);return Qe(r,e.length)},u:function(t,e){const r=t.getFullYear();return Qe(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return Qe(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return Qe(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Ts.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return Qe(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Yne(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):Qe(i,e.length)},I:function(t,e,r){const n=Kne(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):Qe(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Ts.d(t,e)},D:function(t,e,r){const n=Vne(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):Qe(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return Qe(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return Qe(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return Qe(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=sl.noon:n===0?i=sl.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=sl.evening:n>=12?i=sl.afternoon:n>=4?i=sl.morning:i=sl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Ts.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Ts.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):Qe(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Ts.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Ts.s(t,e)},S:function(t,e){return Ts.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return LI(n);case"XXXX":case"XX":return Aa(n);case"XXXXX":case"XXX":default:return Aa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return LI(n);case"xxxx":case"xx":return Aa(n);case"xxxxx":case"xxx":default:return Aa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+FI(n,":");case"OOOO":default:return"GMT"+Aa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+FI(n,":");case"zzzz":default:return"GMT"+Aa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return Qe(n,e.length)},T:function(t,e,r){const n=t.getTime();return Qe(n,e.length)}};function FI(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+Qe(s,2)}function LI(t,e){return t%60===0?(t>0?"-":"+")+Qe(Math.abs(t)/60,2):Aa(t,e)}function Aa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Qe(Math.trunc(n/60),2),s=Qe(n%60,2);return r+i+e+s}const BI=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},xK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Qne=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return BI(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",BI(n,e)).replace("{{time}}",xK(i,e))},Xne={p:xK,P:Qne},Jne=/^D+$/,Zne=/^Y+$/,eie=["D","DD","YY","YYYY"];function tie(t){return Jne.test(t)}function rie(t){return Zne.test(t)}function nie(t,e,r){const n=iie(t,e,r);if(console.warn(n),eie.includes(t))throw new RangeError(n)}function iie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const sie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,aie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,oie=/^'([^]*?)'?$/,lie=/''/g,uie=/[a-zA-Z]/;function Mn(t,e,r){var d,h,f,p;const n=Qd(),i=n.locale??yK,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=Ke(t);if(!nne(o))throw new RangeError("Invalid time value");let l=e.match(aie).map(m=>{const y=m[0];if(y==="p"||y==="P"){const x=Xne[y];return x(m,i.formatLong)}return m}).join("").match(sie).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:cie(m)};if(AI[y])return{isToken:!0,value:m};if(y.match(uie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(rie(y)||tie(y))&&nie(y,e,String(t));const x=AI[y[0]];return x(o,y,i.localize,c)}).join("")}function cie(t){const e=t.match(oie);return e?e[1].replace(lie,"'"):t}function die(t,e,r){const n=Qd(),i=(r==null?void 0:r.locale)??n.locale??yK,s=2520,a=ql(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let l,c;a>0?(l=Ke(e),c=Ke(t)):(l=Ke(t),c=Ke(e));const d=hne(c,l),h=(pp(c)-pp(l))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<qI){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<rf){const m=Math.round(f/qI);return i.formatDistance("xDays",m,o)}else if(f<rf*2)return p=Math.round(f/rf),i.formatDistance("aboutXMonths",p,o)}if(p=dne(c,l),p<12){const m=Math.round(f/rf);return i.formatDistance("xMonths",m,o)}else{const m=p%12,y=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",y,o):m<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function hie(t,e){return die(t,im(t),e)}function fie(t,e,r){const n=Oo(t,r),i=Oo(e,r);return+n==+i}function pie(t,e){return fie(t,im(t),e)}function wK(t){return gK(t,im(t))}function mie(t,e){return Xre(t,-1)}function _K(t){return gK(t,mie(im(t)))}function mp(t,e){const n=bie(t);let i;if(n.date){const l=xie(n.date,2);i=wie(l.restDateString,l.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=_ie(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=Sie(n.timezone),isNaN(o))return new Date(NaN)}else{const l=new Date(s+a),c=new Date(0);return c.setFullYear(l.getUTCFullYear(),l.getUTCMonth(),l.getUTCDate()),c.setHours(l.getUTCHours(),l.getUTCMinutes(),l.getUTCSeconds(),l.getUTCMilliseconds()),c}return new Date(s+a+o)}const nf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},vie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,gie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,yie=/^([+-])(\d{2})(?::?(\d{2}))?$/;function bie(t){const e={},r=t.split(nf.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],nf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(nf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=nf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function xie(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function wie(t,e){if(e===null)return new Date(NaN);const r=t.match(vie);if(!r)return new Date(NaN);const n=!!r[4],i=Sc(r[1]),s=Sc(r[2])-1,a=Sc(r[3]),o=Sc(r[4]),l=Sc(r[5])-1;if(n)return Pie(e,o,l)?Eie(e,o,l):new Date(NaN);{const c=new Date(0);return!Oie(e,s,a)||!Cie(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Sc(t){return t?parseInt(t):1}function _ie(t){const e=t.match(gie);if(!e)return NaN;const r=_v(e[1]),n=_v(e[2]),i=_v(e[3]);return Tie(r,n,i)?r*mK+n*pK+i*1e3:NaN}function _v(t){return t&&parseFloat(t.replace(",","."))||0}function Sie(t){if(t==="Z")return 0;const e=t.match(yie);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return jie(n,i)?r*(n*mK+i*pK):NaN}function Eie(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const Nie=[31,null,31,30,31,30,31,31,30,31,30,31];function SK(t){return t%400===0||t%4===0&&t%100!==0}function Oie(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(Nie[e]||(SK(t)?29:28))}function Cie(t,e){return e>=1&&e<=(SK(t)?366:365)}function Pie(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function Tie(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function jie(t,e){return e>=0&&e<=59}function al({title:t,value:e,icon:r,href:n}){return u.jsx(fe,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),u.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function zI({person:t,hideStar:e=!1}){var r,n;return u.jsxs(fe,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):u.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&u.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&u.jsx(fu,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function Iie({reminder:t}){var o,l,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=u.jsxs(u.Fragment,{children:[u.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),u.jsx("p",{className:"text-xs text-gray-500",children:Mn(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&u.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?u.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):u.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:u.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?u.jsx(fe,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):u.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function Rie(){return u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:u.jsx(oK,{className:"w-12 h-12 text-primary-600"})})}),u.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",mu,"!"]}),u.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[u.jsxs(fe,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[u.jsx(Zt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),u.jsxs(fe,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[u.jsx(Zt,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function $ie(){var c,d,h;const{data:t,isLoading:e,error:r}=Wre();if(e)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((c=r==null?void 0:r.response)==null?void 0:c.status)>=500||!(r!=null&&r.response);return u.jsx("div",{className:"card p-8 text-center",children:u.jsx("div",{className:"text-red-600 mb-2",children:f?u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):u.jsxs(u.Fragment,{children:[u.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),u.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx(al,{title:"Total people",value:0,icon:$i,href:"/people"}),u.jsx(al,{title:"Organizations",value:0,icon:ms,href:"/companies"}),u.jsx(al,{title:"Events",value:0,icon:lo,href:"/dates"})]}),u.jsx(Rie,{})]}):u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[u.jsx(al,{title:"Total people",value:(n==null?void 0:n.total_people)||0,icon:$i,href:"/people"}),u.jsx(al,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:ms,href:"/companies"}),u.jsx(al,{title:"Events",value:(n==null?void 0:n.total_dates)||0,icon:lo,href:"/dates"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(lo,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),u.jsxs(fe,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",u.jsx(II,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>u.jsx(Iie,{reminder:f},f.id)):u.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),u.jsxs("div",{className:"card",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),u.jsxs(fe,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",u.jsx(II,{className:"w-4 h-4 ml-1"})]})]}),u.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>u.jsx(zI,{person:f},f.id)):u.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",u.jsx(fe,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&u.jsxs("div",{className:"card",children:[u.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:u.jsxs("h2",{className:"font-semibold flex items-center",children:[u.jsx(fu,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>u.jsx(zI,{person:f,hideStar:!0},f.id))})]})]})}function ui(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function ts(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return ui(e)}function uo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return ui(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return ui(e)}function Wa(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const vt={all:["people"],lists:()=>[...vt.all,"list"],list:t=>[...vt.lists(),t],details:()=>[...vt.all,"detail"],detail:t=>[...vt.details(),t],timeline:t=>[...vt.detail(t),"timeline"],dates:t=>[...vt.detail(t),"dates"]};function EK(t){var i,s,a,o,l,c,d,h,f,p,m,y,x,g,v,w,b;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((x=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:x.map(_=>_.name))||[],n=ui(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function Ru(t={}){return yt({queryKey:vt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await We.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(EK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function $u(t){return yt({queryKey:vt.detail(t),queryFn:async()=>{const e=await We.getPerson(t,{_embed:!0});return EK(e.data)},enabled:!!t})}function kie(t){return yt({queryKey:vt.timeline(t),queryFn:async()=>(await qe.getPersonTimeline(t)).data,enabled:!!t})}function Die(t){return yt({queryKey:vt.dates(t),queryFn:async()=>(await qe.getPersonDates(t)).data,enabled:!!t})}function Mie(){const t=pt();return Xe({mutationFn:e=>We.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:vt.lists()})}})}function Xd(){const t=pt();return Xe({mutationFn:({id:e,data:r})=>We.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:vt.detail(r)}),t.invalidateQueries({queryKey:vt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:vt.detail(o)})})}})}function qie(){const t=pt();return Xe({mutationFn:e=>We.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:vt.lists()}),t.invalidateQueries({queryKey:vt.details()})}})}function Aie(){const t=pt();return Xe({mutationFn:({personId:e,content:r})=>qe.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Fie(){const t=pt();return Xe({mutationFn:({noteId:e,personId:r})=>qe.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Lie(){const t=pt();return Xe({mutationFn:({personId:e,data:r})=>qe.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Bie(){const t=pt();return Xe({mutationFn:({activityId:e,personId:r})=>qe.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:vt.timeline(r)})}})}function zie(){const t=pt();return Xe({mutationFn:({personId:e,data:r})=>qe.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Uie(){const t=pt();return Xe({mutationFn:({todoId:e,data:r,personId:n})=>qe.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Wie(){const t=pt();return Xe({mutationFn:({todoId:e,personId:r})=>qe.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:vt.timeline(r)})}})}function Hie(){const t=pt();return Xe({mutationFn:({dateId:e,personId:r})=>We.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:vt.dates(r)}),t.invalidateQueries({queryKey:vt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function UI(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function Vie({person:t,companyName:e,isDeceased:r}){var n,i;return u.jsx(fe,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):u.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsxs("div",{className:"flex items-center",children:[u.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&u.jsx(fu,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&u.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&u.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>u.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Kie(){const[t,e]=I.useState(!1),[r,n]=I.useState(!1),[i,s]=I.useState([]),[a,o]=I.useState("first_name"),[l,c]=I.useState("asc"),d=I.useRef(null),h=I.useRef(null),{data:f,isLoading:p,error:m}=Ru(),{data:y}=yt({queryKey:["person-labels"],queryFn:async()=>(await We.getPersonLabels()).data}),x=(y==null?void 0:y.map(P=>P.name))||[];I.useEffect(()=>{const P=j=>{h.current&&!h.current.contains(j.target)&&d.current&&!d.current.contains(j.target)&&e(!1)};return document.addEventListener("mousedown",P),()=>{document.removeEventListener("mousedown",P)}},[]);const g=I.useMemo(()=>{if(!f)return[];let P=[...f];return r&&(P=P.filter(j=>j.is_favorite)),i.length>0&&(P=P.filter(j=>{const D=j.labels||[];return i.some(F=>D.includes(F))})),P.sort((j,D)=>{var L,V,W,z,K,he,xe,Re;let F,Q;if(a==="first_name"?(F=(((L=j.acf)==null?void 0:L.first_name)||j.first_name||"").toLowerCase(),Q=(((V=D.acf)==null?void 0:V.first_name)||D.first_name||"").toLowerCase()):(F=(((W=j.acf)==null?void 0:W.last_name)||j.last_name||"").toLowerCase(),Q=(((z=D.acf)==null?void 0:z.last_name)||D.last_name||"").toLowerCase()),F===Q){const ge=a==="first_name"?(((K=j.acf)==null?void 0:K.last_name)||j.last_name||"").toLowerCase():(((he=j.acf)==null?void 0:he.first_name)||j.first_name||"").toLowerCase(),Ee=a==="first_name"?(((xe=D.acf)==null?void 0:xe.last_name)||D.last_name||"").toLowerCase():(((Re=D.acf)==null?void 0:Re.first_name)||D.first_name||"").toLowerCase(),$e=ge.localeCompare(Ee);return l==="asc"?$e:-$e}const H=F.localeCompare(Q);return l==="asc"?H:-H})},[f,r,i,a,l]),v=r||i.length>0,w=P=>{s(j=>j.includes(P)?j.filter(D=>D!==P):[...j,P])},b=()=>{n(!1),s([])},_=I.useMemo(()=>{if(!g)return[];const P=g.map(j=>UI(j)).filter(Boolean);return[...new Set(P)]},[g]),{data:E}=yt({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await We.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),N=I.useMemo(()=>{const P={};return E&&E.forEach(j=>{P[j.id]=ts(j)}),P},[E]),S=I.useMemo(()=>{const P={};return g.forEach(j=>{const D=UI(j);D&&N[D]&&(P[j.id]=N[D])}),P},[g,N]),O=I.useMemo(()=>g.map(P=>P.id).filter(Boolean),[g]),C=cp({queries:O.map(P=>({queryKey:["person-dates",P],queryFn:async()=>(await qe.getPersonDates(P)).data,enabled:!!P}))}),T=I.useMemo(()=>{const P={};return C.forEach((j,D)=>{if(j.data&&O[D]){const F=O[D],Q=j.data.some(H=>{const L=Array.isArray(H.date_type)?H.date_type[0]:H.date_type;return(L==null?void 0:L.toLowerCase())==="died"});P[F]=Q}}),P},[C,O]);return u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:u.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[u.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[u.jsxs("select",{value:a,onChange:P=>o(P.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[u.jsx("option",{value:"first_name",children:"First name"}),u.jsx("option",{value:"last_name",children:"Last name"})]}),u.jsx("div",{className:"h-4 w-px bg-gray-300"}),u.jsx("button",{onClick:()=>c(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?u.jsx(Ore,{className:"w-4 h-4 text-gray-600"}):u.jsx(Nre,{className:"w-4 h-4 text-gray-600"})})]}),u.jsxs("div",{className:"relative",ref:d,children:[u.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[u.jsx(kI,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&u.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&u.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:u.jsxs("div",{className:"p-4 space-y-4",children:[u.jsx("div",{children:u.jsxs("label",{className:"flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:r,onChange:P=>n(P.target.checked),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&u.jsx($I,{className:"w-3 h-3 text-white"})}),u.jsxs("div",{className:"flex items-center",children:[u.jsx(fu,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),u.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),x.length>0&&u.jsxs("div",{children:[u.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),u.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(P=>u.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[u.jsx("input",{type:"checkbox",checked:i.includes(P),onChange:()=>w(P),className:"sr-only"}),u.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(P)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(P)&&u.jsx($I,{className:"w-3 h-3 text-white"})}),u.jsx("span",{className:"text-sm text-gray-700",children:P})]},P))})]}),v&&u.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&u.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[u.jsx(fu,{className:"w-3 h-3"}),"Favorites",u.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:u.jsx(Wn,{className:"w-3 h-3"})})]}),i.map(P=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[P,u.jsx("button",{onClick:()=>w(P),className:"hover:text-gray-600",children:u.jsx(Wn,{className:"w-3 h-3"})})]},P))]}),u.jsxs(fe,{to:"/people/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(Zt,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),u.jsxs(fe,{to:"/people/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(P=>u.jsx(Vie,{person:P,companyName:S[P.id],isDeceased:T[P.id]||!1},P.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(kI,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),u.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}const Gie="#0285FF",Yie=I.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Gie),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),Qie="#0866FF",Xie=I.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Qie),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),Jie="#FF0069",Zie=I.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Jie),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),ese="#000000",tse=I.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=ese),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),rse="#000000",nse=I.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=rse),u.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[u.jsx("title",{children:e}),u.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})});function ise(t){if(!t||t.length===0)return{todos:[],today:[],yesterday:[],thisWeek:[],older:[]};const e={todos:[],today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{if(r.type==="todo"){e.todos.push(r);return}const n=mp(r.created),i=r.activity_date?mp(r.activity_date):n;wK(i)?e.today.push(r):_K(i)?e.yesterday.push(r):pie(i)?e.thisWeek.push(r):e.older.push(r)}),e.todos.sort((r,n)=>{if(r.is_completed&&!n.is_completed)return 1;if(!r.is_completed&&n.is_completed)return-1;if(!r.is_completed&&!n.is_completed){if(r.due_date&&n.due_date)return new Date(r.due_date)-new Date(n.due_date);if(r.due_date&&!n.due_date)return-1;if(!r.due_date&&n.due_date)return 1}return new Date(n.created)-new Date(r.created)}),e}function sse(t){if(!t)return"";try{const e=mp(t),r=hie(e,{addSuffix:!0});return wK(e)?r:_K(e)?"Yesterday":Mn(e,"MMM d, yyyy")}catch{return t}}function ase(t){return{call:"Phone",email:"Mail",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function ose(t){return{call:"Phone call",email:"Email",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function sP(t){if(!t.due_date||t.is_completed)return!1;try{const e=mp(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function lse(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):sP(t)&&e.push("text-red-600","font-medium"),e.join(" ")}const use={Phone:iP,Mail:nP,Users:$i,Coffee:eK,Utensils:dK,FileText:rP,Circle:wO};function cse({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=I.useMemo(()=>ise(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),l=f=>{if(f.type==="todo")return f.is_completed?xO:SO;if(f.type==="activity"&&f.activity_type){const p=ase(f.activity_type);return use[p]||wO}return f.type==="note"?rP:wO},c=f=>{const p=l(f),m=f.type==="todo",y=f.type==="activity";f.type;const x=f.activity_date||f.created,g=sse(x),v=lse(f),w=m&&sP(f);return u.jsxs("div",{className:`relative ${m?"pl-0":"pl-8"} pb-6 group`,children:[!m&&u.jsx("div",{className:"absolute left-0 top-1",children:u.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),u.jsx("div",{className:`${v}`,children:u.jsxs("div",{className:"flex items-start justify-between",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[!m&&u.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[u.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&u.jsx("span",{className:"text-xs font-medium text-gray-600",children:ose(f.activity_type)}),u.jsx("span",{className:"text-xs text-gray-400",children:""}),u.jsx("span",{className:"text-xs text-gray-500",children:g})]}),u.jsxs("div",{className:"flex items-start gap-2",children:[m&&u.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?u.jsx(xO,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):u.jsx(SO,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),u.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&u.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[u.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(b=>{const _=o(b);return _?u.jsxs(fe,{to:`/people/${b}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[u.jsx(rK,{className:"w-3 h-3"}),_.name]},b):null})]}),m&&f.due_date&&u.jsx("div",{className:"mt-2",children:u.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",Mn(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&u.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:u.jsx(dl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&u.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(ii,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:u.jsxs("div",{className:"mb-6",children:[u.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),u.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?u.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):u.jsx("div",{className:"text-center py-8",children:u.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function dse({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=I.useState("");if(!t)return null;const a=l=>{l.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),u.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Wn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:a,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),u.jsx("textarea",{id:"note-content",value:i,onChange:l=>s(l.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}const Sv=[{id:"call",label:"Phone call",icon:iP},{id:"email",label:"Email",icon:nP},{id:"meeting",label:"Meeting",icon:$i},{id:"coffee",label:"Coffee",icon:eK},{id:"lunch",label:"Lunch",icon:dK},{id:"note",label:"Other",icon:rP}];function hse({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i}){const[s,a]=I.useState("call"),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState([]),[p,m]=I.useState(!1),[y,x]=I.useState(""),{data:g}=Ru();if(I.useEffect(()=>{if(t){const T=new Date().toISOString().split("T")[0];l(T),d(""),f([]),a("call")}},[t]),!t)return null;const v=(g||[]).filter(T=>T.id.toString()!==(i==null?void 0:i.toString())),w=v.filter(T=>{var P;return(P=T.name)==null?void 0:P.toLowerCase().includes(y.toLowerCase())}),b=T=>{T.preventDefault(),c.trim()&&(r({activity_type:s,activity_date:o||null,content:c.trim(),participants:h}),d(""),f([]),l(new Date().toISOString().split("T")[0]))},_=()=>{d(""),f([]),l(""),m(!1),x(""),e()},E=T=>{f(P=>P.includes(T)?P.filter(j=>j!==T):[...P,T])},N=T=>{f(P=>P.filter(j=>j!==T))},S=()=>v.filter(T=>h.includes(T.id)),O=T=>{if(!T)return"";try{return new Date(T).toISOString().split("T")[0]}catch{return""}};return(Sv.find(T=>T.id===s)||Sv[0]).icon,u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Add activity"}),u.jsx("button",{onClick:_,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Wn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:b,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),u.jsx("div",{className:"grid grid-cols-3 gap-2",children:Sv.map(T=>{const P=T.icon,j=s===T.id;return u.jsxs("button",{type:"button",onClick:()=>a(T.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${j?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[u.jsx(P,{className:"w-5 h-5 mb-1"}),u.jsx("span",{className:"text-xs",children:T.label})]},T.id)})})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),u.jsx("input",{id:"activity-date",type:"date",value:O(o),onChange:T=>l(T.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"activity-content",value:c,onChange:T=>d(T.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),S().length>0&&u.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S().map(T=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[T.name,u.jsx("button",{type:"button",onClick:()=>N(T.id),className:"hover:text-primary-900",disabled:n,children:u.jsx(Wn,{className:"w-3 h-3"})})]},T.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("button",{type:"button",onClick:()=>m(!p),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:h.length===0?"Add participants...":"Add more participants..."}),p&&u.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[u.jsx("div",{className:"p-2 border-b",children:u.jsx("input",{type:"text",placeholder:"Search people...",value:y,onChange:T=>x(T.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),u.jsx("div",{className:"max-h-48 overflow-y-auto",children:w.length===0?u.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):w.map(T=>{var j;const P=h.includes(T.id);return u.jsxs("button",{type:"button",onClick:()=>E(T.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${P?"bg-primary-50":""}`,children:[u.jsx("input",{type:"checkbox",checked:P,onChange:()=>{},className:"mr-1"}),T.thumbnail?u.jsx("img",{src:T.thumbnail,alt:T.name,className:"w-6 h-6 rounded-full"}):u.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((j=T.first_name)==null?void 0:j[0])||"?"})}),u.jsx("span",{children:T.name})]},T.id)})})]})]})]}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:_,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!c.trim(),children:n?"Adding...":"Add activity"})]})]})]})})}function fse({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=I.useState(""),[o,l]=I.useState(""),[c,d]=I.useState(!1);if(I.useEffect(()=>{i?(a(i.content||""),l(i.due_date||""),d(i.is_completed||!1)):(a(""),l(""),d(!1))},[i,t]),!t)return null;const h=m=>{m.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),l(""),d(!1)))},f=()=>{i||(a(""),l(""),d(!1)),e()},p=m=>{if(!m)return"";try{return new Date(m).toISOString().split("T")[0]}catch{return""}};return u.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:u.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[u.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),u.jsx("button",{onClick:f,className:"text-gray-400 hover:text-gray-600",disabled:n,children:u.jsx(Wn,{className:"w-5 h-5"})})]}),u.jsxs("form",{onSubmit:h,className:"p-4",children:[u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),u.jsx("textarea",{id:"todo-content",value:s,onChange:m=>a(m.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),u.jsxs("div",{className:"mb-4",children:[u.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),u.jsx("input",{id:"todo-due-date",type:"date",value:p(o),onChange:m=>l(m.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&u.jsx("div",{className:"mb-4",children:u.jsxs("label",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",checked:c,onChange:m=>d(m.target.checked),className:"mr-2",disabled:n}),u.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),u.jsxs("div",{className:"flex justify-end gap-2",children:[u.jsx("button",{type:"button",onClick:f,className:"btn-secondary",disabled:n,children:"Cancel"}),u.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function Bi(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function pse(t){return t?t.replace(/[^\d+]/g,""):""}function WI(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function mse(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function vse(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Bi(l)}`),s.push(`N:${Bi(o)};${Bi(a)};;;`),i.nickname&&s.push(`NICKNAME:${Bi(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Bi(h.contact_value),p=h.contact_label?Bi(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",x=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=pse(h.contact_value);g&&s.push(`${x}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",b=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${b}:${Bi(v)}`);break}});const{title:c,org:d}=mse(i.work_history,r);if(d&&s.push(`ORG:${Bi(d)}`),c&&s.push(`TITLE:${Bi(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=WI(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=WI(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function gse(t,e={}){const{filename:r,...n}=e,i=vse(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const yse=({className:t})=>u.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:u.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function sf(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function bse(){var wT,_T,ST,ET,NT,OT,CT,PT,TT,jT,IT,RT,$T,kT;const{id:t}=ws(),e=cn(),r=pt(),{data:n,isLoading:i,error:s}=$u(t),{data:a}=kie(t),{data:o}=Die(t),l=qie(),c=Fie(),d=Hie(),h=Xd(),f=Aie(),p=Lie(),m=zie(),y=Uie(),x=Bie(),g=Wie(),{data:v}=Ru(),[w,b]=I.useState(!1),[_,E]=I.useState(""),[N,S]=I.useState(!1),O=I.useRef(null),[C,T]=I.useState(!1),[P,j]=I.useState(!1),[D,F]=I.useState(!1),[Q,H]=I.useState(null),{data:L}=yt({queryKey:["person-labels"],queryFn:async()=>(await We.getPersonLabels()).data}),V=L||[],W=(n==null?void 0:n.labels)||[],z=((ET=(ST=(_T=(wT=n==null?void 0:n._embedded)==null?void 0:wT["wp:term"])==null?void 0:_T.flat())==null?void 0:ST.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:ET.map(k=>k.id))||[],K=V.filter(k=>!W.includes(k.name));En((n==null?void 0:n.name)||((NT=n==null?void 0:n.title)==null?void 0:NT.rendered)||(n==null?void 0:n.title)||"Person");const he=o==null?void 0:o.find(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Y==null?void 0:Y.toLowerCase())==="birthday"}),xe=he!=null&&he.date_value?new Date(he.date_value):null,Re=o==null?void 0:o.find(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(Y==null?void 0:Y.toLowerCase())==="died"}),ge=Re!=null&&Re.date_value?new Date(Re.date_value):null,Ee=!!ge,$e=xe?xv(Ee?ge:new Date,xe):null,rt=o?[...o].sort((k,Y)=>{const G=k.date_value?new Date(k.date_value):new Date(0),Ce=Y.date_value?new Date(Y.date_value):new Date(0);return G-Ce}):[],rr=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},bt=k=>{if(!k)return"";let Y=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const G=Y.startsWith("+");return Y=Y.replace(/\D/g,""),G?`+${Y}`:Y},fr=async k=>{var Ce;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const Y=[...((Ce=n.acf)==null?void 0:Ce.contact_info)||[]];Y.splice(k,1);const G=Wa(n.acf,{contact_info:Y});await h.mutateAsync({id:t,data:{acf:G}})},lt=async k=>{var Ra,Qn,Fi,uc,DT,MT;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const Y=(Qn=(Ra=n.acf)==null?void 0:Ra.relationships)==null?void 0:Qn[k];if(!Y)return;const G=Y.related_person,Ce=Y.relationship_type;let Fe=!0;G&&Ce&&(Fe=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let Ye=null;if(!Fe&&G&&Ce)try{const[yi,Dh]=await Promise.all([We.getPerson(G,{_embed:!0}),We.getRelationshipTypes()]),zm={};Dh.data.forEach(cc=>{zm[cc.id]=cc});const Tn=zm[Ce],$a=(Fi=Tn==null?void 0:Tn.acf)==null?void 0:Fi.inverse_relationship_type;if($a){const dc=(((uc=yi.data.acf)==null?void 0:uc.relationships)||[]).find(Li=>{var qT,AT;const qQ=typeof Li.related_person=="object"?(qT=Li.related_person)==null?void 0:qT.ID:Li.related_person,AQ=typeof Li.relationship_type=="object"?(AT=Li.relationship_type)==null?void 0:AT.term_id:Li.relationship_type;return qQ===parseInt(t)&&AQ===$a});dc&&(Ye={related_person:parseInt(t),relationship_type:$a,relationship_label:dc.relationship_label||""})}}catch(yi){console.error("Failed to fetch inverse relationship:",yi)}const st=[...((DT=n.acf)==null?void 0:DT.relationships)||[]];st.splice(k,1);const nl=Wa(n.acf,{relationships:st});if(await h.mutateAsync({id:t,data:{acf:nl}}),!Fe&&Ye&&G){await new Promise(yi=>setTimeout(yi,500));try{const yi=await We.getPerson(G,{_embed:!0}),Dh=((MT=yi.data.acf)==null?void 0:MT.relationships)||[];if(!Dh.some(Tn=>{var dc,Li;const $a=typeof Tn.related_person=="object"?(dc=Tn.related_person)==null?void 0:dc.ID:Tn.related_person,cc=typeof Tn.relationship_type=="object"?(Li=Tn.relationship_type)==null?void 0:Li.term_id:Tn.relationship_type;return $a===Ye.related_person&&cc===Ye.relationship_type})){const Tn=[...Dh,Ye],$a=Wa(yi.data.acf,{relationships:Tn});await We.updatePerson(G,{acf:$a})}}catch(yi){console.error("Failed to restore inverse relationship:",yi)}}r.invalidateQueries({queryKey:["person",t]}),G&&r.invalidateQueries({queryKey:["person",G]}),r.invalidateQueries({queryKey:["people"]})},jr=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},Ir=async k=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:k,personId:t})},_r=async k=>{try{await f.mutateAsync({personId:t,content:k}),T(!1)}catch(Y){console.error("Failed to create note:",Y),alert("Failed to create note. Please try again.")}},nt=async k=>{try{await p.mutateAsync({personId:t,data:k}),j(!1)}catch(Y){console.error("Failed to create activity:",Y),alert("Failed to create activity. Please try again.")}},Lt=async k=>{try{await m.mutateAsync({personId:t,data:k}),F(!1),H(null)}catch(Y){console.error("Failed to create todo:",Y),alert("Failed to create todo. Please try again.")}},Rr=async k=>{if(Q)try{await y.mutateAsync({todoId:Q.id,data:k,personId:t}),F(!1),H(null)}catch(Y){console.error("Failed to update todo:",Y),alert("Failed to update todo. Please try again.")}},$r=async k=>{try{await y.mutateAsync({todoId:k.id,data:{content:k.content,due_date:k.due_date,is_completed:!k.is_completed},personId:t})}catch(Y){console.error("Failed to toggle todo:",Y),alert("Failed to update todo. Please try again.")}},$=async k=>{window.confirm("Are you sure you want to delete this activity?")&&await x.mutateAsync({activityId:k,personId:t})},M=async k=>{window.confirm("Are you sure you want to delete this todo?")&&await g.mutateAsync({todoId:k,personId:t})},A=k=>{k.type==="todo"&&(H(k),F(!0))},se=k=>{k.type==="note"?Ir(k.id):k.type==="activity"?$(k.id):k.type==="todo"&&M(k.id)},re=async k=>{var Ce;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const Y=[...((Ce=n.acf)==null?void 0:Ce.work_history)||[]];Y.splice(k,1);const G=Wa(n.acf,{work_history:Y});await h.mutateAsync({id:t,data:{acf:G}})},X=async k=>{var Ce,Fe,Ye;const Y=(Ye=(Fe=(Ce=n==null?void 0:n._embedded)==null?void 0:Ce["wp:term"])==null?void 0:Fe.flat())==null?void 0:Ye.find(st=>(st==null?void 0:st.taxonomy)==="person_label"&&(st==null?void 0:st.name)===k);if(!Y)return;const G=z.filter(st=>st!==Y.id);await h.mutateAsync({id:t,data:{person_label:G}})},U=async()=>{if(!_)return;const k=V.find(G=>G.id.toString()===_);if(!k)return;const Y=[...z,k.id];await h.mutateAsync({id:t,data:{person_label:Y}}),E(""),b(!1)},oe=async k=>{var G;const Y=(G=k.target.files)==null?void 0:G[0];if(Y){if(!Y.type.startsWith("image/")){alert("Please select an image file");return}if(Y.size>5*1024*1024){alert("Image size must be less than 5MB");return}S(!0);try{await qe.uploadPersonPhoto(t,Y),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Ce){console.error("Failed to upload photo:",Ce),alert("Failed to upload photo. Please try again.")}finally{S(!1),O.current&&(O.current.value="")}}},de=()=>{if(n)try{gse(n,{companyMap:Gr,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},ze=((CT=(OT=n==null?void 0:n.acf)==null?void 0:OT.work_history)==null?void 0:CT.map(k=>k.company).filter(Boolean))||[],ve=cp({queries:ze.map(k=>({queryKey:["company",k],queryFn:async()=>(await We.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),J=((TT=(PT=n==null?void 0:n.acf)==null?void 0:PT.relationships)==null?void 0:TT.map(k=>k.related_person).filter(Boolean))||[],le=cp({queries:J.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await qe.getPersonDates(k)).data,enabled:!!k}))}),ae=I.useMemo(()=>{const k={};return le.forEach((Y,G)=>{if(Y.data&&J[G]){const Ce=J[G],Fe=Y.data.find(Ye=>{const st=Array.isArray(Ye.date_type)?Ye.date_type[0]:Ye.date_type;return(st==null?void 0:st.toLowerCase())==="birthday"});if(Fe!=null&&Fe.date_value){const Ye=new Date(Fe.date_value);k[Ce]=xv(new Date,Ye)}else k[Ce]=-1}}),k},[le,J]),we=I.useMemo(()=>{const k={};return le.forEach((Y,G)=>{if(Y.data&&J[G]){const Ce=J[G],Fe=Y.data.some(Ye=>{const st=Array.isArray(Ye.date_type)?Ye.date_type[0]:Ye.date_type;return(st==null?void 0:st.toLowerCase())==="died"});k[Ce]=Fe}}),k},[le,J]),ke=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((Y,G)=>{const Ce=ae[Y.related_person]??-1,Fe=ae[G.related_person]??-1;return Ce===-1&&Fe===-1?0:Ce===-1?1:Fe===-1?-1:Fe-Ce}):[]},[(jT=n==null?void 0:n.acf)==null?void 0:jT.relationships,ae]),Gr={};ve.forEach((k,Y)=>{var G,Ce,Fe,Ye,st,nl,Ra,Qn,Fi;if(k.data){const uc=ze[Y];Gr[uc]={name:ts(k.data),logo:((Fe=(Ce=(G=k.data._embedded)==null?void 0:G["wp:featuredmedia"])==null?void 0:Ce[0])==null?void 0:Fe.source_url)||((Fi=(Qn=(Ra=(nl=(st=(Ye=k.data._embedded)==null?void 0:Ye["wp:featuredmedia"])==null?void 0:st[0])==null?void 0:nl.media_details)==null?void 0:Ra.sizes)==null?void 0:Qn.thumbnail)==null?void 0:Fi.source_url)||null}}});const Pn=I.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((Y,G)=>({...Y,originalIndex:G})).sort((Y,G)=>{if(Y.is_current&&!G.is_current)return-1;if(!Y.is_current&&G.is_current)return 1;const Ce=Y.start_date?new Date(Y.start_date):new Date(0);return(G.start_date?new Date(G.start_date):new Date(0))-Ce}):[]},[(IT=n==null?void 0:n.acf)==null?void 0:IT.work_history]),lc=I.useMemo(()=>a?a.filter(Y=>Y.type==="todo").sort((Y,G)=>{if(Y.is_completed&&!G.is_completed)return 1;if(!Y.is_completed&&G.is_completed)return-1;if(!Y.is_completed&&!G.is_completed){if(Y.due_date&&G.due_date)return new Date(Y.due_date)-new Date(G.due_date);if(Y.due_date&&!G.due_date)return-1;if(!Y.due_date&&G.due_date)return 1}return new Date(G.created)-new Date(Y.created)}):[],[a]);if(I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Sr=n.acf||{},Bm=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],kQ=((RT=Sr.contact_info)==null?void 0:RT.filter(k=>Bm.includes(k.contact_type)))||[],bT={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},xT=[...kQ].sort((k,Y)=>{const G=bT[k.contact_type]||99,Ce=bT[Y.contact_type]||99;return G-Ce}),DQ=k=>{switch(k){case"facebook":return Xie;case"linkedin":return yse;case"instagram":return Zie;case"twitter":return nse;case"bluesky":return Yie;case"threads":return tse;case"website":return If;default:return If}},MQ=k=>{switch(k){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(fe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:de,className:"btn-secondary",children:[u.jsx(_O,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),u.jsxs(fe,{to:`/people/${t}/edit`,className:"btn-secondary",children:[u.jsx(lK,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),u.jsxs("button",{onClick:rr,className:"btn-danger",children:[u.jsx(ii,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),u.jsxs("div",{className:"card p-6 relative",children:[u.jsx("div",{className:"absolute top-4 right-4",children:u.jsx(fe,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),u.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"relative group",children:[n.thumbnail?u.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):u.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-3xl font-medium text-gray-500",children:(($T=n.first_name)==null?void 0:$T[0])||"?"})}),u.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=O.current)==null?void 0:k.click()},children:N?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(jf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),u.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:oe,className:"hidden",disabled:N})]}),u.jsxs("div",{className:"flex-1 space-y-3",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Ee&&u.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&u.jsx(fu,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Sr.nickname&&u.jsxs("p",{className:"text-gray-500",children:['"',Sr.nickname,'"']}),Ee&&ge&&$e!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[sf(Sr.gender)&&u.jsx("span",{className:"mr-1",children:sf(Sr.gender)}),"Died ",Mn(ge,"MMMM d, yyyy")," at age ",$e]}),!Ee&&$e!==null&&u.jsxs("p",{className:"text-gray-500 text-sm",children:[sf(Sr.gender)&&u.jsx("span",{className:"mr-1",children:sf(Sr.gender)}),$e," years old"]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,Y)=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,u.jsx("button",{onClick:()=>X(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:u.jsx(Wn,{className:"w-3 h-3"})})]},Y)),w?u.jsxs("div",{className:"inline-flex items-center gap-2",children:[u.jsxs("select",{value:_,onChange:k=>E(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:K.length===0,children:[u.jsx("option",{value:"",children:"Select a label..."}),K.map(k=>u.jsx("option",{value:k.id,children:k.name},k.id))]}),u.jsx("button",{onClick:U,disabled:!_,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),u.jsx("button",{onClick:()=>{b(!1),E("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):K.length>0&&u.jsxs("button",{onClick:()=>b(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[u.jsx(Zt,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),xT.length>0&&u.jsx("div",{className:"flex items-center gap-3 mt-4",children:xT.map((k,Y)=>{const G=DQ(k.contact_type),Ce=MQ(k.contact_type);let Fe=k.contact_value;return Fe.match(/^https?:\/\//i)||(Fe=`https://${Fe}`),u.jsx("a",{href:Fe,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Ce}`,title:`${k.contact_type.charAt(0).toUpperCase()+k.contact_type.slice(1)}: ${k.contact_value}`,children:u.jsx(G,{className:"w-5 h-5"})},Y)})})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[u.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Ee&&u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Contact information"}),u.jsxs(fe,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((kT=Sr.contact_info)==null?void 0:kT.filter(k=>!Bm.includes(k.contact_type)).length)>0?u.jsx("div",{className:"space-y-2",children:(()=>{const k={email:1,phone:2,mobile:2,address:3,other:4};return Sr.contact_info.filter(G=>!Bm.includes(G.contact_type)).map((G,Ce)=>({...G,originalIndex:Ce})).sort((G,Ce)=>{const Fe=k[G.contact_type]||99,Ye=k[Ce.contact_type]||99;return Fe!==Ye?Fe-Ye:G.originalIndex-Ce.originalIndex}).map((G,Ce)=>{Sr.contact_info.indexOf(G);const Fe=G.contact_type==="email"?nP:G.contact_type==="phone"||G.contact_type==="mobile"?iP:G.contact_type==="address"?kre:If,Ye=G.contact_type==="email",st=G.contact_type==="phone"||G.contact_type==="mobile",nl=G.contact_type==="mobile",Ra=G.contact_type==="address";let Qn=null,Fi=null;return Ye?Qn=`mailto:${G.contact_value}`:st?Qn=`tel:${bt(G.contact_value)}`:Ra&&(Qn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(G.contact_value)}`,Fi="_blank"),u.jsx("div",{className:"group",children:u.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[u.jsx(Fe,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),u.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[G.contact_label||G.contact_type,": "]}),Qn?u.jsx("a",{href:Qn,target:Fi||void 0,rel:Fi==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:G.contact_value}):u.jsx("span",{children:G.contact_value}),nl&&u.jsx("a",{href:`https://wa.me/${bt(G.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:u.jsx(Mre,{className:"w-4 h-4 text-[#25D366]"})})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/contact/${G.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:u.jsx(dl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>fr(G.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:u.jsx(ii,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},G.originalIndex)})})()}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Events"}),u.jsxs(fe,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),rt.length>0?u.jsx("div",{className:"space-y-3",children:rt.map(k=>{const Y=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,G=(Y==null?void 0:Y.toLowerCase())||"",Ce=G.includes("died"),Fe=G.includes("wedding")||G.includes("marriage")?Ire:G.includes("birthday")?jre:lo;return u.jsxs("div",{className:"flex items-start group",children:[u.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Ce?u.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):u.jsx(Fe,{className:"w-4 h-4 text-gray-500"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"text-sm font-medium",children:k.title}),u.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&Mn(new Date(k.date_value),"MMMM d, yyyy")}),Y&&u.jsx("p",{className:"text-xs text-gray-400 capitalize",children:Y})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[u.jsx(fe,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:u.jsx(dl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>jr(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:u.jsx(ii,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Work history"}),u.jsxs(fe,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(Pn==null?void 0:Pn.length)>0?u.jsx("div",{className:"space-y-4",children:Pn.map((k,Y)=>{const G=k.company?Gr[k.company]:null,Ce=k.originalIndex;return u.jsxs("div",{className:"flex items-start group",children:[G!=null&&G.logo?u.jsx("img",{src:G.logo,alt:G.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):u.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:u.jsx(ms,{className:"w-10 h-10 text-gray-500"})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&G&&u.jsx(fe,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:G.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&Mn(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?Mn(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&u.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/work-history/${Ce}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:u.jsx(dl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>re(Ce),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:u.jsx(ii,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Ce)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("h2",{className:"font-semibold",children:"Timeline"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>T(!0),className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Note"})]}),u.jsxs("button",{onClick:()=>j(!0),className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Activity"})]})]})]}),u.jsx(cse,{timeline:a||[],onEdit:A,onDelete:se,onToggleTodo:$r,personId:t,allPeople:v||[]})]}),u.jsx(dse,{isOpen:C,onClose:()=>T(!1),onSubmit:_r,isLoading:f.isPending}),u.jsx(hse,{isOpen:P,onClose:()=>j(!1),onSubmit:nt,isLoading:p.isPending,personId:t}),u.jsx(fse,{isOpen:D,onClose:()=>{F(!1),H(null)},onSubmit:Q?Rr:Lt,isLoading:Q?y.isPending:m.isPending,todo:Q})]}),u.jsxs("div",{className:"space-y-6",children:[(Sr.how_we_met||Sr.met_date)&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Sr.met_date&&u.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[u.jsx(lo,{className:"w-4 h-4 inline mr-1"}),Mn(new Date(Sr.met_date),"MMMM d, yyyy")]}),Sr.how_we_met&&u.jsx("p",{className:"text-sm",children:Sr.how_we_met})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Todos"}),u.jsxs("button",{onClick:()=>{H(null),F(!0)},className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add todo"})]})]}),lc.length>0?u.jsx("div",{className:"space-y-2",children:lc.map(k=>{const Y=sP(k);return u.jsxs("div",{className:"flex items-start p-2 rounded hover:bg-gray-50 group",children:[u.jsx("button",{onClick:()=>$r(k),className:"mt-0.5 mr-2 flex-shrink-0",title:k.is_completed?"Mark as incomplete":"Mark as complete",children:k.is_completed?u.jsx(xO,{className:"w-5 h-5 text-primary-600"}):u.jsx(SO,{className:`w-5 h-5 ${Y?"text-red-600":"text-gray-400"}`})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:`text-sm ${k.is_completed?"line-through text-gray-400":Y?"text-red-600":""}`,children:k.content}),k.due_date&&u.jsxs("p",{className:`text-xs mt-0.5 ${Y&&!k.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",Mn(new Date(k.due_date),"MMM d, yyyy"),Y&&!k.is_completed&&" (overdue)"]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx("button",{onClick:()=>{H(k),F(!0)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:u.jsx(dl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>M(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:u.jsx(ii,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No todos yet."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-3",children:[u.jsx("h2",{className:"font-semibold",children:"Relationships"}),u.jsxs(fe,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-1"}),u.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(ke==null?void 0:ke.length)>0?u.jsx("div",{className:"space-y-2",children:ke.map((k,Y)=>{var Ce,Fe,Ye;const G=((Fe=(Ce=n==null?void 0:n.acf)==null?void 0:Ce.relationships)==null?void 0:Fe.findIndex(st=>st.related_person===k.related_person&&st.relationship_type===k.relationship_type))??Y;return u.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[u.jsxs(fe,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?u.jsx("img",{src:k.person_thumbnail,alt:ui(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:u.jsx("span",{className:"text-xs font-medium text-gray-500",children:((Ye=ui(k.person_name))==null?void 0:Ye[0])||"?"})}),u.jsxs("div",{children:[u.jsxs("p",{className:"text-sm font-medium",children:[ui(k.person_name)||`Person #${k.related_person}`,we[k.related_person]&&u.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),u.jsx("p",{className:"text-xs text-gray-500",children:ui(k.relationship_name||k.relationship_label)})]})]}),u.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[u.jsx(fe,{to:`/people/${t}/relationship/${G}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:u.jsx(dl,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),u.jsx("button",{onClick:()=>lt(G),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:u.jsx(ii,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Y)})}):u.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Jd=t=>t.type==="checkbox",Ha=t=>t instanceof Date,Xr=t=>t==null;const NK=t=>typeof t=="object";var Ut=t=>!Xr(t)&&!Array.isArray(t)&&NK(t)&&!Ha(t),OK=t=>Ut(t)&&t.target?Jd(t.target)?t.target.checked:t.target.value:t,xse=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,CK=(t,e)=>t.has(xse(e)),wse=t=>{const e=t.constructor&&t.constructor.prototype;return Ut(e)&&e.hasOwnProperty("isPrototypeOf")},aP=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Xt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(aP&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Ut(t)&&wse(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Xt(t[i]));return n}var sm=t=>/^\w*$/.test(t),$t=t=>t===void 0,oP=t=>Array.isArray(t)?t.filter(Boolean):[],lP=t=>oP(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ue=(t,e,r)=>{if(!e||!Ut(t))return r;const n=(sm(e)?[e]:lP(e)).reduce((i,s)=>Xr(i)?i:i[s],t);return $t(n)||n===t?$t(t[e])?r:t[e]:n},vn=t=>typeof t=="boolean",Br=t=>typeof t=="function",ut=(t,e,r)=>{let n=-1;const i=sm(e)?[e]:lP(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const c=t[o];l=Ut(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const vp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},oi={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},zi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},PK=je.createContext(null);PK.displayName="HookFormContext";const uP=()=>je.useContext(PK);var TK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==oi.all&&(e._proxyFormState[a]=!n||oi.all),r&&(r[a]=!0),t[a]}});return i};const cP=typeof window<"u"?je.useLayoutEffect:je.useEffect;function _se(t){const e=uP(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=je.useState(r._formState),l=je.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return cP(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),je.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),je.useMemo(()=>TK(a,r,l.current,!1),[a,r])}var gn=t=>typeof t=="string",EO=(t,e,r,n,i)=>gn(t)?(n&&e.watch.add(t),ue(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),ue(r,s))):(n&&(e.watchAll=!0),r),NO=t=>Xr(t)||!NK(t);function li(t,e,r=new WeakSet){if(NO(t)||NO(e))return Object.is(t,e);if(Ha(t)&&Ha(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ha(a)&&Ha(o)||Ut(a)&&Ut(o)||Array.isArray(a)&&Array.isArray(o)?!li(a,o,r):!Object.is(a,o))return!1}}return!0}function Sse(t){const e=uP(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=je.useRef(i),c=je.useRef(o),d=je.useRef(void 0),h=je.useRef(r),f=je.useRef(n);c.current=o;const[p,m]=je.useState(()=>{const b=r._getWatch(n,l.current);return c.current?c.current(b):b}),y=je.useCallback(b=>{const _=EO(n,r._names,b||r._formValues,!1,l.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),x=je.useCallback(b=>{if(!s){const _=EO(n,r._names,b||r._formValues,!1,l.current);if(c.current){const E=c.current(_);li(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);cP(()=>((h.current!==r||!li(f.current,n))&&(h.current=r,f.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{x(b.values)}})),[r,a,n,x]),je.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,w=je.useMemo(()=>{if(s)return null;const b=!g&&!li(v,n);return g||b?y():null},[s,g,n,v,y]);return w!==null?w:p}function Ese(t){const e=uP(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=CK(i._names.array,r),c=je.useMemo(()=>ue(i._formValues,r,ue(i._defaultValues,r,a)),[i,r,a]),d=Sse({control:i,name:r,defaultValue:c,exact:o}),h=_se({control:i,name:r,exact:o}),f=je.useRef(t),p=je.useRef(void 0),m=je.useRef(i.register(r,{...t.rules,value:d,...vn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=je.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!ue(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!ue(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!ue(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!ue(h.validatingFields,r)},error:{enumerable:!0,get:()=>ue(h.errors,r)}}),[h,r]),x=je.useCallback(b=>m.current.onChange({target:{value:OK(b),name:r},type:vp.CHANGE}),[r]),g=je.useCallback(()=>m.current.onBlur({target:{value:ue(i._formValues,r),name:r},type:vp.BLUR}),[r,i._formValues]),v=je.useCallback(b=>{const _=ue(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>Br(b.focus)&&b.focus(),select:()=>Br(b.select)&&b.select(),setCustomValidity:E=>Br(b.setCustomValidity)&&b.setCustomValidity(E),reportValidity:()=>Br(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),w=je.useMemo(()=>({name:r,value:d,...vn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:x,onBlur:g,ref:v}),[r,n,h.disabled,x,g,v,d]);return je.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...vn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(N,S)=>{const O=ue(i._fields,N);O&&O._f&&(O._f.mount=S)};if(E(r,!0),b){const N=Xt(ue(i._options.defaultValues,r,f.current.defaultValue));ut(i._defaultValues,r,N),$t(ue(i._formValues,r))&&ut(i._formValues,r,N)}return!l&&i.register(r),p.current=r,()=>{(l?b&&!i._state.action:b)?i.unregister(r):E(r,!1)}},[r,i,l,s]),je.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),je.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const gp=t=>t.render(Ese(t));var Nse=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Hc=t=>Array.isArray(t)?t:[t],HI=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function jK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Ut(i)&&s){const a=jK(i,s);Ut(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Mr=t=>Ut(t)&&!Object.keys(t).length,dP=t=>t.type==="file",yp=t=>{if(!aP)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},IK=t=>t.type==="select-multiple",hP=t=>t.type==="radio",Ose=t=>hP(t)||Jd(t),Ev=t=>yp(t)&&t.isConnected;function Cse(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=$t(t)?n++:t[e[n++]];return t}function Pse(t){for(const e in t)if(t.hasOwnProperty(e)&&!$t(t[e]))return!1;return!0}function Bt(t,e){const r=Array.isArray(e)?e:sm(e)?[e]:lP(e),n=r.length===1?t:Cse(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Ut(n)&&Mr(n)||Array.isArray(n)&&Pse(n))&&Bt(t,r.slice(0,-1)),t}var Tse=t=>{for(const e in t)if(Br(t[e]))return!0;return!1};function RK(t){return Array.isArray(t)||Ut(t)&&!Tse(t)}function OO(t,e={}){for(const r in t){const n=t[r];RK(n)?(e[r]=Array.isArray(n)?[]:{},OO(n,e[r])):$t(n)||(e[r]=!0)}return e}function hl(t,e,r){r||(r=OO(e));for(const n in t){const i=t[n];if(RK(i))$t(e)||NO(r[n])?r[n]=OO(i,Array.isArray(i)?[]:{}):hl(i,Xr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!li(i,s)}}return r}const VI={value:!1,isValid:!1},KI={value:!0,isValid:!0};var $K=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!$t(t[0].attributes.value)?$t(t[0].value)||t[0].value===""?KI:{value:t[0].value,isValid:!0}:KI:VI}return VI},kK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>$t(t)?t:e?t===""?NaN:t&&+t:r&&gn(t)?new Date(t):n?n(t):t;const GI={isValid:!1,value:null};var DK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,GI):GI;function YI(t){const e=t.ref;return dP(e)?e.files:hP(e)?DK(t.refs).value:IK(e)?[...e.selectedOptions].map(({value:r})=>r):Jd(e)?$K(t.refs).value:kK($t(e.value)?t.ref.value:e.value,t)}var jse=(t,e,r,n)=>{const i={};for(const s of t){const a=ue(e,s);a&&ut(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},bp=t=>t instanceof RegExp,Ec=t=>$t(t)?t:bp(t)?t.source:Ut(t)?bp(t.value)?t.value.source:t.value:t,QI=t=>({isOnSubmit:!t||t===oi.onSubmit,isOnBlur:t===oi.onBlur,isOnChange:t===oi.onChange,isOnAll:t===oi.all,isOnTouch:t===oi.onTouched});const XI="AsyncFunction";var Ise=t=>!!t&&!!t.validate&&!!(Br(t.validate)&&t.validate.constructor.name===XI||Ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===XI)),Rse=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),JI=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Vc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=ue(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Vc(o,e))break}else if(Ut(o)&&Vc(o,e))break}}};function ZI(t,e,r){const n=ue(t,r);if(n||sm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=ue(e,s),o=ue(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var $se=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Mr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||oi.all))},kse=(t,e,r)=>!t||!e||t===e||Hc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),Dse=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,Mse=(t,e)=>!oP(ue(t,e)).length&&Bt(t,e),qse=(t,e,r)=>{const n=Hc(ue(t,r));return ut(n,"root",e[r]),ut(t,r,n),t};function eR(t,e,r="validate"){if(gn(t)||Array.isArray(t)&&t.every(gn)||vn(t)&&!t)return{type:r,message:gn(t)?t:"",ref:e}}var ol=t=>Ut(t)&&!bp(t)?t:{value:t,message:""},tR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:x,mount:g}=t._f,v=ue(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,b=P=>{i&&w.reportValidity&&(w.setCustomValidity(vn(P)?"":P||""),w.reportValidity())},_={},E=hP(a),N=Jd(a),S=E||N,O=(x||dP(a))&&$t(a.value)&&$t(v)||yp(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=Nse.bind(null,y,n,_),T=(P,j,D,F=zi.maxLength,Q=zi.minLength)=>{const H=P?j:D;_[y]={type:P?F:Q,message:H,ref:a,...C(P?F:Q,H)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(O||Xr(v))||vn(v)&&!v||N&&!$K(o).isValid||E&&!DK(o).isValid)){const{value:P,message:j}=gn(l)?{value:!!l,message:l}:ol(l);if(P&&(_[y]={type:zi.required,message:j,ref:w,...C(zi.required,j)},!n))return b(j),_}if(!O&&(!Xr(h)||!Xr(f))){let P,j;const D=ol(f),F=ol(h);if(!Xr(v)&&!isNaN(v)){const Q=a.valueAsNumber||v&&+v;Xr(D.value)||(P=Q>D.value),Xr(F.value)||(j=Q<F.value)}else{const Q=a.valueAsDate||new Date(v),H=W=>new Date(new Date().toDateString()+" "+W),L=a.type=="time",V=a.type=="week";gn(D.value)&&v&&(P=L?H(v)>H(D.value):V?v>D.value:Q>new Date(D.value)),gn(F.value)&&v&&(j=L?H(v)<H(F.value):V?v<F.value:Q<new Date(F.value))}if((P||j)&&(T(!!P,D.message,F.message,zi.max,zi.min),!n))return b(_[y].message),_}if((c||d)&&!O&&(gn(v)||s&&Array.isArray(v))){const P=ol(c),j=ol(d),D=!Xr(P.value)&&v.length>+P.value,F=!Xr(j.value)&&v.length<+j.value;if((D||F)&&(T(D,P.message,j.message),!n))return b(_[y].message),_}if(p&&!O&&gn(v)){const{value:P,message:j}=ol(p);if(bp(P)&&!v.match(P)&&(_[y]={type:zi.pattern,message:j,ref:a,...C(zi.pattern,j)},!n))return b(j),_}if(m){if(Br(m)){const P=await m(v,r),j=eR(P,w);if(j&&(_[y]={...j,...C(zi.validate,j.message)},!n))return b(j.message),_}else if(Ut(m)){let P={};for(const j in m){if(!Mr(P)&&!n)break;const D=eR(await m[j](v,r),w,j);D&&(P={...D,...C(j,D.message)},b(D.message),n&&(_[y]=P))}if(!Mr(P)&&(_[y]={ref:w,...P},!n))return _}}return b(!0),_};const Ase={mode:oi.onSubmit,reValidateMode:oi.onChange,shouldFocusError:!0};function Fse(t={}){let e={...Ase,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Br(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Ut(e.defaultValues)||Ut(e.values)?Xt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Xt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:HI(),state:HI()},m=e.criteriaMode===oi.all,y=$=>M=>{clearTimeout(c),c=setTimeout($,M)},x=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let M;e.resolver?(M=Mr((await S()).errors),g()):M=await C(n,!0),M!==r.isValid&&p.state.next({isValid:M})}},g=($,M)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(A=>{A&&(M?ut(r.validatingFields,A,M):Bt(r.validatingFields,A))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Mr(r.validatingFields)}))},v=($,M=[],A,se,re=!0,X=!0)=>{if(se&&A&&!e.disabled){if(a.action=!0,X&&Array.isArray(ue(n,$))){const U=A(ue(n,$),se.argA,se.argB);re&&ut(n,$,U)}if(X&&Array.isArray(ue(r.errors,$))){const U=A(ue(r.errors,$),se.argA,se.argB);re&&ut(r.errors,$,U),Mse(r.errors,$)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(ue(r.touchedFields,$))){const U=A(ue(r.touchedFields,$),se.argA,se.argB);re&&ut(r.touchedFields,$,U)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=hl(i,s)),p.state.next({name:$,isDirty:P($,M),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else ut(s,$,M)},w=($,M)=>{ut(r.errors,$,M),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,M,A,se)=>{const re=ue(n,$);if(re){const X=ue(s,$,$t(A)?ue(i,$):A);$t(X)||se&&se.defaultChecked||M?ut(s,$,M?X:YI(re._f)):F($,X),a.mount&&!a.action&&x()}},E=($,M,A,se,re)=>{let X=!1,U=!1;const oe={name:$};if(!e.disabled){if(!A||se){(h.isDirty||f.isDirty)&&(U=r.isDirty,r.isDirty=oe.isDirty=P(),X=U!==oe.isDirty);const de=li(ue(i,$),M);U=!!ue(r.dirtyFields,$),de?Bt(r.dirtyFields,$):ut(r.dirtyFields,$,!0),oe.dirtyFields=r.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&U!==!de}if(A){const de=ue(r.touchedFields,$);de||(ut(r.touchedFields,$,A),oe.touchedFields=r.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&de!==A)}X&&re&&p.state.next(oe)}return X?oe:{}},N=($,M,A,se)=>{const re=ue(r.errors,$),X=(h.isValid||f.isValid)&&vn(M)&&r.isValid!==M;if(e.delayError&&A?(l=y(()=>w($,A)),l(e.delayError)):(clearTimeout(c),l=null,A?ut(r.errors,$,A):Bt(r.errors,$)),(A?!li(re,A):re)||!Mr(se)||X){const U={...se,...X&&vn(M)?{isValid:M}:{},errors:r.errors,name:$};r={...r,...U},p.state.next(U)}},S=async $=>(g($,!0),await e.resolver(s,e.context,jse($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),O=async $=>{const{errors:M}=await S($);if(g($),$)for(const A of $){const se=ue(M,A);se?ut(r.errors,A,se):Bt(r.errors,A)}else r.errors=M;return M},C=async($,M,A={valid:!0})=>{for(const se in $){const re=$[se];if(re){const{_f:X,...U}=re;if(X){const oe=o.array.has(X.name),de=re._f&&Ise(re._f);de&&h.validatingFields&&g([X.name],!0);const ze=await tR(re,o.disabled,s,m,e.shouldUseNativeValidation&&!M,oe);if(de&&h.validatingFields&&g([X.name]),ze[X.name]&&(A.valid=!1,M))break;!M&&(ue(ze,X.name)?oe?qse(r.errors,ze,X.name):ut(r.errors,X.name,ze[X.name]):Bt(r.errors,X.name))}!Mr(U)&&await C(U,M,A)}}return A.valid},T=()=>{for(const $ of o.unMount){const M=ue(n,$);M&&(M._f.refs?M._f.refs.every(A=>!Ev(A)):!Ev(M._f.ref))&&$e($)}o.unMount=new Set},P=($,M)=>!e.disabled&&($&&M&&ut(s,$,M),!li(z(),i)),j=($,M,A)=>EO($,o,{...a.mount?s:$t(M)?i:gn($)?{[$]:M}:M},A,M),D=$=>oP(ue(a.mount?s:i,$,e.shouldUnregister?ue(i,$,[]):[])),F=($,M,A={})=>{const se=ue(n,$);let re=M;if(se){const X=se._f;X&&(!X.disabled&&ut(s,$,kK(M,X)),re=yp(X.ref)&&Xr(M)?"":M,IK(X.ref)?[...X.ref.options].forEach(U=>U.selected=re.includes(U.value)):X.refs?Jd(X.ref)?X.refs.forEach(U=>{(!U.defaultChecked||!U.disabled)&&(Array.isArray(re)?U.checked=!!re.find(oe=>oe===U.value):U.checked=re===U.value||!!re)}):X.refs.forEach(U=>U.checked=U.value===re):dP(X.ref)?X.ref.value="":(X.ref.value=re,X.ref.type||p.state.next({name:$,values:Xt(s)})))}(A.shouldDirty||A.shouldTouch)&&E($,re,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&W($)},Q=($,M,A)=>{for(const se in M){if(!M.hasOwnProperty(se))return;const re=M[se],X=$+"."+se,U=ue(n,X);(o.array.has($)||Ut(re)||U&&!U._f)&&!Ha(re)?Q(X,re,A):F(X,re,A)}},H=($,M,A={})=>{const se=ue(n,$),re=o.array.has($),X=Xt(M);ut(s,$,X),re?(p.array.next({name:$,values:Xt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&A.shouldDirty&&p.state.next({name:$,dirtyFields:hl(i,s),isDirty:P($,X)})):se&&!se._f&&!Xr(X)?Q($,X,A):F($,X,A),JI($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:Xt(s)})},L=async $=>{a.mount=!0;const M=$.target;let A=M.name,se=!0;const re=ue(n,A),X=de=>{se=Number.isNaN(de)||Ha(de)&&isNaN(de.getTime())||li(de,ue(s,A,de))},U=QI(e.mode),oe=QI(e.reValidateMode);if(re){let de,ze;const ve=M.type?YI(re._f):OK($),J=$.type===vp.BLUR||$.type===vp.FOCUS_OUT,le=!Rse(re._f)&&!e.resolver&&!ue(r.errors,A)&&!re._f.deps||Dse(J,ue(r.touchedFields,A),r.isSubmitted,oe,U),ae=JI(A,o,J);ut(s,A,ve),J?(!M||!M.readOnly)&&(re._f.onBlur&&re._f.onBlur($),l&&l(0)):re._f.onChange&&re._f.onChange($);const we=E(A,ve,J),ke=!Mr(we)||ae;if(!J&&p.state.next({name:A,type:$.type,values:Xt(s)}),le)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?J&&x():J||x()),ke&&p.state.next({name:A,...ae?{}:we});if(!J&&ae&&p.state.next({...r}),e.resolver){const{errors:Gr}=await S([A]);if(g([A]),X(ve),se){const Pn=ZI(r.errors,n,A),lc=ZI(Gr,n,Pn.name||A);de=lc.error,A=lc.name,ze=Mr(Gr)}}else g([A],!0),de=(await tR(re,o.disabled,s,m,e.shouldUseNativeValidation))[A],g([A]),X(ve),se&&(de?ze=!1:(h.isValid||f.isValid)&&(ze=await C(n,!0)));se&&(re._f.deps&&(!Array.isArray(re._f.deps)||re._f.deps.length>0)&&W(re._f.deps),N(A,ze,de,we))}},V=($,M)=>{if(ue(r.errors,M)&&$.focus)return $.focus(),1},W=async($,M={})=>{let A,se;const re=Hc($);if(e.resolver){const X=await O($t($)?$:re);A=Mr(X),se=$?!re.some(U=>ue(X,U)):A}else $?(se=(await Promise.all(re.map(async X=>{const U=ue(n,X);return await C(U&&U._f?{[X]:U}:U)}))).every(Boolean),!(!se&&!r.isValid)&&x()):se=A=await C(n);return p.state.next({...!gn($)||(h.isValid||f.isValid)&&A!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:A}:{},errors:r.errors}),M.shouldFocus&&!se&&Vc(n,V,$?re:o.mount),se},z=($,M)=>{let A={...a.mount?s:i};return M&&(A=jK(M.dirtyFields?r.dirtyFields:r.touchedFields,A)),$t($)?A:gn($)?ue(A,$):$.map(se=>ue(A,se))},K=($,M)=>({invalid:!!ue((M||r).errors,$),isDirty:!!ue((M||r).dirtyFields,$),error:ue((M||r).errors,$),isValidating:!!ue(r.validatingFields,$),isTouched:!!ue((M||r).touchedFields,$)}),he=$=>{$&&Hc($).forEach(M=>Bt(r.errors,M)),p.state.next({errors:$?r.errors:{}})},xe=($,M,A)=>{const se=(ue(n,$,{_f:{}})._f||{}).ref,re=ue(r.errors,$)||{},{ref:X,message:U,type:oe,...de}=re;ut(r.errors,$,{...de,...M,ref:se}),p.state.next({name:$,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&se&&se.focus&&se.focus()},Re=($,M)=>Br($)?p.state.subscribe({next:A=>"values"in A&&$(j(void 0,M),A)}):j($,M,!0),ge=$=>p.state.subscribe({next:M=>{kse($.name,M.name,$.exact)&&$se(M,$.formState||h,Lt,$.reRenderRoot)&&$.callback({values:{...s},...r,...M,defaultValues:i})}}).unsubscribe,Ee=$=>(a.mount=!0,f={...f,...$.formState},ge({...$,formState:{...d,...$.formState}})),$e=($,M={})=>{for(const A of $?Hc($):o.mount)o.mount.delete(A),o.array.delete(A),M.keepValue||(Bt(n,A),Bt(s,A)),!M.keepError&&Bt(r.errors,A),!M.keepDirty&&Bt(r.dirtyFields,A),!M.keepTouched&&Bt(r.touchedFields,A),!M.keepIsValidating&&Bt(r.validatingFields,A),!e.shouldUnregister&&!M.keepDefaultValue&&Bt(i,A);p.state.next({values:Xt(s)}),p.state.next({...r,...M.keepDirty?{isDirty:P()}:{}}),!M.keepIsValid&&x()},rt=({disabled:$,name:M})=>{(vn($)&&a.mount||$||o.disabled.has(M))&&($?o.disabled.add(M):o.disabled.delete(M))},rr=($,M={})=>{let A=ue(n,$);const se=vn(M.disabled)||vn(e.disabled);return ut(n,$,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:$}},name:$,mount:!0,...M}}),o.mount.add($),A?rt({disabled:vn(M.disabled)?M.disabled:e.disabled,name:$}):_($,!0,M.value),{...se?{disabled:M.disabled||e.disabled}:{},...e.progressive?{required:!!M.required,min:Ec(M.min),max:Ec(M.max),minLength:Ec(M.minLength),maxLength:Ec(M.maxLength),pattern:Ec(M.pattern)}:{},name:$,onChange:L,onBlur:L,ref:re=>{if(re){rr($,M),A=ue(n,$);const X=$t(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,U=Ose(X),oe=A._f.refs||[];if(U?oe.find(de=>de===X):X===A._f.ref)return;ut(n,$,{_f:{...A._f,...U?{refs:[...oe.filter(Ev),X,...Array.isArray(ue(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else A=ue(n,$,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||M.shouldUnregister)&&!(CK(o.array,$)&&a.action)&&o.unMount.add($)}}},bt=()=>e.shouldFocusError&&Vc(n,V,o.mount),fr=$=>{vn($)&&(p.state.next({disabled:$}),Vc(n,(M,A)=>{const se=ue(n,A);se&&(M.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(re=>{re.disabled=se._f.disabled||$}))},0,!1))},lt=($,M)=>async A=>{let se;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let re=Xt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:U}=await S();g(),r.errors=X,re=Xt(U)}else await C(n);if(o.disabled.size)for(const X of o.disabled)Bt(re,X);if(Bt(r.errors,"root"),Mr(r.errors)){p.state.next({errors:{}});try{await $(re,A)}catch(X){se=X}}else M&&await M({...r.errors},A),bt(),setTimeout(bt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Mr(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},jr=($,M={})=>{ue(n,$)&&($t(M.defaultValue)?H($,Xt(ue(i,$))):(H($,M.defaultValue),ut(i,$,Xt(M.defaultValue))),M.keepTouched||Bt(r.touchedFields,$),M.keepDirty||(Bt(r.dirtyFields,$),r.isDirty=M.defaultValue?P($,Xt(ue(i,$))):P()),M.keepError||(Bt(r.errors,$),h.isValid&&x()),p.state.next({...r}))},Ir=($,M={})=>{const A=$?Xt($):i,se=Xt(A),re=Mr($),X=re?i:se;if(M.keepDefaultValues||(i=A),!M.keepValues){if(M.keepDirtyValues){const U=new Set([...o.mount,...Object.keys(hl(i,s))]);for(const oe of Array.from(U))ue(r.dirtyFields,oe)?ut(X,oe,ue(s,oe)):H(oe,ue(X,oe))}else{if(aP&&$t($))for(const U of o.mount){const oe=ue(n,U);if(oe&&oe._f){const de=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(yp(de)){const ze=de.closest("form");if(ze){ze.reset();break}}}}if(M.keepFieldsRef)for(const U of o.mount)H(U,ue(X,U));else n={}}s=e.shouldUnregister?M.keepDefaultValues?Xt(i):{}:Xt(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:M.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!M.keepIsValid||!!M.keepDirtyValues||!e.shouldUnregister&&!Mr(X),a.watch=!!e.shouldUnregister,a.keepIsValid=!!M.keepIsValid,a.action=!1,M.keepErrors||(r.errors={}),p.state.next({submitCount:M.keepSubmitCount?r.submitCount:0,isDirty:re?!1:M.keepDirty?r.isDirty:!!(M.keepDefaultValues&&!li($,i)),isSubmitted:M.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:M.keepDirtyValues?M.keepDefaultValues&&s?hl(i,s):r.dirtyFields:M.keepDefaultValues&&$?hl(i,$):M.keepDirty?r.dirtyFields:{},touchedFields:M.keepTouched?r.touchedFields:{},errors:M.keepErrors?r.errors:{},isSubmitSuccessful:M.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},_r=($,M)=>Ir(Br($)?$(s):$,{...e.resetOptions,...M}),nt=($,M={})=>{const A=ue(n,$),se=A&&A._f;if(se){const re=se.refs?se.refs[0]:se.ref;re.focus&&setTimeout(()=>{re.focus(),M.shouldSelect&&Br(re.select)&&re.select()})}},Lt=$=>{r={...r,...$}},$r={control:{register:rr,unregister:$e,getFieldState:K,handleSubmit:lt,setError:xe,_subscribe:ge,_runSchema:S,_updateIsValidating:g,_focusError:bt,_getWatch:j,_getDirty:P,_setValid:x,_setFieldArray:v,_setDisabledField:rt,_setErrors:b,_getFieldArray:D,_reset:Ir,_resetDefaultValues:()=>Br(e.defaultValues)&&e.defaultValues().then($=>{_r($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:T,_disableForm:fr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ee,trigger:W,register:rr,handleSubmit:lt,watch:Re,setValue:H,getValues:z,reset:_r,resetField:jr,clearErrors:he,unregister:$e,setError:xe,setFocus:nt,getFieldState:K};return{...$r,formControl:$r}}function ku(t={}){const e=je.useRef(void 0),r=je.useRef(void 0),[n,i]=je.useState({isDirty:!1,isValidating:!1,isLoading:Br(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Br(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Br(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Fse(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,cP(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),je.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),je.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),je.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),je.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),je.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),je.useEffect(()=>{var a;t.values&&!li(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),je.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=TK(n,s),e.current}function rR(){var v;const{id:t}=ws(),e=cn(),[r]=zC(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=$u(t),l=Mie(),c=Xd(),{data:d=[]}=yt({queryKey:["date-types"],queryFn:async()=>(await We.getDateTypes()).data}),h=d.find(w=>w.slug==="birthday"||w.name.toLowerCase()==="birthday"),{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:x}}=ku({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});I.useEffect(()=>{var w,b,_,E,N,S,O,C;if(a){const T=(b=(w=a.acf)==null?void 0:w.contact_info)==null?void 0:b.find(j=>j.contact_type==="email"),P=(T==null?void 0:T.contact_value)||"";m({first_name:((_=a.acf)==null?void 0:_.first_name)||"",last_name:((E=a.acf)==null?void 0:E.last_name)||"",nickname:((N=a.acf)==null?void 0:N.nickname)||"",gender:((S=a.acf)==null?void 0:S.gender)||"",email:P,how_we_met:((O=a.acf)==null?void 0:O.how_we_met)||"",is_favorite:((C=a.acf)==null?void 0:C.is_favorite)||!1,birthday:""})}},[a,m]),En(n&&a?`Edit ${((v=a.title)==null?void 0:v.rendered)||a.title||"person"}`:"New person");const g=async w=>{try{const _=`${w.first_name||""} ${w.last_name||""}`.trim()||"Unnamed Person",E={title:_,status:"publish",acf:{first_name:w.first_name,last_name:w.last_name,nickname:w.nickname,gender:w.gender||null,how_we_met:w.how_we_met,is_favorite:w.is_favorite}};if(!n&&w.email&&(E.acf.contact_info=[{contact_type:"email",contact_value:w.email,contact_label:""}]),n)E.title=_,await c.mutateAsync({id:t,data:E}),e(`/people/${t}`);else{const S=(await l.mutateAsync(E)).data.id;if(w.email)try{await qe.sideloadGravatar(S,w.email)}catch(O){console.error("Failed to load Gravatar:",O)}if(w.birthday&&h)try{const O=w.first_name||"Person";await We.createDate({title:`${O}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:w.birthday,is_recurring:!0,related_people:[S],reminder_days_before:7}})}catch(O){console.error("Failed to create birthday:",O)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${S}`:`/people/${S}`)}}catch(b){console.error("Failed to save person:",b)}};return n&&o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?u.jsxs(fe,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):u.jsxs(fe,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"First name *"}),u.jsx("input",{...f("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),y.first_name&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.first_name.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Last name"}),u.jsx("input",{...f("last_name"),className:"input",placeholder:"Doe"})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Nickname"}),u.jsx("input",{...f("nickname"),className:"input",placeholder:"Johnny"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Gender"}),u.jsxs("select",{...f("gender"),className:"input",children:[u.jsx("option",{value:"",children:"Select gender..."}),u.jsx("option",{value:"male",children:"Male"}),u.jsx("option",{value:"female",children:"Female"}),u.jsx("option",{value:"non_binary",children:"Non-binary"}),u.jsx("option",{value:"other",children:"Other"}),u.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Email"}),u.jsx("input",{type:"email",...f("email"),className:"input",placeholder:"john@example.com"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Birthday"}),u.jsx("input",{type:"date",...f("birthday"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"How we met"}),u.jsx("textarea",{...f("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...f("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?u.jsx(fe,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):u.jsx(fe,{to:"/people",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function Lse({value:t,onChange:e,companies:r,isLoading:n}){return u.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[u.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return u.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function nR(){var v,w;const{personId:t,index:e}=ws(),r=cn();pt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=$u(t),o=Xd(),{data:l=[],isLoading:c}=yt({queryKey:["companies","all"],queryFn:async()=>(await We.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:x}}=ku({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});I.useEffect(()=>{var b;if(s&&i){const E=(((b=s.acf)==null?void 0:b.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),En(i?`Edit work history - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async b=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],N={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?E[n]=N:E.push(N);const S=Wa(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),u.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization"}),u.jsx(gp,{name:"company",control:m,render:({field:b})=>u.jsx(Lse,{value:b.value,onChange:b.onChange,companies:l,isLoading:c})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Job title"}),u.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Description"}),u.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),u.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Start date"}),u.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"End date"}),u.jsx("input",{type:"date",...d("end_date"),className:"input"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const Bse=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function iR(){var y,x;const{personId:t,index:e}=ws(),r=cn(),n=pt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=$u(t),l=Xd(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=ku({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});I.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),En(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((x=a==null?void 0:a.title)==null?void 0:x.rendered)||(a==null?void 0:a.title)||"person"}`);const m=async g=>{var v,w,b,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],N={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=N:E.push(N);const S=Wa(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(b=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:b[0])==null?void 0:_.source_url)||a.thumbnail))try{await qe.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(C){console.log("No Gravatar found or failed to load:",C)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),u.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Contact type *"}),u.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),Bse.map(g=>u.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Value *"}),u.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function zse({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=I.useState(""),[o,l]=I.useState(!1),c=I.useRef(null),d=I.useRef(null),h=I.useMemo(()=>r.filter(v=>v.id!==i).sort((v,w)=>{var E,N;const b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(w.first_name||((N=w.acf)==null?void 0:N.first_name)||"").toLowerCase();return b<_?-1:b>_?1:0}),[r,i]),f=I.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,N;const w=uo(v).toLowerCase(),b=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((N=v.acf)==null?void 0:N.last_name)||"").toLowerCase();return w.includes(g)||b.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=I.useMemo(()=>h.find(g=>g.id===t),[h,t]);I.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&c.current&&!c.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},x=p?uo(p):"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:p&&!o?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[u.jsx("span",{children:x}),u.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(Wn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&u.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>u.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:uo(g)},g.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function sR(){var E,N;const{personId:t,index:e}=ws(),r=cn(),[n]=zC(),i=pt(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:l}=$u(t),c=Xd(),{data:d=[],isLoading:h}=Ru(),{data:f=[],isLoading:p}=yt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),{register:m,handleSubmit:y,reset:x,control:g,setValue:v,formState:{errors:w,isSubmitting:b}}=ku({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});I.useEffect(()=>{const S=n.get("newPersonId");if(S&&!a&&!h){const O=parseInt(S,10);if(!isNaN(O))if(d.some(T=>T.id===O)){v("related_person",O);const T=new URLSearchParams(n);T.delete("newPersonId"),r({search:T.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:P=[]}=await i.refetchQueries({queryKey:["people"]});P.some(F=>F.id===O)&&v("related_person",O);const D=new URLSearchParams(n);D.delete("newPersonId"),r({search:D.toString()},{replace:!0})}catch(P){console.error("Failed to load new person:",P);const j=new URLSearchParams(n);j.delete("newPersonId"),r({search:j.toString()},{replace:!0})}})()}},[n,a,h,d,v,r,i]),I.useEffect(()=>{var S;if(o&&a){const C=(((S=o.acf)==null?void 0:S.relationships)||[])[s];C&&x({related_person:C.related_person||null,relationship_type:C.relationship_type?String(C.relationship_type):"",relationship_label:C.relationship_label||""})}},[o,s,a,x]),En(a?`Edit relationship - ${((E=o==null?void 0:o.title)==null?void 0:E.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((N=o==null?void 0:o.title)==null?void 0:N.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async S=>{var O;try{const C=[...((O=o.acf)==null?void 0:O.relationships)||[]],T={related_person:S.related_person||null,relationship_type:S.relationship_type||null,relationship_label:S.relationship_label||""};a?C[s]=T:C.push(T);const P=Wa(o.acf,{relationships:C});await c.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(C){console.error("Failed to save relationship:",C)}};return l?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),u.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related person *"}),u.jsx(gp,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:S})=>u.jsx(zse,{value:S.value,onChange:S.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&u.jsx("div",{className:"mt-2",children:u.jsxs(fe,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[u.jsx(Zt,{className:"w-4 h-4"}),"Add new person"]})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Relationship type"}),u.jsxs("select",{...m("relationship_type",{setValueAs:S=>S?parseInt(S,10):null}),className:"input",disabled:p,children:[u.jsx("option",{value:"",children:"Select a type..."}),f.map(S=>u.jsx("option",{value:S.id,children:S.name},S.id))]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Custom label"}),u.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):u.jsx(ga,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function Use({company:t}){var e,r,n,i,s;return u.jsx(fe,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:u.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?u.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:ts(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(ms,{className:"w-6 h-6 text-gray-400"})}),u.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[u.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:ts(t)}),((i=t.acf)==null?void 0:i.industry)&&u.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&u.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function Wse(){const[t,e]=I.useState(""),{data:r,isLoading:n,error:i}=yt({queryKey:["companies",t],queryFn:async()=>(await We.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=I.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(c)}):[],[r]);return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-md",children:[u.jsx(iK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),u.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),u.jsxs(fe,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:u.jsx(ms,{className:"w-6 h-6 text-gray-400"})}),u.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),u.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&u.jsxs(fe,{to:"/companies/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&u.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>u.jsx(Use,{company:a},a.id))})]})}function Hse(){var d,h,f,p,m,y;const{id:t}=ws(),e=cn(),r=pt(),{data:n,isLoading:i,error:s}=yt({queryKey:["company",t],queryFn:async()=>(await We.getCompany(t,{_embed:!0})).data}),{data:a}=yt({queryKey:["company-people",t],queryFn:async()=>(await qe.getCompanyPeople(t)).data}),o=Xe({mutationFn:()=>We.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});En(ts(n)||"Organization"),I.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await o.mutateAsync()}catch(x){console.error("Failed to delete company:",x),alert("Failed to delete organization. Please try again.")}};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),u.jsx(fe,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const c=n.acf||{};return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(fe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs(fe,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[u.jsx(lK,{className:"w-4 h-4 mr-2"}),"Edit"]}),u.jsxs("button",{onClick:l,className:"btn-danger",children:[u.jsx(ii,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),u.jsx("div",{className:"card p-6",children:u.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?u.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:ts(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):u.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:u.jsx(ms,{className:"w-12 h-12 text-gray-400"})}),u.jsxs("div",{children:[u.jsx("h1",{className:"text-2xl font-bold",children:ts(n)}),c.industry&&u.jsx("p",{className:"text-gray-500",children:c.industry}),c.website&&u.jsxs("a",{href:c.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[u.jsx(If,{className:"w-4 h-4 mr-1"}),c.website]})]})]})}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?u.jsx("div",{className:"space-y-2",children:a.current.map(x=>{var g;return u.jsxs(fe,{to:`/people/${x.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[x.thumbnail?u.jsx("img",{src:x.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=x.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium",children:x.name}),x.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:x.job_title})]})]},x.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),u.jsxs("div",{className:"card p-6",children:[u.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[u.jsx($i,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?u.jsx("div",{className:"space-y-2",children:a.former.map(x=>{var g;return u.jsxs(fe,{to:`/people/${x.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[x.thumbnail?u.jsx("img",{src:x.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):u.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:u.jsx("span",{className:"text-xs text-gray-500",children:((g=x.name)==null?void 0:g[0])||"?"})}),u.jsxs("div",{className:"ml-2",children:[u.jsx("p",{className:"text-sm font-medium text-gray-700",children:x.name}),x.job_title&&u.jsx("p",{className:"text-xs text-gray-500",children:x.job_title})]})]},x.id)})}):u.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=c.contact_info)==null?void 0:y.length)>0&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),u.jsx("div",{className:"space-y-3",children:c.contact_info.map((x,g)=>u.jsxs("div",{children:[u.jsxs("span",{className:"text-sm text-gray-500",children:[x.contact_label||x.contact_type,":"]}),u.jsx("span",{className:"ml-2",children:x.contact_value})]},g))})]})]})}function aR(){var v,w,b,_,E,N;const{id:t}=ws(),e=cn(),r=pt(),n=!!t,{data:i,isLoading:s}=yt({queryKey:["company",t],queryFn:async()=>(await We.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=I.useState(!1),l=I.useRef(null),c=Xe({mutationFn:S=>We.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Xe({mutationFn:S=>We.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const O=(C=S.target.files)==null?void 0:C[0];if(O){if(!O.type.startsWith("image/")){alert("Please select an image file");return}if(O.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await qe.uploadCompanyLogo(t,O),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(T){console.error("Failed to upload logo:",T),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:x}}=ku();I.useEffect(()=>{var S,O,C;i&&m({title:ui(((S=i.title)==null?void 0:S.rendered)||""),website:((O=i.acf)==null?void 0:O.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),En(n&&i?`Edit ${ts(i)||"organization"}`:"New organization");const g=async S=>{const O={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(O):c.mutate(O)};return n&&s?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),u.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Logo"}),u.jsxs("div",{className:"flex items-center gap-4",children:[(b=(w=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:w[0])!=null&&b.source_url?u.jsxs("div",{className:"relative group",children:[u.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:ts(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(jf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):u.jsxs("div",{className:"relative group",children:[u.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:u.jsx(jf,{className:"w-8 h-8 text-gray-400"})}),u.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):u.jsx(jf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),u.jsxs("div",{children:[u.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(N=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&N.source_url?"Change logo":"Upload logo"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),u.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Organization name *"}),u.jsx("input",{...f("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Website"}),u.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Industry"}),u.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:"/companies",className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[u.jsx(ga,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function Vse({person:t,dateType:e}){var r;return u.jsx("div",{className:"flex items-center gap-3 py-2",children:u.jsxs(fe,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?u.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),u.jsx("span",{className:"font-medium truncate",children:t.name}),u.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Kse({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),u.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:u.jsxs("div",{className:"flex items-start gap-4",children:[u.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:u.jsx("span",{className:"text-2xl font-bold leading-none",children:Mn(new Date(e.next_occurrence),"d")})}),u.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>u.jsx(Vse,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function Gse(){const{data:t,isLoading:e,error:r}=Hre(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=Mn(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=Mn(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),u.jsxs(fe,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&u.jsx("div",{className:"card p-6 text-center",children:u.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&u.jsxs("div",{className:"card p-12 text-center",children:[u.jsx(lo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),u.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),u.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),u.jsxs(fe,{to:"/dates/new",className:"btn-primary",children:[u.jsx(Zt,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>u.jsxs("div",{children:[u.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),u.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>u.jsx(Kse,{dates:o},o[0].next_occurrence))})]},s))]})}function Yse({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=I.useState(""),a=I.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>uo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=I.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return u.jsxs("div",{className:"space-y-2",children:[o.length>0&&u.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>u.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[uo(d),u.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:u.jsx(Wn,{className:"w-3 h-3"})})]},d.id))}),u.jsxs("div",{className:"relative",children:[u.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&u.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>u.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:uo(d)},d.id)):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function oR(){var V;const{id:t}=ws(),[e]=zC(),r=cn(),n=pt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=yt({queryKey:["important-date",t],queryFn:async()=>(await We.getDate(t)).data,enabled:i}),c=I.useMemo(()=>{var z;if(!((z=o==null?void 0:o.acf)!=null&&z.related_people))return[];const W=o.acf.related_people;return Array.isArray(W)?W.map(K=>parseInt(typeof K=="object"&&K!==null?K.ID||K.id||K.post_id:K,10)).filter(K=>!isNaN(K)&&K>0):[]},[o]),{data:d=[],isLoading:h}=Ru({orderby:"title",order:"asc"}),{data:f=[]}=yt({queryKey:["people","specific",c],queryFn:async()=>{const W=c.map(K=>We.getPerson(K,{_embed:!0}).then(he=>he.data).catch(()=>null));return(await Promise.all(W)).filter(Boolean)},enabled:c.length>0}),p=I.useMemo(()=>{const W=new Map;return d.forEach(z=>W.set(z.id,z)),f.forEach(z=>{var he,xe,Re,ge,Ee,$e,rt,rr,bt,fr,lt,jr,Ir,_r,nt,Lt;const K={...z,id:z.id,name:uo(z),first_name:((he=z.acf)==null?void 0:he.first_name)||"",last_name:((xe=z.acf)==null?void 0:xe.last_name)||"",is_favorite:((Re=z.acf)==null?void 0:Re.is_favorite)||!1,thumbnail:(($e=(Ee=(ge=z._embedded)==null?void 0:ge["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:$e.source_url)||((jr=(lt=(fr=(bt=(rr=(rt=z._embedded)==null?void 0:rt["wp:featuredmedia"])==null?void 0:rr[0])==null?void 0:bt.media_details)==null?void 0:fr.sizes)==null?void 0:lt.thumbnail)==null?void 0:jr.source_url)||null,labels:((Lt=(nt=(_r=(Ir=z._embedded)==null?void 0:Ir["wp:term"])==null?void 0:_r.flat())==null?void 0:nt.filter(Rr=>(Rr==null?void 0:Rr.taxonomy)==="person_label"))==null?void 0:Lt.map(Rr=>Rr.name))||[]};W.set(K.id,K)}),Array.from(W.values())},[d,f]),{data:m=[]}=yt({queryKey:["date-types"],queryFn:async()=>((await We.getDateTypes()).data||[]).sort((K,he)=>{const xe=K.name||"",Re=he.name||"";return xe.localeCompare(Re)})}),y=Xe({mutationFn:W=>We.createDate(W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),x=Xe({mutationFn:W=>We.updateDate(t,W),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const W=b("related_people");(W==null?void 0:W.length)>0?r(`/people/${W[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:w,watch:b,setValue:_,control:E,formState:{errors:N,isSubmitting:S}}=ku({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),O=b("related_people"),C=b("date_type"),T=b("title");I.useEffect(()=>{var K;if((!T||["'s Birthday","Wedding of "].some(he=>T.endsWith(he)||T.startsWith(he)))&&(O==null?void 0:O.length)>0&&C){const he=m.find(Ee=>Ee.id===parseInt(C)),xe=(he==null?void 0:he.name)||"",Re=((K=he==null?void 0:he.slug)==null?void 0:K.toLowerCase())||xe.toLowerCase(),ge=O.map(Ee=>{var rt,rr,bt;const $e=p.find(fr=>fr.id===Ee);return $e?ui(((rt=$e.acf)==null?void 0:rt.first_name)||((bt=(rr=$e.title)==null?void 0:rr.rendered)==null?void 0:bt.split(" ")[0])||""):null}).filter(Boolean);if(ge.length>0&&xe){let Ee;Re==="wedding"?ge.length>=2?Ee=`Wedding of ${ge[0]} & ${ge[1]}`:Ee=`Wedding of ${ge[0]}`:Ee=`${ge[0]}'s ${xe}`,_("title",Ee)}}},[O,C,p,m,_,T]);const[P,j]=I.useState(!1);I.useEffect(()=>{var z,K,he,xe,Re;if(P&&!i)return;const W=c.length===0||f.length>0;if(o&&p.length>0&&W){let ge=[];const Ee=(z=o.acf)==null?void 0:z.related_people;Ee&&(Array.isArray(Ee)?ge=Ee.map(rt=>parseInt(typeof rt=="object"&&rt!==null?rt.ID||rt.id||rt.post_id:rt,10)).filter(rt=>!isNaN(rt)&&rt>0):typeof Ee=="number"&&(ge=[Ee]));let $e="";((K=o.date_type)==null?void 0:K.length)>0&&($e=o.date_type[0].toString()),w({title:ui(((he=o.title)==null?void 0:he.rendered)||""),date_value:((xe=o.acf)==null?void 0:xe.date_value)||"",date_type:$e,related_people:ge,is_recurring:((Re=o.acf)==null?void 0:Re.is_recurring)??!0}),j(!0)}else if(!i&&p.length>0&&m.length>0){const ge={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(ge.related_people=[parseInt(s)]),a){const Ee=m.find($e=>$e.slug===a||$e.name.toLowerCase()===a.toLowerCase());Ee&&(ge.date_type=Ee.id.toString())}w(ge),j(!0)}},[o,w,i,s,a,m,p,c,f,P]),En(i&&o?`Edit ${((V=o.title)==null?void 0:V.rendered)||o.title||"date"}`:"New date");const D=async W=>{const z={title:W.title,status:"publish",date_type:W.date_type?[parseInt(W.date_type)]:[],acf:{date_value:W.date_value,related_people:W.related_people,is_recurring:W.is_recurring}};i?x.mutate(z):y.mutate(z)};if(i&&l)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const F=b("related_people"),Q=i&&(F==null?void 0:F.length)>0?F[0]:s,H=Q?`/people/${Q}`:"/dates",L=Q?"Back to person":"Back to dates";return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs(fe,{to:H,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:L})]})}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),u.jsxs("form",{onSubmit:v(D),className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Related people"}),u.jsx(gp,{name:"related_people",control:E,render:({field:W})=>u.jsx(Yse,{value:W.value,onChange:W.onChange,people:p,isLoading:h})})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date type *"}),u.jsx(gp,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:W})=>{const z=W.value?String(W.value):"";return u.jsxs("select",{value:z,onChange:K=>{const he=K.target.value;W.onChange(he)},onBlur:W.onBlur,name:W.name,ref:W.ref,className:"input",children:[u.jsx("option",{value:"",children:"Select a type..."}),m.map(K=>u.jsx("option",{value:String(K.id),children:K.name},K.id))]})}}),N.date_type&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_type.message})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Label"}),u.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Date *"}),u.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),N.date_value&&u.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_value.message})]}),u.jsxs("div",{className:"flex items-center",children:[u.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),u.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),u.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[u.jsx(fe,{to:H,className:"btn-secondary",children:"Cancel"}),u.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[u.jsx(ga,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function Qse(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=I.useState(""),[i,s]=I.useState(""),[a,o]=I.useState(!0),[l,c]=I.useState(!1),[d,h]=I.useState(!1),[f,p]=I.useState([]),[m,y]=I.useState(""),[x,g]=I.useState(!1),[v,w]=I.useState(""),[b,_]=I.useState("09:00"),[E,N]=I.useState(!0),[S,O]=I.useState(!1),[C,T]=I.useState(!1),[P,j]=I.useState(!1),[D,F]=I.useState(""),[Q,H]=I.useState(!1),[L,V]=I.useState([]),[W,z]=I.useState([]),[K,he]=I.useState([]),[xe,Re]=I.useState(!1),[ge,Ee]=I.useState(!1),[$e,rt]=I.useState(!1),[rr,bt]=I.useState(""),[fr,lt]=I.useState(!1),[jr,Ir]=I.useState("");I.useEffect(()=>{(async()=>{try{const oe=await ce.get("/prm/v1/user/ical-url");n(oe.data.url),s(oe.data.webcal_url)}catch(oe){console.error("Failed to fetch iCal URL:",oe)}finally{o(!1)}})()},[]);const _r=async()=>{Re(!0);try{const[U,oe]=await Promise.all([qe.getSlackChannels(),qe.getSlackTargets()]);V(U.data.channels||[]),z(U.data.users||[]),he(oe.data.targets||[])}catch(U){console.error("Failed to fetch Slack data:",U),F("Failed to load Slack channels and users. Please try refreshing the page.")}finally{Re(!1)}};I.useEffect(()=>{(async()=>{try{const oe=await qe.getNotificationChannels();p(oe.data.channels||["email"]),y(oe.data.slack_webhook||""),_(oe.data.notification_time||"09:00");const de=await qe.getSlackStatus(),ze=de.data.connected||!1;g(ze),w(de.data.workspace_name||""),ze&&await _r()}catch(oe){console.error("Failed to fetch notification channels:",oe)}finally{N(!1)}})()},[]),I.useEffect(()=>{x&&_r()},[x]),I.useEffect(()=>{const U=new URLSearchParams(window.location.search),oe=U.get("slack_connected"),de=U.get("slack_error");oe==="1"?(F("Slack connected successfully!"),qe.getSlackStatus().then(ze=>{g(ze.data.connected||!1),w(ze.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):de&&(F(`Slack connection failed: ${de}`),window.history.replaceState({},"",window.location.pathname))},[]);const nt=async()=>{var U,oe;try{const de=await ce.get("/prm/v1/slack/oauth/authorize");window.location.href=de.data.oauth_url}catch(de){console.error("Failed to get Slack OAuth URL:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to connect Slack")}},Lt=async()=>{var U,oe;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){H(!0);try{await qe.disconnectSlack(),g(!1),w(""),V([]),z([]),he([]),F("Slack disconnected successfully"),f.includes("slack")&&await A("slack")}catch(de){console.error("Failed to disconnect Slack:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to disconnect Slack")}finally{H(!1)}}},Rr=U=>{const oe=K.includes(U)?K.filter(de=>de!==U):[...K,U];he(oe)},$r=async()=>{var U,oe;Ee(!0);try{await qe.updateSlackTargets(K),F("Notification targets saved successfully"),setTimeout(()=>F(""),3e3)}catch(de){console.error("Failed to save Slack targets:",de),alert(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to save notification targets")}finally{Ee(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(U){console.error("Failed to copy:",U)}},M=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const U=await ce.post("/prm/v1/user/regenerate-ical-token");n(U.data.url),s(U.data.webcal_url)}catch(U){console.error("Failed to regenerate token:",U)}finally{h(!1)}}},A=async U=>{var de,ze;const oe=f.includes(U)?f.filter(ve=>ve!==U):[...f,U];O(!0);try{await qe.updateNotificationChannels(oe),p(oe)}catch(ve){console.error("Failed to update notification channels:",ve),alert(((ze=(de=ve.response)==null?void 0:de.data)==null?void 0:ze.message)||"Failed to update notification channels")}finally{O(!1)}},se=async U=>{var ae,we;const[oe,de]=U.split(":").map(Number),ze=Math.round(de/5)*5,ve=ze===60?(oe+1)%24:oe,J=ze===60?0:ze,le=`${String(ve).padStart(2,"0")}:${String(J).padStart(2,"0")}`;_(le),j(!0);try{await qe.updateNotificationTime(le)}catch(ke){console.error("Failed to update notification time:",ke),alert(((we=(ae=ke.response)==null?void 0:ae.data)==null?void 0:we.message)||"Failed to update notification time");const Gr=await qe.getNotificationChannels();_(Gr.data.notification_time||"09:00")}finally{j(!1)}},re=async()=>{var U,oe;if(confirm("This will send reminder emails for all reminders due today. Continue?")){rt(!0),bt("");try{const de=await qe.triggerReminders();bt(de.data.message||"Reminders triggered successfully.")}catch(de){console.error("Failed to trigger reminders:",de),bt(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to trigger reminders. Please check server logs.")}finally{rt(!1)}}},X=async()=>{var U,oe;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){lt(!0),Ir("");try{const de=await qe.rescheduleCronJobs();Ir(de.data.message||"Cron jobs rescheduled successfully.")}catch(de){console.error("Failed to reschedule cron jobs:",de),Ir(((oe=(U=de.response)==null?void 0:U.data)==null?void 0:oe.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{lt(!1)}}};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:U=>U.target.select()}),u.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),u.jsxs("div",{className:"flex flex-wrap gap-2",children:[u.jsx("a",{href:i,className:"btn-primary",children:u.jsxs("span",{className:"flex items-center gap-1",children:[u.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),u.jsx("button",{onClick:M,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),u.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(fe,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Import Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),u.jsxs(fe,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Export Data"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),E?u.jsxs("div",{className:"animate-pulse",children:[u.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),u.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Email"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>A("email"),disabled:S,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:"Slack"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),u.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>A("slack"),disabled:S||!x,className:"sr-only peer"}),u.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),u.jsx("div",{children:x?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),v&&u.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",v]})]}),u.jsx("button",{onClick:Lt,disabled:Q,className:"btn-secondary text-sm",children:Q?"Disconnecting...":"Disconnect"})]})}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")||D.includes("disconnected")?"text-green-600":"text-red-600"}`,children:D}),f.includes("slack")&&u.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[u.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),xe?u.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):u.jsxs(u.Fragment,{children:[L.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:L.map(U=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(U.id),onChange:()=>Rr(U.id),className:"mr-2 cursor-pointer"}),u.jsx("span",{className:"text-sm",children:U.name})]},U.id))})]}),W.length>0&&u.jsxs("div",{className:"mb-4",children:[u.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),u.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:W.map(U=>u.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[u.jsx("input",{type:"checkbox",checked:K.includes(U.id),onChange:()=>Rr(U.id),className:"mr-2 cursor-pointer"}),u.jsxs("span",{className:"text-sm",children:[U.name,U.is_me&&u.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},U.id))})]}),L.length===0&&W.length===0&&!xe&&u.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),u.jsx("button",{onClick:$r,disabled:ge,className:"btn-primary text-sm mt-4",children:ge?"Saving...":"Save targets"})]})]})]}):u.jsxs("div",{className:"space-y-3",children:[u.jsx("button",{onClick:nt,className:"btn-primary w-full",disabled:Q,children:"Connect Slack"}),D&&u.jsx("p",{className:`text-sm ${D.includes("successfully")?"text-green-600":"text-red-600"}`,children:D}),u.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),m&&!x&&u.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:u.jsxs("p",{className:"text-sm text-yellow-800",children:[u.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),u.jsxs("div",{children:[u.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),u.jsx("input",{type:"time",value:b,onChange:U=>se(U.target.value),className:"input",disabled:P,step:"300"}),b&&u.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[u.jsxs("p",{className:"text-gray-700",children:[u.jsx("span",{className:"font-medium",children:"UTC:"})," ",b]}),u.jsxs("p",{className:"text-gray-700 mt-1",children:[u.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[U,oe]=b.split(":"),de=new Date;return de.setUTCHours(parseInt(U),parseInt(oe),0,0),de.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return b}})()]})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(fe,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"Relationship Types"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),u.jsxs(fe,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[u.jsx("p",{className:"font-medium",children:"User Approval"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),u.jsxs("button",{onClick:re,disabled:$e,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Trigger reminders"}),u.jsx("p",{className:"text-sm text-gray-500",children:$e?"Sending...":"Manually send reminders for today"}),rr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:rr})]}),u.jsxs("button",{onClick:X,disabled:fr,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[u.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),u.jsx("p",{className:"text-sm text-gray-500",children:fr?"Rescheduling...":"Reschedule all user reminder cron jobs"}),jr&&u.jsx("p",{className:"text-sm text-green-600 mt-1",children:jr})]})]})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),u.jsxs("p",{className:"text-sm text-gray-600",children:[mu," v",t.version||"1.0.0",u.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function lR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=I.useState(""),[a,o]=I.useState(!1),l=I.useRef(null),c=I.useRef(null),d=I.useMemo(()=>r.sort((x,g)=>{const v=(x.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return v<w?-1:v>w?1:0}),[r]),h=I.useMemo(()=>{if(!i)return d.slice(0,10);const x=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(x)).slice(0,10)},[d,i]),f=I.useMemo(()=>d.find(x=>x.id===parseInt(t,10)),[d,t]);I.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{e(x?x.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"relative",children:f&&!a?u.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[u.jsx("span",{children:y}),u.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:u.jsx(Wn,{className:"w-4 h-4"})})]}):u.jsx("input",{ref:l,type:"text",value:i,onChange:x=>{s(x.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&u.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?u.jsxs(u.Fragment,{children:[u.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:u.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(x=>u.jsx("button",{type:"button",onClick:()=>p(x.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===x.id.toString()?"bg-primary-50":""}`,children:x.name},x.id))]}):u.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function Xse(){En("Relationship Types - Settings");const t=pt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(aK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),u.jsx(fe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=yt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),[s,a]=I.useState(null),[o,l]=I.useState(""),[c,d]=I.useState(""),[h,f]=I.useState(""),[p,m]=I.useState(""),[y,x]=I.useState(!1),g=Xe({mutationFn:async({id:T,name:P,inverseId:j})=>{const D={name:P};return j&&(D.acf={inverse_relationship_type:parseInt(j,10)}),We.updateRelationshipType(T,D)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Xe({mutationFn:async({name:T,inverseId:P})=>{const j={name:T};return P&&(j.acf={inverse_relationship_type:parseInt(P,10)}),We.createRelationshipType(j)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),x(!1)}}),w=Xe({mutationFn:T=>We.deleteRelationshipType(T),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=Xe({mutationFn:()=>We.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return u.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):u.jsx(nK,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=T=>{var j;a(T.id),l(T.name);const P=(j=T.acf)==null?void 0:j.inverse_relationship_type;d(P?P.toString():"")},N=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},O=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(T,P)=>{window.confirm(`Are you sure you want to delete "${P}"? This cannot be undone.`)&&w.mutate(T)};return i?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):u.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:u.jsxs("div",{className:"card p-6",children:[u.jsxs("div",{className:"flex items-center justify-between mb-6",children:[u.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),u.jsx("div",{className:"flex gap-2",children:!y&&u.jsxs(u.Fragment,{children:[u.jsx(_,{}),u.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center gap-2",children:[u.jsx(Zt,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&u.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[u.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:h,onChange:T=>f(T.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(lR,{value:p,onChange:m,relationshipTypes:n}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:O,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(ga,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsx("button",{onClick:()=>{x(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),u.jsx("div",{className:"space-y-2",children:n.length===0?u.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(T=>{var Q,H;const P=s===T.id,j=(Q=T.acf)==null?void 0:Q.inverse_relationship_type,D=typeof j=="object"&&(j!=null&&j.ID)?j.ID:typeof j=="object"&&(j!=null&&j.id)?j.id:j,F=D?n.find(L=>L.id===D):null;return u.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:P?u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Name *"}),u.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),u.jsxs("div",{children:[u.jsx("label",{className:"label",children:"Inverse Relationship Type"}),u.jsx(lR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:T.id}),u.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?u.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):u.jsx(ga,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Save"})]}),u.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2",children:[u.jsx(Wn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex-1",children:[u.jsx("div",{className:"font-medium",children:T.name}),F&&u.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",u.jsx("span",{className:"font-medium",children:F.name})]}),!F&&((H=T.acf)==null?void 0:H.inverse_relationship_type)===null&&u.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsx("button",{onClick:()=>E(T),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:u.jsx(qre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:()=>C(T.id,T.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:u.jsx(ii,{className:"w-4 h-4"})})]})]})},T.id)})})]})})}function Jse(){var g,v,w;const[t,e]=I.useState(null),[r,n]=I.useState(""),[i,s]=I.useState(!1),[a,o]=I.useState(null),l=pt(),c=Xe({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await ce.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{o(b)},onError:b=>{var _,E;o({valid:!1,error:((E=(_=b.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Xe({mutationFn:async({file:b,monicaUrl:_})=>{const E=new FormData;return E.append("file",b),E.append("monica_url",_),(await ce.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=I.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&m(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&m(b.target.files[0])},m=b=>{if(!b.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(b),o(null),d.reset(),c.mutate(b)},y=()=>{if(!r.trim()){o(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},x=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(hu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),u.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((b,_)=>u.jsx("li",{children:b},_))})]})]}),u.jsx("button",{onClick:x,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(No,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(nm,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(pu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&u.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(hu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[u.jsxs("p",{children:["Export format: ",a.version]}),u.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),u.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),u.jsxs("p",{children:["Notes: ",a.summary.notes]}),u.jsxs("p",{children:["Dates: ",a.summary.reminders]}),u.jsxs("p",{children:["Photos: ",a.summary.photos]}),u.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"space-y-2",children:[u.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),u.jsxs("div",{className:"relative",children:[u.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:u.jsx(rK,{className:"h-4 w-4 text-gray-400"})}),u.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&u.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),u.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(No,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(pu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(v=d.error.response)==null?void 0:v.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function Zse(){var y,x,g;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),a=pt(),o=Xe({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ce.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var w,b;s({valid:!1,error:((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to validate file"})}}),l=Xe({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ce.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=I.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const w=v.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(hu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),u.jsxs("p",{children:["Organizations created: ",l.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,w)=>u.jsx("li",{children:v},w))})]})]}),u.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[u.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(No,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(nm,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(pu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(hu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ZV,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(tK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(uK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?u.jsxs(u.Fragment,{children:[u.jsx(No,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(pu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(x=l.error.response)==null?void 0:x.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function eae(){var b,_,E;const[t,e]=I.useState(null),[r,n]=I.useState(!1),[i,s]=I.useState(null),[a,o]=I.useState({}),l=pt(),c=Xe({mutationFn:async N=>{const S=new FormData;return S.append("file",N),(await ce.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:N=>{var S;if(s(N),((S=N.duplicates)==null?void 0:S.length)>0){const O={};N.duplicates.forEach(C=>{O[C.index]="merge"}),o(O)}},onError:N=>{var S,O;s({valid:!1,error:((O=(S=N.response)==null?void 0:S.data)==null?void 0:O.message)||"Failed to validate file"})}}),d=Xe({mutationFn:async({file:N,decisions:S})=>{const O=new FormData;return O.append("file",N),O.append("decisions",JSON.stringify(S)),(await ce.post("/prm/v1/import/google-contacts",O,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?n(!0):N.type==="dragleave"&&n(!1)},[]),f=I.useCallback(N=>{N.preventDefault(),N.stopPropagation(),n(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&m(N.dataTransfer.files[0])},[]),p=N=>{N.target.files&&N.target.files[0]&&m(N.target.files[0])},m=N=>{if(!N.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(N),s(null),o({}),d.reset(),c.mutate(N)},y=(N,S)=>{o(O=>({...O,[N]:S}))},x=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],w=v.length>0;return u.jsxs("div",{className:"space-y-4",children:[u.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),u.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),u.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[u.jsxs("li",{children:["Go to ",u.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),u.jsx("li",{children:'Click "Export" in the left sidebar'}),u.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?u.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(hu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),u.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[u.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),u.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),u.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),u.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),u.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),u.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),u.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((b=d.data.stats.errors)==null?void 0:b.length)>0&&u.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[u.jsx("p",{className:"font-medium",children:"Errors:"}),u.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((N,S)=>u.jsx("li",{children:N},S))})]})]}),u.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[u.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(No,{className:"h-8 w-8 text-primary-600 animate-spin"}),u.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(tP,{className:"h-8 w-8 text-green-600"}),u.jsx("p",{className:"font-medium text-gray-900",children:t.name}),u.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):u.jsxs("div",{className:"flex flex-col items-center gap-2",children:[u.jsx(pu,{className:"h-8 w-8 text-gray-400"}),u.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&u.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(hu,{className:"h-5 w-5 text-green-600 mt-0.5"}),u.jsxs("div",{className:"flex-1",children:[u.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),u.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx($i,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ms,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(ZV,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(uK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&u.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[u.jsx(tK,{className:"h-4 w-4"}),u.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&u.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(Ere,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),u.jsxs("div",{className:"flex-1",children:[u.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),u.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),u.jsx("div",{className:"mt-4 space-y-4",children:v.map(N=>u.jsx(tae,{duplicate:N,decision:a[N.index]||"merge",onDecision:S=>y(N.index,S)},N.index))})]})]})}),(i==null?void 0:i.valid)&&u.jsxs("div",{className:"flex gap-3",children:[u.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?u.jsxs(u.Fragment,{children:[u.jsx(No,{className:"h-4 w-4 animate-spin"}),u.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):u.jsxs(u.Fragment,{children:[u.jsx(pu,{className:"h-4 w-4"}),u.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),u.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&u.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:u.jsxs("div",{className:"flex items-start gap-3",children:[u.jsx(va,{className:"h-5 w-5 text-red-600 mt-0.5"}),u.jsxs("div",{children:[u.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),u.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function tae({duplicate:t,decision:e,onDecision:r}){var n,i;return u.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),u.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:u.jsx("span",{className:"text-lg",children:""})}),u.jsxs("div",{className:"flex-1 min-w-0",children:[u.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),u.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?u.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):u.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:u.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),u.jsxs("div",{className:"min-w-0",children:[u.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&u.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&u.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),u.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[u.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Are,{className:"h-4 w-4"}),"Update existing"]}),u.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Lre,{className:"h-4 w-4"}),"Create new"]}),u.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[u.jsx(Fre,{className:"h-4 w-4"}),"Skip"]})]})]})}const uR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:nm,component:Zse},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:tP,component:eae},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Tre,component:Jse}];function rae(){var n;En("Import - Settings");const[t,e]=I.useState("vcard"),r=(n=uR.find(i=>i.id===t))==null?void 0:n.component;return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(wn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),u.jsx("div",{className:"border-b border-gray-200 mb-6",children:u.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:uR.map(i=>{const s=i.icon,a=t===i.id;return u.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[u.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),u.jsxs("div",{className:"text-left",children:[u.jsx("span",{className:"block",children:i.name}),u.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&u.jsx(r,{})]})]})}function nae(){En("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(wn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),u.jsxs("div",{className:"card p-6",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(nm,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),u.jsx(_O,{className:"w-5 h-5 text-gray-400"})]}),u.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[u.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:u.jsx(tP,{className:"w-6 h-6 text-primary-600"})}),u.jsxs("div",{className:"flex-1",children:[u.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),u.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),u.jsx(_O,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function iae(){En("User Approval - Settings");const t=pt();if(!((window.prmConfig||{}).isAdmin||!1))return u.jsx("div",{className:"max-w-2xl mx-auto",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx(aK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),u.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),u.jsx(fe,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=yt({queryKey:["users"],queryFn:async()=>(await qe.getUsers()).data}),s=Xe({mutationFn:p=>qe.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Xe({mutationFn:p=>qe.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=Xe({mutationFn:p=>qe.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),l=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,m)=>{window.confirm(`Are you sure you want to delete ${m}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx(No,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return u.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[u.jsx(wn,{className:"w-4 h-4"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),u.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),u.jsxs("div",{className:"space-y-6",children:[h.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),u.jsx("div",{className:"space-y-3",children:h.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"font-medium",children:p.name}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email}),u.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>l(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[u.jsx(RI,{className:"w-4 h-4"}),"Approve"]}),u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(DI,{className:"w-4 h-4"}),"Deny"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(ii,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&u.jsxs("div",{children:[u.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),u.jsx("div",{className:"space-y-3",children:f.map(p=>u.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,u.jsx(RI,{className:"w-4 h-4 text-green-600"})]}),u.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),u.jsxs("div",{className:"flex gap-2",children:[u.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[u.jsx(DI,{className:"w-4 h-4"}),"Revoke Access"]}),u.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[u.jsx(ii,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&u.jsx("div",{className:"card p-8 text-center",children:u.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var cR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Le(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Nv={exports:{}},dR={},Nc,hR;function Kt(){if(hR)return Nc;hR=1;var t=function(e){return e&&e.Math===Math&&e};return Nc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof cR=="object"&&cR)||t(typeof Nc=="object"&&Nc)||function(){return this}()||Function("return this")(),Nc}var Ov,fR;function et(){return fR||(fR=1,Ov=function(t){try{return!!t()}catch{return!0}}),Ov}var Cv,pR;function Zd(){if(pR)return Cv;pR=1;var t=et();return Cv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Cv}var Pv,mR;function am(){if(mR)return Pv;mR=1;var t=Zd(),e=Function.prototype,r=e.apply,n=e.call;return Pv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Pv}var Tv,vR;function ot(){if(vR)return Tv;vR=1;var t=Zd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Tv=t?n:function(i){return function(){return r.apply(i,arguments)}},Tv}var jv,gR;function _s(){if(gR)return jv;gR=1;var t=ot(),e=t({}.toString),r=t("".slice);return jv=function(n){return r(e(n),8,-1)},jv}var Iv,yR;function MK(){if(yR)return Iv;yR=1;var t=_s(),e=ot();return Iv=function(r){if(t(r)==="Function")return e(r)},Iv}var Rv,bR;function or(){if(bR)return Rv;bR=1;var t=typeof document=="object"&&document.all;return Rv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Rv}var $v={},kv,xR;function Gt(){if(xR)return kv;xR=1;var t=et();return kv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),kv}var Dv,wR;function dn(){if(wR)return Dv;wR=1;var t=Zd(),e=Function.prototype.call;return Dv=t?e.bind(e):function(){return e.apply(e,arguments)},Dv}var Mv={},_R;function fP(){if(_R)return Mv;_R=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Mv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Mv}var qv,SR;function eh(){return SR||(SR=1,qv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),qv}var Av,ER;function om(){if(ER)return Av;ER=1;var t=ot(),e=et(),r=_s(),n=Object,i=t("".split);return Av=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,Av}var Fv,NR;function th(){return NR||(NR=1,Fv=function(t){return t==null}),Fv}var Lv,OR;function Ao(){if(OR)return Lv;OR=1;var t=th(),e=TypeError;return Lv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Lv}var Bv,CR;function Mi(){if(CR)return Bv;CR=1;var t=om(),e=Ao();return Bv=function(r){return t(e(r))},Bv}var zv,PR;function Kr(){if(PR)return zv;PR=1;var t=or();return zv=function(e){return typeof e=="object"?e!==null:t(e)},zv}var Uv,TR;function tr(){return TR||(TR=1,Uv={}),Uv}var Wv,jR;function Nn(){if(jR)return Wv;jR=1;var t=tr(),e=Kt(),r=or(),n=function(i){return r(i)?i:void 0};return Wv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Wv}var Hv,IR;function lr(){if(IR)return Hv;IR=1;var t=ot();return Hv=t({}.isPrototypeOf),Hv}var Vv,RR;function Du(){if(RR)return Vv;RR=1;var t=Kt(),e=t.navigator,r=e&&e.userAgent;return Vv=r?String(r):"",Vv}var Kv,$R;function rh(){if($R)return Kv;$R=1;var t=Kt(),e=Du(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Kv=o,Kv}var Gv,kR;function Mu(){if(kR)return Gv;kR=1;var t=rh(),e=et(),r=Kt(),n=r.String;return Gv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),Gv}var Yv,DR;function qK(){if(DR)return Yv;DR=1;var t=Mu();return Yv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Yv}var Qv,MR;function nh(){if(MR)return Qv;MR=1;var t=Nn(),e=or(),r=lr(),n=qK(),i=Object;return Qv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},Qv}var Xv,qR;function qu(){if(qR)return Xv;qR=1;var t=String;return Xv=function(e){try{return t(e)}catch{return"Object"}},Xv}var Jv,AR;function Ss(){if(AR)return Jv;AR=1;var t=or(),e=qu(),r=TypeError;return Jv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},Jv}var Zv,FR;function pP(){if(FR)return Zv;FR=1;var t=Ss(),e=th();return Zv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Zv}var eg,LR;function sae(){if(LR)return eg;LR=1;var t=dn(),e=or(),r=Kr(),n=TypeError;return eg=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},eg}var tg={exports:{}},rg,BR;function Au(){return BR||(BR=1,rg=!0),rg}var ng,zR;function aae(){if(zR)return ng;zR=1;var t=Kt(),e=Object.defineProperty;return ng=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},ng}var UR;function mP(){if(UR)return tg.exports;UR=1;var t=Au(),e=Kt(),r=aae(),n="__core-js_shared__",i=tg.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),tg.exports}var ig,WR;function Fu(){if(WR)return ig;WR=1;var t=mP();return ig=function(e,r){return t[e]||(t[e]=r||{})},ig}var sg,HR;function vi(){if(HR)return sg;HR=1;var t=Ao(),e=Object;return sg=function(r){return e(t(r))},sg}var ag,VR;function ur(){if(VR)return ag;VR=1;var t=ot(),e=vi(),r=t({}.hasOwnProperty);return ag=Object.hasOwn||function(i,s){return r(e(i),s)},ag}var og,KR;function lm(){if(KR)return og;KR=1;var t=ot(),e=0,r=Math.random(),n=t(1.1.toString);return og=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},og}var lg,GR;function cr(){if(GR)return lg;GR=1;var t=Kt(),e=Fu(),r=ur(),n=lm(),i=Mu(),s=qK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return lg=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},lg}var ug,YR;function AK(){if(YR)return ug;YR=1;var t=dn(),e=Kr(),r=nh(),n=pP(),i=sae(),s=cr(),a=TypeError,o=s("toPrimitive");return ug=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},ug}var cg,QR;function vP(){if(QR)return cg;QR=1;var t=AK(),e=nh();return cg=function(r){var n=t(r,"string");return e(n)?n:n+""},cg}var dg,XR;function FK(){if(XR)return dg;XR=1;var t=Kt(),e=Kr(),r=t.document,n=e(r)&&e(r.createElement);return dg=function(i){return n?r.createElement(i):{}},dg}var hg,JR;function LK(){if(JR)return hg;JR=1;var t=Gt(),e=et(),r=FK();return hg=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),hg}var ZR;function um(){if(ZR)return $v;ZR=1;var t=Gt(),e=dn(),r=fP(),n=eh(),i=Mi(),s=vP(),a=ur(),o=LK(),l=Object.getOwnPropertyDescriptor;return $v.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},$v}var fg,e$;function oae(){if(e$)return fg;e$=1;var t=et(),e=or(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return fg=n,fg}var pg,t$;function cm(){if(t$)return pg;t$=1;var t=MK(),e=Ss(),r=Zd(),n=t(t.bind);return pg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},pg}var mg={},vg,r$;function BK(){if(r$)return vg;r$=1;var t=Gt(),e=et();return vg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),vg}var gg,n$;function Es(){if(n$)return gg;n$=1;var t=Kr(),e=String,r=TypeError;return gg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},gg}var i$;function Hn(){if(i$)return mg;i$=1;var t=Gt(),e=LK(),r=BK(),n=Es(),i=vP(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return mg.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},mg}var yg,s$;function Lu(){if(s$)return yg;s$=1;var t=Gt(),e=Hn(),r=eh();return yg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},yg}var bg,a$;function Te(){if(a$)return bg;a$=1;var t=Kt(),e=am(),r=MK(),n=or(),i=um().f,s=oae(),a=tr(),o=cm(),l=Lu(),c=ur(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return bg=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,b,_,E,N,S,O,C,T,P;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),O=v[N],_&&(h.dontCallGetSet?(P=i(g,N),C=P&&P.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof O==typeof S)&&(h.bind&&_?T=o(S,t):h.wrap&&_?T=d(S):x&&n(S)?T=r(S):T=S,(h.sham||S&&S.sham||O&&O.sham)&&l(T,"sham",!0),l(v,N,T),x&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(b||!w[N])&&l(w,N,S)))},bg}var o$;function lae(){if(o$)return dR;o$=1;var t=Te(),e=Gt(),r=Hn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),dR}var l$;function uae(){if(l$)return Nv.exports;l$=1,lae();var t=tr(),e=t.Object,r=Nv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Nv.exports}var xg,u$;function zK(){if(u$)return xg;u$=1;var t=uae();return xg=t,xg}var wg,c$;function cae(){if(c$)return wg;c$=1;var t=zK();return wg=t,wg}var _g,d$;function dae(){if(d$)return _g;d$=1;var t=cae();return _g=t,_g}var Sg,h$;function hae(){return h$||(h$=1,Sg=dae()),Sg}var fae=hae(),pae=Le(fae),f$={},Eg,p$;function Fo(){if(p$)return Eg;p$=1;var t=_s();return Eg=Array.isArray||function(r){return t(r)==="Array"},Eg}var Ng,m$;function mae(){if(m$)return Ng;m$=1;var t=Math.ceil,e=Math.floor;return Ng=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Ng}var Og,v$;function Bu(){if(v$)return Og;v$=1;var t=mae();return Og=function(e){var r=+e;return r!==r||r===0?0:t(r)},Og}var Cg,g$;function UK(){if(g$)return Cg;g$=1;var t=Bu(),e=Math.min;return Cg=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Cg}var Pg,y$;function Ea(){if(y$)return Pg;y$=1;var t=UK();return Pg=function(e){return t(e.length)},Pg}var Tg,b$;function WK(){if(b$)return Tg;b$=1;var t=TypeError,e=9007199254740991;return Tg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Tg}var jg,x$;function dm(){if(x$)return jg;x$=1;var t=Gt(),e=Hn(),r=eh();return jg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},jg}var Ig,w$;function gP(){if(w$)return Ig;w$=1;var t=cr(),e=t("toStringTag"),r={};return r[e]="z",Ig=String(r)==="[object z]",Ig}var Rg,_$;function Na(){if(_$)return Rg;_$=1;var t=gP(),e=or(),r=_s(),n=cr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return Rg=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Rg}var $g,S$;function vae(){if(S$)return $g;S$=1;var t=ot(),e=or(),r=mP(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),$g=r.inspectSource,$g}var kg,E$;function HK(){if(E$)return kg;E$=1;var t=ot(),e=et(),r=or(),n=Na(),i=Nn(),s=vae(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,kg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,kg}var Dg,N$;function gae(){if(N$)return Dg;N$=1;var t=Fo(),e=HK(),r=Kr(),n=cr(),i=n("species"),s=Array;return Dg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Dg}var Mg,O$;function yP(){if(O$)return Mg;O$=1;var t=gae();return Mg=function(e,r){return new(t(e))(r===0?0:r)},Mg}var qg,C$;function ih(){if(C$)return qg;C$=1;var t=et(),e=cr(),r=rh(),n=e("species");return qg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},qg}var P$;function VK(){if(P$)return f$;P$=1;var t=Te(),e=et(),r=Fo(),n=Kr(),i=vi(),s=Ea(),a=WK(),o=dm(),l=yP(),c=ih(),d=cr(),h=rh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),b=0,_,E,N,S,O;for(_=-1,N=arguments.length;_<N;_++)if(O=_===-1?v:arguments[_],m(O))for(S=s(O),a(b+S),E=0;E<S;E++,b++)E in O&&o(w,b,O[E]);else a(b+1),o(w,b++,O);return w.length=b,w}}),f$}var T$={},j$={},Ag,I$;function Oa(){if(I$)return Ag;I$=1;var t=Na(),e=String;return Ag=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Ag}var Fg={},Lg,R$;function bP(){if(R$)return Lg;R$=1;var t=Bu(),e=Math.max,r=Math.min;return Lg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Lg}var Bg,$$;function yae(){if($$)return Bg;$$=1;var t=Mi(),e=bP(),r=Ea(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Bg={includes:n(!0),indexOf:n(!1)},Bg}var zg,k$;function sh(){return k$||(k$=1,zg={}),zg}var Ug,D$;function KK(){if(D$)return Ug;D$=1;var t=ot(),e=ur(),r=Mi(),n=yae().indexOf,i=sh(),s=t([].push);return Ug=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Ug}var Wg,M$;function xP(){return M$||(M$=1,Wg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Wg}var Hg,q$;function hm(){if(q$)return Hg;q$=1;var t=KK(),e=xP();return Hg=Object.keys||function(n){return t(n,e)},Hg}var A$;function wP(){if(A$)return Fg;A$=1;var t=Gt(),e=BK(),r=Hn(),n=Es(),i=Mi(),s=hm();return Fg.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Fg}var Vg,F$;function bae(){if(F$)return Vg;F$=1;var t=Nn();return Vg=t("document","documentElement"),Vg}var Kg,L$;function fm(){if(L$)return Kg;L$=1;var t=Fu(),e=lm(),r=t("keys");return Kg=function(n){return r[n]||(r[n]=e(n))},Kg}var Gg,B$;function ah(){if(B$)return Gg;B$=1;var t=Es(),e=wP(),r=xP(),n=sh(),i=bae(),s=FK(),a=fm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,Gg=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},Gg}var Yg={},z$;function pm(){if(z$)return Yg;z$=1;var t=KK(),e=xP(),r=e.concat("length","prototype");return Yg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Yg}var Qg={},Xg,U$;function zu(){if(U$)return Xg;U$=1;var t=ot();return Xg=t([].slice),Xg}var W$;function GK(){if(W$)return Qg;W$=1;var t=_s(),e=Mi(),r=pm().f,n=zu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Qg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Qg}var Jg={},H$;function mm(){return H$||(H$=1,Jg.f=Object.getOwnPropertySymbols),Jg}var Zg,V$;function oh(){if(V$)return Zg;V$=1;var t=Lu();return Zg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Zg}var ey,K$;function _P(){if(K$)return ey;K$=1;var t=Hn();return ey=function(e,r,n){return t.f(e,r,n)},ey}var ty={},G$;function vm(){if(G$)return ty;G$=1;var t=cr();return ty.f=t,ty}var ry,Y$;function Ct(){if(Y$)return ry;Y$=1;var t=tr(),e=ur(),r=vm(),n=Hn().f;return ry=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ry}var ny,Q$;function YK(){if(Q$)return ny;Q$=1;var t=dn(),e=Nn(),r=cr(),n=oh();return ny=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},ny}var iy,X$;function xae(){if(X$)return iy;X$=1;var t=gP(),e=Na();return iy=t?{}.toString:function(){return"[object "+e(this)+"]"},iy}var sy,J$;function Lo(){if(J$)return sy;J$=1;var t=gP(),e=Hn().f,r=Lu(),n=ur(),i=xae(),s=cr(),a=s("toStringTag");return sy=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},sy}var ay,Z$;function wae(){if(Z$)return ay;Z$=1;var t=Kt(),e=or(),r=t.WeakMap;return ay=e(r)&&/native code/.test(String(r)),ay}var oy,ek;function lh(){if(ek)return oy;ek=1;var t=wae(),e=Kt(),r=Kr(),n=Lu(),i=ur(),s=mP(),a=fm(),o=sh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(l);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return oy={set:h,get:f,has:p,enforce:m,getterFor:y},oy}var ly,tk;function Uu(){if(tk)return ly;tk=1;var t=cm(),e=ot(),r=om(),n=vi(),i=Ea(),s=yP(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,v),S=0,O=w||s,C=c?O(x,E):d||m?O(x,0):void 0,T,P;E>S;S++)if((y||S in _)&&(T=_[S],P=N(T,S,b),l))if(c)C[S]=P;else if(P)switch(l){case 3:return!0;case 5:return T;case 6:return S;case 2:a(C,T)}else switch(l){case 4:return!1;case 7:a(C,T)}return p?-1:h||f?f:C}};return ly={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},ly}var rk;function _ae(){if(rk)return j$;rk=1;var t=Te(),e=Kt(),r=dn(),n=ot(),i=Au(),s=Gt(),a=Mu(),o=et(),l=ur(),c=lr(),d=Es(),h=Mi(),f=vP(),p=Oa(),m=eh(),y=ah(),x=hm(),g=pm(),v=GK(),w=mm(),b=um(),_=Hn(),E=wP(),N=fP(),S=oh(),O=_P(),C=Fu(),T=fm(),P=sh(),j=lm(),D=cr(),F=vm(),Q=Ct(),H=YK(),L=Lo(),V=lh(),W=Uu().forEach,z=T("hidden"),K="Symbol",he="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[he],Ee=e.Symbol,$e=Ee&&Ee[he],rt=e.RangeError,rr=e.TypeError,bt=e.QObject,fr=b.f,lt=_.f,jr=v.f,Ir=N.f,_r=n([].push),nt=C("symbols"),Lt=C("op-symbols"),Rr=C("wks"),$r=!bt||!bt[he]||!bt[he].findChild,$=function(ve,J,le){var ae=fr(ge,J);ae&&delete ge[J],lt(ve,J,le),ae&&ve!==ge&&lt(ge,J,ae)},M=s&&o(function(){return y(lt({},"a",{get:function(){return lt(this,"a",{value:7}).a}})).a!==7})?$:lt,A=function(ve,J){var le=nt[ve]=y($e);return xe(le,{type:K,tag:ve,description:J}),s||(le.description=J),le},se=function(J,le,ae){J===ge&&se(Lt,le,ae),d(J);var we=f(le);return d(ae),l(nt,we)?(ae.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),ae=y(ae,{enumerable:m(0,!1)})):(l(J,z)||lt(J,z,m(1,y(null))),J[z][we]=!0),M(J,we,ae)):lt(J,we,ae)},re=function(J,le){d(J);var ae=h(le),we=x(ae).concat(ze(ae));return W(we,function(ke){(!s||r(U,ae,ke))&&se(J,ke,ae[ke])}),J},X=function(J,le){return le===void 0?y(J):re(y(J),le)},U=function(J){var le=f(J),ae=r(Ir,this,le);return this===ge&&l(nt,le)&&!l(Lt,le)?!1:ae||!l(this,le)||!l(nt,le)||l(this,z)&&this[z][le]?ae:!0},oe=function(J,le){var ae=h(J),we=f(le);if(!(ae===ge&&l(nt,we)&&!l(Lt,we))){var ke=fr(ae,we);return ke&&l(nt,we)&&!(l(ae,z)&&ae[z][we])&&(ke.enumerable=!0),ke}},de=function(J){var le=jr(h(J)),ae=[];return W(le,function(we){!l(nt,we)&&!l(P,we)&&_r(ae,we)}),ae},ze=function(ve){var J=ve===ge,le=jr(J?Lt:h(ve)),ae=[];return W(le,function(we){l(nt,we)&&(!J||l(ge,we))&&_r(ae,nt[we])}),ae};return a||(Ee=function(){if(c($e,this))throw new rr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=j(J),ae=function(we){var ke=this===void 0?e:this;ke===ge&&r(ae,Lt,we),l(ke,z)&&l(ke[z],le)&&(ke[z][le]=!1);var Gr=m(1,we);try{M(ke,le,Gr)}catch(Pn){if(!(Pn instanceof rt))throw Pn;$(ke,le,Gr)}};return s&&$r&&M(ge,le,{configurable:!0,set:ae}),A(le,J)},$e=Ee[he],S($e,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(j(ve),ve)}),N.f=U,_.f=se,E.f=re,b.f=oe,g.f=v.f=de,w.f=ze,F.f=function(ve){return A(D(ve),ve)},s&&(O($e,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",U,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(x(Rr),function(ve){Q(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){$r=!0},useSimple:function(){$r=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),L(Ee,K),P[z]=!0,j$}var nk={},uy,ik;function QK(){if(ik)return uy;ik=1;var t=Mu();return uy=t&&!!Symbol.for&&!!Symbol.keyFor,uy}var sk;function Sae(){if(sk)return nk;sk=1;var t=Te(),e=Nn(),r=ur(),n=Oa(),i=Fu(),s=QK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),nk}var ak={},ok;function Eae(){if(ok)return ak;ok=1;var t=Te(),e=ur(),r=nh(),n=qu(),i=Fu(),s=QK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),ak}var lk={},cy,uk;function Nae(){if(uk)return cy;uk=1;var t=ot(),e=Fo(),r=or(),n=_s(),i=Oa(),s=t([].push);return cy=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},cy}var ck;function XK(){if(ck)return lk;ck=1;var t=Te(),e=Nn(),r=am(),n=dn(),i=ot(),s=et(),a=or(),o=nh(),l=zu(),c=Nae(),d=Mu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(O,C){var T=l(arguments),P=c(C);if(!(!a(P)&&(O===void 0||o(O))))return T[1]=function(j,D){if(a(P)&&(D=n(P,this,h(j),D)),!o(D))return D},r(f,null,T)},S=function(O,C,T){var P=m(T,C-1),j=m(T,C+1);return p(w,O)&&!p(b,j)||p(b,O)&&!p(w,P)?"\\u"+g(y(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,T,P){var j=l(arguments),D=r(_?N:f,null,j);return E&&typeof D=="string"?x(D,v,S):D}}),lk}var dk={},hk;function Oae(){if(hk)return dk;hk=1;var t=Te(),e=Mu(),r=et(),n=mm(),i=vi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),dk}var fk;function JK(){return fk||(fk=1,_ae(),Sae(),Eae(),XK(),Oae()),T$}var pk={},mk;function ZK(){if(mk)return pk;mk=1;var t=Ct();return t("asyncDispose"),pk}var vk={},gk;function Cae(){if(gk)return vk;gk=1;var t=Ct();return t("asyncIterator"),vk}var yk={},bk;function eG(){if(bk)return yk;bk=1;var t=Ct();return t("dispose"),yk}var xk={},wk;function Pae(){if(wk)return xk;wk=1;var t=Ct();return t("hasInstance"),xk}var _k={},Sk;function Tae(){if(Sk)return _k;Sk=1;var t=Ct();return t("isConcatSpreadable"),_k}var Ek={},Nk;function tG(){if(Nk)return Ek;Nk=1;var t=Ct();return t("iterator"),Ek}var Ok={},Ck;function jae(){if(Ck)return Ok;Ck=1;var t=Ct();return t("match"),Ok}var Pk={},Tk;function Iae(){if(Tk)return Pk;Tk=1;var t=Ct();return t("matchAll"),Pk}var jk={},Ik;function Rae(){if(Ik)return jk;Ik=1;var t=Ct();return t("replace"),jk}var Rk={},$k;function $ae(){if($k)return Rk;$k=1;var t=Ct();return t("search"),Rk}var kk={},Dk;function kae(){if(Dk)return kk;Dk=1;var t=Ct();return t("species"),kk}var Mk={},qk;function Dae(){if(qk)return Mk;qk=1;var t=Ct();return t("split"),Mk}var Ak={},Fk;function rG(){if(Fk)return Ak;Fk=1;var t=Ct(),e=YK();return t("toPrimitive"),e(),Ak}var Lk={},Bk;function Mae(){if(Bk)return Lk;Bk=1;var t=Nn(),e=Ct(),r=Lo();return e("toStringTag"),r(t("Symbol"),"Symbol"),Lk}var zk={},Uk;function qae(){if(Uk)return zk;Uk=1;var t=Ct();return t("unscopables"),zk}var Wk={},Hk;function Aae(){if(Hk)return Wk;Hk=1;var t=Kt(),e=Lo();return e(t.JSON,"JSON",!0),Wk}var dy,Vk;function Fae(){if(Vk)return dy;Vk=1,VK(),JK(),ZK(),Cae(),eG(),Pae(),Tae(),tG(),jae(),Iae(),Rae(),$ae(),kae(),Dae(),rG(),Mae(),qae(),Aae();var t=tr();return dy=t.Symbol,dy}var Kk={},hy,Gk;function Lae(){return Gk||(Gk=1,hy=function(){}),hy}var fy,Yk;function Wu(){return Yk||(Yk=1,fy={}),fy}var py,Qk;function Bae(){if(Qk)return py;Qk=1;var t=Gt(),e=ur(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return py={EXISTS:i,PROPER:s,CONFIGURABLE:a},py}var my,Xk;function zae(){if(Xk)return my;Xk=1;var t=et();return my=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),my}var vy,Jk;function nG(){if(Jk)return vy;Jk=1;var t=ur(),e=or(),r=vi(),n=fm(),i=zae(),s=n("IE_PROTO"),a=Object,o=a.prototype;return vy=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},vy}var gy,Zk;function iG(){if(Zk)return gy;Zk=1;var t=et(),e=or(),r=Kr(),n=ah(),i=nG(),s=oh(),a=cr(),o=Au(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),gy={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},gy}var yy,eD;function Uae(){if(eD)return yy;eD=1;var t=iG().IteratorPrototype,e=ah(),r=eh(),n=Lo(),i=Wu(),s=function(){return this};return yy=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},yy}var by,tD;function Wae(){if(tD)return by;tD=1;var t=ot(),e=Ss();return by=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},by}var xy,rD;function Hae(){if(rD)return xy;rD=1;var t=Kr();return xy=function(e){return t(e)||e===null},xy}var wy,nD;function Vae(){if(nD)return wy;nD=1;var t=Hae(),e=String,r=TypeError;return wy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},wy}var _y,iD;function Kae(){if(iD)return _y;iD=1;var t=Wae(),e=Kr(),r=Ao(),n=Vae();return _y=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),_y}var Sy,sD;function SP(){if(sD)return Sy;sD=1;var t=Te(),e=dn(),r=Au(),n=Bae(),i=or(),s=Uae(),a=nG(),o=Kae(),l=Lo(),c=Lu(),d=oh(),h=cr(),f=Wu(),p=iG(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Sy=function(N,S,O,C,T,P,j){s(O,S,C);var D=function(xe){if(xe===T&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new O(this,xe)};case b:return function(){return new O(this,xe)};case _:return function(){return new O(this,xe)}}return function(){return new O(this)}},F=S+" Iterator",Q=!1,H=N.prototype,L=H[v]||H["@@iterator"]||T&&H[T],V=!g&&L||D(T),W=S==="Array"&&H.entries||L,z,K,he;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==x&&(o?o(z,x):i(z[v])||d(z,v,E)),l(z,F,!0,!0),r&&(f[F]=E))),m&&T===b&&L&&L.name!==b&&(!r&&y?c(H,"name",b):(Q=!0,V=function(){return e(L,this)})),T)if(K={values:D(b),keys:P?V:D(w),entries:D(_)},j)for(he in K)(g||Q||!(he in H))&&d(H,he,K[he]);else t({target:S,proto:!0,forced:g||Q},K);return(!r||j)&&H[v]!==V&&d(H,v,V,{name:T}),f[S]=V,K},Sy}var Ey,aD;function EP(){return aD||(aD=1,Ey=function(t,e){return{value:t,done:e}}),Ey}var Ny,oD;function Ca(){if(oD)return Ny;oD=1;var t=Mi(),e=Lae(),r=Wu(),n=lh(),i=Hn().f,s=SP(),a=EP(),o=Au(),l=Gt(),c="Array Iterator",d=n.set,h=n.getterFor(c);Ny=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Ny}var Oy,lD;function Gae(){return lD||(lD=1,Oy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Oy}var uD;function Pa(){if(uD)return Kk;uD=1,Ca();var t=Gae(),e=Kt(),r=Lo(),n=Wu();for(var i in t)r(e[i],i),n[i]=n.Array;return Kk}var Cy,cD;function sG(){if(cD)return Cy;cD=1;var t=Fae();return Pa(),Cy=t,Cy}var dD={},hD;function Yae(){if(hD)return dD;hD=1;var t=cr(),e=Hn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),dD}var fD={},pD;function Qae(){return pD||(pD=1,ZK()),fD}var mD={},vD;function Xae(){return vD||(vD=1,eG()),mD}var gD={},yD;function Jae(){if(yD)return gD;yD=1;var t=Ct();return t("metadata"),gD}var Py,bD;function Zae(){if(bD)return Py;bD=1;var t=sG();return Yae(),Qae(),Xae(),Jae(),Py=t,Py}var xD={},Ty,wD;function aG(){if(wD)return Ty;wD=1;var t=Nn(),e=ot(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Ty=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Ty}var _D;function eoe(){if(_D)return xD;_D=1;var t=Te(),e=aG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),xD}var SD={},jy,ED;function oG(){if(ED)return jy;ED=1;for(var t=Fu(),e=Nn(),r=ot(),n=nh(),i=cr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return jy=function(y){if(a&&a(y))return!0;try{for(var x=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},jy}var ND;function toe(){if(ND)return SD;ND=1;var t=Te(),e=oG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),SD}var OD={},CD;function roe(){if(CD)return OD;CD=1;var t=Ct();return t("customMatcher"),OD}var PD={},TD;function noe(){if(TD)return PD;TD=1;var t=Ct();return t("observable"),PD}var jD={},ID;function ioe(){if(ID)return jD;ID=1;var t=Te(),e=aG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),jD}var RD={},$D;function soe(){if($D)return RD;$D=1;var t=Te(),e=oG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),RD}var kD={},DD;function aoe(){if(DD)return kD;DD=1;var t=Ct();return t("matcher"),kD}var MD={},qD;function ooe(){if(qD)return MD;qD=1;var t=Ct();return t("metadataKey"),MD}var AD={},FD;function loe(){if(FD)return AD;FD=1;var t=Ct();return t("patternMatch"),AD}var LD={},BD;function uoe(){if(BD)return LD;BD=1;var t=Ct();return t("replaceAll"),LD}var Iy,zD;function coe(){if(zD)return Iy;zD=1;var t=Zae();return eoe(),toe(),roe(),noe(),ioe(),soe(),aoe(),ooe(),loe(),uoe(),Iy=t,Iy}var Ry,UD;function doe(){return UD||(UD=1,Ry=coe()),Ry}var hoe=doe(),af=Le(hoe),WD={},$y,HD;function foe(){if(HD)return $y;HD=1;var t=ot(),e=Bu(),r=Oa(),n=Ao(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return $y={codeAt:o(!1),charAt:o(!0)},$y}var VD;function gm(){if(VD)return WD;VD=1;var t=foe().charAt,e=Oa(),r=lh(),n=SP(),i=EP(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),WD}var ky,KD;function poe(){if(KD)return ky;KD=1,Ca(),gm(),tG();var t=vm();return ky=t.f("iterator"),ky}var Dy,GD;function lG(){if(GD)return Dy;GD=1;var t=poe();return Pa(),Dy=t,Dy}var My,YD;function moe(){if(YD)return My;YD=1;var t=lG();return My=t,My}var qy,QD;function voe(){if(QD)return qy;QD=1;var t=moe();return qy=t,qy}var Ay,XD;function goe(){return XD||(XD=1,Ay=voe()),Ay}var yoe=goe(),boe=Le(yoe);function wd(t){"@babel/helpers - typeof";return wd=typeof af=="function"&&typeof boe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof af=="function"&&e.constructor===af&&e!==af.prototype?"symbol":typeof e},wd(t)}var Fy,JD;function xoe(){if(JD)return Fy;JD=1,rG();var t=vm();return Fy=t.f("toPrimitive"),Fy}var Ly,ZD;function woe(){if(ZD)return Ly;ZD=1;var t=xoe();return Ly=t,Ly}var By,eM;function _oe(){if(eM)return By;eM=1;var t=woe();return By=t,By}var zy,tM;function Soe(){if(tM)return zy;tM=1;var t=_oe();return zy=t,zy}var Uy,rM;function Eoe(){return rM||(rM=1,Uy=Soe()),Uy}var Noe=Eoe(),Ooe=Le(Noe);function Coe(t,e){if(wd(t)!="object"||!t)return t;var r=t[Ooe];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Poe(t){var e=Coe(t,"string");return wd(e)=="symbol"?e:e+""}function la(t,e,r){return(e=Poe(e))in t?pae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var nM={},Wy,iM;function Toe(){if(iM)return Wy;iM=1;var t=ot(),e=Ss(),r=Kr(),n=ur(),i=zu(),s=Zd(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return Wy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},Wy}var sM;function joe(){if(sM)return nM;sM=1;var t=Te(),e=Toe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),nM}var Hy,aM;function hn(){if(aM)return Hy;aM=1;var t=Kt(),e=tr();return Hy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Hy}var Vy,oM;function Ioe(){if(oM)return Vy;oM=1,joe();var t=hn();return Vy=t("Function","bind"),Vy}var Ky,lM;function Roe(){if(lM)return Ky;lM=1;var t=lr(),e=Ioe(),r=Function.prototype;return Ky=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Ky}var Gy,uM;function $oe(){if(uM)return Gy;uM=1;var t=Roe();return Gy=t,Gy}var Yy,cM;function koe(){return cM||(cM=1,Yy=$oe()),Yy}var Doe=koe(),uG=Le(Doe),dM={},Qy,hM;function Moe(){if(hM)return Qy;hM=1;var t=Ss(),e=vi(),r=om(),n=Ea(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return Qy={left:a(!1),right:a(!0)},Qy}var Xy,fM;function ym(){if(fM)return Xy;fM=1;var t=et();return Xy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Xy}var Jy,pM;function cG(){if(pM)return Jy;pM=1;var t=Kt(),e=Du(),r=_s(),n=function(i){return e.slice(0,i.length)===i};return Jy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),Jy}var Zy,mM;function qoe(){if(mM)return Zy;mM=1;var t=cG();return Zy=t==="NODE",Zy}var vM;function Aoe(){if(vM)return dM;vM=1;var t=Te(),e=Moe().left,r=ym(),n=rh(),i=qoe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),dM}var e0,gM;function Foe(){if(gM)return e0;gM=1,Aoe();var t=hn();return e0=t("Array","reduce"),e0}var t0,yM;function Loe(){if(yM)return t0;yM=1;var t=lr(),e=Foe(),r=Array.prototype;return t0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},t0}var r0,bM;function Boe(){if(bM)return r0;bM=1;var t=Loe();return r0=t,r0}var n0,xM;function zoe(){return xM||(xM=1,n0=Boe()),n0}var Uoe=zoe(),Woe=Le(Uoe),wM={},_M;function Hoe(){if(_M)return wM;_M=1;var t=Te(),e=Uu().filter,r=ih(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),wM}var i0,SM;function Voe(){if(SM)return i0;SM=1,Hoe();var t=hn();return i0=t("Array","filter"),i0}var s0,EM;function Koe(){if(EM)return s0;EM=1;var t=lr(),e=Voe(),r=Array.prototype;return s0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},s0}var a0,NM;function Goe(){if(NM)return a0;NM=1;var t=Koe();return a0=t,a0}var o0,OM;function Yoe(){return OM||(OM=1,o0=Goe()),o0}var Qoe=Yoe(),Nl=Le(Qoe),CM={},PM;function Xoe(){if(PM)return CM;PM=1;var t=Te(),e=Uu().map,r=ih(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),CM}var l0,TM;function Joe(){if(TM)return l0;TM=1,Xoe();var t=hn();return l0=t("Array","map"),l0}var u0,jM;function Zoe(){if(jM)return u0;jM=1;var t=lr(),e=Joe(),r=Array.prototype;return u0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},u0}var c0,IM;function ele(){if(IM)return c0;IM=1;var t=Zoe();return c0=t,c0}var d0,RM;function tle(){return RM||(RM=1,d0=ele()),d0}var rle=tle(),si=Le(rle),h0,$M;function nle(){return $M||($M=1,h0=sG()),h0}var ile=nle(),sle=Le(ile),kM={},DM;function ale(){if(DM)return kM;DM=1;var t=Te(),e=Fo(),r=HK(),n=Kr(),i=bP(),s=Ea(),a=Mi(),o=dm(),l=cr(),c=ih(),d=zu(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(N=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(N,S,v[b]);return N.length=S,N}}),kM}var f0,MM;function ole(){if(MM)return f0;MM=1,ale();var t=hn();return f0=t("Array","slice"),f0}var p0,qM;function lle(){if(qM)return p0;qM=1;var t=lr(),e=ole(),r=Array.prototype;return p0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},p0}var m0,AM;function ule(){if(AM)return m0;AM=1;var t=lle();return m0=t,m0}var v0,FM;function cle(){return FM||(FM=1,v0=ule()),v0}var dle=cle(),hle=Le(dle),LM={},g0,BM;function dG(){if(BM)return g0;BM=1;var t=Nn(),e=ot(),r=pm(),n=mm(),i=Es(),s=e([].concat);return g0=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},g0}var zM;function fle(){if(zM)return LM;zM=1;var t=Te(),e=dG();return t({target:"Reflect",stat:!0},{ownKeys:e}),LM}var y0,UM;function ple(){if(UM)return y0;UM=1,fle();var t=tr();return y0=t.Reflect.ownKeys,y0}var b0,WM;function mle(){if(WM)return b0;WM=1;var t=ple();return b0=t,b0}var x0,HM;function vle(){return HM||(HM=1,x0=mle()),x0}var gle=vle(),yle=Le(gle),VM={},KM;function ble(){if(KM)return VM;KM=1;var t=Te(),e=Fo();return t({target:"Array",stat:!0},{isArray:e}),VM}var w0,GM;function xle(){if(GM)return w0;GM=1,ble();var t=tr();return w0=t.Array.isArray,w0}var _0,YM;function wle(){if(YM)return _0;YM=1;var t=xle();return _0=t,_0}var S0,QM;function _le(){return QM||(QM=1,S0=wle()),S0}var Sle=_le(),_i=Le(Sle),XM={},JM;function Ele(){if(JM)return XM;JM=1;var t=Te(),e=vi(),r=hm(),n=et(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),XM}var E0,ZM;function Nle(){if(ZM)return E0;ZM=1,Ele();var t=tr();return E0=t.Object.keys,E0}var N0,eq;function Ole(){if(eq)return N0;eq=1;var t=Nle();return N0=t,N0}var O0,tq;function Cle(){return tq||(tq=1,O0=Ole()),O0}var Ple=Cle(),NP=Le(Ple),rq={},C0,nq;function Tle(){if(nq)return C0;nq=1;var t=Uu().forEach,e=ym(),r=e("forEach");return C0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},C0}var iq;function jle(){if(iq)return rq;iq=1;var t=Te(),e=Tle();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),rq}var P0,sq;function Ile(){if(sq)return P0;sq=1,jle();var t=hn();return P0=t("Array","forEach"),P0}var T0,aq;function Rle(){if(aq)return T0;aq=1;var t=Ile();return T0=t,T0}var j0,oq;function $le(){if(oq)return j0;oq=1;var t=Na(),e=ur(),r=lr(),n=Rle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return j0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},j0}var I0,lq;function kle(){return lq||(lq=1,I0=$le()),I0}var Dle=kle(),Co=Le(Dle),uq={},cq;function Mle(){if(cq)return uq;cq=1;var t=Te(),e=ot(),r=Fo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),uq}var R0,dq;function qle(){if(dq)return R0;dq=1,Mle();var t=hn();return R0=t("Array","reverse"),R0}var $0,hq;function Ale(){if(hq)return $0;hq=1;var t=lr(),e=qle(),r=Array.prototype;return $0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},$0}var k0,fq;function Fle(){if(fq)return k0;fq=1;var t=Ale();return k0=t,k0}var D0,pq;function Lle(){return pq||(pq=1,D0=Fle()),D0}var Ble=Lle(),zle=Le(Ble),mq={},M0,vq;function Ule(){if(vq)return M0;vq=1;var t=Gt(),e=Fo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return M0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},M0}var q0,gq;function hG(){if(gq)return q0;gq=1;var t=qu(),e=TypeError;return q0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},q0}var yq;function Wle(){if(yq)return mq;yq=1;var t=Te(),e=vi(),r=bP(),n=Bu(),i=Ea(),s=Ule(),a=WK(),o=yP(),l=dm(),c=hG(),d=ih(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,E,N,S,O,C;for(b===0?_=E=0:b===1?(_=0,E=v-w):(_=b-2,E=p(f(n(x),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)O=w+S,O in g&&l(N,S,g[O]);if(N.length=E,_<E){for(S=w;S<v-E;S++)O=S+E,C=S+_,O in g?g[C]=g[O]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)O=S+E-1,C=S+_-1,O in g?g[C]=g[O]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),mq}var A0,bq;function Hle(){if(bq)return A0;bq=1,Wle();var t=hn();return A0=t("Array","splice"),A0}var F0,xq;function Vle(){if(xq)return F0;xq=1;var t=lr(),e=Hle(),r=Array.prototype;return F0=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},F0}var L0,wq;function Kle(){if(wq)return L0;wq=1;var t=Vle();return L0=t,L0}var B0,_q;function Gle(){return _q||(_q=1,B0=Kle()),B0}var Yle=Gle(),fG=Le(Yle),Sq={},z0,Eq;function Qle(){if(Eq)return z0;Eq=1;var t=Gt(),e=ot(),r=dn(),n=et(),i=hm(),s=mm(),a=fP(),o=vi(),l=om(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return z0=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=l(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,z0}var Nq;function Xle(){if(Nq)return Sq;Nq=1;var t=Te(),e=Qle();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Sq}var U0,Oq;function Jle(){if(Oq)return U0;Oq=1,Xle();var t=tr();return U0=t.Object.assign,U0}var W0,Cq;function Zle(){if(Cq)return W0;Cq=1;var t=Jle();return W0=t,W0}var H0,Pq;function eue(){return Pq||(Pq=1,H0=Zle()),H0}var tue=eue(),rue=Le(tue),V0,Tq;function nue(){if(Tq)return V0;Tq=1,VK();var t=hn();return V0=t("Array","concat"),V0}var K0,jq;function iue(){if(jq)return K0;jq=1;var t=lr(),e=nue(),r=Array.prototype;return K0=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},K0}var G0,Iq;function sue(){if(Iq)return G0;Iq=1;var t=iue();return G0=t,G0}var Y0,Rq;function aue(){return Rq||(Rq=1,Y0=sue()),Y0}var oue=aue(),lue=Le(oue),$q={},kq;function uue(){if(kq)return $q;kq=1;var t=Te(),e=Gt(),r=ah();return t({target:"Object",stat:!0,sham:!e},{create:r}),$q}var Q0,Dq;function cue(){if(Dq)return Q0;Dq=1,uue();var t=tr(),e=t.Object;return Q0=function(n,i){return e.create(n,i)},Q0}var X0,Mq;function due(){if(Mq)return X0;Mq=1;var t=cue();return X0=t,X0}var J0,qq;function hue(){return qq||(qq=1,J0=due()),J0}var fue=hue(),pue=Le(fue),Aq={},Z0,Fq;function mue(){if(Fq)return Z0;Fq=1;var t=Bu(),e=Oa(),r=Ao(),n=RangeError;return Z0=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},Z0}var eb,Lq;function vue(){if(Lq)return eb;Lq=1;var t=ot(),e=UK(),r=Oa(),n=mue(),i=Ao(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return eb={start:l(!1),end:l(!0)},eb}var tb,Bq;function gue(){if(Bq)return tb;Bq=1;var t=ot(),e=et(),r=vue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return tb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,tb}var zq;function yue(){if(zq)return Aq;zq=1;var t=Te(),e=dn(),r=vi(),n=AK(),i=gue(),s=_s(),a=et(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),Aq}var rb,Uq;function bue(){if(Uq)return rb;Uq=1,yue(),XK();var t=tr(),e=am();return t.JSON||(t.JSON={stringify:JSON.stringify}),rb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},rb}var nb,Wq;function xue(){if(Wq)return nb;Wq=1;var t=bue();return nb=t,nb}var ib,Hq;function wue(){return Hq||(Hq=1,ib=xue()),ib}var _ue=wue(),Sue=Le(_ue),Vq={},Kq={},sb,Gq;function Eue(){if(Gq)return sb;Gq=1;var t=TypeError;return sb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},sb}var ab,Yq;function pG(){if(Yq)return ab;Yq=1;var t=Kt(),e=am(),r=or(),n=cG(),i=Du(),s=zu(),a=Eue(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return ab=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},ab}var Qq;function Nue(){if(Qq)return Kq;Qq=1;var t=Te(),e=Kt(),r=pG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Kq}var Xq={},Jq;function Oue(){if(Jq)return Xq;Jq=1;var t=Te(),e=Kt(),r=pG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Xq}var Zq;function Cue(){return Zq||(Zq=1,Nue(),Oue()),Vq}var ob,eA;function Pue(){if(eA)return ob;eA=1,Cue();var t=tr();return ob=t.setTimeout,ob}var lb,tA;function Tue(){return tA||(tA=1,lb=Pue()),lb}var jue=Tue(),Iue=Le(jue),ub={exports:{}},rA;function Rue(){return rA||(rA=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(ub)),ub.exports}var $ue=Rue(),kue=Le($ue);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function fi(){return fi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},fi.apply(this,arguments)}function Vn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function of(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var CO;typeof Object.assign!="function"?CO=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:CO=Object.assign;var Po=CO,nA=["","webkit","Moz","MS","ms","o"],Due=typeof document>"u"?{style:{}}:document.createElement("div"),Mue="function",Ol=Math.round,To=Math.abs,OP=Date.now;function bm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<nA.length;){if(r=nA[s],n=r?r+i:e,n in t)return n;s++}}var rs;typeof window>"u"?rs={}:rs=window;var mG=bm(Due.style,"touchAction"),vG=mG!==void 0;function que(){if(!vG)return!1;var t={},e=rs.CSS&&rs.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?rs.CSS.supports("touch-action",r):!0}),t}var gG="compute",yG="auto",PO="manipulation",co="none",_d="pan-x",Sd="pan-y",lf=que(),Aue=/mobile|tablet|ip(ad|hone|od)|android/i,bG="ontouchstart"in rs,Fue=bm(rs,"PointerEvent")!==void 0,Lue=bG&&Aue.test(navigator.userAgent),uh="touch",Bue="pen",CP="mouse",zue="kinect",Uue=25,Ur=1,Bo=2,Wt=4,ln=8,xp=1,ch=2,dh=4,hh=8,vu=16,ki=ch|dh,ho=hh|vu,xG=ki|ho,wG=["x","y"],wp=["clientX","clientY"];function ns(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function xm(t,e){return typeof t===Mue?t.apply(e&&e[0]||void 0,e):t}function Va(t,e){return t.indexOf(e)>-1}function Wue(t){if(Va(t,co))return co;var e=Va(t,_d),r=Va(t,Sd);return e&&r?co:e||r?e?_d:Sd:Va(t,PO)?PO:yG}var _G=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===gG&&(n=this.compute()),vG&&this.manager.element.style&&lf[n]&&(this.manager.element.style[mG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ns(this.manager.recognizers,function(i){xm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Wue(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Va(a,co)&&!lf[co],l=Va(a,Sd)&&!lf[Sd],c=Va(a,_d)&&!lf[_d];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&ki||c&&s&ho))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function PP(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function SG(t){var e=t.length;if(e===1)return{x:Ol(t[0].clientX),y:Ol(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Ol(r/e),y:Ol(n/e)}}function iA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Ol(t.pointers[r].clientX),clientY:Ol(t.pointers[r].clientY)},r++;return{timeStamp:OP(),pointers:e,center:SG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function _p(t,e,r){r||(r=wG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function TO(t,e,r){r||(r=wG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function EG(t,e){return t===e?xp:To(t)>=To(e)?t<0?ch:dh:e<0?hh:vu}function Hue(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Ur||s.eventType===Wt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function NG(t,e,r){return{x:e/t||0,y:r/t||0}}function Vue(t,e){return _p(e[0],e[1],wp)/_p(t[0],t[1],wp)}function Kue(t,e){return TO(e[1],e[0],wp)+TO(t[1],t[0],wp)}function Gue(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==ln&&(n>Uue||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=NG(n,l,c);s=d.x,a=d.y,i=To(d.x)>To(d.y)?d.x:d.y,o=EG(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Yue(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=iA(e)),i>1&&!r.firstMultiple?r.firstMultiple=iA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=SG(n);e.timeStamp=OP(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=TO(o,l),e.distance=_p(o,l),Hue(r,e),e.offsetDirection=EG(e.deltaX,e.deltaY);var c=NG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=To(c.x)>To(c.y)?c.x:c.y,e.scale=a?Vue(a.pointers,n):1,e.rotation=a?Kue(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Gue(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,PP(f,d)&&(d=f),e.target=d}function Que(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Ur&&n-i===0,a=e&(Wt|ln)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Yue(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Ed(t){return t.trim().split(/\s+/g)}function Kc(t,e,r){ns(Ed(e),function(n){t.addEventListener(n,r,!1)})}function Gc(t,e,r){ns(Ed(e),function(n){t.removeEventListener(n,r,!1)})}function sA(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Hu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){xm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Kc(this.element,this.evEl,this.domHandler),this.evTarget&&Kc(this.target,this.evTarget,this.domHandler),this.evWin&&Kc(sA(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Gc(this.element,this.evEl,this.domHandler),this.evTarget&&Gc(this.target,this.evTarget,this.domHandler),this.evWin&&Gc(sA(this.element),this.evWin,this.domHandler)},t}();function jo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Xue={pointerdown:Ur,pointermove:Bo,pointerup:Wt,pointercancel:ln,pointerout:ln},Jue={2:uh,3:Bue,4:CP,5:zue},OG="pointerdown",CG="pointermove pointerup pointercancel";rs.MSPointerEvent&&!rs.PointerEvent&&(OG="MSPointerDown",CG="MSPointerMove MSPointerUp MSPointerCancel");var PG=function(t){Vn(e,t);function e(){var n,i=e.prototype;return i.evEl=OG,i.evWin=CG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Xue[o],c=Jue[i.pointerType]||i.pointerType,d=c===uh,h=jo(s,i.pointerId,"pointerId");l&Ur&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Wt|ln)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Hu);function Nd(t){return Array.prototype.slice.call(t,0)}function TP(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];jo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Zue={touchstart:Ur,touchmove:Bo,touchend:Wt,touchcancel:ln},ece="touchstart touchmove touchend touchcancel",jP=function(t){Vn(e,t);function e(){var n;return e.prototype.evTarget=ece,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Zue[i.type],a=tce.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:uh,srcEvent:i})},e}(Hu);function tce(t,e){var r=Nd(t.touches),n=this.targetIds;if(e&(Ur|Bo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Nd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return PP(c.target,l)}),e===Ur)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Wt|ln)&&delete n[a[i].identifier],i++;if(o.length)return[TP(s.concat(o),"identifier",!0),o]}var rce={mousedown:Ur,mousemove:Bo,mouseup:Wt},nce="mousedown",ice="mousemove mouseup",IP=function(t){Vn(e,t);function e(){var n,i=e.prototype;return i.evEl=nce,i.evWin=ice,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=rce[i.type];s&Ur&&i.button===0&&(this.pressed=!0),s&Bo&&i.which!==1&&(s=Wt),this.pressed&&(s&Wt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:CP,srcEvent:i}))},e}(Hu),sce=2500,aA=25;function oA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,sce)}}function ace(t,e){t&Ur?(this.primaryTouch=e.changedPointers[0].identifier,oA.call(this,e)):t&(Wt|ln)&&oA.call(this,e)}function oce(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=aA&&a<=aA)return!0}return!1}var TG=function(){var t=function(e){Vn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===uh,h=c.pointerType===CP;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)ace.call(of(of(a)),l,c);else if(h&&oce.call(of(of(a)),c))return;a.callback(o,l,c)}},a.touch=new jP(a.manager,a.handler),a.mouse=new IP(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Hu);return t}();function lce(t){var e,r=t.options.inputClass;return r?e=r:Fue?e=PG:Lue?e=jP:bG?e=TG:e=IP,new e(t,Que)}function Cl(t,e,r){return Array.isArray(t)?(ns(t,r[e],r),!0):!1}var Rf=1,Ln=2,gu=4,ua=8,is=ua,Od=16,Pi=32,uce=1;function cce(){return uce++}function uf(t,e){var r=e.manager;return r?r.get(t):t}function lA(t){return t&Od?"cancel":t&ua?"end":t&gu?"move":t&Ln?"start":""}var fh=function(){function t(r){r===void 0&&(r={}),this.options=fi({enable:!0},r),this.id=cce(),this.manager=null,this.state=Rf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Po(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Cl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=uf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Cl(n,"dropRecognizeWith",this)?this:(n=uf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Cl(n,"requireFailure",this))return this;var i=this.requireFail;return n=uf(n,this),jo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Cl(n,"dropRequireFailure",this))return this;n=uf(n,this);var i=jo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ua&&a(i.options.event+lA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ua&&a(i.options.event+lA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Pi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Pi|Rf)))return!1;n++}return!0},e.recognize=function(n){var i=Po({},n);if(!xm(this.options.enable,[this,i])){this.reset(),this.state=Pi;return}this.state&(is|Od|Pi)&&(this.state=Rf),this.state=this.process(i),this.state&(Ln|gu|ua|Od)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),jO=function(t){Vn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[PO]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Ur&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Wt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||_p(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=is,s.tryEmit()},a.interval),Ln):is}return Pi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Pi},this.options.interval),Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===is&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(fh),yu=function(t){Vn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Ln|gu),l=this.attrTest(i);return o&&(a&ln||!l)?s|Od:o||l?a&Wt?s|ua:s&Ln?s|gu:Ln:Pi},e}(fh);function jG(t){return t===vu?"down":t===hh?"up":t===ch?"left":t===dh?"right":""}var RP=function(t){Vn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"pan",threshold:10,pointers:1,direction:xG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&ki&&s.push(Sd),i&ho&&s.push(_d),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&ki?(l=c===0?xp:c<0?ch:dh,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?xp:d<0?hh:vu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return yu.prototype.attrTest.call(this,i)&&(this.state&Ln||!(this.state&Ln)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=jG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(yu),IG=function(t){Vn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"swipe",threshold:10,velocity:.3,direction:ki|ho,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return RP.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(ki|ho)?a=i.overallVelocity:s&ki?a=i.overallVelocityX:s&ho&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&To(a)>this.options.velocity&&i.eventType&Wt},r.emit=function(i){var s=jG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(yu),RG=function(t){Vn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[co]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Ln)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(yu),$G=function(t){Vn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,fi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[co]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Ln)},e}(yu),kG=function(t){Vn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,fi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[yG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Wt|ln)&&!c)this.reset();else if(i.eventType&Ur)this.reset(),this._timer=setTimeout(function(){s.state=is,s.tryEmit()},a.time);else if(i.eventType&Wt)return is;return Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===is&&(i&&i.eventType&Wt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=OP(),this.manager.emit(this.options.event,this._input)))},e}(fh),DG={domEvents:!1,touchAction:gG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},uA=[[$G,{enable:!1}],[RG,{enable:!1},["rotate"]],[IG,{direction:ki}],[RP,{direction:ki},["swipe"]],[jO],[jO,{event:"doubletap",taps:2},["tap"]],[kG]],dce=1,cA=2;function dA(t,e){var r=t.element;if(r.style){var n;ns(t.options.cssProps,function(i,s){n=bm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function hce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var hA=function(){function t(r,n){var i=this;this.options=Po({},DG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=lce(this),this.touchAction=new _G(this,this.options.touchAction),dA(this,!0),ns(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Po(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?cA:dce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&is)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==cA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Ln|gu|ua)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof fh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Cl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Cl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=jo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ns(Ed(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ns(Ed(n),function(a){i?s[a]&&s[a].splice(jo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&hce(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&dA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),fce={touchstart:Ur,touchmove:Bo,touchend:Wt,touchcancel:ln},pce="touchstart",mce="touchstart touchmove touchend touchcancel",vce=function(t){Vn(e,t);function e(){var n,i=e.prototype;return i.evTarget=pce,i.evWin=mce,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=fce[i.type];if(s===Ur&&(this.started=!0),!!this.started){var a=gce.call(this,i,s);s&(Wt|ln)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:uh,srcEvent:i})}},e}(Hu);function gce(t,e){var r=Nd(t.touches),n=Nd(t.changedTouches);return e&(Wt|ln)&&(r=TP(r.concat(n),"identifier",!0)),[r,n]}function MG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var qG=MG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),yce=MG(function(t,e){return qG(t,e,!0)},"merge","Use `assign`.");function bce(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Po(i,r)}function fA(t,e){return function(){return t.apply(e,arguments)}}var xce=function(){var t=function(r,n){return n===void 0&&(n={}),new hA(r,fi({recognizers:uA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=xG,t.DIRECTION_DOWN=vu,t.DIRECTION_LEFT=ch,t.DIRECTION_RIGHT=dh,t.DIRECTION_UP=hh,t.DIRECTION_HORIZONTAL=ki,t.DIRECTION_VERTICAL=ho,t.DIRECTION_NONE=xp,t.DIRECTION_DOWN=vu,t.INPUT_START=Ur,t.INPUT_MOVE=Bo,t.INPUT_END=Wt,t.INPUT_CANCEL=ln,t.STATE_POSSIBLE=Rf,t.STATE_BEGAN=Ln,t.STATE_CHANGED=gu,t.STATE_ENDED=ua,t.STATE_RECOGNIZED=is,t.STATE_CANCELLED=Od,t.STATE_FAILED=Pi,t.Manager=hA,t.Input=Hu,t.TouchAction=_G,t.TouchInput=jP,t.MouseInput=IP,t.PointerEventInput=PG,t.TouchMouseInput=TG,t.SingleTouchInput=vce,t.Recognizer=fh,t.AttrRecognizer=yu,t.Tap=jO,t.Pan=RP,t.Swipe=IG,t.Pinch=RG,t.Rotate=$G,t.Press=kG,t.on=Kc,t.off=Gc,t.each=ns,t.merge=yce,t.extend=qG,t.bindFn=fA,t.assign=Po,t.inherit=bce,t.bindFn=fA,t.prefixed=bm,t.toArray=Nd,t.inArray=jo,t.uniqueArray=TP,t.splitStr=Ed,t.boolOrFn=xm,t.hasParent=PP,t.addEventListeners=Kc,t.removeEventListeners=Gc,t.defaults=Po({},DG,{preset:uA}),t}();const AG=sle("DELETE");function wce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return FG({},t,...r)}function FG(){const t=Sp(...arguments);return BG(t),t}function Sp(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Sp(FG(e[0],e[1]),...hle(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of yle(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===AG?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!_i(n[s])&&!_i(i[s])?n[s]=Sp(n[s],i[s]):n[s]=LG(i[s]));return n}function LG(t){return _i(t)?si(t).call(t,e=>LG(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Sp({},t):t}function BG(t){for(const e of NP(t))t[e]===AG?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&BG(t[e])}function _ce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Sce=typeof window<"u"?window.Hammer||xce:function(){return _ce()};function Ji(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Sce(this._dom.overlay);r.on("tap",uG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Co(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Ece(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}kue(Ji.prototype);Ji.current=null;Ji.prototype.destroy=function(){this.deactivate();for(const r of zle(t=fG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ji.prototype.activate=function(){Ji.current&&Ji.current.deactivate(),Ji.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ji.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ji.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Ece(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var cb,pA;function Nce(){if(pA)return cb;pA=1,JK();var t=tr();return cb=t.Object.getOwnPropertySymbols,cb}var db,mA;function Oce(){if(mA)return db;mA=1;var t=Nce();return db=t,db}var hb,vA;function Cce(){return vA||(vA=1,hb=Oce()),hb}var Pce=Cce(),gA=Le(Pce),fb={exports:{}},yA={},bA;function Tce(){if(bA)return yA;bA=1;var t=Te(),e=et(),r=Mi(),n=um().f,i=Gt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),yA}var xA;function jce(){if(xA)return fb.exports;xA=1,Tce();var t=tr(),e=t.Object,r=fb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),fb.exports}var pb,wA;function Ice(){if(wA)return pb;wA=1;var t=jce();return pb=t,pb}var mb,_A;function Rce(){return _A||(_A=1,mb=Ice()),mb}var $ce=Rce(),zG=Le($ce),SA={},EA;function kce(){if(EA)return SA;EA=1;var t=Te(),e=Gt(),r=dG(),n=Mi(),i=um(),s=dm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),SA}var vb,NA;function Dce(){if(NA)return vb;NA=1,kce();var t=tr();return vb=t.Object.getOwnPropertyDescriptors,vb}var gb,OA;function Mce(){if(OA)return gb;OA=1;var t=Dce();return gb=t,gb}var yb,CA;function qce(){return CA||(CA=1,yb=Mce()),yb}var Ace=qce(),PA=Le(Ace),bb={exports:{}},TA={},jA;function Fce(){if(jA)return TA;jA=1;var t=Te(),e=Gt(),r=wP().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),TA}var IA;function Lce(){if(IA)return bb.exports;IA=1,Fce();var t=tr(),e=t.Object,r=bb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),bb.exports}var xb,RA;function Bce(){if(RA)return xb;RA=1;var t=Lce();return xb=t,xb}var wb,$A;function zce(){return $A||($A=1,wb=Bce()),wb}var Uce=zce(),Wce=Le(Uce),_b,kA;function Hce(){return kA||(kA=1,_b=zK()),_b}var Vce=Hce(),Kce=Le(Vce),DA={},MA={},Sb={exports:{}},Eb,qA;function Gce(){if(qA)return Eb;qA=1;var t=et();return Eb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Eb}var Nb,AA;function Yce(){if(AA)return Nb;AA=1;var t=et(),e=Kr(),r=_s(),n=Gce(),i=Object.isExtensible,s=t(function(){});return Nb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Nb}var Ob,FA;function Qce(){if(FA)return Ob;FA=1;var t=et();return Ob=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Ob}var LA;function UG(){if(LA)return Sb.exports;LA=1;var t=Te(),e=ot(),r=sh(),n=Kr(),i=ur(),s=Hn().f,a=pm(),o=GK(),l=Yce(),c=lm(),d=Qce(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),O=0,C=S.length;O<C;O++)if(S[O]===f){_(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=Sb.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,Sb.exports}var Cb,BA;function Xce(){if(BA)return Cb;BA=1;var t=cr(),e=Wu(),r=t("iterator"),n=Array.prototype;return Cb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Cb}var Pb,zA;function WG(){if(zA)return Pb;zA=1;var t=Na(),e=pP(),r=th(),n=Wu(),i=cr(),s=i("iterator");return Pb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Pb}var Tb,UA;function HG(){if(UA)return Tb;UA=1;var t=dn(),e=Ss(),r=Es(),n=qu(),i=WG(),s=TypeError;return Tb=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Tb}var jb,WA;function $P(){if(WA)return jb;WA=1;var t=dn(),e=Es(),r=pP();return jb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},jb}var Ib,HA;function kP(){if(HA)return Ib;HA=1;var t=cm(),e=dn(),r=Es(),n=qu(),i=Xce(),s=Ea(),a=lr(),o=HG(),l=WG(),c=$P(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Ib=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),E,N,S,O,C,T,P,j=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),b?_(F[0],F[1],j):_(F[0],F[1])):b?_(F,j):_(F)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,O=s(p);O>S;S++)if(C=D(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(T=v?p.next:E.next;!(P=e(T,E)).done;){try{C=D(P.value)}catch(F){c(E,"throw",F)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},Ib}var Rb,VA;function VG(){if(VA)return Rb;VA=1;var t=lr(),e=TypeError;return Rb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Rb}var $b,KA;function KG(){if(KA)return $b;KA=1;var t=Te(),e=Kt(),r=UG(),n=et(),i=Lu(),s=kP(),a=VG(),o=or(),l=Kr(),c=th(),d=Lo(),h=Hn().f,f=Uu().forEach,p=Gt(),m=lh(),y=m.set,x=m.getterFor;return $b=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,O={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,b,E),r.enable();else{C=v(function(j,D){y(a(j,T),{type:g,collection:new N}),c(D)||s(D,j[E],{that:j,AS_ENTRIES:b})});var T=C.prototype,P=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(j){var D=j==="add"||j==="set";j in S&&!(_&&j==="clear")&&i(T,j,function(F,Q){var H=P(this).collection;if(!D&&_&&!l(F))return j==="get"?void 0:!1;var L=H[j](F===0?0:F,Q);return D?this:L})}),_||h(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(C,g,!1,!0),O[g]=C,t({global:!0,forced:!0},O),_||w.setStrong(C,g,b),C},$b}var kb,GA;function Jce(){if(GA)return kb;GA=1;var t=oh();return kb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},kb}var Db,YA;function Zce(){if(YA)return Db;YA=1;var t=Nn(),e=_P(),r=cr(),n=Gt(),i=r("species");return Db=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},Db}var Mb,QA;function GG(){if(QA)return Mb;QA=1;var t=ah(),e=_P(),r=Jce(),n=cm(),i=VG(),s=th(),a=kP(),o=SP(),l=EP(),c=Zce(),d=Gt(),h=UG().fastKey,f=lh(),p=f.set,m=f.getterFor;return Mb={getConstructor:function(y,x,g,v){var w=y(function(S,O){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(O)||a(O,S[v],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=m(x),E=function(S,O,C){var T=_(S),P=N(S,O),j,D;return P?P.value=C:(T.last=P={index:D=h(O,!0),key:O,value:C,previous:j=T.last,next:null,removed:!1},T.first||(T.first=P),j&&(j.next=P),d?T.size++:S.size++,D!=="F"&&(T.index[D]=P)),S},N=function(S,O){var C=_(S),T=h(O),P;if(T!=="F")return C.index[T];for(P=C.first;P;P=P.next)if(P.key===O)return P};return r(b,{clear:function(){for(var O=this,C=_(O),T=C.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;C.first=C.last=null,C.index=t(null),d?C.size=0:O.size=0},delete:function(S){var O=this,C=_(O),T=N(O,S);if(T){var P=T.next,j=T.previous;delete C.index[T.index],T.removed=!0,j&&(j.next=P),P&&(P.previous=j),C.first===T&&(C.first=P),C.last===T&&(C.last=j),d?C.size--:O.size--}return!!T},forEach:function(O){for(var C=_(this),T=n(O,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:C.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(O){return!!N(this,O)}}),r(b,g?{get:function(O){var C=N(this,O);return C&&C.value},set:function(O,C){return E(this,O===0?0:O,C)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},Mb}var XA;function ede(){if(XA)return MA;XA=1;var t=KG(),e=GG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),MA}var JA;function tde(){return JA||(JA=1,ede()),DA}var ZA={},qb,eF;function YG(){return eF||(eF=1,qb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),qb}var Ab,tF;function rde(){if(tF)return Ab;tF=1;var t=Nn(),e=YG(),r=t("Map");return Ab={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},Ab}var rF;function nde(){if(rF)return ZA;rF=1;var t=Te(),e=ot(),r=Ss(),n=Ao(),i=kP(),s=rde(),a=Au(),o=et(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new l,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),ZA}var Fb,nF;function ide(){if(nF)return Fb;nF=1,Ca(),tde(),nde(),gm();var t=tr();return Fb=t.Map,Fb}var Lb,iF;function sde(){if(iF)return Lb;iF=1;var t=ide();return Pa(),Lb=t,Lb}var Bb,sF;function ade(){return sF||(sF=1,Bb=sde()),Bb}var ode=ade(),QG=Le(ode),aF={},oF;function lde(){if(oF)return aF;oF=1;var t=Te(),e=Uu().some,r=ym(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),aF}var zb,lF;function ude(){if(lF)return zb;lF=1,lde();var t=hn();return zb=t("Array","some"),zb}var Ub,uF;function cde(){if(uF)return Ub;uF=1;var t=lr(),e=ude(),r=Array.prototype;return Ub=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},Ub}var Wb,cF;function dde(){if(cF)return Wb;cF=1;var t=cde();return Wb=t,Wb}var Hb,dF;function hde(){return dF||(dF=1,Hb=dde()),Hb}var fde=hde(),pde=Le(fde),Vb,hF;function mde(){if(hF)return Vb;hF=1,Ca();var t=hn();return Vb=t("Array","keys"),Vb}var Kb,fF;function vde(){if(fF)return Kb;fF=1;var t=mde();return Kb=t,Kb}var Gb,pF;function gde(){if(pF)return Gb;pF=1,Pa();var t=Na(),e=ur(),r=lr(),n=vde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Gb=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},Gb}var Yb,mF;function yde(){return mF||(mF=1,Yb=gde()),Yb}var bde=yde(),ll=Le(bde),vF={},Qb,gF;function xde(){if(gF)return Qb;gF=1;var t=zu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return Qb=r,Qb}var Xb,yF;function wde(){if(yF)return Xb;yF=1;var t=Du(),e=t.match(/firefox\/(\d+)/i);return Xb=!!e&&+e[1],Xb}var Jb,bF;function _de(){if(bF)return Jb;bF=1;var t=Du();return Jb=/MSIE|Trident/.test(t),Jb}var Zb,xF;function Sde(){if(xF)return Zb;xF=1;var t=Du(),e=t.match(/AppleWebKit\/(\d+)\./);return Zb=!!e&&+e[1],Zb}var wF;function Ede(){if(wF)return vF;wF=1;var t=Te(),e=ot(),r=Ss(),n=vi(),i=Ea(),s=hG(),a=Oa(),o=et(),l=xde(),c=ym(),d=wde(),h=_de(),f=rh(),p=Sde(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,O,C,T;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(T=0;T<47;T++)m.push({k:O+T,v:C})}for(m.sort(function(P,j){return j.v-P.v}),T=0;T<m.length;T++)O=m[T].k.charAt(0),N.charAt(N.length-1)!==O&&(N+=O);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,E=function(N){return function(S,O){return O===void 0?-1:S===void 0?1:N!==void 0?+N(S,O)||0:a(S)>a(O)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(b)return S===void 0?y(O):y(O,S);var C=[],T=i(O),P,j;for(j=0;j<T;j++)j in O&&x(C,O[j]);for(l(C,E(S)),P=i(C),j=0;j<P;)O[j]=C[j++];for(;j<T;)s(O,j++);return O}}),vF}var e1,_F;function Nde(){if(_F)return e1;_F=1,Ede();var t=hn();return e1=t("Array","sort"),e1}var t1,SF;function Ode(){if(SF)return t1;SF=1;var t=lr(),e=Nde(),r=Array.prototype;return t1=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},t1}var r1,EF;function Cde(){if(EF)return r1;EF=1;var t=Ode();return r1=t,r1}var n1,NF;function Pde(){return NF||(NF=1,n1=Cde()),n1}var Tde=Pde(),IO=Le(Tde),i1,OF;function jde(){if(OF)return i1;OF=1,Ca();var t=hn();return i1=t("Array","values"),i1}var s1,CF;function Ide(){if(CF)return s1;CF=1;var t=jde();return s1=t,s1}var a1,PF;function Rde(){if(PF)return a1;PF=1,Pa();var t=Na(),e=ur(),r=lr(),n=Ide(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return a1=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},a1}var o1,TF;function $de(){return TF||(TF=1,o1=Rde()),o1}var kde=$de(),jF=Le(kde),l1,IF;function Dde(){return IF||(IF=1,l1=lG()),l1}var Mde=Dde(),Pl=Le(Mde),u1,RF;function qde(){if(RF)return u1;RF=1,Ca();var t=hn();return u1=t("Array","entries"),u1}var c1,$F;function Ade(){if($F)return c1;$F=1;var t=qde();return c1=t,c1}var d1,kF;function Fde(){if(kF)return d1;kF=1,Pa();var t=Na(),e=ur(),r=lr(),n=Ade(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return d1=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},d1}var h1,DF;function Lde(){return DF||(DF=1,h1=Fde()),h1}var Bde=Lde(),zde=Le(Bde);const pr=[];for(let t=0;t<256;++t)pr.push((t+256).toString(16).slice(1));function Ude(t,e=0){return(pr[t[e+0]]+pr[t[e+1]]+pr[t[e+2]]+pr[t[e+3]]+"-"+pr[t[e+4]]+pr[t[e+5]]+"-"+pr[t[e+6]]+pr[t[e+7]]+"-"+pr[t[e+8]]+pr[t[e+9]]+"-"+pr[t[e+10]]+pr[t[e+11]]+pr[t[e+12]]+pr[t[e+13]]+pr[t[e+14]]+pr[t[e+15]]).toLowerCase()}let f1;const Wde=new Uint8Array(16);function Hde(){if(!f1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");f1=crypto.getRandomValues.bind(crypto)}return f1(Wde)}const Vde=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var MF={randomUUID:Vde};function Kde(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Hde();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ude(n)}function Gde(t,e,r){return MF.randomUUID&&!t?MF.randomUUID():Kde(t)}function qF(t){return typeof t=="string"||typeof t=="number"}class DP{constructor(e){la(this,"_queue",[]),la(this,"_timeout",null),la(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new DP(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=Iue(()=>{this.flush()},this.delay))}flush(){var e,r;Co(e=fG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Ep{constructor(){la(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),la(this,"subscribe",Ep.prototype.on),la(this,"unsubscribe",Ep.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");Co(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=Nl(n=this._subscribers[e]).call(n,i=>i!==r)}}var AF={},FF={},LF;function Yde(){if(LF)return FF;LF=1;var t=KG(),e=GG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),FF}var BF;function Qde(){return BF||(BF=1,Yde()),AF}var zF={},p1,UF;function zo(){if(UF)return p1;UF=1;var t=qu(),e=TypeError;return p1=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},p1}var m1,WF;function Uo(){if(WF)return m1;WF=1;var t=Nn(),e=YG(),r=t("Set"),n=r.prototype;return m1={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},m1}var v1,HF;function Wo(){if(HF)return v1;HF=1;var t=dn();return v1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},v1}var g1,VF;function ph(){if(VF)return g1;VF=1;var t=Wo();return g1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},g1}var y1,KF;function MP(){if(KF)return y1;KF=1;var t=Uo(),e=ph(),r=t.Set,n=t.add;return y1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},y1}var b1,GF;function mh(){return GF||(GF=1,b1=function(t){return t.size}),b1}var x1,YF;function Xde(){return YF||(YF=1,x1=function(t){return{iterator:t,next:t.next,done:!1}}),x1}var w1,QF;function Ho(){if(QF)return w1;QF=1;var t=Ss(),e=Es(),r=dn(),n=Bu(),i=Xde(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},w1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},w1}var _1,XF;function Jde(){if(XF)return _1;XF=1;var t=zo(),e=Uo(),r=MP(),n=mh(),i=Ho(),s=ph(),a=Wo(),o=e.has,l=e.remove;return _1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},_1}var S1,JF;function Vo(){return JF||(JF=1,S1=function(){return!1}),S1}var ZF;function Zde(){if(ZF)return zF;ZF=1;var t=Te(),e=Jde(),r=et(),n=Vo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),zF}var e4={},E1,t4;function ehe(){if(t4)return E1;t4=1;var t=zo(),e=Uo(),r=mh(),n=Ho(),i=ph(),s=Wo(),a=e.Set,o=e.add,l=e.has;return E1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},E1}var r4;function the(){if(r4)return e4;r4=1;var t=Te(),e=et(),r=ehe(),n=Vo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),e4}var n4={},N1,i4;function rhe(){if(i4)return N1;i4=1;var t=zo(),e=Uo().has,r=mh(),n=Ho(),i=ph(),s=Wo(),a=$P();return N1=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},N1}var s4;function nhe(){if(s4)return n4;s4=1;var t=Te(),e=rhe(),r=Vo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),n4}var a4={},O1,o4;function ihe(){if(o4)return O1;o4=1;var t=zo(),e=mh(),r=ph(),n=Ho();return O1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},O1}var l4;function she(){if(l4)return a4;l4=1;var t=Te(),e=ihe(),r=Vo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),a4}var u4={},C1,c4;function ahe(){if(c4)return C1;c4=1;var t=zo(),e=Uo().has,r=mh(),n=Ho(),i=Wo(),s=$P();return C1=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},C1}var d4;function ohe(){if(d4)return u4;d4=1;var t=Te(),e=ahe(),r=Vo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),u4}var h4={},P1,f4;function lhe(){if(f4)return P1;f4=1;var t=zo(),e=Uo(),r=MP(),n=Ho(),i=Wo(),s=e.add,a=e.has,o=e.remove;return P1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},P1}var T1,p4;function XG(){return p4||(p4=1,T1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),T1}var m4;function uhe(){if(m4)return h4;m4=1;var t=Te(),e=lhe(),r=XG(),n=Vo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),h4}var v4={},j1,g4;function che(){if(g4)return j1;g4=1;var t=zo(),e=Uo().add,r=MP(),n=Ho(),i=Wo();return j1=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},j1}var y4;function dhe(){if(y4)return v4;y4=1;var t=Te(),e=che(),r=XG(),n=Vo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),v4}var I1,b4;function hhe(){if(b4)return I1;b4=1,Ca(),Qde(),Zde(),the(),nhe(),she(),ohe(),uhe(),dhe(),gm();var t=tr();return I1=t.Set,I1}var R1,x4;function fhe(){if(x4)return R1;x4=1;var t=hhe();return Pa(),R1=t,R1}var $1,w4;function phe(){return w4||(w4=1,$1=fhe()),$1}var mhe=phe(),k1=Le(mhe),D1,_4;function vhe(){if(_4)return D1;_4=1,Ca(),gm();var t=HG();return D1=t,D1}var M1,S4;function ghe(){if(S4)return M1;S4=1;var t=vhe();return Pa(),M1=t,M1}var q1,E4;function yhe(){if(E4)return q1;E4=1;var t=ghe();return q1=t,q1}var A1,N4;function bhe(){if(N4)return A1;N4=1;var t=yhe();return A1=t,A1}var F1,O4;function xhe(){return O4||(O4=1,F1=bhe()),F1}var L1,C4;function whe(){return C4||(C4=1,L1=xhe()),L1}var _he=whe(),B1=Le(_he);class Ka{constructor(e){this._pairs=e}*[Pl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return si(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return si(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=pue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new QG(this._pairs)}toIdSet(){return new k1(this.toIdArray())}toItemSet(){return new k1(this.toItemArray())}cache(){return new Ka([...this._pairs])}distinct(e){const r=new k1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ka({*[Pl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ka({*[Pl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=B1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=B1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ka({[Pl]:()=>{var r;return B1(IO(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function P4(t,e){var r=NP(t);if(gA){var n=gA(t);e&&(n=Nl(n).call(n,function(i){return zG(t,i).enumerable})),r.push.apply(r,n)}return r}function T4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Co(r=P4(Object(i),!0)).call(r,function(s){la(t,s,i[s])}):PA?Wce(t,PA(i)):Co(n=P4(Object(i))).call(n,function(s){Kce(t,s,zG(i,s))})}return t}function She(t,e){return t[e]==null&&(t[e]=Gde()),t}class bu extends Ep{get idProp(){return this._idProp}constructor(e,r){super(),la(this,"_queue",null),e&&!_i(e)&&(r=e,e=[]),this._options=r||{},this._data=new QG,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=DP.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(_i(e)){const s=si(e).call(e,a=>a[this._idProp]);if(pde(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=rue({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(_i(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?l(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return lue(n).call(n,i)}updateOnly(e,r){var n;_i(e)||(e=[e]);const i=si(n=si(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],c=wce(a,o);return this._data.set(l,c),{id:l,oldData:a,updatedData:c}});if(i.length){const s={items:si(i).call(i,a=>a.id),oldData:si(i).call(i,a=>a.oldData),data:si(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;qF(e)?(n=e,s=r):_i(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&Nl(s),l=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&l.push(c);else{var f;d=[...ll(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&l.push(c)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const x=l[m],g=x[this._idProp];p[g]=x}return p}else return n!=null?c??null:l}getIds(e){const r=this._data,n=e&&Nl(e),i=e&&e.order,s=[...ll(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,c=s.length;l<c;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,c=o.length;l<c;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&Nl(r),i=this._data,s=[...ll(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],c=this._data.get(l);c!=null&&(!n||n(c))&&e(c,l)}}map(e,r){const n=r&&Nl(r),i=[],s=this._data,a=[...ll(s).call(s)];for(let o=0,l=a.length;o<l;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Woe(n=_i(r)?r:NP(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;IO(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")IO(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=_i(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const c=l[this._idProp];c!=null&&(n.push(c),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(qF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...ll(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of jF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of jF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...ll(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=She(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Sue(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,T4(T4({},n),e)),r}stream(e){if(e){const n=this._data;return new Ka({*[Pl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ka({[Pl]:uG(r=zde(this._data)).call(r,this._data)})}}}function Ehe(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof Co(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof si(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function JG(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof Co(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof si(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Ehe(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var j4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Pe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var I4={},Oc,R4;function _t(){if(R4)return Oc;R4=1;var t=function(e){return e&&e.Math===Math&&e};return Oc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof j4=="object"&&j4)||t(typeof Oc=="object"&&Oc)||function(){return this}()||Function("return this")(),Oc}var z1,$4;function Be(){return $4||($4=1,z1=function(t){try{return!!t()}catch{return!0}}),z1}var U1,k4;function vh(){if(k4)return U1;k4=1;var t=Be();return U1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),U1}var W1,D4;function wm(){if(D4)return W1;D4=1;var t=vh(),e=Function.prototype,r=e.apply,n=e.call;return W1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),W1}var H1,M4;function He(){if(M4)return H1;M4=1;var t=vh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return H1=t?n:function(i){return function(){return r.apply(i,arguments)}},H1}var V1,q4;function qi(){if(q4)return V1;q4=1;var t=He(),e=t({}.toString),r=t("".slice);return V1=function(n){return r(e(n),8,-1)},V1}var K1,A4;function qP(){if(A4)return K1;A4=1;var t=qi(),e=He();return K1=function(r){if(t(r)==="Function")return e(r)},K1}var G1,F4;function dr(){if(F4)return G1;F4=1;var t=typeof document=="object"&&document.all;return G1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},G1}var Y1={},Q1,L4;function Ft(){if(L4)return Q1;L4=1;var t=Be();return Q1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Q1}var X1,B4;function fn(){if(B4)return X1;B4=1;var t=vh(),e=Function.prototype.call;return X1=t?e.bind(e):function(){return e.apply(e,arguments)},X1}var J1={},z4;function _m(){if(z4)return J1;z4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return J1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,J1}var Z1,U4;function gh(){return U4||(U4=1,Z1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Z1}var ex,W4;function Sm(){if(W4)return ex;W4=1;var t=He(),e=Be(),r=qi(),n=Object,i=t("".split);return ex=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,ex}var tx,H4;function Vu(){return H4||(H4=1,tx=function(t){return t==null}),tx}var rx,V4;function Ns(){if(V4)return rx;V4=1;var t=Vu(),e=TypeError;return rx=function(r){if(t(r))throw new e("Can't call method on "+r);return r},rx}var nx,K4;function gi(){if(K4)return nx;K4=1;var t=Sm(),e=Ns();return nx=function(r){return t(e(r))},nx}var ix,G4;function hr(){if(G4)return ix;G4=1;var t=dr();return ix=function(e){return typeof e=="object"?e!==null:t(e)},ix}var sx,Y4;function tt(){return Y4||(Y4=1,sx={}),sx}var ax,Q4;function On(){if(Q4)return ax;Q4=1;var t=tt(),e=_t(),r=dr(),n=function(i){return r(i)?i:void 0};return ax=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},ax}var ox,X4;function Yt(){if(X4)return ox;X4=1;var t=He();return ox=t({}.isPrototypeOf),ox}var lx,J4;function Ku(){if(J4)return lx;J4=1;var t=_t(),e=t.navigator,r=e&&e.userAgent;return lx=r?String(r):"",lx}var ux,Z4;function yh(){if(Z4)return ux;Z4=1;var t=_t(),e=Ku(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),ux=o,ux}var cx,e5;function Gu(){if(e5)return cx;e5=1;var t=yh(),e=Be(),r=_t(),n=r.String;return cx=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),cx}var dx,t5;function ZG(){if(t5)return dx;t5=1;var t=Gu();return dx=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",dx}var hx,r5;function bh(){if(r5)return hx;r5=1;var t=On(),e=dr(),r=Yt(),n=ZG(),i=Object;return hx=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},hx}var fx,n5;function Yu(){if(n5)return fx;n5=1;var t=String;return fx=function(e){try{return t(e)}catch{return"Object"}},fx}var px,i5;function Os(){if(i5)return px;i5=1;var t=dr(),e=Yu(),r=TypeError;return px=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},px}var mx,s5;function AP(){if(s5)return mx;s5=1;var t=Os(),e=Vu();return mx=function(r,n){var i=r[n];return e(i)?void 0:t(i)},mx}var vx,a5;function Nhe(){if(a5)return vx;a5=1;var t=fn(),e=dr(),r=hr(),n=TypeError;return vx=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},vx}var gx={exports:{}},yx,o5;function Qu(){return o5||(o5=1,yx=!0),yx}var bx,l5;function Ohe(){if(l5)return bx;l5=1;var t=_t(),e=Object.defineProperty;return bx=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},bx}var u5;function FP(){if(u5)return gx.exports;u5=1;var t=Qu(),e=_t(),r=Ohe(),n="__core-js_shared__",i=gx.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),gx.exports}var xx,c5;function Xu(){if(c5)return xx;c5=1;var t=FP();return xx=function(e,r){return t[e]||(t[e]=r||{})},xx}var wx,d5;function Cn(){if(d5)return wx;d5=1;var t=Ns(),e=Object;return wx=function(r){return e(t(r))},wx}var _x,h5;function xr(){if(h5)return _x;h5=1;var t=He(),e=Cn(),r=t({}.hasOwnProperty);return _x=Object.hasOwn||function(i,s){return r(e(i),s)},_x}var Sx,f5;function Em(){if(f5)return Sx;f5=1;var t=He(),e=0,r=Math.random(),n=t(1.1.toString);return Sx=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Sx}var Ex,p5;function Qt(){if(p5)return Ex;p5=1;var t=_t(),e=Xu(),r=xr(),n=Em(),i=Gu(),s=ZG(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Ex=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:l("Symbol."+c)),o[c]},Ex}var Nx,m5;function eY(){if(m5)return Nx;m5=1;var t=fn(),e=hr(),r=bh(),n=AP(),i=Nhe(),s=Qt(),a=TypeError,o=s("toPrimitive");return Nx=function(l,c){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,l,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(l,c)},Nx}var Ox,v5;function LP(){if(v5)return Ox;v5=1;var t=eY(),e=bh();return Ox=function(r){var n=t(r,"string");return e(n)?n:n+""},Ox}var Cx,g5;function tY(){if(g5)return Cx;g5=1;var t=_t(),e=hr(),r=t.document,n=e(r)&&e(r.createElement);return Cx=function(i){return n?r.createElement(i):{}},Cx}var Px,y5;function rY(){if(y5)return Px;y5=1;var t=Ft(),e=Be(),r=tY();return Px=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Px}var b5;function Nm(){if(b5)return Y1;b5=1;var t=Ft(),e=fn(),r=_m(),n=gh(),i=gi(),s=LP(),a=xr(),o=rY(),l=Object.getOwnPropertyDescriptor;return Y1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Y1}var Tx,x5;function Che(){if(x5)return Tx;x5=1;var t=Be(),e=dr(),r=/#|\.prototype\./,n=function(l,c){var d=s[i(l)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Tx=n,Tx}var jx,w5;function Om(){if(w5)return jx;w5=1;var t=qP(),e=Os(),r=vh(),n=t(t.bind);return jx=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},jx}var Ix={},Rx,_5;function nY(){if(_5)return Rx;_5=1;var t=Ft(),e=Be();return Rx=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Rx}var $x,S5;function Ai(){if(S5)return $x;S5=1;var t=hr(),e=String,r=TypeError;return $x=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},$x}var E5;function Kn(){if(E5)return Ix;E5=1;var t=Ft(),e=rY(),r=nY(),n=Ai(),i=LP(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",c="configurable",d="writable";return Ix.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Ix}var kx,N5;function Ju(){if(N5)return kx;N5=1;var t=Ft(),e=Kn(),r=gh();return kx=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},kx}var Dx,O5;function Se(){if(O5)return Dx;O5=1;var t=_t(),e=wm(),r=qP(),n=dr(),i=Nm().f,s=Che(),a=tt(),o=Om(),l=Ju(),c=xr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Dx=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],w=v.prototype,b,_,E,N,S,O,C,T,P;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),O=v[N],_&&(h.dontCallGetSet?(P=i(g,N),C=P&&P.value):C=g[N]),S=_&&C?C:f[N],!(!b&&!x&&typeof O==typeof S)&&(h.bind&&_?T=o(S,t):h.wrap&&_?T=d(S):x&&n(S)?T=r(S):T=S,(h.sham||S&&S.sham||O&&O.sham)&&l(T,"sham",!0),l(v,N,T),x&&(E=p+"Prototype",c(a,E)||l(a,E,{}),l(a[E],N,S),h.real&&w&&(b||!w[N])&&l(w,N,S)))},Dx}var Mx,C5;function Phe(){if(C5)return Mx;C5=1;var t=Math.ceil,e=Math.floor;return Mx=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Mx}var qx,P5;function Zu(){if(P5)return qx;P5=1;var t=Phe();return qx=function(e){var r=+e;return r!==r||r===0?0:t(r)},qx}var Ax,T5;function Cm(){if(T5)return Ax;T5=1;var t=Zu(),e=Math.max,r=Math.min;return Ax=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Ax}var Fx,j5;function iY(){if(j5)return Fx;j5=1;var t=Zu(),e=Math.min;return Fx=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Fx}var Lx,I5;function Cs(){if(I5)return Lx;I5=1;var t=iY();return Lx=function(e){return t(e.length)},Lx}var Bx,R5;function BP(){if(R5)return Bx;R5=1;var t=gi(),e=Cm(),r=Cs(),n=function(i){return function(s,a,o){var l=t(s),c=r(l);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=l[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Bx={includes:n(!0),indexOf:n(!1)},Bx}var zx,$5;function xh(){return $5||($5=1,zx={}),zx}var Ux,k5;function sY(){if(k5)return Ux;k5=1;var t=He(),e=xr(),r=gi(),n=BP().indexOf,i=xh(),s=t([].push);return Ux=function(a,o){var l=r(a),c=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>c;)e(l,h=o[c++])&&(~n(d,h)||s(d,h));return d},Ux}var Wx,D5;function zP(){return D5||(D5=1,Wx=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Wx}var Hx,M5;function wh(){if(M5)return Hx;M5=1;var t=sY(),e=zP();return Hx=Object.keys||function(n){return t(n,e)},Hx}var Vx={},q5;function Pm(){return q5||(q5=1,Vx.f=Object.getOwnPropertySymbols),Vx}var Kx,A5;function The(){if(A5)return Kx;A5=1;var t=Ft(),e=He(),r=fn(),n=Be(),i=wh(),s=Pm(),a=_m(),o=Cn(),l=Sm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return Kx=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=l(arguments[g++]),_=v?h(i(b),v(b)):i(b),E=_.length,N=0,S;E>N;)S=_[N++],(!t||r(w,b,S))&&(y[S]=b[S]);return y}:c,Kx}var F5;function jhe(){if(F5)return I4;F5=1;var t=Se(),e=The();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),I4}var Gx,L5;function Ihe(){if(L5)return Gx;L5=1,jhe();var t=tt();return Gx=t.Object.assign,Gx}var Yx,B5;function Rhe(){if(B5)return Yx;B5=1;var t=Ihe();return Yx=t,Yx}var Qx,z5;function $he(){return z5||(z5=1,Qx=Rhe()),Qx}var khe=$he(),Ht=Pe(khe),U5={},Xx,W5;function ec(){if(W5)return Xx;W5=1;var t=He();return Xx=t([].slice),Xx}var Jx,H5;function Dhe(){if(H5)return Jx;H5=1;var t=He(),e=Os(),r=hr(),n=xr(),i=ec(),s=vh(),a=Function,o=t([].concat),l=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+l(m,",")+")")}return c[f](h,p)};return Jx=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},Jx}var V5;function Mhe(){if(V5)return U5;V5=1;var t=Se(),e=Dhe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),U5}var Zx,K5;function wr(){if(K5)return Zx;K5=1;var t=_t(),e=tt();return Zx=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Zx}var ew,G5;function qhe(){if(G5)return ew;G5=1,Mhe();var t=wr();return ew=t("Function","bind"),ew}var tw,Y5;function Ahe(){if(Y5)return tw;Y5=1;var t=Yt(),e=qhe(),r=Function.prototype;return tw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},tw}var rw,Q5;function Fhe(){if(Q5)return rw;Q5=1;var t=Ahe();return rw=t,rw}var nw,X5;function Lhe(){return X5||(X5=1,nw=Fhe()),nw}var Bhe=Lhe(),te=Pe(Bhe);function UP(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function zhe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function Uhe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function Whe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function Hhe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function Vhe(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function aY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function RO(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function oY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,c=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),x=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,x,p,x),t.bezierCurveTo(p-c,x,e,y+d,e,y),t.lineTo(e,m)}function lY(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,c=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function Khe(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const J5={circle:UP,dashedLine:lY,database:oY,diamond:Vhe,ellipse:RO,ellipse_vis:RO,hexagon:Khe,roundRect:aY,square:zhe,star:Hhe,triangle:Uhe,triangleDown:Whe};function Ghe(t){return Object.prototype.hasOwnProperty.call(J5,t)?J5[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var iw={exports:{}},Z5;function Yhe(){return Z5||(Z5=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(iw)),iw.exports}var Qhe=Yhe(),uY=Pe(Qhe),e3={},sw,t3;function Ko(){if(t3)return sw;t3=1;var t=qi();return sw=Array.isArray||function(r){return t(r)==="Array"},sw}var aw,r3;function cY(){if(r3)return aw;r3=1;var t=TypeError,e=9007199254740991;return aw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},aw}var ow,n3;function Tm(){if(n3)return ow;n3=1;var t=Ft(),e=Kn(),r=gh();return ow=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},ow}var lw,i3;function WP(){if(i3)return lw;i3=1;var t=Qt(),e=t("toStringTag"),r={};return r[e]="z",lw=String(r)==="[object z]",lw}var uw,s3;function tc(){if(s3)return uw;s3=1;var t=WP(),e=dr(),r=qi(),n=Qt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,c){try{return l[c]}catch{}};return uw=t?r:function(l){var c,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(c=s(l),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},uw}var cw,a3;function Xhe(){if(a3)return cw;a3=1;var t=He(),e=dr(),r=FP(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),cw=r.inspectSource,cw}var dw,o3;function dY(){if(o3)return dw;o3=1;var t=He(),e=Be(),r=dr(),n=tc(),i=On(),s=Xhe(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,c=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(l,s(m))}catch{return!0}};return f.sham=!0,dw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,dw}var hw,l3;function Jhe(){if(l3)return hw;l3=1;var t=Ko(),e=dY(),r=hr(),n=Qt(),i=n("species"),s=Array;return hw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},hw}var fw,u3;function HP(){if(u3)return fw;u3=1;var t=Jhe();return fw=function(e,r){return new(t(e))(r===0?0:r)},fw}var pw,c3;function _h(){if(c3)return pw;c3=1;var t=Be(),e=Qt(),r=yh(),n=e("species");return pw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},pw}var d3;function hY(){if(d3)return e3;d3=1;var t=Se(),e=Be(),r=Ko(),n=hr(),i=Cn(),s=Cs(),a=cY(),o=Tm(),l=HP(),c=_h(),d=Qt(),h=yh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=l(v,0),b=0,_,E,N,S,O;for(_=-1,N=arguments.length;_<N;_++)if(O=_===-1?v:arguments[_],m(O))for(S=s(O),a(b+S),E=0;E<S;E++,b++)E in O&&o(w,b,O[E]);else a(b+1),o(w,b++,O);return w.length=b,w}}),e3}var h3={},f3={},mw,p3;function Gn(){if(p3)return mw;p3=1;var t=tc(),e=String;return mw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},mw}var vw={},m3;function VP(){if(m3)return vw;m3=1;var t=Ft(),e=nY(),r=Kn(),n=Ai(),i=gi(),s=wh();return vw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var c=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},vw}var gw,v3;function Zhe(){if(v3)return gw;v3=1;var t=On();return gw=t("document","documentElement"),gw}var yw,g3;function jm(){if(g3)return yw;g3=1;var t=Xu(),e=Em(),r=t("keys");return yw=function(n){return r[n]||(r[n]=e(n))},yw}var bw,y3;function Sh(){if(y3)return bw;y3=1;var t=Ai(),e=VP(),r=zP(),n=xh(),i=Zhe(),s=tY(),a=jm(),o=">",l="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,bw=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},bw}var xw={},b3;function Im(){if(b3)return xw;b3=1;var t=sY(),e=zP(),r=e.concat("length","prototype");return xw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},xw}var ww={},x3;function KP(){if(x3)return ww;x3=1;var t=qi(),e=gi(),r=Im().f,n=ec(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return ww.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},ww}var _w,w3;function Eh(){if(w3)return _w;w3=1;var t=Ju();return _w=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},_w}var Sw,_3;function GP(){if(_3)return Sw;_3=1;var t=Kn();return Sw=function(e,r,n){return t.f(e,r,n)},Sw}var Ew={},S3;function Rm(){if(S3)return Ew;S3=1;var t=Qt();return Ew.f=t,Ew}var Nw,E3;function Pt(){if(E3)return Nw;E3=1;var t=tt(),e=xr(),r=Rm(),n=Kn().f;return Nw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Nw}var Ow,N3;function fY(){if(N3)return Ow;N3=1;var t=fn(),e=On(),r=Qt(),n=Eh();return Ow=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Ow}var Cw,O3;function efe(){if(O3)return Cw;O3=1;var t=WP(),e=tc();return Cw=t?{}.toString:function(){return"[object "+e(this)+"]"},Cw}var Pw,C3;function Go(){if(C3)return Pw;C3=1;var t=WP(),e=Kn().f,r=Ju(),n=xr(),i=efe(),s=Qt(),a=s("toStringTag");return Pw=function(o,l,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Pw}var Tw,P3;function pY(){if(P3)return Tw;P3=1;var t=_t(),e=dr(),r=t.WeakMap;return Tw=e(r)&&/native code/.test(String(r)),Tw}var jw,T3;function Yo(){if(T3)return jw;T3=1;var t=pY(),e=_t(),r=hr(),n=Ju(),i=xr(),s=FP(),a=jm(),o=xh(),l="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(l);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(l);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return jw={set:h,get:f,has:p,enforce:m,getterFor:y},jw}var Iw,j3;function Ta(){if(j3)return Iw;j3=1;var t=Om(),e=He(),r=Sm(),n=Cn(),i=Cs(),s=HP(),a=e([].push),o=function(l){var c=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),E=i(_),N=t(g,v),S=0,O=w||s,C=c?O(x,E):d||m?O(x,0):void 0,T,P;E>S;S++)if((y||S in _)&&(T=_[S],P=N(T,S,b),l))if(c)C[S]=P;else if(P)switch(l){case 3:return!0;case 5:return T;case 6:return S;case 2:a(C,T)}else switch(l){case 4:return!1;case 7:a(C,T)}return p?-1:h||f?f:C}};return Iw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Iw}var I3;function tfe(){if(I3)return f3;I3=1;var t=Se(),e=_t(),r=fn(),n=He(),i=Qu(),s=Ft(),a=Gu(),o=Be(),l=xr(),c=Yt(),d=Ai(),h=gi(),f=LP(),p=Gn(),m=gh(),y=Sh(),x=wh(),g=Im(),v=KP(),w=Pm(),b=Nm(),_=Kn(),E=VP(),N=_m(),S=Eh(),O=GP(),C=Xu(),T=jm(),P=xh(),j=Em(),D=Qt(),F=Rm(),Q=Pt(),H=fY(),L=Go(),V=Yo(),W=Ta().forEach,z=T("hidden"),K="Symbol",he="prototype",xe=V.set,Re=V.getterFor(K),ge=Object[he],Ee=e.Symbol,$e=Ee&&Ee[he],rt=e.RangeError,rr=e.TypeError,bt=e.QObject,fr=b.f,lt=_.f,jr=v.f,Ir=N.f,_r=n([].push),nt=C("symbols"),Lt=C("op-symbols"),Rr=C("wks"),$r=!bt||!bt[he]||!bt[he].findChild,$=function(ve,J,le){var ae=fr(ge,J);ae&&delete ge[J],lt(ve,J,le),ae&&ve!==ge&&lt(ge,J,ae)},M=s&&o(function(){return y(lt({},"a",{get:function(){return lt(this,"a",{value:7}).a}})).a!==7})?$:lt,A=function(ve,J){var le=nt[ve]=y($e);return xe(le,{type:K,tag:ve,description:J}),s||(le.description=J),le},se=function(J,le,ae){J===ge&&se(Lt,le,ae),d(J);var we=f(le);return d(ae),l(nt,we)?(ae.enumerable?(l(J,z)&&J[z][we]&&(J[z][we]=!1),ae=y(ae,{enumerable:m(0,!1)})):(l(J,z)||lt(J,z,m(1,y(null))),J[z][we]=!0),M(J,we,ae)):lt(J,we,ae)},re=function(J,le){d(J);var ae=h(le),we=x(ae).concat(ze(ae));return W(we,function(ke){(!s||r(U,ae,ke))&&se(J,ke,ae[ke])}),J},X=function(J,le){return le===void 0?y(J):re(y(J),le)},U=function(J){var le=f(J),ae=r(Ir,this,le);return this===ge&&l(nt,le)&&!l(Lt,le)?!1:ae||!l(this,le)||!l(nt,le)||l(this,z)&&this[z][le]?ae:!0},oe=function(J,le){var ae=h(J),we=f(le);if(!(ae===ge&&l(nt,we)&&!l(Lt,we))){var ke=fr(ae,we);return ke&&l(nt,we)&&!(l(ae,z)&&ae[z][we])&&(ke.enumerable=!0),ke}},de=function(J){var le=jr(h(J)),ae=[];return W(le,function(we){!l(nt,we)&&!l(P,we)&&_r(ae,we)}),ae},ze=function(ve){var J=ve===ge,le=jr(J?Lt:h(ve)),ae=[];return W(le,function(we){l(nt,we)&&(!J||l(ge,we))&&_r(ae,nt[we])}),ae};return a||(Ee=function(){if(c($e,this))throw new rr("Symbol is not a constructor");var J=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),le=j(J),ae=function(we){var ke=this===void 0?e:this;ke===ge&&r(ae,Lt,we),l(ke,z)&&l(ke[z],le)&&(ke[z][le]=!1);var Gr=m(1,we);try{M(ke,le,Gr)}catch(Pn){if(!(Pn instanceof rt))throw Pn;$(ke,le,Gr)}};return s&&$r&&M(ge,le,{configurable:!0,set:ae}),A(le,J)},$e=Ee[he],S($e,"toString",function(){return Re(this).tag}),S(Ee,"withoutSetter",function(ve){return A(j(ve),ve)}),N.f=U,_.f=se,E.f=re,b.f=oe,g.f=v.f=de,w.f=ze,F.f=function(ve){return A(D(ve),ve)},s&&(O($e,"description",{configurable:!0,get:function(){return Re(this).description}}),i||S(ge,"propertyIsEnumerable",U,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),W(x(Rr),function(ve){Q(ve)}),t({target:K,stat:!0,forced:!a},{useSetter:function(){$r=!0},useSimple:function(){$r=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:re,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:de}),H(),L(Ee,K),P[z]=!0,f3}var R3={},Rw,$3;function mY(){if($3)return Rw;$3=1;var t=Gu();return Rw=t&&!!Symbol.for&&!!Symbol.keyFor,Rw}var k3;function rfe(){if(k3)return R3;k3=1;var t=Se(),e=On(),r=xr(),n=Gn(),i=Xu(),s=mY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var c=n(l);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),R3}var D3={},M3;function nfe(){if(M3)return D3;M3=1;var t=Se(),e=xr(),r=bh(),n=Yu(),i=Xu(),s=mY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),D3}var q3={},$w,A3;function ife(){if(A3)return $w;A3=1;var t=He(),e=Ko(),r=dr(),n=qi(),i=Gn(),s=t([].push);return $w=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},$w}var F3;function vY(){if(F3)return q3;F3=1;var t=Se(),e=On(),r=wm(),n=fn(),i=He(),s=Be(),a=dr(),o=bh(),l=ec(),c=ife(),d=Gu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var O=e("Symbol")("stringify detection");return f([O])!=="[null]"||f({a:O})!=="{}"||f(Object(O))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(O,C){var T=l(arguments),P=c(C);if(!(!a(P)&&(O===void 0||o(O))))return T[1]=function(j,D){if(a(P)&&(D=n(P,this,h(j),D)),!o(D))return D},r(f,null,T)},S=function(O,C,T){var P=m(T,C-1),j=m(T,C+1);return p(w,O)&&!p(b,j)||p(b,O)&&!p(w,P)?"\\u"+g(y(O,0),16):O};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,T,P){var j=l(arguments),D=r(_?N:f,null,j);return E&&typeof D=="string"?x(D,v,S):D}}),q3}var L3={},B3;function sfe(){if(B3)return L3;B3=1;var t=Se(),e=Gu(),r=Be(),n=Pm(),i=Cn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),L3}var z3;function gY(){return z3||(z3=1,tfe(),rfe(),nfe(),vY(),sfe()),h3}var U3={},W3;function yY(){if(W3)return U3;W3=1;var t=Pt();return t("asyncDispose"),U3}var H3={},V3;function afe(){if(V3)return H3;V3=1;var t=Pt();return t("asyncIterator"),H3}var K3={},G3;function bY(){if(G3)return K3;G3=1;var t=Pt();return t("dispose"),K3}var Y3={},Q3;function ofe(){if(Q3)return Y3;Q3=1;var t=Pt();return t("hasInstance"),Y3}var X3={},J3;function lfe(){if(J3)return X3;J3=1;var t=Pt();return t("isConcatSpreadable"),X3}var Z3={},eL;function xY(){if(eL)return Z3;eL=1;var t=Pt();return t("iterator"),Z3}var tL={},rL;function ufe(){if(rL)return tL;rL=1;var t=Pt();return t("match"),tL}var nL={},iL;function cfe(){if(iL)return nL;iL=1;var t=Pt();return t("matchAll"),nL}var sL={},aL;function dfe(){if(aL)return sL;aL=1;var t=Pt();return t("replace"),sL}var oL={},lL;function hfe(){if(lL)return oL;lL=1;var t=Pt();return t("search"),oL}var uL={},cL;function ffe(){if(cL)return uL;cL=1;var t=Pt();return t("species"),uL}var dL={},hL;function pfe(){if(hL)return dL;hL=1;var t=Pt();return t("split"),dL}var fL={},pL;function wY(){if(pL)return fL;pL=1;var t=Pt(),e=fY();return t("toPrimitive"),e(),fL}var mL={},vL;function mfe(){if(vL)return mL;vL=1;var t=On(),e=Pt(),r=Go();return e("toStringTag"),r(t("Symbol"),"Symbol"),mL}var gL={},yL;function vfe(){if(yL)return gL;yL=1;var t=Pt();return t("unscopables"),gL}var bL={},xL;function gfe(){if(xL)return bL;xL=1;var t=_t(),e=Go();return e(t.JSON,"JSON",!0),bL}var kw,wL;function yfe(){if(wL)return kw;wL=1,hY(),gY(),yY(),afe(),bY(),ofe(),lfe(),xY(),ufe(),cfe(),dfe(),hfe(),ffe(),pfe(),wY(),mfe(),vfe(),gfe();var t=tt();return kw=t.Symbol,kw}var _L={},Dw,SL;function YP(){return SL||(SL=1,Dw=function(){}),Dw}var Mw,EL;function rc(){return EL||(EL=1,Mw={}),Mw}var qw,NL;function bfe(){if(NL)return qw;NL=1;var t=Ft(),e=xr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return qw={EXISTS:i,PROPER:s,CONFIGURABLE:a},qw}var Aw,OL;function _Y(){if(OL)return Aw;OL=1;var t=Be();return Aw=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Aw}var Fw,CL;function $m(){if(CL)return Fw;CL=1;var t=xr(),e=dr(),r=Cn(),n=jm(),i=_Y(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Fw=i?a.getPrototypeOf:function(l){var c=r(l);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Fw}var Lw,PL;function SY(){if(PL)return Lw;PL=1;var t=Be(),e=dr(),r=hr(),n=Sh(),i=$m(),s=Eh(),a=Qt(),o=Qu(),l=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Lw={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},Lw}var Bw,TL;function xfe(){if(TL)return Bw;TL=1;var t=SY().IteratorPrototype,e=Sh(),r=gh(),n=Go(),i=rc(),s=function(){return this};return Bw=function(a,o,l,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,l)}),n(a,d,!1,!0),i[d]=s,a},Bw}var zw,jL;function wfe(){if(jL)return zw;jL=1;var t=He(),e=Os();return zw=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},zw}var Uw,IL;function _fe(){if(IL)return Uw;IL=1;var t=hr();return Uw=function(e){return t(e)||e===null},Uw}var Ww,RL;function Sfe(){if(RL)return Ww;RL=1;var t=_fe(),e=String,r=TypeError;return Ww=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Ww}var Hw,$L;function Efe(){if($L)return Hw;$L=1;var t=wfe(),e=hr(),r=Ns(),n=Sfe();return Hw=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,c){return r(l),n(c),e(l)&&(i?a(l,c):l.__proto__=c),l}}():void 0),Hw}var Vw,kL;function QP(){if(kL)return Vw;kL=1;var t=Se(),e=fn(),r=Qu(),n=bfe(),i=dr(),s=xfe(),a=$m(),o=Efe(),l=Go(),c=Ju(),d=Eh(),h=Qt(),f=rc(),p=SY(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",E=function(){return this};return Vw=function(N,S,O,C,T,P,j){s(O,S,C);var D=function(xe){if(xe===T&&V)return V;if(!g&&xe&&xe in H)return H[xe];switch(xe){case w:return function(){return new O(this,xe)};case b:return function(){return new O(this,xe)};case _:return function(){return new O(this,xe)}}return function(){return new O(this)}},F=S+" Iterator",Q=!1,H=N.prototype,L=H[v]||H["@@iterator"]||T&&H[T],V=!g&&L||D(T),W=S==="Array"&&H.entries||L,z,K,he;if(W&&(z=a(W.call(new N)),z!==Object.prototype&&z.next&&(!r&&a(z)!==x&&(o?o(z,x):i(z[v])||d(z,v,E)),l(z,F,!0,!0),r&&(f[F]=E))),m&&T===b&&L&&L.name!==b&&(!r&&y?c(H,"name",b):(Q=!0,V=function(){return e(L,this)})),T)if(K={values:D(b),keys:P?V:D(w),entries:D(_)},j)for(he in K)(g||Q||!(he in H))&&d(H,he,K[he]);else t({target:S,proto:!0,forced:g||Q},K);return(!r||j)&&H[v]!==V&&d(H,v,V,{name:T}),f[S]=V,K},Vw}var Kw,DL;function XP(){return DL||(DL=1,Kw=function(t,e){return{value:t,done:e}}),Kw}var Gw,ML;function nc(){if(ML)return Gw;ML=1;var t=gi(),e=YP(),r=rc(),n=Yo(),i=Kn().f,s=QP(),a=XP(),o=Qu(),l=Ft(),c="Array Iterator",d=n.set,h=n.getterFor(c);Gw=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Gw}var Yw,qL;function Nfe(){return qL||(qL=1,Yw={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Yw}var AL;function ic(){if(AL)return _L;AL=1,nc();var t=Nfe(),e=_t(),r=Go(),n=rc();for(var i in t)r(e[i],i),n[i]=n.Array;return _L}var Qw,FL;function EY(){if(FL)return Qw;FL=1;var t=yfe();return ic(),Qw=t,Qw}var Xw,LL;function Ofe(){return LL||(LL=1,Xw=EY()),Xw}var Cfe=Ofe(),Pfe=Pe(Cfe),BL={},zL;function Tfe(){if(zL)return BL;zL=1;var t=Se(),e=Ko(),r=dY(),n=hr(),i=Cm(),s=Cs(),a=gi(),o=Tm(),l=Qt(),c=_h(),d=ec(),h=c("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),E,N,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,b,_);for(N=new(E===void 0?p:E)(m(_-b,0)),S=0;b<_;b++,S++)b in v&&o(N,S,v[b]);return N.length=S,N}}),BL}var Jw,UL;function jfe(){if(UL)return Jw;UL=1,Tfe();var t=wr();return Jw=t("Array","slice"),Jw}var Zw,WL;function Ife(){if(WL)return Zw;WL=1;var t=Yt(),e=jfe(),r=Array.prototype;return Zw=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Zw}var e_,HL;function Rfe(){if(HL)return e_;HL=1;var t=Ife();return e_=t,e_}var t_,VL;function $fe(){return VL||(VL=1,t_=Rfe()),t_}var kfe=$fe(),Ci=Pe(kfe),r_,KL;function Dfe(){if(KL)return r_;KL=1;var t=On(),e=He(),r=Im(),n=Pm(),i=Ai(),s=e([].concat);return r_=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),c=n.f;return c?s(l,c(o)):l},r_}var GL={},YL;function Mfe(){if(YL)return GL;YL=1;var t=Se(),e=Ko();return t({target:"Array",stat:!0},{isArray:e}),GL}var n_,QL;function qfe(){if(QL)return n_;QL=1,Mfe();var t=tt();return n_=t.Array.isArray,n_}var i_,XL;function Afe(){if(XL)return i_;XL=1;var t=qfe();return i_=t,i_}var s_,JL;function Ffe(){return JL||(JL=1,s_=Afe()),s_}var Lfe=Ffe(),Dt=Pe(Lfe),ZL={},e6;function Bfe(){if(e6)return ZL;e6=1;var t=Se(),e=Ta().map,r=_h(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),ZL}var a_,t6;function zfe(){if(t6)return a_;t6=1,Bfe();var t=wr();return a_=t("Array","map"),a_}var o_,r6;function Ufe(){if(r6)return o_;r6=1;var t=Yt(),e=zfe(),r=Array.prototype;return o_=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},o_}var l_,n6;function Wfe(){if(n6)return l_;n6=1;var t=Ufe();return l_=t,l_}var u_,i6;function Hfe(){return i6||(i6=1,u_=Wfe()),u_}var Vfe=Hfe(),xu=Pe(Vfe),s6={},a6;function Kfe(){if(a6)return s6;a6=1;var t=Se(),e=Cn(),r=wh(),n=Be(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),s6}var c_,o6;function Gfe(){if(o6)return c_;o6=1,Kfe();var t=tt();return c_=t.Object.keys,c_}var d_,l6;function Yfe(){if(l6)return d_;l6=1;var t=Gfe();return d_=t,d_}var h_,u6;function Qfe(){return u6||(u6=1,h_=Yfe()),h_}var Xfe=Qfe(),Rt=Pe(Xfe),c6={},d6;function Jfe(){if(d6)return c6;d6=1;var t=Se(),e=He(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),c6}var f_,h6;function Zfe(){if(h6)return f_;h6=1,Jfe();var t=tt();return f_=t.Date.now,f_}var p_,f6;function epe(){if(f6)return p_;f6=1;var t=Zfe();return p_=t,p_}var m_,p6;function tpe(){return p6||(p6=1,m_=epe()),m_}var rpe=tpe(),Np=Pe(rpe),m6={},v_,v6;function sc(){if(v6)return v_;v6=1;var t=Be();return v_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},v_}var g_,g6;function npe(){if(g6)return g_;g6=1;var t=Ta().forEach,e=sc(),r=e("forEach");return g_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},g_}var y6;function ipe(){if(y6)return m6;y6=1;var t=Se(),e=npe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),m6}var y_,b6;function spe(){if(b6)return y_;b6=1,ipe();var t=wr();return y_=t("Array","forEach"),y_}var b_,x6;function ape(){if(x6)return b_;x6=1;var t=spe();return b_=t,b_}var x_,w6;function ope(){if(w6)return x_;w6=1;var t=tc(),e=xr(),r=Yt(),n=ape(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return x_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},x_}var w_,_6;function lpe(){return _6||(_6=1,w_=ope()),w_}var upe=lpe(),at=Pe(upe),S6={},E6;function cpe(){if(E6)return S6;E6=1;var t=Se(),e=He(),r=Ko(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),S6}var __,N6;function dpe(){if(N6)return __;N6=1,cpe();var t=wr();return __=t("Array","reverse"),__}var S_,O6;function hpe(){if(O6)return S_;O6=1;var t=Yt(),e=dpe(),r=Array.prototype;return S_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},S_}var E_,C6;function fpe(){if(C6)return E_;C6=1;var t=hpe();return E_=t,E_}var N_,P6;function ppe(){return P6||(P6=1,N_=fpe()),N_}var mpe=ppe(),fo=Pe(mpe),T6={},O_,j6;function vpe(){if(j6)return O_;j6=1;var t=Ft(),e=Ko(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return O_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},O_}var C_,I6;function NY(){if(I6)return C_;I6=1;var t=Yu(),e=TypeError;return C_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},C_}var R6;function gpe(){if(R6)return T6;R6=1;var t=Se(),e=Cn(),r=Cm(),n=Zu(),i=Cs(),s=vpe(),a=cY(),o=HP(),l=Tm(),c=NY(),d=_h(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,E,N,S,O,C;for(b===0?_=E=0:b===1?(_=0,E=v-w):(_=b-2,E=p(f(n(x),0),v-w)),a(v+_-E),N=o(g,E),S=0;S<E;S++)O=w+S,O in g&&l(N,S,g[O]);if(N.length=E,_<E){for(S=w;S<v-E;S++)O=S+E,C=S+_,O in g?g[C]=g[O]:c(g,C);for(S=v;S>v-E+_;S--)c(g,S-1)}else if(_>E)for(S=v-E;S>w;S--)O=S+E-1,C=S+_-1,O in g?g[C]=g[O]:c(g,C);for(S=0;S<_;S++)g[S+w]=arguments[S+2];return s(g,v-E+_),N}}),T6}var P_,$6;function ype(){if($6)return P_;$6=1,gpe();var t=wr();return P_=t("Array","splice"),P_}var T_,k6;function bpe(){if(k6)return T_;k6=1;var t=Yt(),e=ype(),r=Array.prototype;return T_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},T_}var j_,D6;function xpe(){if(D6)return j_;D6=1;var t=bpe();return j_=t,j_}var I_,M6;function wpe(){return M6||(M6=1,I_=xpe()),I_}var _pe=wpe(),ss=Pe(_pe),q6={},A6;function Spe(){if(A6)return q6;A6=1;var t=Se(),e=BP().includes,r=Be(),n=YP(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),q6}var R_,F6;function Epe(){if(F6)return R_;F6=1,Spe();var t=wr();return R_=t("Array","includes"),R_}var L6={},$_,B6;function Npe(){if(B6)return $_;B6=1;var t=hr(),e=qi(),r=Qt(),n=r("match");return $_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},$_}var k_,z6;function Ope(){if(z6)return k_;z6=1;var t=Npe(),e=TypeError;return k_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},k_}var D_,U6;function Cpe(){if(U6)return D_;U6=1;var t=Qt(),e=t("match");return D_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},D_}var W6;function Ppe(){if(W6)return L6;W6=1;var t=Se(),e=He(),r=Ope(),n=Ns(),i=Gn(),s=Cpe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),L6}var M_,H6;function Tpe(){if(H6)return M_;H6=1,Ppe();var t=wr();return M_=t("String","includes"),M_}var q_,V6;function jpe(){if(V6)return q_;V6=1;var t=Yt(),e=Epe(),r=Tpe(),n=Array.prototype,i=String.prototype;return q_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},q_}var A_,K6;function Ipe(){if(K6)return A_;K6=1;var t=jpe();return A_=t,A_}var F_,G6;function Rpe(){return G6||(G6=1,F_=Ipe()),F_}var $pe=Rpe(),ca=Pe($pe),Y6={},Q6;function kpe(){if(Q6)return Y6;Q6=1;var t=Se(),e=Be(),r=Cn(),n=$m(),i=_Y(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),Y6}var L_,X6;function Dpe(){if(X6)return L_;X6=1,kpe();var t=tt();return L_=t.Object.getPrototypeOf,L_}var B_,J6;function Mpe(){if(J6)return B_;J6=1;var t=Dpe();return B_=t,B_}var z_,Z6;function qpe(){return Z6||(Z6=1,z_=Mpe()),z_}var Ape=qpe(),eB=Pe(Ape),U_,tB;function Fpe(){if(tB)return U_;tB=1,hY();var t=wr();return U_=t("Array","concat"),U_}var W_,rB;function Lpe(){if(rB)return W_;rB=1;var t=Yt(),e=Fpe(),r=Array.prototype;return W_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},W_}var H_,nB;function Bpe(){if(nB)return H_;nB=1;var t=Lpe();return H_=t,H_}var V_,iB;function zpe(){return iB||(iB=1,V_=Bpe()),V_}var Upe=zpe(),Wpe=Pe(Upe),sB={},aB;function Hpe(){if(aB)return sB;aB=1;var t=Se(),e=Ta().filter,r=_h(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),sB}var K_,oB;function Vpe(){if(oB)return K_;oB=1,Hpe();var t=wr();return K_=t("Array","filter"),K_}var G_,lB;function Kpe(){if(lB)return G_;lB=1;var t=Yt(),e=Vpe(),r=Array.prototype;return G_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},G_}var Y_,uB;function Gpe(){if(uB)return Y_;uB=1;var t=Kpe();return Y_=t,Y_}var Q_,cB;function Ype(){return cB||(cB=1,Q_=Gpe()),Q_}var Qpe=Ype(),en=Pe(Qpe),dB={},X_,hB;function Xpe(){if(hB)return X_;hB=1;var t=Ft(),e=Be(),r=He(),n=$m(),i=wh(),s=gi(),a=_m().f,o=r(a),l=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=c&&n(p)===null,x=m.length,g=0,v=[],w;x>g;)w=m[g++],(!t||(y?w in p:o(p,w)))&&l(v,h?[w,p[w]]:p[w]);return v}};return X_={entries:d(!0),values:d(!1)},X_}var fB;function Jpe(){if(fB)return dB;fB=1;var t=Se(),e=Xpe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),dB}var J_,pB;function Zpe(){if(pB)return J_;pB=1,Jpe();var t=tt();return J_=t.Object.values,J_}var Z_,mB;function eme(){if(mB)return Z_;mB=1;var t=Zpe();return Z_=t,Z_}var eS,vB;function tme(){return vB||(vB=1,eS=eme()),eS}var rme=tme(),nme=Pe(rme),gB={},tS,yB;function JP(){return yB||(yB=1,tS=`	
\v\f\r \u2028\u2029\uFEFF`),tS}var rS,bB;function OY(){if(bB)return rS;bB=1;var t=He(),e=Ns(),r=Gn(),n=JP(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(c){var d=r(e(c));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return rS={start:o(1),end:o(2),trim:o(3)},rS}var nS,xB;function ime(){if(xB)return nS;xB=1;var t=_t(),e=Be(),r=He(),n=Gn(),i=OY().trim,s=JP(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return nS=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(c,y)?16:10))}:a,nS}var wB;function sme(){if(wB)return gB;wB=1;var t=Se(),e=ime();return t({global:!0,forced:parseInt!==e},{parseInt:e}),gB}var iS,_B;function ame(){if(_B)return iS;_B=1,sme();var t=tt();return iS=t.parseInt,iS}var sS,SB;function ome(){if(SB)return sS;SB=1;var t=ame();return sS=t,sS}var aS,EB;function lme(){return EB||(EB=1,aS=ome()),aS}var ume=lme(),ai=Pe(ume),NB={},OB;function cme(){if(OB)return NB;OB=1;var t=Se(),e=qP(),r=BP().indexOf,n=sc(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,l,c)||0:r(this,l,c)}}),NB}var oS,CB;function dme(){if(CB)return oS;CB=1,cme();var t=wr();return oS=t("Array","indexOf"),oS}var lS,PB;function hme(){if(PB)return lS;PB=1;var t=Yt(),e=dme(),r=Array.prototype;return lS=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},lS}var uS,TB;function fme(){if(TB)return uS;TB=1;var t=hme();return uS=t,uS}var cS,jB;function pme(){return jB||(jB=1,cS=fme()),cS}var mme=pme(),Je=Pe(mme),IB={},RB;function vme(){if(RB)return IB;RB=1;var t=Se(),e=Ft(),r=Sh();return t({target:"Object",stat:!0,sham:!e},{create:r}),IB}var dS,$B;function gme(){if($B)return dS;$B=1,vme();var t=tt(),e=t.Object;return dS=function(n,i){return e.create(n,i)},dS}var hS,kB;function yme(){if(kB)return hS;kB=1;var t=gme();return hS=t,hS}var fS,DB;function bme(){return DB||(DB=1,fS=yme()),fS}var xme=bme(),po=Pe(xme),MB={},pS,qB;function wme(){if(qB)return pS;qB=1;var t=Zu(),e=Gn(),r=Ns(),n=RangeError;return pS=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},pS}var mS,AB;function _me(){if(AB)return mS;AB=1;var t=He(),e=iY(),r=Gn(),n=wme(),i=Ns(),s=t(n),a=t("".slice),o=Math.ceil,l=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return mS={start:l(!1),end:l(!0)},mS}var vS,FB;function Sme(){if(FB)return vS;FB=1;var t=He(),e=Be(),r=_me().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return vS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,vS}var LB;function Eme(){if(LB)return MB;LB=1;var t=Se(),e=fn(),r=Cn(),n=eY(),i=Sme(),s=qi(),a=Be(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),MB}var gS,BB;function Nme(){if(BB)return gS;BB=1,Eme(),vY();var t=tt(),e=wm();return t.JSON||(t.JSON={stringify:JSON.stringify}),gS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},gS}var yS,zB;function Ome(){if(zB)return yS;zB=1;var t=Nme();return yS=t,yS}var bS,UB;function Cme(){return UB||(UB=1,bS=Ome()),bS}var Pme=Cme(),Nh=Pe(Pme),WB={},HB={},xS,VB;function CY(){if(VB)return xS;VB=1;var t=_t(),e=Ku(),r=qi(),n=function(i){return e.slice(0,i.length)===i};return xS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),xS}var wS,KB;function Tme(){if(KB)return wS;KB=1;var t=TypeError;return wS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},wS}var _S,GB;function PY(){if(GB)return _S;GB=1;var t=_t(),e=wm(),r=dr(),n=CY(),i=Ku(),s=ec(),a=Tme(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return _S=function(c,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},_S}var YB;function jme(){if(YB)return HB;YB=1;var t=Se(),e=_t(),r=PY(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),HB}var QB={},XB;function Ime(){if(XB)return QB;XB=1;var t=Se(),e=_t(),r=PY(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),QB}var JB;function TY(){return JB||(JB=1,jme(),Ime()),WB}var SS,ZB;function Rme(){if(ZB)return SS;ZB=1,TY();var t=tt();return SS=t.setTimeout,SS}var ES,ez;function $me(){return ez||(ez=1,ES=Rme()),ES}var kme=$me(),as=Pe(kme),tz={},NS,rz;function Dme(){if(rz)return NS;rz=1;var t=Cn(),e=Cm(),r=Cs();return NS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>l;)s[l++]=i;return s},NS}var nz;function Mme(){if(nz)return tz;nz=1;var t=Se(),e=Dme(),r=YP();return t({target:"Array",proto:!0},{fill:e}),r("fill"),tz}var OS,iz;function qme(){if(iz)return OS;iz=1,Mme();var t=wr();return OS=t("Array","fill"),OS}var CS,sz;function Ame(){if(sz)return CS;sz=1;var t=Yt(),e=qme(),r=Array.prototype;return CS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},CS}var PS,az;function Fme(){if(az)return PS;az=1;var t=Ame();return PS=t,PS}var TS,oz;function Lme(){return oz||(oz=1,TS=Fme()),TS}var Bme=Lme(),Oh=Pe(Bme);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function pi(){return pi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pi.apply(this,arguments)}function Yn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function cf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var $O;typeof Object.assign!="function"?$O=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:$O=Object.assign;var Io=$O,lz=["","webkit","Moz","MS","ms","o"],zme=typeof document>"u"?{style:{}}:document.createElement("div"),Ume="function",Tl=Math.round,Ro=Math.abs,ZP=Date.now;function km(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<lz.length;){if(r=lz[s],n=r?r+i:e,n in t)return n;s++}}var os;typeof window>"u"?os={}:os=window;var jY=km(zme.style,"touchAction"),IY=jY!==void 0;function Wme(){if(!IY)return!1;var t={},e=os.CSS&&os.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?os.CSS.supports("touch-action",r):!0}),t}var RY="compute",$Y="auto",kO="manipulation",mo="none",Cd="pan-x",Pd="pan-y",df=Wme(),Hme=/mobile|tablet|ip(ad|hone|od)|android/i,kY="ontouchstart"in os,Vme=km(os,"PointerEvent")!==void 0,Kme=kY&&Hme.test(navigator.userAgent),Ch="touch",Gme="pen",eT="mouse",Yme="kinect",Qme=25,Wr=1,Qo=2,Vt=4,un=8,Op=1,Ph=2,Th=4,jh=8,wu=16,Di=Ph|Th,vo=jh|wu,DY=Di|vo,MY=["x","y"],Cp=["clientX","clientY"];function ls(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Dm(t,e){return typeof t===Ume?t.apply(e&&e[0]||void 0,e):t}function Ga(t,e){return t.indexOf(e)>-1}function Xme(t){if(Ga(t,mo))return mo;var e=Ga(t,Cd),r=Ga(t,Pd);return e&&r?mo:e||r?e?Cd:Pd:Ga(t,kO)?kO:$Y}var qY=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===RY&&(n=this.compute()),IY&&this.manager.element.style&&df[n]&&(this.manager.element.style[jY]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ls(this.manager.recognizers,function(i){Dm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Xme(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ga(a,mo)&&!df[mo],l=Ga(a,Pd)&&!df[Pd],c=Ga(a,Cd)&&!df[Cd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&l)&&(o||l&&s&Di||c&&s&vo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function tT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function AY(t){var e=t.length;if(e===1)return{x:Tl(t[0].clientX),y:Tl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Tl(r/e),y:Tl(n/e)}}function uz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Tl(t.pointers[r].clientX),clientY:Tl(t.pointers[r].clientY)},r++;return{timeStamp:ZP(),pointers:e,center:AY(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Pp(t,e,r){r||(r=MY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function DO(t,e,r){r||(r=MY);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function FY(t,e){return t===e?Op:Ro(t)>=Ro(e)?t<0?Ph:Th:e<0?jh:wu}function Jme(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Wr||s.eventType===Vt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function LY(t,e,r){return{x:e/t||0,y:r/t||0}}function Zme(t,e){return Pp(e[0],e[1],Cp)/Pp(t[0],t[1],Cp)}function eve(t,e){return DO(e[1],e[0],Cp)+DO(t[1],t[0],Cp)}function tve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==un&&(n>Qme||r.velocity===void 0)){var l=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=LY(n,l,c);s=d.x,a=d.y,i=Ro(d.x)>Ro(d.y)?d.x:d.y,o=FY(l,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function rve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=uz(e)),i>1&&!r.firstMultiple?r.firstMultiple=uz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=AY(n);e.timeStamp=ZP(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=DO(o,l),e.distance=Pp(o,l),Jme(r,e),e.offsetDirection=FY(e.deltaX,e.deltaY);var c=LY(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Ro(c.x)>Ro(c.y)?c.x:c.y,e.scale=a?Zme(a.pointers,n):1,e.rotation=a?eve(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,tve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,tT(f,d)&&(d=f),e.target=d}function nve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Wr&&n-i===0,a=e&(Vt|un)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,rve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Td(t){return t.trim().split(/\s+/g)}function Yc(t,e,r){ls(Td(e),function(n){t.addEventListener(n,r,!1)})}function Qc(t,e,r){ls(Td(e),function(n){t.removeEventListener(n,r,!1)})}function cz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var ac=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Dm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Yc(this.element,this.evEl,this.domHandler),this.evTarget&&Yc(this.target,this.evTarget,this.domHandler),this.evWin&&Yc(cz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Qc(this.element,this.evEl,this.domHandler),this.evTarget&&Qc(this.target,this.evTarget,this.domHandler),this.evWin&&Qc(cz(this.element),this.evWin,this.domHandler)},t}();function $o(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var ive={pointerdown:Wr,pointermove:Qo,pointerup:Vt,pointercancel:un,pointerout:un},sve={2:Ch,3:Gme,4:eT,5:Yme},BY="pointerdown",zY="pointermove pointerup pointercancel";os.MSPointerEvent&&!os.PointerEvent&&(BY="MSPointerDown",zY="MSPointerMove MSPointerUp MSPointerCancel");var UY=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evEl=BY,i.evWin=zY,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=ive[o],c=sve[i.pointerType]||i.pointerType,d=c===Ch,h=$o(s,i.pointerId,"pointerId");l&Wr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Vt|un)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(ac);function jd(t){return Array.prototype.slice.call(t,0)}function rT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];$o(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var ave={touchstart:Wr,touchmove:Qo,touchend:Vt,touchcancel:un},ove="touchstart touchmove touchend touchcancel",nT=function(t){Yn(e,t);function e(){var n;return e.prototype.evTarget=ove,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=ave[i.type],a=lve.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ch,srcEvent:i})},e}(ac);function lve(t,e){var r=jd(t.touches),n=this.targetIds;if(e&(Wr|Qo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=jd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(c){return tT(c.target,l)}),e===Wr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Vt|un)&&delete n[a[i].identifier],i++;if(o.length)return[rT(s.concat(o),"identifier",!0),o]}var uve={mousedown:Wr,mousemove:Qo,mouseup:Vt},cve="mousedown",dve="mousemove mouseup",iT=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evEl=cve,i.evWin=dve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=uve[i.type];s&Wr&&i.button===0&&(this.pressed=!0),s&Qo&&i.which!==1&&(s=Vt),this.pressed&&(s&Vt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:eT,srcEvent:i}))},e}(ac),hve=2500,dz=25;function hz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,hve)}}function fve(t,e){t&Wr?(this.primaryTouch=e.changedPointers[0].identifier,hz.call(this,e)):t&(Vt|un)&&hz.call(this,e)}function pve(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=dz&&a<=dz)return!0}return!1}var WY=function(){var t=function(e){Yn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,c){var d=c.pointerType===Ch,h=c.pointerType===eT;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)fve.call(cf(cf(a)),l,c);else if(h&&pve.call(cf(cf(a)),c))return;a.callback(o,l,c)}},a.touch=new nT(a.manager,a.handler),a.mouse=new iT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(ac);return t}();function mve(t){var e,r=t.options.inputClass;return r?e=r:Vme?e=UY:Kme?e=nT:kY?e=WY:e=iT,new e(t,nve)}function jl(t,e,r){return Array.isArray(t)?(ls(t,r[e],r),!0):!1}var $f=1,Bn=2,_u=4,da=8,us=da,Id=16,Ti=32,vve=1;function gve(){return vve++}function hf(t,e){var r=e.manager;return r?r.get(t):t}function fz(t){return t&Id?"cancel":t&da?"end":t&_u?"move":t&Bn?"start":""}var Ih=function(){function t(r){r===void 0&&(r={}),this.options=pi({enable:!0},r),this.id=gve(),this.manager=null,this.state=$f,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Io(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(jl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=hf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return jl(n,"dropRecognizeWith",this)?this:(n=hf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(jl(n,"requireFailure",this))return this;var i=this.requireFail;return n=hf(n,this),$o(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(jl(n,"dropRequireFailure",this))return this;n=hf(n,this);var i=$o(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<da&&a(i.options.event+fz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=da&&a(i.options.event+fz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ti},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ti|$f)))return!1;n++}return!0},e.recognize=function(n){var i=Io({},n);if(!Dm(this.options.enable,[this,i])){this.reset(),this.state=Ti;return}this.state&(us|Id|Ti)&&(this.state=$f),this.state=this.process(i),this.state&(Bn|_u|da|Id)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),MO=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[kO]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Wr&&this.count===0)return this.failTimeout();if(l&&c&&o){if(i.eventType!==Vt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Pp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=us,s.tryEmit()},a.interval),Bn):us}return Ti},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ti},this.options.interval),Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===us&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Ih),Su=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Bn|_u),l=this.attrTest(i);return o&&(a&un||!l)?s|Id:o||l?a&Vt?s|da:s&Bn?s|_u:Bn:Ti},e}(Ih);function HY(t){return t===wu?"down":t===jh?"up":t===Ph?"left":t===Th?"right":""}var sT=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"pan",threshold:10,pointers:1,direction:DY},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Di&&s.push(Pd),i&vo&&s.push(Cd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,c=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Di?(l=c===0?Op:c<0?Ph:Th,a=c!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Op:d<0?jh:wu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return Su.prototype.attrTest.call(this,i)&&(this.state&Bn||!(this.state&Bn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=HY(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Su),VY=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"swipe",threshold:10,velocity:.3,direction:Di|vo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return sT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Di|vo)?a=i.overallVelocity:s&Di?a=i.overallVelocityX:s&vo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Ro(a)>this.options.velocity&&i.eventType&Vt},r.emit=function(i){var s=HY(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Su),KY=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[mo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Bn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Su),GY=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[mo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Bn)},e}(Su),YY=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[$Y]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Vt|un)&&!c)this.reset();else if(i.eventType&Wr)this.reset(),this._timer=setTimeout(function(){s.state=us,s.tryEmit()},a.time);else if(i.eventType&Vt)return us;return Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===us&&(i&&i.eventType&Vt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=ZP(),this.manager.emit(this.options.event,this._input)))},e}(Ih),QY={domEvents:!1,touchAction:RY,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},pz=[[GY,{enable:!1}],[KY,{enable:!1},["rotate"]],[VY,{direction:Di}],[sT,{direction:Di},["swipe"]],[MO],[MO,{event:"doubletap",taps:2},["tap"]],[YY]],yve=1,mz=2;function vz(t,e){var r=t.element;if(r.style){var n;ls(t.options.cssProps,function(i,s){n=km(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function bve(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var gz=function(){function t(r,n){var i=this;this.options=Io({},QY,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=mve(this),this.touchAction=new qY(this,this.options.touchAction),vz(this,!0),ls(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Io(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?mz:yve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&us)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==mz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Bn|_u|da)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof Ih)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(jl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(jl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=$o(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ls(Td(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ls(Td(n),function(a){i?s[a]&&s[a].splice($o(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&bve(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&vz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),xve={touchstart:Wr,touchmove:Qo,touchend:Vt,touchcancel:un},wve="touchstart",_ve="touchstart touchmove touchend touchcancel",Sve=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evTarget=wve,i.evWin=_ve,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=xve[i.type];if(s===Wr&&(this.started=!0),!!this.started){var a=Eve.call(this,i,s);s&(Vt|un)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ch,srcEvent:i})}},e}(ac);function Eve(t,e){var r=jd(t.touches),n=jd(t.changedTouches);return e&(Vt|un)&&(r=rT(r.concat(n),"identifier",!0)),[r,n]}function XY(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var JY=XY(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Nve=XY(function(t,e){return JY(t,e,!0)},"merge","Use `assign`.");function Ove(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Io(i,r)}function yz(t,e){return function(){return t.apply(e,arguments)}}var ZY=function(){var t=function(r,n){return n===void 0&&(n={}),new gz(r,pi({recognizers:pz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=DY,t.DIRECTION_DOWN=wu,t.DIRECTION_LEFT=Ph,t.DIRECTION_RIGHT=Th,t.DIRECTION_UP=jh,t.DIRECTION_HORIZONTAL=Di,t.DIRECTION_VERTICAL=vo,t.DIRECTION_NONE=Op,t.DIRECTION_DOWN=wu,t.INPUT_START=Wr,t.INPUT_MOVE=Qo,t.INPUT_END=Vt,t.INPUT_CANCEL=un,t.STATE_POSSIBLE=$f,t.STATE_BEGAN=Bn,t.STATE_CHANGED=_u,t.STATE_ENDED=da,t.STATE_RECOGNIZED=us,t.STATE_CANCELLED=Id,t.STATE_FAILED=Ti,t.Manager=gz,t.Input=ac,t.TouchAction=qY,t.TouchInput=nT,t.MouseInput=iT,t.PointerEventInput=UY,t.TouchMouseInput=WY,t.SingleTouchInput=Sve,t.Recognizer=Ih,t.AttrRecognizer=Su,t.Tap=MO,t.Pan=sT,t.Swipe=VY,t.Pinch=KY,t.Rotate=GY,t.Press=YY,t.on=Yc,t.off=Qc,t.each=ls,t.merge=Nve,t.extend=JY,t.bindFn=yz,t.assign=Io,t.inherit=Ove,t.bindFn=yz,t.prefixed=km,t.toArray=jd,t.inArray=$o,t.uniqueArray=rT,t.splitStr=Td,t.boolOrFn=Dm,t.hasParent=tT,t.addEventListeners=Yc,t.removeEventListeners=Qc,t.defaults=Io({},QY,{preset:pz}),t}();ZY.defaults;Pfe("DELETE");function Mm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Cve(e.length?e:[Np()])}function Cve(t){let[e,r,n]=Pve(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Pve(){const t=Tve();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Tve(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function jve(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const aT=typeof window<"u"?window.Hammer||ZY:function(){return jve()};function ji(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=aT(this._dom.overlay);r.on("tap",te(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];at(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Ive(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}uY(ji.prototype);ji.current=null;ji.prototype.destroy=function(){this.deactivate();for(const r of fo(t=ss(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ji.prototype.activate=function(){ji.current&&ji.current.deactivate(),ji.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ji.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ji.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Ive(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const Rve=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,$ve=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,kve=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,Dve=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function $s(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&($s(e),t.removeChild(e))}}function Al(t){return t instanceof String||typeof t=="string"}function bz(t){return typeof t=="object"&&t!==null}function ko(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function eQ(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")ko(t,e,n,r);else{const i=t[n],s=e[n];bz(i)&&bz(s)&&eQ(i,s,r)}}function oc(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?dt(e[s],r[s],!1,n):ko(e,r,s,n);else{if(Dt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");ko(e,r,s,n)}}return e}function Tp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Dt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!ca(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?dt(e[i],r[i]):ko(e,r,i,n);else if(Dt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else ko(e,r,i,n);return e}function dt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&eB(e[s])===Object.prototype)t[s]===void 0?t[s]=dt({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&eB(t[s])===Object.prototype?dt(t[s],e[s],r):ko(t,e,s,n);else if(Dt(e[s])){var i;t[s]=Ci(i=e[s]).call(i)}else ko(t,e,s,n);return t}function jp(t,e){return[...t,e]}function Mve(t){return Ci(t).call(t)}function qve(t){return t.getBoundingClientRect().left}function Ave(t){return t.getBoundingClientRect().top}function Me(t,e){if(Dt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function oT(t){let e;switch(t.length){case 3:case 4:return e=$ve.exec(t),e?{r:ai(e[1]+e[1],16),g:ai(e[2]+e[2],16),b:ai(e[3]+e[3],16)}:null;case 6:case 7:return e=Rve.exec(t),e?{r:ai(e[1],16),g:ai(e[2],16),b:ai(e[3],16)}:null;default:return null}}function qn(t,e){if(ca(t).call(t,"rgba"))return t;if(ca(t).call(t,"rgb")){const r=t.substr(Je(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=oT(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function tQ(t,e,r){var n;return"#"+Ci(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function qO(t,e){if(Al(t)){let n=t;if(nQ(n)){var r;const i=xu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return ai(s)});n=tQ(i[0],i[1],i[2])}if(rQ(n)===!0){const i=Fve(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=AO(a.h,a.s,a.v),l=AO(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Al(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Al(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function kc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function kf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=c,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=c,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function AO(t,e,r){const n=kf(t,e,r);return tQ(n.r,n.g,n.b)}function Fve(t){const e=oT(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return kc(e.r,e.g,e.b)}function rQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function nQ(t){return kve.test(t)}function Lve(t){return Dve.test(t)}function ha(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=po(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=ha(t[r]));return e}function $n(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const x=m[y],g=p[y];for(const v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=po(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Bve={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function ks(t,e){let r;Dt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const zve={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Uve=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return zve[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Al(e)===!0){if(nQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Lve(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(rQ(e)===!0){const s=oT(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+Nh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Ht({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",as(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Ht({},e)),this.color=e;const n=kc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=kc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=kf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=kc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),Oh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=te(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=te(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=te(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=te(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new aT(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=kf(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,c=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=kc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const x=kf(y.h,y.s,y.v);x.a=this.color.a,this.color=x,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function FO(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(FO(...Ci(e).call(e,1))),n}}let Wve=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Ht(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Uve(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Dt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),en(e)!==void 0&&(this.options.filter=en(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);en(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=en(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Je(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return at(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(FO("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Je(e).call(e,r)!==-1&&(s=Je(e).call(e,r));for(let l=0;l<e.length;l++){const c=document.createElement("option");c.value=e[l],l===s&&(c.selected="selected"),c.innerText=e[l],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,c="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,c="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,c="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=as(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=as(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=en(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],c=jp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Dt(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Dt(l))this._handleArray(l,d,c);else if(typeof l=="string")this._makeTextInput(l,d,c);else if(typeof l=="boolean")this._makeCheckbox(l,d,c);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=jp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(l,c)||a}else this._makeCheckbox(l,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(l,c)||a}}else console.error("dont know how to handle",l,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(FO("pre","const options = "+Nh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Hve=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=ai(e),this.y=ai(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Cc=!1,xz;const LO="background: #FFeeee; color: #dd0000";let Vve=class Tt{static validate(e,r,n){Cc=!1,xz=r;let i=r;return n!==void 0&&(i=r[n]),Tt.parse(e,i,[]),Cc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&Tt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){Tt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=Tt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),Tt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+Tt.printLocation(a,e),LO)},l=Tt.getType(r[e]),c=s[l];c!==void 0?Tt.getType(c)==="array"&&Je(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+Tt.print(c)+' not "'+r[e]+'". '),Cc=!0):l==="object"&&i!=="__any__"&&(a=jp(a,e),Tt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+Tt.print(Rt(s))+". Received ["+l+'] "'+r[e]+'"'),Cc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Dt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=Tt.findInOptions(e,r,n,!1),s=Tt.findInOptions(e,xz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+Tt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+Tt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+Tt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+Tt.printLocation(i.path,e):l=". Did you mean one of these: "+Tt.print(Rt(r))+Tt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,LO),Cc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=Tt.findInOptions(e,r[h],jp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;Je(d=h.toLowerCase()).call(d,l)!==-1&&(c=h),f=Tt.levenshteinDistance(e,h),s>f&&(a=h,o=Mve(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return Nh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const Kve=ji,Gve=Wve,Fl=aT,Yve=Hve,iQ=LO,Qve=Vve;function Xve(t){return Xs=t,tge()}var sQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},lT=po(sQ);lT.color="color.color";lT.style="dashes";var Ar={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},wz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Xs="",Eu=0,De="",Ne="",Jr=Ar.NULL;function Jve(){Eu=0,De=Xs.charAt(0)}function nr(){Eu++,De=Xs.charAt(Eu)}function ul(){return Xs.charAt(Eu+1)}function _z(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ya(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Zve(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function aQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=ya(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Je(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=ya(i.attr,e.attr))}function ege(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=ya({},t.edge);e.attr=ya(r,e.attr)}}function oQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=ya({},t.edge)),s.attr=ya(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function ht(){for(Jr=Ar.NULL,Ne="";De===" "||De==="	"||De===`
`||De==="\r";)nr();do{var t=!1;if(De==="#"){for(var e=Eu-1;Xs.charAt(e)===" "||Xs.charAt(e)==="	";)e--;if(Xs.charAt(e)===`
`||Xs.charAt(e)===""){for(;De!=""&&De!=`
`;)nr();t=!0}}if(De==="/"&&ul()==="/"){for(;De!=""&&De!=`
`;)nr();t=!0}if(De==="/"&&ul()==="*"){for(;De!="";)if(De==="*"&&ul()==="/"){nr(),nr();break}else nr();t=!0}for(;De===" "||De==="	"||De===`
`||De==="\r";)nr()}while(t);if(De===""){Jr=Ar.DELIMITER;return}var r=De+ul();if(wz[r]){Jr=Ar.DELIMITER,Ne=r,nr(),nr();return}if(wz[De]){Jr=Ar.DELIMITER,Ne=De,nr();return}if(_z(De)||De==="-"){for(Ne+=De,nr();_z(De);)Ne+=De,nr();Ne==="false"?Ne=!1:Ne==="true"?Ne=!0:isNaN(Number(Ne))||(Ne=Number(Ne)),Jr=Ar.IDENTIFIER;return}if(De==='"'){for(nr();De!=""&&(De!='"'||De==='"'&&ul()==='"');)De==='"'?(Ne+=De,nr()):De==="\\"&&ul()==="n"?(Ne+=`
`,nr()):Ne+=De,nr();if(De!='"')throw Fr('End of string " expected');nr(),Jr=Ar.IDENTIFIER;return}for(Jr=Ar.UNKNOWN;De!="";)Ne+=De,nr();throw new SyntaxError('Syntax error in part "'+dQ(Ne,30)+'"')}function tge(){var t={};if(Jve(),ht(),Ne==="strict"&&(t.strict=!0,ht()),(Ne==="graph"||Ne==="digraph")&&(t.type=Ne,ht()),Jr===Ar.IDENTIFIER&&(t.id=Ne,ht()),Ne!="{")throw Fr("Angle bracket { expected");if(ht(),lQ(t),Ne!="}")throw Fr("Angle bracket } expected");if(ht(),Ne!=="")throw Fr("End of file expected");return ht(),delete t.node,delete t.edge,delete t.graph,t}function lQ(t){for(;Ne!==""&&Ne!="}";)rge(t),Ne===";"&&ht()}function rge(t){var e=uQ(t);if(e){cQ(t,e);return}var r=nge(t);if(!r){if(Jr!=Ar.IDENTIFIER)throw Fr("Identifier expected");var n=Ne;if(ht(),Ne==="="){if(ht(),Jr!=Ar.IDENTIFIER)throw Fr("Identifier expected");t[n]=Ne,ht()}else ige(t,n)}}function uQ(t){var e=null;if(Ne==="subgraph"&&(e={},e.type="subgraph",ht(),Jr===Ar.IDENTIFIER&&(e.id=Ne,ht())),Ne==="{"){if(ht(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,lQ(e),Ne!="}")throw Fr("Angle bracket } expected");ht(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function nge(t){return Ne==="node"?(ht(),t.node=Xc(),"node"):Ne==="edge"?(ht(),t.edge=Xc(),"edge"):Ne==="graph"?(ht(),t.graph=Xc(),"graph"):null}function ige(t,e){var r={id:e},n=Xc();n&&(r.attr=n),aQ(t,r),cQ(t,e)}function cQ(t,e){for(;Ne==="->"||Ne==="--";){var r,n=Ne;ht();var i=uQ(t);if(i)r=i;else{if(Jr!=Ar.IDENTIFIER)throw Fr("Identifier or subgraph expected");r=Ne,aQ(t,{id:r}),ht()}var s=Xc(),a=oQ(t,e,r,n,s);ege(t,a),e=r}}function Xc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Ne==="[";){for(ht(),e={};Ne!==""&&Ne!="]";){if(Jr!=Ar.IDENTIFIER)throw Fr("Attribute name expected");var a=Ne;if(ht(),Ne!="=")throw Fr("Equal sign = expected");if(ht(),Jr!=Ar.IDENTIFIER)throw Fr("Attribute value expected");var o=Ne;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),ht(),Ne==","&&ht()}if(Ne!="]")throw Fr("Bracket ] expected");ht()}if(ca(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw Fr("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!ca(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw Fr('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},ss(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw Fr('Invalid dir type "'+d+'"');ss(i).call(i,c.dir,1)}var m;if(ca(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)Zve(i[t].attr,i[t].name,i[t].value);return e}function Fr(t){return new SyntaxError(t+', got "'+dQ(Ne,30)+'" (char '+Eu+")")}function dQ(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function sge(t,e,r){Dt(t)?at(t).call(t,function(n){Dt(e)?at(e).call(e,function(i){r(n,i)}):r(n,e)}):Dt(e)?at(e).call(e,function(n){r(t,n)}):r(t,e)}function jS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function Sz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Dt(i)?at(i).call(i,function(s){jS(r,s,t[n])}):typeof i=="string"?jS(r,i,t[n]):jS(r,n,t[n])}return r}function age(t){var e=Xve(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;at(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};ya(o,Sz(a.attr,sQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return ya(o,Sz(a.attr,lT)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};at(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var c;at(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(sge(o,l,function(h,f){var p=oQ(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;at(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function oge(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=xu(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:xu(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const lge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},uge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},cge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},dge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},hge={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},fge={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},pge={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},mge={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},vge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},gge={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},yge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var bge=Object.freeze({__proto__:null,cn:mge,cs:yge,de:uge,en:lge,es:cge,fr:gge,it:dge,nl:hge,pt:fge,ru:pge,uk:vge});function xge(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(Wpe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class wge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class _ge{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new wge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Ez={},Nz={},IS={exports:{}},RS,Oz;function Sge(){if(Oz)return RS;Oz=1;var t=Be();return RS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),RS}var $S,Cz;function Ege(){if(Cz)return $S;Cz=1;var t=Be(),e=hr(),r=qi(),n=Sge(),i=Object.isExtensible,s=t(function(){});return $S=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,$S}var kS,Pz;function hQ(){if(Pz)return kS;Pz=1;var t=Be();return kS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),kS}var Tz;function qm(){if(Tz)return IS.exports;Tz=1;var t=Se(),e=He(),r=xh(),n=hr(),i=xr(),s=Kn().f,a=Im(),o=KP(),l=Ege(),c=Em(),d=hQ(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!l(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!l(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&l(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),E={};E[f]=1,b(E).length&&(a.f=function(N){for(var S=b(N),O=0,C=S.length;O<C;O++)if(S[O]===f){_(S,O,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=IS.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,IS.exports}var DS,jz;function Nge(){if(jz)return DS;jz=1;var t=Qt(),e=rc(),r=t("iterator"),n=Array.prototype;return DS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},DS}var MS,Iz;function fQ(){if(Iz)return MS;Iz=1;var t=tc(),e=AP(),r=Vu(),n=rc(),i=Qt(),s=i("iterator");return MS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},MS}var qS,Rz;function Oge(){if(Rz)return qS;Rz=1;var t=fn(),e=Os(),r=Ai(),n=Yu(),i=fQ(),s=TypeError;return qS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},qS}var AS,$z;function uT(){if($z)return AS;$z=1;var t=fn(),e=Ai(),r=AP();return AS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},AS}var FS,kz;function Am(){if(kz)return FS;kz=1;var t=Om(),e=fn(),r=Ai(),n=Yu(),i=Nge(),s=Cs(),a=Yt(),o=Oge(),l=fQ(),c=uT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return FS=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),E,N,S,O,C,T,P,j=function(F){return E&&c(E,"normal"),new h(!0,F)},D=function(F){return g?(r(F),b?_(F[0],F[1],j):_(F[0],F[1])):b?_(F,j):_(F)};if(v)E=p.iterator;else if(w)E=p;else{if(N=l(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(S=0,O=s(p);O>S;S++)if(C=D(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,N)}for(T=v?p.next:E.next;!(P=e(T,E)).done;){try{C=D(P.value)}catch(F){c(E,"throw",F)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},FS}var LS,Dz;function cT(){if(Dz)return LS;Dz=1;var t=Yt(),e=TypeError;return LS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},LS}var BS,Mz;function dT(){if(Mz)return BS;Mz=1;var t=Se(),e=_t(),r=qm(),n=Be(),i=Ju(),s=Am(),a=cT(),o=dr(),l=hr(),c=Vu(),d=Go(),h=Kn().f,f=Ta().forEach,p=Ft(),m=Yo(),y=m.set,x=m.getterFor;return BS=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=b?"set":"add",N=e[g],S=N&&N.prototype,O={},C;if(!p||!o(N)||!(_||S.forEach&&!n(function(){new N().entries().next()})))C=w.getConstructor(v,g,b,E),r.enable();else{C=v(function(j,D){y(a(j,T),{type:g,collection:new N}),c(D)||s(D,j[E],{that:j,AS_ENTRIES:b})});var T=C.prototype,P=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(j){var D=j==="add"||j==="set";j in S&&!(_&&j==="clear")&&i(T,j,function(F,Q){var H=P(this).collection;if(!D&&_&&!l(F))return j==="get"?void 0:!1;var L=H[j](F===0?0:F,Q);return D?this:L})}),_||h(T,"size",{configurable:!0,get:function(){return P(this).collection.size}})}return d(C,g,!1,!0),O[g]=C,t({global:!0,forced:!0},O),_||w.setStrong(C,g,b),C},BS}var zS,qz;function hT(){if(qz)return zS;qz=1;var t=Eh();return zS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},zS}var US,Az;function Cge(){if(Az)return US;Az=1;var t=On(),e=GP(),r=Qt(),n=Ft(),i=r("species");return US=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},US}var WS,Fz;function pQ(){if(Fz)return WS;Fz=1;var t=Sh(),e=GP(),r=hT(),n=Om(),i=cT(),s=Vu(),a=Am(),o=QP(),l=XP(),c=Cge(),d=Ft(),h=qm().fastKey,f=Yo(),p=f.set,m=f.getterFor;return WS={getConstructor:function(y,x,g,v){var w=y(function(S,O){i(S,b),p(S,{type:x,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(O)||a(O,S[v],{that:S,AS_ENTRIES:g})}),b=w.prototype,_=m(x),E=function(S,O,C){var T=_(S),P=N(S,O),j,D;return P?P.value=C:(T.last=P={index:D=h(O,!0),key:O,value:C,previous:j=T.last,next:null,removed:!1},T.first||(T.first=P),j&&(j.next=P),d?T.size++:S.size++,D!=="F"&&(T.index[D]=P)),S},N=function(S,O){var C=_(S),T=h(O),P;if(T!=="F")return C.index[T];for(P=C.first;P;P=P.next)if(P.key===O)return P};return r(b,{clear:function(){for(var O=this,C=_(O),T=C.first;T;)T.removed=!0,T.previous&&(T.previous=T.previous.next=null),T=T.next;C.first=C.last=null,C.index=t(null),d?C.size=0:O.size=0},delete:function(S){var O=this,C=_(O),T=N(O,S);if(T){var P=T.next,j=T.previous;delete C.index[T.index],T.removed=!0,j&&(j.next=P),P&&(P.previous=j),C.first===T&&(C.first=P),C.last===T&&(C.last=j),d?C.size--:O.size--}return!!T},forEach:function(O){for(var C=_(this),T=n(O,arguments.length>1?arguments[1]:void 0),P;P=P?P.next:C.first;)for(T(P.value,P.key,this);P&&P.removed;)P=P.previous},has:function(O){return!!N(this,O)}}),r(b,g?{get:function(O){var C=N(this,O);return C&&C.value},set:function(O,C){return E(this,O===0?0:O,C)}}:{add:function(O){return E(this,O=O===0?0:O,O)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,E){p(this,{type:v,target:_,state:w(_),kind:E,last:null})},function(){for(var _=b(this),E=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?N.key:E==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},WS}var Lz;function Pge(){if(Lz)return Nz;Lz=1;var t=dT(),e=pQ();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Nz}var Bz;function Tge(){return Bz||(Bz=1,Pge()),Ez}var zz={},HS,Uz;function mQ(){return Uz||(Uz=1,HS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),HS}var VS,Wz;function jge(){if(Wz)return VS;Wz=1;var t=On(),e=mQ(),r=t("Map");return VS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},VS}var Hz;function Ige(){if(Hz)return zz;Hz=1;var t=Se(),e=He(),r=Os(),n=Ns(),i=Am(),s=jge(),a=Qu(),o=Be(),l=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new l,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),zz}var Vz={},KS,Kz;function Rge(){if(Kz)return KS;Kz=1;var t=He(),e=Zu(),r=Gn(),n=Ns(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return KS={codeAt:o(!1),charAt:o(!0)},KS}var Gz;function fT(){if(Gz)return Vz;Gz=1;var t=Rge().charAt,e=Gn(),r=Yo(),n=QP(),i=XP(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),Vz}var GS,Yz;function $ge(){if(Yz)return GS;Yz=1,nc(),Tge(),Ige(),fT();var t=tt();return GS=t.Map,GS}var YS,Qz;function kge(){if(Qz)return YS;Qz=1;var t=$ge();return ic(),YS=t,YS}var QS,Xz;function Dge(){return Xz||(Xz=1,QS=kge()),QS}var Mge=Dge(),pT=Pe(Mge);class qge{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Ht(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Je(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new pT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var Jz={},Zz;function Age(){if(Zz)return Jz;Zz=1;var t=Se();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),Jz}var XS,e8;function Fge(){if(e8)return XS;e8=1,Age();var t=tt();return XS=t.Number.isNaN,XS}var JS,t8;function Lge(){if(t8)return JS;t8=1;var t=Fge();return JS=t,JS}var ZS,r8;function Bge(){return r8||(r8=1,ZS=Lge()),ZS}var zge=Bge(),BO=Pe(zge),n8={},eE,i8;function Uge(){if(i8)return eE;i8=1;var t=_t(),e=t.isFinite;return eE=Number.isFinite||function(n){return typeof n=="number"&&e(n)},eE}var s8;function Wge(){if(s8)return n8;s8=1;var t=Se(),e=Uge();return t({target:"Number",stat:!0},{isFinite:e}),n8}var tE,a8;function Hge(){if(a8)return tE;a8=1,Wge();var t=tt();return tE=t.Number.isFinite,tE}var rE,o8;function Vge(){if(o8)return rE;o8=1;var t=Hge();return rE=t,rE}var nE,l8;function Kge(){return l8||(l8=1,nE=Vge()),nE}var Gge=Kge(),Ya=Pe(Gge),u8={},c8;function Yge(){if(c8)return u8;c8=1;var t=Se(),e=Ta().some,r=sc(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),u8}var iE,d8;function Qge(){if(d8)return iE;d8=1,Yge();var t=wr();return iE=t("Array","some"),iE}var sE,h8;function Xge(){if(h8)return sE;h8=1;var t=Yt(),e=Qge(),r=Array.prototype;return sE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},sE}var aE,f8;function Jge(){if(f8)return aE;f8=1;var t=Xge();return aE=t,aE}var oE,p8;function Zge(){return p8||(p8=1,oE=Jge()),oE}var eye=Zge(),tye=Pe(eye),lE={exports:{}},m8={},v8;function rye(){if(v8)return m8;v8=1;var t=Se(),e=Ft(),r=Kn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),m8}var g8;function nye(){if(g8)return lE.exports;g8=1,rye();var t=tt(),e=t.Object,r=lE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),lE.exports}var uE,y8;function vQ(){if(y8)return uE;y8=1;var t=nye();return uE=t,uE}var cE,b8;function iye(){if(b8)return cE;b8=1;var t=vQ();return cE=t,cE}var dE,x8;function sye(){if(x8)return dE;x8=1;var t=iye();return dE=t,dE}var hE,w8;function aye(){return w8||(w8=1,hE=sye()),hE}var oye=aye(),lye=Pe(oye),_8={},S8;function uye(){if(S8)return _8;S8=1;var t=Qt(),e=Kn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),_8}var E8={},N8;function cye(){return N8||(N8=1,yY()),E8}var O8={},C8;function dye(){return C8||(C8=1,bY()),O8}var P8={},T8;function hye(){if(T8)return P8;T8=1;var t=Pt();return t("metadata"),P8}var fE,j8;function fye(){if(j8)return fE;j8=1;var t=EY();return uye(),cye(),dye(),hye(),fE=t,fE}var I8={},pE,R8;function gQ(){if(R8)return pE;R8=1;var t=On(),e=He(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return pE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},pE}var $8;function pye(){if($8)return I8;$8=1;var t=Se(),e=gQ();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),I8}var k8={},mE,D8;function yQ(){if(D8)return mE;D8=1;for(var t=Xu(),e=On(),r=He(),n=bh(),i=Qt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return mE=function(y){if(a&&a(y))return!0;try{for(var x=l(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},mE}var M8;function mye(){if(M8)return k8;M8=1;var t=Se(),e=yQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),k8}var q8={},A8;function vye(){if(A8)return q8;A8=1;var t=Pt();return t("customMatcher"),q8}var F8={},L8;function gye(){if(L8)return F8;L8=1;var t=Pt();return t("observable"),F8}var B8={},z8;function yye(){if(z8)return B8;z8=1;var t=Se(),e=gQ();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),B8}var U8={},W8;function bye(){if(W8)return U8;W8=1;var t=Se(),e=yQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),U8}var H8={},V8;function xye(){if(V8)return H8;V8=1;var t=Pt();return t("matcher"),H8}var K8={},G8;function wye(){if(G8)return K8;G8=1;var t=Pt();return t("metadataKey"),K8}var Y8={},Q8;function _ye(){if(Q8)return Y8;Q8=1;var t=Pt();return t("patternMatch"),Y8}var X8={},J8;function Sye(){if(J8)return X8;J8=1;var t=Pt();return t("replaceAll"),X8}var vE,Z8;function Eye(){if(Z8)return vE;Z8=1;var t=fye();return pye(),mye(),vye(),gye(),yye(),bye(),xye(),wye(),_ye(),Sye(),vE=t,vE}var gE,e7;function Nye(){return e7||(e7=1,gE=Eye()),gE}var Oye=Nye(),ff=Pe(Oye),yE,t7;function Cye(){if(t7)return yE;t7=1,nc(),fT(),xY();var t=Rm();return yE=t.f("iterator"),yE}var bE,r7;function Pye(){if(r7)return bE;r7=1;var t=Cye();return ic(),bE=t,bE}var xE,n7;function Tye(){if(n7)return xE;n7=1;var t=Pye();return xE=t,xE}var wE,i7;function jye(){if(i7)return wE;i7=1;var t=Tye();return wE=t,wE}var _E,s7;function Iye(){return s7||(s7=1,_E=jye()),_E}var Rye=Iye(),$ye=Pe(Rye);function Rd(t){"@babel/helpers - typeof";return Rd=typeof ff=="function"&&typeof $ye=="symbol"?function(e){return typeof e}:function(e){return e&&typeof ff=="function"&&e.constructor===ff&&e!==ff.prototype?"symbol":typeof e},Rd(t)}var SE,a7;function kye(){if(a7)return SE;a7=1,wY();var t=Rm();return SE=t.f("toPrimitive"),SE}var EE,o7;function Dye(){if(o7)return EE;o7=1;var t=kye();return EE=t,EE}var NE,l7;function Mye(){if(l7)return NE;l7=1;var t=Dye();return NE=t,NE}var OE,u7;function qye(){if(u7)return OE;u7=1;var t=Mye();return OE=t,OE}var CE,c7;function Aye(){return c7||(c7=1,CE=qye()),CE}var Fye=Aye(),Lye=Pe(Fye);function Bye(t,e){if(Rd(t)!="object"||!t)return t;var r=t[Lye];if(r!==void 0){var n=r.call(t,e);if(Rd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function zye(t){var e=Bye(t,"string");return Rd(e)=="symbol"?e:e+""}function Zi(t,e,r){return(e=zye(e))in t?lye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var d7={},PE,h7;function Uye(){if(h7)return PE;h7=1;var t=_t(),e=Be(),r=He(),n=Gn(),i=OY().trim,s=JP(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,c=l&&l.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return PE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,PE}var f7;function Wye(){if(f7)return d7;f7=1;var t=Se(),e=Uye();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),d7}var TE,p7;function Hye(){if(p7)return TE;p7=1,Wye();var t=tt();return TE=t.parseFloat,TE}var jE,m7;function Vye(){if(m7)return jE;m7=1;var t=Hye();return jE=t,jE}var IE,v7;function Kye(){return v7||(v7=1,IE=Vye()),IE}var Gye=Kye(),bQ=Pe(Gye),g7={},y7;function Yye(){if(y7)return g7;y7=1;var t=Se(),e=Be(),r=KP().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),g7}var RE,b7;function Qye(){if(b7)return RE;b7=1,Yye();var t=tt(),e=t.Object;return RE=function(n){return e.getOwnPropertyNames(n)},RE}var $E,x7;function Xye(){if(x7)return $E;x7=1;var t=Qye();return $E=t,$E}var kE,w7;function Jye(){return w7||(w7=1,kE=Xye()),kE}var Zye=Jye(),e0e=Pe(Zye),DE,_7;function t0e(){if(_7)return DE;_7=1,gY();var t=tt();return DE=t.Object.getOwnPropertySymbols,DE}var ME,S7;function r0e(){if(S7)return ME;S7=1;var t=t0e();return ME=t,ME}var qE,E7;function n0e(){return E7||(E7=1,qE=r0e()),qE}var i0e=n0e(),ba=Pe(i0e),AE={exports:{}},N7={},O7;function s0e(){if(O7)return N7;O7=1;var t=Se(),e=Be(),r=gi(),n=Nm().f,i=Ft(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),N7}var C7;function a0e(){if(C7)return AE.exports;C7=1,s0e();var t=tt(),e=t.Object,r=AE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),AE.exports}var FE,P7;function o0e(){if(P7)return FE;P7=1;var t=a0e();return FE=t,FE}var LE,T7;function l0e(){return T7||(T7=1,LE=o0e()),LE}var u0e=l0e(),ja=Pe(u0e),j7={},I7;function c0e(){if(I7)return j7;I7=1;var t=Se(),e=Ft(),r=Dfe(),n=gi(),i=Nm(),s=Tm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),c=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=c(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),j7}var BE,R7;function d0e(){if(R7)return BE;R7=1,c0e();var t=tt();return BE=t.Object.getOwnPropertyDescriptors,BE}var zE,$7;function h0e(){if($7)return zE;$7=1;var t=d0e();return zE=t,zE}var UE,k7;function f0e(){return k7||(k7=1,UE=h0e()),UE}var p0e=f0e(),xa=Pe(p0e),WE={exports:{}},D7={},M7;function m0e(){if(M7)return D7;M7=1;var t=Se(),e=Ft(),r=VP().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),D7}var q7;function v0e(){if(q7)return WE.exports;q7=1,m0e();var t=tt(),e=t.Object,r=WE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),WE.exports}var HE,A7;function g0e(){if(A7)return HE;A7=1;var t=v0e();return HE=t,HE}var VE,F7;function y0e(){return F7||(F7=1,VE=g0e()),VE}var b0e=y0e(),Fm=Pe(b0e),KE,L7;function x0e(){return L7||(L7=1,KE=vQ()),KE}var w0e=x0e(),Lm=Pe(w0e);function mT(t,e){const r=["node","edge","label"];let n=!0;const i=ks(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Je(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=ks(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function zO(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Ip(t){return typeof t=="string"&&t!==""}function xQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var GE,B7;function _0e(){if(B7)return GE;B7=1,nc();var t=wr();return GE=t("Array","values"),GE}var YE,z7;function S0e(){if(z7)return YE;z7=1;var t=_0e();return YE=t,YE}var QE,U7;function E0e(){if(U7)return QE;U7=1,ic();var t=tc(),e=xr(),r=Yt(),n=S0e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return QE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},QE}var XE,W7;function N0e(){return W7||(W7=1,XE=E0e()),XE}var O0e=N0e(),wQ=Pe(O0e);class C0e{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Ht({},wQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Ht(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const P0e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class H7{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=P0e[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class T0e{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:l}};this.lines=new C0e(s)}process(e){if(!Ip(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,c=a[o].text;this.lines.append(c,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new H7(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new H7(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Ci(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(Ci(a).call(a,0,o),r),i[0]=Ci(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=Ci(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=Ci(i).call(i,a)}}}}const Pc=["bold","ital","boldital","mono"];class Ll{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Ip(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Me(Pc,r=>{this.fontOptions[r]={}}),Ll.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Me(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=ks(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=ks(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=ks(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=ks(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=ks(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=ks(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),dt(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=mT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Ll.parseFontString(s,i)&&(i=s),Me(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Je(Pc).call(Pc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Ll.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<Pc.length;++n){const i=Pc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);Me(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=qn(i,a),s=qn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,c,d){return c==="normal"?d==="mod"?"":l[d]:l[c][d]!==void 0?l[c][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new T0e(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Xo{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),Oh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let j0e=class extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),aY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class vT extends Xo{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),UP(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let I0e=class extends vT{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class R0e extends vT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Ia extends Xo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),Ghe(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function V7(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=en(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function $0e(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=V7(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Fm(t,xa(i)):at(n=V7(Object(i))).call(n,function(s){Lm(t,s,ja(i,s))})}return t}class k0e extends Ia{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:$0e({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class D0e extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),oY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let M0e=class extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class q0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class K7 extends Xo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),RO(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class A0e extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let F0e=class extends vT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=qn(f,a.opacity),p=qn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),Oh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class L0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class B0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class z0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class U0e extends Xo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let W0e=class extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class H0e extends Ia{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function G7(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=en(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function Y7(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=G7(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Fm(t,xa(i)):at(n=G7(Object(i))).call(n,function(s){Lm(t,s,ja(i,s))})}return t}class xt{constructor(e,r,n,i,s,a){this.options=ha(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Ll(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Je(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Je(r=this.edges).call(r,e);if(n!=-1){var i;ss(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");xt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=ai(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=ai(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=bQ(e.value)),xt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=mT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&xt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(xt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=en(i=e0e(r)).call(i,c=>r[c]!=null);l.push("font"),Tp(l,e,o),e.color=qO(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Tp(["color","fixed","shadow"],e,r,n),xt.checkMass(r),e.opacity!==void 0&&(xt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(xt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!xt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),$n(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=qO(r.color);eQ(e.color,o)}else n===!0&&r.color===null&&(e.color=ha(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=ha(i.font)),xt.updateGroupOptions(e,r,s),r.scaling!==void 0&&$n(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=qn(e.borderColor,r),e.color=qn(e.color,r),e.shadowColor=qn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),xt.updateGroupOptions(this.options,Y7(Y7({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new j0e(this.options,this.body,this.labelModule);break;case"circle":this.shape=new I0e(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new R0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new k0e(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new D0e(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new M0e(this.options,this.body,this.labelModule);break;case"dot":this.shape=new q0e(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new K7(this.options,this.body,this.labelModule);break;case"icon":this.shape=new A0e(this.options,this.body,this.labelModule);break;case"image":this.shape=new F0e(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new L0e(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new B0e(this.options,this.body,this.labelModule);break;case"star":this.shape=new z0e(this.options,this.body,this.labelModule);break;case"text":this.shape=new U0e(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new W0e(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new H0e(this.options,this.body,this.labelModule);break;default:this.shape=new K7(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&zO(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),zO(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",iQ),e.mass=1}}}class V0e{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=te(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=ha(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",te(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",te(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Me(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(xt.parseOptions(this.options,e),e.opacity!==void 0&&(BO(e.opacity)||!Ya(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Rt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(JG("id",e))this.body.data.nodes=e;else if(Dt(e))this.body.data.nodes=new bu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new bu;else throw new TypeError("Array or DataSet expected");if(n&&Me(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Me(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const c=r[a];l!==void 0?l.setOptions(c)&&(s=!0):(s=!0,l=this.create(c),i[o]=l)}!s&&n!==void 0&&(s=tye(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:xt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Me(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Dt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),as(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var Q7={},X7;function K0e(){if(X7)return Q7;X7=1;var t=Se(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),Q7}var JE,J7;function G0e(){if(J7)return JE;J7=1,K0e();var t=tt();return JE=t.Math.hypot,JE}var ZE,Z7;function Y0e(){if(Z7)return ZE;Z7=1;var t=G0e();return ZE=t,ZE}var e2,eU;function Q0e(){return eU||(eU=1,e2=Y0e()),e2}var X0e=Q0e(),J0e=Pe(X0e);class qt{static transform(e,r){Dt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],c=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*c,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let Z0e=class extends qt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class ebe extends qt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class tbe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class rbe{static draw(e,r){const n={x:-.4,y:0};qt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class nbe{static draw(e,r){const n={x:-.3,y:0};qt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class ibe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class sbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class abe{static draw(e,r){const n={x:-.4,y:0};return qt.transform(n,r),UP(e,n.x,n.y,r.length*.4),!0}}class obe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class lbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class ube{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class cbe{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return qt.transform(n,r),qt.drawPath(e,n),!0}}class _Q{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return Z0e.draw(e,r);case"circle":return abe.draw(e,r);case"box":return lbe.draw(e,r);case"crow":return tbe.draw(e,r);case"curve":return rbe.draw(e,r);case"diamond":return ube.draw(e,r);case"inv_curve":return nbe.draw(e,r);case"triangle":return ibe.draw(e,r);case"inv_triangle":return sbe.draw(e,r);case"bar":return obe.draw(e,r);case"vee":return cbe.draw(e,r);case"arrow":default:return ebe.draw(e,r)}}}function tU(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=en(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function rU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=tU(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Fm(t,xa(i)):at(n=tU(Object(i))).call(n,function(s){Lm(t,s,ja(i,s))})}return t}class SQ{constructor(e,r,n){Zi(this,"color",{}),Zi(this,"colorDirty",!0),Zi(this,"hoverWidth",1.5),Zi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Dt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)lY(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,c]=this._getCircleData(e);this._circle(e,r,o,l,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Ci(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=xQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const x=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,x)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-v;if(Math.abs(w)<h)break;w>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<c);return rU(rU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=qn(this.from.options.color.border,r.opacity),s=qn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?qn(this.to.options.color.border,r.opacity):qn(this.from.options.color.border,r.opacity)}else return qn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,c]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,c=o*o+l*l;let d=((s-e)*o+(a-r)*l)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,c,d,h,f,p;const m=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(c!=d){const w=J0e(c.x-d.x,c.y-d.y),b=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),E=this.getPoint(_.t+b*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(c.y-d.y,c.x-d.x),l=this._findBorderPosition(c,e);else{const _=(h?-b:b)/2,E=this.getPoint(.5+_,n),N=this.getPoint(.5-_,n);o=Math.atan2(E.y-N.y,E.x-N.x),l=this.getPoint(.5,n)}}else{const[w,b,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:E,high:N,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(w,b,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const x=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,_Q.draw(e,s)&&(this.enableShadow(e,r),Oh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Dt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function nU(t,e){var r=Rt(t);if(ba){var n=ba(t);e&&(n=en(n).call(n,function(i){return ja(t,i).enumerable})),r.push.apply(r,n)}return r}function iU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?at(r=nU(Object(i),!0)).call(r,function(s){Zi(t,s,i[s])}):xa?Fm(t,xa(i)):at(n=nU(Object(i))).call(n,function(s){Lm(t,s,ja(i,s))})}return t}class gT extends SQ{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,m)+f,x=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-x;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return iU(iU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,c,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(m,y,f,p,s,a),l=c<l?c:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class sU extends gT{constructor(e,r,n){super(e,r,n),Zi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class aU extends gT{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class dbe extends gT{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,x=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,x,s,a);c=g<c?g:c}d=y,h=x}return c}}class oU extends dbe{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class lU extends SQ{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(l-c)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class fa{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=ha(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Ll(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;fa.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=bQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=mT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(oc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ya(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ya(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Ip(r.label)?e.label=r.label:Ip(e.label)||(e.label=void 0),$n(e,r,"smooth",i),$n(e,r,"shadow",i),$n(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=po(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),$n(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=po(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Je(o).call(o,"to")!=-1,e.arrows.middle.enabled=Je(o).call(o,"middle")!=-1,e.arrows.from.enabled=Je(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")$n(e.arrows,r.arrows,"to",i.arrows),$n(e.arrows,r.arrows,"middle",i.arrows),$n(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+Nh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=po(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Al(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)dt(l,i.color,!1,n);else for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&delete l[c];if(Al(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let c=!1;o.color!==void 0&&(l.color=o.color,c=!0),o.highlight!==void 0&&(l.highlight=o.highlight,c=!0),o.hover!==void 0&&(l.hover=o.hover,c=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=ha(i.color));n===!0&&r.font===null&&(e.font=ha(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof sU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof oU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof aU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof lU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new sU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new oU(this.options,this.body,this.labelModule):this.edgeType=new aU(this.options,this.body,this.labelModule):this.edgeType=new lU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=xQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();zO(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class hbe{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=te(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(l-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",te(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",te(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Me(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){fa.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(JG("id",e))this.body.data.edges=e;else if(Dt(e))this.body.data.edges=new bu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new bu;else throw new TypeError("Array or DataSet expected");if(n&&Me(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Me(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Me(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Me(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new fa(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Me(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];at(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class EQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Mm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let x=1;x<i;x++){const g=e[r[x]],v=g.x,w=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),w<a&&(a=w),w>l&&(l=w))}const c=Math.abs(o-s)-Math.abs(l-a);c>0?(a-=.5*c,l+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let x=0;x<i;x++)n=e[r[x]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class fbe{constructor(e,r,n){this._rng=Mm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let x=y+1;x<d.length;x++)l=c[d[x]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class pbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<c?m=-Math.pow(p*f,2)+Math.pow(p*c,2):m=0,f!==0&&(m=m/f);const y=d*m,x=h*m;n[a.id].x-=y,n[a.id].y-=x,n[l.id].x+=y,n[l.id].y+=x}}}}}class t2{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=c)}}class mbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=c[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let b=0;b<f.length;b++){const _=f[b];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let x=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];x+=p[_].x,g+=p[_].y}const v=x/f.length,w=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=v,p[_].y-=w}}}class Df{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const c=a[l];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class vbe extends EQ{constructor(e,r,n){super(e,r,n),this._rng=Mm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,c=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=c}}class gbe extends Df{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class ybe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Ht(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Tp(["stabilization"],this.options,e),$n(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||BO(r.x))&&(r.x=0),(typeof r.y!="number"||BO(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new vbe(this.body,this.physicsBody,e),this.edgesSolver=new t2(this.body,this.physicsBody,e),this.gravitySolver=new gbe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new fbe(this.body,this.physicsBody,e),this.edgesSolver=new t2(this.body,this.physicsBody,e),this.gravitySolver=new Df(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new pbe(this.body,this.physicsBody,e),this.edgesSolver=new mbe(this.body,this.physicsBody,e),this.gravitySolver=new Df(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new EQ(this.body,this.physicsBody,e),this.edgesSolver=new t2(this.body,this.physicsBody,e),this.gravitySolver=new Df(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=te(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Np();this.physicsTick(),(Np()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&as(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Rt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,as(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;as(te(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,l),15),d=3*c,h=AO((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,_Q.draw(e,{type:"arrow",point:f,angle:p,length:d}),Oh(e).call(e)}}}const mr=[];for(let t=0;t<256;++t)mr.push((t+256).toString(16).slice(1));function bbe(t,e=0){return(mr[t[e+0]]+mr[t[e+1]]+mr[t[e+2]]+mr[t[e+3]]+"-"+mr[t[e+4]]+mr[t[e+5]]+"-"+mr[t[e+6]]+mr[t[e+7]]+"-"+mr[t[e+8]]+mr[t[e+9]]+"-"+mr[t[e+10]]+mr[t[e+11]]+mr[t[e+12]]+mr[t[e+13]]+mr[t[e+14]]+mr[t[e+15]]).toLowerCase()}let r2;const xbe=new Uint8Array(16);function wbe(){if(!r2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");r2=crypto.getRandomValues.bind(crypto)}return r2(xbe)}const _be=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var uU={randomUUID:_be};function Sbe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??wbe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,bbe(n)}function Jc(t,e,r){return uU.randomUUID&&!t?uU.randomUUID():Sbe(t)}class Lr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(dt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):dt(n,e.options,!0),n}}class Ebe extends xt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Me(r.edges,n=>{delete this.containedEdges[n.id]}),Me(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Me(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Me(r.edges,n=>{Me(this.edges,i=>{var s,a;const o=Je(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(Me(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),ss(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Nbe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Ht(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Me(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,Me(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(x){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Lr.cloneOptions(x);return r.joinCondition(g)};let y=!0;for(let x=0;x<o.length;x++){a=o[x];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Rt(d).length>0&&Rt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const w in d)if(i[v].nodes[w]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,c=Lr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Lr.cloneOptions(this.body.nodes[p]);r.joinCondition(c,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=xu(n=Rt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Je(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,c,d;const h=Rt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let x=0;x<o.edges.length;x++)s=o.edges[x],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,c=s.fromId,d=c):(l=s.toId,c=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:c,toId:l}))}const p=[],m=function(y){for(let x=0;x<p.length;x++){const g=p[x],v=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(v||w)return g}return null};for(let y=0;y<f.length;y++){const x=f[y],g=x.edge;let v=m(x);v===null?(v=this._createClusteredEdge(x.fromId,x.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Rt(e).length==0||Rt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=dt({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Lr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Lr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Jc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const c=this.body.functions.createNode(a,Ebe);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Rt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Je(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else Me(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],x=this.body.edges[y];if(x!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[x.id]=x,delete l[x.id];let v=x.fromId,w=x.toId;x.toId==f?w=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,w,x,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(x)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),fo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return fo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const c=l.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];Je(r).call(r,c)!==-1||Je(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const c=this.body.nodes[this.body.nodeIndices[l]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Lr.cloneOptions(n,"edge");dt(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Jc(),s!==void 0&&dt(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof fa){const s=r,a={};a[s.id]=s,r=a}if(e instanceof xt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Me(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Me(this.body.nodes,c=>{c.isCluster===!0&&l(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let c=0;c<r.length;c++)delete l.containedNodes[r[c]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Me(this.clusteredEdges,l=>{const c=this.body.edges[l];(c===void 0||!c.endPointsValid())&&(n[l]=l)}),i(function(l){Me(l.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),Me(this.body.edges,(l,c)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;Me(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[c]=c)}),i(l=>{Me(n,c=>{delete l.containedEdges[c],Me(l.edges,(d,h)=>{if(d.id===c){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),Me(n,l=>{delete this.clusteredEdges[l]}),Me(n,l=>{delete this.body.edges[l]});const s=Rt(this.body.edges);Me(s,l=>{const c=this.body.edges[l],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[l],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const l=[];i(function(c){const d=Rt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(c.id)});for(let c=0;c<l.length;++c)this.openCluster(l[c],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Obe{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=as(()=>{var r;this.zooming=!1,te(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",te(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&oc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(te(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,c=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let x=0;x<i.length;x++)if(s=n[i[x]],s.hover)o.push(i[x]);else if(s.isSelected())a.push(i[x]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}return{drawExternalLabels:()=>{for(const x of f)x()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var n2,cU;function Cbe(){if(cU)return n2;cU=1,TY();var t=tt();return n2=t.setInterval,n2}var i2,dU;function Pbe(){return dU||(dU=1,i2=Cbe()),i2}var Tbe=Pbe(),jbe=Pe(Tbe);function Rp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function NQ(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class Ibe{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",te(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&oc(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=jbe(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=te(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;at(e=fo(r=ss(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Je(e).call(e,"%")!==-1||Je(e).call(e,"px")!==-1)return e;if(Je(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Fl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Fl.DIRECTION_ALL}),Rp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Fl(this.frame),NQ(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function Rbe(t,e){const r=Ht({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Dt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class $be{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",te(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",te(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=Rbe(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Lr.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Lr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Lr.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Lr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ya(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ya(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ya(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ya(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=te(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=te(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Bve[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=te(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function hU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},l=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class kbe{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Fl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;Rp(o,te(n=this._fit).call(n,this))}else{var i;Rp(o,te(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Fl(this.canvas.frame);NQ(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=te(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=hU({container:window,preventDefault:!0}):this.keycharm=hU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,c,d,h,f,p,m,y,x,g,v,w,b,_,E,N,S;te(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),te(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),te(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),te(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),te(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),te(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),te(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),te(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),te(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),te(x=this.keycharm).call(x,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),te(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),te(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(N=this.keycharm).call(N,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),te(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class Dbe{constructor(e,r,n){var i,s,a,o,l,c,d,h,f,p,m,y,x;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new kbe(e,r),this.body.eventListeners.onTap=te(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=te(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=te(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=te(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=te(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=te(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=te(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=te(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=te(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=te(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=te(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=te(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=te(x=this.getPointer).call(x,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Tp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),$n(this.options,e,"keyboard"),e.tooltip&&(Ht(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=qO(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-qve(this.canvas.frame.canvas),y:e.y-Ave(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Je(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Ht({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;at(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=en(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});at(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(at(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=as(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=c[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Yve(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var fU={},pU={},mU;function Mbe(){if(mU)return pU;mU=1;var t=dT(),e=pQ();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),pU}var vU;function qbe(){return vU||(vU=1,Mbe()),fU}var gU={},s2,yU;function Jo(){if(yU)return s2;yU=1;var t=Yu(),e=TypeError;return s2=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},s2}var a2,bU;function Zo(){if(bU)return a2;bU=1;var t=On(),e=mQ(),r=t("Set"),n=r.prototype;return a2={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},a2}var o2,xU;function el(){if(xU)return o2;xU=1;var t=fn();return o2=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},o2}var l2,wU;function Rh(){if(wU)return l2;wU=1;var t=el();return l2=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},l2}var u2,_U;function yT(){if(_U)return u2;_U=1;var t=Zo(),e=Rh(),r=t.Set,n=t.add;return u2=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},u2}var c2,SU;function $h(){return SU||(SU=1,c2=function(t){return t.size}),c2}var d2,EU;function Abe(){return EU||(EU=1,d2=function(t){return{iterator:t,next:t.next,done:!1}}),d2}var h2,NU;function tl(){if(NU)return h2;NU=1;var t=Os(),e=Ai(),r=fn(),n=Zu(),i=Abe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,c=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},h2=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},h2}var f2,OU;function Fbe(){if(OU)return f2;OU=1;var t=Jo(),e=Zo(),r=yT(),n=$h(),i=tl(),s=Rh(),a=el(),o=e.has,l=e.remove;return f2=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},f2}var p2,CU;function rl(){return CU||(CU=1,p2=function(){return!1}),p2}var PU;function Lbe(){if(PU)return gU;PU=1;var t=Se(),e=Fbe(),r=Be(),n=rl(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var c=l++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),gU}var TU={},m2,jU;function Bbe(){if(jU)return m2;jU=1;var t=Jo(),e=Zo(),r=$h(),n=tl(),i=Rh(),s=el(),a=e.Set,o=e.add,l=e.has;return m2=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},m2}var IU;function zbe(){if(IU)return TU;IU=1;var t=Se(),e=Be(),r=Bbe(),n=rl(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),TU}var RU={},v2,$U;function Ube(){if($U)return v2;$U=1;var t=Jo(),e=Zo().has,r=$h(),n=tl(),i=Rh(),s=el(),a=uT();return v2=function(l){var c=t(this),d=n(l);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},v2}var kU;function Wbe(){if(kU)return RU;kU=1;var t=Se(),e=Ube(),r=rl(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),RU}var DU={},g2,MU;function Hbe(){if(MU)return g2;MU=1;var t=Jo(),e=$h(),r=Rh(),n=tl();return g2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},g2}var qU;function Vbe(){if(qU)return DU;qU=1;var t=Se(),e=Hbe(),r=rl(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),DU}var AU={},y2,FU;function Kbe(){if(FU)return y2;FU=1;var t=Jo(),e=Zo().has,r=$h(),n=tl(),i=el(),s=uT();return y2=function(o){var l=t(this),c=n(o);if(r(l)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},y2}var LU;function Gbe(){if(LU)return AU;LU=1;var t=Se(),e=Kbe(),r=rl(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),AU}var BU={},b2,zU;function Ybe(){if(zU)return b2;zU=1;var t=Jo(),e=Zo(),r=yT(),n=tl(),i=el(),s=e.add,a=e.has,o=e.remove;return b2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},b2}var x2,UU;function OQ(){return UU||(UU=1,x2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),x2}var WU;function Qbe(){if(WU)return BU;WU=1;var t=Se(),e=Ybe(),r=OQ(),n=rl(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),BU}var HU={},w2,VU;function Xbe(){if(VU)return w2;VU=1;var t=Jo(),e=Zo().add,r=yT(),n=tl(),i=el();return w2=function(a){var o=t(this),l=n(a).getIterator(),c=r(o);return i(l,function(d){e(c,d)}),c},w2}var KU;function Jbe(){if(KU)return HU;KU=1;var t=Se(),e=Xbe(),r=OQ(),n=rl(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),HU}var _2,GU;function Zbe(){if(GU)return _2;GU=1,nc(),qbe(),Lbe(),zbe(),Wbe(),Vbe(),Gbe(),Qbe(),Jbe(),fT();var t=tt();return _2=t.Set,_2}var S2,YU;function e1e(){if(YU)return S2;YU=1;var t=Zbe();return ic(),S2=t,S2}var E2,QU;function t1e(){return QU||(QU=1,E2=e1e()),E2}var r1e=t1e(),qs=Pe(r1e),XU={},JU={},N2,ZU;function n1e(){if(ZU)return N2;ZU=1;var t=He(),e=hT(),r=qm().getWeakData,n=cT(),i=Ai(),s=Vu(),a=hr(),o=Am(),l=Ta(),c=xr(),d=Yo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),x=0,g=function(b){return b.frozen||(b.frozen=new v)},v=function(){this.entries=[]},w=function(b,_){return p(b.entries,function(E){return E[0]===_})};return v.prototype={get:function(b){var _=w(this,b);if(_)return _[1]},has:function(b){return!!w(this,b)},set:function(b,_){var E=w(this,b);E?E[1]=_:this.entries.push([b,_])},delete:function(b){var _=m(this.entries,function(E){return E[0]===b});return~_&&y(this.entries,_,1),!!~_}},N2={getConstructor:function(b,_,E,N){var S=b(function(P,j){n(P,O),h(P,{type:_,id:x++,frozen:null}),s(j)||o(j,P[N],{that:P,AS_ENTRIES:E})}),O=S.prototype,C=f(_),T=function(P,j,D){var F=C(P),Q=r(i(j),!0);return Q===!0?g(F).set(j,D):Q[F.id]=D,P};return e(O,{delete:function(P){var j=C(this);if(!a(P))return!1;var D=r(P);return D===!0?g(j).delete(P):D&&c(D,j.id)&&delete D[j.id]},has:function(j){var D=C(this);if(!a(j))return!1;var F=r(j);return F===!0?g(D).has(j):F&&c(F,D.id)}}),e(O,E?{get:function(j){var D=C(this);if(a(j)){var F=r(j);if(F===!0)return g(D).get(j);if(F)return F[D.id]}},set:function(j,D){return T(this,j,D)}}:{add:function(j){return T(this,j,!0)}}),S}},N2}var eW;function i1e(){if(eW)return JU;eW=1;var t=hQ(),e=_t(),r=He(),n=hT(),i=qm(),s=dT(),a=n1e(),o=hr(),l=Yo().enforce,c=Be(),d=pY(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,x=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,w,b=function(P){return function(){return P(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,a),E=_.prototype,N=r(E.set),S=function(){return t&&c(function(){var P=x([]);return N(new _,P,1),!m(P)})};if(d)if(v){w=a.getConstructor(b,"WeakMap",!0),i.enable();var O=r(E.delete),C=r(E.has),T=r(E.get);n(E,{delete:function(P){if(o(P)&&!p(P)){var j=l(this);return j.frozen||(j.frozen=new w),O(this,P)||j.frozen.delete(P)}return O(this,P)},has:function(j){if(o(j)&&!p(j)){var D=l(this);return D.frozen||(D.frozen=new w),C(this,j)||D.frozen.has(j)}return C(this,j)},get:function(j){if(o(j)&&!p(j)){var D=l(this);return D.frozen||(D.frozen=new w),C(this,j)?T(this,j):D.frozen.get(j)}return T(this,j)},set:function(j,D){if(o(j)&&!p(j)){var F=l(this);F.frozen||(F.frozen=new w),C(this,j)?N(this,j,D):F.frozen.set(j,D)}else N(this,j,D);return this}})}else S()&&n(E,{set:function(j,D){var F;return f(j)&&(m(j)?F=x:y(j)&&(F=g)),N(this,j,D),F&&F(j),this}});return JU}var tW;function s1e(){return tW||(tW=1,i1e()),XU}var O2,rW;function a1e(){if(rW)return O2;rW=1,nc(),s1e();var t=tt();return O2=t.WeakMap,O2}var C2,nW;function o1e(){if(nW)return C2;nW=1;var t=a1e();return ic(),C2=t,C2}var P2,iW;function l1e(){return iW||(iW=1,P2=o1e()),P2}var u1e=l1e(),kh=Pe(u1e);function Zc(t,e,r){c1e(t,e),e.set(t,r)}function c1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function UO(t,e,r){return t.set(CQ(t,e),r),r}function ct(t,e){return t.get(CQ(t,e))}function CQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function sW(t,e){const r=new qs;for(const n of e)t.has(n)||r.add(n);return r}var cl=new kh,Jn=new kh;class aW{constructor(){Zc(this,cl,new qs),Zc(this,Jn,new qs)}get size(){return ct(Jn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ct(Jn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)ct(Jn,this).delete(i)}clear(){ct(Jn,this).clear()}getSelection(){return[...ct(Jn,this)]}getChanges(){return{added:[...sW(ct(cl,this),ct(Jn,this))],deleted:[...sW(ct(Jn,this),ct(cl,this))],previous:[...new qs(ct(cl,this))],current:[...new qs(ct(Jn,this))]}}commit(){const e=this.getChanges();UO(cl,this,ct(Jn,this)),UO(Jn,this,new qs(ct(cl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var ka=new kh,Da=new kh,T2=new kh;class d1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Zc(this,ka,new aW),Zc(this,Da,new aW),Zc(this,T2,void 0),UO(T2,this,e)}get sizeNodes(){return ct(ka,this).size}get sizeEdges(){return ct(Da,this).size}getNodes(){return ct(ka,this).getSelection()}getEdges(){return ct(Da,this).getSelection()}addNodes(){ct(ka,this).add(...arguments)}addEdges(){ct(Da,this).add(...arguments)}deleteNodes(e){ct(ka,this).delete(e)}deleteEdges(e){ct(Da,this).delete(e)}clear(){ct(ka,this).clear(),ct(Da,this).clear()}commit(){const e={nodes:ct(ka,this).commit(),edges:ct(Da,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return ct(T2,this).call(this,e,...n),e}}class h1e{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new d1e,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Ht(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&oc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof xt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],c=a[l];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,m=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof xt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof xt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof xt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof xt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof xt&&n.id!=s||n instanceof fa)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof fa&&n.id!=s||n instanceof xt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Rt(this.hoverObj.edges).length,a=Rt(this.hoverObj.nodes).length,o=n instanceof fa&&s===0&&a===0,l=n instanceof xt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof xt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return xu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return xu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var oW={},j2,lW;function f1e(){if(lW)return j2;lW=1;var t=ec(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return j2=r,j2}var I2,uW;function p1e(){if(uW)return I2;uW=1;var t=Ku(),e=t.match(/firefox\/(\d+)/i);return I2=!!e&&+e[1],I2}var R2,cW;function m1e(){if(cW)return R2;cW=1;var t=Ku();return R2=/MSIE|Trident/.test(t),R2}var $2,dW;function v1e(){if(dW)return $2;dW=1;var t=Ku(),e=t.match(/AppleWebKit\/(\d+)\./);return $2=!!e&&+e[1],$2}var hW;function g1e(){if(hW)return oW;hW=1;var t=Se(),e=He(),r=Os(),n=Cn(),i=Cs(),s=NY(),a=Gn(),o=Be(),l=f1e(),c=sc(),d=p1e(),h=m1e(),f=yh(),p=v1e(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",S,O,C,T;for(S=65;S<76;S++){switch(O=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(T=0;T<47;T++)m.push({k:O+T,v:C})}for(m.sort(function(P,j){return j.v-P.v}),T=0;T<m.length;T++)O=m[T].k.charAt(0),N.charAt(N.length-1)!==O&&(N+=O);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,E=function(N){return function(S,O){return O===void 0?-1:S===void 0?1:N!==void 0?+N(S,O)||0:a(S)>a(O)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var O=n(this);if(b)return S===void 0?y(O):y(O,S);var C=[],T=i(O),P,j;for(j=0;j<T;j++)j in O&&x(C,O[j]);for(l(C,E(S)),P=i(C),j=0;j<P;)O[j]=C[j++];for(;j<T;)s(O,j++);return O}}),oW}var k2,fW;function y1e(){if(fW)return k2;fW=1,g1e();var t=wr();return k2=t("Array","sort"),k2}var D2,pW;function b1e(){if(pW)return D2;pW=1;var t=Yt(),e=y1e(),r=Array.prototype;return D2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},D2}var M2,mW;function x1e(){if(mW)return M2;mW=1;var t=b1e();return M2=t,M2}var q2,vW;function w1e(){return vW||(vW=1,q2=x1e()),q2}var _1e=w1e(),Bl=Pe(_1e),gW={},A2,yW;function S1e(){if(yW)return A2;yW=1;var t=Os(),e=Cn(),r=Sm(),n=Cs(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,c,d,h){var f=e(l),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return A2={left:a(!1),right:a(!0)},A2}var F2,bW;function E1e(){if(bW)return F2;bW=1;var t=CY();return F2=t==="NODE",F2}var xW;function N1e(){if(xW)return gW;xW=1;var t=Se(),e=S1e().left,r=sc(),n=yh(),i=E1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var c=arguments.length;return e(this,l,c,c>1?arguments[1]:void 0)}}),gW}var L2,wW;function O1e(){if(wW)return L2;wW=1,N1e();var t=wr();return L2=t("Array","reduce"),L2}var B2,_W;function C1e(){if(_W)return B2;_W=1;var t=Yt(),e=O1e(),r=Array.prototype;return B2=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},B2}var z2,SW;function P1e(){if(SW)return z2;SW=1;var t=C1e();return z2=t,z2}var U2,EW;function T1e(){return EW||(EW=1,U2=P1e()),U2}var j1e=T1e(),PQ=Pe(j1e);class TQ{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class I1e extends TQ{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Bl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class R1e extends TQ{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Bl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var NW={},OW;function $1e(){if(OW)return NW;OW=1;var t=Se(),e=Ta().every,r=sc(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),NW}var W2,CW;function k1e(){if(CW)return W2;CW=1,$1e();var t=wr();return W2=t("Array","every"),W2}var H2,PW;function D1e(){if(PW)return H2;PW=1;var t=Yt(),e=k1e(),r=Array.prototype;return H2=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},H2}var V2,TW;function M1e(){if(TW)return V2;TW=1;var t=D1e();return V2=t,V2}var K2,jW;function q1e(){return jW||(jW=1,K2=M1e()),K2}var A1e=q1e(),jQ=Pe(A1e);function F1e(t,e){const r=new qs;return at(t).call(t,n=>{var i;at(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),at(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function L1e(t){return IQ(e=>{var r,n;return jQ(r=en(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function B1e(t){return IQ(e=>{var r,n;return jQ(r=en(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function IQ(t,e,r,n){var i;const s=po(null),a=PQ(i=[...wQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const x=s[y.id]+l;if(at(c=en(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const v=g[o],w=s[v];(w==null||e(x,w))&&(s[v]=x,p.push(g[r]))}),m>a)return F1e(n,s);++m}}return s}class z1e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new pT;let n=0;const i=Bl(e=[...new qs(nme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Rt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class U1e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Np()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Ht(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(oc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),$n(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),dt(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Mm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const c=this.body.nodes[e[l]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Lr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Lr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new z1e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let w=0;w<g.length-1;w++){const b=g[w].max-g[w+1].min;v+=b+this.options.hierarchical.treeSpacing,s(w+1,v)}},s=(g,v)=>{const w=this.hierarchical.trees;for(const b in w)Object.prototype.hasOwnProperty.call(w,b)&&w[b]===g&&this.direction.shift(b,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let b=0;b<w.length;b++)o(this.body.nodes[w[b]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,b=1e9,_=1e9,E=-1e9;for(const N in g)if(Object.prototype.hasOwnProperty.call(g,N)){const S=e.body.nodes[N],O=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[T,P]=e._getSpaceAroundNode(S,g);w=Math.min(T,w),b=Math.min(P,b),O<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,w,b]},c=(g,v)=>{const w=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(v.id);return Math.min(w,b)},d=(g,v,w)=>{const b=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],N=b.distributionOrdering[E];if(N.length>1)for(let S=0;S<N.length-1;S++){const O=N[S],C=N[S+1];b.hasSameParent(O,C)&&b.inSameSubNetwork(O,C)&&g(O,C,w)}}},h=function(g,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-b),N=e.options.hierarchical.nodeSpacing;if(E>N){const S={},O={};o(g,S),o(v,O);const C=c(g,v),T=l(S,C),P=l(O,C),j=T[1],D=P[0],F=P[2];if(Math.abs(j-D)>N){let H=j-D+N;H<-F+N&&(H=-F+N),H<0&&(e._shiftBlock(v.id,H),r=!0,w===!0&&e._centerParent(v))}}},f=(g,v)=>{const w=v.id,b=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,N={},S=[];for(let F=0;F<b.length;F++){const Q=b[F];if(Q.toId!=Q.fromId){const H=Q.toId==w?Q.from:Q.to;N[b[F].id]=H,this.hierarchical.levels[H.id]<_&&S.push(Q)}}const O=(F,Q)=>{let H=0;for(let L=0;L<Q.length;L++)if(N[Q[L].id]!==void 0){const V=this.direction.getPosition(N[Q[L].id])-F;H+=V/Math.sqrt(V*V+E)}return H},C=(F,Q)=>{let H=0;for(let L=0;L<Q.length;L++)if(N[Q[L].id]!==void 0){const V=this.direction.getPosition(N[Q[L].id])-F;H-=E*Math.pow(V*V+E,-1.5)}return H},T=(F,Q)=>{let H=this.direction.getPosition(v);const L={};for(let V=0;V<F;V++){const W=O(H,Q),z=C(H,Q),K=40,he=Math.max(-K,Math.min(K,Math.round(W/z)));if(H=H-he,L[H]!==void 0)break;L[H]=V}return H},P=F=>{const Q=this.direction.getPosition(v);if(n[v.id]===void 0){const K={};o(v,K),n[v.id]=K}const H=l(n[v.id]),L=H[2],V=H[3],W=F-Q;let z=0;W>0?z=Math.min(W,V-this.options.hierarchical.nodeSpacing):W<0&&(z=-Math.min(-W,L-this.options.hierarchical.nodeSpacing)),z!=0&&(this._shiftBlock(v.id,z),r=!0)},j=F=>{const Q=this.direction.getPosition(v),[H,L]=this._getSpaceAroundNode(v),V=F-Q;let W=Q;V>0?W=Math.min(Q+(L-this.options.hierarchical.nodeSpacing),F):V<0&&(W=Math.max(Q-(H-this.options.hierarchical.nodeSpacing),F)),W!==Q&&(this.direction.setPosition(v,W),r=!0)};let D=T(g,S);P(D),D=T(g,b),j(D)},p=g=>{let v=this.hierarchical.getLevels();v=fo(v).call(v);for(let w=0;w<g;w++){r=!1;for(let b=0;b<v.length;b++){const _=v[b],E=this.hierarchical.distributionOrdering[_];for(let N=0;N<E.length;N++)f(1e3,E[N])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=fo(v).call(v);for(let w=0;w<g&&(r=!1,d(h,v,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},x=()=>{let g=this.hierarchical.getLevels();g=fo(g).call(g);for(let v=0;v<g.length;v++){const w=g[v],b=this.hierarchical.distributionOrdering[w];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&x(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[l,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Rt(e[n]);i=this._indexArrayToNodes(i),Bl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let c=l*s;s>0&&(c=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Bl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],c=this.hierarchical.levels[l.id];if(c>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,c),this._validatePositionAndContinue(l,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Me(e.edges,n=>{var i;Je(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Me(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return Me(e,i=>{n.push(Number(i))}),Bl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Me(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Lr.cloneOptions(i,"node"),Lr.cloneOptions(s,"node"),Lr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=PQ(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new pT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=B1e(r):this.hierarchical.levels=L1e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let c=0;c<l.length;c++){const d=l[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let c=0;c<l.length;c++){const d=l[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new I1e(this):this.direction=new R1e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class W1e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Ht(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",te(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",te(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,dt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,te(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",te(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,te(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",te(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=dt({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,te(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",te(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",te(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",te(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",te(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",te(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,te(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",te(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",te(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",te(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",te(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=dt({},this.options.controlNodeStyle);n.id="targetNode"+Jc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},$s(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,te(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&($s(this.editModeDiv),$s(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of ss(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),$s(this.manipulationDiv),$s(this.editModeDiv),$s(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,te(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,te(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+Nh(Rt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Fl(e,{});Rp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Je(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;ss(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Je(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;ss(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Ht({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Jc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Je(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Je(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Jc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ie="string",ee="boolean",B="number",Dc="array",_e="object",RQ="dom",H1e="any",G2=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],Y2={borderWidth:{number:B},borderWidthSelected:{number:B,undefined:"undefined"},brokenImage:{string:ie,undefined:"undefined"},chosen:{label:{boolean:ee,function:"function"},node:{boolean:ee,function:"function"},__type__:{object:_e,boolean:ee}},color:{border:{string:ie},background:{string:ie},highlight:{border:{string:ie},background:{string:ie},__type__:{object:_e,string:ie}},hover:{border:{string:ie},background:{string:ie},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},opacity:{number:B,undefined:"undefined"},fixed:{x:{boolean:ee},y:{boolean:ee},__type__:{object:_e,boolean:ee}},font:{align:{string:ie},color:{string:ie},size:{number:B},face:{string:ie},background:{string:ie},strokeWidth:{number:B},strokeColor:{string:ie},vadjust:{number:B},multi:{boolean:ee,string:ie},bold:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},boldital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},ital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},mono:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},group:{string:ie,number:B,undefined:"undefined"},heightConstraint:{minimum:{number:B},valign:{string:ie},__type__:{object:_e,boolean:ee,number:B}},hidden:{boolean:ee},icon:{face:{string:ie},code:{string:ie},size:{number:B},color:{string:ie},weight:{string:ie,number:B},__type__:{object:_e}},id:{string:ie,number:B},image:{selected:{string:ie,undefined:"undefined"},unselected:{string:ie,undefined:"undefined"},__type__:{object:_e,string:ie}},imagePadding:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:_e,number:B}},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:ee},level:{number:B,undefined:"undefined"},margin:{top:{number:B},right:{number:B},bottom:{number:B},left:{number:B},__type__:{object:_e,number:B}},mass:{number:B},physics:{boolean:ee},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:ee},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:_e,boolean:ee}},customScalingFunction:{function:"function"},__type__:{object:_e}},shadow:{enabled:{boolean:ee},color:{string:ie},size:{number:B},x:{number:B},y:{number:B},__type__:{object:_e,boolean:ee}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:ee,array:Dc},borderRadius:{number:B},interpolation:{boolean:ee},useImageSize:{boolean:ee},useBorderWithImage:{boolean:ee},coordinateOrigin:{string:["center","top-left"]},__type__:{object:_e}},size:{number:B},title:{string:ie,dom:RQ,undefined:"undefined"},value:{number:B,undefined:"undefined"},widthConstraint:{minimum:{number:B},maximum:{number:B},__type__:{object:_e,boolean:ee,number:B}},x:{number:B},y:{number:B},__type__:{object:_e}},V1e={configure:{enabled:{boolean:ee},filter:{boolean:ee,string:ie,array:Dc,function:"function"},container:{dom:RQ},showButton:{boolean:ee},__type__:{object:_e,boolean:ee,string:ie,array:Dc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:G2},imageHeight:{number:B},imageWidth:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},middle:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:G2},imageWidth:{number:B},imageHeight:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},from:{enabled:{boolean:ee},scaleFactor:{number:B},type:{string:G2},imageWidth:{number:B},imageHeight:{number:B},src:{string:ie},__type__:{object:_e,boolean:ee}},__type__:{string:["from","to","middle"],object:_e}},endPointOffset:{from:{number:B},to:{number:B},__type__:{object:_e,number:B}},arrowStrikethrough:{boolean:ee},background:{enabled:{boolean:ee},color:{string:ie},size:{number:B},dashes:{boolean:ee,array:Dc},__type__:{object:_e,boolean:ee}},chosen:{label:{boolean:ee,function:"function"},edge:{boolean:ee,function:"function"},__type__:{object:_e,boolean:ee}},color:{color:{string:ie},highlight:{string:ie},hover:{string:ie},inherit:{string:["from","to","both"],boolean:ee},opacity:{number:B},__type__:{object:_e,string:ie}},dashes:{boolean:ee,array:Dc},font:{color:{string:ie},size:{number:B},face:{string:ie},background:{string:ie},strokeWidth:{number:B},strokeColor:{string:ie},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:B},multi:{boolean:ee,string:ie},bold:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},boldital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},ital:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},mono:{color:{string:ie},size:{number:B},face:{string:ie},mod:{string:ie},vadjust:{number:B},__type__:{object:_e,string:ie}},__type__:{object:_e,string:ie}},hidden:{boolean:ee},hoverWidth:{function:"function",number:B},label:{string:ie,undefined:"undefined"},labelHighlightBold:{boolean:ee},length:{number:B,undefined:"undefined"},physics:{boolean:ee},scaling:{min:{number:B},max:{number:B},label:{enabled:{boolean:ee},min:{number:B},max:{number:B},maxVisible:{number:B},drawThreshold:{number:B},__type__:{object:_e,boolean:ee}},customScalingFunction:{function:"function"},__type__:{object:_e}},selectionWidth:{function:"function",number:B},selfReferenceSize:{number:B},selfReference:{size:{number:B},angle:{number:B},renderBehindTheNode:{boolean:ee},__type__:{object:_e}},shadow:{enabled:{boolean:ee},color:{string:ie},size:{number:B},x:{number:B},y:{number:B},__type__:{object:_e,boolean:ee}},smooth:{enabled:{boolean:ee},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:B},forceDirection:{string:["horizontal","vertical","none"],boolean:ee},__type__:{object:_e,boolean:ee}},title:{string:ie,undefined:"undefined"},width:{number:B},widthConstraint:{maximum:{number:B},__type__:{object:_e,boolean:ee,number:B}},value:{number:B,undefined:"undefined"},__type__:{object:_e}},groups:{useDefaultGroups:{boolean:ee},__any__:Y2,__type__:{object:_e}},interaction:{dragNodes:{boolean:ee},dragView:{boolean:ee},hideEdgesOnDrag:{boolean:ee},hideEdgesOnZoom:{boolean:ee},hideNodesOnDrag:{boolean:ee},hover:{boolean:ee},keyboard:{enabled:{boolean:ee},speed:{x:{number:B},y:{number:B},zoom:{number:B},__type__:{object:_e}},bindToWindow:{boolean:ee},autoFocus:{boolean:ee},__type__:{object:_e,boolean:ee}},multiselect:{boolean:ee},navigationButtons:{boolean:ee},selectable:{boolean:ee},selectConnectedEdges:{boolean:ee},hoverConnectedEdges:{boolean:ee},tooltipDelay:{number:B},zoomView:{boolean:ee},zoomSpeed:{number:B},__type__:{object:_e}},layout:{randomSeed:{undefined:"undefined",number:B,string:ie},improvedLayout:{boolean:ee},clusterThreshold:{number:B},hierarchical:{enabled:{boolean:ee},levelSeparation:{number:B},nodeSpacing:{number:B},treeSpacing:{number:B},blockShifting:{boolean:ee},edgeMinimization:{boolean:ee},parentCentralization:{boolean:ee},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:_e,boolean:ee}},__type__:{object:_e}},manipulation:{enabled:{boolean:ee},initiallyActive:{boolean:ee},addNode:{boolean:ee,function:"function"},addEdge:{boolean:ee,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:_e,boolean:ee,function:"function"}},deleteNode:{boolean:ee,function:"function"},deleteEdge:{boolean:ee,function:"function"},controlNodeStyle:Y2,__type__:{object:_e,boolean:ee}},nodes:Y2,physics:{enabled:{boolean:ee},barnesHut:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},forceAtlas2Based:{theta:{number:B},gravitationalConstant:{number:B},centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},repulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},__type__:{object:_e}},hierarchicalRepulsion:{centralGravity:{number:B},springLength:{number:B},springConstant:{number:B},nodeDistance:{number:B},damping:{number:B},avoidOverlap:{number:B},__type__:{object:_e}},maxVelocity:{number:B},minVelocity:{number:B},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:ee},iterations:{number:B},updateInterval:{number:B},onlyDynamicEdges:{boolean:ee},fit:{boolean:ee},__type__:{object:_e,boolean:ee}},timestep:{number:B},adaptiveTimestep:{boolean:ee},wind:{x:{number:B},y:{number:B},__type__:{object:_e}},__type__:{object:_e,boolean:ee}},autoResize:{boolean:ee},clickToUse:{boolean:ee},locale:{string:ie},locales:{__any__:{any:H1e},__type__:{object:_e}},height:{string:ie},width:{string:ie},__type__:{object:_e}},$Q={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},K1e=(t,e,r)=>{var n;return!!(ca(t).call(t,"physics")&&ca(n=$Q.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class G1e{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],c={};i[l]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],c=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],x=Math.min(f[m],f[l]+c[m]);f[m]=x,y[h]=x}}}return i}}class Y1e{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new G1e}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<c;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const c=r[l];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const E=s[_].x,N=s[_].y,S=h[_],O=f[_],C=1/((c-E)**2+(d-N)**2)**1.5;a+=S*(1-O*(d-N)**2*C),o+=S*(O*(c-E)*(d-N)*C),l+=S*(1-O*(c-E)**2*C)}}const p=a,m=o,y=r,x=l,g=n,v=(y/p+g/m)/(m/p-x/m),w=-(m*v+y)/p;s[e].x+=w,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],l+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],x=n[f].x,g=n[f].y,v=1/Math.sqrt((o-x)**2+(l-g)**2),w=s[f]*(o-x-a[f]*(o-x)*v),b=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[w,b],c+=w,d+=b;const _=this.E_sums[f];_[0]+=w-m,_[1]+=b-y}}this.E_sums[e]=[c,d]}}function be(t,e,r){var n,i,s,a;if(!(this instanceof be))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:bge,clickToUse:!1},Ht(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:te(n=this.on).call(n,this),off:te(i=this.off).call(i,this),emit:te(s=this.emit).call(s,this),once:te(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new _ge(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new qge,this.canvas=new Ibe(this.body),this.selectionHandler=new h1e(this.body,this.canvas),this.interactionHandler=new Dbe(this.body,this.canvas,this.selectionHandler),this.view=new $be(this.body,this.canvas),this.renderer=new Obe(this.body,this.canvas),this.physics=new ybe(this.body),this.layoutEngine=new U1e(this.body),this.clustering=new Nbe(this.body),this.manipulation=new W1e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new V0e(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new hbe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Y1e(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}uY(be.prototype);be.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(Qve.validate(t,V1e)===!0&&console.error("%cErrors have been found in the supplied options object.",iQ),oc(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=xge(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Gve(this,this.body.container,$Q,this.canvas.pixelRatio,K1e)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};dt(n.nodes,this.nodesHandler.options),dt(n.edges,this.edgesHandler.options),dt(n.layout,this.layoutEngine.options),dt(n.interaction,this.selectionHandler.options),dt(n.interaction,this.renderer.options),dt(n.interaction,this.interactionHandler.options),dt(n.manipulation,this.manipulation.options),dt(n.physics,this.physics.options),dt(n.global,this.canvas.options),dt(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new Kve(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};be.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};be.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};be.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=age(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=oge(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};be.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];$s(this.body.container)};be.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};be.prototype.isActive=function(){return!this.activator||this.activator.active};be.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};be.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};be.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};be.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};be.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};be.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};be.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};be.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};be.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};be.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};be.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};be.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};be.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};be.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};be.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};be.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};be.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};be.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};be.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};be.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};be.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};be.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};be.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};be.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};be.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};be.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};be.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};be.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};be.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};be.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};be.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};be.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};be.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};be.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};be.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};be.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};be.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};be.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};be.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};be.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};be.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};be.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};be.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};be.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};be.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};be.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};be.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};be.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};be.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};be.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function Q1e({graphData:t,startPersonId:e,onNodeClick:r}){const n=I.useRef(null),i=I.useRef(null),s=cn(),a=I.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);I.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new bu(t.nodes),h=new bu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new be(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),x={},g=new Set;m.forEach(([v,w])=>{if(g.has(v)||g.has(w))return;const b=y[v],_=y[w];if(!b||!_)return;const E=(b.x+_.x)/2;x[v]={x:E-60,y:b.y},x[w]={x:E+60,y:_.y},g.add(v),g.add(w)}),Object.entries(x).forEach(([v,w])=>{p.moveNode(v,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?u.jsx("div",{className:"flex items-center justify-center h-96",children:u.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):u.jsxs("div",{className:"relative w-full h-full",children:[u.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[u.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:u.jsx(Bre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:u.jsx(zre,{className:"w-4 h-4"})}),u.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:u.jsx(nK,{className:"w-4 h-4"})})]}),u.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),u.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const X1e=["parent","child","spouse","lover","partner"];function J1e(t){return X1e.includes(t==null?void 0:t.toLowerCase())}function Z1e(t){return(t==null?void 0:t.toLowerCase())==="parent"}function exe(t){return(t==null?void 0:t.toLowerCase())==="child"}function txe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function rxe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,w,b,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let x="";switch((b=h.acf)==null?void 0:b.gender){case"male":x="";break;case"female":x="";break;case"non_binary":case"other":case"prefer_not_to_say":x="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const N=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),O=E.getFullYear();g=`${N}-${S}-${O}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:x,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,l(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!J1e(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,l(w,y))}const x=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===x||`${w.from}-${w.to}`===g)){const w=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(Z1e(w))i.push({from:y,to:h,type:"parent-child"});else if(exe(w))i.push({from:h,to:y,type:"parent-child"});else if(txe(w)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function nxe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(x=>{s.set(x.id,[]),a.set(x.id,[]),o.set(x.id,[])}),i.forEach(x=>{var g,v,w,b;x.type==="parent-child"?((g=s.get(x.to))==null||g.push(x.from),(v=a.get(x.from))==null||v.push(x.to)):x.type==="spouse"&&((w=o.get(x.from))==null||w.push(x.to),(b=o.get(x.to))==null||b.push(x.from))});const l=new Map,c=new Set,d=[{id:e,generation:0}];for(l.set(e,0),c.add(e);d.length>0;){const{id:x,generation:g}=d.shift(),v=s.get(x)||[];for(const _ of v)c.has(_)||(c.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(x)||[];for(const _ of w)c.has(_)||(c.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const b=o.get(x)||[];for(const _ of b)c.has(_)||(c.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(x=>{l.has(x.id)||l.set(x.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((x,g)=>{f.set(g,x-h)});function p(x,g,v=!1){const w=x?x.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):"?";let b,_;v?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(x=>{const g=f.get(x.id)||0,v=x.id===e,w=r[x.id]||!1;let b=x.name;w&&(b=x.name+" ");let _=[b],E="";x.genderSymbol&&(E+=x.genderSymbol+" "),x.age!==null&&(E+=x.age+" "),x.formattedBirthDate&&(E+=x.formattedBirthDate),E.trim()&&_.push(E.trim());const N=x.photo||p(x.name,v,w);let S="#d1d5db";return v?S="#f59e0b":w&&(S="#9ca3af"),{id:x.id,label:_.join(`
`),level:g,shape:"circularImage",image:N,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...x,isDeceased:w}}}),y=i.map((x,g)=>{const v=x.type==="spouse";return{id:`edge-${g}`,from:x.from,to:x.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function ixe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function sxe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function axe(){var p,m;const{id:t}=ws(),e=cn(),r=parseInt(t,10),{data:n,isLoading:i}=$u(t),{data:s=[],isLoading:a}=Ru(),{data:o=[]}=yt({queryKey:["relationship-types"],queryFn:async()=>(await We.getRelationshipTypes()).data}),l=I.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=cp({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await qe.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=I.useMemo(()=>{const y={};return c.forEach((x,g)=>{if(x.data&&l[g]){const v=l[g],w=x.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=w}}),y},[c,l]);En(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=I.useMemo(()=>{if(!n||!s.length)return null;try{const y=ixe(s);o.length>0&&sxe(y,o);const x=rxe(r,s,y);return!x||x.nodes.length===0?null:nxe(x,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?u.jsx("div",{className:"flex items-center justify-center h-64",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?u.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsxs(fe,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[u.jsx(wn,{className:"w-4 h-4 md:mr-2"}),u.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),u.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),u.jsx("div",{className:"card p-6",children:u.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?u.jsx(Q1e,{graphData:h,startPersonId:r,onNodeClick:f}):u.jsx("div",{className:"flex items-center justify-center h-full",children:u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),u.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):u.jsxs("div",{className:"card p-6 text-center",children:[u.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),u.jsx(fe,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function oxe(){const{loginUrl:t,isLoggedIn:e}=QC();return hK(),I.useEffect(()=>{e||(window.location.href=t)},[e,t]),u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),u.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function lxe({children:t}){const{data:e,isLoading:r,error:n}=yt({queryKey:["current-user"],queryFn:async()=>(await qe.getCurrentUser()).data,retry:!1});return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(va,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:u.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:u.jsx("div",{className:"max-w-md w-full mx-4",children:u.jsxs("div",{className:"card p-8 text-center",children:[u.jsx("div",{className:"flex justify-center mb-4",children:u.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:u.jsx(va,{className:"w-8 h-8 text-yellow-600"})})}),u.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),u.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),u.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function uxe({children:t}){const{isLoggedIn:e,isLoading:r}=QC();return r?u.jsx("div",{className:"flex items-center justify-center min-h-screen",children:u.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?u.jsx(lxe,{children:t}):u.jsx(cV,{to:"/login",replace:!0})}function cxe(){return u.jsxs(tI,{children:[u.jsx(it,{path:"/login",element:u.jsx(oxe,{})}),u.jsx(it,{path:"/*",element:u.jsx(uxe,{children:u.jsx(Qre,{children:u.jsxs(tI,{children:[u.jsx(it,{path:"/",element:u.jsx($ie,{})}),u.jsx(it,{path:"/people",element:u.jsx(Kie,{})}),u.jsx(it,{path:"/people/new",element:u.jsx(rR,{})}),u.jsx(it,{path:"/people/:personId/contact/new",element:u.jsx(iR,{})}),u.jsx(it,{path:"/people/:personId/contact/:index/edit",element:u.jsx(iR,{})}),u.jsx(it,{path:"/people/:personId/work-history/new",element:u.jsx(nR,{})}),u.jsx(it,{path:"/people/:personId/work-history/:index/edit",element:u.jsx(nR,{})}),u.jsx(it,{path:"/people/:personId/relationship/new",element:u.jsx(sR,{})}),u.jsx(it,{path:"/people/:personId/relationship/:index/edit",element:u.jsx(sR,{})}),u.jsx(it,{path:"/people/:id/family-tree",element:u.jsx(axe,{})}),u.jsx(it,{path:"/people/:id/edit",element:u.jsx(rR,{})}),u.jsx(it,{path:"/people/:id",element:u.jsx(bse,{})}),u.jsx(it,{path:"/companies",element:u.jsx(Wse,{})}),u.jsx(it,{path:"/companies/new",element:u.jsx(aR,{})}),u.jsx(it,{path:"/companies/:id",element:u.jsx(Hse,{})}),u.jsx(it,{path:"/companies/:id/edit",element:u.jsx(aR,{})}),u.jsx(it,{path:"/dates",element:u.jsx(Gse,{})}),u.jsx(it,{path:"/dates/new",element:u.jsx(oR,{})}),u.jsx(it,{path:"/dates/:id/edit",element:u.jsx(oR,{})}),u.jsx(it,{path:"/settings",element:u.jsx(Qse,{})}),u.jsx(it,{path:"/settings/relationship-types",element:u.jsx(Xse,{})}),u.jsx(it,{path:"/settings/import",element:u.jsx(rae,{})}),u.jsx(it,{path:"/settings/export",element:u.jsx(nae,{})}),u.jsx(it,{path:"/settings/user-approval",element:u.jsx(iae,{})}),u.jsx(it,{path:"*",element:u.jsx(cV,{to:"/",replace:!0})})]})})})})]})}const dxe=new zee({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),Q2=document.getElementById("root");if(!Q2)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{X2.createRoot(Q2).render(u.jsx(je.StrictMode,{children:u.jsx(Uee,{client:dxe,children:u.jsx(dee,{children:u.jsx(cxe,{})})})}))}catch(t){console.error("Error mounting React app:",t),Q2.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
