import{c as y,X as j}from"./main-D6r1FXj6.js";import{r as d,j as e}from"./vendor-CjdX6t1i.js";/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const k=y("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);function w({isOpen:i,onClose:b,onSubmit:f,isLoading:a,todo:t=null}){const[c,n]=d.useState(""),[m,l]=d.useState(""),[u,r]=d.useState(!1),o=()=>new Date().toISOString().split("T")[0];if(d.useEffect(()=>{t?(n(t.content||""),l(t.due_date||""),r(t.is_completed||!1)):(n(""),l(o()),r(!1))},[t,i]),!i)return null;const p=s=>{s.preventDefault(),c.trim()&&(f({content:c.trim(),due_date:m||null,is_completed:u}),t||(n(""),l(o()),r(!1)))},x=()=>{t||(n(""),l(o()),r(!1)),b()},h=s=>{if(!s)return"";try{return new Date(s).toISOString().split("T")[0]}catch{return""}};return e.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:e.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[e.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[e.jsx("h2",{className:"text-lg font-semibold",children:t?"Edit todo":"Add todo"}),e.jsx("button",{onClick:x,className:"text-gray-400 hover:text-gray-600",disabled:a,children:e.jsx(j,{className:"w-5 h-5"})})]}),e.jsxs("form",{onSubmit:p,className:"p-4",children:[e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),e.jsx("textarea",{id:"todo-content",value:c,onChange:s=>n(s.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:a,autoFocus:!0})]}),e.jsxs("div",{className:"mb-4",children:[e.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),e.jsx("input",{id:"todo-due-date",type:"date",value:h(m),onChange:s=>l(s.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:a})]}),t&&e.jsx("div",{className:"mb-4",children:e.jsxs("label",{className:"flex items-center",children:[e.jsx("input",{type:"checkbox",checked:u,onChange:s=>r(s.target.checked),className:"mr-2",disabled:a}),e.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),e.jsxs("div",{className:"flex justify-end gap-2",children:[e.jsx("button",{type:"button",onClick:x,className:"btn-secondary",disabled:a,children:"Cancel"}),e.jsx("button",{type:"submit",className:"btn-primary",disabled:a||!c.trim(),children:a?t?"Saving...":"Adding...":t?"Save":"Add todo"})]})]})]})})}export{k as P,w as T};
