var IN=t=>{throw TypeError(t)};var cm=(t,e,r)=>e.has(t)||IN("Cannot "+r);var R=(t,e,r)=>(cm(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?IN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(cm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Ee=(t,e,r)=>(cm(t,e,"access private method"),r);var ch=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function mY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function vY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var k8={exports:{}},rp={},D8={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gd=Symbol.for("react.element"),gY=Symbol.for("react.portal"),yY=Symbol.for("react.fragment"),bY=Symbol.for("react.strict_mode"),wY=Symbol.for("react.profiler"),xY=Symbol.for("react.provider"),_Y=Symbol.for("react.context"),SY=Symbol.for("react.forward_ref"),EY=Symbol.for("react.suspense"),OY=Symbol.for("react.memo"),PY=Symbol.for("react.lazy"),RN=Symbol.iterator;function CY(t){return t===null||typeof t!="object"?null:(t=RN&&t[RN]||t["@@iterator"],typeof t=="function"?t:null)}var q8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},M8=Object.assign,F8={};function su(t,e,r){this.props=t,this.context=e,this.refs=F8,this.updater=r||q8}su.prototype.isReactComponent={};su.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};su.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function A8(){}A8.prototype=su.prototype;function oC(t,e,r){this.props=t,this.context=e,this.refs=F8,this.updater=r||q8}var lC=oC.prototype=new A8;lC.constructor=oC;M8(lC,su.prototype);lC.isPureReactComponent=!0;var jN=Array.isArray,L8=Object.prototype.hasOwnProperty,uC={current:null},B8={key:!0,ref:!0,__self:!0,__source:!0};function z8(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)L8.call(e,n)&&!B8.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:gd,type:t,key:s,ref:a,props:i,_owner:uC.current}}function TY(t,e){return{$$typeof:gd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cC(t){return typeof t=="object"&&t!==null&&t.$$typeof===gd}function NY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var $N=/\/+/g;function dm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?NY(""+t.key):e.toString(36)}function Lh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case gd:case gY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+dm(a,0):n,jN(i)?(r="",t!=null&&(r=t.replace($N,"$&/")+"/"),Lh(i,e,r,"",function(u){return u})):i!=null&&(cC(i)&&(i=TY(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace($N,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",jN(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+dm(s,o);a+=Lh(s,e,r,l,i)}else if(l=CY(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+dm(s,o++),a+=Lh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function dh(t,e,r){if(t==null)return t;var n=[],i=0;return Lh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function IY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},Bh={transition:null},RY={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Bh,ReactCurrentOwner:uC};function U8(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:dh,forEach:function(t,e,r){dh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return dh(t,function(){e++}),e},toArray:function(t){return dh(t,function(e){return e})||[]},only:function(t){if(!cC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=su;$e.Fragment=yY;$e.Profiler=wY;$e.PureComponent=oC;$e.StrictMode=bY;$e.Suspense=EY;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=RY;$e.act=U8;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=M8({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=uC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)L8.call(e,l)&&!B8.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:gd,type:t.type,key:i,ref:s,props:n,_owner:a}};$e.createContext=function(t){return t={$$typeof:_Y,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:xY,_context:t},t.Consumer=t};$e.createElement=z8;$e.createFactory=function(t){var e=z8.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:SY,render:t}};$e.isValidElement=cC;$e.lazy=function(t){return{$$typeof:PY,_payload:{_status:-1,_result:t},_init:IY}};$e.memo=function(t,e){return{$$typeof:OY,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=Bh.transition;Bh.transition={};try{t()}finally{Bh.transition=e}};$e.unstable_act=U8;$e.useCallback=function(t,e){return kr.current.useCallback(t,e)};$e.useContext=function(t){return kr.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};$e.useEffect=function(t,e){return kr.current.useEffect(t,e)};$e.useId=function(){return kr.current.useId()};$e.useImperativeHandle=function(t,e,r){return kr.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return kr.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return kr.current.useReducer(t,e,r)};$e.useRef=function(t){return kr.current.useRef(t)};$e.useState=function(t){return kr.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return kr.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return kr.current.useTransition()};$e.version="18.3.1";D8.exports=$e;var $=D8.exports;const Ce=vY($),jY=mY({__proto__:null,default:Ce},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var $Y=$,kY=Symbol.for("react.element"),DY=Symbol.for("react.fragment"),qY=Object.prototype.hasOwnProperty,MY=$Y.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,FY={key:!0,ref:!0,__self:!0,__source:!0};function W8(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)qY.call(e,n)&&!FY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:kY,type:t,key:s,ref:a,props:i,_owner:MY.current}}rp.Fragment=DY;rp.jsx=W8;rp.jsxs=W8;k8.exports=rp;var d=k8.exports,vO={},H8={exports:{}},fn={},V8={exports:{}},K8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,K){var z=L.length;L.push(K);e:for(;0<z;){var U=z-1>>>1,ee=L[U];if(0<i(ee,K))L[U]=K,L[z]=ee,z=U;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var K=L[0],z=L.pop();if(z!==K){L[0]=z;e:for(var U=0,ee=L.length,fe=ee>>>1;U<fe;){var ge=2*(U+1)-1,ke=L[ge],we=ge+1,_e=L[we];if(0>i(ke,z))we<ee&&0>i(_e,ke)?(L[U]=_e,L[we]=z,U=we):(L[U]=ke,L[ge]=z,U=ge);else if(we<ee&&0>i(_e,z))L[U]=_e,L[we]=z,U=we;else break e}}return K}function i(L,K){var z=L.sortIndex-K.sortIndex;return z!==0?z:L.id-K.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],c=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var K=r(u);K!==null;){if(K.callback===null)n(u);else if(K.startTime<=L)n(u),K.sortIndex=K.expirationTime,e(l,K);else break;K=r(u)}}function w(L){if(y=!1,x(L),!m)if(r(l)!==null)m=!0,re(_);else{var K=r(u);K!==null&&Y(w,K.startTime-L)}}function _(L,K){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var z=f;try{for(x(K),h=r(l);h!==null&&(!(h.expirationTime>K)||L&&!I());){var U=h.callback;if(typeof U=="function"){h.callback=null,f=h.priorityLevel;var ee=U(h.expirationTime<=K);K=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(l)&&n(l),x(K)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var ge=r(u);ge!==null&&Y(w,ge.startTime-K),fe=!1}return fe}finally{h=null,f=z,p=!1}}var E=!1,O=null,S=-1,P=5,C=-1;function I(){return!(t.unstable_now()-C<P)}function T(){if(O!==null){var L=t.unstable_now();C=L;var K=!0;try{K=O(!0,L)}finally{K?N():(E=!1,O=null)}}else E=!1}var N;if(typeof v=="function")N=function(){v(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,B=q.port2;q.port1.onmessage=T,N=function(){B.postMessage(null)}}else N=function(){b(T,0)};function re(L){O=L,E||(E=!0,N())}function Y(L,K){S=b(function(){L(t.unstable_now())},K)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,re(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var K=3;break;default:K=f}var z=f;f=K;try{return L()}finally{f=z}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,K){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var z=f;f=L;try{return K()}finally{f=z}},t.unstable_scheduleCallback=function(L,K,z){var U=t.unstable_now();switch(typeof z=="object"&&z!==null?(z=z.delay,z=typeof z=="number"&&0<z?U+z:U):z=U,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=z+ee,L={id:c++,callback:K,priorityLevel:L,startTime:z,expirationTime:ee,sortIndex:-1},z>U?(L.sortIndex=z,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,Y(w,z-U))):(L.sortIndex=ee,e(l,L),m||p||(m=!0,re(_))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var K=f;return function(){var z=f;f=K;try{return L.apply(this,arguments)}finally{f=z}}}})(K8);V8.exports=K8;var AY=V8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LY=$,hn=AY;function X(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var G8=new Set,Tc={};function vo(t,e){ql(t,e),ql(t+"Capture",e)}function ql(t,e){for(Tc[t]=e,t=0;t<e.length;t++)G8.add(e[t])}var Gi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),gO=Object.prototype.hasOwnProperty,BY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,kN={},DN={};function zY(t){return gO.call(DN,t)?!0:gO.call(kN,t)?!1:BY.test(t)?DN[t]=!0:(kN[t]=!0,!1)}function UY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function WY(t,e,r,n){if(e===null||typeof e>"u"||UY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var lr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){lr[t]=new Dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];lr[e]=new Dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){lr[t]=new Dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){lr[t]=new Dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){lr[t]=new Dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){lr[t]=new Dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){lr[t]=new Dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){lr[t]=new Dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){lr[t]=new Dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var dC=/[\-:]([a-z])/g;function hC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dC,hC);lr[e]=new Dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dC,hC);lr[e]=new Dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dC,hC);lr[e]=new Dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){lr[t]=new Dr(t,1,!1,t.toLowerCase(),null,!1,!1)});lr.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){lr[t]=new Dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fC(t,e,r,n){var i=lr.hasOwnProperty(e)?lr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(WY(e,r,i,n)&&(r=null),n||i===null?zY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var Zi=LY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,hh=Symbol.for("react.element"),Vo=Symbol.for("react.portal"),Ko=Symbol.for("react.fragment"),pC=Symbol.for("react.strict_mode"),yO=Symbol.for("react.profiler"),Y8=Symbol.for("react.provider"),Q8=Symbol.for("react.context"),mC=Symbol.for("react.forward_ref"),bO=Symbol.for("react.suspense"),wO=Symbol.for("react.suspense_list"),vC=Symbol.for("react.memo"),ps=Symbol.for("react.lazy"),X8=Symbol.for("react.offscreen"),qN=Symbol.iterator;function Bu(t){return t===null||typeof t!="object"?null:(t=qN&&t[qN]||t["@@iterator"],typeof t=="function"?t:null)}var pt=Object.assign,hm;function nc(t){if(hm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);hm=e&&e[1]||""}return`
`+hm+t}var fm=!1;function pm(t,e){if(!t||fm)return"";fm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{fm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?nc(t):""}function HY(t){switch(t.tag){case 5:return nc(t.type);case 16:return nc("Lazy");case 13:return nc("Suspense");case 19:return nc("SuspenseList");case 0:case 2:case 15:return t=pm(t.type,!1),t;case 11:return t=pm(t.type.render,!1),t;case 1:return t=pm(t.type,!0),t;default:return""}}function xO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Ko:return"Fragment";case Vo:return"Portal";case yO:return"Profiler";case pC:return"StrictMode";case bO:return"Suspense";case wO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Q8:return(t.displayName||"Context")+".Consumer";case Y8:return(t._context.displayName||"Context")+".Provider";case mC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vC:return e=t.displayName||null,e!==null?e:xO(t.type)||"Memo";case ps:e=t._payload,t=t._init;try{return xO(t(e))}catch{}}return null}function VY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xO(e);case 8:return e===pC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Js(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function J8(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function KY(t){var e=J8(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function fh(t){t._valueTracker||(t._valueTracker=KY(t))}function Z8(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=J8(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function lf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function _O(t,e){var r=e.checked;return pt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function MN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Js(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function eH(t,e){e=e.checked,e!=null&&fC(t,"checked",e,!1)}function SO(t,e){eH(t,e);var r=Js(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?EO(t,e.type,r):e.hasOwnProperty("defaultValue")&&EO(t,e.type,Js(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function FN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function EO(t,e,r){(e!=="number"||lf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ic=Array.isArray;function cl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Js(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function OO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(X(91));return pt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function AN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(X(92));if(ic(r)){if(1<r.length)throw Error(X(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Js(r)}}function tH(t,e){var r=Js(e.value),n=Js(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function LN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function rH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function PO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?rH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var ph,nH=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(ph=ph||document.createElement("div"),ph.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=ph.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},GY=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){GY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function iH(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function sH(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=iH(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var YY=pt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function CO(t,e){if(e){if(YY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(X(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(X(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(X(61))}if(e.style!=null&&typeof e.style!="object")throw Error(X(62))}}function TO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var NO=null;function gC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var IO=null,dl=null,hl=null;function BN(t){if(t=wd(t)){if(typeof IO!="function")throw Error(X(280));var e=t.stateNode;e&&(e=op(e),IO(t.stateNode,t.type,e))}}function aH(t){dl?hl?hl.push(t):hl=[t]:dl=t}function oH(){if(dl){var t=dl,e=hl;if(hl=dl=null,BN(t),e)for(t=0;t<e.length;t++)BN(e[t])}}function lH(t,e){return t(e)}function uH(){}var mm=!1;function cH(t,e,r){if(mm)return t(e,r);mm=!0;try{return lH(t,e,r)}finally{mm=!1,(dl!==null||hl!==null)&&(uH(),oH())}}function Ic(t,e){var r=t.stateNode;if(r===null)return null;var n=op(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(X(231,e,typeof r));return r}var RO=!1;if(Gi)try{var zu={};Object.defineProperty(zu,"passive",{get:function(){RO=!0}}),window.addEventListener("test",zu,zu),window.removeEventListener("test",zu,zu)}catch{RO=!1}function QY(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(c){this.onError(c)}}var dc=!1,uf=null,cf=!1,jO=null,XY={onError:function(t){dc=!0,uf=t}};function JY(t,e,r,n,i,s,a,o,l){dc=!1,uf=null,QY.apply(XY,arguments)}function ZY(t,e,r,n,i,s,a,o,l){if(JY.apply(this,arguments),dc){if(dc){var u=uf;dc=!1,uf=null}else throw Error(X(198));cf||(cf=!0,jO=u)}}function go(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function dH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function zN(t){if(go(t)!==t)throw Error(X(188))}function eQ(t){var e=t.alternate;if(!e){if(e=go(t),e===null)throw Error(X(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return zN(i),t;if(s===n)return zN(i),e;s=s.sibling}throw Error(X(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(X(189))}}if(r.alternate!==n)throw Error(X(190))}if(r.tag!==3)throw Error(X(188));return r.stateNode.current===r?t:e}function hH(t){return t=eQ(t),t!==null?fH(t):null}function fH(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=fH(t);if(e!==null)return e;t=t.sibling}return null}var pH=hn.unstable_scheduleCallback,UN=hn.unstable_cancelCallback,tQ=hn.unstable_shouldYield,rQ=hn.unstable_requestPaint,Pt=hn.unstable_now,nQ=hn.unstable_getCurrentPriorityLevel,yC=hn.unstable_ImmediatePriority,mH=hn.unstable_UserBlockingPriority,df=hn.unstable_NormalPriority,iQ=hn.unstable_LowPriority,vH=hn.unstable_IdlePriority,np=null,yi=null;function sQ(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(np,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:lQ,aQ=Math.log,oQ=Math.LN2;function lQ(t){return t>>>=0,t===0?32:31-(aQ(t)/oQ|0)|0}var mh=64,vh=4194304;function sc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function hf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=sc(o):(s&=a,s!==0&&(n=sc(s)))}else a=r&~i,a!==0?n=sc(a):s!==0&&(n=sc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yn(e),i=1<<r,n|=t[r],e&=~i;return n}function uQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function cQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Yn(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=uQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function $O(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function gH(){var t=mh;return mh<<=1,!(mh&4194240)&&(mh=64),t}function vm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function yd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=r}function dQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Yn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function bC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var We=0;function yH(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var bH,wC,wH,xH,_H,kO=!1,gh=[],qs=null,Ms=null,Fs=null,Rc=new Map,jc=new Map,bs=[],hQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function WN(t,e){switch(t){case"focusin":case"focusout":qs=null;break;case"dragenter":case"dragleave":Ms=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":Rc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":jc.delete(e.pointerId)}}function Uu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=wd(e),e!==null&&wC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function fQ(t,e,r,n,i){switch(e){case"focusin":return qs=Uu(qs,t,e,r,n,i),!0;case"dragenter":return Ms=Uu(Ms,t,e,r,n,i),!0;case"mouseover":return Fs=Uu(Fs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Rc.set(s,Uu(Rc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,jc.set(s,Uu(jc.get(s)||null,t,e,r,n,i)),!0}return!1}function SH(t){var e=xa(t.target);if(e!==null){var r=go(e);if(r!==null){if(e=r.tag,e===13){if(e=dH(r),e!==null){t.blockedOn=e,_H(t.priority,function(){wH(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function zh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=DO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);NO=n,r.target.dispatchEvent(n),NO=null}else return e=wd(r),e!==null&&wC(e),t.blockedOn=r,!1;e.shift()}return!0}function HN(t,e,r){zh(t)&&r.delete(e)}function pQ(){kO=!1,qs!==null&&zh(qs)&&(qs=null),Ms!==null&&zh(Ms)&&(Ms=null),Fs!==null&&zh(Fs)&&(Fs=null),Rc.forEach(HN),jc.forEach(HN)}function Wu(t,e){t.blockedOn===e&&(t.blockedOn=null,kO||(kO=!0,hn.unstable_scheduleCallback(hn.unstable_NormalPriority,pQ)))}function $c(t){function e(i){return Wu(i,t)}if(0<gh.length){Wu(gh[0],t);for(var r=1;r<gh.length;r++){var n=gh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(qs!==null&&Wu(qs,t),Ms!==null&&Wu(Ms,t),Fs!==null&&Wu(Fs,t),Rc.forEach(e),jc.forEach(e),r=0;r<bs.length;r++)n=bs[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<bs.length&&(r=bs[0],r.blockedOn===null);)SH(r),r.blockedOn===null&&bs.shift()}var fl=Zi.ReactCurrentBatchConfig,ff=!0;function mQ(t,e,r,n){var i=We,s=fl.transition;fl.transition=null;try{We=1,xC(t,e,r,n)}finally{We=i,fl.transition=s}}function vQ(t,e,r,n){var i=We,s=fl.transition;fl.transition=null;try{We=4,xC(t,e,r,n)}finally{We=i,fl.transition=s}}function xC(t,e,r,n){if(ff){var i=DO(t,e,r,n);if(i===null)Pm(t,e,n,pf,r),WN(t,n);else if(fQ(i,t,e,r,n))n.stopPropagation();else if(WN(t,n),e&4&&-1<hQ.indexOf(t)){for(;i!==null;){var s=wd(i);if(s!==null&&bH(s),s=DO(t,e,r,n),s===null&&Pm(t,e,n,pf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Pm(t,e,n,null,r)}}var pf=null;function DO(t,e,r,n){if(pf=null,t=gC(n),t=xa(t),t!==null)if(e=go(t),e===null)t=null;else if(r=e.tag,r===13){if(t=dH(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return pf=t,null}function EH(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(nQ()){case yC:return 1;case mH:return 4;case df:case iQ:return 16;case vH:return 536870912;default:return 16}default:return 16}}var js=null,_C=null,Uh=null;function OH(){if(Uh)return Uh;var t,e=_C,r=e.length,n,i="value"in js?js.value:js.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Uh=i.slice(t,1<n?1-n:void 0)}function Wh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function yh(){return!0}function VN(){return!1}function pn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?yh:VN,this.isPropagationStopped=VN,this}return pt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=yh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=yh)},persist:function(){},isPersistent:yh}),e}var au={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SC=pn(au),bd=pt({},au,{view:0,detail:0}),gQ=pn(bd),gm,ym,Hu,ip=pt({},bd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hu&&(Hu&&t.type==="mousemove"?(gm=t.screenX-Hu.screenX,ym=t.screenY-Hu.screenY):ym=gm=0,Hu=t),gm)},movementY:function(t){return"movementY"in t?t.movementY:ym}}),KN=pn(ip),yQ=pt({},ip,{dataTransfer:0}),bQ=pn(yQ),wQ=pt({},bd,{relatedTarget:0}),bm=pn(wQ),xQ=pt({},au,{animationName:0,elapsedTime:0,pseudoElement:0}),_Q=pn(xQ),SQ=pt({},au,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),EQ=pn(SQ),OQ=pt({},au,{data:0}),GN=pn(OQ),PQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},CQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},TQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function NQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=TQ[t])?!!e[t]:!1}function EC(){return NQ}var IQ=pt({},bd,{key:function(t){if(t.key){var e=PQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Wh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?CQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EC,charCode:function(t){return t.type==="keypress"?Wh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Wh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),RQ=pn(IQ),jQ=pt({},ip,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),YN=pn(jQ),$Q=pt({},bd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EC}),kQ=pn($Q),DQ=pt({},au,{propertyName:0,elapsedTime:0,pseudoElement:0}),qQ=pn(DQ),MQ=pt({},ip,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),FQ=pn(MQ),AQ=[9,13,27,32],OC=Gi&&"CompositionEvent"in window,hc=null;Gi&&"documentMode"in document&&(hc=document.documentMode);var LQ=Gi&&"TextEvent"in window&&!hc,PH=Gi&&(!OC||hc&&8<hc&&11>=hc),QN=" ",XN=!1;function CH(t,e){switch(t){case"keyup":return AQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function TH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Go=!1;function BQ(t,e){switch(t){case"compositionend":return TH(e);case"keypress":return e.which!==32?null:(XN=!0,QN);case"textInput":return t=e.data,t===QN&&XN?null:t;default:return null}}function zQ(t,e){if(Go)return t==="compositionend"||!OC&&CH(t,e)?(t=OH(),Uh=_C=js=null,Go=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return PH&&e.locale!=="ko"?null:e.data;default:return null}}var UQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function JN(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!UQ[t.type]:e==="textarea"}function NH(t,e,r,n){aH(n),e=mf(e,"onChange"),0<e.length&&(r=new SC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var fc=null,kc=null;function WQ(t){LH(t,0)}function sp(t){var e=Xo(t);if(Z8(e))return t}function HQ(t,e){if(t==="change")return e}var IH=!1;if(Gi){var wm;if(Gi){var xm="oninput"in document;if(!xm){var ZN=document.createElement("div");ZN.setAttribute("oninput","return;"),xm=typeof ZN.oninput=="function"}wm=xm}else wm=!1;IH=wm&&(!document.documentMode||9<document.documentMode)}function eI(){fc&&(fc.detachEvent("onpropertychange",RH),kc=fc=null)}function RH(t){if(t.propertyName==="value"&&sp(kc)){var e=[];NH(e,kc,t,gC(t)),cH(WQ,e)}}function VQ(t,e,r){t==="focusin"?(eI(),fc=e,kc=r,fc.attachEvent("onpropertychange",RH)):t==="focusout"&&eI()}function KQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return sp(kc)}function GQ(t,e){if(t==="click")return sp(e)}function YQ(t,e){if(t==="input"||t==="change")return sp(e)}function QQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:QQ;function Dc(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!gO.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function tI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function rI(t,e){var r=tI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=tI(r)}}function jH(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?jH(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function $H(){for(var t=window,e=lf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=lf(t.document)}return e}function PC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function XQ(t){var e=$H(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&jH(r.ownerDocument.documentElement,r)){if(n!==null&&PC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=rI(r,s);var a=rI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var JQ=Gi&&"documentMode"in document&&11>=document.documentMode,Yo=null,qO=null,pc=null,MO=!1;function nI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;MO||Yo==null||Yo!==lf(n)||(n=Yo,"selectionStart"in n&&PC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),pc&&Dc(pc,n)||(pc=n,n=mf(qO,"onSelect"),0<n.length&&(e=new SC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Yo)))}function bh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Qo={animationend:bh("Animation","AnimationEnd"),animationiteration:bh("Animation","AnimationIteration"),animationstart:bh("Animation","AnimationStart"),transitionend:bh("Transition","TransitionEnd")},_m={},kH={};Gi&&(kH=document.createElement("div").style,"AnimationEvent"in window||(delete Qo.animationend.animation,delete Qo.animationiteration.animation,delete Qo.animationstart.animation),"TransitionEvent"in window||delete Qo.transitionend.transition);function ap(t){if(_m[t])return _m[t];if(!Qo[t])return t;var e=Qo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in kH)return _m[t]=e[r];return t}var DH=ap("animationend"),qH=ap("animationiteration"),MH=ap("animationstart"),FH=ap("transitionend"),AH=new Map,iI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function sa(t,e){AH.set(t,e),vo(e,[t])}for(var Sm=0;Sm<iI.length;Sm++){var Em=iI[Sm],ZQ=Em.toLowerCase(),eX=Em[0].toUpperCase()+Em.slice(1);sa(ZQ,"on"+eX)}sa(DH,"onAnimationEnd");sa(qH,"onAnimationIteration");sa(MH,"onAnimationStart");sa("dblclick","onDoubleClick");sa("focusin","onFocus");sa("focusout","onBlur");sa(FH,"onTransitionEnd");ql("onMouseEnter",["mouseout","mouseover"]);ql("onMouseLeave",["mouseout","mouseover"]);ql("onPointerEnter",["pointerout","pointerover"]);ql("onPointerLeave",["pointerout","pointerover"]);vo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vo("onBeforeInput",["compositionend","keypress","textInput","paste"]);vo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ac="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),tX=new Set("cancel close invalid load scroll toggle".split(" ").concat(ac));function sI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,ZY(n,e,void 0,t),t.currentTarget=null}function LH(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;sI(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;sI(i,o,u),s=l}}}if(cf)throw t=jO,cf=!1,jO=null,t}function st(t,e){var r=e[zO];r===void 0&&(r=e[zO]=new Set);var n=t+"__bubble";r.has(n)||(BH(e,t,2,!1),r.add(n))}function Om(t,e,r){var n=0;e&&(n|=4),BH(r,t,n,e)}var wh="_reactListening"+Math.random().toString(36).slice(2);function qc(t){if(!t[wh]){t[wh]=!0,G8.forEach(function(r){r!=="selectionchange"&&(tX.has(r)||Om(r,!1,t),Om(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[wh]||(e[wh]=!0,Om("selectionchange",!1,e))}}function BH(t,e,r,n){switch(EH(e)){case 1:var i=mQ;break;case 4:i=vQ;break;default:i=xC}r=i.bind(null,e,r,t),i=void 0,!RO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Pm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=xa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}cH(function(){var u=s,c=gC(r),h=[];e:{var f=AH.get(t);if(f!==void 0){var p=SC,m=t;switch(t){case"keypress":if(Wh(r)===0)break e;case"keydown":case"keyup":p=RQ;break;case"focusin":m="focus",p=bm;break;case"focusout":m="blur",p=bm;break;case"beforeblur":case"afterblur":p=bm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=KN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=bQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=kQ;break;case DH:case qH:case MH:p=_Q;break;case FH:p=qQ;break;case"scroll":p=gQ;break;case"wheel":p=FQ;break;case"copy":case"cut":case"paste":p=EQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=YN}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=Ic(v,g),w!=null&&y.push(Mc(v,w,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,c),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==NO&&(m=r.relatedTarget||r.fromElement)&&(xa(m)||m[Yi]))break e;if((p||f)&&(f=c.window===c?c:(f=c.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?xa(m):null,m!==null&&(b=go(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=KN,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=YN,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:Xo(p),x=m==null?f:Xo(m),f=new y(w,v+"leave",p,r,c),f.target=b,f.relatedTarget=x,w=null,xa(c)===u&&(y=new y(g,v+"enter",m,r,c),y.target=x,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Fo(x))v++;for(x=0,w=g;w;w=Fo(w))x++;for(;0<v-x;)y=Fo(y),v--;for(;0<x-v;)g=Fo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Fo(y),g=Fo(g)}y=null}else y=null;p!==null&&aI(h,f,p,y,!1),m!==null&&b!==null&&aI(h,b,m,y,!0)}}e:{if(f=u?Xo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=HQ;else if(JN(f))if(IH)_=YQ;else{_=KQ;var E=VQ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=GQ);if(_&&(_=_(t,u))){NH(h,_,r,c);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&EO(f,"number",f.value)}switch(E=u?Xo(u):window,t){case"focusin":(JN(E)||E.contentEditable==="true")&&(Yo=E,qO=u,pc=null);break;case"focusout":pc=qO=Yo=null;break;case"mousedown":MO=!0;break;case"contextmenu":case"mouseup":case"dragend":MO=!1,nI(h,r,c);break;case"selectionchange":if(JQ)break;case"keydown":case"keyup":nI(h,r,c)}var O;if(OC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Go?CH(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(PH&&r.locale!=="ko"&&(Go||S!=="onCompositionStart"?S==="onCompositionEnd"&&Go&&(O=OH()):(js=c,_C="value"in js?js.value:js.textContent,Go=!0)),E=mf(u,S),0<E.length&&(S=new GN(S,t,null,r,c),h.push({event:S,listeners:E}),O?S.data=O:(O=TH(r),O!==null&&(S.data=O)))),(O=LQ?BQ(t,r):zQ(t,r))&&(u=mf(u,"onBeforeInput"),0<u.length&&(c=new GN("onBeforeInput","beforeinput",null,r,c),h.push({event:c,listeners:u}),c.data=O))}LH(h,e)})}function Mc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function mf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=Ic(t,r),s!=null&&n.unshift(Mc(t,s,i)),s=Ic(t,e),s!=null&&n.push(Mc(t,s,i))),t=t.return}return n}function Fo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function aI(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=Ic(r,s),l!=null&&a.unshift(Mc(r,l,o))):i||(l=Ic(r,s),l!=null&&a.push(Mc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var rX=/\r\n?/g,nX=/\u0000|\uFFFD/g;function oI(t){return(typeof t=="string"?t:""+t).replace(rX,`
`).replace(nX,"")}function xh(t,e,r){if(e=oI(e),oI(t)!==e&&r)throw Error(X(425))}function vf(){}var FO=null,AO=null;function LO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var BO=typeof setTimeout=="function"?setTimeout:void 0,iX=typeof clearTimeout=="function"?clearTimeout:void 0,lI=typeof Promise=="function"?Promise:void 0,sX=typeof queueMicrotask=="function"?queueMicrotask:typeof lI<"u"?function(t){return lI.resolve(null).then(t).catch(aX)}:BO;function aX(t){setTimeout(function(){throw t})}function Cm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),$c(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);$c(e)}function As(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function uI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var ou=Math.random().toString(36).slice(2),fi="__reactFiber$"+ou,Fc="__reactProps$"+ou,Yi="__reactContainer$"+ou,zO="__reactEvents$"+ou,oX="__reactListeners$"+ou,lX="__reactHandles$"+ou;function xa(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Yi]||r[fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=uI(t);t!==null;){if(r=t[fi])return r;t=uI(t)}return e}t=r,r=t.parentNode}return null}function wd(t){return t=t[fi]||t[Yi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Xo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(X(33))}function op(t){return t[Fc]||null}var UO=[],Jo=-1;function aa(t){return{current:t}}function at(t){0>Jo||(t.current=UO[Jo],UO[Jo]=null,Jo--)}function rt(t,e){Jo++,UO[Jo]=t.current,t.current=e}var Zs={},wr=aa(Zs),Hr=aa(!1),Qa=Zs;function Ml(t,e){var r=t.type.contextTypes;if(!r)return Zs;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Vr(t){return t=t.childContextTypes,t!=null}function gf(){at(Hr),at(wr)}function cI(t,e,r){if(wr.current!==Zs)throw Error(X(168));rt(wr,e),rt(Hr,r)}function zH(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(X(108,VY(t)||"Unknown",i));return pt({},r,n)}function yf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Zs,Qa=wr.current,rt(wr,t),rt(Hr,Hr.current),!0}function dI(t,e,r){var n=t.stateNode;if(!n)throw Error(X(169));r?(t=zH(t,e,Qa),n.__reactInternalMemoizedMergedChildContext=t,at(Hr),at(wr),rt(wr,t)):at(Hr),rt(Hr,r)}var Ti=null,lp=!1,Tm=!1;function UH(t){Ti===null?Ti=[t]:Ti.push(t)}function uX(t){lp=!0,UH(t)}function oa(){if(!Tm&&Ti!==null){Tm=!0;var t=0,e=We;try{var r=Ti;for(We=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ti=null,lp=!1}catch(i){throw Ti!==null&&(Ti=Ti.slice(t+1)),pH(yC,oa),i}finally{We=e,Tm=!1}}return null}var Zo=[],el=0,bf=null,wf=0,Sn=[],En=0,Xa=null,$i=1,ki="";function ya(t,e){Zo[el++]=wf,Zo[el++]=bf,bf=t,wf=e}function WH(t,e,r){Sn[En++]=$i,Sn[En++]=ki,Sn[En++]=Xa,Xa=t;var n=$i;t=ki;var i=32-Yn(n)-1;n&=~(1<<i),r+=1;var s=32-Yn(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,$i=1<<32-Yn(e)+i|r<<i|n,ki=s+t}else $i=1<<s|r<<i|n,ki=t}function CC(t){t.return!==null&&(ya(t,1),WH(t,1,0))}function TC(t){for(;t===bf;)bf=Zo[--el],Zo[el]=null,wf=Zo[--el],Zo[el]=null;for(;t===Xa;)Xa=Sn[--En],Sn[En]=null,ki=Sn[--En],Sn[En]=null,$i=Sn[--En],Sn[En]=null}var dn=null,cn=null,lt=!1,Un=null;function HH(t,e){var r=Pn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function hI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,dn=t,cn=As(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,dn=t,cn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Xa!==null?{id:$i,overflow:ki}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,dn=t,cn=null,!0):!1;default:return!1}}function WO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function HO(t){if(lt){var e=cn;if(e){var r=e;if(!hI(t,e)){if(WO(t))throw Error(X(418));e=As(r.nextSibling);var n=dn;e&&hI(t,e)?HH(n,r):(t.flags=t.flags&-4097|2,lt=!1,dn=t)}}else{if(WO(t))throw Error(X(418));t.flags=t.flags&-4097|2,lt=!1,dn=t}}}function fI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;dn=t}function _h(t){if(t!==dn)return!1;if(!lt)return fI(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!LO(t.type,t.memoizedProps)),e&&(e=cn)){if(WO(t))throw VH(),Error(X(418));for(;e;)HH(t,e),e=As(e.nextSibling)}if(fI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(X(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){cn=As(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}cn=null}}else cn=dn?As(t.stateNode.nextSibling):null;return!0}function VH(){for(var t=cn;t;)t=As(t.nextSibling)}function Fl(){cn=dn=null,lt=!1}function NC(t){Un===null?Un=[t]:Un.push(t)}var cX=Zi.ReactCurrentBatchConfig;function Vu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(X(309));var n=r.stateNode}if(!n)throw Error(X(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(X(284));if(!r._owner)throw Error(X(290,t))}return t}function Sh(t,e){throw t=Object.prototype.toString.call(e),Error(X(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function pI(t){var e=t._init;return e(t._payload)}function KH(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Us(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,w){return v===null||v.tag!==6?(v=Dm(x,g.mode,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,w){var _=x.type;return _===Ko?c(g,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ps&&pI(_)===v.type)?(w=i(v,x.props),w.ref=Vu(g,v,x),w.return=g,w):(w=Xh(x.type,x.key,x.props,null,g.mode,w),w.ref=Vu(g,v,x),w.return=g,w)}function u(g,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=qm(x,g.mode,w),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function c(g,v,x,w,_){return v===null||v.tag!==7?(v=Ba(x,g.mode,w,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Dm(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case hh:return x=Xh(v.type,v.key,v.props,null,g.mode,x),x.ref=Vu(g,null,v),x.return=g,x;case Vo:return v=qm(v,g.mode,x),v.return=g,v;case ps:var w=v._init;return h(g,w(v._payload),x)}if(ic(v)||Bu(v))return v=Ba(v,g.mode,x,null),v.return=g,v;Sh(g,v)}return null}function f(g,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case hh:return x.key===_?l(g,v,x,w):null;case Vo:return x.key===_?u(g,v,x,w):null;case ps:return _=x._init,f(g,v,_(x._payload),w)}if(ic(x)||Bu(x))return _!==null?null:c(g,v,x,w,null);Sh(g,x)}return null}function p(g,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case hh:return g=g.get(w.key===null?x:w.key)||null,l(v,g,w,_);case Vo:return g=g.get(w.key===null?x:w.key)||null,u(v,g,w,_);case ps:var E=w._init;return p(g,v,x,E(w._payload),_)}if(ic(w)||Bu(w))return g=g.get(x)||null,c(v,g,w,_,null);Sh(v,w)}return null}function m(g,v,x,w){for(var _=null,E=null,O=v,S=v=0,P=null;O!==null&&S<x.length;S++){O.index>S?(P=O,O=null):P=O.sibling;var C=f(g,O,x[S],w);if(C===null){O===null&&(O=P);break}t&&O&&C.alternate===null&&e(g,O),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,O=P}if(S===x.length)return r(g,O),lt&&ya(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return lt&&ya(g,S),_}for(O=n(g,O);S<x.length;S++)P=p(O,g,S,x[S],w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(I){return e(g,I)}),lt&&ya(g,S),_}function y(g,v,x,w){var _=Bu(x);if(typeof _!="function")throw Error(X(150));if(x=_.call(x),x==null)throw Error(X(151));for(var E=_=null,O=v,S=v=0,P=null,C=x.next();O!==null&&!C.done;S++,C=x.next()){O.index>S?(P=O,O=null):P=O.sibling;var I=f(g,O,C.value,w);if(I===null){O===null&&(O=P);break}t&&O&&I.alternate===null&&e(g,O),v=s(I,v,S),E===null?_=I:E.sibling=I,E=I,O=P}if(C.done)return r(g,O),lt&&ya(g,S),_;if(O===null){for(;!C.done;S++,C=x.next())C=h(g,C.value,w),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return lt&&ya(g,S),_}for(O=n(g,O);!C.done;S++,C=x.next())C=p(O,g,S,C.value,w),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&O.forEach(function(T){return e(g,T)}),lt&&ya(g,S),_}function b(g,v,x,w){if(typeof x=="object"&&x!==null&&x.type===Ko&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case hh:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===Ko){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ps&&pI(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=Vu(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===Ko?(v=Ba(x.props.children,g.mode,w,x.key),v.return=g,g=v):(w=Xh(x.type,x.key,x.props,null,g.mode,w),w.ref=Vu(g,v,x),w.return=g,g=w)}return a(g);case Vo:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=qm(x,g.mode,w),v.return=g,g=v}return a(g);case ps:return E=x._init,b(g,v,E(x._payload),w)}if(ic(x))return m(g,v,x,w);if(Bu(x))return y(g,v,x,w);Sh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=Dm(x,g.mode,w),v.return=g,g=v),a(g)):r(g,v)}return b}var Al=KH(!0),GH=KH(!1),xf=aa(null),_f=null,tl=null,IC=null;function RC(){IC=tl=_f=null}function jC(t){var e=xf.current;at(xf),t._currentValue=e}function VO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function pl(t,e){_f=t,IC=tl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Wr=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(IC!==t)if(t={context:t,memoizedValue:e,next:null},tl===null){if(_f===null)throw Error(X(308));tl=t,_f.dependencies={lanes:0,firstContext:t}}else tl=tl.next=t;return e}var _a=null;function $C(t){_a===null?_a=[t]:_a.push(t)}function YH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$C(e)):(r.next=i.next,i.next=r),e.interleaved=r,Qi(t,n)}function Qi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var ms=!1;function kC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function QH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Mi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ls(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Ae&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Qi(t,r)}return i=n.interleaved,i===null?(e.next=e,$C(n)):(e.next=i.next,i.next=e),n.interleaved=e,Qi(t,r)}function Hh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}function mI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Sf(t,e,r,n){var i=t.updateQueue;ms=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var c=t.alternate;c!==null&&(c=c.updateQueue,o=c.lastBaseUpdate,o!==a&&(o===null?c.firstBaseUpdate=u:o.next=u,c.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,c=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){c!==null&&(c=c.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=pt({},h,f);break e;case 2:ms=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},c===null?(u=c=p,l=h):c=c.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(c===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=c,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);Za|=a,t.lanes=a,t.memoizedState=h}}function vI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(X(191,i));i.call(n)}}}var xd={},bi=aa(xd),Ac=aa(xd),Lc=aa(xd);function Sa(t){if(t===xd)throw Error(X(174));return t}function DC(t,e){switch(rt(Lc,e),rt(Ac,t),rt(bi,xd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:PO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=PO(e,t)}at(bi),rt(bi,e)}function Ll(){at(bi),at(Ac),at(Lc)}function XH(t){Sa(Lc.current);var e=Sa(bi.current),r=PO(e,t.type);e!==r&&(rt(Ac,t),rt(bi,r))}function qC(t){Ac.current===t&&(at(bi),at(Ac))}var ct=aa(0);function Ef(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Nm=[];function MC(){for(var t=0;t<Nm.length;t++)Nm[t]._workInProgressVersionPrimary=null;Nm.length=0}var Vh=Zi.ReactCurrentDispatcher,Im=Zi.ReactCurrentBatchConfig,Ja=0,dt=null,Ut=null,Yt=null,Of=!1,mc=!1,Bc=0,dX=0;function pr(){throw Error(X(321))}function FC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xn(t[r],e[r]))return!1;return!0}function AC(t,e,r,n,i,s){if(Ja=s,dt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Vh.current=t===null||t.memoizedState===null?mX:vX,t=r(n,i),mc){s=0;do{if(mc=!1,Bc=0,25<=s)throw Error(X(301));s+=1,Yt=Ut=null,e.updateQueue=null,Vh.current=gX,t=r(n,i)}while(mc)}if(Vh.current=Pf,e=Ut!==null&&Ut.next!==null,Ja=0,Yt=Ut=dt=null,Of=!1,e)throw Error(X(300));return t}function LC(){var t=Bc!==0;return Bc=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?dt.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Rn(){if(Ut===null){var t=dt.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Yt===null?dt.memoizedState:Yt.next;if(e!==null)Yt=e,Ut=t;else{if(t===null)throw Error(X(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Yt===null?dt.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function zc(t,e){return typeof e=="function"?e(t):e}function Rm(t){var e=Rn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var c=u.lane;if((Ja&c)===c)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:c,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,dt.lanes|=c,Za|=c}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Xn(n,e.memoizedState)||(Wr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,dt.lanes|=s,Za|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function jm(t){var e=Rn(),r=e.queue;if(r===null)throw Error(X(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Xn(s,e.memoizedState)||(Wr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function JH(){}function ZH(t,e){var r=dt,n=Rn(),i=e(),s=!Xn(n.memoizedState,i);if(s&&(n.memoizedState=i,Wr=!0),n=n.queue,BC(rV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(r.flags|=2048,Uc(9,tV.bind(null,r,n,i,e),void 0,null),Xt===null)throw Error(X(349));Ja&30||eV(r,e,i)}return i}function eV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function tV(t,e,r,n){e.value=r,e.getSnapshot=n,nV(e)&&iV(t)}function rV(t,e,r){return r(function(){nV(e)&&iV(t)})}function nV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xn(t,r)}catch{return!0}}function iV(t){var e=Qi(t,1);e!==null&&Qn(e,t,1,-1)}function gI(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:zc,lastRenderedState:t},e.queue=t,t=t.dispatch=pX.bind(null,dt,t),[e.memoizedState,t]}function Uc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=dt.updateQueue,e===null?(e={lastEffect:null,stores:null},dt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function sV(){return Rn().memoizedState}function Kh(t,e,r,n){var i=oi();dt.flags|=t,i.memoizedState=Uc(1|e,r,void 0,n===void 0?null:n)}function up(t,e,r,n){var i=Rn();n=n===void 0?null:n;var s=void 0;if(Ut!==null){var a=Ut.memoizedState;if(s=a.destroy,n!==null&&FC(n,a.deps)){i.memoizedState=Uc(e,r,s,n);return}}dt.flags|=t,i.memoizedState=Uc(1|e,r,s,n)}function yI(t,e){return Kh(8390656,8,t,e)}function BC(t,e){return up(2048,8,t,e)}function aV(t,e){return up(4,2,t,e)}function oV(t,e){return up(4,4,t,e)}function lV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function uV(t,e,r){return r=r!=null?r.concat([t]):null,up(4,4,lV.bind(null,e,t),r)}function zC(){}function cV(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function dV(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&FC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function hV(t,e,r){return Ja&21?(Xn(r,e)||(r=gH(),dt.lanes|=r,Za|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Wr=!0),t.memoizedState=r)}function hX(t,e){var r=We;We=r!==0&&4>r?r:4,t(!0);var n=Im.transition;Im.transition={};try{t(!1),e()}finally{We=r,Im.transition=n}}function fV(){return Rn().memoizedState}function fX(t,e,r){var n=zs(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},pV(t))mV(e,r);else if(r=YH(t,e,r,n),r!==null){var i=Rr();Qn(r,t,n,i),vV(r,e,n)}}function pX(t,e,r){var n=zs(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(pV(t))mV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Xn(o,a)){var l=e.interleaved;l===null?(i.next=i,$C(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=YH(t,e,i,n),r!==null&&(i=Rr(),Qn(r,t,n,i),vV(r,e,n))}}function pV(t){var e=t.alternate;return t===dt||e!==null&&e===dt}function mV(t,e){mc=Of=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function vV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}var Pf={readContext:In,useCallback:pr,useContext:pr,useEffect:pr,useImperativeHandle:pr,useInsertionEffect:pr,useLayoutEffect:pr,useMemo:pr,useReducer:pr,useRef:pr,useState:pr,useDebugValue:pr,useDeferredValue:pr,useTransition:pr,useMutableSource:pr,useSyncExternalStore:pr,useId:pr,unstable_isNewReconciler:!1},mX={readContext:In,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:yI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Kh(4194308,4,lV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Kh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Kh(4,2,t,e)},useMemo:function(t,e){var r=oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=fX.bind(null,dt,t),[n.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:gI,useDebugValue:zC,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=gI(!1),e=t[0];return t=hX.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=dt,i=oi();if(lt){if(r===void 0)throw Error(X(407));r=r()}else{if(r=e(),Xt===null)throw Error(X(349));Ja&30||eV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,yI(rV.bind(null,n,s,t),[t]),n.flags|=2048,Uc(9,tV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=oi(),e=Xt.identifierPrefix;if(lt){var r=ki,n=$i;r=(n&~(1<<32-Yn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Bc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=dX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},vX={readContext:In,useCallback:cV,useContext:In,useEffect:BC,useImperativeHandle:uV,useInsertionEffect:aV,useLayoutEffect:oV,useMemo:dV,useReducer:Rm,useRef:sV,useState:function(){return Rm(zc)},useDebugValue:zC,useDeferredValue:function(t){var e=Rn();return hV(e,Ut.memoizedState,t)},useTransition:function(){var t=Rm(zc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:JH,useSyncExternalStore:ZH,useId:fV,unstable_isNewReconciler:!1},gX={readContext:In,useCallback:cV,useContext:In,useEffect:BC,useImperativeHandle:uV,useInsertionEffect:aV,useLayoutEffect:oV,useMemo:dV,useReducer:jm,useRef:sV,useState:function(){return jm(zc)},useDebugValue:zC,useDeferredValue:function(t){var e=Rn();return Ut===null?e.memoizedState=t:hV(e,Ut.memoizedState,t)},useTransition:function(){var t=jm(zc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:JH,useSyncExternalStore:ZH,useId:fV,unstable_isNewReconciler:!1};function An(t,e){if(t&&t.defaultProps){e=pt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function KO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:pt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var cp={isMounted:function(t){return(t=t._reactInternals)?go(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=zs(t),s=Mi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ls(t,s,i),e!==null&&(Qn(e,t,i,n),Hh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=zs(t),s=Mi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ls(t,s,i),e!==null&&(Qn(e,t,i,n),Hh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Rr(),n=zs(t),i=Mi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ls(t,i,n),e!==null&&(Qn(e,t,n,r),Hh(e,t,n))}};function bI(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Dc(r,n)||!Dc(i,s):!0}function gV(t,e,r){var n=!1,i=Zs,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Vr(e)?Qa:wr.current,n=e.contextTypes,s=(n=n!=null)?Ml(t,i):Zs),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=cp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function wI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&cp.enqueueReplaceState(e,e.state,null)}function GO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},kC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Vr(e)?Qa:wr.current,i.context=Ml(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(KO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&cp.enqueueReplaceState(i,i.state,null),Sf(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Bl(t,e){try{var r="",n=e;do r+=HY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function $m(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function YO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var yX=typeof WeakMap=="function"?WeakMap:Map;function yV(t,e,r){r=Mi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Tf||(Tf=!0,sP=n),YO(t,e)},r}function bV(t,e,r){r=Mi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){YO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){YO(t,e),typeof n!="function"&&(Bs===null?Bs=new Set([this]):Bs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function xI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new yX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=jX.bind(null,t,e,r),e.then(t,t))}function _I(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function SI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Mi(-1,1),e.tag=2,Ls(r,e,1))),r.lanes|=1),t)}var bX=Zi.ReactCurrentOwner,Wr=!1;function Pr(t,e,r,n){e.child=t===null?GH(e,null,r,n):Al(e,t.child,r,n)}function EI(t,e,r,n,i){r=r.render;var s=e.ref;return pl(e,i),n=AC(t,e,r,n,s,i),r=LC(),t!==null&&!Wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(lt&&r&&CC(e),e.flags|=1,Pr(t,e,n,i),e.child)}function OI(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!QC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,wV(t,e,s,n,i)):(t=Xh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Dc,r(a,n)&&t.ref===e.ref)return Xi(t,e,i)}return e.flags|=1,t=Us(s,n),t.ref=e.ref,t.return=e,e.child=t}function wV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Dc(s,n)&&t.ref===e.ref)if(Wr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Wr=!0);else return e.lanes=t.lanes,Xi(t,e,i)}return QO(t,e,r,n,i)}function xV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(nl,on),on|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(nl,on),on|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rt(nl,on),on|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rt(nl,on),on|=n;return Pr(t,e,i,r),e.child}function _V(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function QO(t,e,r,n,i){var s=Vr(r)?Qa:wr.current;return s=Ml(e,s),pl(e,i),r=AC(t,e,r,n,s,i),n=LC(),t!==null&&!Wr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Xi(t,e,i)):(lt&&n&&CC(e),e.flags|=1,Pr(t,e,r,i),e.child)}function PI(t,e,r,n,i){if(Vr(r)){var s=!0;yf(e)}else s=!1;if(pl(e,i),e.stateNode===null)Gh(t,e),gV(e,r,n),GO(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Vr(r)?Qa:wr.current,u=Ml(e,u));var c=r.getDerivedStateFromProps,h=typeof c=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&wI(e,a,n,u),ms=!1;var f=e.memoizedState;a.state=f,Sf(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Hr.current||ms?(typeof c=="function"&&(KO(e,r,c,n),l=e.memoizedState),(o=ms||bI(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,QH(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:An(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Vr(r)?Qa:wr.current,l=Ml(e,l));var p=r.getDerivedStateFromProps;(c=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&wI(e,a,n,l),ms=!1,f=e.memoizedState,a.state=f,Sf(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Hr.current||ms?(typeof p=="function"&&(KO(e,r,p,n),m=e.memoizedState),(u=ms||bI(e,r,u,n,f,m,l)||!1)?(c||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return XO(t,e,r,n,s,i)}function XO(t,e,r,n,i,s){_V(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&dI(e,r,!1),Xi(t,e,s);n=e.stateNode,bX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Al(e,t.child,null,s),e.child=Al(e,null,o,s)):Pr(t,e,o,s),e.memoizedState=n.state,i&&dI(e,r,!0),e.child}function SV(t){var e=t.stateNode;e.pendingContext?cI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&cI(t,e.context,!1),DC(t,e.containerInfo)}function CI(t,e,r,n,i){return Fl(),NC(i),e.flags|=256,Pr(t,e,r,n),e.child}var JO={dehydrated:null,treeContext:null,retryLane:0};function ZO(t){return{baseLanes:t,cachePool:null,transitions:null}}function EV(t,e,r){var n=e.pendingProps,i=ct.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(ct,i&1),t===null)return HO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=fp(a,n,0,null),t=Ba(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=ZO(r),e.memoizedState=JO,t):UC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return wX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Us(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Us(o,s):(s=Ba(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?ZO(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=JO,n}return s=t.child,t=s.sibling,n=Us(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function UC(t,e){return e=fp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Eh(t,e,r,n){return n!==null&&NC(n),Al(e,t.child,null,r),t=UC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function wX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=$m(Error(X(422))),Eh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=fp({mode:"visible",children:n.children},i,0,null),s=Ba(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Al(e,t.child,null,a),e.child.memoizedState=ZO(a),e.memoizedState=JO,s);if(!(e.mode&1))return Eh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(X(419)),n=$m(s,n,void 0),Eh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Wr||o){if(n=Xt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Qi(t,i),Qn(n,t,i,-1))}return YC(),n=$m(Error(X(421))),Eh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=$X.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,cn=As(i.nextSibling),dn=e,lt=!0,Un=null,t!==null&&(Sn[En++]=$i,Sn[En++]=ki,Sn[En++]=Xa,$i=t.id,ki=t.overflow,Xa=e),e=UC(e,n.children),e.flags|=4096,e)}function TI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),VO(t.return,e,r)}function km(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function OV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pr(t,e,n.children,r),n=ct.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&TI(t,r,e);else if(t.tag===19)TI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rt(ct,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ef(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),km(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ef(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}km(e,!0,r,null,s);break;case"together":km(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Gh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Xi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),Za|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(X(153));if(e.child!==null){for(t=e.child,r=Us(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Us(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function xX(t,e,r){switch(e.tag){case 3:SV(e),Fl();break;case 5:XH(e);break;case 1:Vr(e.type)&&yf(e);break;case 4:DC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rt(xf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rt(ct,ct.current&1),e.flags|=128,null):r&e.child.childLanes?EV(t,e,r):(rt(ct,ct.current&1),t=Xi(t,e,r),t!==null?t.sibling:null);rt(ct,ct.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return OV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ct,ct.current),n)break;return null;case 22:case 23:return e.lanes=0,xV(t,e,r)}return Xi(t,e,r)}var PV,eP,CV,TV;PV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};eP=function(){};CV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Sa(bi.current);var s=null;switch(r){case"input":i=_O(t,i),n=_O(t,n),s=[];break;case"select":i=pt({},i,{value:void 0}),n=pt({},n,{value:void 0}),s=[];break;case"textarea":i=OO(t,i),n=OO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=vf)}CO(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Tc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Tc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&st("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};TV=function(t,e,r,n){r!==n&&(e.flags|=4)};function Ku(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function mr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function _X(t,e,r){var n=e.pendingProps;switch(TC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return mr(e),null;case 1:return Vr(e.type)&&gf(),mr(e),null;case 3:return n=e.stateNode,Ll(),at(Hr),at(wr),MC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(_h(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(lP(Un),Un=null))),eP(t,e),mr(e),null;case 5:qC(e);var i=Sa(Lc.current);if(r=e.type,t!==null&&e.stateNode!=null)CV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(X(166));return mr(e),null}if(t=Sa(bi.current),_h(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[fi]=e,n[Fc]=s,t=(e.mode&1)!==0,r){case"dialog":st("cancel",n),st("close",n);break;case"iframe":case"object":case"embed":st("load",n);break;case"video":case"audio":for(i=0;i<ac.length;i++)st(ac[i],n);break;case"source":st("error",n);break;case"img":case"image":case"link":st("error",n),st("load",n);break;case"details":st("toggle",n);break;case"input":MN(n,s),st("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},st("invalid",n);break;case"textarea":AN(n,s),st("invalid",n)}CO(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&xh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&xh(n.textContent,o,t),i=["children",""+o]):Tc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&st("scroll",n)}switch(r){case"input":fh(n),FN(n,s,!0);break;case"textarea":fh(n),LN(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=vf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=rH(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[fi]=e,t[Fc]=n,PV(t,e,!1,!1),e.stateNode=t;e:{switch(a=TO(r,n),r){case"dialog":st("cancel",t),st("close",t),i=n;break;case"iframe":case"object":case"embed":st("load",t),i=n;break;case"video":case"audio":for(i=0;i<ac.length;i++)st(ac[i],t);i=n;break;case"source":st("error",t),i=n;break;case"img":case"image":case"link":st("error",t),st("load",t),i=n;break;case"details":st("toggle",t),i=n;break;case"input":MN(t,n),i=_O(t,n),st("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=pt({},n,{value:void 0}),st("invalid",t);break;case"textarea":AN(t,n),i=OO(t,n),st("invalid",t);break;default:i=n}CO(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?sH(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&nH(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Nc(t,l):typeof l=="number"&&Nc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Tc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&st("scroll",t):l!=null&&fC(t,s,l,a))}switch(r){case"input":fh(t),FN(t,n,!1);break;case"textarea":fh(t),LN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Js(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?cl(t,!!n.multiple,s,!1):n.defaultValue!=null&&cl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=vf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return mr(e),null;case 6:if(t&&e.stateNode!=null)TV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(X(166));if(r=Sa(Lc.current),Sa(bi.current),_h(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(s=n.nodeValue!==r)&&(t=dn,t!==null))switch(t.tag){case 3:xh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&xh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fi]=e,e.stateNode=n}return mr(e),null;case 13:if(at(ct),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&cn!==null&&e.mode&1&&!(e.flags&128))VH(),Fl(),e.flags|=98560,s=!1;else if(s=_h(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(X(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(X(317));s[fi]=e}else Fl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;mr(e),s=!1}else Un!==null&&(lP(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ct.current&1?Wt===0&&(Wt=3):YC())),e.updateQueue!==null&&(e.flags|=4),mr(e),null);case 4:return Ll(),eP(t,e),t===null&&qc(e.stateNode.containerInfo),mr(e),null;case 10:return jC(e.type._context),mr(e),null;case 17:return Vr(e.type)&&gf(),mr(e),null;case 19:if(at(ct),s=e.memoizedState,s===null)return mr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Ku(s,!1);else{if(Wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ef(t),a!==null){for(e.flags|=128,Ku(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rt(ct,ct.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>zl&&(e.flags|=128,n=!0,Ku(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ef(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Ku(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return mr(e),null}else 2*Pt()-s.renderingStartTime>zl&&r!==1073741824&&(e.flags|=128,n=!0,Ku(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,r=ct.current,rt(ct,n?r&1|2:r&1),e):(mr(e),null);case 22:case 23:return GC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?on&1073741824&&(mr(e),e.subtreeFlags&6&&(e.flags|=8192)):mr(e),null;case 24:return null;case 25:return null}throw Error(X(156,e.tag))}function SX(t,e){switch(TC(e),e.tag){case 1:return Vr(e.type)&&gf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ll(),at(Hr),at(wr),MC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return qC(e),null;case 13:if(at(ct),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(X(340));Fl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return at(ct),null;case 4:return Ll(),null;case 10:return jC(e.type._context),null;case 22:case 23:return GC(),null;case 24:return null;default:return null}}var Oh=!1,gr=!1,EX=typeof WeakSet=="function"?WeakSet:Set,ce=null;function rl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){xt(t,e,n)}else r.current=null}function tP(t,e,r){try{r()}catch(n){xt(t,e,n)}}var NI=!1;function OX(t,e){if(FO=ff,t=$H(),PC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,c=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++c===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(AO={focusedElem:t,selectionRange:r},ff=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:An(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(X(163))}}catch(w){xt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=NI,NI=!1,m}function vc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&tP(e,r,s)}i=i.next}while(i!==n)}}function dp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function rP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function NV(t){var e=t.alternate;e!==null&&(t.alternate=null,NV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fi],delete e[Fc],delete e[zO],delete e[oX],delete e[lX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function IV(t){return t.tag===5||t.tag===3||t.tag===4}function II(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||IV(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function nP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=vf));else if(n!==4&&(t=t.child,t!==null))for(nP(t,e,r),t=t.sibling;t!==null;)nP(t,e,r),t=t.sibling}function iP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(iP(t,e,r),t=t.sibling;t!==null;)iP(t,e,r),t=t.sibling}var ar=null,zn=!1;function ds(t,e,r){for(r=r.child;r!==null;)RV(t,e,r),r=r.sibling}function RV(t,e,r){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(np,r)}catch{}switch(r.tag){case 5:gr||rl(r,e);case 6:var n=ar,i=zn;ar=null,ds(t,e,r),ar=n,zn=i,ar!==null&&(zn?(t=ar,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ar.removeChild(r.stateNode));break;case 18:ar!==null&&(zn?(t=ar,r=r.stateNode,t.nodeType===8?Cm(t.parentNode,r):t.nodeType===1&&Cm(t,r),$c(t)):Cm(ar,r.stateNode));break;case 4:n=ar,i=zn,ar=r.stateNode.containerInfo,zn=!0,ds(t,e,r),ar=n,zn=i;break;case 0:case 11:case 14:case 15:if(!gr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&tP(r,e,a),i=i.next}while(i!==n)}ds(t,e,r);break;case 1:if(!gr&&(rl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){xt(r,e,o)}ds(t,e,r);break;case 21:ds(t,e,r);break;case 22:r.mode&1?(gr=(n=gr)||r.memoizedState!==null,ds(t,e,r),gr=n):ds(t,e,r);break;default:ds(t,e,r)}}function RI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new EX),e.forEach(function(n){var i=kX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ar=o.stateNode,zn=!1;break e;case 3:ar=o.stateNode.containerInfo,zn=!0;break e;case 4:ar=o.stateNode.containerInfo,zn=!0;break e}o=o.return}if(ar===null)throw Error(X(160));RV(s,a,i),ar=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){xt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)jV(e,t),e=e.sibling}function jV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),si(t),n&4){try{vc(3,t,t.return),dp(3,t)}catch(y){xt(t,t.return,y)}try{vc(5,t,t.return)}catch(y){xt(t,t.return,y)}}break;case 1:Mn(e,t),si(t),n&512&&r!==null&&rl(r,r.return);break;case 5:if(Mn(e,t),si(t),n&512&&r!==null&&rl(r,r.return),t.flags&32){var i=t.stateNode;try{Nc(i,"")}catch(y){xt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&eH(i,s),TO(o,a);var u=TO(o,s);for(a=0;a<l.length;a+=2){var c=l[a],h=l[a+1];c==="style"?sH(i,h):c==="dangerouslySetInnerHTML"?nH(i,h):c==="children"?Nc(i,h):fC(i,c,h,u)}switch(o){case"input":SO(i,s);break;case"textarea":tH(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?cl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?cl(i,!!s.multiple,s.defaultValue,!0):cl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Fc]=s}catch(y){xt(t,t.return,y)}}break;case 6:if(Mn(e,t),si(t),n&4){if(t.stateNode===null)throw Error(X(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){xt(t,t.return,y)}}break;case 3:if(Mn(e,t),si(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{$c(e.containerInfo)}catch(y){xt(t,t.return,y)}break;case 4:Mn(e,t),si(t);break;case 13:Mn(e,t),si(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(VC=Pt())),n&4&&RI(t);break;case 22:if(c=r!==null&&r.memoizedState!==null,t.mode&1?(gr=(u=gr)||c,Mn(e,t),gr=u):Mn(e,t),si(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!c&&t.mode&1)for(ce=t,c=t.child;c!==null;){for(h=ce=c;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:vc(4,f,f.return);break;case 1:rl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){xt(n,r,y)}}break;case 5:rl(f,f.return);break;case 22:if(f.memoizedState!==null){$I(h);continue}}p!==null?(p.return=f,ce=p):$I(h)}c=c.sibling}e:for(c=null,h=t;;){if(h.tag===5){if(c===null){c=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=iH("display",a))}catch(y){xt(t,t.return,y)}}}else if(h.tag===6){if(c===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){xt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;c===h&&(c=null),h=h.return}c===h&&(c=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),si(t),n&4&&RI(t);break;case 21:break;default:Mn(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(IV(r)){var n=r;break e}r=r.return}throw Error(X(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Nc(i,""),n.flags&=-33);var s=II(t);iP(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=II(t);nP(t,o,a);break;default:throw Error(X(161))}}catch(l){xt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function PX(t,e,r){ce=t,$V(t)}function $V(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Oh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||gr;o=Oh;var u=gr;if(Oh=a,(gr=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?kI(i):l!==null?(l.return=a,ce=l):kI(i);for(;s!==null;)ce=s,$V(s),s=s.sibling;ce=i,Oh=o,gr=u}jI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):jI(t)}}function jI(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:gr||dp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!gr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:An(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&vI(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}vI(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var c=u.memoizedState;if(c!==null){var h=c.dehydrated;h!==null&&$c(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(X(163))}gr||e.flags&512&&rP(e)}catch(f){xt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function $I(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function kI(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{dp(4,e)}catch(l){xt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){xt(e,i,l)}}var s=e.return;try{rP(e)}catch(l){xt(e,s,l)}break;case 5:var a=e.return;try{rP(e)}catch(l){xt(e,a,l)}}}catch(l){xt(e,e.return,l)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var CX=Math.ceil,Cf=Zi.ReactCurrentDispatcher,WC=Zi.ReactCurrentOwner,Cn=Zi.ReactCurrentBatchConfig,Ae=0,Xt=null,Rt=null,or=0,on=0,nl=aa(0),Wt=0,Wc=null,Za=0,hp=0,HC=0,gc=null,zr=null,VC=0,zl=1/0,Ci=null,Tf=!1,sP=null,Bs=null,Ph=!1,$s=null,Nf=0,yc=0,aP=null,Yh=-1,Qh=0;function Rr(){return Ae&6?Pt():Yh!==-1?Yh:Yh=Pt()}function zs(t){return t.mode&1?Ae&2&&or!==0?or&-or:cX.transition!==null?(Qh===0&&(Qh=gH()),Qh):(t=We,t!==0||(t=window.event,t=t===void 0?16:EH(t.type)),t):1}function Qn(t,e,r,n){if(50<yc)throw yc=0,aP=null,Error(X(185));yd(t,r,n),(!(Ae&2)||t!==Xt)&&(t===Xt&&(!(Ae&2)&&(hp|=r),Wt===4&&ws(t,or)),Kr(t,n),r===1&&Ae===0&&!(e.mode&1)&&(zl=Pt()+500,lp&&oa()))}function Kr(t,e){var r=t.callbackNode;cQ(t,e);var n=hf(t,t===Xt?or:0);if(n===0)r!==null&&UN(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&UN(r),e===1)t.tag===0?uX(DI.bind(null,t)):UH(DI.bind(null,t)),sX(function(){!(Ae&6)&&oa()}),r=null;else{switch(yH(n)){case 1:r=yC;break;case 4:r=mH;break;case 16:r=df;break;case 536870912:r=vH;break;default:r=df}r=BV(r,kV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function kV(t,e){if(Yh=-1,Qh=0,Ae&6)throw Error(X(327));var r=t.callbackNode;if(ml()&&t.callbackNode!==r)return null;var n=hf(t,t===Xt?or:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=If(t,n);else{e=n;var i=Ae;Ae|=2;var s=qV();(Xt!==t||or!==e)&&(Ci=null,zl=Pt()+500,La(t,e));do try{IX();break}catch(o){DV(t,o)}while(!0);RC(),Cf.current=s,Ae=i,Rt!==null?e=0:(Xt=null,or=0,e=Wt)}if(e!==0){if(e===2&&(i=$O(t),i!==0&&(n=i,e=oP(t,i))),e===1)throw r=Wc,La(t,0),ws(t,n),Kr(t,Pt()),r;if(e===6)ws(t,n);else{if(i=t.current.alternate,!(n&30)&&!TX(i)&&(e=If(t,n),e===2&&(s=$O(t),s!==0&&(n=s,e=oP(t,s))),e===1))throw r=Wc,La(t,0),ws(t,n),Kr(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(X(345));case 2:ba(t,zr,Ci);break;case 3:if(ws(t,n),(n&130023424)===n&&(e=VC+500-Pt(),10<e)){if(hf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=BO(ba.bind(null,t,zr,Ci),e);break}ba(t,zr,Ci);break;case 4:if(ws(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Yn(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*CX(n/1960))-n,10<n){t.timeoutHandle=BO(ba.bind(null,t,zr,Ci),n);break}ba(t,zr,Ci);break;case 5:ba(t,zr,Ci);break;default:throw Error(X(329))}}}return Kr(t,Pt()),t.callbackNode===r?kV.bind(null,t):null}function oP(t,e){var r=gc;return t.current.memoizedState.isDehydrated&&(La(t,e).flags|=256),t=If(t,e),t!==2&&(e=zr,zr=r,e!==null&&lP(e)),t}function lP(t){zr===null?zr=t:zr.push.apply(zr,t)}function TX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ws(t,e){for(e&=~HC,e&=~hp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yn(e),n=1<<r;t[r]=-1,e&=~n}}function DI(t){if(Ae&6)throw Error(X(327));ml();var e=hf(t,0);if(!(e&1))return Kr(t,Pt()),null;var r=If(t,e);if(t.tag!==0&&r===2){var n=$O(t);n!==0&&(e=n,r=oP(t,n))}if(r===1)throw r=Wc,La(t,0),ws(t,e),Kr(t,Pt()),r;if(r===6)throw Error(X(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ba(t,zr,Ci),Kr(t,Pt()),null}function KC(t,e){var r=Ae;Ae|=1;try{return t(e)}finally{Ae=r,Ae===0&&(zl=Pt()+500,lp&&oa())}}function eo(t){$s!==null&&$s.tag===0&&!(Ae&6)&&ml();var e=Ae;Ae|=1;var r=Cn.transition,n=We;try{if(Cn.transition=null,We=1,t)return t()}finally{We=n,Cn.transition=r,Ae=e,!(Ae&6)&&oa()}}function GC(){on=nl.current,at(nl)}function La(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,iX(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(TC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&gf();break;case 3:Ll(),at(Hr),at(wr),MC();break;case 5:qC(n);break;case 4:Ll();break;case 13:at(ct);break;case 19:at(ct);break;case 10:jC(n.type._context);break;case 22:case 23:GC()}r=r.return}if(Xt=t,Rt=t=Us(t.current,null),or=on=e,Wt=0,Wc=null,HC=hp=Za=0,zr=gc=null,_a!==null){for(e=0;e<_a.length;e++)if(r=_a[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}_a=null}return t}function DV(t,e){do{var r=Rt;try{if(RC(),Vh.current=Pf,Of){for(var n=dt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Of=!1}if(Ja=0,Yt=Ut=dt=null,mc=!1,Bc=0,WC.current=null,r===null||r.return===null){Wt=1,Wc=e,Rt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=or,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,c=o,h=c.tag;if(!(c.mode&1)&&(h===0||h===11||h===15)){var f=c.alternate;f?(c.updateQueue=f.updateQueue,c.memoizedState=f.memoizedState,c.lanes=f.lanes):(c.updateQueue=null,c.memoizedState=null)}var p=_I(a);if(p!==null){p.flags&=-257,SI(p,a,o,s,e),p.mode&1&&xI(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){xI(s,u,e),YC();break e}l=Error(X(426))}}else if(lt&&o.mode&1){var b=_I(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),SI(b,a,o,s,e),NC(Bl(l,o));break e}}s=l=Bl(l,o),Wt!==4&&(Wt=2),gc===null?gc=[s]:gc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=yV(s,l,e);mI(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Bs===null||!Bs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=bV(s,o,e);mI(s,w);break e}}s=s.return}while(s!==null)}FV(r)}catch(_){e=_,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function qV(){var t=Cf.current;return Cf.current=Pf,t===null?Pf:t}function YC(){(Wt===0||Wt===3||Wt===2)&&(Wt=4),Xt===null||!(Za&268435455)&&!(hp&268435455)||ws(Xt,or)}function If(t,e){var r=Ae;Ae|=2;var n=qV();(Xt!==t||or!==e)&&(Ci=null,La(t,e));do try{NX();break}catch(i){DV(t,i)}while(!0);if(RC(),Ae=r,Cf.current=n,Rt!==null)throw Error(X(261));return Xt=null,or=0,Wt}function NX(){for(;Rt!==null;)MV(Rt)}function IX(){for(;Rt!==null&&!tQ();)MV(Rt)}function MV(t){var e=LV(t.alternate,t,on);t.memoizedProps=t.pendingProps,e===null?FV(t):Rt=e,WC.current=null}function FV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=SX(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Wt=6,Rt=null;return}}else if(r=_X(r,e,on),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Wt===0&&(Wt=5)}function ba(t,e,r){var n=We,i=Cn.transition;try{Cn.transition=null,We=1,RX(t,e,r,n)}finally{Cn.transition=i,We=n}return null}function RX(t,e,r,n){do ml();while($s!==null);if(Ae&6)throw Error(X(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(X(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(dQ(t,s),t===Xt&&(Rt=Xt=null,or=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Ph||(Ph=!0,BV(df,function(){return ml(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var a=We;We=1;var o=Ae;Ae|=4,WC.current=null,OX(t,r),jV(r,t),XQ(AO),ff=!!FO,AO=FO=null,t.current=r,PX(r),rQ(),Ae=o,We=a,Cn.transition=s}else t.current=r;if(Ph&&(Ph=!1,$s=t,Nf=i),s=t.pendingLanes,s===0&&(Bs=null),sQ(r.stateNode),Kr(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Tf)throw Tf=!1,t=sP,sP=null,t;return Nf&1&&t.tag!==0&&ml(),s=t.pendingLanes,s&1?t===aP?yc++:(yc=0,aP=t):yc=0,oa(),null}function ml(){if($s!==null){var t=yH(Nf),e=Cn.transition,r=We;try{if(Cn.transition=null,We=16>t?16:t,$s===null)var n=!1;else{if(t=$s,$s=null,Nf=0,Ae&6)throw Error(X(331));var i=Ae;for(Ae|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var c=ce;switch(c.tag){case 0:case 11:case 15:vc(8,c,s)}var h=c.child;if(h!==null)h.return=c,ce=h;else for(;ce!==null;){c=ce;var f=c.sibling,p=c.return;if(NV(c),c===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:vc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ce=g;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=v;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:dp(9,o)}}catch(_){xt(o,o.return,_)}if(o===a){ce=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}if(Ae=i,oa(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(np,t)}catch{}n=!0}return n}finally{We=r,Cn.transition=e}}return!1}function qI(t,e,r){e=Bl(r,e),e=yV(t,e,1),t=Ls(t,e,1),e=Rr(),t!==null&&(yd(t,1,e),Kr(t,e))}function xt(t,e,r){if(t.tag===3)qI(t,t,r);else for(;e!==null;){if(e.tag===3){qI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Bs===null||!Bs.has(n))){t=Bl(r,t),t=bV(e,t,1),e=Ls(e,t,1),t=Rr(),e!==null&&(yd(e,1,t),Kr(e,t));break}}e=e.return}}function jX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&r,Xt===t&&(or&r)===r&&(Wt===4||Wt===3&&(or&130023424)===or&&500>Pt()-VC?La(t,0):HC|=r),Kr(t,e)}function AV(t,e){e===0&&(t.mode&1?(e=vh,vh<<=1,!(vh&130023424)&&(vh=4194304)):e=1);var r=Rr();t=Qi(t,e),t!==null&&(yd(t,e,r),Kr(t,r))}function $X(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),AV(t,r)}function kX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(X(314))}n!==null&&n.delete(e),AV(t,r)}var LV;LV=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Hr.current)Wr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Wr=!1,xX(t,e,r);Wr=!!(t.flags&131072)}else Wr=!1,lt&&e.flags&1048576&&WH(e,wf,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Gh(t,e),t=e.pendingProps;var i=Ml(e,wr.current);pl(e,r),i=AC(null,e,n,t,i,r);var s=LC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Vr(n)?(s=!0,yf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kC(e),i.updater=cp,e.stateNode=i,i._reactInternals=e,GO(e,n,t,r),e=XO(null,e,n,!0,s,r)):(e.tag=0,lt&&s&&CC(e),Pr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Gh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=qX(n),t=An(n,t),i){case 0:e=QO(null,e,n,t,r);break e;case 1:e=PI(null,e,n,t,r);break e;case 11:e=EI(null,e,n,t,r);break e;case 14:e=OI(null,e,n,An(n.type,t),r);break e}throw Error(X(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),QO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),PI(t,e,n,i,r);case 3:e:{if(SV(e),t===null)throw Error(X(387));n=e.pendingProps,s=e.memoizedState,i=s.element,QH(t,e),Sf(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Bl(Error(X(423)),e),e=CI(t,e,n,r,i);break e}else if(n!==i){i=Bl(Error(X(424)),e),e=CI(t,e,n,r,i);break e}else for(cn=As(e.stateNode.containerInfo.firstChild),dn=e,lt=!0,Un=null,r=GH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Fl(),n===i){e=Xi(t,e,r);break e}Pr(t,e,n,r)}e=e.child}return e;case 5:return XH(e),t===null&&HO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,LO(n,i)?a=null:s!==null&&LO(n,s)&&(e.flags|=32),_V(t,e),Pr(t,e,a,r),e.child;case 6:return t===null&&HO(e),null;case 13:return EV(t,e,r);case 4:return DC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Al(e,null,n,r):Pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),EI(t,e,n,i,r);case 7:return Pr(t,e,e.pendingProps,r),e.child;case 8:return Pr(t,e,e.pendingProps.children,r),e.child;case 12:return Pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,rt(xf,n._currentValue),n._currentValue=a,s!==null)if(Xn(s.value,a)){if(s.children===i.children&&!Hr.current){e=Xi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Mi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var c=u.pending;c===null?l.next=l:(l.next=c.next,c.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),VO(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(X(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),VO(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,pl(e,r),i=In(i),n=n(i),e.flags|=1,Pr(t,e,n,r),e.child;case 14:return n=e.type,i=An(n,e.pendingProps),i=An(n.type,i),OI(t,e,n,i,r);case 15:return wV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:An(n,i),Gh(t,e),e.tag=1,Vr(n)?(t=!0,yf(e)):t=!1,pl(e,r),gV(e,n,i),GO(e,n,i,r),XO(null,e,n,!0,t,r);case 19:return OV(t,e,r);case 22:return xV(t,e,r)}throw Error(X(156,e.tag))};function BV(t,e){return pH(t,e)}function DX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,r,n){return new DX(t,e,r,n)}function QC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function qX(t){if(typeof t=="function")return QC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mC)return 11;if(t===vC)return 14}return 2}function Us(t,e){var r=t.alternate;return r===null?(r=Pn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Xh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")QC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Ko:return Ba(r.children,i,s,e);case pC:a=8,i|=8;break;case yO:return t=Pn(12,r,e,i|2),t.elementType=yO,t.lanes=s,t;case bO:return t=Pn(13,r,e,i),t.elementType=bO,t.lanes=s,t;case wO:return t=Pn(19,r,e,i),t.elementType=wO,t.lanes=s,t;case X8:return fp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Y8:a=10;break e;case Q8:a=9;break e;case mC:a=11;break e;case vC:a=14;break e;case ps:a=16,n=null;break e}throw Error(X(130,t==null?t:typeof t,""))}return e=Pn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ba(t,e,r,n){return t=Pn(7,t,n,e),t.lanes=r,t}function fp(t,e,r,n){return t=Pn(22,t,n,e),t.elementType=X8,t.lanes=r,t.stateNode={isHidden:!1},t}function Dm(t,e,r){return t=Pn(6,t,null,e),t.lanes=r,t}function qm(t,e,r){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function MX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=vm(0),this.expirationTimes=vm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=vm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XC(t,e,r,n,i,s,a,o,l){return t=new MX(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kC(s),t}function FX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Vo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function zV(t){if(!t)return Zs;t=t._reactInternals;e:{if(go(t)!==t||t.tag!==1)throw Error(X(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Vr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(X(171))}if(t.tag===1){var r=t.type;if(Vr(r))return zH(t,r,e)}return e}function UV(t,e,r,n,i,s,a,o,l){return t=XC(r,n,!0,t,i,s,a,o,l),t.context=zV(null),r=t.current,n=Rr(),i=zs(r),s=Mi(n,i),s.callback=e??null,Ls(r,s,i),t.current.lanes=i,yd(t,i,n),Kr(t,n),t}function pp(t,e,r,n){var i=e.current,s=Rr(),a=zs(i);return r=zV(r),e.context===null?e.context=r:e.pendingContext=r,e=Mi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ls(i,e,a),t!==null&&(Qn(t,i,a,s),Hh(t,i,a)),a}function Rf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function MI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function JC(t,e){MI(t,e),(t=t.alternate)&&MI(t,e)}function AX(){return null}var WV=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZC(t){this._internalRoot=t}mp.prototype.render=ZC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(X(409));pp(t,e,null,null)};mp.prototype.unmount=ZC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;eo(function(){pp(null,t,null,null)}),e[Yi]=null}};function mp(t){this._internalRoot=t}mp.prototype.unstable_scheduleHydration=function(t){if(t){var e=xH();t={blockedOn:null,target:t,priority:e};for(var r=0;r<bs.length&&e!==0&&e<bs[r].priority;r++);bs.splice(r,0,t),r===0&&SH(t)}};function eT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function vp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function FI(){}function LX(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Rf(a);s.call(u)}}var a=UV(e,n,t,0,null,!1,!1,"",FI);return t._reactRootContainer=a,t[Yi]=a.current,qc(t.nodeType===8?t.parentNode:t),eo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Rf(l);o.call(u)}}var l=XC(t,0,!1,null,null,!1,!1,"",FI);return t._reactRootContainer=l,t[Yi]=l.current,qc(t.nodeType===8?t.parentNode:t),eo(function(){pp(e,l,r,n)}),l}function gp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Rf(a);o.call(l)}}pp(e,a,t,i)}else a=LX(r,e,t,i,n);return Rf(a)}bH=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=sc(e.pendingLanes);r!==0&&(bC(e,r|1),Kr(e,Pt()),!(Ae&6)&&(zl=Pt()+500,oa()))}break;case 13:eo(function(){var n=Qi(t,1);if(n!==null){var i=Rr();Qn(n,t,1,i)}}),JC(t,1)}};wC=function(t){if(t.tag===13){var e=Qi(t,134217728);if(e!==null){var r=Rr();Qn(e,t,134217728,r)}JC(t,134217728)}};wH=function(t){if(t.tag===13){var e=zs(t),r=Qi(t,e);if(r!==null){var n=Rr();Qn(r,t,e,n)}JC(t,e)}};xH=function(){return We};_H=function(t,e){var r=We;try{return We=t,e()}finally{We=r}};IO=function(t,e,r){switch(e){case"input":if(SO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=op(n);if(!i)throw Error(X(90));Z8(n),SO(n,i)}}}break;case"textarea":tH(t,r);break;case"select":e=r.value,e!=null&&cl(t,!!r.multiple,e,!1)}};lH=KC;uH=eo;var BX={usingClientEntryPoint:!1,Events:[wd,Xo,op,aH,oH,KC]},Gu={findFiberByHostInstance:xa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},zX={bundleType:Gu.bundleType,version:Gu.version,rendererPackageName:Gu.rendererPackageName,rendererConfig:Gu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:Zi.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=hH(t),t===null?null:t.stateNode},findFiberByHostInstance:Gu.findFiberByHostInstance||AX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ch=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ch.isDisabled&&Ch.supportsFiber)try{np=Ch.inject(zX),yi=Ch}catch{}}fn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=BX;fn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eT(e))throw Error(X(200));return FX(t,e,null,r)};fn.createRoot=function(t,e){if(!eT(t))throw Error(X(299));var r=!1,n="",i=WV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=XC(t,1,!1,null,null,r,!1,n,i),t[Yi]=e.current,qc(t.nodeType===8?t.parentNode:t),new ZC(e)};fn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(X(188)):(t=Object.keys(t).join(","),Error(X(268,t)));return t=hH(e),t=t===null?null:t.stateNode,t};fn.flushSync=function(t){return eo(t)};fn.hydrate=function(t,e,r){if(!vp(e))throw Error(X(200));return gp(null,t,e,!0,r)};fn.hydrateRoot=function(t,e,r){if(!eT(t))throw Error(X(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=WV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=UV(e,null,t,1,r??null,i,!1,s,a),t[Yi]=e.current,qc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new mp(e)};fn.render=function(t,e,r){if(!vp(e))throw Error(X(200));return gp(null,t,e,!1,r)};fn.unmountComponentAtNode=function(t){if(!vp(t))throw Error(X(40));return t._reactRootContainer?(eo(function(){gp(null,null,t,!1,function(){t._reactRootContainer=null,t[Yi]=null})}),!0):!1};fn.unstable_batchedUpdates=KC;fn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!vp(r))throw Error(X(200));if(t==null||t._reactInternals===void 0)throw Error(X(38));return gp(t,e,r,!1,n)};fn.version="18.3.1-next-f1338f8080-20240426";function HV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(HV)}catch(t){console.error(t)}}HV(),H8.exports=fn;var UX=H8.exports,AI=UX;vO.createRoot=AI.createRoot,vO.hydrateRoot=AI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Hc(){return Hc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Hc.apply(this,arguments)}var ks;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ks||(ks={}));const LI="popstate";function WX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return uP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:jf(i)}return VX(e,r,null,t)}function ht(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function HX(){return Math.random().toString(36).substr(2,8)}function BI(t,e){return{usr:t.state,key:t.key,idx:e}}function uP(t,e,r,n){return r===void 0&&(r=null),Hc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?lu(e):e,{state:r,key:e&&e.key||n||HX()})}function jf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function lu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function VX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=ks.Pop,l=null,u=c();u==null&&(u=0,a.replaceState(Hc({},a.state,{idx:u}),""));function c(){return(a.state||{idx:null}).idx}function h(){o=ks.Pop;let b=c(),g=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=ks.Push;let v=uP(y.location,b,g);u=c()+1;let x=BI(v,u),w=y.createHref(v);try{a.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=ks.Replace;let v=uP(y.location,b,g);u=c();let x=BI(v,u),w=y.createHref(v);a.replaceState(x,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:jf(b);return v=v.replace(/ $/,"%20"),ht(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(LI,h),l=b,()=>{i.removeEventListener(LI,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var zI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(zI||(zI={}));function KX(t,e,r){return r===void 0&&(r="/"),GX(t,e,r)}function GX(t,e,r,n){let i=typeof e=="string"?lu(e):e,s=Ul(i.pathname||"/",r);if(s==null)return null;let a=VV(t);YX(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=aJ(s);o=iJ(a[l],u)}return o}function VV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ht(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Ws([n,l.relativePath]),c=r.concat(l);s.children&&s.children.length>0&&(ht(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),VV(s.children,e,c,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:rJ(u,s.index),routesMeta:c})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of KV(s.path))i(s,a,l)}),e}function KV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=KV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function YX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:nJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const QX=/^:[\w-]+$/,XX=3,JX=2,ZX=1,eJ=10,tJ=-2,UI=t=>t==="*";function rJ(t,e){let r=t.split("/"),n=r.length;return r.some(UI)&&(n+=tJ),e&&(n+=JX),r.filter(i=>!UI(i)).reduce((i,s)=>i+(QX.test(s)?XX:s===""?ZX:eJ),n)}function nJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function iJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,c=s==="/"?e:e.slice(s.length)||"/",h=cP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},c),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Ws([s,h.pathname]),pathnameBase:dJ(Ws([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Ws([s,h.pathnameBase]))}return a}function cP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=sJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,c,h)=>{let{paramName:f,isOptional:p}=c;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function sJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function aJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ul(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const oJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,lJ=t=>oJ.test(t);function uJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?lu(t):t,s;if(r)if(lJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),tT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=WI(r.substring(1),"/"):s=WI(r,e)}else s=e;return{pathname:s,search:hJ(n),hash:fJ(i)}}function WI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Mm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function cJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rT(t,e){let r=cJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=lu(t):(i=Hc({},t),ht(!i.pathname||!i.pathname.includes("?"),Mm("?","pathname","search",i)),ht(!i.pathname||!i.pathname.includes("#"),Mm("#","pathname","hash",i)),ht(!i.search||!i.search.includes("#"),Mm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=uJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),c=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||c)&&(l.pathname+="/"),l}const Ws=t=>t.join("/").replace(/\/\/+/g,"/"),dJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),hJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,fJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function pJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const GV=["post","put","patch","delete"];new Set(GV);const mJ=["get",...GV];new Set(mJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vc(){return Vc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Vc.apply(this,arguments)}const yp=$.createContext(null),YV=$.createContext(null),es=$.createContext(null),bp=$.createContext(null),ts=$.createContext({outlet:null,matches:[],isDataRoute:!1}),QV=$.createContext(null);function vJ(t,e){let{relative:r}=e===void 0?{}:e;uu()||ht(!1);let{basename:n,navigator:i}=$.useContext(es),{hash:s,pathname:a,search:o}=wp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Ws([n,a])),i.createHref({pathname:l,search:o,hash:s})}function uu(){return $.useContext(bp)!=null}function rs(){return uu()||ht(!1),$.useContext(bp).location}function XV(t){$.useContext(es).static||$.useLayoutEffect(t)}function Zr(){let{isDataRoute:t}=$.useContext(ts);return t?NJ():gJ()}function gJ(){uu()||ht(!1);let t=$.useContext(yp),{basename:e,future:r,navigator:n}=$.useContext(es),{matches:i}=$.useContext(ts),{pathname:s}=rs(),a=JSON.stringify(rT(i,r.v7_relativeSplatPath)),o=$.useRef(!1);return XV(()=>{o.current=!0}),$.useCallback(function(u,c){if(c===void 0&&(c={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=nT(u,JSON.parse(a),s,c.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Ws([e,h.pathname])),(c.replace?n.replace:n.push)(h,c.state,c)},[e,n,a,s,t])}function ns(){let{matches:t}=$.useContext(ts),e=t[t.length-1];return e?e.params:{}}function wp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=$.useContext(es),{matches:i}=$.useContext(ts),{pathname:s}=rs(),a=JSON.stringify(rT(i,n.v7_relativeSplatPath));return $.useMemo(()=>nT(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function yJ(t,e){return bJ(t,e)}function bJ(t,e,r,n){uu()||ht(!1);let{navigator:i}=$.useContext(es),{matches:s}=$.useContext(ts),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=rs(),c;if(e){var h;let b=typeof e=="string"?lu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||ht(!1),c=b}else c=u;let f=c.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=KX(t,{pathname:p}),y=EJ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Ws([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Ws([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?$.createElement(bp.Provider,{value:{location:Vc({pathname:"/",search:"",hash:"",state:null,key:"default"},c),navigationType:ks.Pop}},y):y}function wJ(){let t=TJ(),e=pJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:i},r):null,null)}const xJ=$.createElement(wJ,null);class _J extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?$.createElement(ts.Provider,{value:this.props.routeContext},$.createElement(QV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function SJ(t){let{routeContext:e,match:r,children:n}=t,i=$.useContext(yp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(ts.Provider,{value:e},n)}function EJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let c=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);c>=0||ht(!1),a=a.slice(0,Math.min(a.length,c+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let c=0;c<a.length;c++){let h=a[c];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=c),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((c,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||xJ,l&&(u<0&&f===0?(IJ("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:h.route.Component?x=$.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=c,$.createElement(SJ,{match:h,routeContext:{outlet:c,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?$.createElement(_J,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var JV=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(JV||{}),ZV=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(ZV||{});function OJ(t){let e=$.useContext(yp);return e||ht(!1),e}function PJ(t){let e=$.useContext(YV);return e||ht(!1),e}function CJ(t){let e=$.useContext(ts);return e||ht(!1),e}function e7(t){let e=CJ(),r=e.matches[e.matches.length-1];return r.route.id||ht(!1),r.route.id}function TJ(){var t;let e=$.useContext(QV),r=PJ(),n=e7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function NJ(){let{router:t}=OJ(JV.UseNavigateStable),e=e7(ZV.UseNavigateStable),r=$.useRef(!1);return XV(()=>{r.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vc({fromRouteId:e},s)))},[t,e])}const HI={};function IJ(t,e,r){HI[t]||(HI[t]=!0)}function RJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function t7(t){let{to:e,replace:r,state:n,relative:i}=t;uu()||ht(!1);let{future:s,static:a}=$.useContext(es),{matches:o}=$.useContext(ts),{pathname:l}=rs(),u=Zr(),c=nT(e,rT(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(c);return $.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Xe(t){ht(!1)}function jJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=ks.Pop,navigator:s,static:a=!1,future:o}=t;uu()&&ht(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:a,future:Vc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=lu(n));let{pathname:c="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=$.useMemo(()=>{let b=Ul(c,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,c,h,f,p,m,i]);return y==null?null:$.createElement(es.Provider,{value:u},$.createElement(bp.Provider,{children:r,value:y}))}function VI(t){let{children:e,location:r}=t;return yJ(dP(e),r)}new Promise(()=>{});function dP(t,e){e===void 0&&(e=[]);let r=[];return $.Children.forEach(t,(n,i)=>{if(!$.isValidElement(n))return;let s=[...e,i];if(n.type===$.Fragment){r.push.apply(r,dP(n.props.children,s));return}n.type!==Xe&&ht(!1),!n.props.index||!n.props.children||ht(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=dP(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function $f(){return $f=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},$f.apply(this,arguments)}function r7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function $J(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function kJ(t,e){return t.button===0&&(!e||e==="_self")&&!$J(t)}function hP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function DJ(t,e){let r=hP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const qJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],MJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],FJ="6";try{window.__reactRouterVersion=FJ}catch{}const AJ=$.createContext({isTransitioning:!1}),LJ="startTransition",KI=jY[LJ];function BJ(t){let{basename:e,children:r,future:n,window:i}=t,s=$.useRef();s.current==null&&(s.current=WX({window:i,v5Compat:!0}));let a=s.current,[o,l]=$.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},c=$.useCallback(h=>{u&&KI?KI(()=>l(h)):l(h)},[l,u]);return $.useLayoutEffect(()=>a.listen(c),[a,c]),$.useEffect(()=>RJ(n),[n]),$.createElement(jJ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const zJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",UJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ve=$.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:c,viewTransition:h}=e,f=r7(e,qJ),{basename:p}=$.useContext(es),m,y=!1;if(typeof u=="string"&&UJ.test(u)&&(m=u,zJ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=Ul(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=vJ(u,{relative:i}),g=VJ(u,{replace:a,state:o,target:l,preventScrollReset:c,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return $.createElement("a",$f({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),WJ=$.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:c}=e,h=r7(e,MJ),f=wp(l,{relative:h.relative}),p=rs(),m=$.useContext(YV),{navigator:y,basename:b}=$.useContext(es),g=m!=null&&GJ(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=Ul(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},P=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return $.createElement(ve,$f({},h,{"aria-current":P,className:C,ref:r,style:I,to:l,viewTransition:u}),typeof c=="function"?c(S):c)});var fP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(fP||(fP={}));var GI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(GI||(GI={}));function HJ(t){let e=$.useContext(yp);return e||ht(!1),e}function VJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=Zr(),u=rs(),c=wp(t,{relative:a});return $.useCallback(h=>{if(kJ(h,r)){h.preventDefault();let f=n!==void 0?n:jf(u)===jf(c);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,c,n,i,r,t,s,a,o])}function KJ(t){let e=$.useRef(hP(t)),r=$.useRef(!1),n=rs(),i=$.useMemo(()=>DJ(n.search,r.current?null:e.current),[n.search]),s=Zr(),a=$.useCallback((o,l)=>{const u=hP(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function GJ(t,e){e===void 0&&(e={});let r=$.useContext(AJ);r==null&&ht(!1);let{basename:n}=HJ(fP.useViewTransitionState),i=wp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Ul(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Ul(r.nextLocation.pathname,n)||r.nextLocation.pathname;return cP(i.pathname,a)!=null||cP(i.pathname,s)!=null}var yo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},YJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},_s,aC,_8,QJ=(_8=class{constructor(){ue(this,_s,YJ);ue(this,aC,!1)}setTimeoutProvider(t){ie(this,_s,t)}setTimeout(t,e){return R(this,_s).setTimeout(t,e)}clearTimeout(t){R(this,_s).clearTimeout(t)}setInterval(t,e){return R(this,_s).setInterval(t,e)}clearInterval(t){R(this,_s).clearInterval(t)}},_s=new WeakMap,aC=new WeakMap,_8),Ea=new QJ;function XJ(t){setTimeout(t,0)}var to=typeof window>"u"||"Deno"in globalThis;function vr(){}function JJ(t,e){return typeof t=="function"?t(e):t}function pP(t){return typeof t=="number"&&t>=0&&t!==1/0}function n7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hs(t,e){return typeof t=="function"?t(e):t}function xn(t,e){return typeof t=="function"?t(e):t}function YI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==iT(a,e.options))return!1}else if(!Kc(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function QI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ro(e.options.mutationKey)!==ro(s))return!1}else if(!Kc(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function iT(t,e){return((e==null?void 0:e.queryKeyHashFn)||ro)(t)}function ro(t){return JSON.stringify(t,(e,r)=>mP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Kc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Kc(t[r],e[r])):!1}var ZJ=Object.prototype.hasOwnProperty;function sT(t,e){if(t===e)return t;const r=XI(t)&&XI(e);if(!r&&!(mP(t)&&mP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const c=r?u:s[u],h=t[c],f=e[c];if(h===f){o[c]=h,(r?u<i:ZJ.call(t,c))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[c]=f;continue}const p=sT(h,f);o[c]=p,p===h&&l++}return i===a&&l===i?t:o}function Gc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function XI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function mP(t){if(!JI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!JI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function JI(t){return Object.prototype.toString.call(t)==="[object Object]"}function eZ(t){return new Promise(e=>{Ea.setTimeout(e,t)})}function vP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?sT(t,e):e}function tZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function rZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var aT=Symbol();function i7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===aT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function oT(t,e){return typeof t=="function"?t(...e):!!t}function nZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var Ra,Ss,xl,S8,iZ=(S8=class extends yo{constructor(){super();ue(this,Ra);ue(this,Ss);ue(this,xl);ie(this,xl,e=>{if(!to&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Ss)||this.setEventListener(R(this,xl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Ss))==null||e.call(this),ie(this,Ss,void 0))}setEventListener(e){var r;ie(this,xl,e),(r=R(this,Ss))==null||r.call(this),ie(this,Ss,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,Ra)!==e&&(ie(this,Ra,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,Ra)=="boolean"?R(this,Ra):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},Ra=new WeakMap,Ss=new WeakMap,xl=new WeakMap,S8),lT=new iZ;function gP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var sZ=XJ;function aZ(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=sZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Et=aZ(),_l,Es,Sl,E8,oZ=(E8=class extends yo{constructor(){super();ue(this,_l,!0);ue(this,Es);ue(this,Sl);ie(this,Sl,e=>{if(!to&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Es)||this.setEventListener(R(this,Sl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Es))==null||e.call(this),ie(this,Es,void 0))}setEventListener(e){var r;ie(this,Sl,e),(r=R(this,Es))==null||r.call(this),ie(this,Es,e(this.setOnline.bind(this)))}setOnline(e){R(this,_l)!==e&&(ie(this,_l,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,_l)}},_l=new WeakMap,Es=new WeakMap,Sl=new WeakMap,E8),kf=new oZ;function lZ(t){return Math.min(1e3*2**t,3e4)}function s7(t){return(t??"online")==="online"?kf.isOnline():!0}var yP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function a7(t){let e=!1,r=0,n;const i=gP(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new yP(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>lT.isFocused()&&(t.networkMode==="always"||kf.isOnline())&&t.canRun(),c=()=>s7(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||u())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(to?0:3),x=t.retryDelay??lZ,w=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),eZ(w).then(()=>u()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:c,start:()=>(c()?m():p().then(m),i)}}var ja,O8,o7=(O8=class{constructor(){ue(this,ja)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),pP(this.gcTime)&&ie(this,ja,Ea.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(to?1/0:5*60*1e3))}clearGcTimeout(){R(this,ja)&&(Ea.clearTimeout(R(this,ja)),ie(this,ja,void 0))}},ja=new WeakMap,O8),$a,El,bn,ka,Gt,ud,Da,Ln,Pi,P8,uZ=(P8=class extends o7{constructor(e){super();ue(this,Ln);ue(this,$a);ue(this,El);ue(this,bn);ue(this,ka);ue(this,Gt);ue(this,ud);ue(this,Da);ie(this,Da,!1),ie(this,ud,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,ka,e.client),ie(this,bn,R(this,ka).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,$a,eR(this.options)),this.state=e.state??R(this,$a),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Gt))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,ud),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=eR(this.options);r.data!==void 0&&(this.setState(ZI(r.data,r.dataUpdatedAt)),ie(this,$a,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,bn).remove(this)}setData(e,r){const n=vP(this.state.data,e,this.options);return Ee(this,Ln,Pi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Ee(this,Ln,Pi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,Gt))==null?void 0:n.promise;return(i=R(this,Gt))==null||i.cancel(e),r?r.then(vr).catch(vr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,$a))}isActive(){return this.observers.some(e=>xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===aT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Hs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!n7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,bn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,Gt)&&(R(this,Da)?R(this,Gt).cancel({revert:!0}):R(this,Gt).cancelRetry()),this.scheduleGc()),R(this,bn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ee(this,Ln,Pi).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,c,h,f,p,m,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,Gt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Gt))return R(this,Gt).continueRetry(),R(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ie(this,Da,!0),n.signal)})},s=()=>{const w=i7(this.options,r),E=(()=>{const O={client:R(this,ka),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ie(this,Da,!1),this.options.persister?this.options.persister(w,E,this):w(E)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,ka),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),ie(this,El,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((c=o.fetchOptions)==null?void 0:c.meta))&&Ee(this,Ln,Pi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,Gt,a7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof yP&&w.revert&&this.setState({...R(this,El),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{Ee(this,Ln,Pi).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{Ee(this,Ln,Pi).call(this,{type:"pause"})},onContinue:()=>{Ee(this,Ln,Pi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,Gt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,bn).config).onSuccess)==null||p.call(f,w,this),(y=(m=R(this,bn).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof yP){if(w.silent)return R(this,Gt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw Ee(this,Ln,Pi).call(this,{type:"error",error:w}),(g=(b=R(this,bn).config).onError)==null||g.call(b,w,this),(x=(v=R(this,bn).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},$a=new WeakMap,El=new WeakMap,bn=new WeakMap,ka=new WeakMap,Gt=new WeakMap,ud=new WeakMap,Da=new WeakMap,Ln=new WeakSet,Pi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...l7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...ZI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,El,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Et.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,bn).notify({query:this,type:"updated",action:e})})},P8);function l7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:s7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function ZI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function eR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fr,Me,cd,Sr,qa,Ol,Ni,Os,dd,Pl,Cl,Ma,Fa,Ps,Tl,Be,oc,bP,wP,xP,_P,SP,EP,OP,u7,C8,uT=(C8=class extends yo{constructor(e,r){super();ue(this,Be);ue(this,Fr);ue(this,Me);ue(this,cd);ue(this,Sr);ue(this,qa);ue(this,Ol);ue(this,Ni);ue(this,Os);ue(this,dd);ue(this,Pl);ue(this,Cl);ue(this,Ma);ue(this,Fa);ue(this,Ps);ue(this,Tl,new Set);this.options=r,ie(this,Fr,e),ie(this,Os,null),ie(this,Ni,gP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Me).addObserver(this),tR(R(this,Me),this.options)?Ee(this,Be,oc).call(this):this.updateResult(),Ee(this,Be,_P).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return PP(R(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return PP(R(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Ee(this,Be,SP).call(this),Ee(this,Be,EP).call(this),R(this,Me).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Me);if(this.options=R(this,Fr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,R(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Ee(this,Be,OP).call(this),R(this,Me).setOptions(this.options),r._defaulted&&!Gc(this.options,r)&&R(this,Fr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Me),observer:this});const i=this.hasListeners();i&&rR(R(this,Me),n,this.options,r)&&Ee(this,Be,oc).call(this),this.updateResult(),i&&(R(this,Me)!==n||xn(this.options.enabled,R(this,Me))!==xn(r.enabled,R(this,Me))||Hs(this.options.staleTime,R(this,Me))!==Hs(r.staleTime,R(this,Me)))&&Ee(this,Be,bP).call(this);const s=Ee(this,Be,wP).call(this);i&&(R(this,Me)!==n||xn(this.options.enabled,R(this,Me))!==xn(r.enabled,R(this,Me))||s!==R(this,Ps))&&Ee(this,Be,xP).call(this,s)}getOptimisticResult(e){const r=R(this,Fr).getQueryCache().build(R(this,Fr),e),n=this.createResult(r,e);return dZ(this,n)&&(ie(this,Sr,n),ie(this,Ol,this.options),ie(this,qa,R(this,Me).state)),n}getCurrentResult(){return R(this,Sr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Ni).status==="pending"&&R(this,Ni).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Tl).add(e)}getCurrentQuery(){return R(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Fr).defaultQueryOptions(e),n=R(this,Fr).getQueryCache().build(R(this,Fr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Ee(this,Be,oc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Sr)))}createResult(e,r){var P;const n=R(this,Me),i=this.options,s=R(this,Sr),a=R(this,qa),o=R(this,Ol),u=e!==n?e.state:R(this,cd),{state:c}=e;let h={...c},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),I=!C&&tR(e,r),T=C&&rR(e,n,r,i);(I||T)&&(h={...h,...l7(c.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,Cl))==null?void 0:P.state.data,R(this,Cl)):r.placeholderData,C!==void 0&&(b="success",p=vP(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,dd))p=R(this,Pl);else try{ie(this,dd,r.select),p=r.select(p),p=vP(s==null?void 0:s.data,p,r),ie(this,Pl,p),ie(this,Os,null)}catch(C){ie(this,Os,C)}R(this,Os)&&(m=R(this,Os),p=R(this,Pl),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:cT(e,r),refetch:this.refetch,promise:R(this,Ni),isEnabled:xn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=N=>{S.status==="error"?N.reject(S.error):S.data!==void 0&&N.resolve(S.data)},I=()=>{const N=ie(this,Ni,S.promise=gP());C(N)},T=R(this,Ni);switch(T.status){case"pending":e.queryHash===n.queryHash&&C(T);break;case"fulfilled":(S.status==="error"||S.data!==T.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==T.reason)&&I();break}}return S}updateResult(){const e=R(this,Sr),r=this.createResult(R(this,Me),this.options);if(ie(this,qa,R(this,Me).state),ie(this,Ol,this.options),R(this,qa).data!==void 0&&ie(this,Cl,R(this,Me)),Gc(r,e))return;ie(this,Sr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Tl).size)return!0;const a=new Set(s??R(this,Tl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Sr)).some(o=>{const l=o;return R(this,Sr)[l]!==e[l]&&a.has(l)})};Ee(this,Be,u7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Ee(this,Be,_P).call(this)}},Fr=new WeakMap,Me=new WeakMap,cd=new WeakMap,Sr=new WeakMap,qa=new WeakMap,Ol=new WeakMap,Ni=new WeakMap,Os=new WeakMap,dd=new WeakMap,Pl=new WeakMap,Cl=new WeakMap,Ma=new WeakMap,Fa=new WeakMap,Ps=new WeakMap,Tl=new WeakMap,Be=new WeakSet,oc=function(e){Ee(this,Be,OP).call(this);let r=R(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(vr)),r},bP=function(){Ee(this,Be,SP).call(this);const e=Hs(this.options.staleTime,R(this,Me));if(to||R(this,Sr).isStale||!pP(e))return;const n=n7(R(this,Sr).dataUpdatedAt,e)+1;ie(this,Ma,Ea.setTimeout(()=>{R(this,Sr).isStale||this.updateResult()},n))},wP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Me)):this.options.refetchInterval)??!1},xP=function(e){Ee(this,Be,EP).call(this),ie(this,Ps,e),!(to||xn(this.options.enabled,R(this,Me))===!1||!pP(R(this,Ps))||R(this,Ps)===0)&&ie(this,Fa,Ea.setInterval(()=>{(this.options.refetchIntervalInBackground||lT.isFocused())&&Ee(this,Be,oc).call(this)},R(this,Ps)))},_P=function(){Ee(this,Be,bP).call(this),Ee(this,Be,xP).call(this,Ee(this,Be,wP).call(this))},SP=function(){R(this,Ma)&&(Ea.clearTimeout(R(this,Ma)),ie(this,Ma,void 0))},EP=function(){R(this,Fa)&&(Ea.clearInterval(R(this,Fa)),ie(this,Fa,void 0))},OP=function(){const e=R(this,Fr).getQueryCache().build(R(this,Fr),this.options);if(e===R(this,Me))return;const r=R(this,Me);ie(this,Me,e),ie(this,cd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},u7=function(e){Et.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Sr))}),R(this,Fr).getQueryCache().notify({query:R(this,Me),type:"observerResultsUpdated"})})},C8);function cZ(t,e){return xn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function tR(t,e){return cZ(t,e)||t.state.data!==void 0&&PP(t,e,e.refetchOnMount)}function PP(t,e,r){if(xn(e.enabled,t)!==!1&&Hs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&cT(t,e)}return!1}function rR(t,e,r,n){return(t!==e||xn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&cT(t,r)}function cT(t,e){return xn(e.enabled,t)!==!1&&t.isStaleByTime(Hs(e.staleTime,t))}function dZ(t,e){return!Gc(t.getCurrentResult(),e)}function nR(t){return{onFetch:(e,r)=>{var c,h,f,p,m;const n=e.options,i=(f=(h=(c=e.fetchOptions)==null?void 0:c.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{nZ(x,()=>e.signal,()=>y=!0)},g=i7(e.options,e.fetchOptions),v=async(x,w,_)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(I),I})(),S=await g(O),{maxPages:P}=e.options,C=_?rZ:tZ;return{pages:C(x.pages,S,P),pageParams:C(x.pageParams,w,P)}};if(i&&s.length){const x=i==="backward",w=x?hZ:iR,_={pages:s,pageParams:a},E=w(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:iR(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function iR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function hZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var hd,ui,Er,Aa,ci,fs,T8,fZ=(T8=class extends o7{constructor(e){super();ue(this,ci);ue(this,hd);ue(this,ui);ue(this,Er);ue(this,Aa);ie(this,hd,e.client),this.mutationId=e.mutationId,ie(this,Er,e.mutationCache),ie(this,ui,[]),this.state=e.state||c7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,ui).includes(e)||(R(this,ui).push(e),this.clearGcTimeout(),R(this,Er).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,ui,R(this,ui).filter(r=>r!==e)),this.scheduleGc(),R(this,Er).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,ui).length||(this.state.status==="pending"?this.scheduleGc():R(this,Er).remove(this))}continue(){var e;return((e=R(this,Aa))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,c,h,f,p,m,y,b,g,v,x,w,_,E,O,S,P;const r=()=>{Ee(this,ci,fs).call(this,{type:"continue"})},n={client:R(this,hd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Aa,a7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{Ee(this,ci,fs).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{Ee(this,ci,fs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Er).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Aa).canStart();try{if(i)r();else{Ee(this,ci,fs).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Er).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));I!==this.state.context&&Ee(this,ci,fs).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const C=await R(this,Aa).start();return await((h=(c=R(this,Er).config).onSuccess)==null?void 0:h.call(c,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Er).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,e,this.state.context,n)),Ee(this,ci,fs).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(v=R(this,Er).config).onError)==null?void 0:x.call(v,C,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,C,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((O=(E=R(this,Er).config).onSettled)==null?void 0:O.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,e,this.state.context,n))}catch(I){Promise.reject(I)}throw Ee(this,ci,fs).call(this,{type:"error",error:C}),C}finally{R(this,Er).runNext(this)}}},hd=new WeakMap,ui=new WeakMap,Er=new WeakMap,Aa=new WeakMap,ci=new WeakSet,fs=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Et.batch(()=>{R(this,ui).forEach(n=>{n.onMutationUpdate(e)}),R(this,Er).notify({mutation:this,type:"updated",action:e})})},T8);function c7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ii,Bn,fd,N8,pZ=(N8=class extends yo{constructor(e={}){super();ue(this,Ii);ue(this,Bn);ue(this,fd);this.config=e,ie(this,Ii,new Set),ie(this,Bn,new Map),ie(this,fd,0)}build(e,r,n){const i=new fZ({client:e,mutationCache:this,mutationId:++ch(this,fd)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ii).add(e);const r=Th(e);if(typeof r=="string"){const n=R(this,Bn).get(r);n?n.push(e):R(this,Bn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ii).delete(e)){const r=Th(e);if(typeof r=="string"){const n=R(this,Bn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Bn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Th(e);if(typeof r=="string"){const n=R(this,Bn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Th(e);if(typeof r=="string"){const i=(n=R(this,Bn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Et.batch(()=>{R(this,Ii).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ii).clear(),R(this,Bn).clear()})}getAll(){return Array.from(R(this,Ii))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>QI(r,n))}findAll(e={}){return this.getAll().filter(r=>QI(e,r))}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Et.batch(()=>Promise.all(e.map(r=>r.continue().catch(vr))))}},Ii=new WeakMap,Bn=new WeakMap,fd=new WeakMap,N8);function Th(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Ri,Cs,Ar,ji,Ki,Jh,CP,I8,mZ=(I8=class extends yo{constructor(e,r){super();ue(this,Ki);ue(this,Ri);ue(this,Cs);ue(this,Ar);ue(this,ji);ie(this,Ri,e),this.setOptions(r),this.bindMethods(),Ee(this,Ki,Jh).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Ri).defaultMutationOptions(e),Gc(this.options,r)||R(this,Ri).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Ar),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ro(r.mutationKey)!==ro(this.options.mutationKey)?this.reset():((n=R(this,Ar))==null?void 0:n.state.status)==="pending"&&R(this,Ar).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Ar))==null||e.removeObserver(this)}onMutationUpdate(e){Ee(this,Ki,Jh).call(this),Ee(this,Ki,CP).call(this,e)}getCurrentResult(){return R(this,Cs)}reset(){var e;(e=R(this,Ar))==null||e.removeObserver(this),ie(this,Ar,void 0),Ee(this,Ki,Jh).call(this),Ee(this,Ki,CP).call(this)}mutate(e,r){var n;return ie(this,ji,r),(n=R(this,Ar))==null||n.removeObserver(this),ie(this,Ar,R(this,Ri).getMutationCache().build(R(this,Ri),this.options)),R(this,Ar).addObserver(this),R(this,Ar).execute(e)}},Ri=new WeakMap,Cs=new WeakMap,Ar=new WeakMap,ji=new WeakMap,Ki=new WeakSet,Jh=function(){var r;const e=((r=R(this,Ar))==null?void 0:r.state)??c7();ie(this,Cs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},CP=function(e){Et.batch(()=>{var r,n,i,s,a,o,l,u;if(R(this,ji)&&this.hasListeners()){const c=R(this,Cs).variables,h=R(this,Cs).context,f={client:R(this,Ri),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,ji)).onSuccess)==null||n.call(r,e.data,c,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,ji)).onSettled)==null||s.call(i,e.data,null,c,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,ji)).onError)==null||o.call(a,e.error,c,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,ji)).onSettled)==null||u.call(l,void 0,e.error,c,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(c=>{c(R(this,Cs))})})},I8);function sR(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function vZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Nl,an,Il,Rl,wn,Ts,pd,md,vd,cr,TP,NP,IP,RP,jP,R8,gZ=(R8=class extends yo{constructor(e,r,n){super();ue(this,cr);ue(this,Nl);ue(this,an);ue(this,Il);ue(this,Rl);ue(this,wn);ue(this,Ts);ue(this,pd);ue(this,md);ue(this,vd,[]);ie(this,Nl,e),ie(this,Rl,n),ie(this,Il,[]),ie(this,wn,[]),ie(this,an,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,wn).forEach(e=>{e.subscribe(r=>{Ee(this,cr,RP).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,wn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,Il,e),ie(this,Rl,r),Et.batch(()=>{const n=R(this,wn),i=Ee(this,cr,IP).call(this,R(this,Il));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=o||l,c=u?!0:a.some((h,f)=>{const p=R(this,an)[f];return!p||!Gc(h,p)});!u&&!c||(u&&(ie(this,vd,i),ie(this,wn,s)),ie(this,an,a),this.hasListeners()&&(u&&(sR(n,s).forEach(h=>{h.destroy()}),sR(s,n).forEach(h=>{h.subscribe(f=>{Ee(this,cr,RP).call(this,h,f)})})),Ee(this,cr,jP).call(this)))})}getCurrentResult(){return R(this,an)}getQueries(){return R(this,wn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,wn)}getOptimisticResult(e,r){const n=Ee(this,cr,IP).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Ee(this,cr,NP).call(this,s??i,r),()=>Ee(this,cr,TP).call(this,i,n)]}},Nl=new WeakMap,an=new WeakMap,Il=new WeakMap,Rl=new WeakMap,wn=new WeakMap,Ts=new WeakMap,pd=new WeakMap,md=new WeakMap,vd=new WeakMap,cr=new WeakSet,TP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},NP=function(e,r){return r?((!R(this,Ts)||R(this,an)!==R(this,md)||r!==R(this,pd))&&(ie(this,pd,r),ie(this,md,R(this,an)),ie(this,Ts,sT(R(this,Ts),r(e)))),R(this,Ts)):e},IP=function(e){const r=new Map;R(this,wn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Nl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new uT(R(this,Nl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},RP=function(e,r){const n=R(this,wn).indexOf(e);n!==-1&&(ie(this,an,vZ(R(this,an),n,r)),Ee(this,cr,jP).call(this))},jP=function(){var e;if(this.hasListeners()){const r=R(this,Ts),n=Ee(this,cr,TP).call(this,R(this,an),R(this,vd)),i=Ee(this,cr,NP).call(this,n,(e=R(this,Rl))==null?void 0:e.combine);r!==i&&Et.batch(()=>{this.listeners.forEach(s=>{s(R(this,an))})})}},R8),di,j8,yZ=(j8=class extends yo{constructor(e={}){super();ue(this,di);this.config=e,ie(this,di,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??iT(i,r);let a=this.get(s);return a||(a=new uZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,di).has(e.queryHash)||(R(this,di).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,di).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,di).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Et.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,di).get(e)}getAll(){return[...R(this,di).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>YI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>YI(e,n)):r}notify(e){Et.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Et.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Et.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},di=new WeakMap,j8),wt,Ns,Is,jl,$l,Rs,kl,Dl,$8,bZ=($8=class{constructor(t={}){ue(this,wt);ue(this,Ns);ue(this,Is);ue(this,jl);ue(this,$l);ue(this,Rs);ue(this,kl);ue(this,Dl);ie(this,wt,t.queryCache||new yZ),ie(this,Ns,t.mutationCache||new pZ),ie(this,Is,t.defaultOptions||{}),ie(this,jl,new Map),ie(this,$l,new Map),ie(this,Rs,0)}mount(){ch(this,Rs)._++,R(this,Rs)===1&&(ie(this,kl,lT.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onFocus())})),ie(this,Dl,kf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,wt).onOnline())})))}unmount(){var t,e;ch(this,Rs)._--,R(this,Rs)===0&&((t=R(this,kl))==null||t.call(this),ie(this,kl,void 0),(e=R(this,Dl))==null||e.call(this),ie(this,Dl,void 0))}isFetching(t){return R(this,wt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Ns).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,wt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,wt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Hs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,wt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,wt).get(n.queryHash),s=i==null?void 0:i.state.data,a=JJ(e,s);if(a!==void 0)return R(this,wt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Et.batch(()=>R(this,wt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,wt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,wt);Et.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,wt);return Et.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Et.batch(()=>R(this,wt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(vr).catch(vr)}invalidateQueries(t,e={}){return Et.batch(()=>(R(this,wt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Et.batch(()=>R(this,wt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(vr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(vr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,wt).build(this,e);return r.isStaleByTime(Hs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(vr).catch(vr)}fetchInfiniteQuery(t){return t.behavior=nR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(vr).catch(vr)}ensureInfiniteQueryData(t){return t.behavior=nR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return kf.isOnline()?R(this,Ns).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,wt)}getMutationCache(){return R(this,Ns)}getDefaultOptions(){return R(this,Is)}setDefaultOptions(t){ie(this,Is,t)}setQueryDefaults(t,e){R(this,jl).set(ro(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,jl).values()],r={};return e.forEach(n=>{Kc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,$l).set(ro(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,$l).values()],r={};return e.forEach(n=>{Kc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Is).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=iT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===aT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Is).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,wt).clear(),R(this,Ns).clear()}},wt=new WeakMap,Ns=new WeakMap,Is=new WeakMap,jl=new WeakMap,$l=new WeakMap,Rs=new WeakMap,kl=new WeakMap,Dl=new WeakMap,$8),d7=$.createContext(void 0),dr=t=>{const e=$.useContext(d7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},wZ=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),d.jsx(d7.Provider,{value:t,children:e})),h7=$.createContext(!1),f7=()=>$.useContext(h7);h7.Provider;function xZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var _Z=$.createContext(xZ()),p7=()=>$.useContext(_Z),m7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?oT(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},v7=t=>{$.useEffect(()=>{t.clearReset()},[t])},g7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||oT(r,[t.error,n])),y7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},b7=(t,e)=>t.isLoading&&t.isFetching&&!e,$P=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Df=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function qf({queries:t,...e},r){const n=dr(),i=f7(),s=p7(),a=$.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{y7(y);const b=n.getQueryCache().get(y.queryHash);m7(y,s,b)}),v7(s);const[o]=$.useState(()=>new gZ(n,a,e)),[l,u,c]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;$.useSyncExternalStore($.useCallback(y=>h?o.subscribe(Et.batchCalls(y)):vr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),$.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>$P(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new uT(n,g);if($P(g,y))return Df(g,v,s);b7(y,i)&&Df(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&g7({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return u(c())}function SZ(t,e,r){var f,p,m,y;const n=f7(),i=p7(),s=dr(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",y7(a),m7(a,i,o),v7(i);const l=!s.getQueryCache().get(a.queryHash),[u]=$.useState(()=>new e(s,a)),c=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const g=h?u.subscribe(Et.batchCalls(b)):vr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),$.useEffect(()=>{u.setOptions(a)},[a,u]),$P(a,c))throw Df(a,u,i);if(g7({result:c,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw c.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,c),a.experimental_prefetchInRender&&!to&&b7(c,n)){const b=l?Df(a,u,i):o==null?void 0:o.promise;b==null||b.catch(vr).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?c:u.trackResult(c)}function ft(t,e){return SZ(t,uT)}function jt(t,e){const r=dr(),[n]=$.useState(()=>new mZ(r,t));$.useEffect(()=>{n.setOptions(t)},[n,t]);const i=$.useSyncExternalStore($.useCallback(a=>n.subscribe(Et.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=$.useCallback((a,o)=>{n.mutate(a,o).catch(vr)},[n]);if(i.error&&oT(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function dT(){const t=window.prmConfig||{};return $.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const r=$.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},c)=>$.createElement("svg",{ref:c,...EZ,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${OZ(t)}`,o].join(" "),...u},[...e.map(([h,f])=>$.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wl=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PZ=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CZ=be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const is=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aR=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=be("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ji=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w7=be("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const no=be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zh=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hl=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oR=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hT=be("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x7=be("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kP=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _7=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=be("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=be("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yr=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ea=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=be("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yc=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=be("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vs=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const io=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Gl="Caelis";function ei(t){$.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Gl;document.title=`${t} - ${r}`}},[t])}function YZ(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function I7(t=null){const e=rs();$.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=YZ(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":a?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=Gl}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Gl;document.title=`${r} - ${n}`},[e.pathname,t])}function R7(t,e){return function(){return t.apply(e,arguments)}}const{toString:QZ}=Object.prototype,{getPrototypeOf:fT}=Object,{iterator:xp,toStringTag:j7}=Symbol,_p=(t=>e=>{const r=QZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ti=t=>(t=t.toLowerCase(),e=>_p(e)===t),Sp=t=>e=>typeof e===t,{isArray:cu}=Array,Yl=Sp("undefined");function _d(t){return t!==null&&!Yl(t)&&t.constructor!==null&&!Yl(t.constructor)&&Gr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const $7=ti("ArrayBuffer");function XZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&$7(t.buffer),e}const JZ=Sp("string"),Gr=Sp("function"),k7=Sp("number"),Sd=t=>t!==null&&typeof t=="object",ZZ=t=>t===!0||t===!1,ef=t=>{if(_p(t)!=="object")return!1;const e=fT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(j7 in t)&&!(xp in t)},eee=t=>{if(!Sd(t)||_d(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},tee=ti("Date"),ree=ti("File"),nee=ti("Blob"),iee=ti("FileList"),see=t=>Sd(t)&&Gr(t.pipe),aee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Gr(t.append)&&((e=_p(t))==="formdata"||e==="object"&&Gr(t.toString)&&t.toString()==="[object FormData]"))},oee=ti("URLSearchParams"),[lee,uee,cee,dee]=["ReadableStream","Request","Response","Headers"].map(ti),hee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Ed(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),cu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(_d(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function D7(t,e){if(_d(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Oa=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,q7=t=>!Yl(t)&&t!==Oa;function DP(){const{caseless:t,skipUndefined:e}=q7(this)&&this||{},r={},n=(i,s)=>{const a=t&&D7(r,s)||s;ef(r[a])&&ef(i)?r[a]=DP(r[a],i):ef(i)?r[a]=DP({},i):cu(i)?r[a]=i.slice():(!e||!Yl(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Ed(arguments[i],n);return r}const fee=(t,e,r,{allOwnKeys:n}={})=>(Ed(e,(i,s)=>{r&&Gr(i)?t[s]=R7(i,r):t[s]=i},{allOwnKeys:n}),t),pee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),mee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},vee=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&fT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},gee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},yee=t=>{if(!t)return null;if(cu(t))return t;let e=t.length;if(!k7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},bee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fT(Uint8Array)),wee=(t,e)=>{const n=(t&&t[xp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},xee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},_ee=ti("HTMLFormElement"),See=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),cR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Eee=ti("RegExp"),M7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Ed(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Oee=t=>{M7(t,(e,r)=>{if(Gr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Gr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Pee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return cu(t)?n(t):n(String(t).split(e)),r},Cee=()=>{},Tee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Nee(t){return!!(t&&Gr(t.append)&&t[j7]==="FormData"&&t[xp])}const Iee=t=>{const e=new Array(10),r=(n,i)=>{if(Sd(n)){if(e.indexOf(n)>=0)return;if(_d(n))return n;if(!("toJSON"in n)){e[i]=n;const s=cu(n)?[]:{};return Ed(n,(a,o)=>{const l=r(a,i+1);!Yl(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Ree=ti("AsyncFunction"),jee=t=>t&&(Sd(t)||Gr(t))&&Gr(t.then)&&Gr(t.catch),F7=((t,e)=>t?setImmediate:e?((r,n)=>(Oa.addEventListener("message",({source:i,data:s})=>{i===Oa&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Oa.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Gr(Oa.postMessage)),$ee=typeof queueMicrotask<"u"?queueMicrotask.bind(Oa):typeof process<"u"&&process.nextTick||F7,kee=t=>t!=null&&Gr(t[xp]),M={isArray:cu,isArrayBuffer:$7,isBuffer:_d,isFormData:aee,isArrayBufferView:XZ,isString:JZ,isNumber:k7,isBoolean:ZZ,isObject:Sd,isPlainObject:ef,isEmptyObject:eee,isReadableStream:lee,isRequest:uee,isResponse:cee,isHeaders:dee,isUndefined:Yl,isDate:tee,isFile:ree,isBlob:nee,isRegExp:Eee,isFunction:Gr,isStream:see,isURLSearchParams:oee,isTypedArray:bee,isFileList:iee,forEach:Ed,merge:DP,extend:fee,trim:hee,stripBOM:pee,inherits:mee,toFlatObject:vee,kindOf:_p,kindOfTest:ti,endsWith:gee,toArray:yee,forEachEntry:wee,matchAll:xee,isHTMLForm:_ee,hasOwnProperty:cR,hasOwnProp:cR,reduceDescriptors:M7,freezeMethods:Oee,toObjectSet:Pee,toCamelCase:See,noop:Cee,toFiniteNumber:Tee,findKey:D7,global:Oa,isContextDefined:q7,isSpecCompliantForm:Nee,toJSONObject:Iee,isAsyncFn:Ree,isThenable:jee,setImmediate:F7,asap:$ee,isIterable:kee};function Te(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const A7=Te.prototype,L7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{L7[t]={value:t}});Object.defineProperties(Te,L7);Object.defineProperty(A7,"isAxiosError",{value:!0});Te.from=(t,e,r,n,i,s)=>{const a=Object.create(A7);M.toFlatObject(t,a,function(c){return c!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Te.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Dee=null;function qP(t){return M.isPlainObject(t)||M.isArray(t)}function B7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function dR(t,e,r){return t?t.concat(e).map(function(i,s){return i=B7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function qee(t){return M.isArray(t)&&!t.some(qP)}const Mee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Ep(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||c,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Te("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function c(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&qee(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(g=M.toArray(m)))return y=B7(y),g.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(a===!0?dR([y],w,s):a===null?y:y+"[]",u(x))}),!1}return qP(m)?!0:(e.append(dR(b,y,s),u(m)),!1)}const h=[],f=Object.assign(Mee,{defaultVisitor:c,convertValue:u,isVisitable:qP});function p(m,y){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),M.forEach(m,function(g,v){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function hR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function pT(t,e){this._pairs=[],t&&Ep(t,this,e)}const z7=pT.prototype;z7.append=function(e,r){this._pairs.push([e,r])};z7.toString=function(e){const r=e?function(n){return e.call(this,n,hR)}:hR;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Fee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function U7(t,e,r){if(!e)return t;const n=r&&r.encode||Fee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new pT(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class fR{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const W7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Aee=typeof URLSearchParams<"u"?URLSearchParams:pT,Lee=typeof FormData<"u"?FormData:null,Bee=typeof Blob<"u"?Blob:null,zee={isBrowser:!0,classes:{URLSearchParams:Aee,FormData:Lee,Blob:Bee},protocols:["http","https","file","blob","url","data"]},mT=typeof window<"u"&&typeof document<"u",MP=typeof navigator=="object"&&navigator||void 0,Uee=mT&&(!MP||["ReactNative","NativeScript","NS"].indexOf(MP.product)<0),Wee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Hee=mT&&window.location.href||"http://localhost",Vee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mT,hasStandardBrowserEnv:Uee,hasStandardBrowserWebWorkerEnv:Wee,navigator:MP,origin:Hee},Symbol.toStringTag,{value:"Module"})),br={...Vee,...zee};function Kee(t,e){return Ep(t,new br.classes.URLSearchParams,{visitor:function(r,n,i,s){return br.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Gee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Yee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function H7(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&M.isArray(i)?i.length:a,l?(M.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!M.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&M.isArray(i[a])&&(i[a]=Yee(i[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(Gee(n),i,r,0)}),r}return null}function Qee(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Od={transitional:W7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(H7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Kee(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Ep(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Qee(e)):e}],transformResponse:[function(e){const r=this.transitional||Od.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Te.from(o,Te.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:br.classes.FormData,Blob:br.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Od.headers[t]={}});const Xee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),Jee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&Xee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},pR=Symbol("internals");function Yu(t){return t&&String(t).trim().toLowerCase()}function tf(t){return t===!1||t==null?t:M.isArray(t)?t.map(tf):String(t)}function Zee(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const ete=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Fm(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function tte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function rte(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Yr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const c=Yu(l);if(!c)throw new Error("header name must be a non-empty string");const h=M.findKey(i,c);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=tf(o))}const a=(o,l)=>M.forEach(o,(u,c)=>s(u,c,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(M.isString(e)&&(e=e.trim())&&!ete(e))a(Jee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,u;for(const c of e){if(!M.isArray(c))throw TypeError("Object iterator must return a key-value pair");o[u=c[0]]=(l=o[u])?M.isArray(l)?[...l,c[1]]:[l,c[1]]:c[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Yu(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return Zee(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Yu(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Fm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Yu(a),a){const o=M.findKey(n,a);o&&(!r||Fm(n,n[o],o,r))&&(delete n[o],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Fm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const a=M.findKey(n,s);if(a){r[a]=tf(i),delete r[s];return}const o=e?tte(s):String(s).trim();o!==s&&delete r[s],r[o]=tf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[pR]=this[pR]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Yu(a);n[o]||(rte(i,a),n[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Yr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Yr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Yr);function Am(t,e){const r=this||Od,n=e||r,i=Yr.from(n.headers);let s=n.data;return M.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function V7(t){return!!(t&&t.__CANCEL__)}function du(t,e,r){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(du,Te,{__CANCEL__:!0});function K7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function nte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function ite(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),c=n[s];a||(a=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=c&&u-c;return p?Math.round(f*1e3/p):void 0}}function ste(t,e){let r=0,n=1e3/e,i,s;const a=(u,c=Date.now())=>{r=c,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const c=Date.now(),h=c-r;h>=n?a(u,c):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Mf=(t,e,r=3)=>{let n=0;const i=ite(50,250);return ste(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),c=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&c?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},mR=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},vR=t=>(...e)=>M.asap(()=>t(...e)),ate=br.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,br.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(br.origin),br.navigator&&/(msie|trident)/i.test(br.navigator.userAgent)):()=>!0,ote=br.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&o.push(`path=${n}`),M.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),M.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function lte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function ute(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function G7(t,e,r){let n=!lte(e);return t&&(n||r==!1)?ute(t,e):e}const gR=t=>t instanceof Yr?{...t}:t;function so(t,e){e=e||{};const r={};function n(u,c,h,f){return M.isPlainObject(u)&&M.isPlainObject(c)?M.merge.call({caseless:f},u,c):M.isPlainObject(c)?M.merge({},c):M.isArray(c)?c.slice():c}function i(u,c,h,f){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,c,h,f)}function s(u,c){if(!M.isUndefined(c))return n(void 0,c)}function a(u,c){if(M.isUndefined(c)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,c)}function o(u,c,h){if(h in e)return n(u,c);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,c,h)=>i(gR(u),gR(c),h,!0)};return M.forEach(Object.keys({...t,...e}),function(c){const h=l[c]||i,f=h(t[c],e[c],c);M.isUndefined(f)&&h!==o||(r[c]=f)}),r}const Y7=t=>{const e=so({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Yr.from(a),e.url=U7(G7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),M.isFormData(r)){if(br.hasStandardBrowserEnv||br.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([c,h])=>{u.includes(c.toLowerCase())&&a.set(c,h)})}}if(br.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&ate(e.url))){const l=i&&s&&ote.read(s);l&&a.set(i,l)}return e},cte=typeof XMLHttpRequest<"u",dte=cte&&function(t){return new Promise(function(r,n){const i=Y7(t);let s=i.data;const a=Yr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,c,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(c),i.signal&&i.signal.removeEventListener("abort",c)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=Yr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};K7(function(O){r(O),y()},function(O){n(O),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Te("Request aborted",Te.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Te(_,Te.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||W7;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Te(w,_.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([f,m]=Mf(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=Mf(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(c=x=>{b&&(n(!x||x.type?new du(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(c),i.signal&&(i.signal.aborted?c():i.signal.addEventListener("abort",c)));const v=nte(i.url);if(v&&br.protocols.indexOf(v)===-1){n(new Te("Unsupported protocol "+v+":",Te.ERR_BAD_REQUEST,t));return}b.send(s||null)})},hte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const c=u instanceof Error?u:this.reason;n.abort(c instanceof Te?c:new du(c instanceof Error?c.message:c))}};let a=e&&setTimeout(()=>{a=null,s(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(o),l}},fte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},pte=async function*(t,e){for await(const r of mte(t))yield*fte(r,e)},mte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},yR=(t,e,r,n)=>{const i=pte(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:c}=await i.next();if(u){o(),l.close();return}let h=c.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(c))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},bR=64*1024,{isFunction:Ih}=M,vte=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:wR,TextEncoder:xR}=M.global,_R=(t,...e)=>{try{return!!t(...e)}catch{return!1}},gte=t=>{t=M.merge.call({skipUndefined:!0},vte,t);const{fetch:e,Request:r,Response:n}=t,i=e?Ih(e):typeof fetch=="function",s=Ih(r),a=Ih(n);if(!i)return!1;const o=i&&Ih(wR),l=i&&(typeof xR=="function"?(m=>y=>m.encode(y))(new xR):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&o&&_R(()=>{let m=!1;const y=new r(br.origin,{body:new wR,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),c=a&&o&&_R(()=>M.isReadableStream(new n("").body)),h={stream:c&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Te(`Response type '${m}' is not supported`,Te.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(br.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:P="same-origin",fetchOptions:C}=Y7(m),I=e||fetch;O=O?(O+"").toLowerCase():"text";let T=hte([v,x&&x.toAbortSignal()],w),N=null;const q=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let B;try{if(E&&u&&b!=="get"&&b!=="head"&&(B=await p(S,g))!==0){let U=new r(y,{method:"POST",body:g,duplex:"half"}),ee;if(M.isFormData(g)&&(ee=U.headers.get("content-type"))&&S.setContentType(ee),U.body){const[fe,ge]=mR(B,Mf(vR(E)));g=yR(U.body,bR,fe,ge)}}M.isString(P)||(P=P?"include":"omit");const re=s&&"credentials"in r.prototype,Y={...C,signal:T,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:re?P:void 0};N=s&&new r(y,Y);let L=await(s?I(N,C):I(y,Y));const K=c&&(O==="stream"||O==="response");if(c&&(_||K&&q)){const U={};["status","statusText","headers"].forEach(ke=>{U[ke]=L[ke]});const ee=M.toFiniteNumber(L.headers.get("content-length")),[fe,ge]=_&&mR(ee,Mf(vR(_),!0))||[];L=new n(yR(L.body,bR,fe,()=>{ge&&ge(),q&&q()}),U)}O=O||"text";let z=await h[M.findKey(h,O)||"text"](L,m);return!K&&q&&q(),await new Promise((U,ee)=>{K7(U,ee,{data:z,headers:Yr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:N})})}catch(re){throw q&&q(),re&&re.name==="TypeError"&&/Load failed|fetch/i.test(re.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,m,N),{cause:re.cause||re}):Te.from(re,re&&re.code,m,N)}}},yte=new Map,Q7=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,c=yte;for(;o--;)l=s[o],u=c.get(l),u===void 0&&c.set(l,u=o?new Map:gte(e)),c=u;return u};Q7();const vT={http:Dee,xhr:dte,fetch:{get:Q7}};M.forEach(vT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const SR=t=>`- ${t}`,bte=t=>M.isFunction(t)||t===null||t===!1;function wte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!bte(n)&&(i=vT[(o=String(n)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${o}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(SR).join(`
`):" "+SR(a[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const X7={getAdapter:wte,adapters:vT};function Lm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new du(null,t)}function ER(t){return Lm(t),t.headers=Yr.from(t.headers),t.data=Am.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),X7.getAdapter(t.adapter||Od.adapter,t)(t).then(function(n){return Lm(t),n.data=Am.call(t,t.transformResponse,n),n.headers=Yr.from(n.headers),n},function(n){return V7(n)||(Lm(t),n&&n.response&&(n.response.data=Am.call(t,t.transformResponse,n.response),n.response.headers=Yr.from(n.response.headers))),Promise.reject(n)})}const J7="1.13.2",Op={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Op[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const OR={};Op.transitional=function(e,r,n){function i(s,a){return"[Axios v"+J7+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Te(i(a," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!OR[a]&&(OR[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};Op.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function xte(t,e,r){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Te("option "+s+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}}const rf={assertOptions:xte,validators:Op},ai=rf.validators;let za=class{constructor(e){this.defaults=e||{},this.interceptors={request:new fR,response:new fR}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=so(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&rf.assertOptions(n,{silentJSONParsing:ai.transitional(ai.boolean),forcedJSONParsing:ai.transitional(ai.boolean),clarifyTimeoutError:ai.transitional(ai.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:rf.assertOptions(i,{encode:ai.function,serialize:ai.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),rf.assertOptions(r,{baseUrl:ai.spelling("baseURL"),withXsrfToken:ai.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Yr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let c,h=0,f;if(!l){const m=[ER.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,c=Promise.resolve(r);h<f;)c=c.then(m[h++],m[h++]);return c}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{c=ER.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)c=c.then(u[h++],u[h++]);return c}getUri(e){e=so(this.defaults,e);const r=G7(e.baseURL,e.url,e.allowAbsoluteUrls);return U7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){za.prototype[e]=function(r,n){return this.request(so(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(so(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}za.prototype[e]=r(),za.prototype[e+"Form"]=r(!0)});let _te=class Z7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new du(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Z7(function(i){e=i}),cancel:e}}};function Ste(t){return function(r){return t.apply(null,r)}}function Ete(t){return M.isObject(t)&&t.isAxiosError===!0}const FP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(FP).forEach(([t,e])=>{FP[e]=t});function eK(t){const e=new za(t),r=R7(za.prototype.request,e);return M.extend(r,za.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return eK(so(t,i))},r}const Tt=eK(Od);Tt.Axios=za;Tt.CanceledError=du;Tt.CancelToken=_te;Tt.isCancel=V7;Tt.VERSION=J7;Tt.toFormData=Ep;Tt.AxiosError=Te;Tt.Cancel=Tt.CanceledError;Tt.all=function(e){return Promise.all(e)};Tt.spread=Ste;Tt.isAxiosError=Ete;Tt.mergeConfig=so;Tt.AxiosHeaders=Yr;Tt.formToJSON=t=>H7(M.isHTMLForm(t)?new FormData(t):t);Tt.getAdapter=X7.getAdapter;Tt.HttpStatusCode=FP;Tt.default=Tt;const{Axios:zbe,AxiosError:Ube,CanceledError:Wbe,isCancel:Hbe,CancelToken:Vbe,VERSION:Kbe,all:Gbe,Cancel:Ybe,isAxiosError:Qbe,spread:Xbe,toFormData:Jbe,AxiosHeaders:Zbe,HttpStatusCode:e0e,formToJSON:t0e,getAdapter:r0e,mergeConfig:n0e}=Tt,AP=window.prmConfig||{},xe=Tt.create({baseURL:AP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":AP.nonce||""}});xe.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});xe.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=AP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Le={getPeople:t=>xe.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>xe.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>xe.post("/wp/v2/people",t),updatePerson:(t,e)=>xe.put(`/wp/v2/people/${t}`,e),deletePerson:t=>xe.delete(`/wp/v2/people/${t}`),getCompanies:t=>xe.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>xe.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>xe.post("/wp/v2/companies",t),updateCompany:(t,e)=>xe.put(`/wp/v2/companies/${t}`,e),deleteCompany:t=>xe.delete(`/wp/v2/companies/${t}`),getDates:t=>xe.get("/wp/v2/important-dates",{params:t}),getDate:t=>xe.get(`/wp/v2/important-dates/${t}`),createDate:t=>xe.post("/wp/v2/important-dates",t),updateDate:(t,e)=>xe.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>xe.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>xe.get("/wp/v2/person_label"),getCompanyLabels:()=>xe.get("/wp/v2/company_label"),getRelationshipTypes:()=>xe.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>xe.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>xe.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>xe.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>xe.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>xe.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),xe.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Qr={getDashboard:()=>xe.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>xe.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>xe.get("/prm/v1/user/me"),search:t=>xe.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>xe.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>xe.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>xe.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>xe.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>xe.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>xe.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>xe.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>xe.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>xe.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>xe.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>xe.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>xe.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>xe.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),xe.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),xe.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};function Ote(){return ft({queryKey:["dashboard"],queryFn:async()=>(await Qr.getDashboard()).data})}function Pte(t=30){return ft({queryKey:["reminders",t],queryFn:async()=>(await Qr.getReminders(t)).data})}function Cte(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ft({queryKey:["search",e],queryFn:async()=>r?(await Qr.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const Tte=[{name:"Dashboard",href:"/",icon:kZ},{name:"People",href:"/people",icon:io},{name:"Companies",href:"/companies",icon:Ji},{name:"Dates",href:"/dates",icon:no},{name:"Settings",href:"/settings",icon:O7}];function PR({mobile:t=!1,onClose:e}){const{logoutUrl:r}=dT();return d.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[d.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[d.jsxs(ve,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[d.jsx(P7,{className:"w-5 h-5"}),Gl]}),t&&d.jsx("button",{onClick:e,className:"p-2 -mr-2",children:d.jsx(ta,{className:"w-5 h-5"})})]}),d.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Tte.map(n=>d.jsxs(WJ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[d.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),d.jsx("div",{className:"p-4 border-t border-gray-200",children:d.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx(qZ,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function Nte(){var a;const[t,e]=$.useState(!1),r=$.useRef(null),{data:n,isLoading:i}=ft({queryKey:["current-user"],queryFn:async()=>(await Qr.getCurrentUser()).data});if($.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return d.jsx("div",{className:"flex items-center ml-auto",children:d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return d.jsxs("div",{className:"relative ml-auto",ref:r,children:[d.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?d.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):d.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),d.jsx(IZ,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&d.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:d.jsxs("div",{className:"py-1",children:[d.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[d.jsx(N7,{className:"w-4 h-4 mr-2"}),"Edit profile"]}),n.is_admin&&d.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[d.jsx(O7,{className:"w-4 h-4 mr-2"}),"WordPress admin"]})]})})]})}function Ite({onMenuClick:t}){const[e,r]=$.useState(""),[n,i]=$.useState(!1),s=rs(),a=Zr(),o=$.useRef(null),l=$.useRef(null),u=e.trim(),{data:c,isLoading:h}=Cte(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};$.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"?a(`/companies/${v}`):g==="date"&&a(`/dates/${v}/edit`)},m=c||{people:[],companies:[],dates:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return d.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[d.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:d.jsx(AZ,{className:"w-5 h-5"})}),d.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),d.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:d.jsxs("div",{className:"relative w-full",ref:o,children:[d.jsx(E7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&d.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?d.jsxs("div",{className:"p-4 text-center text-gray-500",children:[d.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),d.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?d.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&d.jsxs("div",{className:"px-3 py-2",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>d.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(N7,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&d.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(g=>d.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(NZ,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.dates&&m.dates.length>0&&d.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[d.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(g=>d.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[d.jsx(no,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),d.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):d.jsx("div",{className:"p-4 text-center text-gray-500",children:d.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),d.jsx(Nte,{})]})}function Rte({children:t}){const[e,r]=$.useState(!1);return I7(),d.jsxs("div",{className:"flex h-screen bg-gray-50",children:[d.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:d.jsx(PR,{})}),e&&d.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[d.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),d.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:d.jsx(PR,{mobile:!0,onClose:()=>r(!1)})})]}),d.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[d.jsx(Ite,{onMenuClick:()=>r(!0)}),d.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function ur(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ao(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const tK=6048e5,jte=864e5;let $te={};function Pp(){return $te}function Qc(t,e){var o,l,u,c;const r=Pp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.weekStartsOn)??0,i=ur(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Ff(t){return Qc(t,{weekStartsOn:1})}function rK(t){const e=ur(t),r=e.getFullYear(),n=ao(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Ff(n),s=ao(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Ff(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function CR(t){const e=ur(t);return e.setHours(0,0,0,0),e}function TR(t){const e=ur(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function kte(t,e){const r=CR(t),n=CR(e),i=+r-TR(r),s=+n-TR(n);return Math.round((i-s)/jte)}function Dte(t){const e=rK(t),r=ao(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Ff(r)}function NR(t,e){const r=ur(t),n=ur(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function qte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Mte(t){if(!qte(t)&&typeof t!="number")return!1;const e=ur(t);return!isNaN(Number(e))}function Fte(t,e){const r=ur(t),n=ur(e);return r.getFullYear()-n.getFullYear()}function Bm(t,e){const r=ur(t),n=ur(e),i=NR(r,n),s=Math.abs(Fte(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=NR(r,n)===-i,o=i*(s-+a);return o===0?0:o}function Ate(t){const e=ur(t),r=ao(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Lte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Bte=(t,e,r)=>{let n;const i=Lte[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function zm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const zte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Ute={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Wte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Hte={date:zm({formats:zte,defaultWidth:"full"}),time:zm({formats:Ute,defaultWidth:"full"}),dateTime:zm({formats:Wte,defaultWidth:"full"})},Vte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Kte=(t,e,r,n)=>Vte[t];function Qu(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Gte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Yte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Qte={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Xte={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Jte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Zte={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ere=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},tre={ordinalNumber:ere,era:Qu({values:Gte,defaultWidth:"wide"}),quarter:Qu({values:Yte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Qu({values:Qte,defaultWidth:"wide"}),day:Qu({values:Xte,defaultWidth:"wide"}),dayPeriod:Qu({values:Jte,defaultWidth:"wide",formattingValues:Zte,defaultFormattingWidth:"wide"})};function Xu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?nre(o,h=>h.test(a)):rre(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const c=e.slice(a.length);return{value:u,rest:c}}}function rre(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function nre(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function ire(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const sre=/^(\d+)(th|st|nd|rd)?/i,are=/\d+/i,ore={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},lre={any:[/^b/i,/^(a|c)/i]},ure={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},cre={any:[/1/i,/2/i,/3/i,/4/i]},dre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},hre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},fre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},pre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},mre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},vre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},gre={ordinalNumber:ire({matchPattern:sre,parsePattern:are,valueCallback:t=>parseInt(t,10)}),era:Xu({matchPatterns:ore,defaultMatchWidth:"wide",parsePatterns:lre,defaultParseWidth:"any"}),quarter:Xu({matchPatterns:ure,defaultMatchWidth:"wide",parsePatterns:cre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Xu({matchPatterns:dre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),day:Xu({matchPatterns:fre,defaultMatchWidth:"wide",parsePatterns:pre,defaultParseWidth:"any"}),dayPeriod:Xu({matchPatterns:mre,defaultMatchWidth:"any",parsePatterns:vre,defaultParseWidth:"any"})},yre={code:"en-US",formatDistance:Bte,formatLong:Hte,formatRelative:Kte,localize:tre,match:gre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function bre(t){const e=ur(t);return kte(e,Ate(e))+1}function wre(t){const e=ur(t),r=+Ff(e)-+Dte(e);return Math.round(r/tK)+1}function nK(t,e){var c,h,f,p;const r=ur(t),n=r.getFullYear(),i=Pp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(c=e==null?void 0:e.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=ao(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Qc(a,e),l=ao(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Qc(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function xre(t,e){var o,l,u,c;const r=Pp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((c=(u=r.locale)==null?void 0:u.options)==null?void 0:c.firstWeekContainsDate)??1,i=nK(t,e),s=ao(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Qc(s,e)}function _re(t,e){const r=ur(t),n=+Qc(r,e)-+xre(r,e);return Math.round(n/tK)+1}function ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const hs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ze(r+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ze(i,e.length)}},Ao={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},IR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return hs.y(t,e)},Y:function(t,e,r,n){const i=nK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ze(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const r=rK(t);return ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return hs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=_re(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,r){const n=wre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):hs.d(t,e)},D:function(t,e,r){const n=bre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Ao.noon:n===0?i=Ao.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Ao.evening:n>=12?i=Ao.afternoon:n>=4?i=Ao.morning:i=Ao.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return hs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):hs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):hs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):hs.s(t,e)},S:function(t,e){return hs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return jR(n);case"XXXX":case"XX":return wa(n);case"XXXXX":case"XXX":default:return wa(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return jR(n);case"xxxx":case"xx":return wa(n);case"xxxxx":case"xxx":default:return wa(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+RR(n,":");case"OOOO":default:return"GMT"+wa(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+RR(n,":");case"zzzz":default:return"GMT"+wa(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return ze(n,e.length)}};function RR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ze(s,2)}function jR(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):wa(t,e)}function wa(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ze(Math.trunc(n/60),2),s=ze(n%60,2);return r+i+e+s}const $R=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},iK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Sre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return $R(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",$R(n,e)).replace("{{time}}",iK(i,e))},Ere={p:iK,P:Sre},Ore=/^D+$/,Pre=/^Y+$/,Cre=["D","DD","YY","YYYY"];function Tre(t){return Ore.test(t)}function Nre(t){return Pre.test(t)}function Ire(t,e,r){const n=Rre(t,e,r);if(console.warn(n),Cre.includes(t))throw new RangeError(n)}function Rre(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const jre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,$re=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,kre=/^'([^]*?)'?$/,Dre=/''/g,qre=/[a-zA-Z]/;function hi(t,e,r){var c,h,f,p;const n=Pp(),i=n.locale??yre,s=n.firstWeekContainsDate??((h=(c=n.locale)==null?void 0:c.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=ur(t);if(!Mte(o))throw new RangeError("Invalid time value");let l=e.match($re).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=Ere[y];return b(m,i.formatLong)}return m}).join("").match(jre).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:Mre(m)};if(IR[y])return{isToken:!0,value:m};if(y.match(qre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(Nre(y)||Tre(y))&&Ire(y,e,String(t));const b=IR[y[0]];return b(o,y,i.localize,u)}).join("")}function Mre(t){const e=t.match(kre);return e?e[1].replace(Dre,"'"):t}function Lo({title:t,value:e,icon:r,href:n}){return d.jsx(ve,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{children:[d.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),d.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),d.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:d.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function kR({person:t}){var e,r;return d.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):d.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&d.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&d.jsx(Yc,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function Fre({reminder:t}){var o,l,u,c,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(c=(u=t.related_people)==null?void 0:u[0])==null?void 0:c.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=d.jsxs(d.Fragment,{children:[d.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),d.jsx("p",{className:"text-xs text-gray-500",children:hi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&d.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?d.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):d.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:d.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?d.jsx(ve,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):d.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function Are(){return d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"flex justify-center mb-4",children:d.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:d.jsx(P7,{className:"w-12 h-12 text-primary-600"})})}),d.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Gl,"!"]}),d.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[d.jsxs(ve,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[d.jsx(yr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),d.jsxs(ve,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[d.jsx(yr,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Lre(){var u,c,h;const{data:t,isLoading:e,error:r}=Ote();if(e)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return d.jsx("div",{className:"card p-8 text-center",children:d.jsx("div",{className:"text-red-600 mb-2",children:f?d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):d.jsxs(d.Fragment,{children:[d.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),d.jsx("p",{className:"text-sm text-gray-600",children:((h=(c=r==null?void 0:r.response)==null?void 0:c.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Lo,{title:"Total People",value:0,icon:io,href:"/people"}),d.jsx(Lo,{title:"Companies",value:0,icon:Ji,href:"/companies"}),d.jsx(Lo,{title:"Important Dates",value:0,icon:no,href:"/dates"})]}),d.jsx(Are,{})]}):d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[d.jsx(Lo,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:io,href:"/people"}),d.jsx(Lo,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:Ji,href:"/companies"}),d.jsx(Lo,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:no,href:"/dates"})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[d.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),d.jsxs(ve,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",d.jsx(aR,{className:"w-4 h-4 ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>d.jsx(Fre,{reminder:f},f.id)):d.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),d.jsxs("div",{className:"card",children:[d.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[d.jsx("h2",{className:"font-semibold",children:"Recent People"}),d.jsxs(ve,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",d.jsx(aR,{className:"w-4 h-4 ml-1"})]})]}),d.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>d.jsx(kR,{person:f},f.id)):d.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",d.jsx(ve,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&d.jsxs("div",{className:"card",children:[d.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:d.jsx("h2",{className:"font-semibold",children:"Favorites"})}),d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>d.jsx(kR,{person:f},f.id))})]})]})}function Gn(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Fi(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return Gn(e)}function Ua(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return Gn(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return Gn(e)}function vl(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const Qt={all:["people"],lists:()=>[...Qt.all,"list"],list:t=>[...Qt.lists(),t],details:()=>[...Qt.all,"detail"],detail:t=>[...Qt.details(),t],timeline:t=>[...Qt.detail(t),"timeline"],dates:t=>[...Qt.detail(t),"dates"]};function sK(t){var i,s,a,o,l,u,c,h,f,p,m,y,b,g,v,x,w;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(c=(u=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:c.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=Gn(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function Cp(t={}){return ft({queryKey:Qt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Le.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(sK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function hu(t){return ft({queryKey:Qt.detail(t),queryFn:async()=>{const e=await Le.getPerson(t,{_embed:!0});return sK(e.data)},enabled:!!t})}function Bre(t){return ft({queryKey:Qt.timeline(t),queryFn:async()=>(await Qr.getPersonTimeline(t)).data,enabled:!!t})}function zre(t){return ft({queryKey:Qt.dates(t),queryFn:async()=>(await Qr.getPersonDates(t)).data,enabled:!!t})}function Ure(){const t=dr();return jt({mutationFn:e=>Le.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()})}})}function Pd(){const t=dr();return jt({mutationFn:({id:e,data:r})=>Le.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Qt.detail(r)}),t.invalidateQueries({queryKey:Qt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Qt.detail(o)})})}})}function Wre(){const t=dr();return jt({mutationFn:e=>Le.deletePerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Qt.lists()})}})}function Hre(){const t=dr();return jt({mutationFn:({noteId:e,personId:r})=>Qr.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Qt.timeline(r)})}})}function Vre(){const t=dr();return jt({mutationFn:({dateId:e,personId:r})=>Le.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Qt.dates(r)}),t.invalidateQueries({queryKey:Qt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function DR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function Kre({person:t,companyName:e,isDeceased:r}){var n,i;return d.jsx(ve,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsxs("div",{className:"flex items-center",children:[d.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&d.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&d.jsx(Yc,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&d.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&d.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>d.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Gre(){const[t,e]=$.useState(!1),[r,n]=$.useState(!1),[i,s]=$.useState([]),[a,o]=$.useState("first_name"),[l,u]=$.useState("asc"),c=$.useRef(null),h=$.useRef(null),{data:f,isLoading:p,error:m}=Cp(),{data:y}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),b=(y==null?void 0:y.map(T=>T.name))||[];$.useEffect(()=>{const T=N=>{h.current&&!h.current.contains(N.target)&&c.current&&!c.current.contains(N.target)&&e(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const g=$.useMemo(()=>{if(!f)return[];let T=[...f];return r&&(T=T.filter(N=>N.is_favorite)),i.length>0&&(T=T.filter(N=>{const q=N.labels||[];return i.some(B=>q.includes(B))})),T.sort((N,q)=>{var L,K,z,U,ee,fe,ge,ke;let B,re;if(a==="first_name"?(B=(((L=N.acf)==null?void 0:L.first_name)||N.first_name||"").toLowerCase(),re=(((K=q.acf)==null?void 0:K.first_name)||q.first_name||"").toLowerCase()):(B=(((z=N.acf)==null?void 0:z.last_name)||N.last_name||"").toLowerCase(),re=(((U=q.acf)==null?void 0:U.last_name)||q.last_name||"").toLowerCase()),B===re){const we=a==="first_name"?(((ee=N.acf)==null?void 0:ee.last_name)||N.last_name||"").toLowerCase():(((fe=N.acf)==null?void 0:fe.first_name)||N.first_name||"").toLowerCase(),_e=a==="first_name"?(((ge=q.acf)==null?void 0:ge.last_name)||q.last_name||"").toLowerCase():(((ke=q.acf)==null?void 0:ke.first_name)||q.first_name||"").toLowerCase(),Ne=we.localeCompare(_e);return l==="asc"?Ne:-Ne}const Y=B.localeCompare(re);return l==="asc"?Y:-Y})},[f,r,i,a,l]),v=r||i.length>0,x=T=>{s(N=>N.includes(T)?N.filter(q=>q!==T):[...N,T])},w=()=>{n(!1),s([])},_=$.useMemo(()=>{if(!g)return[];const T=g.map(N=>DR(N)).filter(Boolean);return[...new Set(T)]},[g]),{data:E}=ft({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Le.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=$.useMemo(()=>{const T={};return E&&E.forEach(N=>{T[N.id]=Fi(N)}),T},[E]),S=$.useMemo(()=>{const T={};return g.forEach(N=>{const q=DR(N);q&&O[q]&&(T[N.id]=O[q])}),T},[g,O]),P=$.useMemo(()=>g.map(T=>T.id).filter(Boolean),[g]),C=qf({queries:P.map(T=>({queryKey:["person-dates",T],queryFn:async()=>(await Qr.getPersonDates(T)).data,enabled:!!T}))}),I=$.useMemo(()=>{const T={};return C.forEach((N,q)=>{if(N.data&&P[q]){const B=P[q],re=N.data.some(Y=>{const L=Array.isArray(Y.date_type)?Y.date_type[0]:Y.date_type;return(L==null?void 0:L.toLowerCase())==="died"});T[B]=re}}),T},[C,P]);return d.jsxs("div",{className:"space-y-4",children:[d.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:d.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[d.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[d.jsxs("select",{value:a,onChange:T=>o(T.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[d.jsx("option",{value:"first_name",children:"First Name"}),d.jsx("option",{value:"last_name",children:"Last Name"})]}),d.jsx("div",{className:"h-4 w-px bg-gray-300"}),d.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?d.jsx(TZ,{className:"w-4 h-4 text-gray-600"}):d.jsx(CZ,{className:"w-4 h-4 text-gray-600"})})]}),d.jsxs("div",{className:"relative",ref:c,children:[d.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[d.jsx(lR,{className:"w-4 h-4 mr-2"}),"Filter",v&&d.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&d.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:d.jsxs("div",{className:"p-4 space-y-4",children:[d.jsx("div",{children:d.jsxs("label",{className:"flex items-center cursor-pointer",children:[d.jsx("input",{type:"checkbox",checked:r,onChange:T=>n(T.target.checked),className:"sr-only"}),d.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&d.jsx(oR,{className:"w-3 h-3 text-white"})}),d.jsxs("div",{className:"flex items-center",children:[d.jsx(Yc,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),d.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&d.jsxs("div",{children:[d.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),d.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(T=>d.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[d.jsx("input",{type:"checkbox",checked:i.includes(T),onChange:()=>x(T),className:"sr-only"}),d.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(T)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(T)&&d.jsx(oR,{className:"w-3 h-3 text-white"})}),d.jsx("span",{className:"text-sm text-gray-700",children:T})]},T))})]}),v&&d.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&d.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[d.jsx(Yc,{className:"w-3 h-3"}),"Favorites",d.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:d.jsx(ta,{className:"w-3 h-3"})})]}),i.map(T=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[T,d.jsx("button",{onClick:()=>x(T),className:"hover:text-gray-600",children:d.jsx(ta,{className:"w-3 h-3"})})]},T))]}),d.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]})}),p&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(yr,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),d.jsxs(ve,{to:"/people/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Person"]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(T=>d.jsx(Kre,{person:T,companyName:S[T.id],isDeceased:I[T.id]||!1},T.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(lR,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),d.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}function Rh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function Yre(){var yn,Mr,Ke,Bt,nn,sn,j,D,A,ae,ne,Q,de;const{id:t}=ns(),e=Zr(),r=dr(),{data:n,isLoading:i,error:s}=hu(t),{data:a}=Bre(t),{data:o}=zre(t),l=Wre(),u=Hre(),c=Vre(),h=Pd(),[f,p]=$.useState(!1),[m,y]=$.useState(""),[b,g]=$.useState(!1),v=$.useRef(null),{data:x}=ft({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((Bt=(Ke=(Mr=(yn=n==null?void 0:n._embedded)==null?void 0:yn["wp:term"])==null?void 0:Mr.flat())==null?void 0:Ke.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:Bt.map(k=>k.id))||[],O=w.filter(k=>!_.includes(k.name));ei((n==null?void 0:n.name)||((nn=n==null?void 0:n.title)==null?void 0:nn.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="birthday"}),P=S!=null&&S.date_value?new Date(S.date_value):null,C=o==null?void 0:o.find(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(H==null?void 0:H.toLowerCase())==="died"}),I=C!=null&&C.date_value?new Date(C.date_value):null,T=!!I,N=P?Bm(T?I:new Date,P):null,q=o?[...o].sort((k,H)=>{const le=k.date_value?new Date(k.date_value):new Date(0),V=H.date_value?new Date(H.date_value):new Date(0);return le-V}):[],B=async()=>{window.confirm("Are you sure you want to delete this person?")&&(await l.mutateAsync(t),e("/people"))},re=k=>{if(!k)return"";let H=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const le=H.startsWith("+");return H=H.replace(/\D/g,""),le?`+${H}`:H},Y=async k=>{var V;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const H=[...((V=n.acf)==null?void 0:V.contact_info)||[]];H.splice(k,1);const le=vl(n.acf,{contact_info:H});await h.mutateAsync({id:t,data:{acf:le}})},L=async k=>{var V;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const H=[...((V=n.acf)==null?void 0:V.relationships)||[]];H.splice(k,1);const le=vl(n.acf,{relationships:H});await h.mutateAsync({id:t,data:{acf:le}})},K=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await c.mutateAsync({dateId:k,personId:t})},z=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},U=async k=>{var V;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const H=[...((V=n.acf)==null?void 0:V.work_history)||[]];H.splice(k,1);const le=vl(n.acf,{work_history:H});await h.mutateAsync({id:t,data:{acf:le}})},ee=async k=>{var V,W,te;const H=(te=(W=(V=n==null?void 0:n._embedded)==null?void 0:V["wp:term"])==null?void 0:W.flat())==null?void 0:te.find(G=>(G==null?void 0:G.taxonomy)==="person_label"&&(G==null?void 0:G.name)===k);if(!H)return;const le=E.filter(G=>G!==H.id);await h.mutateAsync({id:t,data:{person_label:le}})},fe=async()=>{if(!m)return;const k=w.find(le=>le.id.toString()===m);if(!k)return;const H=[...E,k.id];await h.mutateAsync({id:t,data:{person_label:H}}),y(""),p(!1)},ge=async k=>{var le;const H=(le=k.target.files)==null?void 0:le[0];if(H){if(!H.type.startsWith("image/")){alert("Please select an image file");return}if(H.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Qr.uploadPersonPhoto(t,H),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(V){console.error("Failed to upload photo:",V),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},ke=((j=(sn=n==null?void 0:n.acf)==null?void 0:sn.work_history)==null?void 0:j.map(k=>k.company).filter(Boolean))||[],we=qf({queries:ke.map(k=>({queryKey:["company",k],queryFn:async()=>(await Le.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),_e=((A=(D=n==null?void 0:n.acf)==null?void 0:D.relationships)==null?void 0:A.map(k=>k.related_person).filter(Boolean))||[],Ne=qf({queries:_e.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Qr.getPersonDates(k)).data,enabled:!!k}))}),gt=$.useMemo(()=>{const k={};return Ne.forEach((H,le)=>{if(H.data&&_e[le]){const V=_e[le],W=H.data.find(te=>{const G=Array.isArray(te.date_type)?te.date_type[0]:te.date_type;return(G==null?void 0:G.toLowerCase())==="birthday"});if(W!=null&&W.date_value){const te=new Date(W.date_value);k[V]=Bm(new Date,te)}else k[V]=-1}}),k},[Ne,_e]),nt=$.useMemo(()=>{const k={};return Ne.forEach((H,le)=>{if(H.data&&_e[le]){const V=_e[le],W=H.data.some(te=>{const G=Array.isArray(te.date_type)?te.date_type[0]:te.date_type;return(G==null?void 0:G.toLowerCase())==="died"});k[V]=W}}),k},[Ne,_e]),yt=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((H,le)=>{const V=gt[H.related_person]??-1,W=gt[le.related_person]??-1;return V===-1&&W===-1?0:V===-1?1:W===-1?-1:W-V}):[]},[(ae=n==null?void 0:n.acf)==null?void 0:ae.relationships,gt]),xr={};we.forEach((k,H)=>{var le,V,W,te,G,pe,je,Vt,_r;if(k.data){const ii=ke[H];xr[ii]={name:Fi(k.data),logo:((W=(V=(le=k.data._embedded)==null?void 0:le["wp:featuredmedia"])==null?void 0:V[0])==null?void 0:W.source_url)||((_r=(Vt=(je=(pe=(G=(te=k.data._embedded)==null?void 0:te["wp:featuredmedia"])==null?void 0:G[0])==null?void 0:pe.media_details)==null?void 0:je.sizes)==null?void 0:Vt.thumbnail)==null?void 0:_r.source_url)||null}}});const Qe=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((H,le)=>({...H,originalIndex:le})).sort((H,le)=>{if(H.is_current&&!le.is_current)return-1;if(!H.is_current&&le.is_current)return 1;const V=H.start_date?new Date(H.start_date):new Date(0);return(le.start_date?new Date(le.start_date):new Date(0))-V}):[]},[(ne=n==null?void 0:n.acf)==null?void 0:ne.work_history]);if(i)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});const it=n.acf||{};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to People"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ve,{to:`/people/${t}/edit`,className:"btn-secondary",children:[d.jsx(C7,{className:"w-4 h-4 mr-2"}),"Edit"]}),d.jsxs("button",{onClick:B,className:"btn-danger",children:[d.jsx(vs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),d.jsxs("div",{className:"card p-6 relative",children:[d.jsx("div",{className:"absolute top-4 right-4",children:d.jsx(ve,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),d.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[d.jsxs("div",{className:"relative group",children:[n.thumbnail?d.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):d.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((Q=n.first_name)==null?void 0:Q[0])||"?"})}),d.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:b?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Zh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),d.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ge,className:"hidden",disabled:b})]}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("div",{className:"flex items-center gap-2",children:[d.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,T&&d.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&d.jsx(Yc,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),it.nickname&&d.jsxs("p",{className:"text-gray-500",children:['"',it.nickname,'"']}),T&&I&&N!==null&&d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Rh(it.gender)&&d.jsx("span",{className:"mr-1",children:Rh(it.gender)}),"Died ",hi(I,"MMMM d, yyyy")," at age ",N]}),!T&&N!==null&&d.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[Rh(it.gender)&&d.jsx("span",{className:"mr-1",children:Rh(it.gender)}),N," years old"]}),d.jsx("div",{className:"mt-2",children:d.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,H)=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,d.jsx("button",{onClick:()=>ee(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:d.jsx(ta,{className:"w-3 h-3"})})]},H)),f?d.jsxs("div",{className:"inline-flex items-center gap-2",children:[d.jsxs("select",{value:m,onChange:k=>y(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[d.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>d.jsx("option",{value:k.id,children:k.name},k.id))]}),d.jsx("button",{onClick:fe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),d.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&d.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[d.jsx(yr,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})]}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[d.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!T&&d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Contact Information"}),d.jsxs(ve,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add contact detail"]})]}),((de=it.contact_info)==null?void 0:de.length)>0?d.jsx("div",{className:"space-y-3",children:it.contact_info.map((k,H)=>{const le=k.contact_type==="email"?MZ:k.contact_type==="phone"||k.contact_type==="mobile"?zZ:k.contact_type==="address"?FZ:k.contact_type==="linkedin"?uR:(k.contact_type==="website",kP),V=k.contact_type==="email",W=k.contact_type==="phone"||k.contact_type==="mobile",te=k.contact_type==="mobile",G=k.contact_type==="website"||k.contact_type==="linkedin"||k.contact_type==="twitter"||k.contact_type==="instagram"||k.contact_type==="facebook",pe=k.contact_type==="address",je=k.contact_type==="linkedin";let Vt=null,_r=null;if(V)Vt=`mailto:${k.contact_value}`;else if(W)Vt=`tel:${re(k.contact_value)}`;else if(G){let ii=k.contact_value;ii.match(/^https?:\/\//i)||(ii=`https://${ii}`),Vt=ii,_r="_blank"}else pe&&(Vt=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.contact_value)}`,_r="_blank");return d.jsxs("div",{className:"flex items-center group",children:[!je&&d.jsx(le,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),d.jsxs("div",{className:"flex-1 min-w-0",children:[je?d.jsx(uR,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):d.jsxs("span",{className:"text-sm text-gray-500",children:[k.contact_label||k.contact_type,": "]}),Vt?d.jsx("a",{href:Vt,target:_r||void 0,rel:_r==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:k.contact_value}):d.jsx("span",{children:k.contact_value})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[te&&d.jsx("a",{href:`whatsapp:${re(k.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:d.jsx(LZ,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),d.jsx(ve,{to:`/people/${t}/contact/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:d.jsx(Nh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>Y(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Important Dates"}),d.jsxs(ve,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Important Date"]})]}),q.length>0?d.jsx("div",{className:"space-y-3",children:q.map(k=>{const H=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,le=(H==null?void 0:H.toLowerCase())||"",V=le.includes("died"),W=le.includes("wedding")||le.includes("marriage")?$Z:le.includes("birthday")?jZ:no;return d.jsxs("div",{className:"flex items-start group",children:[d.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:V?d.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):d.jsx(W,{className:"w-4 h-4 text-gray-500"})}),d.jsxs("div",{className:"flex-1",children:[d.jsx("p",{className:"text-sm font-medium",children:k.title}),d.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&hi(new Date(k.date_value),"MMMM d, yyyy")}),H&&d.jsx("p",{className:"text-xs text-gray-400 capitalize",children:H})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[d.jsx(ve,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:d.jsx(Nh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>K(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Work History"}),d.jsxs(ve,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Work History"]})]}),(Qe==null?void 0:Qe.length)>0?d.jsx("div",{className:"space-y-4",children:Qe.map((k,H)=>{const le=k.company?xr[k.company]:null,V=k.originalIndex;return d.jsxs("div",{className:"flex items-start group",children:[le!=null&&le.logo?d.jsx("img",{src:le.logo,alt:le.name,className:"w-10 h-10 rounded-lg object-cover mr-3 flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:d.jsx(Ji,{className:"w-5 h-5 text-gray-500"})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&le&&d.jsx(ve,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:le.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&hi(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?hi(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&d.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[d.jsx(ve,{to:`/people/${t}/work-history/${V}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:d.jsx(Nh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>U(V),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},V)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-4",children:[d.jsx("h2",{className:"font-semibold",children:"Timeline"}),d.jsxs("button",{className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Note"]})]}),(a==null?void 0:a.length)>0?d.jsx("div",{className:"space-y-4",children:a.map(k=>d.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[d.jsx("span",{className:"capitalize",children:k.type}),d.jsx("span",{children:""}),d.jsx("span",{children:hi(new Date(k.created),"MMM d, yyyy")})]}),d.jsx("button",{onClick:()=>z(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),d.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),d.jsxs("div",{className:"space-y-6",children:[(it.how_we_met||it.met_date)&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),it.met_date&&d.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[d.jsx(no,{className:"w-4 h-4 inline mr-1"}),hi(new Date(it.met_date),"MMMM d, yyyy")]}),it.how_we_met&&d.jsx("p",{className:"text-sm",children:it.how_we_met})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-3",children:[d.jsx("h2",{className:"font-semibold",children:"Relationships"}),d.jsxs(ve,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[d.jsx(yr,{className:"w-4 h-4 mr-1"}),"Add Relationship"]})]}),(yt==null?void 0:yt.length)>0?d.jsx("div",{className:"space-y-2",children:yt.map((k,H)=>{var V,W,te;const le=((W=(V=n==null?void 0:n.acf)==null?void 0:V.relationships)==null?void 0:W.findIndex(G=>G.related_person===k.related_person&&G.relationship_type===k.relationship_type))??H;return d.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[d.jsxs(ve,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?d.jsx("img",{src:k.person_thumbnail,alt:Gn(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:d.jsx("span",{className:"text-xs font-medium text-gray-500",children:((te=Gn(k.person_name))==null?void 0:te[0])||"?"})}),d.jsxs("div",{children:[d.jsxs("p",{className:"text-sm font-medium",children:[Gn(k.person_name)||`Person #${k.related_person}`,nt[k.related_person]&&d.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),d.jsx("p",{className:"text-xs text-gray-500",children:Gn(k.relationship_name||k.relationship_label)})]})]}),d.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[d.jsx(ve,{to:`/people/${t}/relationship/${le}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:d.jsx(Nh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),d.jsx("button",{onClick:()=>L(le),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:d.jsx(vs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},H)})}):d.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Cd=t=>t.type==="checkbox",Pa=t=>t instanceof Date,Lr=t=>t==null;const aK=t=>typeof t=="object";var $t=t=>!Lr(t)&&!Array.isArray(t)&&aK(t)&&!Pa(t),oK=t=>$t(t)&&t.target?Cd(t.target)?t.target.checked:t.target.value:t,Qre=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,lK=(t,e)=>t.has(Qre(e)),Xre=t=>{const e=t.constructor&&t.constructor.prototype;return $t(e)&&e.hasOwnProperty("isPrototypeOf")},gT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(gT&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!($t(t)&&Xre(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=zt(t[i]));return n}var Tp=t=>/^\w*$/.test(t),St=t=>t===void 0,yT=t=>Array.isArray(t)?t.filter(Boolean):[],bT=t=>yT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),oe=(t,e,r)=>{if(!e||!$t(t))return r;const n=(Tp(e)?[e]:bT(e)).reduce((i,s)=>Lr(i)?i:i[s],t);return St(n)||n===t?St(t[e])?r:t[e]:n},ln=t=>typeof t=="boolean",Ir=t=>typeof t=="function",Je=(t,e,r)=>{let n=-1;const i=Tp(e)?[e]:bT(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=$t(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Af={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Oi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},uK=Ce.createContext(null);uK.displayName="HookFormContext";const wT=()=>Ce.useContext(uK);var cK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Vn.all&&(e._proxyFormState[a]=!n||Vn.all),r&&(r[a]=!0),t[a]}});return i};const xT=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;function Jre(t){const e=wT(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ce.useState(r._formState),l=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return xT(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),Ce.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ce.useMemo(()=>cK(a,r,l.current,!1),[a,r])}var un=t=>typeof t=="string",LP=(t,e,r,n,i)=>un(t)?(n&&e.watch.add(t),oe(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),oe(r,s))):(n&&(e.watchAll=!0),r),BP=t=>Lr(t)||!aK(t);function Kn(t,e,r=new WeakSet){if(BP(t)||BP(e))return Object.is(t,e);if(Pa(t)&&Pa(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Pa(a)&&Pa(o)||$t(a)&&$t(o)||Array.isArray(a)&&Array.isArray(o)?!Kn(a,o,r):!Object.is(a,o))return!1}}return!0}function Zre(t){const e=wT(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Ce.useRef(i),u=Ce.useRef(o),c=Ce.useRef(void 0),h=Ce.useRef(r),f=Ce.useRef(n);u.current=o;const[p,m]=Ce.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),y=Ce.useCallback(w=>{const _=LP(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Ce.useCallback(w=>{if(!s){const _=LP(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Kn(E,c.current)||(m(E),c.current=E)}else m(_)}},[r._formValues,r._names,s,n]);xT(()=>((h.current!==r||!Kn(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{b(w.values)}})),[r,a,n,b]),Ce.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Ce.useMemo(()=>{if(s)return null;const w=!g&&!Kn(v,n);return g||w?y():null},[s,g,n,v,y]);return x!==null?x:p}function ene(t){const e=wT(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=lK(i._names.array,r),u=Ce.useMemo(()=>oe(i._formValues,r,oe(i._defaultValues,r,a)),[i,r,a]),c=Zre({control:i,name:r,defaultValue:u,exact:o}),h=Jre({control:i,name:r,exact:o}),f=Ce.useRef(t),p=Ce.useRef(void 0),m=Ce.useRef(i.register(r,{...t.rules,value:c,...ln(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!oe(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!oe(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!oe(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!oe(h.validatingFields,r)},error:{enumerable:!0,get:()=>oe(h.errors,r)}}),[h,r]),b=Ce.useCallback(w=>m.current.onChange({target:{value:oK(w),name:r},type:Af.CHANGE}),[r]),g=Ce.useCallback(()=>m.current.onBlur({target:{value:oe(i._formValues,r),name:r},type:Af.BLUR}),[r,i._formValues]),v=Ce.useCallback(w=>{const _=oe(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>Ir(w.focus)&&w.focus(),select:()=>Ir(w.select)&&w.select(),setCustomValidity:E=>Ir(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>Ir(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Ce.useMemo(()=>({name:r,value:c,...ln(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,c]);return Ce.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...ln(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const P=oe(i._fields,O);P&&P._f&&(P._f.mount=S)};if(E(r,!0),w){const O=zt(oe(i._options.defaultValues,r,f.current.defaultValue));Je(i._defaultValues,r,O),St(oe(i._formValues,r))&&Je(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Ce.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ce.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const Lf=t=>t.render(ene(t));var tne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},bc=t=>Array.isArray(t)?t:[t],qR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function dK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&$t(i)&&s){const a=dK(i,s);$t(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Or=t=>$t(t)&&!Object.keys(t).length,_T=t=>t.type==="file",Bf=t=>{if(!gT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},hK=t=>t.type==="select-multiple",ST=t=>t.type==="radio",rne=t=>ST(t)||Cd(t),Um=t=>Bf(t)&&t.isConnected;function nne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=St(t)?n++:t[e[n++]];return t}function ine(t){for(const e in t)if(t.hasOwnProperty(e)&&!St(t[e]))return!1;return!0}function It(t,e){const r=Array.isArray(e)?e:Tp(e)?[e]:bT(e),n=r.length===1?t:nne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&($t(n)&&Or(n)||Array.isArray(n)&&ine(n))&&It(t,r.slice(0,-1)),t}var sne=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function fK(t){return Array.isArray(t)||$t(t)&&!sne(t)}function zP(t,e={}){for(const r in t){const n=t[r];fK(n)?(e[r]=Array.isArray(n)?[]:{},zP(n,e[r])):St(n)||(e[r]=!0)}return e}function Ho(t,e,r){r||(r=zP(e));for(const n in t){const i=t[n];if(fK(i))St(e)||BP(r[n])?r[n]=zP(i,Array.isArray(i)?[]:{}):Ho(i,Lr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Kn(i,s)}}return r}const MR={value:!1,isValid:!1},FR={value:!0,isValid:!0};var pK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!St(t[0].attributes.value)?St(t[0].value)||t[0].value===""?FR:{value:t[0].value,isValid:!0}:FR:MR}return MR},mK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>St(t)?t:e?t===""?NaN:t&&+t:r&&un(t)?new Date(t):n?n(t):t;const AR={isValid:!1,value:null};var vK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,AR):AR;function LR(t){const e=t.ref;return _T(e)?e.files:ST(e)?vK(t.refs).value:hK(e)?[...e.selectedOptions].map(({value:r})=>r):Cd(e)?pK(t.refs).value:mK(St(e.value)?t.ref.value:e.value,t)}var ane=(t,e,r,n)=>{const i={};for(const s of t){const a=oe(e,s);a&&Je(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},zf=t=>t instanceof RegExp,Ju=t=>St(t)?t:zf(t)?t.source:$t(t)?zf(t.value)?t.value.source:t.value:t,BR=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched});const zR="AsyncFunction";var one=t=>!!t&&!!t.validate&&!!(Ir(t.validate)&&t.validate.constructor.name===zR||$t(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===zR)),lne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),UR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const wc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=oe(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(wc(o,e))break}else if($t(o)&&wc(o,e))break}}};function WR(t,e,r){const n=oe(t,r);if(n||Tp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=oe(e,s),o=oe(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var une=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Or(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Vn.all))},cne=(t,e,r)=>!t||!e||t===e||bc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),dne=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,hne=(t,e)=>!yT(oe(t,e)).length&&It(t,e),fne=(t,e,r)=>{const n=bc(oe(t,r));return Je(n,"root",e[r]),Je(t,r,n),t};function HR(t,e,r="validate"){if(un(t)||Array.isArray(t)&&t.every(un)||ln(t)&&!t)return{type:r,message:un(t)?t:"",ref:e}}var Bo=t=>$t(t)&&!zf(t)?t:{value:t,message:""},VR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:c,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=oe(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,w=T=>{i&&x.reportValidity&&(x.setCustomValidity(ln(T)?"":T||""),x.reportValidity())},_={},E=ST(a),O=Cd(a),S=E||O,P=(b||_T(a))&&St(a.value)&&St(v)||Bf(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=tne.bind(null,y,n,_),I=(T,N,q,B=Oi.maxLength,re=Oi.minLength)=>{const Y=T?N:q;_[y]={type:T?B:re,message:Y,ref:a,...C(T?B:re,Y)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(P||Lr(v))||ln(v)&&!v||O&&!pK(o).isValid||E&&!vK(o).isValid)){const{value:T,message:N}=un(l)?{value:!!l,message:l}:Bo(l);if(T&&(_[y]={type:Oi.required,message:N,ref:x,...C(Oi.required,N)},!n))return w(N),_}if(!P&&(!Lr(h)||!Lr(f))){let T,N;const q=Bo(f),B=Bo(h);if(!Lr(v)&&!isNaN(v)){const re=a.valueAsNumber||v&&+v;Lr(q.value)||(T=re>q.value),Lr(B.value)||(N=re<B.value)}else{const re=a.valueAsDate||new Date(v),Y=z=>new Date(new Date().toDateString()+" "+z),L=a.type=="time",K=a.type=="week";un(q.value)&&v&&(T=L?Y(v)>Y(q.value):K?v>q.value:re>new Date(q.value)),un(B.value)&&v&&(N=L?Y(v)<Y(B.value):K?v<B.value:re<new Date(B.value))}if((T||N)&&(I(!!T,q.message,B.message,Oi.max,Oi.min),!n))return w(_[y].message),_}if((u||c)&&!P&&(un(v)||s&&Array.isArray(v))){const T=Bo(u),N=Bo(c),q=!Lr(T.value)&&v.length>+T.value,B=!Lr(N.value)&&v.length<+N.value;if((q||B)&&(I(q,T.message,N.message),!n))return w(_[y].message),_}if(p&&!P&&un(v)){const{value:T,message:N}=Bo(p);if(zf(T)&&!v.match(T)&&(_[y]={type:Oi.pattern,message:N,ref:a,...C(Oi.pattern,N)},!n))return w(N),_}if(m){if(Ir(m)){const T=await m(v,r),N=HR(T,x);if(N&&(_[y]={...N,...C(Oi.validate,N.message)},!n))return w(N.message),_}else if($t(m)){let T={};for(const N in m){if(!Or(T)&&!n)break;const q=HR(await m[N](v,r),x,N);q&&(T={...q,...C(N,q.message)},w(q.message),n&&(_[y]=T))}if(!Or(T)&&(_[y]={ref:x,...T},!n))return _}}return w(!0),_};const pne={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function mne(t={}){let e={...pne,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=$t(e.defaultValues)||$t(e.values)?zt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:zt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const c={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...c};let f={...h};const p={array:qR(),state:qR()},m=e.criteriaMode===Vn.all,y=j=>D=>{clearTimeout(u),u=setTimeout(j,D)},b=async j=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||j)){let D;e.resolver?(D=Or((await S()).errors),g()):D=await C(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=(j,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(o.mount)).forEach(A=>{A&&(D?Je(r.validatingFields,A,D):It(r.validatingFields,A))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Or(r.validatingFields)}))},v=(j,D=[],A,ae,ne=!0,Q=!0)=>{if(ae&&A&&!e.disabled){if(a.action=!0,Q&&Array.isArray(oe(n,j))){const de=A(oe(n,j),ae.argA,ae.argB);ne&&Je(n,j,de)}if(Q&&Array.isArray(oe(r.errors,j))){const de=A(oe(r.errors,j),ae.argA,ae.argB);ne&&Je(r.errors,j,de),hne(r.errors,j)}if((h.touchedFields||f.touchedFields)&&Q&&Array.isArray(oe(r.touchedFields,j))){const de=A(oe(r.touchedFields,j),ae.argA,ae.argB);ne&&Je(r.touchedFields,j,de)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ho(i,s)),p.state.next({name:j,isDirty:T(j,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,j,D)},x=(j,D)=>{Je(r.errors,j,D),p.state.next({errors:r.errors})},w=j=>{r.errors=j,p.state.next({errors:r.errors,isValid:!1})},_=(j,D,A,ae)=>{const ne=oe(n,j);if(ne){const Q=oe(s,j,St(A)?oe(i,j):A);St(Q)||ae&&ae.defaultChecked||D?Je(s,j,D?Q:LR(ne._f)):B(j,Q),a.mount&&!a.action&&b()}},E=(j,D,A,ae,ne)=>{let Q=!1,de=!1;const k={name:j};if(!e.disabled){if(!A||ae){(h.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=k.isDirty=T(),Q=de!==k.isDirty);const H=Kn(oe(i,j),D);de=!!oe(r.dirtyFields,j),H?It(r.dirtyFields,j):Je(r.dirtyFields,j,!0),k.dirtyFields=r.dirtyFields,Q=Q||(h.dirtyFields||f.dirtyFields)&&de!==!H}if(A){const H=oe(r.touchedFields,j);H||(Je(r.touchedFields,j,A),k.touchedFields=r.touchedFields,Q=Q||(h.touchedFields||f.touchedFields)&&H!==A)}Q&&ne&&p.state.next(k)}return Q?k:{}},O=(j,D,A,ae)=>{const ne=oe(r.errors,j),Q=(h.isValid||f.isValid)&&ln(D)&&r.isValid!==D;if(e.delayError&&A?(l=y(()=>x(j,A)),l(e.delayError)):(clearTimeout(u),l=null,A?Je(r.errors,j,A):It(r.errors,j)),(A?!Kn(ne,A):ne)||!Or(ae)||Q){const de={...ae,...Q&&ln(D)?{isValid:D}:{},errors:r.errors,name:j};r={...r,...de},p.state.next(de)}},S=async j=>(g(j,!0),await e.resolver(s,e.context,ane(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async j=>{const{errors:D}=await S(j);if(g(j),j)for(const A of j){const ae=oe(D,A);ae?Je(r.errors,A,ae):It(r.errors,A)}else r.errors=D;return D},C=async(j,D,A={valid:!0})=>{for(const ae in j){const ne=j[ae];if(ne){const{_f:Q,...de}=ne;if(Q){const k=o.array.has(Q.name),H=ne._f&&one(ne._f);H&&h.validatingFields&&g([Q.name],!0);const le=await VR(ne,o.disabled,s,m,e.shouldUseNativeValidation&&!D,k);if(H&&h.validatingFields&&g([Q.name]),le[Q.name]&&(A.valid=!1,D))break;!D&&(oe(le,Q.name)?k?fne(r.errors,le,Q.name):Je(r.errors,Q.name,le[Q.name]):It(r.errors,Q.name))}!Or(de)&&await C(de,D,A)}}return A.valid},I=()=>{for(const j of o.unMount){const D=oe(n,j);D&&(D._f.refs?D._f.refs.every(A=>!Um(A)):!Um(D._f.ref))&&Ne(j)}o.unMount=new Set},T=(j,D)=>!e.disabled&&(j&&D&&Je(s,j,D),!Kn(U(),i)),N=(j,D,A)=>LP(j,o,{...a.mount?s:St(D)?i:un(j)?{[j]:D}:D},A,D),q=j=>yT(oe(a.mount?s:i,j,e.shouldUnregister?oe(i,j,[]):[])),B=(j,D,A={})=>{const ae=oe(n,j);let ne=D;if(ae){const Q=ae._f;Q&&(!Q.disabled&&Je(s,j,mK(D,Q)),ne=Bf(Q.ref)&&Lr(D)?"":D,hK(Q.ref)?[...Q.ref.options].forEach(de=>de.selected=ne.includes(de.value)):Q.refs?Cd(Q.ref)?Q.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(ne)?de.checked=!!ne.find(k=>k===de.value):de.checked=ne===de.value||!!ne)}):Q.refs.forEach(de=>de.checked=de.value===ne):_T(Q.ref)?Q.ref.value="":(Q.ref.value=ne,Q.ref.type||p.state.next({name:j,values:zt(s)})))}(A.shouldDirty||A.shouldTouch)&&E(j,ne,A.shouldTouch,A.shouldDirty,!0),A.shouldValidate&&z(j)},re=(j,D,A)=>{for(const ae in D){if(!D.hasOwnProperty(ae))return;const ne=D[ae],Q=j+"."+ae,de=oe(n,Q);(o.array.has(j)||$t(ne)||de&&!de._f)&&!Pa(ne)?re(Q,ne,A):B(Q,ne,A)}},Y=(j,D,A={})=>{const ae=oe(n,j),ne=o.array.has(j),Q=zt(D);Je(s,j,Q),ne?(p.array.next({name:j,values:zt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&A.shouldDirty&&p.state.next({name:j,dirtyFields:Ho(i,s),isDirty:T(j,Q)})):ae&&!ae._f&&!Lr(Q)?re(j,Q,A):B(j,Q,A),UR(j,o)&&p.state.next({...r,name:j}),p.state.next({name:a.mount?j:void 0,values:zt(s)})},L=async j=>{a.mount=!0;const D=j.target;let A=D.name,ae=!0;const ne=oe(n,A),Q=H=>{ae=Number.isNaN(H)||Pa(H)&&isNaN(H.getTime())||Kn(H,oe(s,A,H))},de=BR(e.mode),k=BR(e.reValidateMode);if(ne){let H,le;const V=D.type?LR(ne._f):oK(j),W=j.type===Af.BLUR||j.type===Af.FOCUS_OUT,te=!lne(ne._f)&&!e.resolver&&!oe(r.errors,A)&&!ne._f.deps||dne(W,oe(r.touchedFields,A),r.isSubmitted,k,de),G=UR(A,o,W);Je(s,A,V),W?(!D||!D.readOnly)&&(ne._f.onBlur&&ne._f.onBlur(j),l&&l(0)):ne._f.onChange&&ne._f.onChange(j);const pe=E(A,V,W),je=!Or(pe)||G;if(!W&&p.state.next({name:A,type:j.type,values:zt(s)}),te)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?W&&b():W||b()),je&&p.state.next({name:A,...G?{}:pe});if(!W&&G&&p.state.next({...r}),e.resolver){const{errors:Vt}=await S([A]);if(g([A]),Q(V),ae){const _r=WR(r.errors,n,A),ii=WR(Vt,n,_r.name||A);H=ii.error,A=ii.name,le=Or(Vt)}}else g([A],!0),H=(await VR(ne,o.disabled,s,m,e.shouldUseNativeValidation))[A],g([A]),Q(V),ae&&(H?le=!1:(h.isValid||f.isValid)&&(le=await C(n,!0)));ae&&(ne._f.deps&&(!Array.isArray(ne._f.deps)||ne._f.deps.length>0)&&z(ne._f.deps),O(A,le,H,pe))}},K=(j,D)=>{if(oe(r.errors,D)&&j.focus)return j.focus(),1},z=async(j,D={})=>{let A,ae;const ne=bc(j);if(e.resolver){const Q=await P(St(j)?j:ne);A=Or(Q),ae=j?!ne.some(de=>oe(Q,de)):A}else j?(ae=(await Promise.all(ne.map(async Q=>{const de=oe(n,Q);return await C(de&&de._f?{[Q]:de}:de)}))).every(Boolean),!(!ae&&!r.isValid)&&b()):ae=A=await C(n);return p.state.next({...!un(j)||(h.isValid||f.isValid)&&A!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:A}:{},errors:r.errors}),D.shouldFocus&&!ae&&wc(n,K,j?ne:o.mount),ae},U=(j,D)=>{let A={...a.mount?s:i};return D&&(A=dK(D.dirtyFields?r.dirtyFields:r.touchedFields,A)),St(j)?A:un(j)?oe(A,j):j.map(ae=>oe(A,ae))},ee=(j,D)=>({invalid:!!oe((D||r).errors,j),isDirty:!!oe((D||r).dirtyFields,j),error:oe((D||r).errors,j),isValidating:!!oe(r.validatingFields,j),isTouched:!!oe((D||r).touchedFields,j)}),fe=j=>{j&&bc(j).forEach(D=>It(r.errors,D)),p.state.next({errors:j?r.errors:{}})},ge=(j,D,A)=>{const ae=(oe(n,j,{_f:{}})._f||{}).ref,ne=oe(r.errors,j)||{},{ref:Q,message:de,type:k,...H}=ne;Je(r.errors,j,{...H,...D,ref:ae}),p.state.next({name:j,errors:r.errors,isValid:!1}),A&&A.shouldFocus&&ae&&ae.focus&&ae.focus()},ke=(j,D)=>Ir(j)?p.state.subscribe({next:A=>"values"in A&&j(N(void 0,D),A)}):N(j,D,!0),we=j=>p.state.subscribe({next:D=>{cne(j.name,D.name,j.exact)&&une(D,j.formState||h,Bt,j.reRenderRoot)&&j.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,_e=j=>(a.mount=!0,f={...f,...j.formState},we({...j,formState:{...c,...j.formState}})),Ne=(j,D={})=>{for(const A of j?bc(j):o.mount)o.mount.delete(A),o.array.delete(A),D.keepValue||(It(n,A),It(s,A)),!D.keepError&&It(r.errors,A),!D.keepDirty&&It(r.dirtyFields,A),!D.keepTouched&&It(r.touchedFields,A),!D.keepIsValidating&&It(r.validatingFields,A),!e.shouldUnregister&&!D.keepDefaultValue&&It(i,A);p.state.next({values:zt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:T()}:{}}),!D.keepIsValid&&b()},gt=({disabled:j,name:D})=>{(ln(j)&&a.mount||j||o.disabled.has(D))&&(j?o.disabled.add(D):o.disabled.delete(D))},nt=(j,D={})=>{let A=oe(n,j);const ae=ln(D.disabled)||ln(e.disabled);return Je(n,j,{...A||{},_f:{...A&&A._f?A._f:{ref:{name:j}},name:j,mount:!0,...D}}),o.mount.add(j),A?gt({disabled:ln(D.disabled)?D.disabled:e.disabled,name:j}):_(j,!0,D.value),{...ae?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:Ju(D.min),max:Ju(D.max),minLength:Ju(D.minLength),maxLength:Ju(D.maxLength),pattern:Ju(D.pattern)}:{},name:j,onChange:L,onBlur:L,ref:ne=>{if(ne){nt(j,D),A=oe(n,j);const Q=St(ne.value)&&ne.querySelectorAll&&ne.querySelectorAll("input,select,textarea")[0]||ne,de=rne(Q),k=A._f.refs||[];if(de?k.find(H=>H===Q):Q===A._f.ref)return;Je(n,j,{_f:{...A._f,...de?{refs:[...k.filter(Um),Q,...Array.isArray(oe(i,j))?[{}]:[]],ref:{type:Q.type,name:j}}:{ref:Q}}}),_(j,!1,void 0,Q)}else A=oe(n,j,{}),A._f&&(A._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(lK(o.array,j)&&a.action)&&o.unMount.add(j)}}},yt=()=>e.shouldFocusError&&wc(n,K,o.mount),xr=j=>{ln(j)&&(p.state.next({disabled:j}),wc(n,(D,A)=>{const ae=oe(n,A);ae&&(D.disabled=ae._f.disabled||j,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(ne=>{ne.disabled=ae._f.disabled||j}))},0,!1))},Qe=(j,D)=>async A=>{let ae;A&&(A.preventDefault&&A.preventDefault(),A.persist&&A.persist());let ne=zt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Q,values:de}=await S();g(),r.errors=Q,ne=zt(de)}else await C(n);if(o.disabled.size)for(const Q of o.disabled)It(ne,Q);if(It(r.errors,"root"),Or(r.errors)){p.state.next({errors:{}});try{await j(ne,A)}catch(Q){ae=Q}}else D&&await D({...r.errors},A),yt(),setTimeout(yt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},it=(j,D={})=>{oe(n,j)&&(St(D.defaultValue)?Y(j,zt(oe(i,j))):(Y(j,D.defaultValue),Je(i,j,zt(D.defaultValue))),D.keepTouched||It(r.touchedFields,j),D.keepDirty||(It(r.dirtyFields,j),r.isDirty=D.defaultValue?T(j,zt(oe(i,j))):T()),D.keepError||(It(r.errors,j),h.isValid&&b()),p.state.next({...r}))},yn=(j,D={})=>{const A=j?zt(j):i,ae=zt(A),ne=Or(j),Q=ne?i:ae;if(D.keepDefaultValues||(i=A),!D.keepValues){if(D.keepDirtyValues){const de=new Set([...o.mount,...Object.keys(Ho(i,s))]);for(const k of Array.from(de))oe(r.dirtyFields,k)?Je(Q,k,oe(s,k)):Y(k,oe(Q,k))}else{if(gT&&St(j))for(const de of o.mount){const k=oe(n,de);if(k&&k._f){const H=Array.isArray(k._f.refs)?k._f.refs[0]:k._f.ref;if(Bf(H)){const le=H.closest("form");if(le){le.reset();break}}}}if(D.keepFieldsRef)for(const de of o.mount)Y(de,oe(Q,de));else n={}}s=e.shouldUnregister?D.keepDefaultValues?zt(i):{}:zt(Q),p.array.next({values:{...Q}}),p.state.next({values:{...Q}})}o={mount:D.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Or(Q),a.watch=!!e.shouldUnregister,a.keepIsValid=!!D.keepIsValid,a.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ne?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Kn(j,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ne?{}:D.keepDirtyValues?D.keepDefaultValues&&s?Ho(i,s):r.dirtyFields:D.keepDefaultValues&&j?Ho(i,j):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Mr=(j,D)=>yn(Ir(j)?j(s):j,{...e.resetOptions,...D}),Ke=(j,D={})=>{const A=oe(n,j),ae=A&&A._f;if(ae){const ne=ae.refs?ae.refs[0]:ae.ref;ne.focus&&setTimeout(()=>{ne.focus(),D.shouldSelect&&Ir(ne.select)&&ne.select()})}},Bt=j=>{r={...r,...j}},sn={control:{register:nt,unregister:Ne,getFieldState:ee,handleSubmit:Qe,setError:ge,_subscribe:we,_runSchema:S,_updateIsValidating:g,_focusError:yt,_getWatch:N,_getDirty:T,_setValid:b,_setFieldArray:v,_setDisabledField:gt,_setErrors:w,_getFieldArray:q,_reset:yn,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(j=>{Mr(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:xr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:_e,trigger:z,register:nt,handleSubmit:Qe,watch:ke,setValue:Y,getValues:U,reset:Mr,resetField:it,clearErrors:fe,unregister:Ne,setError:ge,setFocus:Ke,getFieldState:ee};return{...sn,formControl:sn}}function fu(t={}){const e=Ce.useRef(void 0),r=Ce.useRef(void 0),[n,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ir(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=mne(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,xT(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ce.useEffect(()=>{var a;t.values&&!Kn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=cK(n,s),e.current}function KR(){var y;const{id:t}=ns(),e=Zr(),r=!!t,{data:n,isLoading:i}=hu(t),s=Ure(),a=Pd(),{data:o=[]}=ft({queryKey:["date-types"],queryFn:async()=>(await Le.getDateTypes()).data}),l=o.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:c,reset:h,formState:{errors:f,isSubmitting:p}}=fu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});$.useEffect(()=>{var b,g,v,x,w,_,E,O;if(n){const S=(g=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:g.find(C=>C.contact_type==="email"),P=(S==null?void 0:S.contact_value)||"";h({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:P,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),ei(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||null,how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await a.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Qr.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Le.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to People"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),d.jsxs("form",{onSubmit:c(m),className:"space-y-6",children:[d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"First Name *"}),d.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Last Name"}),d.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Nickname"}),d.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Gender"}),d.jsxs("select",{...u("gender"),className:"input",children:[d.jsx("option",{value:"",children:"Select gender..."}),d.jsx("option",{value:"male",children:"Male"}),d.jsx("option",{value:"female",children:"Female"}),d.jsx("option",{value:"non_binary",children:"Non-binary"}),d.jsx("option",{value:"other",children:"Other"}),d.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Email"}),d.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Birthday"}),d.jsx("input",{type:"date",...u("birthday"),className:"input"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"How We Met"}),d.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:"/people",className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function vne({value:t,onChange:e,companies:r,isLoading:n}){return d.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[d.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return d.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function GR(){var v,x;const{personId:t,index:e}=ns(),r=Zr();dr();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=hu(t),o=Pd(),{data:l=[],isLoading:u}=ft({queryKey:["companies","all"],queryFn:async()=>(await Le.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:c,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=fu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});$.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),ei(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async w=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],O={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?E[n]=O:E.push(O);const S=vl(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),d.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Company"}),d.jsx(Lf,{name:"company",control:m,render:({field:w})=>d.jsx(vne,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Job Title"}),d.jsx("input",{...c("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Description"}),d.jsx("textarea",{...c("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),d.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Start Date"}),d.jsx("input",{type:"date",...c("start_date"),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"End Date"}),d.jsx("input",{type:"date",...c("end_date"),className:"input"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...c("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const gne=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function YR(){var m,y;const{personId:t,index:e}=ns(),r=Zr(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=hu(t),o=Pd(),{register:l,handleSubmit:u,reset:c,formState:{errors:h,isSubmitting:f}}=fu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});$.useEffect(()=>{var b;if(s&&i){const v=(((b=s.acf)==null?void 0:b.contact_info)||[])[n];v&&c({contact_type:v.contact_type||"",contact_label:v.contact_label||"",contact_value:v.contact_value||""})}},[s,n,i,c]),ei(i?`Edit Contact Detail - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Contact Detail - ${((y=s==null?void 0:s.title)==null?void 0:y.rendered)||(s==null?void 0:s.title)||"Person"}`);const p=async b=>{var g;try{const v=[...((g=s.acf)==null?void 0:g.contact_info)||[]],x={contact_type:b.contact_type||"",contact_label:b.contact_label||"",contact_value:b.contact_value||""};i?v[n]=x:v.push(x);const w=vl(s.acf,{contact_info:v});await o.mutateAsync({id:t,data:{acf:w}}),r(`/people/${t}`)}catch(v){console.error("Failed to save contact detail:",v)}};return a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Contact Detail":"Add Contact Detail"}),d.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Contact Type *"}),d.jsxs("select",{...l("contact_type",{required:"Please select a contact type"}),className:"input",children:[d.jsx("option",{value:"",children:"Select a type..."}),gne.map(b=>d.jsx("option",{value:b.value,children:b.label},b.value))]}),h.contact_type&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Label"}),d.jsx("input",{...l("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Value *"}),d.jsx("input",{...l("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),h.contact_value&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_value.message})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Contact Detail"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function yne({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=$.useState(""),[o,l]=$.useState(!1),u=$.useRef(null),c=$.useRef(null),h=$.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return w<_?-1:w>_?1:0}),[r,i]),f=$.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=Ua(v).toLowerCase(),w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||w.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=$.useMemo(()=>h.find(g=>g.id===t),[h,t]);$.useEffect(()=>{const g=v=>{c.current&&!c.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?Ua(p):"";return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"relative",children:p&&!o?d.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[d.jsx("span",{children:b}),d.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:d.jsx(ta,{className:"w-4 h-4"})})]}):d.jsx("input",{ref:u,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&d.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>d.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:Ua(g)},g.id)):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function QR(){var x,w;const{personId:t,index:e}=ns(),r=Zr(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=hu(t),o=Pd(),{data:l=[],isLoading:u}=Cp(),{data:c=[],isLoading:h}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:y,formState:{errors:b,isSubmitting:g}}=fu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});$.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),ei(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E;try{const O=[...((E=s.acf)==null?void 0:E.relationships)||[]],S={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?O[n]=S:O.push(S);const P=vl(s.acf,{relationships:O});await o.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),d.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Related Person *"}),d.jsx(Lf,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>d.jsx(yne,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Relationship Type"}),d.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[d.jsx("option",{value:"",children:"Select a type..."}),c.map(_=>d.jsx("option",{value:_.id,children:_.name},_.id))]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Custom Label"}),d.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function bne({company:t}){var e,r,n,i,s;return d.jsx(ve,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:d.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?d.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Fi(t),className:"w-12 h-12 rounded-lg object-cover"}):d.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Ji,{className:"w-6 h-6 text-gray-400"})}),d.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[d.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Fi(t)}),((i=t.acf)==null?void 0:i.industry)&&d.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&d.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function wne(){const[t,e]=$.useState(""),{data:r,isLoading:n,error:i}=ft({queryKey:["companies",t],queryFn:async()=>(await Le.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=$.useMemo(()=>r?[...r].sort((a,o)=>{var c,h;const l=(((c=a.title)==null?void 0:c.rendered)||a.title||"").toLowerCase(),u=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[d.jsxs("div",{className:"relative flex-1 max-w-md",children:[d.jsx(E7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),d.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),d.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),n&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:d.jsx(Ji,{className:"w-6 h-6 text-gray-400"})}),d.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),d.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&d.jsxs(ve,{to:"/companies/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Company"]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&d.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>d.jsx(bne,{company:a},a.id))})]})}function xne(){var c,h,f,p,m,y;const{id:t}=ns(),e=Zr(),r=dr(),{data:n,isLoading:i,error:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data}),{data:a}=ft({queryKey:["company-people",t],queryFn:async()=>(await Qr.getCompanyPeople(t)).data}),o=jt({mutationFn:()=>Le.deleteCompany(t),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});ei(Fi(n)||"Company");const l=()=>{window.confirm("Are you sure you want to delete this company?")&&o.mutate()};if(i)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600",children:"Failed to load company."}),d.jsx(ve,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});const u=n.acf||{};return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Companies"]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs(ve,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[d.jsx(C7,{className:"w-4 h-4 mr-2"}),"Edit"]}),d.jsxs("button",{onClick:l,className:"btn-danger",children:[d.jsx(vs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),d.jsx("div",{className:"card p-6",children:d.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(c=n._embedded)==null?void 0:c["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?d.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Fi(n),className:"w-16 h-16 rounded-lg object-cover"}):d.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Ji,{className:"w-8 h-8 text-gray-400"})}),d.jsxs("div",{children:[d.jsx("h1",{className:"text-2xl font-bold",children:Fi(n)}),u.industry&&d.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&d.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[d.jsx(kP,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),d.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[d.jsxs("div",{className:"card p-6",children:[d.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[d.jsx(io,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?d.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return d.jsxs(ve,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?d.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:d.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),d.jsxs("div",{className:"ml-2",children:[d.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&d.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):d.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),d.jsxs("div",{className:"card p-6",children:[d.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[d.jsx(io,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?d.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return d.jsxs(ve,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?d.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):d.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:d.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),d.jsxs("div",{className:"ml-2",children:[d.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&d.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):d.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=u.contact_info)==null?void 0:y.length)>0&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),d.jsx("div",{className:"space-y-3",children:u.contact_info.map((b,g)=>d.jsxs("div",{children:[d.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),d.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function XR(){var v,x,w,_,E,O;const{id:t}=ns(),e=Zr(),r=dr(),n=!!t,{data:i,isLoading:s}=ft({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=$.useState(!1),l=$.useRef(null),u=jt({mutationFn:S=>Le.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),c=jt({mutationFn:S=>Le.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const P=(C=S.target.files)==null?void 0:C[0];if(P){if(!P.type.startsWith("image/")){alert("Please select an image file");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Qr.uploadCompanyLogo(t,P),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=fu();$.useEffect(()=>{var S,P,C;i&&m({title:Gn(((S=i.title)==null?void 0:S.rendered)||""),website:((P=i.acf)==null?void 0:P.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),ei(n&&i?`Edit ${Fi(i)||"Company"}`:"New Company");const g=async S=>{const P={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?c.mutate(P):u.mutate(P)};return n&&s?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Companies"]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),d.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Logo"}),d.jsxs("div",{className:"flex items-center gap-4",children:[(w=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&w.source_url?d.jsxs("div",{className:"relative group",children:[d.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Fi(i)||"Company logo",className:"w-20 h-20 rounded-lg object-cover"}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Zh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):d.jsxs("div",{className:"relative group",children:[d.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:d.jsx(Zh,{className:"w-8 h-8 text-gray-400"})}),d.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):d.jsx(Zh,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),d.jsxs("div",{children:[d.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),d.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Company Name *"}),d.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Website"}),d.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Industry"}),d.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:"/companies",className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[d.jsx(ea,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function _ne({person:t,dateType:e}){var r;return d.jsx("div",{className:"flex items-center gap-3 py-2",children:d.jsxs(ve,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?d.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),d.jsx("span",{className:"font-medium truncate",children:t.name}),d.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Sne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),d.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:d.jsxs("div",{className:"flex items-start gap-4",children:[d.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:d.jsx("span",{className:"text-2xl font-bold leading-none",children:hi(new Date(e.next_occurrence),"d")})}),d.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>d.jsx(_ne,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function Ene(){const{data:t,isLoading:e,error:r}=Pte(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=hi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=hi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return d.jsxs("div",{className:"space-y-6",children:[d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),d.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),e&&d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&d.jsx("div",{className:"card p-6 text-center",children:d.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&d.jsxs("div",{className:"card p-12 text-center",children:[d.jsx(no,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),d.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),d.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),d.jsxs(ve,{to:"/dates/new",className:"btn-primary",children:[d.jsx(yr,{className:"w-4 h-4 mr-2"}),"Add Date"]})]}),Object.entries(i).map(([s,a])=>d.jsxs("div",{children:[d.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),d.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>d.jsx(Sne,{dates:o},o[0].next_occurrence))})]},s))]})}function One({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=$.useState(""),a=$.useMemo(()=>{if(!i)return r.slice(0,10);const c=i.toLowerCase();return r.filter(h=>Ua(h).toLowerCase().includes(c)).slice(0,10)},[r,i]),o=$.useMemo(()=>t.map(c=>r.find(h=>h.id===c)).filter(Boolean),[t,r]),l=c=>{t.includes(c)||e([...t,c]),s("")},u=c=>{e(t.filter(h=>h!==c))};return d.jsxs("div",{className:"space-y-2",children:[o.length>0&&d.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(c=>d.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[Ua(c),d.jsx("button",{type:"button",onClick:()=>u(c.id),className:"hover:text-primary-600",children:d.jsx(ta,{className:"w-3 h-3"})})]},c.id))}),d.jsxs("div",{className:"relative",children:[d.jsx("input",{type:"text",value:i,onChange:c=>s(c.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&d.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(c=>d.jsx("button",{type:"button",onClick:()=>l(c.id),disabled:t.includes(c.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(c.id)?"opacity-50 cursor-not-allowed":""}`,children:Ua(c)},c.id)):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function JR(){var K;const{id:t}=ns(),[e]=KJ(),r=Zr(),n=dr(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=ft({queryKey:["important-date",t],queryFn:async()=>(await Le.getDate(t)).data,enabled:i}),u=$.useMemo(()=>{var U;if(!((U=o==null?void 0:o.acf)!=null&&U.related_people))return[];const z=o.acf.related_people;return Array.isArray(z)?z.map(ee=>parseInt(typeof ee=="object"&&ee!==null?ee.ID||ee.id||ee.post_id:ee,10)).filter(ee=>!isNaN(ee)&&ee>0):[]},[o]),{data:c=[],isLoading:h}=Cp({orderby:"title",order:"asc"}),{data:f=[]}=ft({queryKey:["people","specific",u],queryFn:async()=>{const z=u.map(ee=>Le.getPerson(ee,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(z)).filter(Boolean)},enabled:u.length>0}),p=$.useMemo(()=>{const z=new Map;return c.forEach(U=>z.set(U.id,U)),f.forEach(U=>{var fe,ge,ke,we,_e,Ne,gt,nt,yt,xr,Qe,it,yn,Mr,Ke,Bt;const ee={...U,id:U.id,name:Ua(U),first_name:((fe=U.acf)==null?void 0:fe.first_name)||"",last_name:((ge=U.acf)==null?void 0:ge.last_name)||"",is_favorite:((ke=U.acf)==null?void 0:ke.is_favorite)||!1,thumbnail:((Ne=(_e=(we=U._embedded)==null?void 0:we["wp:featuredmedia"])==null?void 0:_e[0])==null?void 0:Ne.source_url)||((it=(Qe=(xr=(yt=(nt=(gt=U._embedded)==null?void 0:gt["wp:featuredmedia"])==null?void 0:nt[0])==null?void 0:yt.media_details)==null?void 0:xr.sizes)==null?void 0:Qe.thumbnail)==null?void 0:it.source_url)||null,labels:((Bt=(Ke=(Mr=(yn=U._embedded)==null?void 0:yn["wp:term"])==null?void 0:Mr.flat())==null?void 0:Ke.filter(nn=>(nn==null?void 0:nn.taxonomy)==="person_label"))==null?void 0:Bt.map(nn=>nn.name))||[]};z.set(ee.id,ee)}),Array.from(z.values())},[c,f]),{data:m=[]}=ft({queryKey:["date-types"],queryFn:async()=>((await Le.getDateTypes()).data||[]).sort((ee,fe)=>{const ge=ee.name||"",ke=fe.name||"";return ge.localeCompare(ke)})}),y=jt({mutationFn:z=>Le.createDate(z),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=jt({mutationFn:z=>Le.updateDate(t,z),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const z=w("related_people");(z==null?void 0:z.length)>0?r(`/people/${z[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=fu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),P=w("related_people"),C=w("date_type"),I=w("title");$.useEffect(()=>{var ee;if((!I||["'s Birthday","Wedding of "].some(fe=>I.endsWith(fe)||I.startsWith(fe)))&&(P==null?void 0:P.length)>0&&C){const fe=m.find(_e=>_e.id===parseInt(C)),ge=(fe==null?void 0:fe.name)||"",ke=((ee=fe==null?void 0:fe.slug)==null?void 0:ee.toLowerCase())||ge.toLowerCase(),we=P.map(_e=>{var gt,nt,yt;const Ne=p.find(xr=>xr.id===_e);return Ne?Gn(((gt=Ne.acf)==null?void 0:gt.first_name)||((yt=(nt=Ne.title)==null?void 0:nt.rendered)==null?void 0:yt.split(" ")[0])||""):null}).filter(Boolean);if(we.length>0&&ge){let _e;ke==="wedding"?we.length>=2?_e=`Wedding of ${we[0]} & ${we[1]}`:_e=`Wedding of ${we[0]}`:_e=`${we[0]}'s ${ge}`,_("title",_e)}}},[P,C,p,m,_,I]);const[T,N]=$.useState(!1);$.useEffect(()=>{var U,ee,fe,ge,ke,we;if(T&&!i)return;const z=u.length===0||f.length>0;if(o&&p.length>0&&z){let _e=[];const Ne=(U=o.acf)==null?void 0:U.related_people;Ne&&(Array.isArray(Ne)?_e=Ne.map(nt=>parseInt(typeof nt=="object"&&nt!==null?nt.ID||nt.id||nt.post_id:nt,10)).filter(nt=>!isNaN(nt)&&nt>0):typeof Ne=="number"&&(_e=[Ne]));let gt="";((ee=o.date_type)==null?void 0:ee.length)>0&&(gt=o.date_type[0].toString()),x({title:Gn(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((ge=o.acf)==null?void 0:ge.date_value)||"",date_type:gt,related_people:_e,is_recurring:((ke=o.acf)==null?void 0:ke.is_recurring)??!0,reminder_days_before:((we=o.acf)==null?void 0:we.reminder_days_before)||7}),N(!0)}else if(!i&&p.length>0&&m.length>0){const _e={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(_e.related_people=[parseInt(s)]),a){const Ne=m.find(gt=>gt.slug===a||gt.name.toLowerCase()===a.toLowerCase());Ne&&(_e.date_type=Ne.id.toString())}x(_e),N(!0)}},[o,x,i,s,a,m,p,u,f,T]),ei(i&&o?`Edit ${((K=o.title)==null?void 0:K.rendered)||o.title||"Date"}`:"New Date");const q=async z=>{const U={title:z.title,status:"publish",date_type:z.date_type?[parseInt(z.date_type)]:[],acf:{date_value:z.date_value,related_people:z.related_people,is_recurring:z.is_recurring,reminder_days_before:parseInt(z.reminder_days_before,10)}};i?b.mutate(U):y.mutate(U)};if(i&&l)return d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const B=w("related_people"),re=i&&(B==null?void 0:B.length)>0?B[0]:s,Y=re?`/people/${re}`:"/dates",L=re?"Back to Person":"Back to Dates";return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs(ve,{to:Y,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),L]})}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),d.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Related People"}),d.jsx(Lf,{name:"related_people",control:E,render:({field:z})=>d.jsx(One,{value:z.value,onChange:z.onChange,people:p,isLoading:h})})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Date Type *"}),d.jsx(Lf,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:z})=>{const U=z.value?String(z.value):"";return d.jsxs("select",{value:U,onChange:ee=>{const fe=ee.target.value;z.onChange(fe)},onBlur:z.onBlur,name:z.name,ref:z.ref,className:"input",children:[d.jsx("option",{value:"",children:"Select a type..."}),m.map(ee=>d.jsx("option",{value:String(ee.id),children:ee.name},ee.id))]})}}),O.date_type&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Label"}),d.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Date *"}),d.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&d.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),d.jsxs("div",{className:"flex items-center",children:[d.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),d.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Remind me"}),d.jsxs("select",{...g("reminder_days_before"),className:"input",children:[d.jsx("option",{value:"0",children:"On the day"}),d.jsx("option",{value:"1",children:"1 day before"}),d.jsx("option",{value:"3",children:"3 days before"}),d.jsx("option",{value:"7",children:"1 week before"}),d.jsx("option",{value:"14",children:"2 weeks before"}),d.jsx("option",{value:"30",children:"1 month before"})]})]}),d.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[d.jsx(ve,{to:Y,className:"btn-secondary",children:"Cancel"}),d.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[d.jsx(ea,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function Pne(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=$.useState(""),[i,s]=$.useState(""),[a,o]=$.useState(!0),[l,u]=$.useState(!1),[c,h]=$.useState(!1);$.useEffect(()=>{(async()=>{try{const y=await xe.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{o(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(m){console.error("Failed to copy:",m)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const m=await xe.post("/prm/v1/user/regenerate-ical-token");n(m.data.url),s(m.data.webcal_url)}catch(m){console.error("Failed to regenerate token:",m)}finally{h(!1)}}};return d.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),d.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?d.jsxs("div",{className:"animate-pulse",children:[d.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),d.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:m=>m.target.select()}),d.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),d.jsxs("div",{className:"flex flex-wrap gap-2",children:[d.jsx("a",{href:i,className:"btn-primary",children:d.jsxs("span",{className:"flex items-center gap-1",children:[d.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:d.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),d.jsx("button",{onClick:p,disabled:c,className:"btn-secondary",children:c?"Regenerating...":"Regenerate URL"})]}),d.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ve,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[d.jsx("p",{className:"font-medium",children:"Import Data"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]})})]}),e&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configuration"}),d.jsx("div",{className:"space-y-3",children:d.jsxs(ve,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[d.jsx("p",{className:"font-medium",children:"Relationship Types"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]})})]}),e&&d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),d.jsxs("div",{className:"space-y-3",children:[d.jsxs("a",{href:t.adminUrl,className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"WordPress Admin"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Manage all settings, users, and content"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=person",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage People"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit people with all ACF fields"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=company",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage Companies"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit companies with all ACF fields"})]}),d.jsxs("a",{href:t.adminUrl+"edit.php?post_type=important_date",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[d.jsx("p",{className:"font-medium",children:"Manage Important Dates"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Edit dates and link people"})]})]})]}),d.jsxs("div",{className:"card p-6",children:[d.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),d.jsxs("p",{className:"text-sm text-gray-600",children:[Gl," v",t.version||"1.0.0",d.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function ZR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=$.useState(""),[a,o]=$.useState(!1),l=$.useRef(null),u=$.useRef(null),c=$.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=$.useMemo(()=>{if(!i)return c.slice(0,10);const b=i.toLowerCase();return c.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[c,i]),f=$.useMemo(()=>c.find(b=>b.id===parseInt(t,10)),[c,t]);$.useEffect(()=>{const b=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"relative",children:f&&!a?d.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[d.jsx("span",{children:y}),d.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:d.jsx(ta,{className:"w-4 h-4"})})]}):d.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&d.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?d.jsxs(d.Fragment,{children:[d.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:d.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>d.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):d.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function Cne(){ei("Relationship Types - Settings");const t=dr();if(!((window.prmConfig||{}).isAdmin||!1))return d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"card p-8 text-center",children:[d.jsx(WZ,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),d.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),d.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),d.jsx(ve,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),[s,a]=$.useState(null),[o,l]=$.useState(""),[u,c]=$.useState(""),[h,f]=$.useState(""),[p,m]=$.useState(""),[y,b]=$.useState(!1),g=jt({mutationFn:async({id:I,name:T,inverseId:N})=>{const q={name:T};return N&&(q.acf={inverse_relationship_type:parseInt(N,10)}),Le.updateRelationshipType(I,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),c("")}}),v=jt({mutationFn:async({name:I,inverseId:T})=>{const N={name:I};return T&&(N.acf={inverse_relationship_type:parseInt(T,10)}),Le.createRelationshipType(N)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=jt({mutationFn:I=>Le.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=jt({mutationFn:()=>Le.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return d.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):d.jsx(S7,{className:"w-4 h-4"}),"Restore Defaults"]})}const E=I=>{var N;a(I.id),l(I.name);const T=(N=I.acf)==null?void 0:N.inverse_relationship_type;c(T?T.toString():"")},O=()=>{a(null),l(""),c("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:u||null})},P=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(I,T)=>{window.confirm(`Are you sure you want to delete "${T}"? This cannot be undone.`)&&x.mutate(I)};return i?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):d.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:d.jsxs("div",{className:"card p-6",children:[d.jsxs("div",{className:"flex items-center justify-between mb-6",children:[d.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),d.jsx("div",{className:"flex gap-2",children:!y&&d.jsxs(d.Fragment,{children:[d.jsx(_,{}),d.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[d.jsx(yr,{className:"w-4 h-4"}),"Add Relationship Type"]})]})})]}),y&&d.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[d.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Name *"}),d.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Inverse Relationship Type"}),d.jsx(ZR,{value:p,onChange:m,relationshipTypes:n}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:P,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):d.jsx(ea,{className:"w-4 h-4"}),"Save"]}),d.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),d.jsx("div",{className:"space-y-2",children:n.length===0?d.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var re,Y;const T=s===I.id,N=(re=I.acf)==null?void 0:re.inverse_relationship_type,q=typeof N=="object"&&(N!=null&&N.ID)?N.ID:typeof N=="object"&&(N!=null&&N.id)?N.id:N,B=q?n.find(L=>L.id===q):null;return d.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:T?d.jsxs("div",{className:"space-y-4",children:[d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Name *"}),d.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),d.jsxs("div",{children:[d.jsx("label",{className:"label",children:"Inverse Relationship Type"}),d.jsx(ZR,{value:u,onChange:c,relationshipTypes:n,currentTypeId:I.id}),d.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?d.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):d.jsx(ea,{className:"w-4 h-4"}),"Save"]}),d.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[d.jsx(ta,{className:"w-4 h-4"}),"Cancel"]})]})]}):d.jsxs("div",{className:"flex items-center justify-between",children:[d.jsxs("div",{className:"flex-1",children:[d.jsx("div",{className:"font-medium",children:I.name}),B&&d.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",d.jsx("span",{className:"font-medium",children:B.name})]}),!B&&((Y=I.acf)==null?void 0:Y.inverse_relationship_type)===null&&d.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),d.jsxs("div",{className:"flex gap-2",children:[d.jsx("button",{onClick:()=>E(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:d.jsx(BZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:()=>C(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:d.jsx(vs,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function Tne(){var g,v,x;const[t,e]=$.useState(null),[r,n]=$.useState(""),[i,s]=$.useState(!1),[a,o]=$.useState(null),l=dr(),u=jt({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await xe.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{o(w)},onError:w=>{var _,E;o({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),c=jt({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await xe.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(w),o(null),c.reset(),u.mutate(w)},y=()=>{if(!r.trim()){o(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&c.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),u.reset(),c.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),c.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Hl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",c.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",c.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped (partial): ",c.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Photos imported: ",c.data.stats.photos_imported]}),d.jsxs("p",{children:["Companies created: ",c.data.stats.companies_created]}),d.jsxs("p",{children:["Relationships created: ",c.data.stats.relationships_created]}),d.jsxs("p",{children:["Important dates created: ",c.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",c.data.stats.notes_created]}),((g=c.data.stats.errors)==null?void 0:g.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:c.data.stats.errors.map((w,_)=>d.jsx("li",{children:w},_))})]})]}),d.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[d.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Vl,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(hT,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Kl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&d.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Hl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[d.jsxs("p",{children:["Export format: ",a.version]}),d.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),d.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),d.jsxs("p",{children:["Notes: ",a.summary.notes]}),d.jsxs("p",{children:["Dates: ",a.summary.reminders]}),d.jsxs("p",{children:["Photos: ",a.summary.photos]}),d.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&d.jsxs("div",{className:"space-y-2",children:[d.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),d.jsxs("div",{className:"relative",children:[d.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:d.jsx(DZ,{className:"h-4 w-4 text-gray-400"})}),d.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&d.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),d.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:y,disabled:c.isPending,className:"btn-primary flex items-center gap-2",children:c.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Vl,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Kl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:b,disabled:c.isPending,className:"btn-secondary",children:"Cancel"})]}),c.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=c.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function Nne(){var y,b,g;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),a=dr(),o=jt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await xe.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=jt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await xe.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),c=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Hl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),d.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),d.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>d.jsx("li",{children:v},x))})]})]}),d.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:c,children:[d.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Vl,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(hT,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Kl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&d.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Hl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(io,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(Ji,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(w7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(_7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(T7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Vl,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Kl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Ine(){var w,_,E;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState({}),l=dr(),u=jt({mutationFn:async O=>{const S=new FormData;return S.append("file",O),(await xe.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:O=>{var S;if(s(O),((S=O.duplicates)==null?void 0:S.length)>0){const P={};O.duplicates.forEach(C=>{P[C.index]="merge"}),o(P)}},onError:O=>{var S,P;s({valid:!1,error:((P=(S=O.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to validate file"})}}),c=jt({mutationFn:async({file:O,decisions:S})=>{const P=new FormData;return P.append("file",O),P.append("decisions",JSON.stringify(S)),(await xe.post("/prm/v1/import/google-contacts",P,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?n(!0):O.type==="dragleave"&&n(!1)},[]),f=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),n(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&m(O.dataTransfer.files[0])},[]),p=O=>{O.target.files&&O.target.files[0]&&m(O.target.files[0])},m=O=>{if(!O.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(O),s(null),o({}),c.reset(),u.mutate(O)},y=(O,S)=>{o(P=>({...P,[O]:S}))},b=()=>{t&&(i!=null&&i.valid)&&c.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),u.reset(),c.reset()},v=(i==null?void 0:i.duplicates)||[],x=v.length>0;return d.jsxs("div",{className:"space-y-4",children:[d.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),d.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),d.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[d.jsxs("li",{children:["Go to ",d.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),d.jsx("li",{children:'Click "Export" in the left sidebar'}),d.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),c.isSuccess?d.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Hl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),d.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[d.jsxs("p",{children:["Contacts imported: ",c.data.stats.contacts_imported]}),d.jsxs("p",{children:["Contacts updated: ",c.data.stats.contacts_updated]}),d.jsxs("p",{children:["Contacts skipped: ",c.data.stats.contacts_skipped]}),d.jsxs("p",{children:["Companies created: ",c.data.stats.companies_created]}),d.jsxs("p",{children:["Birthdays created: ",c.data.stats.dates_created]}),d.jsxs("p",{children:["Notes created: ",c.data.stats.notes_created]}),d.jsxs("p",{children:["Photos imported: ",c.data.stats.photos_imported]}),((w=c.data.stats.errors)==null?void 0:w.length)>0&&d.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[d.jsx("p",{className:"font-medium",children:"Errors:"}),d.jsx("ul",{className:"list-disc list-inside",children:c.data.stats.errors.map((O,S)=>d.jsx("li",{children:O},S))})]})]}),d.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):d.jsxs(d.Fragment,{children:[d.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[d.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Vl,{className:"h-8 w-8 text-primary-600 animate-spin"}),d.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(x7,{className:"h-8 w-8 text-green-600"}),d.jsx("p",{className:"font-medium text-gray-900",children:t.name}),d.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):d.jsxs("div",{className:"flex flex-col items-center gap-2",children:[d.jsx(Kl,{className:"h-8 w-8 text-gray-400"}),d.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),d.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&d.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Hl,{className:"h-5 w-5 text-green-600 mt-0.5"}),d.jsxs("div",{className:"flex-1",children:[d.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),d.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(io,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(Ji,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(w7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(T7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&d.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[d.jsx(_7,{className:"h-4 w-4"}),d.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&x&&d.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(PZ,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),d.jsxs("div",{className:"flex-1",children:[d.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),d.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),d.jsx("div",{className:"mt-4 space-y-4",children:v.map(O=>d.jsx(Rne,{duplicate:O,decision:a[O.index]||"merge",onDecision:S=>y(O.index,S)},O.index))})]})]})}),(i==null?void 0:i.valid)&&d.jsxs("div",{className:"flex gap-3",children:[d.jsx("button",{onClick:b,disabled:c.isPending,className:"btn-primary flex items-center gap-2",children:c.isPending?d.jsxs(d.Fragment,{children:[d.jsx(Vl,{className:"h-4 w-4 animate-spin"}),"Importing..."]}):d.jsxs(d.Fragment,{children:[d.jsx(Kl,{className:"h-4 w-4"}),"Start Import"]})}),d.jsx("button",{onClick:g,disabled:c.isPending,className:"btn-secondary",children:"Cancel"})]}),c.isError&&d.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:d.jsxs("div",{className:"flex items-start gap-3",children:[d.jsx(Wl,{className:"h-5 w-5 text-red-600 mt-0.5"}),d.jsxs("div",{children:[d.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),d.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=c.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function Rne({duplicate:t,decision:e,onDecision:r}){var n,i;return d.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[d.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),d.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&d.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&d.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),d.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:d.jsx("span",{className:"text-lg",children:""})}),d.jsxs("div",{className:"flex-1 min-w-0",children:[d.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),d.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?d.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):d.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:d.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),d.jsxs("div",{className:"min-w-0",children:[d.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&d.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&d.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),d.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[d.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(UZ,{className:"h-4 w-4"}),"Update existing"]}),d.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(VZ,{className:"h-4 w-4"}),"Create new"]}),d.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[d.jsx(HZ,{className:"h-4 w-4"}),"Skip"]})]})]})}const e2=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:hT,component:Nne},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:x7,component:Ine},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:RZ,component:Tne}];function jne(){var n;ei("Import - Settings");const[t,e]=$.useState("vcard"),r=(n=e2.find(i=>i.id===t))==null?void 0:n.component;return d.jsx("div",{className:"max-w-2xl mx-auto",children:d.jsxs("div",{className:"card p-6",children:[d.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Import Contacts"}),d.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),d.jsx("div",{className:"border-b border-gray-200 mb-6",children:d.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:e2.map(i=>{const s=i.icon,a=t===i.id;return d.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[d.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),d.jsxs("div",{className:"text-left",children:[d.jsx("span",{className:"block",children:i.name}),d.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&d.jsx(r,{})]})})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var t2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function De(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Wm={exports:{}},r2={},Zu,n2;function Mt(){if(n2)return Zu;n2=1;var t=function(e){return e&&e.Math===Math&&e};return Zu=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof t2=="object"&&t2)||t(typeof Zu=="object"&&Zu)||function(){return this}()||Function("return this")(),Zu}var Hm,i2;function He(){return i2||(i2=1,Hm=function(t){try{return!!t()}catch{return!0}}),Hm}var Vm,s2;function Td(){if(s2)return Vm;s2=1;var t=He();return Vm=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Vm}var Km,a2;function Np(){if(a2)return Km;a2=1;var t=Td(),e=Function.prototype,r=e.apply,n=e.call;return Km=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Km}var Gm,o2;function Ye(){if(o2)return Gm;o2=1;var t=Td(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Gm=t?n:function(i){return function(){return r.apply(i,arguments)}},Gm}var Ym,l2;function ss(){if(l2)return Ym;l2=1;var t=Ye(),e=t({}.toString),r=t("".slice);return Ym=function(n){return r(e(n),8,-1)},Ym}var Qm,u2;function gK(){if(u2)return Qm;u2=1;var t=ss(),e=Ye();return Qm=function(r){if(t(r)==="Function")return e(r)},Qm}var Xm,c2;function Jt(){if(c2)return Xm;c2=1;var t=typeof document=="object"&&document.all;return Xm=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Xm}var Jm={},Zm,d2;function Ft(){if(d2)return Zm;d2=1;var t=He();return Zm=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Zm}var ev,h2;function en(){if(h2)return ev;h2=1;var t=Td(),e=Function.prototype.call;return ev=t?e.bind(e):function(){return e.apply(e,arguments)},ev}var tv={},f2;function ET(){if(f2)return tv;f2=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return tv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,tv}var rv,p2;function Nd(){return p2||(p2=1,rv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),rv}var nv,m2;function Ip(){if(m2)return nv;m2=1;var t=Ye(),e=He(),r=ss(),n=Object,i=t("".split);return nv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,nv}var iv,v2;function Id(){return v2||(v2=1,iv=function(t){return t==null}),iv}var sv,g2;function bo(){if(g2)return sv;g2=1;var t=Id(),e=TypeError;return sv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},sv}var av,y2;function _i(){if(y2)return av;y2=1;var t=Ip(),e=bo();return av=function(r){return t(e(r))},av}var ov,b2;function qr(){if(b2)return ov;b2=1;var t=Jt();return ov=function(e){return typeof e=="object"?e!==null:t(e)},ov}var lv,w2;function Ht(){return w2||(w2=1,lv={}),lv}var uv,x2;function mn(){if(x2)return uv;x2=1;var t=Ht(),e=Mt(),r=Jt(),n=function(i){return r(i)?i:void 0};return uv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},uv}var cv,_2;function Zt(){if(_2)return cv;_2=1;var t=Ye();return cv=t({}.isPrototypeOf),cv}var dv,S2;function pu(){if(S2)return dv;S2=1;var t=Mt(),e=t.navigator,r=e&&e.userAgent;return dv=r?String(r):"",dv}var hv,E2;function Rd(){if(E2)return hv;E2=1;var t=Mt(),e=pu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),hv=o,hv}var fv,O2;function mu(){if(O2)return fv;O2=1;var t=Rd(),e=He(),r=Mt(),n=r.String;return fv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),fv}var pv,P2;function yK(){if(P2)return pv;P2=1;var t=mu();return pv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",pv}var mv,C2;function jd(){if(C2)return mv;C2=1;var t=mn(),e=Jt(),r=Zt(),n=yK(),i=Object;return mv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},mv}var vv,T2;function vu(){if(T2)return vv;T2=1;var t=String;return vv=function(e){try{return t(e)}catch{return"Object"}},vv}var gv,N2;function as(){if(N2)return gv;N2=1;var t=Jt(),e=vu(),r=TypeError;return gv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},gv}var yv,I2;function OT(){if(I2)return yv;I2=1;var t=as(),e=Id();return yv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},yv}var bv,R2;function $ne(){if(R2)return bv;R2=1;var t=en(),e=Jt(),r=qr(),n=TypeError;return bv=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},bv}var wv={exports:{}},xv,j2;function gu(){return j2||(j2=1,xv=!0),xv}var _v,$2;function kne(){if($2)return _v;$2=1;var t=Mt(),e=Object.defineProperty;return _v=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},_v}var k2;function PT(){if(k2)return wv.exports;k2=1;var t=gu(),e=Mt(),r=kne(),n="__core-js_shared__",i=wv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),wv.exports}var Sv,D2;function yu(){if(D2)return Sv;D2=1;var t=PT();return Sv=function(e,r){return t[e]||(t[e]=r||{})},Sv}var Ev,q2;function ri(){if(q2)return Ev;q2=1;var t=bo(),e=Object;return Ev=function(r){return e(t(r))},Ev}var Ov,M2;function er(){if(M2)return Ov;M2=1;var t=Ye(),e=ri(),r=t({}.hasOwnProperty);return Ov=Object.hasOwn||function(i,s){return r(e(i),s)},Ov}var Pv,F2;function Rp(){if(F2)return Pv;F2=1;var t=Ye(),e=0,r=Math.random(),n=t(1.1.toString);return Pv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Pv}var Cv,A2;function tr(){if(A2)return Cv;A2=1;var t=Mt(),e=yu(),r=er(),n=Rp(),i=mu(),s=yK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Cv=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},Cv}var Tv,L2;function bK(){if(L2)return Tv;L2=1;var t=en(),e=qr(),r=jd(),n=OT(),i=$ne(),s=tr(),a=TypeError,o=s("toPrimitive");return Tv=function(l,u){if(!e(l)||r(l))return l;var c=n(l,o),h;if(c){if(u===void 0&&(u="default"),h=t(c,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Tv}var Nv,B2;function CT(){if(B2)return Nv;B2=1;var t=bK(),e=jd();return Nv=function(r){var n=t(r,"string");return e(n)?n:n+""},Nv}var Iv,z2;function wK(){if(z2)return Iv;z2=1;var t=Mt(),e=qr(),r=t.document,n=e(r)&&e(r.createElement);return Iv=function(i){return n?r.createElement(i):{}},Iv}var Rv,U2;function xK(){if(U2)return Rv;U2=1;var t=Ft(),e=He(),r=wK();return Rv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Rv}var W2;function jp(){if(W2)return Jm;W2=1;var t=Ft(),e=en(),r=ET(),n=Nd(),i=_i(),s=CT(),a=er(),o=xK(),l=Object.getOwnPropertyDescriptor;return Jm.f=t?l:function(c,h){if(c=i(c),h=s(h),o)try{return l(c,h)}catch{}if(a(c,h))return n(!e(r.f,c,h),c[h])},Jm}var jv,H2;function Dne(){if(H2)return jv;H2=1;var t=He(),e=Jt(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===o?!0:c===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return jv=n,jv}var $v,V2;function $p(){if(V2)return $v;V2=1;var t=gK(),e=as(),r=Td(),n=t(t.bind);return $v=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},$v}var kv={},Dv,K2;function _K(){if(K2)return Dv;K2=1;var t=Ft(),e=He();return Dv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Dv}var qv,G2;function os(){if(G2)return qv;G2=1;var t=qr(),e=String,r=TypeError;return qv=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},qv}var Y2;function jn(){if(Y2)return kv;Y2=1;var t=Ft(),e=xK(),r=_K(),n=os(),i=CT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return kv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var y=o(f,p);y&&y[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},kv}var Mv,Q2;function bu(){if(Q2)return Mv;Q2=1;var t=Ft(),e=jn(),r=Nd();return Mv=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Mv}var Fv,X2;function Pe(){if(X2)return Fv;X2=1;var t=Mt(),e=Np(),r=gK(),n=Jt(),i=jp().f,s=Dne(),a=Ht(),o=$p(),l=bu(),u=er(),c=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Fv=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,T;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(T=i(g,O),C=T&&T.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=c(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},Fv}var J2;function qne(){if(J2)return r2;J2=1;var t=Pe(),e=Ft(),r=jn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),r2}var Z2;function Mne(){if(Z2)return Wm.exports;Z2=1,qne();var t=Ht(),e=t.Object,r=Wm.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Wm.exports}var Av,ej;function SK(){if(ej)return Av;ej=1;var t=Mne();return Av=t,Av}var Lv,tj;function Fne(){if(tj)return Lv;tj=1;var t=SK();return Lv=t,Lv}var Bv,rj;function Ane(){if(rj)return Bv;rj=1;var t=Fne();return Bv=t,Bv}var zv,nj;function Lne(){return nj||(nj=1,zv=Ane()),zv}var Bne=Lne(),zne=De(Bne),ij={},Uv,sj;function wo(){if(sj)return Uv;sj=1;var t=ss();return Uv=Array.isArray||function(r){return t(r)==="Array"},Uv}var Wv,aj;function Une(){if(aj)return Wv;aj=1;var t=Math.ceil,e=Math.floor;return Wv=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Wv}var Hv,oj;function wu(){if(oj)return Hv;oj=1;var t=Une();return Hv=function(e){var r=+e;return r!==r||r===0?0:t(r)},Hv}var Vv,lj;function EK(){if(lj)return Vv;lj=1;var t=wu(),e=Math.min;return Vv=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Vv}var Kv,uj;function la(){if(uj)return Kv;uj=1;var t=EK();return Kv=function(e){return t(e.length)},Kv}var Gv,cj;function OK(){if(cj)return Gv;cj=1;var t=TypeError,e=9007199254740991;return Gv=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Gv}var Yv,dj;function kp(){if(dj)return Yv;dj=1;var t=Ft(),e=jn(),r=Nd();return Yv=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Yv}var Qv,hj;function TT(){if(hj)return Qv;hj=1;var t=tr(),e=t("toStringTag"),r={};return r[e]="z",Qv=String(r)==="[object z]",Qv}var Xv,fj;function ua(){if(fj)return Xv;fj=1;var t=TT(),e=Jt(),r=ss(),n=tr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Xv=t?r:function(l){var u,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=o(u=s(l),i))=="string"?c:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Xv}var Jv,pj;function Wne(){if(pj)return Jv;pj=1;var t=Ye(),e=Jt(),r=PT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Jv=r.inspectSource,Jv}var Zv,mj;function PK(){if(mj)return Zv;mj=1;var t=Ye(),e=He(),r=Jt(),n=ua(),i=mn(),s=Wne(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Zv=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Zv}var eg,vj;function Hne(){if(vj)return eg;vj=1;var t=wo(),e=PK(),r=qr(),n=tr(),i=n("species"),s=Array;return eg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},eg}var tg,gj;function NT(){if(gj)return tg;gj=1;var t=Hne();return tg=function(e,r){return new(t(e))(r===0?0:r)},tg}var rg,yj;function $d(){if(yj)return rg;yj=1;var t=He(),e=tr(),r=Rd(),n=e("species");return rg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},rg}var bj;function CK(){if(bj)return ij;bj=1;var t=Pe(),e=He(),r=wo(),n=qr(),i=ri(),s=la(),a=OK(),o=kp(),l=NT(),u=$d(),c=tr(),h=Rd(),f=c("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),ij}var wj={},xj={},ng,_j;function ca(){if(_j)return ng;_j=1;var t=ua(),e=String;return ng=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},ng}var ig={},sg,Sj;function IT(){if(Sj)return sg;Sj=1;var t=wu(),e=Math.max,r=Math.min;return sg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},sg}var ag,Ej;function Vne(){if(Ej)return ag;Ej=1;var t=_i(),e=IT(),r=la(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(o,u),h;if(i&&a!==a){for(;u>c;)if(h=l[c++],h!==h)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===a)return i||c||0;return!i&&-1}};return ag={includes:n(!0),indexOf:n(!1)},ag}var og,Oj;function kd(){return Oj||(Oj=1,og={}),og}var lg,Pj;function TK(){if(Pj)return lg;Pj=1;var t=Ye(),e=er(),r=_i(),n=Vne().indexOf,i=kd(),s=t([].push);return lg=function(a,o){var l=r(a),u=0,c=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(c,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(c,h)||s(c,h));return c},lg}var ug,Cj;function RT(){return Cj||(Cj=1,ug=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),ug}var cg,Tj;function Dp(){if(Tj)return cg;Tj=1;var t=TK(),e=RT();return cg=Object.keys||function(n){return t(n,e)},cg}var Nj;function jT(){if(Nj)return ig;Nj=1;var t=Ft(),e=_K(),r=jn(),n=os(),i=_i(),s=Dp();return ig.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),c=s(l),h=c.length,f=0,p;h>f;)r.f(o,p=c[f++],u[p]);return o},ig}var dg,Ij;function Kne(){if(Ij)return dg;Ij=1;var t=mn();return dg=t("document","documentElement"),dg}var hg,Rj;function qp(){if(Rj)return hg;Rj=1;var t=yu(),e=Rp(),r=t("keys");return hg=function(n){return r[n]||(r[n]=e(n))},hg}var fg,jj;function Dd(){if(jj)return fg;jj=1;var t=os(),e=jT(),r=RT(),n=kd(),i=Kne(),s=wK(),a=qp(),o=">",l="<",u="prototype",c="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+c+o+v+l+"/"+c+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+c+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,fg=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},fg}var pg={},$j;function Mp(){if($j)return pg;$j=1;var t=TK(),e=RT(),r=e.concat("length","prototype");return pg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},pg}var mg={},vg,kj;function xu(){if(kj)return vg;kj=1;var t=Ye();return vg=t([].slice),vg}var Dj;function NK(){if(Dj)return mg;Dj=1;var t=ss(),e=_i(),r=Mp().f,n=xu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return mg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},mg}var gg={},qj;function Fp(){return qj||(qj=1,gg.f=Object.getOwnPropertySymbols),gg}var yg,Mj;function qd(){if(Mj)return yg;Mj=1;var t=bu();return yg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},yg}var bg,Fj;function $T(){if(Fj)return bg;Fj=1;var t=jn();return bg=function(e,r,n){return t.f(e,r,n)},bg}var wg={},Aj;function Ap(){if(Aj)return wg;Aj=1;var t=tr();return wg.f=t,wg}var xg,Lj;function mt(){if(Lj)return xg;Lj=1;var t=Ht(),e=er(),r=Ap(),n=jn().f;return xg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},xg}var _g,Bj;function IK(){if(Bj)return _g;Bj=1;var t=en(),e=mn(),r=tr(),n=qd();return _g=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},_g}var Sg,zj;function Gne(){if(zj)return Sg;zj=1;var t=TT(),e=ua();return Sg=t?{}.toString:function(){return"[object "+e(this)+"]"},Sg}var Eg,Uj;function xo(){if(Uj)return Eg;Uj=1;var t=TT(),e=jn().f,r=bu(),n=er(),i=Gne(),s=tr(),a=s("toStringTag");return Eg=function(o,l,u,c){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),c&&!t&&r(h,"toString",i))},Eg}var Og,Wj;function Yne(){if(Wj)return Og;Wj=1;var t=Mt(),e=Jt(),r=t.WeakMap;return Og=e(r)&&/native code/.test(String(r)),Og}var Pg,Hj;function Md(){if(Hj)return Pg;Hj=1;var t=Yne(),e=Mt(),r=qr(),n=bu(),i=er(),s=PT(),a=qp(),o=kd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Pg={set:h,get:f,has:p,enforce:m,getterFor:y},Pg}var Cg,Vj;function _u(){if(Vj)return Cg;Vj=1;var t=$p(),e=Ye(),r=Ip(),n=ri(),i=la(),s=NT(),a=e([].push),o=function(l){var u=l===1,c=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):c||m?P(b,0):void 0,I,T;E>S;S++)if((y||S in _)&&(I=_[S],T=O(I,S,w),l))if(u)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Cg={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Cg}var Kj;function Qne(){if(Kj)return xj;Kj=1;var t=Pe(),e=Mt(),r=en(),n=Ye(),i=gu(),s=Ft(),a=mu(),o=He(),l=er(),u=Zt(),c=os(),h=_i(),f=CT(),p=ca(),m=Nd(),y=Dd(),b=Dp(),g=Mp(),v=NK(),x=Fp(),w=jp(),_=jn(),E=jT(),O=ET(),S=qd(),P=$T(),C=yu(),I=qp(),T=kd(),N=Rp(),q=tr(),B=Ap(),re=mt(),Y=IK(),L=xo(),K=Md(),z=_u().forEach,U=I("hidden"),ee="Symbol",fe="prototype",ge=K.set,ke=K.getterFor(ee),we=Object[fe],_e=e.Symbol,Ne=_e&&_e[fe],gt=e.RangeError,nt=e.TypeError,yt=e.QObject,xr=w.f,Qe=_.f,it=v.f,yn=O.f,Mr=n([].push),Ke=C("symbols"),Bt=C("op-symbols"),nn=C("wks"),sn=!yt||!yt[fe]||!yt[fe].findChild,j=function(V,W,te){var G=xr(we,W);G&&delete we[W],Qe(V,W,te),G&&V!==we&&Qe(we,W,G)},D=s&&o(function(){return y(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?j:Qe,A=function(V,W){var te=Ke[V]=y(Ne);return ge(te,{type:ee,tag:V,description:W}),s||(te.description=W),te},ae=function(W,te,G){W===we&&ae(Bt,te,G),c(W);var pe=f(te);return c(G),l(Ke,pe)?(G.enumerable?(l(W,U)&&W[U][pe]&&(W[U][pe]=!1),G=y(G,{enumerable:m(0,!1)})):(l(W,U)||Qe(W,U,m(1,y(null))),W[U][pe]=!0),D(W,pe,G)):Qe(W,pe,G)},ne=function(W,te){c(W);var G=h(te),pe=b(G).concat(le(G));return z(pe,function(je){(!s||r(de,G,je))&&ae(W,je,G[je])}),W},Q=function(W,te){return te===void 0?y(W):ne(y(W),te)},de=function(W){var te=f(W),G=r(yn,this,te);return this===we&&l(Ke,te)&&!l(Bt,te)?!1:G||!l(this,te)||!l(Ke,te)||l(this,U)&&this[U][te]?G:!0},k=function(W,te){var G=h(W),pe=f(te);if(!(G===we&&l(Ke,pe)&&!l(Bt,pe))){var je=xr(G,pe);return je&&l(Ke,pe)&&!(l(G,U)&&G[U][pe])&&(je.enumerable=!0),je}},H=function(W){var te=it(h(W)),G=[];return z(te,function(pe){!l(Ke,pe)&&!l(T,pe)&&Mr(G,pe)}),G},le=function(V){var W=V===we,te=it(W?Bt:h(V)),G=[];return z(te,function(pe){l(Ke,pe)&&(!W||l(we,pe))&&Mr(G,Ke[pe])}),G};return a||(_e=function(){if(u(Ne,this))throw new nt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),te=N(W),G=function(pe){var je=this===void 0?e:this;je===we&&r(G,Bt,pe),l(je,U)&&l(je[U],te)&&(je[U][te]=!1);var Vt=m(1,pe);try{D(je,te,Vt)}catch(_r){if(!(_r instanceof gt))throw _r;j(je,te,Vt)}};return s&&sn&&D(we,te,{configurable:!0,set:G}),A(te,W)},Ne=_e[fe],S(Ne,"toString",function(){return ke(this).tag}),S(_e,"withoutSetter",function(V){return A(N(V),V)}),O.f=de,_.f=ae,E.f=ne,w.f=k,g.f=v.f=H,x.f=le,B.f=function(V){return A(q(V),V)},s&&(P(Ne,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(we,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:_e}),z(b(nn),function(V){re(V)}),t({target:ee,stat:!0,forced:!a},{useSetter:function(){sn=!0},useSimple:function(){sn=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Q,defineProperty:ae,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:H}),Y(),L(_e,ee),T[U]=!0,xj}var Gj={},Tg,Yj;function RK(){if(Yj)return Tg;Yj=1;var t=mu();return Tg=t&&!!Symbol.for&&!!Symbol.keyFor,Tg}var Qj;function Xne(){if(Qj)return Gj;Qj=1;var t=Pe(),e=mn(),r=er(),n=ca(),i=yu(),s=RK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var c=e("Symbol")(u);return a[u]=c,o[c]=u,c}}),Gj}var Xj={},Jj;function Jne(){if(Jj)return Xj;Jj=1;var t=Pe(),e=er(),r=jd(),n=vu(),i=yu(),s=RK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),Xj}var Zj={},Ng,e$;function Zne(){if(e$)return Ng;e$=1;var t=Ye(),e=wo(),r=Jt(),n=ss(),i=ca(),s=t([].push);return Ng=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var c=a[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Ng}var t$;function jK(){if(t$)return Zj;t$=1;var t=Pe(),e=mn(),r=Np(),n=en(),i=Ye(),s=He(),a=Jt(),o=jd(),l=xu(),u=Zne(),c=mu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),T=u(C);if(!(!a(T)&&(P===void 0||o(P))))return I[1]=function(N,q){if(a(T)&&(q=n(T,this,h(N),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var T=m(I,C-1),N=m(I,C+1);return p(x,P)&&!p(w,N)||p(w,P)&&!p(x,T)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,T){var N=l(arguments),q=r(_?O:f,null,N);return E&&typeof q=="string"?b(q,v,S):q}}),Zj}var r$={},n$;function eie(){if(n$)return r$;n$=1;var t=Pe(),e=mu(),r=He(),n=Fp(),i=ri(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),r$}var i$;function $K(){return i$||(i$=1,Qne(),Xne(),Jne(),jK(),eie()),wj}var s$={},a$;function kK(){if(a$)return s$;a$=1;var t=mt();return t("asyncDispose"),s$}var o$={},l$;function tie(){if(l$)return o$;l$=1;var t=mt();return t("asyncIterator"),o$}var u$={},c$;function DK(){if(c$)return u$;c$=1;var t=mt();return t("dispose"),u$}var d$={},h$;function rie(){if(h$)return d$;h$=1;var t=mt();return t("hasInstance"),d$}var f$={},p$;function nie(){if(p$)return f$;p$=1;var t=mt();return t("isConcatSpreadable"),f$}var m$={},v$;function qK(){if(v$)return m$;v$=1;var t=mt();return t("iterator"),m$}var g$={},y$;function iie(){if(y$)return g$;y$=1;var t=mt();return t("match"),g$}var b$={},w$;function sie(){if(w$)return b$;w$=1;var t=mt();return t("matchAll"),b$}var x$={},_$;function aie(){if(_$)return x$;_$=1;var t=mt();return t("replace"),x$}var S$={},E$;function oie(){if(E$)return S$;E$=1;var t=mt();return t("search"),S$}var O$={},P$;function lie(){if(P$)return O$;P$=1;var t=mt();return t("species"),O$}var C$={},T$;function uie(){if(T$)return C$;T$=1;var t=mt();return t("split"),C$}var N$={},I$;function MK(){if(I$)return N$;I$=1;var t=mt(),e=IK();return t("toPrimitive"),e(),N$}var R$={},j$;function cie(){if(j$)return R$;j$=1;var t=mn(),e=mt(),r=xo();return e("toStringTag"),r(t("Symbol"),"Symbol"),R$}var $$={},k$;function die(){if(k$)return $$;k$=1;var t=mt();return t("unscopables"),$$}var D$={},q$;function hie(){if(q$)return D$;q$=1;var t=Mt(),e=xo();return e(t.JSON,"JSON",!0),D$}var Ig,M$;function fie(){if(M$)return Ig;M$=1,CK(),$K(),kK(),tie(),DK(),rie(),nie(),qK(),iie(),sie(),aie(),oie(),lie(),uie(),MK(),cie(),die(),hie();var t=Ht();return Ig=t.Symbol,Ig}var F$={},Rg,A$;function pie(){return A$||(A$=1,Rg=function(){}),Rg}var jg,L$;function Su(){return L$||(L$=1,jg={}),jg}var $g,B$;function mie(){if(B$)return $g;B$=1;var t=Ft(),e=er(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return $g={EXISTS:i,PROPER:s,CONFIGURABLE:a},$g}var kg,z$;function vie(){if(z$)return kg;z$=1;var t=He();return kg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),kg}var Dg,U$;function FK(){if(U$)return Dg;U$=1;var t=er(),e=Jt(),r=ri(),n=qp(),i=vie(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Dg=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof a?o:null},Dg}var qg,W$;function AK(){if(W$)return qg;W$=1;var t=He(),e=Jt(),r=qr(),n=Dd(),i=FK(),s=qd(),a=tr(),o=gu(),l=a("iterator"),u=!1,c,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(c=h)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:o&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),qg={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},qg}var Mg,H$;function gie(){if(H$)return Mg;H$=1;var t=AK().IteratorPrototype,e=Dd(),r=Nd(),n=xo(),i=Su(),s=function(){return this};return Mg=function(a,o,l,u){var c=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,c,!1,!0),i[c]=s,a},Mg}var Fg,V$;function yie(){if(V$)return Fg;V$=1;var t=Ye(),e=as();return Fg=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Fg}var Ag,K$;function bie(){if(K$)return Ag;K$=1;var t=qr();return Ag=function(e){return t(e)||e===null},Ag}var Lg,G$;function wie(){if(G$)return Lg;G$=1;var t=bie(),e=String,r=TypeError;return Lg=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Lg}var Bg,Y$;function xie(){if(Y$)return Bg;Y$=1;var t=yie(),e=qr(),r=bo(),n=wie();return Bg=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),Bg}var zg,Q$;function kT(){if(Q$)return zg;Q$=1;var t=Pe(),e=en(),r=gu(),n=mie(),i=Jt(),s=gie(),a=FK(),o=xie(),l=xo(),u=bu(),c=qd(),h=tr(),f=Su(),p=AK(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return zg=function(O,S,P,C,I,T,N){s(P,S,C);var q=function(ge){if(ge===I&&K)return K;if(!g&&ge&&ge in Y)return Y[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},B=S+" Iterator",re=!1,Y=O.prototype,L=Y[v]||Y["@@iterator"]||I&&Y[I],K=!g&&L||q(I),z=S==="Array"&&Y.entries||L,U,ee,fe;if(z&&(U=a(z.call(new O)),U!==Object.prototype&&U.next&&(!r&&a(U)!==b&&(o?o(U,b):i(U[v])||c(U,v,E)),l(U,B,!0,!0),r&&(f[B]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(Y,"name",w):(re=!0,K=function(){return e(L,this)})),I)if(ee={values:q(w),keys:T?K:q(x),entries:q(_)},N)for(fe in ee)(g||re||!(fe in Y))&&c(Y,fe,ee[fe]);else t({target:S,proto:!0,forced:g||re},ee);return(!r||N)&&Y[v]!==K&&c(Y,v,K,{name:I}),f[S]=K,ee},zg}var Ug,X$;function DT(){return X$||(X$=1,Ug=function(t,e){return{value:t,done:e}}),Ug}var Wg,J$;function da(){if(J$)return Wg;J$=1;var t=_i(),e=pie(),r=Su(),n=Md(),i=jn().f,s=kT(),a=DT(),o=gu(),l=Ft(),u="Array Iterator",c=n.set,h=n.getterFor(u);Wg=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Wg}var Hg,Z$;function _ie(){return Z$||(Z$=1,Hg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Hg}var ek;function ha(){if(ek)return F$;ek=1,da();var t=_ie(),e=Mt(),r=xo(),n=Su();for(var i in t)r(e[i],i),n[i]=n.Array;return F$}var Vg,tk;function LK(){if(tk)return Vg;tk=1;var t=fie();return ha(),Vg=t,Vg}var rk={},nk;function Sie(){if(nk)return rk;nk=1;var t=tr(),e=jn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),rk}var ik={},sk;function Eie(){return sk||(sk=1,kK()),ik}var ak={},ok;function Oie(){return ok||(ok=1,DK()),ak}var lk={},uk;function Pie(){if(uk)return lk;uk=1;var t=mt();return t("metadata"),lk}var Kg,ck;function Cie(){if(ck)return Kg;ck=1;var t=LK();return Sie(),Eie(),Oie(),Pie(),Kg=t,Kg}var dk={},Gg,hk;function BK(){if(hk)return Gg;hk=1;var t=mn(),e=Ye(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Gg=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Gg}var fk;function Tie(){if(fk)return dk;fk=1;var t=Pe(),e=BK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),dk}var pk={},Yg,mk;function zK(){if(mk)return Yg;mk=1;for(var t=yu(),e=mn(),r=Ye(),n=jd(),i=tr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,h=o(s),f=h.length;c<f;c++)try{var p=h[c];n(s[p])&&i(p)}catch{}return Yg=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},Yg}var vk;function Nie(){if(vk)return pk;vk=1;var t=Pe(),e=zK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),pk}var gk={},yk;function Iie(){if(yk)return gk;yk=1;var t=mt();return t("customMatcher"),gk}var bk={},wk;function Rie(){if(wk)return bk;wk=1;var t=mt();return t("observable"),bk}var xk={},_k;function jie(){if(_k)return xk;_k=1;var t=Pe(),e=BK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),xk}var Sk={},Ek;function $ie(){if(Ek)return Sk;Ek=1;var t=Pe(),e=zK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Sk}var Ok={},Pk;function kie(){if(Pk)return Ok;Pk=1;var t=mt();return t("matcher"),Ok}var Ck={},Tk;function Die(){if(Tk)return Ck;Tk=1;var t=mt();return t("metadataKey"),Ck}var Nk={},Ik;function qie(){if(Ik)return Nk;Ik=1;var t=mt();return t("patternMatch"),Nk}var Rk={},jk;function Mie(){if(jk)return Rk;jk=1;var t=mt();return t("replaceAll"),Rk}var Qg,$k;function Fie(){if($k)return Qg;$k=1;var t=Cie();return Tie(),Nie(),Iie(),Rie(),jie(),$ie(),kie(),Die(),qie(),Mie(),Qg=t,Qg}var Xg,kk;function Aie(){return kk||(kk=1,Xg=Fie()),Xg}var Lie=Aie(),jh=De(Lie),Dk={},Jg,qk;function Bie(){if(qk)return Jg;qk=1;var t=Ye(),e=wu(),r=ca(),n=bo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,c){var h=r(n(u)),f=e(c),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return Jg={codeAt:o(!1),charAt:o(!0)},Jg}var Mk;function Lp(){if(Mk)return Dk;Mk=1;var t=Bie().charAt,e=ca(),r=Md(),n=kT(),i=DT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),c=u.string,h=u.index,f;return h>=c.length?i(void 0,!0):(f=t(c,h),u.index+=f.length,i(f,!1))}),Dk}var Zg,Fk;function zie(){if(Fk)return Zg;Fk=1,da(),Lp(),qK();var t=Ap();return Zg=t.f("iterator"),Zg}var ey,Ak;function UK(){if(Ak)return ey;Ak=1;var t=zie();return ha(),ey=t,ey}var ty,Lk;function Uie(){if(Lk)return ty;Lk=1;var t=UK();return ty=t,ty}var ry,Bk;function Wie(){if(Bk)return ry;Bk=1;var t=Uie();return ry=t,ry}var ny,zk;function Hie(){return zk||(zk=1,ny=Wie()),ny}var Vie=Hie(),Kie=De(Vie);function Xc(t){"@babel/helpers - typeof";return Xc=typeof jh=="function"&&typeof Kie=="symbol"?function(e){return typeof e}:function(e){return e&&typeof jh=="function"&&e.constructor===jh&&e!==jh.prototype?"symbol":typeof e},Xc(t)}var iy,Uk;function Gie(){if(Uk)return iy;Uk=1,MK();var t=Ap();return iy=t.f("toPrimitive"),iy}var sy,Wk;function Yie(){if(Wk)return sy;Wk=1;var t=Gie();return sy=t,sy}var ay,Hk;function Qie(){if(Hk)return ay;Hk=1;var t=Yie();return ay=t,ay}var oy,Vk;function Xie(){if(Vk)return oy;Vk=1;var t=Qie();return oy=t,oy}var ly,Kk;function Jie(){return Kk||(Kk=1,ly=Xie()),ly}var Zie=Jie(),ese=De(Zie);function tse(t,e){if(Xc(t)!="object"||!t)return t;var r=t[ese];if(r!==void 0){var n=r.call(t,e);if(Xc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function rse(t){var e=tse(t,"string");return Xc(e)=="symbol"?e:e+""}function Vs(t,e,r){return(e=rse(e))in t?zne(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Gk={},uy,Yk;function nse(){if(Yk)return uy;Yk=1;var t=Ye(),e=as(),r=qr(),n=er(),i=xu(),s=Td(),a=Function,o=t([].concat),l=t([].join),u={},c=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return uy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?c(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},uy}var Qk;function ise(){if(Qk)return Gk;Qk=1;var t=Pe(),e=nse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Gk}var cy,Xk;function tn(){if(Xk)return cy;Xk=1;var t=Mt(),e=Ht();return cy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},cy}var dy,Jk;function sse(){if(Jk)return dy;Jk=1,ise();var t=tn();return dy=t("Function","bind"),dy}var hy,Zk;function ase(){if(Zk)return hy;Zk=1;var t=Zt(),e=sse(),r=Function.prototype;return hy=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},hy}var fy,eD;function ose(){if(eD)return fy;eD=1;var t=ase();return fy=t,fy}var py,tD;function lse(){return tD||(tD=1,py=ose()),py}var use=lse(),WK=De(use),rD={},my,nD;function cse(){if(nD)return my;nD=1;var t=as(),e=ri(),r=Ip(),n=la(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,c,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(c<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return my={left:a(!1),right:a(!0)},my}var vy,iD;function Bp(){if(iD)return vy;iD=1;var t=He();return vy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},vy}var gy,sD;function HK(){if(sD)return gy;sD=1;var t=Mt(),e=pu(),r=ss(),n=function(i){return e.slice(0,i.length)===i};return gy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),gy}var yy,aD;function dse(){if(aD)return yy;aD=1;var t=HK();return yy=t==="NODE",yy}var oD;function hse(){if(oD)return rD;oD=1;var t=Pe(),e=cse().left,r=Bp(),n=Rd(),i=dse(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),rD}var by,lD;function fse(){if(lD)return by;lD=1,hse();var t=tn();return by=t("Array","reduce"),by}var wy,uD;function pse(){if(uD)return wy;uD=1;var t=Zt(),e=fse(),r=Array.prototype;return wy=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},wy}var xy,cD;function mse(){if(cD)return xy;cD=1;var t=pse();return xy=t,xy}var _y,dD;function vse(){return dD||(dD=1,_y=mse()),_y}var gse=vse(),yse=De(gse),hD={},fD;function bse(){if(fD)return hD;fD=1;var t=Pe(),e=_u().filter,r=$d(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),hD}var Sy,pD;function wse(){if(pD)return Sy;pD=1,bse();var t=tn();return Sy=t("Array","filter"),Sy}var Ey,mD;function xse(){if(mD)return Ey;mD=1;var t=Zt(),e=wse(),r=Array.prototype;return Ey=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Ey}var Oy,vD;function _se(){if(vD)return Oy;vD=1;var t=xse();return Oy=t,Oy}var Py,gD;function Sse(){return gD||(gD=1,Py=_se()),Py}var Ese=Sse(),il=De(Ese),yD={},bD;function Ose(){if(bD)return yD;bD=1;var t=Pe(),e=_u().map,r=$d(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),yD}var Cy,wD;function Pse(){if(wD)return Cy;wD=1,Ose();var t=tn();return Cy=t("Array","map"),Cy}var Ty,xD;function Cse(){if(xD)return Ty;xD=1;var t=Zt(),e=Pse(),r=Array.prototype;return Ty=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Ty}var Ny,_D;function Tse(){if(_D)return Ny;_D=1;var t=Cse();return Ny=t,Ny}var Iy,SD;function Nse(){return SD||(SD=1,Iy=Tse()),Iy}var Ise=Nse(),Wn=De(Ise),Ry,ED;function Rse(){return ED||(ED=1,Ry=LK()),Ry}var jse=Rse(),$se=De(jse),OD={},PD;function kse(){if(PD)return OD;PD=1;var t=Pe(),e=wo(),r=PK(),n=qr(),i=IT(),s=la(),a=_i(),o=kp(),l=tr(),u=$d(),c=xu(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),OD}var jy,CD;function Dse(){if(CD)return jy;CD=1,kse();var t=tn();return jy=t("Array","slice"),jy}var $y,TD;function qse(){if(TD)return $y;TD=1;var t=Zt(),e=Dse(),r=Array.prototype;return $y=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},$y}var ky,ND;function Mse(){if(ND)return ky;ND=1;var t=qse();return ky=t,ky}var Dy,ID;function Fse(){return ID||(ID=1,Dy=Mse()),Dy}var Ase=Fse(),Lse=De(Ase),RD={},qy,jD;function VK(){if(jD)return qy;jD=1;var t=mn(),e=Ye(),r=Mp(),n=Fp(),i=os(),s=e([].concat);return qy=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},qy}var $D;function Bse(){if($D)return RD;$D=1;var t=Pe(),e=VK();return t({target:"Reflect",stat:!0},{ownKeys:e}),RD}var My,kD;function zse(){if(kD)return My;kD=1,Bse();var t=Ht();return My=t.Reflect.ownKeys,My}var Fy,DD;function Use(){if(DD)return Fy;DD=1;var t=zse();return Fy=t,Fy}var Ay,qD;function Wse(){return qD||(qD=1,Ay=Use()),Ay}var Hse=Wse(),Vse=De(Hse),MD={},FD;function Kse(){if(FD)return MD;FD=1;var t=Pe(),e=wo();return t({target:"Array",stat:!0},{isArray:e}),MD}var Ly,AD;function Gse(){if(AD)return Ly;AD=1,Kse();var t=Ht();return Ly=t.Array.isArray,Ly}var By,LD;function Yse(){if(LD)return By;LD=1;var t=Gse();return By=t,By}var zy,BD;function Qse(){return BD||(BD=1,zy=Yse()),zy}var Xse=Qse(),li=De(Xse),zD={},UD;function Jse(){if(UD)return zD;UD=1;var t=Pe(),e=ri(),r=Dp(),n=He(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),zD}var Uy,WD;function Zse(){if(WD)return Uy;WD=1,Jse();var t=Ht();return Uy=t.Object.keys,Uy}var Wy,HD;function eae(){if(HD)return Wy;HD=1;var t=Zse();return Wy=t,Wy}var Hy,VD;function tae(){return VD||(VD=1,Hy=eae()),Hy}var rae=tae(),qT=De(rae),KD={},Vy,GD;function nae(){if(GD)return Vy;GD=1;var t=_u().forEach,e=Bp(),r=e("forEach");return Vy=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Vy}var YD;function iae(){if(YD)return KD;YD=1;var t=Pe(),e=nae();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),KD}var Ky,QD;function sae(){if(QD)return Ky;QD=1,iae();var t=tn();return Ky=t("Array","forEach"),Ky}var Gy,XD;function aae(){if(XD)return Gy;XD=1;var t=sae();return Gy=t,Gy}var Yy,JD;function oae(){if(JD)return Yy;JD=1;var t=ua(),e=er(),r=Zt(),n=aae(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Yy=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Yy}var Qy,ZD;function lae(){return ZD||(ZD=1,Qy=oae()),Qy}var uae=lae(),oo=De(uae),eq={},tq;function cae(){if(tq)return eq;tq=1;var t=Pe(),e=Ye(),r=wo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),eq}var Xy,rq;function dae(){if(rq)return Xy;rq=1,cae();var t=tn();return Xy=t("Array","reverse"),Xy}var Jy,nq;function hae(){if(nq)return Jy;nq=1;var t=Zt(),e=dae(),r=Array.prototype;return Jy=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Jy}var Zy,iq;function fae(){if(iq)return Zy;iq=1;var t=hae();return Zy=t,Zy}var eb,sq;function pae(){return sq||(sq=1,eb=fae()),eb}var mae=pae(),vae=De(mae),aq={},tb,oq;function gae(){if(oq)return tb;oq=1;var t=Ft(),e=wo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return tb=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},tb}var rb,lq;function KK(){if(lq)return rb;lq=1;var t=vu(),e=TypeError;return rb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},rb}var uq;function yae(){if(uq)return aq;uq=1;var t=Pe(),e=ri(),r=IT(),n=wu(),i=la(),s=gae(),a=OK(),o=NT(),l=kp(),u=KK(),c=$d(),h=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),aq}var nb,cq;function bae(){if(cq)return nb;cq=1,yae();var t=tn();return nb=t("Array","splice"),nb}var ib,dq;function wae(){if(dq)return ib;dq=1;var t=Zt(),e=bae(),r=Array.prototype;return ib=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},ib}var sb,hq;function xae(){if(hq)return sb;hq=1;var t=wae();return sb=t,sb}var ab,fq;function _ae(){return fq||(fq=1,ab=xae()),ab}var Sae=_ae(),GK=De(Sae),pq={},ob,mq;function Eae(){if(mq)return ob;mq=1;var t=Ft(),e=Ye(),r=en(),n=He(),i=Dp(),s=Fp(),a=ET(),o=ri(),l=Ip(),u=Object.assign,c=Object.defineProperty,h=e([].concat);return ob=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,ob}var vq;function Oae(){if(vq)return pq;vq=1;var t=Pe(),e=Eae();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),pq}var lb,gq;function Pae(){if(gq)return lb;gq=1,Oae();var t=Ht();return lb=t.Object.assign,lb}var ub,yq;function Cae(){if(yq)return ub;yq=1;var t=Pae();return ub=t,ub}var cb,bq;function Tae(){return bq||(bq=1,cb=Cae()),cb}var Nae=Tae(),Iae=De(Nae),db,wq;function Rae(){if(wq)return db;wq=1,CK();var t=tn();return db=t("Array","concat"),db}var hb,xq;function jae(){if(xq)return hb;xq=1;var t=Zt(),e=Rae(),r=Array.prototype;return hb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},hb}var fb,_q;function $ae(){if(_q)return fb;_q=1;var t=jae();return fb=t,fb}var pb,Sq;function kae(){return Sq||(Sq=1,pb=$ae()),pb}var Dae=kae(),qae=De(Dae),Eq={},Oq;function Mae(){if(Oq)return Eq;Oq=1;var t=Pe(),e=Ft(),r=Dd();return t({target:"Object",stat:!0,sham:!e},{create:r}),Eq}var mb,Pq;function Fae(){if(Pq)return mb;Pq=1,Mae();var t=Ht(),e=t.Object;return mb=function(n,i){return e.create(n,i)},mb}var vb,Cq;function Aae(){if(Cq)return vb;Cq=1;var t=Fae();return vb=t,vb}var gb,Tq;function Lae(){return Tq||(Tq=1,gb=Aae()),gb}var Bae=Lae(),zae=De(Bae),Nq={},yb,Iq;function Uae(){if(Iq)return yb;Iq=1;var t=wu(),e=ca(),r=bo(),n=RangeError;return yb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},yb}var bb,Rq;function Wae(){if(Rq)return bb;Rq=1;var t=Ye(),e=EK(),r=ca(),n=Uae(),i=bo(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(c,h,f){var p=r(i(c)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return bb={start:l(!1),end:l(!0)},bb}var wb,jq;function Hae(){if(jq)return wb;jq=1;var t=Ye(),e=He(),r=Wae().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),c=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return wb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=c(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,wb}var $q;function Vae(){if($q)return Nq;$q=1;var t=Pe(),e=en(),r=ri(),n=bK(),i=Hae(),s=ss(),a=He(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var c=r(this),h=n(c,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),Nq}var xb,kq;function Kae(){if(kq)return xb;kq=1,Vae(),jK();var t=Ht(),e=Np();return t.JSON||(t.JSON={stringify:JSON.stringify}),xb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},xb}var _b,Dq;function Gae(){if(Dq)return _b;Dq=1;var t=Kae();return _b=t,_b}var Sb,qq;function Yae(){return qq||(qq=1,Sb=Gae()),Sb}var Qae=Yae(),Xae=De(Qae),Mq={},Fq={},Eb,Aq;function Jae(){if(Aq)return Eb;Aq=1;var t=TypeError;return Eb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Eb}var Ob,Lq;function YK(){if(Lq)return Ob;Lq=1;var t=Mt(),e=Np(),r=Jt(),n=HK(),i=pu(),s=xu(),a=Jae(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Ob=function(u,c){var h=c?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return c?u(g,p):u(g)}:u},Ob}var Bq;function Zae(){if(Bq)return Fq;Bq=1;var t=Pe(),e=Mt(),r=YK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Fq}var zq={},Uq;function eoe(){if(Uq)return zq;Uq=1;var t=Pe(),e=Mt(),r=YK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),zq}var Wq;function toe(){return Wq||(Wq=1,Zae(),eoe()),Mq}var Pb,Hq;function roe(){if(Hq)return Pb;Hq=1,toe();var t=Ht();return Pb=t.setTimeout,Pb}var Cb,Vq;function noe(){return Vq||(Vq=1,Cb=roe()),Cb}var ioe=noe(),soe=De(ioe),Tb={exports:{}},Kq;function aoe(){return Kq||(Kq=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Tb)),Tb.exports}var ooe=aoe(),loe=De(ooe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Jn(){return Jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jn.apply(this,arguments)}function $n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function $h(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var UP;typeof Object.assign!="function"?UP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:UP=Object.assign;var lo=UP,Gq=["","webkit","Moz","MS","ms","o"],uoe=typeof document>"u"?{style:{}}:document.createElement("div"),coe="function",sl=Math.round,uo=Math.abs,MT=Date.now;function zp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Gq.length;){if(r=Gq[s],n=r?r+i:e,n in t)return n;s++}}var Ai;typeof window>"u"?Ai={}:Ai=window;var QK=zp(uoe.style,"touchAction"),XK=QK!==void 0;function doe(){if(!XK)return!1;var t={},e=Ai.CSS&&Ai.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Ai.CSS.supports("touch-action",r):!0}),t}var JK="compute",ZK="auto",WP="manipulation",Wa="none",Jc="pan-x",Zc="pan-y",kh=doe(),hoe=/mobile|tablet|ip(ad|hone|od)|android/i,e9="ontouchstart"in Ai,foe=zp(Ai,"PointerEvent")!==void 0,poe=e9&&hoe.test(navigator.userAgent),Fd="touch",moe="pen",FT="mouse",voe="kinect",goe=25,jr=1,_o=2,kt=4,Xr=8,Uf=1,Ad=2,Ld=4,Bd=8,Ql=16,wi=Ad|Ld,Ha=Bd|Ql,t9=wi|Ha,r9=["x","y"],Wf=["clientX","clientY"];function Li(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Up(t,e){return typeof t===coe?t.apply(e&&e[0]||void 0,e):t}function Ca(t,e){return t.indexOf(e)>-1}function yoe(t){if(Ca(t,Wa))return Wa;var e=Ca(t,Jc),r=Ca(t,Zc);return e&&r?Wa:e||r?e?Jc:Zc:Ca(t,WP)?WP:ZK}var n9=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===JK&&(n=this.compute()),XK&&this.manager.element.style&&kh[n]&&(this.manager.element.style[QK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Li(this.manager.recognizers,function(i){Up(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),yoe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ca(a,Wa)&&!kh[Wa],l=Ca(a,Zc)&&!kh[Zc],u=Ca(a,Jc)&&!kh[Jc];if(o){var c=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(c&&h&&f)return}if(!(u&&l)&&(o||l&&s&wi||u&&s&Ha))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function AT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function i9(t){var e=t.length;if(e===1)return{x:sl(t[0].clientX),y:sl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:sl(r/e),y:sl(n/e)}}function Yq(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:sl(t.pointers[r].clientX),clientY:sl(t.pointers[r].clientY)},r++;return{timeStamp:MT(),pointers:e,center:i9(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Hf(t,e,r){r||(r=r9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function HP(t,e,r){r||(r=r9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function s9(t,e){return t===e?Uf:uo(t)>=uo(e)?t<0?Ad:Ld:e<0?Bd:Ql}function boe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===jr||s.eventType===kt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function a9(t,e,r){return{x:e/t||0,y:r/t||0}}function woe(t,e){return Hf(e[0],e[1],Wf)/Hf(t[0],t[1],Wf)}function xoe(t,e){return HP(e[1],e[0],Wf)+HP(t[1],t[0],Wf)}function _oe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Xr&&(n>goe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=a9(n,l,u);s=c.x,a=c.y,i=uo(c.x)>uo(c.y)?c.x:c.y,o=s9(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Soe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Yq(e)),i>1&&!r.firstMultiple?r.firstMultiple=Yq(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=i9(n);e.timeStamp=MT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=HP(o,l),e.distance=Hf(o,l),boe(r,e),e.offsetDirection=s9(e.deltaX,e.deltaY);var u=a9(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=uo(u.x)>uo(u.y)?u.x:u.y,e.scale=a?woe(a.pointers,n):1,e.rotation=a?xoe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,_oe(r,e);var c=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,AT(f,c)&&(c=f),e.target=c}function Eoe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&jr&&n-i===0,a=e&(kt|Xr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Soe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function ed(t){return t.trim().split(/\s+/g)}function xc(t,e,r){Li(ed(e),function(n){t.addEventListener(n,r,!1)})}function _c(t,e,r){Li(ed(e),function(n){t.removeEventListener(n,r,!1)})}function Qq(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Eu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Up(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&xc(this.element,this.evEl,this.domHandler),this.evTarget&&xc(this.target,this.evTarget,this.domHandler),this.evWin&&xc(Qq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&_c(this.element,this.evEl,this.domHandler),this.evTarget&&_c(this.target,this.evTarget,this.domHandler),this.evWin&&_c(Qq(this.element),this.evWin,this.domHandler)},t}();function co(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Ooe={pointerdown:jr,pointermove:_o,pointerup:kt,pointercancel:Xr,pointerout:Xr},Poe={2:Fd,3:moe,4:FT,5:voe},o9="pointerdown",l9="pointermove pointerup pointercancel";Ai.MSPointerEvent&&!Ai.PointerEvent&&(o9="MSPointerDown",l9="MSPointerMove MSPointerUp MSPointerCancel");var u9=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=o9,i.evWin=l9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Ooe[o],u=Poe[i.pointerType]||i.pointerType,c=u===Fd,h=co(s,i.pointerId,"pointerId");l&jr&&(i.button===0||c)?h<0&&(s.push(i),h=s.length-1):l&(kt|Xr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Eu);function td(t){return Array.prototype.slice.call(t,0)}function LT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];co(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Coe={touchstart:jr,touchmove:_o,touchend:kt,touchcancel:Xr},Toe="touchstart touchmove touchend touchcancel",BT=function(t){$n(e,t);function e(){var n;return e.prototype.evTarget=Toe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Coe[i.type],a=Noe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Fd,srcEvent:i})},e}(Eu);function Noe(t,e){var r=td(t.touches),n=this.targetIds;if(e&(jr|_o)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=td(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return AT(u.target,l)}),e===jr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(kt|Xr)&&delete n[a[i].identifier],i++;if(o.length)return[LT(s.concat(o),"identifier",!0),o]}var Ioe={mousedown:jr,mousemove:_o,mouseup:kt},Roe="mousedown",joe="mousemove mouseup",zT=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=Roe,i.evWin=joe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Ioe[i.type];s&jr&&i.button===0&&(this.pressed=!0),s&_o&&i.which!==1&&(s=kt),this.pressed&&(s&kt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:FT,srcEvent:i}))},e}(Eu),$oe=2500,Xq=25;function Jq(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,$oe)}}function koe(t,e){t&jr?(this.primaryTouch=e.changedPointers[0].identifier,Jq.call(this,e)):t&(kt|Xr)&&Jq.call(this,e)}function Doe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=Xq&&a<=Xq)return!0}return!1}var c9=function(){var t=function(e){$n(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var c=u.pointerType===Fd,h=u.pointerType===FT;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)koe.call($h($h(a)),l,u);else if(h&&Doe.call($h($h(a)),u))return;a.callback(o,l,u)}},a.touch=new BT(a.manager,a.handler),a.mouse=new zT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Eu);return t}();function qoe(t){var e,r=t.options.inputClass;return r?e=r:foe?e=u9:poe?e=BT:e9?e=c9:e=zT,new e(t,Eoe)}function al(t,e,r){return Array.isArray(t)?(Li(t,r[e],r),!0):!1}var nf=1,Tn=2,Xl=4,Ks=8,Bi=Ks,rd=16,mi=32,Moe=1;function Foe(){return Moe++}function Dh(t,e){var r=e.manager;return r?r.get(t):t}function Zq(t){return t&rd?"cancel":t&Ks?"end":t&Xl?"move":t&Tn?"start":""}var zd=function(){function t(r){r===void 0&&(r={}),this.options=Jn({enable:!0},r),this.id=Foe(),this.manager=null,this.state=nf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return lo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(al(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Dh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return al(n,"dropRecognizeWith",this)?this:(n=Dh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(al(n,"requireFailure",this))return this;var i=this.requireFail;return n=Dh(n,this),co(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(al(n,"dropRequireFailure",this))return this;n=Dh(n,this);var i=co(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Ks&&a(i.options.event+Zq(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Ks&&a(i.options.event+Zq(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=mi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(mi|nf)))return!1;n++}return!0},e.recognize=function(n){var i=lo({},n);if(!Up(this.options.enable,[this,i])){this.reset(),this.state=mi;return}this.state&(Bi|rd|mi)&&(this.state=nf),this.state=this.process(i),this.state&(Tn|Xl|Ks|rd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),VP=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[WP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&jr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==kt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Hf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Bi,s.tryEmit()},a.interval),Tn):Bi}return mi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=mi},this.options.interval),mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Bi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(zd),Jl=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Tn|Xl),l=this.attrTest(i);return o&&(a&Xr||!l)?s|rd:o||l?a&kt?s|Ks:s&Tn?s|Xl:Tn:mi},e}(zd);function d9(t){return t===Ql?"down":t===Bd?"up":t===Ad?"left":t===Ld?"right":""}var UT=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"pan",threshold:10,pointers:1,direction:t9},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&wi&&s.push(Zc),i&Ha&&s.push(Jc),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&wi?(l=u===0?Uf:u<0?Ad:Ld,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=c===0?Uf:c<0?Bd:Ql,a=c!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return Jl.prototype.attrTest.call(this,i)&&(this.state&Tn||!(this.state&Tn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=d9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Jl),h9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"swipe",threshold:10,velocity:.3,direction:wi|Ha,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return UT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(wi|Ha)?a=i.overallVelocity:s&wi?a=i.overallVelocityX:s&Ha&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&uo(a)>this.options.velocity&&i.eventType&kt},r.emit=function(i){var s=d9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Jl),f9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Wa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Tn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Jl),p9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Wa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Tn)},e}(Jl),m9=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[ZK]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(kt|Xr)&&!u)this.reset();else if(i.eventType&jr)this.reset(),this._timer=setTimeout(function(){s.state=Bi,s.tryEmit()},a.time);else if(i.eventType&kt)return Bi;return mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Bi&&(i&&i.eventType&kt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=MT(),this.manager.emit(this.options.event,this._input)))},e}(zd),v9={domEvents:!1,touchAction:JK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},eM=[[p9,{enable:!1}],[f9,{enable:!1},["rotate"]],[h9,{direction:wi}],[UT,{direction:wi},["swipe"]],[VP],[VP,{event:"doubletap",taps:2},["tap"]],[m9]],Aoe=1,tM=2;function rM(t,e){var r=t.element;if(r.style){var n;Li(t.options.cssProps,function(i,s){n=zp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Loe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var nM=function(){function t(r,n){var i=this;this.options=lo({},v9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=qoe(this),this.touchAction=new n9(this,this.options.touchAction),rM(this,!0),Li(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return lo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?tM:Aoe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Bi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==tM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Tn|Xl|Ks)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof zd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(al(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(al(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=co(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Li(ed(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Li(ed(n),function(a){i?s[a]&&s[a].splice(co(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Loe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&rM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Boe={touchstart:jr,touchmove:_o,touchend:kt,touchcancel:Xr},zoe="touchstart",Uoe="touchstart touchmove touchend touchcancel",Woe=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evTarget=zoe,i.evWin=Uoe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Boe[i.type];if(s===jr&&(this.started=!0),!!this.started){var a=Hoe.call(this,i,s);s&(kt|Xr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Fd,srcEvent:i})}},e}(Eu);function Hoe(t,e){var r=td(t.touches),n=td(t.changedTouches);return e&(kt|Xr)&&(r=LT(r.concat(n),"identifier",!0)),[r,n]}function g9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var y9=g9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Voe=g9(function(t,e){return y9(t,e,!0)},"merge","Use `assign`.");function Koe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&lo(i,r)}function iM(t,e){return function(){return t.apply(e,arguments)}}var Goe=function(){var t=function(r,n){return n===void 0&&(n={}),new nM(r,Jn({recognizers:eM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=t9,t.DIRECTION_DOWN=Ql,t.DIRECTION_LEFT=Ad,t.DIRECTION_RIGHT=Ld,t.DIRECTION_UP=Bd,t.DIRECTION_HORIZONTAL=wi,t.DIRECTION_VERTICAL=Ha,t.DIRECTION_NONE=Uf,t.DIRECTION_DOWN=Ql,t.INPUT_START=jr,t.INPUT_MOVE=_o,t.INPUT_END=kt,t.INPUT_CANCEL=Xr,t.STATE_POSSIBLE=nf,t.STATE_BEGAN=Tn,t.STATE_CHANGED=Xl,t.STATE_ENDED=Ks,t.STATE_RECOGNIZED=Bi,t.STATE_CANCELLED=rd,t.STATE_FAILED=mi,t.Manager=nM,t.Input=Eu,t.TouchAction=n9,t.TouchInput=BT,t.MouseInput=zT,t.PointerEventInput=u9,t.TouchMouseInput=c9,t.SingleTouchInput=Woe,t.Recognizer=zd,t.AttrRecognizer=Jl,t.Tap=VP,t.Pan=UT,t.Swipe=h9,t.Pinch=f9,t.Rotate=p9,t.Press=m9,t.on=xc,t.off=_c,t.each=Li,t.merge=Voe,t.extend=y9,t.bindFn=iM,t.assign=lo,t.inherit=Koe,t.bindFn=iM,t.prefixed=zp,t.toArray=td,t.inArray=co,t.uniqueArray=LT,t.splitStr=ed,t.boolOrFn=Up,t.hasParent=AT,t.addEventListeners=xc,t.removeEventListeners=_c,t.defaults=lo({},v9,{preset:eM}),t}();const b9=$se("DELETE");function Yoe(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return w9({},t,...r)}function w9(){const t=Vf(...arguments);return _9(t),t}function Vf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Vf(w9(e[0],e[1]),...Lse(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Vse(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===b9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!li(n[s])&&!li(i[s])?n[s]=Vf(n[s],i[s]):n[s]=x9(i[s]));return n}function x9(t){return li(t)?Wn(t).call(t,e=>x9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Vf({},t):t}function _9(t){for(const e of qT(t))t[e]===b9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&_9(t[e])}function Qoe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Xoe=typeof window<"u"?window.Hammer||Goe:function(){return Qoe()};function Di(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Xoe(this._dom.overlay);r.on("tap",WK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];oo(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Joe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}loe(Di.prototype);Di.current=null;Di.prototype.destroy=function(){this.deactivate();for(const r of vae(t=GK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Di.prototype.activate=function(){Di.current&&Di.current.deactivate(),Di.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Di.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Di.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Joe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Nb,sM;function Zoe(){if(sM)return Nb;sM=1,$K();var t=Ht();return Nb=t.Object.getOwnPropertySymbols,Nb}var Ib,aM;function ele(){if(aM)return Ib;aM=1;var t=Zoe();return Ib=t,Ib}var Rb,oM;function tle(){return oM||(oM=1,Rb=ele()),Rb}var rle=tle(),lM=De(rle),jb={exports:{}},uM={},cM;function nle(){if(cM)return uM;cM=1;var t=Pe(),e=He(),r=_i(),n=jp().f,i=Ft(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),uM}var dM;function ile(){if(dM)return jb.exports;dM=1,nle();var t=Ht(),e=t.Object,r=jb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),jb.exports}var $b,hM;function sle(){if(hM)return $b;hM=1;var t=ile();return $b=t,$b}var kb,fM;function ale(){return fM||(fM=1,kb=sle()),kb}var ole=ale(),S9=De(ole),pM={},mM;function lle(){if(mM)return pM;mM=1;var t=Pe(),e=Ft(),r=VK(),n=_i(),i=jp(),s=kp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,c=r(l),h={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(h,p,m);return h}}),pM}var Db,vM;function ule(){if(vM)return Db;vM=1,lle();var t=Ht();return Db=t.Object.getOwnPropertyDescriptors,Db}var qb,gM;function cle(){if(gM)return qb;gM=1;var t=ule();return qb=t,qb}var Mb,yM;function dle(){return yM||(yM=1,Mb=cle()),Mb}var hle=dle(),bM=De(hle),Fb={exports:{}},wM={},xM;function fle(){if(xM)return wM;xM=1;var t=Pe(),e=Ft(),r=jT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),wM}var _M;function ple(){if(_M)return Fb.exports;_M=1,fle();var t=Ht(),e=t.Object,r=Fb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Fb.exports}var Ab,SM;function mle(){if(SM)return Ab;SM=1;var t=ple();return Ab=t,Ab}var Lb,EM;function vle(){return EM||(EM=1,Lb=mle()),Lb}var gle=vle(),yle=De(gle),Bb,OM;function ble(){return OM||(OM=1,Bb=SK()),Bb}var wle=ble(),xle=De(wle),PM={},CM={},zb={exports:{}},Ub,TM;function _le(){if(TM)return Ub;TM=1;var t=He();return Ub=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Ub}var Wb,NM;function Sle(){if(NM)return Wb;NM=1;var t=He(),e=qr(),r=ss(),n=_le(),i=Object.isExtensible,s=t(function(){});return Wb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Wb}var Hb,IM;function Ele(){if(IM)return Hb;IM=1;var t=He();return Hb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Hb}var RM;function E9(){if(RM)return zb.exports;RM=1;var t=Pe(),e=Ye(),r=kd(),n=qr(),i=er(),s=jn().f,a=Mp(),o=NK(),l=Sle(),u=Rp(),c=Ele(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return c&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=zb.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,zb.exports}var Vb,jM;function Ole(){if(jM)return Vb;jM=1;var t=tr(),e=Su(),r=t("iterator"),n=Array.prototype;return Vb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Vb}var Kb,$M;function O9(){if($M)return Kb;$M=1;var t=ua(),e=OT(),r=Id(),n=Su(),i=tr(),s=i("iterator");return Kb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Kb}var Gb,kM;function P9(){if(kM)return Gb;kM=1;var t=en(),e=as(),r=os(),n=vu(),i=O9(),s=TypeError;return Gb=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Gb}var Yb,DM;function WT(){if(DM)return Yb;DM=1;var t=en(),e=os(),r=OT();return Yb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},Yb}var Qb,qM;function HT(){if(qM)return Qb;qM=1;var t=$p(),e=en(),r=os(),n=vu(),i=Ole(),s=la(),a=Zt(),o=P9(),l=O9(),u=WT(),c=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Qb=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,T,N=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),w?_(B[0],B[1],N):_(B[0],B[1])):w?_(B,N):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(T=e(I,E)).done;){try{C=q(T.value)}catch(B){u(E,"throw",B)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},Qb}var Xb,MM;function C9(){if(MM)return Xb;MM=1;var t=Zt(),e=TypeError;return Xb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Xb}var Jb,FM;function T9(){if(FM)return Jb;FM=1;var t=Pe(),e=Mt(),r=E9(),n=He(),i=bu(),s=HT(),a=C9(),o=Jt(),l=qr(),u=Id(),c=xo(),h=jn().f,f=_u().forEach,p=Ft(),m=Md(),y=m.set,b=m.getterFor;return Jb=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(N,q){y(a(N,I),{type:g,collection:new O}),u(q)||s(q,N[E],{that:N,AS_ENTRIES:w})});var I=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var q=N==="add"||N==="set";N in S&&!(_&&N==="clear")&&i(I,N,function(B,re){var Y=T(this).collection;if(!q&&_&&!l(B))return N==="get"?void 0:!1;var L=Y[N](B===0?0:B,re);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return c(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},Jb}var Zb,AM;function Ple(){if(AM)return Zb;AM=1;var t=qd();return Zb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Zb}var e0,LM;function Cle(){if(LM)return e0;LM=1;var t=mn(),e=$T(),r=tr(),n=Ft(),i=r("species");return e0=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},e0}var t0,BM;function N9(){if(BM)return t0;BM=1;var t=Dd(),e=$T(),r=Ple(),n=$p(),i=C9(),s=Id(),a=HT(),o=kT(),l=DT(),u=Cle(),c=Ft(),h=E9().fastKey,f=Md(),p=f.set,m=f.getterFor;return t0={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),T=O(S,P),N,q;return T?T.value=C:(I.last=T={index:q=h(P,!0),key:P,value:C,previous:N=I.last,next:null,removed:!1},I.first||(I.first=T),N&&(N.next=T),c?I.size++:S.size++,q!=="F"&&(I.index[q]=T)),S},O=function(S,P){var C=_(S),I=h(P),T;if(I!=="F")return C.index[I];for(T=C.first;T;T=T.next)if(T.key===P)return T};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),c?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var T=I.next,N=I.previous;delete C.index[I.index],I.removed=!0,N&&(N.next=T),T&&(T.previous=N),C.first===I&&(C.first=T),C.last===I&&(C.last=N),c?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(I(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),c&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},t0}var zM;function Tle(){if(zM)return CM;zM=1;var t=T9(),e=N9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),CM}var UM;function Nle(){return UM||(UM=1,Tle()),PM}var WM={},r0,HM;function I9(){return HM||(HM=1,r0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),r0}var n0,VM;function Ile(){if(VM)return n0;VM=1;var t=mn(),e=I9(),r=t("Map");return n0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},n0}var KM;function Rle(){if(KM)return WM;KM=1;var t=Pe(),e=Ye(),r=as(),n=bo(),i=HT(),s=Ile(),a=gu(),o=He(),l=s.Map,u=s.has,c=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(c(g,w),x):h(g,w,[x])}),g}}),WM}var i0,GM;function jle(){if(GM)return i0;GM=1,da(),Nle(),Rle(),Lp();var t=Ht();return i0=t.Map,i0}var s0,YM;function $le(){if(YM)return s0;YM=1;var t=jle();return ha(),s0=t,s0}var a0,QM;function kle(){return QM||(QM=1,a0=$le()),a0}var Dle=kle(),R9=De(Dle),XM={},JM;function qle(){if(JM)return XM;JM=1;var t=Pe(),e=_u().some,r=Bp(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),XM}var o0,ZM;function Mle(){if(ZM)return o0;ZM=1,qle();var t=tn();return o0=t("Array","some"),o0}var l0,eF;function Fle(){if(eF)return l0;eF=1;var t=Zt(),e=Mle(),r=Array.prototype;return l0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},l0}var u0,tF;function Ale(){if(tF)return u0;tF=1;var t=Fle();return u0=t,u0}var c0,rF;function Lle(){return rF||(rF=1,c0=Ale()),c0}var Ble=Lle(),zle=De(Ble),d0,nF;function Ule(){if(nF)return d0;nF=1,da();var t=tn();return d0=t("Array","keys"),d0}var h0,iF;function Wle(){if(iF)return h0;iF=1;var t=Ule();return h0=t,h0}var f0,sF;function Hle(){if(sF)return f0;sF=1,ha();var t=ua(),e=er(),r=Zt(),n=Wle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return f0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},f0}var p0,aF;function Vle(){return aF||(aF=1,p0=Hle()),p0}var Kle=Vle(),zo=De(Kle),oF={},m0,lF;function Gle(){if(lF)return m0;lF=1;var t=xu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),c=r(t(n,0,u),i),h=r(t(n,u),i),f=c.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(c[m],h[y])<=0?c[m++]:h[y++]:m<f?c[m++]:h[y++];return n};return m0=r,m0}var v0,uF;function Yle(){if(uF)return v0;uF=1;var t=pu(),e=t.match(/firefox\/(\d+)/i);return v0=!!e&&+e[1],v0}var g0,cF;function Qle(){if(cF)return g0;cF=1;var t=pu();return g0=/MSIE|Trident/.test(t),g0}var y0,dF;function Xle(){if(dF)return y0;dF=1;var t=pu(),e=t.match(/AppleWebKit\/(\d+)\./);return y0=!!e&&+e[1],y0}var hF;function Jle(){if(hF)return oF;hF=1;var t=Pe(),e=Ye(),r=as(),n=ri(),i=la(),s=KK(),a=ca(),o=He(),l=Gle(),u=Bp(),c=Yle(),h=Qle(),f=Rd(),p=Xle(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(c&&c>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(T,N){return N.v-T.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),T,N;for(N=0;N<I;N++)N in P&&b(C,P[N]);for(l(C,E(S)),T=i(C),N=0;N<T;)P[N]=C[N++];for(;N<I;)s(P,N++);return P}}),oF}var b0,fF;function Zle(){if(fF)return b0;fF=1,Jle();var t=tn();return b0=t("Array","sort"),b0}var w0,pF;function eue(){if(pF)return w0;pF=1;var t=Zt(),e=Zle(),r=Array.prototype;return w0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},w0}var x0,mF;function tue(){if(mF)return x0;mF=1;var t=eue();return x0=t,x0}var _0,vF;function rue(){return vF||(vF=1,_0=tue()),_0}var nue=rue(),KP=De(nue),S0,gF;function iue(){if(gF)return S0;gF=1,da();var t=tn();return S0=t("Array","values"),S0}var E0,yF;function sue(){if(yF)return E0;yF=1;var t=iue();return E0=t,E0}var O0,bF;function aue(){if(bF)return O0;bF=1,ha();var t=ua(),e=er(),r=Zt(),n=sue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return O0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},O0}var P0,wF;function oue(){return wF||(wF=1,P0=aue()),P0}var lue=oue(),xF=De(lue),C0,_F;function uue(){return _F||(_F=1,C0=UK()),C0}var cue=uue(),ol=De(cue),T0,SF;function due(){if(SF)return T0;SF=1,da();var t=tn();return T0=t("Array","entries"),T0}var N0,EF;function hue(){if(EF)return N0;EF=1;var t=due();return N0=t,N0}var I0,OF;function fue(){if(OF)return I0;OF=1,ha();var t=ua(),e=er(),r=Zt(),n=hue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return I0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},I0}var R0,PF;function pue(){return PF||(PF=1,R0=fue()),R0}var mue=pue(),vue=De(mue);const ir=[];for(let t=0;t<256;++t)ir.push((t+256).toString(16).slice(1));function gue(t,e=0){return(ir[t[e+0]]+ir[t[e+1]]+ir[t[e+2]]+ir[t[e+3]]+"-"+ir[t[e+4]]+ir[t[e+5]]+"-"+ir[t[e+6]]+ir[t[e+7]]+"-"+ir[t[e+8]]+ir[t[e+9]]+"-"+ir[t[e+10]]+ir[t[e+11]]+ir[t[e+12]]+ir[t[e+13]]+ir[t[e+14]]+ir[t[e+15]]).toLowerCase()}let j0;const yue=new Uint8Array(16);function bue(){if(!j0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");j0=crypto.getRandomValues.bind(crypto)}return j0(yue)}const wue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var CF={randomUUID:wue};function xue(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??bue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,gue(n)}function _ue(t,e,r){return CF.randomUUID&&!t?CF.randomUUID():xue(t)}function TF(t){return typeof t=="string"||typeof t=="number"}class VT{constructor(e){Vs(this,"_queue",[]),Vs(this,"_timeout",null),Vs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new VT(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=soe(()=>{this.flush()},this.delay))}flush(){var e,r;oo(e=GK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Kf{constructor(){Vs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Vs(this,"subscribe",Kf.prototype.on),Vs(this,"unsubscribe",Kf.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");oo(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=il(n=this._subscribers[e]).call(n,i=>i!==r)}}var NF={},IF={},RF;function Sue(){if(RF)return IF;RF=1;var t=T9(),e=N9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),IF}var jF;function Eue(){return jF||(jF=1,Sue()),NF}var $F={},$0,kF;function So(){if(kF)return $0;kF=1;var t=vu(),e=TypeError;return $0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},$0}var k0,DF;function Eo(){if(DF)return k0;DF=1;var t=mn(),e=I9(),r=t("Set"),n=r.prototype;return k0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},k0}var D0,qF;function Oo(){if(qF)return D0;qF=1;var t=en();return D0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},D0}var q0,MF;function Ud(){if(MF)return q0;MF=1;var t=Oo();return q0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},q0}var M0,FF;function KT(){if(FF)return M0;FF=1;var t=Eo(),e=Ud(),r=t.Set,n=t.add;return M0=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},M0}var F0,AF;function Wd(){return AF||(AF=1,F0=function(t){return t.size}),F0}var A0,LF;function Oue(){return LF||(LF=1,A0=function(t){return{iterator:t,next:t.next,done:!1}}),A0}var L0,BF;function Po(){if(BF)return L0;BF=1;var t=as(),e=os(),r=en(),n=wu(),i=Oue(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(c,h){this.set=c,this.size=l(h,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},L0=function(c){e(c);var h=+c.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(c,f)},L0}var B0,zF;function Pue(){if(zF)return B0;zF=1;var t=So(),e=Eo(),r=KT(),n=Wd(),i=Po(),s=Ud(),a=Oo(),o=e.has,l=e.remove;return B0=function(c){var h=t(this),f=i(c),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},B0}var z0,UF;function Co(){return UF||(UF=1,z0=function(){return!1}),z0}var WF;function Cue(){if(WF)return $F;WF=1;var t=Pe(),e=Pue(),r=He(),n=Co(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),$F}var HF={},U0,VF;function Tue(){if(VF)return U0;VF=1;var t=So(),e=Eo(),r=Wd(),n=Po(),i=Ud(),s=Oo(),a=e.Set,o=e.add,l=e.has;return U0=function(c){var h=t(this),f=n(c),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},U0}var KF;function Nue(){if(KF)return HF;KF=1;var t=Pe(),e=He(),r=Tue(),n=Co(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),HF}var GF={},W0,YF;function Iue(){if(YF)return W0;YF=1;var t=So(),e=Eo().has,r=Wd(),n=Po(),i=Ud(),s=Oo(),a=WT();return W0=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var h=c.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},W0}var QF;function Rue(){if(QF)return GF;QF=1;var t=Pe(),e=Iue(),r=Co(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),GF}var XF={},H0,JF;function jue(){if(JF)return H0;JF=1;var t=So(),e=Wd(),r=Ud(),n=Po();return H0=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},H0}var ZF;function $ue(){if(ZF)return XF;ZF=1;var t=Pe(),e=jue(),r=Co(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),XF}var eA={},V0,tA;function kue(){if(tA)return V0;tA=1;var t=So(),e=Eo().has,r=Wd(),n=Po(),i=Oo(),s=WT();return V0=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(h){if(!e(l,h))return s(c,"normal",!1)})!==!1},V0}var rA;function Due(){if(rA)return eA;rA=1;var t=Pe(),e=kue(),r=Co(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),eA}var nA={},K0,iA;function que(){if(iA)return K0;iA=1;var t=So(),e=Eo(),r=KT(),n=Po(),i=Oo(),s=e.add,a=e.has,o=e.remove;return K0=function(u){var c=t(this),h=n(u).getIterator(),f=r(c);return i(h,function(p){a(c,p)?o(f,p):s(f,p)}),f},K0}var G0,sA;function j9(){return sA||(sA=1,G0=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),G0}var aA;function Mue(){if(aA)return nA;aA=1;var t=Pe(),e=que(),r=j9(),n=Co(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),nA}var oA={},Y0,lA;function Fue(){if(lA)return Y0;lA=1;var t=So(),e=Eo().add,r=KT(),n=Po(),i=Oo();return Y0=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(c){e(u,c)}),u},Y0}var uA;function Aue(){if(uA)return oA;uA=1;var t=Pe(),e=Fue(),r=j9(),n=Co(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),oA}var Q0,cA;function Lue(){if(cA)return Q0;cA=1,da(),Eue(),Cue(),Nue(),Rue(),$ue(),Due(),Mue(),Aue(),Lp();var t=Ht();return Q0=t.Set,Q0}var X0,dA;function Bue(){if(dA)return X0;dA=1;var t=Lue();return ha(),X0=t,X0}var J0,hA;function zue(){return hA||(hA=1,J0=Bue()),J0}var Uue=zue(),Z0=De(Uue),e1,fA;function Wue(){if(fA)return e1;fA=1,da(),Lp();var t=P9();return e1=t,e1}var t1,pA;function Hue(){if(pA)return t1;pA=1;var t=Wue();return ha(),t1=t,t1}var r1,mA;function Vue(){if(mA)return r1;mA=1;var t=Hue();return r1=t,r1}var n1,vA;function Kue(){if(vA)return n1;vA=1;var t=Vue();return n1=t,n1}var i1,gA;function Gue(){return gA||(gA=1,i1=Kue()),i1}var s1,yA;function Yue(){return yA||(yA=1,s1=Gue()),s1}var Que=Yue(),a1=De(Que);class Ta{constructor(e){this._pairs=e}*[ol](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=zae(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new R9(this._pairs)}toIdSet(){return new Z0(this.toIdArray())}toItemSet(){return new Z0(this.toItemArray())}cache(){return new Ta([...this._pairs])}distinct(e){const r=new Z0;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ta({*[ol](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ta({*[ol](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=a1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=a1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ta({[ol]:()=>{var r;return a1(KP(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function bA(t,e){var r=qT(t);if(lM){var n=lM(t);e&&(n=il(n).call(n,function(i){return S9(t,i).enumerable})),r.push.apply(r,n)}return r}function wA(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?oo(r=bA(Object(i),!0)).call(r,function(s){Vs(t,s,i[s])}):bM?yle(t,bM(i)):oo(n=bA(Object(i))).call(n,function(s){xle(t,s,S9(i,s))})}return t}function Xue(t,e){return t[e]==null&&(t[e]=_ue()),t}class Zl extends Kf{get idProp(){return this._idProp}constructor(e,r){super(),Vs(this,"_queue",null),e&&!li(e)&&(r=e,e=[]),this._options=r||{},this._data=new R9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=VT.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(li(e)){const s=Wn(e).call(e,a=>a[this._idProp]);if(zle(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=u=>{const c=u[o];if(c!=null&&this._data.has(c)){const h=u,f=Iae({},this._data.get(c)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(li(e))for(let u=0,c=e.length;u<c;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:a};this._trigger("update",u,r)}return qae(n).call(n,i)}updateOnly(e,r){var n;li(e)||(e=[e]);const i=Wn(n=Wn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],u=Yoe(a,o);return this._data.set(l,u),{id:l,oldData:a,updatedData:u}});if(i.length){const s={items:Wn(i).call(i,a=>a.id),oldData:Wn(i).call(i,a=>a.oldData),data:Wn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;TF(e)?(n=e,s=r):li(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&il(s),l=[];let u,c,h;if(n!=null)u=this._data.get(n),u&&o&&!o(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!o||o(u))&&l.push(u);else{var f;c=[...zo(f=this._data).call(f)];for(let p=0,m=c.length;p<m;p++)h=c[p],u=this._data.get(h),u!=null&&(!o||o(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&il(e),i=e&&e.order,s=[...zo(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const c=s[l],h=this._data.get(c);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],c=this._data.get(u);c!=null&&n(c)&&a.push(c[this._idProp])}else if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const c=s[l];o.push(r.get(c))}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],c=r.get(u);c!=null&&a.push(c[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&il(r),i=this._data,s=[...zo(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const u=a[o],c=u[this._idProp];e(u,c)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&il(r),i=[],s=this._data,a=[...zo(s).call(s)];for(let o=0,l=a.length;o<l;o++){const u=a[o],c=this._data.get(u);c!=null&&(!n||n(c))&&i.push(e(c,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&yse(n=li(r)?r:qT(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;KP(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")KP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=li(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(TF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...zo(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of xF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of xF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...zo(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],c=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==c){h=!0;break}!h&&c!==void 0&&(i[s]=c,s++)}return i}_addItem(e){const r=Xue(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Xae(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,wA(wA({},n),e)),r}stream(e){if(e){const n=this._data;return new Ta({*[ol](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ta({[ol]:WK(r=vue(this._data)).call(r,this._data)})}}}function Jue(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof oo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function $9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof oo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Jue(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var xA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var _A={},ec,SA;function ut(){if(SA)return ec;SA=1;var t=function(e){return e&&e.Math===Math&&e};return ec=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof xA=="object"&&xA)||t(typeof ec=="object"&&ec)||function(){return this}()||Function("return this")(),ec}var o1,EA;function qe(){return EA||(EA=1,o1=function(t){try{return!!t()}catch{return!0}}),o1}var l1,OA;function Hd(){if(OA)return l1;OA=1;var t=qe();return l1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),l1}var u1,PA;function Wp(){if(PA)return u1;PA=1;var t=Hd(),e=Function.prototype,r=e.apply,n=e.call;return u1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),u1}var c1,CA;function Fe(){if(CA)return c1;CA=1;var t=Hd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return c1=t?n:function(i){return function(){return r.apply(i,arguments)}},c1}var d1,TA;function Si(){if(TA)return d1;TA=1;var t=Fe(),e=t({}.toString),r=t("".slice);return d1=function(n){return r(e(n),8,-1)},d1}var h1,NA;function GT(){if(NA)return h1;NA=1;var t=Si(),e=Fe();return h1=function(r){if(t(r)==="Function")return e(r)},h1}var f1,IA;function rr(){if(IA)return f1;IA=1;var t=typeof document=="object"&&document.all;return f1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},f1}var p1={},m1,RA;function Nt(){if(RA)return m1;RA=1;var t=qe();return m1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),m1}var v1,jA;function rn(){if(jA)return v1;jA=1;var t=Hd(),e=Function.prototype.call;return v1=t?e.bind(e):function(){return e.apply(e,arguments)},v1}var g1={},$A;function Hp(){if($A)return g1;$A=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return g1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,g1}var y1,kA;function Vd(){return kA||(kA=1,y1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),y1}var b1,DA;function Vp(){if(DA)return b1;DA=1;var t=Fe(),e=qe(),r=Si(),n=Object,i=t("".split);return b1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,b1}var w1,qA;function Ou(){return qA||(qA=1,w1=function(t){return t==null}),w1}var x1,MA;function ls(){if(MA)return x1;MA=1;var t=Ou(),e=TypeError;return x1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},x1}var _1,FA;function ni(){if(FA)return _1;FA=1;var t=Vp(),e=ls();return _1=function(r){return t(e(r))},_1}var S1,AA;function nr(){if(AA)return S1;AA=1;var t=rr();return S1=function(e){return typeof e=="object"?e!==null:t(e)},S1}var E1,LA;function Ve(){return LA||(LA=1,E1={}),E1}var O1,BA;function vn(){if(BA)return O1;BA=1;var t=Ve(),e=ut(),r=rr(),n=function(i){return r(i)?i:void 0};return O1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},O1}var P1,zA;function At(){if(zA)return P1;zA=1;var t=Fe();return P1=t({}.isPrototypeOf),P1}var C1,UA;function Pu(){if(UA)return C1;UA=1;var t=ut(),e=t.navigator,r=e&&e.userAgent;return C1=r?String(r):"",C1}var T1,WA;function Kd(){if(WA)return T1;WA=1;var t=ut(),e=Pu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),T1=o,T1}var N1,HA;function Cu(){if(HA)return N1;HA=1;var t=Kd(),e=qe(),r=ut(),n=r.String;return N1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),N1}var I1,VA;function k9(){if(VA)return I1;VA=1;var t=Cu();return I1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",I1}var R1,KA;function Gd(){if(KA)return R1;KA=1;var t=vn(),e=rr(),r=At(),n=k9(),i=Object;return R1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},R1}var j1,GA;function Tu(){if(GA)return j1;GA=1;var t=String;return j1=function(e){try{return t(e)}catch{return"Object"}},j1}var $1,YA;function us(){if(YA)return $1;YA=1;var t=rr(),e=Tu(),r=TypeError;return $1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},$1}var k1,QA;function YT(){if(QA)return k1;QA=1;var t=us(),e=Ou();return k1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},k1}var D1,XA;function Zue(){if(XA)return D1;XA=1;var t=rn(),e=rr(),r=nr(),n=TypeError;return D1=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},D1}var q1={exports:{}},M1,JA;function Nu(){return JA||(JA=1,M1=!0),M1}var F1,ZA;function ece(){if(ZA)return F1;ZA=1;var t=ut(),e=Object.defineProperty;return F1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},F1}var eL;function QT(){if(eL)return q1.exports;eL=1;var t=Nu(),e=ut(),r=ece(),n="__core-js_shared__",i=q1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),q1.exports}var A1,tL;function Iu(){if(tL)return A1;tL=1;var t=QT();return A1=function(e,r){return t[e]||(t[e]=r||{})},A1}var L1,rL;function gn(){if(rL)return L1;rL=1;var t=ls(),e=Object;return L1=function(r){return e(t(r))},L1}var B1,nL;function hr(){if(nL)return B1;nL=1;var t=Fe(),e=gn(),r=t({}.hasOwnProperty);return B1=Object.hasOwn||function(i,s){return r(e(i),s)},B1}var z1,iL;function Kp(){if(iL)return z1;iL=1;var t=Fe(),e=0,r=Math.random(),n=t(1.1.toString);return z1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},z1}var U1,sL;function Lt(){if(sL)return U1;sL=1;var t=ut(),e=Iu(),r=hr(),n=Kp(),i=Cu(),s=k9(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return U1=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},U1}var W1,aL;function D9(){if(aL)return W1;aL=1;var t=rn(),e=nr(),r=Gd(),n=YT(),i=Zue(),s=Lt(),a=TypeError,o=s("toPrimitive");return W1=function(l,u){if(!e(l)||r(l))return l;var c=n(l,o),h;if(c){if(u===void 0&&(u="default"),h=t(c,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},W1}var H1,oL;function XT(){if(oL)return H1;oL=1;var t=D9(),e=Gd();return H1=function(r){var n=t(r,"string");return e(n)?n:n+""},H1}var V1,lL;function q9(){if(lL)return V1;lL=1;var t=ut(),e=nr(),r=t.document,n=e(r)&&e(r.createElement);return V1=function(i){return n?r.createElement(i):{}},V1}var K1,uL;function M9(){if(uL)return K1;uL=1;var t=Nt(),e=qe(),r=q9();return K1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),K1}var cL;function Gp(){if(cL)return p1;cL=1;var t=Nt(),e=rn(),r=Hp(),n=Vd(),i=ni(),s=XT(),a=hr(),o=M9(),l=Object.getOwnPropertyDescriptor;return p1.f=t?l:function(c,h){if(c=i(c),h=s(h),o)try{return l(c,h)}catch{}if(a(c,h))return n(!e(r.f,c,h),c[h])},p1}var G1,dL;function tce(){if(dL)return G1;dL=1;var t=qe(),e=rr(),r=/#|\.prototype\./,n=function(l,u){var c=s[i(l)];return c===o?!0:c===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return G1=n,G1}var Y1,hL;function Yp(){if(hL)return Y1;hL=1;var t=GT(),e=us(),r=Hd(),n=t(t.bind);return Y1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Y1}var Q1={},X1,fL;function F9(){if(fL)return X1;fL=1;var t=Nt(),e=qe();return X1=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),X1}var J1,pL;function Ei(){if(pL)return J1;pL=1;var t=nr(),e=String,r=TypeError;return J1=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},J1}var mL;function kn(){if(mL)return Q1;mL=1;var t=Nt(),e=M9(),r=F9(),n=Ei(),i=XT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",c="writable";return Q1.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&c in m&&!m[c]){var y=o(f,p);y&&y[c]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Q1}var Z1,vL;function Ru(){if(vL)return Z1;vL=1;var t=Nt(),e=kn(),r=Vd();return Z1=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Z1}var ew,gL;function ye(){if(gL)return ew;gL=1;var t=ut(),e=Wp(),r=GT(),n=rr(),i=Gp().f,s=tce(),a=Ve(),o=Yp(),l=Ru(),u=hr(),c=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return ew=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,T;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(T=i(g,O),C=T&&T.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=c(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},ew}var tw,yL;function rce(){if(yL)return tw;yL=1;var t=Math.ceil,e=Math.floor;return tw=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},tw}var rw,bL;function ju(){if(bL)return rw;bL=1;var t=rce();return rw=function(e){var r=+e;return r!==r||r===0?0:t(r)},rw}var nw,wL;function Qp(){if(wL)return nw;wL=1;var t=ju(),e=Math.max,r=Math.min;return nw=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},nw}var iw,xL;function A9(){if(xL)return iw;xL=1;var t=ju(),e=Math.min;return iw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},iw}var sw,_L;function cs(){if(_L)return sw;_L=1;var t=A9();return sw=function(e){return t(e.length)},sw}var aw,SL;function JT(){if(SL)return aw;SL=1;var t=ni(),e=Qp(),r=cs(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var c=e(o,u),h;if(i&&a!==a){for(;u>c;)if(h=l[c++],h!==h)return!0}else for(;u>c;c++)if((i||c in l)&&l[c]===a)return i||c||0;return!i&&-1}};return aw={includes:n(!0),indexOf:n(!1)},aw}var ow,EL;function Yd(){return EL||(EL=1,ow={}),ow}var lw,OL;function L9(){if(OL)return lw;OL=1;var t=Fe(),e=hr(),r=ni(),n=JT().indexOf,i=Yd(),s=t([].push);return lw=function(a,o){var l=r(a),u=0,c=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(c,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(c,h)||s(c,h));return c},lw}var uw,PL;function ZT(){return PL||(PL=1,uw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),uw}var cw,CL;function Qd(){if(CL)return cw;CL=1;var t=L9(),e=ZT();return cw=Object.keys||function(n){return t(n,e)},cw}var dw={},TL;function Xp(){return TL||(TL=1,dw.f=Object.getOwnPropertySymbols),dw}var hw,NL;function nce(){if(NL)return hw;NL=1;var t=Nt(),e=Fe(),r=rn(),n=qe(),i=Qd(),s=Xp(),a=Hp(),o=gn(),l=Vp(),u=Object.assign,c=Object.defineProperty,h=e([].concat);return hw=!u||n(function(){if(t&&u({b:1},u(c({},"a",{enumerable:!0,get:function(){c(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,hw}var IL;function ice(){if(IL)return _A;IL=1;var t=ye(),e=nce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),_A}var fw,RL;function sce(){if(RL)return fw;RL=1,ice();var t=Ve();return fw=t.Object.assign,fw}var pw,jL;function ace(){if(jL)return pw;jL=1;var t=sce();return pw=t,pw}var mw,$L;function oce(){return $L||($L=1,mw=ace()),mw}var lce=oce(),Dt=Oe(lce),kL={},vw,DL;function $u(){if(DL)return vw;DL=1;var t=Fe();return vw=t([].slice),vw}var gw,qL;function uce(){if(qL)return gw;qL=1;var t=Fe(),e=us(),r=nr(),n=hr(),i=$u(),s=Hd(),a=Function,o=t([].concat),l=t([].join),u={},c=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return gw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?c(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},gw}var ML;function cce(){if(ML)return kL;ML=1;var t=ye(),e=uce();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),kL}var yw,FL;function fr(){if(FL)return yw;FL=1;var t=ut(),e=Ve();return yw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},yw}var bw,AL;function dce(){if(AL)return bw;AL=1,cce();var t=fr();return bw=t("Function","bind"),bw}var ww,LL;function hce(){if(LL)return ww;LL=1;var t=At(),e=dce(),r=Function.prototype;return ww=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},ww}var xw,BL;function fce(){if(BL)return xw;BL=1;var t=hce();return xw=t,xw}var _w,zL;function pce(){return zL||(zL=1,_w=fce()),_w}var mce=pce(),Z=Oe(mce);function eN(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function vce(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function gce(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function yce(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function bce(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function wce(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function B9(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function GP(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,u=r+i,c=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,c-a,r,c,r),t.bezierCurveTo(c+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,c+a,u,c,u),t.bezierCurveTo(c-a,u,e,h+o,e,h),t.closePath()}function z9(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,u=a/2*l,c=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+c,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+c,e,m),t.bezierCurveTo(e,m-c,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,m-c,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+c,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,y+c,e,y),t.lineTo(e,m)}function U9(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,u=l/o;let c=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;c>=.1;)m=+s[h++%a],m>c&&(m=c),p=Math.sqrt(m*m/(1+u*u)),p=o<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),c-=m,f=!f}function xce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const UL={circle:eN,dashedLine:U9,database:z9,diamond:wce,ellipse:GP,ellipse_vis:GP,hexagon:xce,roundRect:B9,square:vce,star:bce,triangle:gce,triangleDown:yce};function _ce(t){return Object.prototype.hasOwnProperty.call(UL,t)?UL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var Sw={exports:{}},WL;function Sce(){return WL||(WL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(Sw)),Sw.exports}var Ece=Sce(),W9=Oe(Ece),HL={},Ew,VL;function To(){if(VL)return Ew;VL=1;var t=Si();return Ew=Array.isArray||function(r){return t(r)==="Array"},Ew}var Ow,KL;function H9(){if(KL)return Ow;KL=1;var t=TypeError,e=9007199254740991;return Ow=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Ow}var Pw,GL;function Jp(){if(GL)return Pw;GL=1;var t=Nt(),e=kn(),r=Vd();return Pw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Pw}var Cw,YL;function tN(){if(YL)return Cw;YL=1;var t=Lt(),e=t("toStringTag"),r={};return r[e]="z",Cw=String(r)==="[object z]",Cw}var Tw,QL;function ku(){if(QL)return Tw;QL=1;var t=tN(),e=rr(),r=Si(),n=Lt(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Tw=t?r:function(l){var u,c,h;return l===void 0?"Undefined":l===null?"Null":typeof(c=o(u=s(l),i))=="string"?c:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Tw}var Nw,XL;function Oce(){if(XL)return Nw;XL=1;var t=Fe(),e=rr(),r=QT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Nw=r.inspectSource,Nw}var Iw,JL;function V9(){if(JL)return Iw;JL=1;var t=Fe(),e=qe(),r=rr(),n=ku(),i=vn(),s=Oce(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),c=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return c||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Iw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Iw}var Rw,ZL;function Pce(){if(ZL)return Rw;ZL=1;var t=To(),e=V9(),r=nr(),n=Lt(),i=n("species"),s=Array;return Rw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Rw}var jw,e4;function rN(){if(e4)return jw;e4=1;var t=Pce();return jw=function(e,r){return new(t(e))(r===0?0:r)},jw}var $w,t4;function Xd(){if(t4)return $w;t4=1;var t=qe(),e=Lt(),r=Kd(),n=e("species");return $w=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},$w}var r4;function K9(){if(r4)return HL;r4=1;var t=ye(),e=qe(),r=To(),n=nr(),i=gn(),s=cs(),a=H9(),o=Jp(),l=rN(),u=Xd(),c=Lt(),h=Kd(),f=c("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),HL}var n4={},i4={},kw,s4;function Dn(){if(s4)return kw;s4=1;var t=ku(),e=String;return kw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},kw}var Dw={},a4;function nN(){if(a4)return Dw;a4=1;var t=Nt(),e=F9(),r=kn(),n=Ei(),i=ni(),s=Qd();return Dw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),c=s(l),h=c.length,f=0,p;h>f;)r.f(o,p=c[f++],u[p]);return o},Dw}var qw,o4;function Cce(){if(o4)return qw;o4=1;var t=vn();return qw=t("document","documentElement"),qw}var Mw,l4;function Zp(){if(l4)return Mw;l4=1;var t=Iu(),e=Kp(),r=t("keys");return Mw=function(n){return r[n]||(r[n]=e(n))},Mw}var Fw,u4;function Jd(){if(u4)return Fw;u4=1;var t=Ei(),e=nN(),r=ZT(),n=Yd(),i=Cce(),s=q9(),a=Zp(),o=">",l="<",u="prototype",c="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+c+o+v+l+"/"+c+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+c+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,Fw=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},Fw}var Aw={},c4;function em(){if(c4)return Aw;c4=1;var t=L9(),e=ZT(),r=e.concat("length","prototype");return Aw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Aw}var Lw={},d4;function iN(){if(d4)return Lw;d4=1;var t=Si(),e=ni(),r=em().f,n=$u(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Lw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Lw}var Bw,h4;function Zd(){if(h4)return Bw;h4=1;var t=Ru();return Bw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Bw}var zw,f4;function sN(){if(f4)return zw;f4=1;var t=kn();return zw=function(e,r,n){return t.f(e,r,n)},zw}var Uw={},p4;function tm(){if(p4)return Uw;p4=1;var t=Lt();return Uw.f=t,Uw}var Ww,m4;function vt(){if(m4)return Ww;m4=1;var t=Ve(),e=hr(),r=tm(),n=kn().f;return Ww=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Ww}var Hw,v4;function G9(){if(v4)return Hw;v4=1;var t=rn(),e=vn(),r=Lt(),n=Zd();return Hw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Hw}var Vw,g4;function Tce(){if(g4)return Vw;g4=1;var t=tN(),e=ku();return Vw=t?{}.toString:function(){return"[object "+e(this)+"]"},Vw}var Kw,y4;function No(){if(y4)return Kw;y4=1;var t=tN(),e=kn().f,r=Ru(),n=hr(),i=Tce(),s=Lt(),a=s("toStringTag");return Kw=function(o,l,u,c){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),c&&!t&&r(h,"toString",i))},Kw}var Gw,b4;function Y9(){if(b4)return Gw;b4=1;var t=ut(),e=rr(),r=t.WeakMap;return Gw=e(r)&&/native code/.test(String(r)),Gw}var Yw,w4;function Io(){if(w4)return Yw;w4=1;var t=Y9(),e=ut(),r=nr(),n=Ru(),i=hr(),s=QT(),a=Zp(),o=Yd(),l="Object already initialized",u=e.TypeError,c=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new c);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Yw={set:h,get:f,has:p,enforce:m,getterFor:y},Yw}var Qw,x4;function fa(){if(x4)return Qw;x4=1;var t=Yp(),e=Fe(),r=Vp(),n=gn(),i=cs(),s=rN(),a=e([].push),o=function(l){var u=l===1,c=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):c||m?P(b,0):void 0,I,T;E>S;S++)if((y||S in _)&&(I=_[S],T=O(I,S,w),l))if(u)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Qw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Qw}var _4;function Nce(){if(_4)return i4;_4=1;var t=ye(),e=ut(),r=rn(),n=Fe(),i=Nu(),s=Nt(),a=Cu(),o=qe(),l=hr(),u=At(),c=Ei(),h=ni(),f=XT(),p=Dn(),m=Vd(),y=Jd(),b=Qd(),g=em(),v=iN(),x=Xp(),w=Gp(),_=kn(),E=nN(),O=Hp(),S=Zd(),P=sN(),C=Iu(),I=Zp(),T=Yd(),N=Kp(),q=Lt(),B=tm(),re=vt(),Y=G9(),L=No(),K=Io(),z=fa().forEach,U=I("hidden"),ee="Symbol",fe="prototype",ge=K.set,ke=K.getterFor(ee),we=Object[fe],_e=e.Symbol,Ne=_e&&_e[fe],gt=e.RangeError,nt=e.TypeError,yt=e.QObject,xr=w.f,Qe=_.f,it=v.f,yn=O.f,Mr=n([].push),Ke=C("symbols"),Bt=C("op-symbols"),nn=C("wks"),sn=!yt||!yt[fe]||!yt[fe].findChild,j=function(V,W,te){var G=xr(we,W);G&&delete we[W],Qe(V,W,te),G&&V!==we&&Qe(we,W,G)},D=s&&o(function(){return y(Qe({},"a",{get:function(){return Qe(this,"a",{value:7}).a}})).a!==7})?j:Qe,A=function(V,W){var te=Ke[V]=y(Ne);return ge(te,{type:ee,tag:V,description:W}),s||(te.description=W),te},ae=function(W,te,G){W===we&&ae(Bt,te,G),c(W);var pe=f(te);return c(G),l(Ke,pe)?(G.enumerable?(l(W,U)&&W[U][pe]&&(W[U][pe]=!1),G=y(G,{enumerable:m(0,!1)})):(l(W,U)||Qe(W,U,m(1,y(null))),W[U][pe]=!0),D(W,pe,G)):Qe(W,pe,G)},ne=function(W,te){c(W);var G=h(te),pe=b(G).concat(le(G));return z(pe,function(je){(!s||r(de,G,je))&&ae(W,je,G[je])}),W},Q=function(W,te){return te===void 0?y(W):ne(y(W),te)},de=function(W){var te=f(W),G=r(yn,this,te);return this===we&&l(Ke,te)&&!l(Bt,te)?!1:G||!l(this,te)||!l(Ke,te)||l(this,U)&&this[U][te]?G:!0},k=function(W,te){var G=h(W),pe=f(te);if(!(G===we&&l(Ke,pe)&&!l(Bt,pe))){var je=xr(G,pe);return je&&l(Ke,pe)&&!(l(G,U)&&G[U][pe])&&(je.enumerable=!0),je}},H=function(W){var te=it(h(W)),G=[];return z(te,function(pe){!l(Ke,pe)&&!l(T,pe)&&Mr(G,pe)}),G},le=function(V){var W=V===we,te=it(W?Bt:h(V)),G=[];return z(te,function(pe){l(Ke,pe)&&(!W||l(we,pe))&&Mr(G,Ke[pe])}),G};return a||(_e=function(){if(u(Ne,this))throw new nt("Symbol is not a constructor");var W=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),te=N(W),G=function(pe){var je=this===void 0?e:this;je===we&&r(G,Bt,pe),l(je,U)&&l(je[U],te)&&(je[U][te]=!1);var Vt=m(1,pe);try{D(je,te,Vt)}catch(_r){if(!(_r instanceof gt))throw _r;j(je,te,Vt)}};return s&&sn&&D(we,te,{configurable:!0,set:G}),A(te,W)},Ne=_e[fe],S(Ne,"toString",function(){return ke(this).tag}),S(_e,"withoutSetter",function(V){return A(N(V),V)}),O.f=de,_.f=ae,E.f=ne,w.f=k,g.f=v.f=H,x.f=le,B.f=function(V){return A(q(V),V)},s&&(P(Ne,"description",{configurable:!0,get:function(){return ke(this).description}}),i||S(we,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:_e}),z(b(nn),function(V){re(V)}),t({target:ee,stat:!0,forced:!a},{useSetter:function(){sn=!0},useSimple:function(){sn=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Q,defineProperty:ae,defineProperties:ne,getOwnPropertyDescriptor:k}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:H}),Y(),L(_e,ee),T[U]=!0,i4}var S4={},Xw,E4;function Q9(){if(E4)return Xw;E4=1;var t=Cu();return Xw=t&&!!Symbol.for&&!!Symbol.keyFor,Xw}var O4;function Ice(){if(O4)return S4;O4=1;var t=ye(),e=vn(),r=hr(),n=Dn(),i=Iu(),s=Q9(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var c=e("Symbol")(u);return a[u]=c,o[c]=u,c}}),S4}var P4={},C4;function Rce(){if(C4)return P4;C4=1;var t=ye(),e=hr(),r=Gd(),n=Tu(),i=Iu(),s=Q9(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),P4}var T4={},Jw,N4;function jce(){if(N4)return Jw;N4=1;var t=Fe(),e=To(),r=rr(),n=Si(),i=Dn(),s=t([].push);return Jw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var c=a[u];typeof c=="string"?s(l,c):(typeof c=="number"||n(c)==="Number"||n(c)==="String")&&s(l,i(c))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Jw}var I4;function X9(){if(I4)return T4;I4=1;var t=ye(),e=vn(),r=Wp(),n=rn(),i=Fe(),s=qe(),a=rr(),o=Gd(),l=$u(),u=jce(),c=Cu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!c||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),T=u(C);if(!(!a(T)&&(P===void 0||o(P))))return I[1]=function(N,q){if(a(T)&&(q=n(T,this,h(N),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var T=m(I,C-1),N=m(I,C+1);return p(x,P)&&!p(w,N)||p(w,P)&&!p(x,T)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,T){var N=l(arguments),q=r(_?O:f,null,N);return E&&typeof q=="string"?b(q,v,S):q}}),T4}var R4={},j4;function $ce(){if(j4)return R4;j4=1;var t=ye(),e=Cu(),r=qe(),n=Xp(),i=gn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),R4}var $4;function J9(){return $4||($4=1,Nce(),Ice(),Rce(),X9(),$ce()),n4}var k4={},D4;function Z9(){if(D4)return k4;D4=1;var t=vt();return t("asyncDispose"),k4}var q4={},M4;function kce(){if(M4)return q4;M4=1;var t=vt();return t("asyncIterator"),q4}var F4={},A4;function eG(){if(A4)return F4;A4=1;var t=vt();return t("dispose"),F4}var L4={},B4;function Dce(){if(B4)return L4;B4=1;var t=vt();return t("hasInstance"),L4}var z4={},U4;function qce(){if(U4)return z4;U4=1;var t=vt();return t("isConcatSpreadable"),z4}var W4={},H4;function tG(){if(H4)return W4;H4=1;var t=vt();return t("iterator"),W4}var V4={},K4;function Mce(){if(K4)return V4;K4=1;var t=vt();return t("match"),V4}var G4={},Y4;function Fce(){if(Y4)return G4;Y4=1;var t=vt();return t("matchAll"),G4}var Q4={},X4;function Ace(){if(X4)return Q4;X4=1;var t=vt();return t("replace"),Q4}var J4={},Z4;function Lce(){if(Z4)return J4;Z4=1;var t=vt();return t("search"),J4}var eB={},tB;function Bce(){if(tB)return eB;tB=1;var t=vt();return t("species"),eB}var rB={},nB;function zce(){if(nB)return rB;nB=1;var t=vt();return t("split"),rB}var iB={},sB;function rG(){if(sB)return iB;sB=1;var t=vt(),e=G9();return t("toPrimitive"),e(),iB}var aB={},oB;function Uce(){if(oB)return aB;oB=1;var t=vn(),e=vt(),r=No();return e("toStringTag"),r(t("Symbol"),"Symbol"),aB}var lB={},uB;function Wce(){if(uB)return lB;uB=1;var t=vt();return t("unscopables"),lB}var cB={},dB;function Hce(){if(dB)return cB;dB=1;var t=ut(),e=No();return e(t.JSON,"JSON",!0),cB}var Zw,hB;function Vce(){if(hB)return Zw;hB=1,K9(),J9(),Z9(),kce(),eG(),Dce(),qce(),tG(),Mce(),Fce(),Ace(),Lce(),Bce(),zce(),rG(),Uce(),Wce(),Hce();var t=Ve();return Zw=t.Symbol,Zw}var fB={},ex,pB;function aN(){return pB||(pB=1,ex=function(){}),ex}var tx,mB;function Du(){return mB||(mB=1,tx={}),tx}var rx,vB;function Kce(){if(vB)return rx;vB=1;var t=Nt(),e=hr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return rx={EXISTS:i,PROPER:s,CONFIGURABLE:a},rx}var nx,gB;function nG(){if(gB)return nx;gB=1;var t=qe();return nx=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),nx}var ix,yB;function rm(){if(yB)return ix;yB=1;var t=hr(),e=rr(),r=gn(),n=Zp(),i=nG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return ix=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var c=u.constructor;return e(c)&&u instanceof c?c.prototype:u instanceof a?o:null},ix}var sx,bB;function iG(){if(bB)return sx;bB=1;var t=qe(),e=rr(),r=nr(),n=Jd(),i=rm(),s=Zd(),a=Lt(),o=Nu(),l=a("iterator"),u=!1,c,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(c=h)):u=!0);var p=!r(c)||t(function(){var m={};return c[l].call(m)!==m});return p?c={}:o&&(c=n(c)),e(c[l])||s(c,l,function(){return this}),sx={IteratorPrototype:c,BUGGY_SAFARI_ITERATORS:u},sx}var ax,wB;function Gce(){if(wB)return ax;wB=1;var t=iG().IteratorPrototype,e=Jd(),r=Vd(),n=No(),i=Du(),s=function(){return this};return ax=function(a,o,l,u){var c=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,c,!1,!0),i[c]=s,a},ax}var ox,xB;function Yce(){if(xB)return ox;xB=1;var t=Fe(),e=us();return ox=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ox}var lx,_B;function Qce(){if(_B)return lx;_B=1;var t=nr();return lx=function(e){return t(e)||e===null},lx}var ux,SB;function Xce(){if(SB)return ux;SB=1;var t=Qce(),e=String,r=TypeError;return ux=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},ux}var cx,EB;function Jce(){if(EB)return cx;EB=1;var t=Yce(),e=nr(),r=ls(),n=Xce();return cx=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),cx}var dx,OB;function oN(){if(OB)return dx;OB=1;var t=ye(),e=rn(),r=Nu(),n=Kce(),i=rr(),s=Gce(),a=rm(),o=Jce(),l=No(),u=Ru(),c=Zd(),h=Lt(),f=Du(),p=iG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return dx=function(O,S,P,C,I,T,N){s(P,S,C);var q=function(ge){if(ge===I&&K)return K;if(!g&&ge&&ge in Y)return Y[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},B=S+" Iterator",re=!1,Y=O.prototype,L=Y[v]||Y["@@iterator"]||I&&Y[I],K=!g&&L||q(I),z=S==="Array"&&Y.entries||L,U,ee,fe;if(z&&(U=a(z.call(new O)),U!==Object.prototype&&U.next&&(!r&&a(U)!==b&&(o?o(U,b):i(U[v])||c(U,v,E)),l(U,B,!0,!0),r&&(f[B]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(Y,"name",w):(re=!0,K=function(){return e(L,this)})),I)if(ee={values:q(w),keys:T?K:q(x),entries:q(_)},N)for(fe in ee)(g||re||!(fe in Y))&&c(Y,fe,ee[fe]);else t({target:S,proto:!0,forced:g||re},ee);return(!r||N)&&Y[v]!==K&&c(Y,v,K,{name:I}),f[S]=K,ee},dx}var hx,PB;function lN(){return PB||(PB=1,hx=function(t,e){return{value:t,done:e}}),hx}var fx,CB;function qu(){if(CB)return fx;CB=1;var t=ni(),e=aN(),r=Du(),n=Io(),i=kn().f,s=oN(),a=lN(),o=Nu(),l=Nt(),u="Array Iterator",c=n.set,h=n.getterFor(u);fx=s(Array,"Array",function(p,m){c(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return fx}var px,TB;function Zce(){return TB||(TB=1,px={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),px}var NB;function Mu(){if(NB)return fB;NB=1,qu();var t=Zce(),e=ut(),r=No(),n=Du();for(var i in t)r(e[i],i),n[i]=n.Array;return fB}var mx,IB;function sG(){if(IB)return mx;IB=1;var t=Vce();return Mu(),mx=t,mx}var vx,RB;function ede(){return RB||(RB=1,vx=sG()),vx}var tde=ede(),rde=Oe(tde),jB={},$B;function nde(){if($B)return jB;$B=1;var t=ye(),e=To(),r=V9(),n=nr(),i=Qp(),s=cs(),a=ni(),o=Jp(),l=Lt(),u=Xd(),c=$u(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return c(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),jB}var gx,kB;function ide(){if(kB)return gx;kB=1,nde();var t=fr();return gx=t("Array","slice"),gx}var yx,DB;function sde(){if(DB)return yx;DB=1;var t=At(),e=ide(),r=Array.prototype;return yx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},yx}var bx,qB;function ade(){if(qB)return bx;qB=1;var t=sde();return bx=t,bx}var wx,MB;function ode(){return MB||(MB=1,wx=ade()),wx}var lde=ode(),pi=Oe(lde),xx,FB;function ude(){if(FB)return xx;FB=1;var t=vn(),e=Fe(),r=em(),n=Xp(),i=Ei(),s=e([].concat);return xx=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},xx}var AB={},LB;function cde(){if(LB)return AB;LB=1;var t=ye(),e=To();return t({target:"Array",stat:!0},{isArray:e}),AB}var _x,BB;function dde(){if(BB)return _x;BB=1,cde();var t=Ve();return _x=t.Array.isArray,_x}var Sx,zB;function hde(){if(zB)return Sx;zB=1;var t=dde();return Sx=t,Sx}var Ex,UB;function fde(){return UB||(UB=1,Ex=hde()),Ex}var pde=fde(),Ot=Oe(pde),WB={},HB;function mde(){if(HB)return WB;HB=1;var t=ye(),e=fa().map,r=Xd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),WB}var Ox,VB;function vde(){if(VB)return Ox;VB=1,mde();var t=fr();return Ox=t("Array","map"),Ox}var Px,KB;function gde(){if(KB)return Px;KB=1;var t=At(),e=vde(),r=Array.prototype;return Px=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Px}var Cx,GB;function yde(){if(GB)return Cx;GB=1;var t=gde();return Cx=t,Cx}var Tx,YB;function bde(){return YB||(YB=1,Tx=yde()),Tx}var wde=bde(),eu=Oe(wde),QB={},XB;function xde(){if(XB)return QB;XB=1;var t=ye(),e=gn(),r=Qd(),n=qe(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),QB}var Nx,JB;function _de(){if(JB)return Nx;JB=1,xde();var t=Ve();return Nx=t.Object.keys,Nx}var Ix,ZB;function Sde(){if(ZB)return Ix;ZB=1;var t=_de();return Ix=t,Ix}var Rx,e3;function Ede(){return e3||(e3=1,Rx=Sde()),Rx}var Ode=Ede(),_t=Oe(Ode),t3={},r3;function Pde(){if(r3)return t3;r3=1;var t=ye(),e=Fe(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),t3}var jx,n3;function Cde(){if(n3)return jx;n3=1,Pde();var t=Ve();return jx=t.Date.now,jx}var $x,i3;function Tde(){if(i3)return $x;i3=1;var t=Cde();return $x=t,$x}var kx,s3;function Nde(){return s3||(s3=1,kx=Tde()),kx}var Ide=Nde(),Gf=Oe(Ide),a3={},Dx,o3;function Fu(){if(o3)return Dx;o3=1;var t=qe();return Dx=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Dx}var qx,l3;function Rde(){if(l3)return qx;l3=1;var t=fa().forEach,e=Fu(),r=e("forEach");return qx=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},qx}var u3;function jde(){if(u3)return a3;u3=1;var t=ye(),e=Rde();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),a3}var Mx,c3;function $de(){if(c3)return Mx;c3=1,jde();var t=fr();return Mx=t("Array","forEach"),Mx}var Fx,d3;function kde(){if(d3)return Fx;d3=1;var t=$de();return Fx=t,Fx}var Ax,h3;function Dde(){if(h3)return Ax;h3=1;var t=ku(),e=hr(),r=At(),n=kde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Ax=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Ax}var Lx,f3;function qde(){return f3||(f3=1,Lx=Dde()),Lx}var Mde=qde(),Ge=Oe(Mde),p3={},m3;function Fde(){if(m3)return p3;m3=1;var t=ye(),e=Fe(),r=To(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),p3}var Bx,v3;function Ade(){if(v3)return Bx;v3=1,Fde();var t=fr();return Bx=t("Array","reverse"),Bx}var zx,g3;function Lde(){if(g3)return zx;g3=1;var t=At(),e=Ade(),r=Array.prototype;return zx=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},zx}var Ux,y3;function Bde(){if(y3)return Ux;y3=1;var t=Lde();return Ux=t,Ux}var Wx,b3;function zde(){return b3||(b3=1,Wx=Bde()),Wx}var Ude=zde(),Va=Oe(Ude),w3={},Hx,x3;function Wde(){if(x3)return Hx;x3=1;var t=Nt(),e=To(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Hx=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},Hx}var Vx,_3;function aG(){if(_3)return Vx;_3=1;var t=Tu(),e=TypeError;return Vx=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Vx}var S3;function Hde(){if(S3)return w3;S3=1;var t=ye(),e=gn(),r=Qp(),n=ju(),i=cs(),s=Wde(),a=H9(),o=rN(),l=Jp(),u=aG(),c=Xd(),h=c("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),w3}var Kx,E3;function Vde(){if(E3)return Kx;E3=1,Hde();var t=fr();return Kx=t("Array","splice"),Kx}var Gx,O3;function Kde(){if(O3)return Gx;O3=1;var t=At(),e=Vde(),r=Array.prototype;return Gx=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Gx}var Yx,P3;function Gde(){if(P3)return Yx;P3=1;var t=Kde();return Yx=t,Yx}var Qx,C3;function Yde(){return C3||(C3=1,Qx=Gde()),Qx}var Qde=Yde(),zi=Oe(Qde),T3={},N3;function Xde(){if(N3)return T3;N3=1;var t=ye(),e=JT().includes,r=qe(),n=aN(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),T3}var Xx,I3;function Jde(){if(I3)return Xx;I3=1,Xde();var t=fr();return Xx=t("Array","includes"),Xx}var R3={},Jx,j3;function Zde(){if(j3)return Jx;j3=1;var t=nr(),e=Si(),r=Lt(),n=r("match");return Jx=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},Jx}var Zx,$3;function ehe(){if($3)return Zx;$3=1;var t=Zde(),e=TypeError;return Zx=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},Zx}var e_,k3;function the(){if(k3)return e_;k3=1;var t=Lt(),e=t("match");return e_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},e_}var D3;function rhe(){if(D3)return R3;D3=1;var t=ye(),e=Fe(),r=ehe(),n=ls(),i=Dn(),s=the(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),R3}var t_,q3;function nhe(){if(q3)return t_;q3=1,rhe();var t=fr();return t_=t("String","includes"),t_}var r_,M3;function ihe(){if(M3)return r_;M3=1;var t=At(),e=Jde(),r=nhe(),n=Array.prototype,i=String.prototype;return r_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},r_}var n_,F3;function she(){if(F3)return n_;F3=1;var t=ihe();return n_=t,n_}var i_,A3;function ahe(){return A3||(A3=1,i_=she()),i_}var ohe=ahe(),Gs=Oe(ohe),L3={},B3;function lhe(){if(B3)return L3;B3=1;var t=ye(),e=qe(),r=gn(),n=rm(),i=nG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),L3}var s_,z3;function uhe(){if(z3)return s_;z3=1,lhe();var t=Ve();return s_=t.Object.getPrototypeOf,s_}var a_,U3;function che(){if(U3)return a_;U3=1;var t=uhe();return a_=t,a_}var o_,W3;function dhe(){return W3||(W3=1,o_=che()),o_}var hhe=dhe(),H3=Oe(hhe),l_,V3;function fhe(){if(V3)return l_;V3=1,K9();var t=fr();return l_=t("Array","concat"),l_}var u_,K3;function phe(){if(K3)return u_;K3=1;var t=At(),e=fhe(),r=Array.prototype;return u_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},u_}var c_,G3;function mhe(){if(G3)return c_;G3=1;var t=phe();return c_=t,c_}var d_,Y3;function vhe(){return Y3||(Y3=1,d_=mhe()),d_}var ghe=vhe(),yhe=Oe(ghe),Q3={},X3;function bhe(){if(X3)return Q3;X3=1;var t=ye(),e=fa().filter,r=Xd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Q3}var h_,J3;function whe(){if(J3)return h_;J3=1,bhe();var t=fr();return h_=t("Array","filter"),h_}var f_,Z3;function xhe(){if(Z3)return f_;Z3=1;var t=At(),e=whe(),r=Array.prototype;return f_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},f_}var p_,e5;function _he(){if(e5)return p_;e5=1;var t=xhe();return p_=t,p_}var m_,t5;function She(){return t5||(t5=1,m_=_he()),m_}var Ehe=She(),Ur=Oe(Ehe),r5={},v_,n5;function Ohe(){if(n5)return v_;n5=1;var t=Nt(),e=qe(),r=Fe(),n=rm(),i=Qd(),s=ni(),a=Hp().f,o=r(a),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),c=function(h){return function(f){for(var p=s(f),m=i(p),y=u&&n(p)===null,b=m.length,g=0,v=[],x;b>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return v_={entries:c(!0),values:c(!1)},v_}var i5;function Phe(){if(i5)return r5;i5=1;var t=ye(),e=Ohe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),r5}var g_,s5;function Che(){if(s5)return g_;s5=1,Phe();var t=Ve();return g_=t.Object.values,g_}var y_,a5;function The(){if(a5)return y_;a5=1;var t=Che();return y_=t,y_}var b_,o5;function Nhe(){return o5||(o5=1,b_=The()),b_}var Ihe=Nhe(),Rhe=Oe(Ihe),l5={},w_,u5;function uN(){return u5||(u5=1,w_=`	
\v\f\r \u2028\u2029\uFEFF`),w_}var x_,c5;function oG(){if(c5)return x_;c5=1;var t=Fe(),e=ls(),r=Dn(),n=uN(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(u){var c=r(e(u));return l&1&&(c=i(c,s,"")),l&2&&(c=i(c,a,"$1")),c}};return x_={start:o(1),end:o(2),trim:o(3)},x_}var __,d5;function jhe(){if(d5)return __;d5=1;var t=ut(),e=qe(),r=Fe(),n=Dn(),i=oG().trim,s=uN(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,u=/^[+-]?0x/i,c=r(u.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return __=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(c(u,y)?16:10))}:a,__}var h5;function $he(){if(h5)return l5;h5=1;var t=ye(),e=jhe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),l5}var S_,f5;function khe(){if(f5)return S_;f5=1,$he();var t=Ve();return S_=t.parseInt,S_}var E_,p5;function Dhe(){if(p5)return E_;p5=1;var t=khe();return E_=t,E_}var O_,m5;function qhe(){return m5||(m5=1,O_=Dhe()),O_}var Mhe=qhe(),Hn=Oe(Mhe),v5={},g5;function Fhe(){if(g5)return v5;g5=1;var t=ye(),e=GT(),r=JT().indexOf,n=Fu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),v5}var P_,y5;function Ahe(){if(y5)return P_;y5=1,Fhe();var t=fr();return P_=t("Array","indexOf"),P_}var C_,b5;function Lhe(){if(b5)return C_;b5=1;var t=At(),e=Ahe(),r=Array.prototype;return C_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},C_}var T_,w5;function Bhe(){if(w5)return T_;w5=1;var t=Lhe();return T_=t,T_}var N_,x5;function zhe(){return x5||(x5=1,N_=Bhe()),N_}var Uhe=zhe(),Ue=Oe(Uhe),_5={},S5;function Whe(){if(S5)return _5;S5=1;var t=ye(),e=Nt(),r=Jd();return t({target:"Object",stat:!0,sham:!e},{create:r}),_5}var I_,E5;function Hhe(){if(E5)return I_;E5=1,Whe();var t=Ve(),e=t.Object;return I_=function(n,i){return e.create(n,i)},I_}var R_,O5;function Vhe(){if(O5)return R_;O5=1;var t=Hhe();return R_=t,R_}var j_,P5;function Khe(){return P5||(P5=1,j_=Vhe()),j_}var Ghe=Khe(),Ka=Oe(Ghe),C5={},$_,T5;function Yhe(){if(T5)return $_;T5=1;var t=ju(),e=Dn(),r=ls(),n=RangeError;return $_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},$_}var k_,N5;function Qhe(){if(N5)return k_;N5=1;var t=Fe(),e=A9(),r=Dn(),n=Yhe(),i=ls(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(c,h,f){var p=r(i(c)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return k_={start:l(!1),end:l(!0)},k_}var D_,I5;function Xhe(){if(I5)return D_;I5=1;var t=Fe(),e=qe(),r=Qhe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),c=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return D_=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=c(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,D_}var R5;function Jhe(){if(R5)return C5;R5=1;var t=ye(),e=rn(),r=gn(),n=D9(),i=Xhe(),s=Si(),a=qe(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var c=r(this),h=n(c,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in c)&&s(c)==="Date"?e(i,c):c.toISOString()}}),C5}var q_,j5;function Zhe(){if(j5)return q_;j5=1,Jhe(),X9();var t=Ve(),e=Wp();return t.JSON||(t.JSON={stringify:JSON.stringify}),q_=function(n,i,s){return e(t.JSON.stringify,null,arguments)},q_}var M_,$5;function efe(){if($5)return M_;$5=1;var t=Zhe();return M_=t,M_}var F_,k5;function tfe(){return k5||(k5=1,F_=efe()),F_}var rfe=tfe(),eh=Oe(rfe),D5={},q5={},A_,M5;function lG(){if(M5)return A_;M5=1;var t=ut(),e=Pu(),r=Si(),n=function(i){return e.slice(0,i.length)===i};return A_=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),A_}var L_,F5;function nfe(){if(F5)return L_;F5=1;var t=TypeError;return L_=function(e,r){if(e<r)throw new t("Not enough arguments");return e},L_}var B_,A5;function uG(){if(A5)return B_;A5=1;var t=ut(),e=Wp(),r=rr(),n=lG(),i=Pu(),s=$u(),a=nfe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return B_=function(u,c){var h=c?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return c?u(g,p):u(g)}:u},B_}var L5;function ife(){if(L5)return q5;L5=1;var t=ye(),e=ut(),r=uG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),q5}var B5={},z5;function sfe(){if(z5)return B5;z5=1;var t=ye(),e=ut(),r=uG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),B5}var U5;function cG(){return U5||(U5=1,ife(),sfe()),D5}var z_,W5;function afe(){if(W5)return z_;W5=1,cG();var t=Ve();return z_=t.setTimeout,z_}var U_,H5;function ofe(){return H5||(H5=1,U_=afe()),U_}var lfe=ofe(),Ui=Oe(lfe),V5={},W_,K5;function ufe(){if(K5)return W_;K5=1;var t=gn(),e=Qp(),r=cs();return W_=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),u=o>2?arguments[2]:void 0,c=u===void 0?a:e(u,a);c>l;)s[l++]=i;return s},W_}var G5;function cfe(){if(G5)return V5;G5=1;var t=ye(),e=ufe(),r=aN();return t({target:"Array",proto:!0},{fill:e}),r("fill"),V5}var H_,Y5;function dfe(){if(Y5)return H_;Y5=1,cfe();var t=fr();return H_=t("Array","fill"),H_}var V_,Q5;function hfe(){if(Q5)return V_;Q5=1;var t=At(),e=dfe(),r=Array.prototype;return V_=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},V_}var K_,X5;function ffe(){if(X5)return K_;X5=1;var t=hfe();return K_=t,K_}var G_,J5;function pfe(){return J5||(J5=1,G_=ffe()),G_}var mfe=pfe(),th=Oe(mfe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Zn(){return Zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zn.apply(this,arguments)}function qn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function qh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var YP;typeof Object.assign!="function"?YP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:YP=Object.assign;var ho=YP,Z5=["","webkit","Moz","MS","ms","o"],vfe=typeof document>"u"?{style:{}}:document.createElement("div"),gfe="function",ll=Math.round,fo=Math.abs,cN=Date.now;function nm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Z5.length;){if(r=Z5[s],n=r?r+i:e,n in t)return n;s++}}var Wi;typeof window>"u"?Wi={}:Wi=window;var dG=nm(vfe.style,"touchAction"),hG=dG!==void 0;function yfe(){if(!hG)return!1;var t={},e=Wi.CSS&&Wi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Wi.CSS.supports("touch-action",r):!0}),t}var fG="compute",pG="auto",QP="manipulation",Ga="none",nd="pan-x",id="pan-y",Mh=yfe(),bfe=/mobile|tablet|ip(ad|hone|od)|android/i,mG="ontouchstart"in Wi,wfe=nm(Wi,"PointerEvent")!==void 0,xfe=mG&&bfe.test(navigator.userAgent),rh="touch",_fe="pen",dN="mouse",Sfe="kinect",Efe=25,$r=1,Ro=2,qt=4,Jr=8,Yf=1,nh=2,ih=4,sh=8,tu=16,xi=nh|ih,Ya=sh|tu,vG=xi|Ya,gG=["x","y"],Qf=["clientX","clientY"];function Hi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function im(t,e){return typeof t===gfe?t.apply(e&&e[0]||void 0,e):t}function Na(t,e){return t.indexOf(e)>-1}function Ofe(t){if(Na(t,Ga))return Ga;var e=Na(t,nd),r=Na(t,id);return e&&r?Ga:e||r?e?nd:id:Na(t,QP)?QP:pG}var yG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===fG&&(n=this.compute()),hG&&this.manager.element.style&&Mh[n]&&(this.manager.element.style[dG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Hi(this.manager.recognizers,function(i){im(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Ofe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Na(a,Ga)&&!Mh[Ga],l=Na(a,id)&&!Mh[id],u=Na(a,nd)&&!Mh[nd];if(o){var c=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(c&&h&&f)return}if(!(u&&l)&&(o||l&&s&xi||u&&s&Ya))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function hN(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function bG(t){var e=t.length;if(e===1)return{x:ll(t[0].clientX),y:ll(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:ll(r/e),y:ll(n/e)}}function ez(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ll(t.pointers[r].clientX),clientY:ll(t.pointers[r].clientY)},r++;return{timeStamp:cN(),pointers:e,center:bG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Xf(t,e,r){r||(r=gG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function XP(t,e,r){r||(r=gG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function wG(t,e){return t===e?Yf:fo(t)>=fo(e)?t<0?nh:ih:e<0?sh:tu}function Pfe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===$r||s.eventType===qt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function xG(t,e,r){return{x:e/t||0,y:r/t||0}}function Cfe(t,e){return Xf(e[0],e[1],Qf)/Xf(t[0],t[1],Qf)}function Tfe(t,e){return XP(e[1],e[0],Qf)+XP(t[1],t[0],Qf)}function Nfe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Jr&&(n>Efe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,c=xG(n,l,u);s=c.x,a=c.y,i=fo(c.x)>fo(c.y)?c.x:c.y,o=wG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Ife(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=ez(e)),i>1&&!r.firstMultiple?r.firstMultiple=ez(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=bG(n);e.timeStamp=cN(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=XP(o,l),e.distance=Xf(o,l),Pfe(r,e),e.offsetDirection=wG(e.deltaX,e.deltaY);var u=xG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=fo(u.x)>fo(u.y)?u.x:u.y,e.scale=a?Cfe(a.pointers,n):1,e.rotation=a?Tfe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Nfe(r,e);var c=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,hN(f,c)&&(c=f),e.target=c}function Rfe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&$r&&n-i===0,a=e&(qt|Jr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Ife(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function sd(t){return t.trim().split(/\s+/g)}function Sc(t,e,r){Hi(sd(e),function(n){t.addEventListener(n,r,!1)})}function Ec(t,e,r){Hi(sd(e),function(n){t.removeEventListener(n,r,!1)})}function tz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Au=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){im(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Sc(this.element,this.evEl,this.domHandler),this.evTarget&&Sc(this.target,this.evTarget,this.domHandler),this.evWin&&Sc(tz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Ec(this.element,this.evEl,this.domHandler),this.evTarget&&Ec(this.target,this.evTarget,this.domHandler),this.evWin&&Ec(tz(this.element),this.evWin,this.domHandler)},t}();function po(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var jfe={pointerdown:$r,pointermove:Ro,pointerup:qt,pointercancel:Jr,pointerout:Jr},$fe={2:rh,3:_fe,4:dN,5:Sfe},_G="pointerdown",SG="pointermove pointerup pointercancel";Wi.MSPointerEvent&&!Wi.PointerEvent&&(_G="MSPointerDown",SG="MSPointerMove MSPointerUp MSPointerCancel");var EG=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evEl=_G,i.evWin=SG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=jfe[o],u=$fe[i.pointerType]||i.pointerType,c=u===rh,h=po(s,i.pointerId,"pointerId");l&$r&&(i.button===0||c)?h<0&&(s.push(i),h=s.length-1):l&(qt|Jr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Au);function ad(t){return Array.prototype.slice.call(t,0)}function fN(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];po(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var kfe={touchstart:$r,touchmove:Ro,touchend:qt,touchcancel:Jr},Dfe="touchstart touchmove touchend touchcancel",pN=function(t){qn(e,t);function e(){var n;return e.prototype.evTarget=Dfe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=kfe[i.type],a=qfe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:rh,srcEvent:i})},e}(Au);function qfe(t,e){var r=ad(t.touches),n=this.targetIds;if(e&($r|Ro)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=ad(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return hN(u.target,l)}),e===$r)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(qt|Jr)&&delete n[a[i].identifier],i++;if(o.length)return[fN(s.concat(o),"identifier",!0),o]}var Mfe={mousedown:$r,mousemove:Ro,mouseup:qt},Ffe="mousedown",Afe="mousemove mouseup",mN=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evEl=Ffe,i.evWin=Afe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Mfe[i.type];s&$r&&i.button===0&&(this.pressed=!0),s&Ro&&i.which!==1&&(s=qt),this.pressed&&(s&qt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:dN,srcEvent:i}))},e}(Au),Lfe=2500,rz=25;function nz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Lfe)}}function Bfe(t,e){t&$r?(this.primaryTouch=e.changedPointers[0].identifier,nz.call(this,e)):t&(qt|Jr)&&nz.call(this,e)}function zfe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=rz&&a<=rz)return!0}return!1}var OG=function(){var t=function(e){qn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var c=u.pointerType===rh,h=u.pointerType===dN;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(c)Bfe.call(qh(qh(a)),l,u);else if(h&&zfe.call(qh(qh(a)),u))return;a.callback(o,l,u)}},a.touch=new pN(a.manager,a.handler),a.mouse=new mN(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Au);return t}();function Ufe(t){var e,r=t.options.inputClass;return r?e=r:wfe?e=EG:xfe?e=pN:mG?e=OG:e=mN,new e(t,Rfe)}function ul(t,e,r){return Array.isArray(t)?(Hi(t,r[e],r),!0):!1}var sf=1,Nn=2,ru=4,Ys=8,Vi=Ys,od=16,vi=32,Wfe=1;function Hfe(){return Wfe++}function Fh(t,e){var r=e.manager;return r?r.get(t):t}function iz(t){return t&od?"cancel":t&Ys?"end":t&ru?"move":t&Nn?"start":""}var ah=function(){function t(r){r===void 0&&(r={}),this.options=Zn({enable:!0},r),this.id=Hfe(),this.manager=null,this.state=sf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return ho(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(ul(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Fh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return ul(n,"dropRecognizeWith",this)?this:(n=Fh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(ul(n,"requireFailure",this))return this;var i=this.requireFail;return n=Fh(n,this),po(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(ul(n,"dropRequireFailure",this))return this;n=Fh(n,this);var i=po(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Ys&&a(i.options.event+iz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Ys&&a(i.options.event+iz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=vi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(vi|sf)))return!1;n++}return!0},e.recognize=function(n){var i=ho({},n);if(!im(this.options.enable,[this,i])){this.reset(),this.state=vi;return}this.state&(Vi|od|vi)&&(this.state=sf),this.state=this.process(i),this.state&(Nn|ru|Ys|od)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),JP=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[QP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&$r&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==qt)return this.failTimeout();var c=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Xf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!c?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Vi,s.tryEmit()},a.interval),Nn):Vi}return vi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=vi},this.options.interval),vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Vi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(ah),nu=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Nn|ru),l=this.attrTest(i);return o&&(a&Jr||!l)?s|od:o||l?a&qt?s|Ys:s&Nn?s|ru:Nn:vi},e}(ah);function PG(t){return t===tu?"down":t===sh?"up":t===nh?"left":t===ih?"right":""}var vN=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"pan",threshold:10,pointers:1,direction:vG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&xi&&s.push(id),i&Ya&&s.push(nd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,c=i.deltaY;return l&s.direction||(s.direction&xi?(l=u===0?Yf:u<0?nh:ih,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=c===0?Yf:c<0?sh:tu,a=c!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return nu.prototype.attrTest.call(this,i)&&(this.state&Nn||!(this.state&Nn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=PG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(nu),CG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"swipe",threshold:10,velocity:.3,direction:xi|Ya,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return vN.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(xi|Ya)?a=i.overallVelocity:s&xi?a=i.overallVelocityX:s&Ya&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&fo(a)>this.options.velocity&&i.eventType&qt},r.emit=function(i){var s=PG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(nu),TG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ga]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Nn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(nu),NG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ga]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Nn)},e}(nu),IG=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[pG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(qt|Jr)&&!u)this.reset();else if(i.eventType&$r)this.reset(),this._timer=setTimeout(function(){s.state=Vi,s.tryEmit()},a.time);else if(i.eventType&qt)return Vi;return vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Vi&&(i&&i.eventType&qt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=cN(),this.manager.emit(this.options.event,this._input)))},e}(ah),RG={domEvents:!1,touchAction:fG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},sz=[[NG,{enable:!1}],[TG,{enable:!1},["rotate"]],[CG,{direction:xi}],[vN,{direction:xi},["swipe"]],[JP],[JP,{event:"doubletap",taps:2},["tap"]],[IG]],Vfe=1,az=2;function oz(t,e){var r=t.element;if(r.style){var n;Hi(t.options.cssProps,function(i,s){n=nm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Kfe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var lz=function(){function t(r,n){var i=this;this.options=ho({},RG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Ufe(this),this.touchAction=new yG(this,this.options.touchAction),oz(this,!0),Hi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return ho(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?az:Vfe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Vi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==az&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Nn|ru|Ys)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof ah)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(ul(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(ul(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=po(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Hi(sd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Hi(sd(n),function(a){i?s[a]&&s[a].splice(po(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Kfe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&oz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Gfe={touchstart:$r,touchmove:Ro,touchend:qt,touchcancel:Jr},Yfe="touchstart",Qfe="touchstart touchmove touchend touchcancel",Xfe=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Yfe,i.evWin=Qfe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Gfe[i.type];if(s===$r&&(this.started=!0),!!this.started){var a=Jfe.call(this,i,s);s&(qt|Jr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:rh,srcEvent:i})}},e}(Au);function Jfe(t,e){var r=ad(t.touches),n=ad(t.changedTouches);return e&(qt|Jr)&&(r=fN(r.concat(n),"identifier",!0)),[r,n]}function jG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var $G=jG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Zfe=jG(function(t,e){return $G(t,e,!0)},"merge","Use `assign`.");function epe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&ho(i,r)}function uz(t,e){return function(){return t.apply(e,arguments)}}var kG=function(){var t=function(r,n){return n===void 0&&(n={}),new lz(r,Zn({recognizers:sz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=vG,t.DIRECTION_DOWN=tu,t.DIRECTION_LEFT=nh,t.DIRECTION_RIGHT=ih,t.DIRECTION_UP=sh,t.DIRECTION_HORIZONTAL=xi,t.DIRECTION_VERTICAL=Ya,t.DIRECTION_NONE=Yf,t.DIRECTION_DOWN=tu,t.INPUT_START=$r,t.INPUT_MOVE=Ro,t.INPUT_END=qt,t.INPUT_CANCEL=Jr,t.STATE_POSSIBLE=sf,t.STATE_BEGAN=Nn,t.STATE_CHANGED=ru,t.STATE_ENDED=Ys,t.STATE_RECOGNIZED=Vi,t.STATE_CANCELLED=od,t.STATE_FAILED=vi,t.Manager=lz,t.Input=Au,t.TouchAction=yG,t.TouchInput=pN,t.MouseInput=mN,t.PointerEventInput=EG,t.TouchMouseInput=OG,t.SingleTouchInput=Xfe,t.Recognizer=ah,t.AttrRecognizer=nu,t.Tap=JP,t.Pan=vN,t.Swipe=CG,t.Pinch=TG,t.Rotate=NG,t.Press=IG,t.on=Sc,t.off=Ec,t.each=Hi,t.merge=Zfe,t.extend=$G,t.bindFn=uz,t.assign=ho,t.inherit=epe,t.bindFn=uz,t.prefixed=nm,t.toArray=ad,t.inArray=po,t.uniqueArray=fN,t.splitStr=sd,t.boolOrFn=im,t.hasParent=hN,t.addEventListeners=Sc,t.removeEventListeners=Ec,t.defaults=ho({},RG,{preset:sz}),t}();kG.defaults;rde("DELETE");function sm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return tpe(e.length?e:[Gf()])}function tpe(t){let[e,r,n]=rpe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function rpe(){const t=npe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function npe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function ipe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const gN=typeof window<"u"?window.Hammer||kG:function(){return ipe()};function gi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=gN(this._dom.overlay);r.on("tap",Z(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ge(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{spe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}W9(gi.prototype);gi.current=null;gi.prototype.destroy=function(){this.deactivate();for(const r of Va(t=zi(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};gi.prototype.activate=function(){gi.current&&gi.current.deactivate(),gi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};gi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};gi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function spe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const ape=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,ope=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,lpe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,upe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function gs(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(gs(e),t.removeChild(e))}}function gl(t){return t instanceof String||typeof t=="string"}function cz(t){return typeof t=="object"&&t!==null}function mo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function DG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")mo(t,e,n,r);else{const i=t[n],s=e[n];cz(i)&&cz(s)&&DG(i,s,r)}}function Lu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?et(e[s],r[s],!1,n):mo(e,r,s,n);else{if(Ot(r[s]))throw new TypeError("Arrays are not supported by deepExtend");mo(e,r,s,n)}}return e}function Jf(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Gs(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?et(e[i],r[i]):mo(e,r,i,n);else if(Ot(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else mo(e,r,i,n);return e}function et(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&H3(e[s])===Object.prototype)t[s]===void 0?t[s]=et({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&H3(t[s])===Object.prototype?et(t[s],e[s],r):mo(t,e,s,n);else if(Ot(e[s])){var i;t[s]=pi(i=e[s]).call(i)}else mo(t,e,s,n);return t}function Zf(t,e){return[...t,e]}function cpe(t){return pi(t).call(t)}function dpe(t){return t.getBoundingClientRect().left}function hpe(t){return t.getBoundingClientRect().top}function Re(t,e){if(Ot(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function yN(t){let e;switch(t.length){case 3:case 4:return e=ope.exec(t),e?{r:Hn(e[1]+e[1],16),g:Hn(e[2]+e[2],16),b:Hn(e[3]+e[3],16)}:null;case 6:case 7:return e=ape.exec(t),e?{r:Hn(e[1],16),g:Hn(e[2],16),b:Hn(e[3],16)}:null;default:return null}}function On(t,e){if(Gs(t).call(t,"rgba"))return t;if(Gs(t).call(t,"rgb")){const r=t.substr(Ue(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=yN(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function qG(t,e,r){var n;return"#"+pi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function ZP(t,e){if(gl(t)){let n=t;if(FG(n)){var r;const i=eu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Hn(s)});n=qG(i[0],i[1],i[2])}if(MG(n)===!0){const i=fpe(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=eC(a.h,a.s,a.v),l=eC(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:gl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:gl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function lc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function af(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),u=r*(1-o*e),c=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=c,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=c;break;case 3:n=l,i=u,s=r;break;case 4:n=c,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function eC(t,e,r){const n=af(t,e,r);return qG(n.r,n.g,n.b)}function fpe(t){const e=yN(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return lc(e.r,e.g,e.b)}function MG(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function FG(t){return lpe.test(t)}function ppe(t){return upe.test(t)}function Qs(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Ka(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Qs(t[r]));return e}function _n(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],c=s(n)&&!a(n)?n[r]:void 0,h=c?c.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(c))t[r]=Ka(c);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=c.enabled),o(t,e,r),t[r].enabled=f}const mpe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function ys(t,e){let r;Ot(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const vpe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let gpe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return vpe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),gl(e)===!0){if(FG(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(ppe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(MG(e)===!0){const s=yN(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+eh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=Dt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Ui(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=Dt({},e)),this.color=e;const n=lc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=lc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=af(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=lc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),th(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Z(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Z(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Z(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Z(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new gN(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,c=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=af(a*u,o*c,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,u=Math.atan2(o,l),c=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(u)*c+s,f=Math.sin(u)*c+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=c/this.r,y=lc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=af(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function tC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(tC(...pi(e).call(e,1))),n}}let ype=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},Dt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new gpe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Ot(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Ur(e)!==void 0&&(this.options.filter=Ur(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Ur(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Ur(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ue(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ge(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(tC("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ue(e).call(e,r)!==-1&&(s=Ue(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let u="",c=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),c=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),c=l.min,u="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),c=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[m]!==c&&(this.popupHistory[m]=c,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Ui(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Ui(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Ur(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],u=Zf(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Ot(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const c=this._getValue(u);if(Ot(l))this._handleArray(l,c,u);else if(typeof l=="string")this._makeTextInput(l,c,u);else if(typeof l=="boolean")this._makeCheckbox(l,c,u);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=Zf(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,u,!0);this._makeItem(u,p),a=this._handleObject(l,u)||a}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(o,u,!0);this._makeItem(u,h),a=this._handleObject(l,u)||a}}else console.error("dont know how to handle",l,o,u)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(tC("pre","const options = "+eh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},bpe=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Hn(e),this.y=Hn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,u?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},tc=!1,dz;const rC="background: #FFeeee; color: #dd0000";let wpe=class bt{static validate(e,r,n){tc=!1,dz=r;let i=r;return n!==void 0&&(i=r[n]),bt.parse(e,i,[]),tc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&bt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){bt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=bt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),bt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(c){console.error("%c"+c+bt.printLocation(a,e),rC)},l=bt.getType(r[e]),u=s[l];u!==void 0?bt.getType(u)==="array"&&Ue(u).call(u,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+bt.print(u)+' not "'+r[e]+'". '),tc=!0):l==="object"&&i!=="__any__"&&(a=Zf(a,e),bt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+bt.print(_t(s))+". Received ["+l+'] "'+r[e]+'"'),tc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ot(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=bt.findInOptions(e,r,n,!1),s=bt.findInOptions(e,dz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+bt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+bt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+bt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+bt.printLocation(i.path,e):l=". Did you mean one of these: "+bt.print(_t(r))+bt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,rC),tc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=bt.findInOptions(e,r[h],Zf(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,u=p.indexMatch)}else{var c;Ue(c=h.toLowerCase()).call(c,l)!==-1&&(u=h),f=bt.levenshteinDistance(e,h),s>f&&(a=h,o=cpe(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return eh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const xpe=gi,_pe=ype,yl=gN,Spe=bpe,AG=rC,Epe=wpe;function Ope(t){return Ds=t,Npe()}var LG={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},bN=Ka(LG);bN.color="color.color";bN.style="dashes";var Cr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},hz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},Ds="",iu=0,Ie="",Se="",Br=Cr.NULL;function Ppe(){iu=0,Ie=Ds.charAt(0)}function Kt(){iu++,Ie=Ds.charAt(iu)}function Uo(){return Ds.charAt(iu+1)}function fz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ra(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Cpe(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function BG(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=ra(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ue(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=ra(i.attr,e.attr))}function Tpe(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=ra({},t.edge);e.attr=ra(r,e.attr)}}function zG(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=ra({},t.edge)),s.attr=ra(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function tt(){for(Br=Cr.NULL,Se="";Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)Kt();do{var t=!1;if(Ie==="#"){for(var e=iu-1;Ds.charAt(e)===" "||Ds.charAt(e)==="	";)e--;if(Ds.charAt(e)===`
`||Ds.charAt(e)===""){for(;Ie!=""&&Ie!=`
`;)Kt();t=!0}}if(Ie==="/"&&Uo()==="/"){for(;Ie!=""&&Ie!=`
`;)Kt();t=!0}if(Ie==="/"&&Uo()==="*"){for(;Ie!="";)if(Ie==="*"&&Uo()==="/"){Kt(),Kt();break}else Kt();t=!0}for(;Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)Kt()}while(t);if(Ie===""){Br=Cr.DELIMITER;return}var r=Ie+Uo();if(hz[r]){Br=Cr.DELIMITER,Se=r,Kt(),Kt();return}if(hz[Ie]){Br=Cr.DELIMITER,Se=Ie,Kt();return}if(fz(Ie)||Ie==="-"){for(Se+=Ie,Kt();fz(Ie);)Se+=Ie,Kt();Se==="false"?Se=!1:Se==="true"?Se=!0:isNaN(Number(Se))||(Se=Number(Se)),Br=Cr.IDENTIFIER;return}if(Ie==='"'){for(Kt();Ie!=""&&(Ie!='"'||Ie==='"'&&Uo()==='"');)Ie==='"'?(Se+=Ie,Kt()):Ie==="\\"&&Uo()==="n"?(Se+=`
`,Kt()):Se+=Ie,Kt();if(Ie!='"')throw Tr('End of string " expected');Kt(),Br=Cr.IDENTIFIER;return}for(Br=Cr.UNKNOWN;Ie!="";)Se+=Ie,Kt();throw new SyntaxError('Syntax error in part "'+VG(Se,30)+'"')}function Npe(){var t={};if(Ppe(),tt(),Se==="strict"&&(t.strict=!0,tt()),(Se==="graph"||Se==="digraph")&&(t.type=Se,tt()),Br===Cr.IDENTIFIER&&(t.id=Se,tt()),Se!="{")throw Tr("Angle bracket { expected");if(tt(),UG(t),Se!="}")throw Tr("Angle bracket } expected");if(tt(),Se!=="")throw Tr("End of file expected");return tt(),delete t.node,delete t.edge,delete t.graph,t}function UG(t){for(;Se!==""&&Se!="}";)Ipe(t),Se===";"&&tt()}function Ipe(t){var e=WG(t);if(e){HG(t,e);return}var r=Rpe(t);if(!r){if(Br!=Cr.IDENTIFIER)throw Tr("Identifier expected");var n=Se;if(tt(),Se==="="){if(tt(),Br!=Cr.IDENTIFIER)throw Tr("Identifier expected");t[n]=Se,tt()}else jpe(t,n)}}function WG(t){var e=null;if(Se==="subgraph"&&(e={},e.type="subgraph",tt(),Br===Cr.IDENTIFIER&&(e.id=Se,tt())),Se==="{"){if(tt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,UG(e),Se!="}")throw Tr("Angle bracket } expected");tt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Rpe(t){return Se==="node"?(tt(),t.node=Oc(),"node"):Se==="edge"?(tt(),t.edge=Oc(),"edge"):Se==="graph"?(tt(),t.graph=Oc(),"graph"):null}function jpe(t,e){var r={id:e},n=Oc();n&&(r.attr=n),BG(t,r),HG(t,e)}function HG(t,e){for(;Se==="->"||Se==="--";){var r,n=Se;tt();var i=WG(t);if(i)r=i;else{if(Br!=Cr.IDENTIFIER)throw Tr("Identifier or subgraph expected");r=Se,BG(t,{id:r}),tt()}var s=Oc(),a=zG(t,e,r,n,s);Tpe(t,a),e=r}}function Oc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Se==="[";){for(tt(),e={};Se!==""&&Se!="]";){if(Br!=Cr.IDENTIFIER)throw Tr("Attribute name expected");var a=Se;if(tt(),Se!="=")throw Tr("Equal sign = expected");if(tt(),Br!=Cr.IDENTIFIER)throw Tr("Attribute value expected");var o=Se;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),tt(),Se==","&&tt()}if(Se!="]")throw Tr("Bracket ] expected");tt()}if(Gs(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Tr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var c=i[u.dir].value;if(!Gs(s).call(s,"arrows"))if(c==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(c==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(c==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Tr('Invalid dir type "'+c+'"');var h,f;if(c==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},zi(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(c==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(c==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(c==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Tr('Invalid dir type "'+c+'"');zi(i).call(i,u.dir,1)}var m;if(Gs(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)Cpe(i[t].attr,i[t].name,i[t].value);return e}function Tr(t){return new SyntaxError(t+', got "'+VG(Se,30)+'" (char '+iu+")")}function VG(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function $pe(t,e,r){Ot(t)?Ge(t).call(t,function(n){Ot(e)?Ge(e).call(e,function(i){r(n,i)}):r(n,e)}):Ot(e)?Ge(e).call(e,function(n){r(t,n)}):r(t,e)}function Y_(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function pz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Ot(i)?Ge(i).call(i,function(s){Y_(r,s,t[n])}):typeof i=="string"?Y_(r,i,t[n]):Y_(r,n,t[n])}return r}function kpe(t){var e=Ope(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Ge(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};ra(o,pz(a.attr,LG)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return ra(o,pz(a.attr,bN)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};Ge(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Ge(u=a.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if($pe(o,l,function(h,f){var p=zG(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var c;Ge(c=a.to.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Dpe(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=eu(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:eu(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const qpe={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Mpe={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Fpe={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Ape={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Lpe={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Bpe={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},zpe={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Upe={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Wpe={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Hpe={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Vpe={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Kpe=Object.freeze({__proto__:null,cn:Upe,cs:Vpe,de:Mpe,en:qpe,es:Fpe,fr:Hpe,it:Ape,nl:Lpe,pt:Bpe,ru:zpe,uk:Wpe});function Gpe(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(yhe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Ype{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),c=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,u,s],[5*u,i,c,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Qpe{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Ype;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var mz={},vz={},Q_={exports:{}},X_,gz;function Xpe(){if(gz)return X_;gz=1;var t=qe();return X_=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),X_}var J_,yz;function Jpe(){if(yz)return J_;yz=1;var t=qe(),e=nr(),r=Si(),n=Xpe(),i=Object.isExtensible,s=t(function(){});return J_=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,J_}var Z_,bz;function KG(){if(bz)return Z_;bz=1;var t=qe();return Z_=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Z_}var wz;function am(){if(wz)return Q_.exports;wz=1;var t=ye(),e=Fe(),r=Yd(),n=nr(),i=hr(),s=kn().f,a=em(),o=iN(),l=Jpe(),u=Kp(),c=KG(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return c&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=Q_.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,Q_.exports}var eS,xz;function Zpe(){if(xz)return eS;xz=1;var t=Lt(),e=Du(),r=t("iterator"),n=Array.prototype;return eS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},eS}var tS,_z;function GG(){if(_z)return tS;_z=1;var t=ku(),e=YT(),r=Ou(),n=Du(),i=Lt(),s=i("iterator");return tS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},tS}var rS,Sz;function eme(){if(Sz)return rS;Sz=1;var t=rn(),e=us(),r=Ei(),n=Tu(),i=GG(),s=TypeError;return rS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},rS}var nS,Ez;function wN(){if(Ez)return nS;Ez=1;var t=rn(),e=Ei(),r=YT();return nS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},nS}var iS,Oz;function om(){if(Oz)return iS;Oz=1;var t=Yp(),e=rn(),r=Ei(),n=Tu(),i=Zpe(),s=cs(),a=At(),o=eme(),l=GG(),u=wN(),c=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return iS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,T,N=function(B){return E&&u(E,"normal"),new h(!0,B)},q=function(B){return g?(r(B),w?_(B[0],B[1],N):_(B[0],B[1])):w?_(B,N):_(B)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new c(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(T=e(I,E)).done;){try{C=q(T.value)}catch(B){u(E,"throw",B)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},iS}var sS,Pz;function xN(){if(Pz)return sS;Pz=1;var t=At(),e=TypeError;return sS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},sS}var aS,Cz;function _N(){if(Cz)return aS;Cz=1;var t=ye(),e=ut(),r=am(),n=qe(),i=Ru(),s=om(),a=xN(),o=rr(),l=nr(),u=Ou(),c=No(),h=kn().f,f=fa().forEach,p=Nt(),m=Io(),y=m.set,b=m.getterFor;return aS=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(N,q){y(a(N,I),{type:g,collection:new O}),u(q)||s(q,N[E],{that:N,AS_ENTRIES:w})});var I=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var q=N==="add"||N==="set";N in S&&!(_&&N==="clear")&&i(I,N,function(B,re){var Y=T(this).collection;if(!q&&_&&!l(B))return N==="get"?void 0:!1;var L=Y[N](B===0?0:B,re);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return c(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},aS}var oS,Tz;function SN(){if(Tz)return oS;Tz=1;var t=Zd();return oS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},oS}var lS,Nz;function tme(){if(Nz)return lS;Nz=1;var t=vn(),e=sN(),r=Lt(),n=Nt(),i=r("species");return lS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},lS}var uS,Iz;function YG(){if(Iz)return uS;Iz=1;var t=Jd(),e=sN(),r=SN(),n=Yp(),i=xN(),s=Ou(),a=om(),o=oN(),l=lN(),u=tme(),c=Nt(),h=am().fastKey,f=Io(),p=f.set,m=f.getterFor;return uS={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),c||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),T=O(S,P),N,q;return T?T.value=C:(I.last=T={index:q=h(P,!0),key:P,value:C,previous:N=I.last,next:null,removed:!1},I.first||(I.first=T),N&&(N.next=T),c?I.size++:S.size++,q!=="F"&&(I.index[q]=T)),S},O=function(S,P){var C=_(S),I=h(P),T;if(I!=="F")return C.index[I];for(T=C.first;T;T=T.next)if(T.key===P)return T};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),c?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var T=I.next,N=I.previous;delete C.index[I.index],I.removed=!0,N&&(N.next=T),T&&(T.previous=N),C.first===I&&(C.first=T),C.last===I&&(C.last=N),c?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(I(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),c&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},uS}var Rz;function rme(){if(Rz)return vz;Rz=1;var t=_N(),e=YG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),vz}var jz;function nme(){return jz||(jz=1,rme()),mz}var $z={},cS,kz;function QG(){return kz||(kz=1,cS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),cS}var dS,Dz;function ime(){if(Dz)return dS;Dz=1;var t=vn(),e=QG(),r=t("Map");return dS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},dS}var qz;function sme(){if(qz)return $z;qz=1;var t=ye(),e=Fe(),r=us(),n=ls(),i=om(),s=ime(),a=Nu(),o=qe(),l=s.Map,u=s.has,c=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(c(g,w),x):h(g,w,[x])}),g}}),$z}var Mz={},hS,Fz;function ame(){if(Fz)return hS;Fz=1;var t=Fe(),e=ju(),r=Dn(),n=ls(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,c){var h=r(n(u)),f=e(c),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return hS={codeAt:o(!1),charAt:o(!0)},hS}var Az;function EN(){if(Az)return Mz;Az=1;var t=ame().charAt,e=Dn(),r=Io(),n=oN(),i=lN(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),c=u.string,h=u.index,f;return h>=c.length?i(void 0,!0):(f=t(c,h),u.index+=f.length,i(f,!1))}),Mz}var fS,Lz;function ome(){if(Lz)return fS;Lz=1,qu(),nme(),sme(),EN();var t=Ve();return fS=t.Map,fS}var pS,Bz;function lme(){if(Bz)return pS;Bz=1;var t=ome();return Mu(),pS=t,pS}var mS,zz;function ume(){return zz||(zz=1,mS=lme()),mS}var cme=ume(),ON=Oe(cme);class dme{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},Dt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ue(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new ON,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var Uz={},Wz;function hme(){if(Wz)return Uz;Wz=1;var t=ye();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),Uz}var vS,Hz;function fme(){if(Hz)return vS;Hz=1,hme();var t=Ve();return vS=t.Number.isNaN,vS}var gS,Vz;function pme(){if(Vz)return gS;Vz=1;var t=fme();return gS=t,gS}var yS,Kz;function mme(){return Kz||(Kz=1,yS=pme()),yS}var vme=mme(),nC=Oe(vme),Gz={},bS,Yz;function gme(){if(Yz)return bS;Yz=1;var t=ut(),e=t.isFinite;return bS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},bS}var Qz;function yme(){if(Qz)return Gz;Qz=1;var t=ye(),e=gme();return t({target:"Number",stat:!0},{isFinite:e}),Gz}var wS,Xz;function bme(){if(Xz)return wS;Xz=1,yme();var t=Ve();return wS=t.Number.isFinite,wS}var xS,Jz;function wme(){if(Jz)return xS;Jz=1;var t=bme();return xS=t,xS}var _S,Zz;function xme(){return Zz||(Zz=1,_S=wme()),_S}var _me=xme(),Ia=Oe(_me),e6={},t6;function Sme(){if(t6)return e6;t6=1;var t=ye(),e=fa().some,r=Fu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),e6}var SS,r6;function Eme(){if(r6)return SS;r6=1,Sme();var t=fr();return SS=t("Array","some"),SS}var ES,n6;function Ome(){if(n6)return ES;n6=1;var t=At(),e=Eme(),r=Array.prototype;return ES=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},ES}var OS,i6;function Pme(){if(i6)return OS;i6=1;var t=Ome();return OS=t,OS}var PS,s6;function Cme(){return s6||(s6=1,PS=Pme()),PS}var Tme=Cme(),Nme=Oe(Tme),CS={exports:{}},a6={},o6;function Ime(){if(o6)return a6;o6=1;var t=ye(),e=Nt(),r=kn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),a6}var l6;function Rme(){if(l6)return CS.exports;l6=1,Ime();var t=Ve(),e=t.Object,r=CS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),CS.exports}var TS,u6;function XG(){if(u6)return TS;u6=1;var t=Rme();return TS=t,TS}var NS,c6;function jme(){if(c6)return NS;c6=1;var t=XG();return NS=t,NS}var IS,d6;function $me(){if(d6)return IS;d6=1;var t=jme();return IS=t,IS}var RS,h6;function kme(){return h6||(h6=1,RS=$me()),RS}var Dme=kme(),qme=Oe(Dme),f6={},p6;function Mme(){if(p6)return f6;p6=1;var t=Lt(),e=kn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),f6}var m6={},v6;function Fme(){return v6||(v6=1,Z9()),m6}var g6={},y6;function Ame(){return y6||(y6=1,eG()),g6}var b6={},w6;function Lme(){if(w6)return b6;w6=1;var t=vt();return t("metadata"),b6}var jS,x6;function Bme(){if(x6)return jS;x6=1;var t=sG();return Mme(),Fme(),Ame(),Lme(),jS=t,jS}var _6={},$S,S6;function JG(){if(S6)return $S;S6=1;var t=vn(),e=Fe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return $S=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},$S}var E6;function zme(){if(E6)return _6;E6=1;var t=ye(),e=JG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),_6}var O6={},kS,P6;function ZG(){if(P6)return kS;P6=1;for(var t=Iu(),e=vn(),r=Fe(),n=Gd(),i=Lt(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),c=0,h=o(s),f=h.length;c<f;c++)try{var p=h[c];n(s[p])&&i(p)}catch{}return kS=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},kS}var C6;function Ume(){if(C6)return O6;C6=1;var t=ye(),e=ZG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),O6}var T6={},N6;function Wme(){if(N6)return T6;N6=1;var t=vt();return t("customMatcher"),T6}var I6={},R6;function Hme(){if(R6)return I6;R6=1;var t=vt();return t("observable"),I6}var j6={},$6;function Vme(){if($6)return j6;$6=1;var t=ye(),e=JG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),j6}var k6={},D6;function Kme(){if(D6)return k6;D6=1;var t=ye(),e=ZG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),k6}var q6={},M6;function Gme(){if(M6)return q6;M6=1;var t=vt();return t("matcher"),q6}var F6={},A6;function Yme(){if(A6)return F6;A6=1;var t=vt();return t("metadataKey"),F6}var L6={},B6;function Qme(){if(B6)return L6;B6=1;var t=vt();return t("patternMatch"),L6}var z6={},U6;function Xme(){if(U6)return z6;U6=1;var t=vt();return t("replaceAll"),z6}var DS,W6;function Jme(){if(W6)return DS;W6=1;var t=Bme();return zme(),Ume(),Wme(),Hme(),Vme(),Kme(),Gme(),Yme(),Qme(),Xme(),DS=t,DS}var qS,H6;function Zme(){return H6||(H6=1,qS=Jme()),qS}var eve=Zme(),Ah=Oe(eve),MS,V6;function tve(){if(V6)return MS;V6=1,qu(),EN(),tG();var t=tm();return MS=t.f("iterator"),MS}var FS,K6;function rve(){if(K6)return FS;K6=1;var t=tve();return Mu(),FS=t,FS}var AS,G6;function nve(){if(G6)return AS;G6=1;var t=rve();return AS=t,AS}var LS,Y6;function ive(){if(Y6)return LS;Y6=1;var t=nve();return LS=t,LS}var BS,Q6;function sve(){return Q6||(Q6=1,BS=ive()),BS}var ave=sve(),ove=Oe(ave);function ld(t){"@babel/helpers - typeof";return ld=typeof Ah=="function"&&typeof ove=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ah=="function"&&e.constructor===Ah&&e!==Ah.prototype?"symbol":typeof e},ld(t)}var zS,X6;function lve(){if(X6)return zS;X6=1,rG();var t=tm();return zS=t.f("toPrimitive"),zS}var US,J6;function uve(){if(J6)return US;J6=1;var t=lve();return US=t,US}var WS,Z6;function cve(){if(Z6)return WS;Z6=1;var t=uve();return WS=t,WS}var HS,eU;function dve(){if(eU)return HS;eU=1;var t=cve();return HS=t,HS}var VS,tU;function hve(){return tU||(tU=1,VS=dve()),VS}var fve=hve(),pve=Oe(fve);function mve(t,e){if(ld(t)!="object"||!t)return t;var r=t[pve];if(r!==void 0){var n=r.call(t,e);if(ld(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function vve(t){var e=mve(t,"string");return ld(e)=="symbol"?e:e+""}function qi(t,e,r){return(e=vve(e))in t?qme(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var rU={},KS,nU;function gve(){if(nU)return KS;nU=1;var t=ut(),e=qe(),r=Fe(),n=Dn(),i=oG().trim,s=uN(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,u=l&&l.iterator,c=1/o(s+"-0")!==-1/0||u&&!e(function(){o(Object(u))});return KS=c?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,KS}var iU;function yve(){if(iU)return rU;iU=1;var t=ye(),e=gve();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),rU}var GS,sU;function bve(){if(sU)return GS;sU=1,yve();var t=Ve();return GS=t.parseFloat,GS}var YS,aU;function wve(){if(aU)return YS;aU=1;var t=bve();return YS=t,YS}var QS,oU;function xve(){return oU||(oU=1,QS=wve()),QS}var _ve=xve(),eY=Oe(_ve),lU={},uU;function Sve(){if(uU)return lU;uU=1;var t=ye(),e=qe(),r=iN().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),lU}var XS,cU;function Eve(){if(cU)return XS;cU=1,Sve();var t=Ve(),e=t.Object;return XS=function(n){return e.getOwnPropertyNames(n)},XS}var JS,dU;function Ove(){if(dU)return JS;dU=1;var t=Eve();return JS=t,JS}var ZS,hU;function Pve(){return hU||(hU=1,ZS=Ove()),ZS}var Cve=Pve(),Tve=Oe(Cve),eE,fU;function Nve(){if(fU)return eE;fU=1,J9();var t=Ve();return eE=t.Object.getOwnPropertySymbols,eE}var tE,pU;function Ive(){if(pU)return tE;pU=1;var t=Nve();return tE=t,tE}var rE,mU;function Rve(){return mU||(mU=1,rE=Ive()),rE}var jve=Rve(),na=Oe(jve),nE={exports:{}},vU={},gU;function $ve(){if(gU)return vU;gU=1;var t=ye(),e=qe(),r=ni(),n=Gp().f,i=Nt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),vU}var yU;function kve(){if(yU)return nE.exports;yU=1,$ve();var t=Ve(),e=t.Object,r=nE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),nE.exports}var iE,bU;function Dve(){if(bU)return iE;bU=1;var t=kve();return iE=t,iE}var sE,wU;function qve(){return wU||(wU=1,sE=Dve()),sE}var Mve=qve(),pa=Oe(Mve),xU={},_U;function Fve(){if(_U)return xU;_U=1;var t=ye(),e=Nt(),r=ude(),n=ni(),i=Gp(),s=Jp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,c=r(l),h={},f=0,p,m;c.length>f;)m=u(l,p=c[f++]),m!==void 0&&s(h,p,m);return h}}),xU}var aE,SU;function Ave(){if(SU)return aE;SU=1,Fve();var t=Ve();return aE=t.Object.getOwnPropertyDescriptors,aE}var oE,EU;function Lve(){if(EU)return oE;EU=1;var t=Ave();return oE=t,oE}var lE,OU;function Bve(){return OU||(OU=1,lE=Lve()),lE}var zve=Bve(),ia=Oe(zve),uE={exports:{}},PU={},CU;function Uve(){if(CU)return PU;CU=1;var t=ye(),e=Nt(),r=nN().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),PU}var TU;function Wve(){if(TU)return uE.exports;TU=1,Uve();var t=Ve(),e=t.Object,r=uE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),uE.exports}var cE,NU;function Hve(){if(NU)return cE;NU=1;var t=Wve();return cE=t,cE}var dE,IU;function Vve(){return IU||(IU=1,dE=Hve()),dE}var Kve=Vve(),lm=Oe(Kve),hE,RU;function Gve(){return RU||(RU=1,hE=XG()),hE}var Yve=Gve(),um=Oe(Yve);function PN(t,e){const r=["node","edge","label"];let n=!0;const i=ys(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ue(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=ys(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function iC(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function ep(t){return typeof t=="string"&&t!==""}function tY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var fE,jU;function Qve(){if(jU)return fE;jU=1,qu();var t=fr();return fE=t("Array","values"),fE}var pE,$U;function Xve(){if($U)return pE;$U=1;var t=Qve();return pE=t,pE}var mE,kU;function Jve(){if(kU)return mE;kU=1,Mu();var t=ku(),e=hr(),r=At(),n=Xve(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return mE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},mE}var vE,DU;function Zve(){return DU||(DU=1,vE=Jve()),vE}var ege=Zve(),rY=Oe(ege);class tge{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=Dt({},rY(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};Dt(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const rge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class qU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=rge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class nge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let u=0;return a!==""&&(u=this.ctx.measureText(a).width),{width:u,values:l}};this.lines=new tge(s)}process(e){if(!ep(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.splitStringIntoLines(u,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new qU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new qU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(pi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(pi(a).call(a,0,o),r),i[0]=pi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=pi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=pi(i).call(i,a)}}}}const rc=["bold","ital","boldital","mono"];class bl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),ep(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Re(rc,r=>{this.fontOptions[r]={}}),bl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Re(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=ys(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=ys(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=ys(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=ys(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=ys(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=ys(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),et(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=PN("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};bl.parseFontString(s,i)&&(i=s),Re(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ue(rc).call(rc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(bl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<rc.length;++n){const i=rc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);Re(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let u=0;u<o.blocks.length;u++){const c=o.blocks[u];e.font=c.font;const[h,f]=this._getColor(c.color,s,c.strokeColor);c.strokeWidth>0&&(e.lineWidth=c.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,c.strokeWidth>0&&e.strokeText(c.text,r+l,n+c.vadjust),e.fillText(c.text,r+l,n+c.vadjust),l+=c.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=On(i,a),s=On(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,c){return u==="normal"?c==="mod"?"":l[c]:l[u][c]!==void 0?l[u][c]:l[c]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new nge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class jo{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),th(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let ige=class extends jo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),B9(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class CN extends jo{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),eN(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let sge=class extends CN{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class age extends CN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class ma extends jo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),_ce(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function MU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function oge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=MU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?lm(t,ia(i)):Ge(n=MU(Object(i))).call(n,function(s){um(t,s,pa(i,s))})}return t}class lge extends ma{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:oge({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class uge extends jo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),z9(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let cge=class extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class dge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class FU extends jo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),GP(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class hge extends jo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let fge=class extends CN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,c=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?c:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=On(f,a.opacity),p=On(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),th(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class pge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class mge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class vge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class gge extends jo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let yge=class extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class bge extends ma{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function AU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function LU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=AU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?lm(t,ia(i)):Ge(n=AU(Object(i))).call(n,function(s){um(t,s,pa(i,s))})}return t}class ot{constructor(e,r,n,i,s,a){this.options=Qs(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new bl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ue(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ue(r=this.edges).call(r,e);if(n!=-1){var i;zi(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");ot.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Hn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Hn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=eY(e.value)),ot.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=PN("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&ot.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(ot.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Ur(i=Tve(r)).call(i,u=>r[u]!=null);l.push("font"),Jf(l,e,o),e.color=ZP(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Jf(["color","fixed","shadow"],e,r,n),ot.checkMass(r),e.opacity!==void 0&&(ot.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(ot.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!ot.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),_n(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=ZP(r.color);DG(e.color,o)}else n===!0&&r.color===null&&(e.color=Qs(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Qs(i.font)),ot.updateGroupOptions(e,r,s),r.scaling!==void 0&&_n(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=On(e.borderColor,r),e.color=On(e.color,r),e.shadowColor=On(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),ot.updateGroupOptions(this.options,LU(LU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new ige(this.options,this.body,this.labelModule);break;case"circle":this.shape=new sge(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new age(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new lge(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new uge(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new cge(this.options,this.body,this.labelModule);break;case"dot":this.shape=new dge(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new FU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new hge(this.options,this.body,this.labelModule);break;case"image":this.shape=new fge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new pge(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new mge(this.options,this.body,this.labelModule);break;case"star":this.shape=new vge(this.options,this.body,this.labelModule);break;case"text":this.shape=new gge(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new yge(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new bge(this.options,this.body,this.labelModule);break;default:this.shape=new FU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&iC(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),iC(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",AG),e.mass=1}}}class wge{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=Z(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,u){if(o===a)return .5;{const c=1/(o-a);return Math.max(0,(u-a)*c)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Qs(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",Z(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Z(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Re(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(ot.parseOptions(this.options,e),e.opacity!==void 0&&(nC(e.opacity)||!Ia(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of _t(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if($9("id",e))this.body.data.nodes=e;else if(Ot(e))this.body.data.nodes=new Zl,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Zl;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Re(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const u=r[a];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[o]=l)}!s&&n!==void 0&&(s=Nme(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Re(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Ot(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Ui(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var BU={},zU;function xge(){if(zU)return BU;zU=1;var t=ye(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,u=0,c=arguments.length,h=0,f,p;u<c;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),BU}var gE,UU;function _ge(){if(UU)return gE;UU=1,xge();var t=Ve();return gE=t.Math.hypot,gE}var yE,WU;function Sge(){if(WU)return yE;WU=1;var t=_ge();return yE=t,yE}var bE,HU;function Ege(){return HU||(HU=1,bE=Sge()),bE}var Oge=Ege(),Pge=Oe(Oge);class Ct{static transform(e,r){Ot(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],u=l.x*Math.cos(s)-l.y*Math.sin(s),c=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*u,l.y=i+a*c}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let Cge=class extends Ct{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class Tge extends Ct{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Nge{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Ige{static draw(e,r){const n={x:-.4,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Rge{static draw(e,r){const n={x:-.3,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class jge{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class $ge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class kge{static draw(e,r){const n={x:-.4,y:0};return Ct.transform(n,r),eN(e,n.x,n.y,r.length*.4),!0}}class Dge{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class qge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Mge{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Fge{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class nY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return Cge.draw(e,r);case"circle":return kge.draw(e,r);case"box":return qge.draw(e,r);case"crow":return Nge.draw(e,r);case"curve":return Ige.draw(e,r);case"diamond":return Mge.draw(e,r);case"inv_curve":return Rge.draw(e,r);case"triangle":return jge.draw(e,r);case"inv_triangle":return $ge.draw(e,r);case"bar":return Dge.draw(e,r);case"vee":return Fge.draw(e,r);case"arrow":default:return Tge.draw(e,r)}}}function VU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function KU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=VU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?lm(t,ia(i)):Ge(n=VU(Object(i))).call(n,function(s){um(t,s,pa(i,s))})}return t}class iY{constructor(e,r,n){qi(this,"color",{}),qi(this,"colorDirty",!0),qi(this,"hoverWidth",1.5),qi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Ot(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)U9(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=pi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=tY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,u=10,c=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,c,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<u);return KU(KU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=On(this.from.options.color.border,r.opacity),s=On(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?On(this.to.options.color.border,r.opacity):On(this.from.options.color.border,r.opacity)}else return On(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,c=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});a=Math.atan2(c.y-i,c.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,u]=this._getCircleData(void 0),c=o-s,h=l-a;return Math.abs(Math.sqrt(c*c+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,u=o*o+l*l;let c=((s-e)*o+(a-r)*l)/u;c>1?c=1:c<0&&(c=0);const h=e+c*o,f=r+c*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,u,c,h,f,p;const m=a.width;r==="from"?(u=this.from,c=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(u=this.to,c=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(u=this.to,c=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(u!=c){const x=Pge(u.x-c.x,u.y-c.y),w=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(u.y-c.y,u.x-c.x),l=this._findBorderPosition(u,e);else{const _=(h?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,nY.draw(e,s)&&(this.enableShadow(e,r),th(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Ot(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function GU(t,e){var r=_t(t);if(na){var n=na(t);e&&(n=Ur(n).call(n,function(i){return pa(t,i).enumerable})),r.push.apply(r,n)}return r}function YU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ge(r=GU(Object(i),!0)).call(r,function(s){qi(t,s,i[s])}):ia?lm(t,ia(i)):Ge(n=GU(Object(i))).call(n,function(s){um(t,s,pa(i,s))})}return t}class TN extends iY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,u=this.to,c,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,c=this.getPoint(h,n);const m=Math.atan2(u.y-c.y,u.x-c.x),y=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(c.x-u.x,2)+Math.pow(c.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return YU(YU({},c),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,u,c,h,f,p,m=e,y=r;for(c=1;c<10;c++)h=.1*c,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,c>0&&(u=this._getDistanceToLine(m,y,f,p,s,a),l=u<l?u:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class QU extends TN{constructor(e,r,n){super(e,r,n),qi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class XU extends TN{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Age extends TN{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let u=1e9,c=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(c,h,y,b,s,a);u=g<u?g:u}c=y,h=b}return u}}class JU extends Age{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class ZU extends iY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),u=e.distanceToBorder(r,s),c=(l-u)/l;return{x:(1-c)*i.x+c*n.x,y:(1-c)*i.y+c*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class Xs{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Qs(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new bl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Xs.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=eY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=PN("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Lu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Ia(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Ia(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),ep(r.label)?e.label=r.label:ep(e.label)||(e.label=void 0),_n(e,r,"smooth",i),_n(e,r,"shadow",i),_n(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=Ka(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),_n(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=Ka(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ue(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ue(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ue(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")_n(e.arrows,r.arrows,"to",i.arrows),_n(e.arrows,r.arrows,"middle",i.arrows),_n(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+eh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=Ka(i.arrows));if(r.color!==void 0&&r.color!==null){const o=gl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)et(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(gl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let u=!1;o.color!==void 0&&(l.color=o.color,u=!0),o.highlight!==void 0&&(l.highlight=o.highlight,u=!0),o.hover!==void 0&&(l.hover=o.hover,u=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Qs(i.color));n===!0&&r.font===null&&(e.font=Qs(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof QU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof JU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof XU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof ZU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new QU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new JU(this.options,this.body,this.labelModule):this.edgeType=new XU(this.options,this.body,this.labelModule):this.edgeType=new ZU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=tY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();iC(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Lge{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=Z(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const u=1/(a-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},et(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],u=e.body.data.edges.get(o);if(u!=null){const c=u.smooth;c!==void 0&&c.enabled===!0&&c.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Z(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",Z(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Re(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Xs.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if($9("id",e))this.body.data.edges=e;else if(Ot(e))this.body.data.edges=new Zl,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Zl;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Re(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Re(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Re(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Xs(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Re(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Ge(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class sY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=sm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const u=Math.abs(o-s)-Math.abs(l-a);u>0?(a-=.5*u,l+=.5*u):(s+=.5*u,o-=.5*u);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Bge{constructor(e,r,n){this._rng=sm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.nodes,c=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<c.length-1;y++){o=u[c[y]];for(let b=y+1;b<c.length;b++)l=u[c[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class zge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const u=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),c=l.x-a.x,h=l.y-a.y,f=Math.sqrt(c*c+h*h),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const y=c*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class wE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,u=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class Uge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.edges,c=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<h.length;w++)r=u[h[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=c*s,p[r.toId].y-=c*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=c*s,p[r.fromId].y+=c*a)));o=1;let m,y;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,g+=p[_].y}const v=b/f.length,x=g/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class of{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const u=a[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Wge extends sY{constructor(e,r,n){super(e,r,n),this._rng=sm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,u=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class Hge extends of{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Vge{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},Dt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Jf(["stabilization"],this.options,e),_n(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||nC(r.x))&&(r.x=0),(typeof r.y!="number"||nC(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Wge(this.body,this.physicsBody,e),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new Hge(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Bge(this.body,this.physicsBody,e),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new of(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new zge(this.body,this.physicsBody,e),this.edgesSolver=new Uge(this.body,this.physicsBody,e),this.gravitySolver=new of(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new sY(this.body,this.physicsBody,e),this.edgesSolver=new wE(this.body,this.physicsBody,e),this.gravitySolver=new of(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Z(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Gf();this.physicsTick(),(Gf()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Ui(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=_t(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Ui(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Ui(Z(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),c=3*u,h=eC((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,nY.draw(e,{type:"arrow",point:f,angle:p,length:c}),th(e).call(e)}}}const sr=[];for(let t=0;t<256;++t)sr.push((t+256).toString(16).slice(1));function Kge(t,e=0){return(sr[t[e+0]]+sr[t[e+1]]+sr[t[e+2]]+sr[t[e+3]]+"-"+sr[t[e+4]]+sr[t[e+5]]+"-"+sr[t[e+6]]+sr[t[e+7]]+"-"+sr[t[e+8]]+sr[t[e+9]]+"-"+sr[t[e+10]]+sr[t[e+11]]+sr[t[e+12]]+sr[t[e+13]]+sr[t[e+14]]+sr[t[e+15]]).toLowerCase()}let xE;const Gge=new Uint8Array(16);function Yge(){if(!xE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");xE=crypto.getRandomValues.bind(crypto)}return xE(Gge)}const Qge=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var eW={randomUUID:Qge};function Xge(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Yge();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Kge(n)}function Pc(t,e,r){return eW.randomUUID&&!t?eW.randomUUID():Xge(t)}class Nr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(et(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):et(n,e.options,!0),n}}class Jge extends ot{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Re(r.edges,n=>{delete this.containedEdges[n.id]}),Re(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Re(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Re(r.edges,n=>{Re(this.edges,i=>{var s,a;const o=Ue(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(Re(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),zi(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Zge{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},Dt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Re(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,Re(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let u=0;u<this.body.nodeIndices.length;u++){const c={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Nr.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,c[f]=p,c[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(_t(c).length>0&&_t(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in c)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in c)g.nodes[v]===void 0&&(g.nodes[v]=c[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:c,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,u=Nr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Nr.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const c=eu(n=_t(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ue(c).call(c,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,u,c;const h=_t(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,u=s.fromId,c=u):(l=s.toId,u=n.id,c=l),e[c]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const c in e)Object.prototype.hasOwnProperty.call(e,c)&&this.clusteredNodes[c]!==void 0&&s.push(c);for(let c=0;c<s.length;++c)delete e[s[c]];if(_t(e).length==0||_t(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=et({},n.clusterNodeProperties);if(n.processProperties!==void 0){const c=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Nr.cloneOptions(e[f]);c.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Nr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,c,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Pc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const u=this.body.functions.createNode(a,Jge);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=_t(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ue(s).call(s,e)-1;if(a>=0){const c=s[a];this.body.nodes[c]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const c={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];c[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,c);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else Re(o,function(c){c.options.fixed.x===!1&&(c.x=i.x),c.options.fixed.y===!1&&(c.y=i.y)});for(const c in o)if(Object.prototype.hasOwnProperty.call(o,c)){const h=this.body.nodes[c];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[c]}const u=[];for(let c=0;c<i.edges.length;c++)u.push(i.edges[c]);for(let c=0;c<u.length;c++){const h=u[c],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const c in l)Object.prototype.hasOwnProperty.call(l,c)&&this._restoreEdge(l[c]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),Va(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Va(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(o);else for(let c=0;c<u.length;++c){const h=u[c];Ue(r).call(r,u)!==-1||Ue(n).call(n,u)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Nr.cloneOptions(n,"edge");et(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Pc(),s!==void 0&&et(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof Xs){const s=r,a={};a[s.id]=s,r=a}if(e instanceof ot){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Re(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Re(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Re(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Re(l.containedEdges,(u,c)=>{!u.endPointsValid()&&!n[c]&&(n[c]=c)})}),Re(this.body.edges,(l,u)=>{let c=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;Re(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),c=f>0}(!l.endPointsValid()||!c)&&(n[u]=u)}),i(l=>{Re(n,u=>{delete l.containedEdges[u],Re(l.edges,(c,h)=>{if(c.id===u){l.edges[h]=null;return}c.clusteringEdgeReplacingIds=this._filter(c.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(c){return c!==null})})}),Re(n,l=>{delete this.clusteredEdges[l]}),Re(n,l=>{delete this.body.edges[l]});const s=_t(this.body.edges);Re(s,l=>{const u=this.body.edges[l],c=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(c!==this._isClusteredEdge(u.id))if(c){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let a=!1,o=!0;for(;o;){const l=[];i(function(u){const c=_t(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&c<1||!h&&c<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class eye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Ui(()=>{var r;this.zooming=!1,Z(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Z(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Lu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(Z(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),c=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:c.y,right:c.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var _E,tW;function tye(){if(tW)return _E;tW=1,cG();var t=Ve();return _E=t.setInterval,_E}var SE,rW;function rye(){return rW||(rW=1,SE=tye()),SE}var nye=rye(),iye=Oe(nye);function tp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function aY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class sye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",Z(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Lu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=iye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=Z(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Ge(e=Va(r=zi(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ue(e).call(e,"%")!==-1||Ue(e).call(e,"px")!==-1)return e;if(Ue(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new yl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:yl.DIRECTION_ALL}),tp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new yl(this.frame),aY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function aye(t,e){const r=Dt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Ot(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class oye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Z(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Z(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=aye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Nr.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Nr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Nr.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,c=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/c;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Nr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Ia(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Ia(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Ia(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Ia(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=Z(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Z(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=mpe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Z(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function nW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(c){u(c,"keydown")},l=function(c){u(c,"keyup")},u=function(c,h){if(i[h][c.keyCode]!==void 0){for(var f=i[h][c.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&c.shiftKey==!0||f[p].shift==!1&&c.shiftKey==!1)&&f[p].fn(c);e==!0&&c.preventDefault()}};return n.bind=function(c,h,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);i[f][s[c].code]===void 0&&(i[f][s[c].code]=[]),i[f][s[c].code].push({fn:h,shift:s[c].shift})},n.bindAll=function(c,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,c,h)},n.getKey=function(c){for(var h in s)if(s.hasOwnProperty(h)){if(c.shiftKey==!0&&s[h].shift==!0&&c.keyCode==s[h].code)return h;if(c.shiftKey==!1&&s[h].shift==!1&&c.keyCode==s[h].code)return h;if(c.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(c,h,f){if(f===void 0&&(f="keydown"),s[c]===void 0)throw new Error("unsupported key: "+c);if(h!==void 0){var p=[],m=i[f][s[c].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[c].shift||p.push(i[f][s[c].code][y]);i[f][s[c].code]=p}else i[f][s[c].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class lye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new yl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;tp(o,Z(n=this._fit).call(n,this))}else{var i;tp(o,Z(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new yl(this.canvas.frame);aY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=Z(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=nW({container:window,preventDefault:!0}):this.keycharm=nW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,u,c,h,f,p,m,y,b,g,v,x,w,_,E,O,S;Z(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Z(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Z(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Z(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Z(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(c=this.keycharm).call(c,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Z(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Z(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Z(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Z(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class uye{constructor(e,r,n){var i,s,a,o,l,u,c,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new lye(e,r),this.body.eventListeners.onTap=Z(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=Z(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=Z(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=Z(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Z(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Z(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Z(c=this.onDragEnd).call(c,this),this.body.eventListeners.onMouseWheel=Z(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Z(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=Z(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=Z(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=Z(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Z(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Jf(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),_n(this.options,e,"keyboard"),e.tooltip&&(Dt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=ZP(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-dpe(this.canvas.frame.canvas),y:e.y-hpe(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ue(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=Dt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ge(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Ur(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Ge(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Ge(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Ui(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let c;const h=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&(a=!0,c.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,u=this.body.edges;let c;const h=[];for(let f=0;f<l.length;f++)c=u[l[f]],c.isOverlappingWith(i)===!0&&c.connected===!0&&c.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Spe(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var iW={},sW={},aW;function cye(){if(aW)return sW;aW=1;var t=_N(),e=YG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),sW}var oW;function dye(){return oW||(oW=1,cye()),iW}var lW={},EE,uW;function $o(){if(uW)return EE;uW=1;var t=Tu(),e=TypeError;return EE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},EE}var OE,cW;function ko(){if(cW)return OE;cW=1;var t=vn(),e=QG(),r=t("Set"),n=r.prototype;return OE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},OE}var PE,dW;function Do(){if(dW)return PE;dW=1;var t=rn();return PE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},PE}var CE,hW;function oh(){if(hW)return CE;hW=1;var t=Do();return CE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},CE}var TE,fW;function NN(){if(fW)return TE;fW=1;var t=ko(),e=oh(),r=t.Set,n=t.add;return TE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},TE}var NE,pW;function lh(){return pW||(pW=1,NE=function(t){return t.size}),NE}var IE,mW;function hye(){return mW||(mW=1,IE=function(t){return{iterator:t,next:t.next,done:!1}}),IE}var RE,vW;function qo(){if(vW)return RE;vW=1;var t=us(),e=Ei(),r=rn(),n=ju(),i=hye(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(c,h){this.set=c,this.size=l(h,0),this.has=t(c.has),this.keys=t(c.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(c){return r(this.has,this.set,c)}},RE=function(c){e(c);var h=+c.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(c,f)},RE}var jE,gW;function fye(){if(gW)return jE;gW=1;var t=$o(),e=ko(),r=NN(),n=lh(),i=qo(),s=oh(),a=Do(),o=e.has,l=e.remove;return jE=function(c){var h=t(this),f=i(c),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},jE}var $E,yW;function Mo(){return yW||(yW=1,$E=function(){return!1}),$E}var bW;function pye(){if(bW)return lW;bW=1;var t=ye(),e=fye(),r=qe(),n=Mo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),lW}var wW={},kE,xW;function mye(){if(xW)return kE;xW=1;var t=$o(),e=ko(),r=lh(),n=qo(),i=oh(),s=Do(),a=e.Set,o=e.add,l=e.has;return kE=function(c){var h=t(this),f=n(c),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},kE}var _W;function vye(){if(_W)return wW;_W=1;var t=ye(),e=qe(),r=mye(),n=Mo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),wW}var SW={},DE,EW;function gye(){if(EW)return DE;EW=1;var t=$o(),e=ko().has,r=lh(),n=qo(),i=oh(),s=Do(),a=wN();return DE=function(l){var u=t(this),c=n(l);if(r(u)<=c.size)return i(u,function(f){if(c.includes(f))return!1},!0)!==!1;var h=c.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},DE}var OW;function yye(){if(OW)return SW;OW=1;var t=ye(),e=gye(),r=Mo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),SW}var PW={},qE,CW;function bye(){if(CW)return qE;CW=1;var t=$o(),e=lh(),r=oh(),n=qo();return qE=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},qE}var TW;function wye(){if(TW)return PW;TW=1;var t=ye(),e=bye(),r=Mo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),PW}var NW={},ME,IW;function xye(){if(IW)return ME;IW=1;var t=$o(),e=ko().has,r=lh(),n=qo(),i=Do(),s=wN();return ME=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var c=u.getIterator();return i(c,function(h){if(!e(l,h))return s(c,"normal",!1)})!==!1},ME}var RW;function _ye(){if(RW)return NW;RW=1;var t=ye(),e=xye(),r=Mo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),NW}var jW={},FE,$W;function Sye(){if($W)return FE;$W=1;var t=$o(),e=ko(),r=NN(),n=qo(),i=Do(),s=e.add,a=e.has,o=e.remove;return FE=function(u){var c=t(this),h=n(u).getIterator(),f=r(c);return i(h,function(p){a(c,p)?o(f,p):s(f,p)}),f},FE}var AE,kW;function oY(){return kW||(kW=1,AE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),AE}var DW;function Eye(){if(DW)return jW;DW=1;var t=ye(),e=Sye(),r=oY(),n=Mo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),jW}var qW={},LE,MW;function Oye(){if(MW)return LE;MW=1;var t=$o(),e=ko().add,r=NN(),n=qo(),i=Do();return LE=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(c){e(u,c)}),u},LE}var FW;function Pye(){if(FW)return qW;FW=1;var t=ye(),e=Oye(),r=oY(),n=Mo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),qW}var BE,AW;function Cye(){if(AW)return BE;AW=1,qu(),dye(),pye(),vye(),yye(),wye(),_ye(),Eye(),Pye(),EN();var t=Ve();return BE=t.Set,BE}var zE,LW;function Tye(){if(LW)return zE;LW=1;var t=Cye();return Mu(),zE=t,zE}var UE,BW;function Nye(){return BW||(BW=1,UE=Tye()),UE}var Iye=Nye(),xs=Oe(Iye),zW={},UW={},WE,WW;function Rye(){if(WW)return WE;WW=1;var t=Fe(),e=SN(),r=am().getWeakData,n=xN(),i=Ei(),s=Ou(),a=nr(),o=om(),l=fa(),u=hr(),c=Io(),h=c.set,f=c.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&y(this.entries,_,1),!!~_}},WE={getConstructor:function(w,_,E,O){var S=w(function(T,N){n(T,P),h(T,{type:_,id:b++,frozen:null}),s(N)||o(N,T[O],{that:T,AS_ENTRIES:E})}),P=S.prototype,C=f(_),I=function(T,N,q){var B=C(T),re=r(i(N),!0);return re===!0?g(B).set(N,q):re[B.id]=q,T};return e(P,{delete:function(T){var N=C(this);if(!a(T))return!1;var q=r(T);return q===!0?g(N).delete(T):q&&u(q,N.id)&&delete q[N.id]},has:function(N){var q=C(this);if(!a(N))return!1;var B=r(N);return B===!0?g(q).has(N):B&&u(B,q.id)}}),e(P,E?{get:function(N){var q=C(this);if(a(N)){var B=r(N);if(B===!0)return g(q).get(N);if(B)return B[q.id]}},set:function(N,q){return I(this,N,q)}}:{add:function(N){return I(this,N,!0)}}),S}},WE}var HW;function jye(){if(HW)return UW;HW=1;var t=KG(),e=ut(),r=Fe(),n=SN(),i=am(),s=_N(),a=Rye(),o=nr(),l=Io().enforce,u=qe(),c=Y9(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var T=b([]);return O(new _,T,1),!m(T)})};if(c)if(v){x=a.getConstructor(w,"WeakMap",!0),i.enable();var P=r(E.delete),C=r(E.has),I=r(E.get);n(E,{delete:function(T){if(o(T)&&!p(T)){var N=l(this);return N.frozen||(N.frozen=new x),P(this,T)||N.frozen.delete(T)}return P(this,T)},has:function(N){if(o(N)&&!p(N)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,N)||q.frozen.has(N)}return C(this,N)},get:function(N){if(o(N)&&!p(N)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,N)?I(this,N):q.frozen.get(N)}return I(this,N)},set:function(N,q){if(o(N)&&!p(N)){var B=l(this);B.frozen||(B.frozen=new x),C(this,N)?O(this,N,q):B.frozen.set(N,q)}else O(this,N,q);return this}})}else S()&&n(E,{set:function(N,q){var B;return f(N)&&(m(N)?B=b:y(N)&&(B=g)),O(this,N,q),B&&B(N),this}});return UW}var VW;function $ye(){return VW||(VW=1,jye()),zW}var HE,KW;function kye(){if(KW)return HE;KW=1,qu(),$ye();var t=Ve();return HE=t.WeakMap,HE}var VE,GW;function Dye(){if(GW)return VE;GW=1;var t=kye();return Mu(),VE=t,VE}var KE,YW;function qye(){return YW||(YW=1,KE=Dye()),KE}var Mye=qye(),uh=Oe(Mye);function Cc(t,e,r){Fye(t,e),e.set(t,r)}function Fye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sC(t,e,r){return t.set(lY(t,e),r),r}function Ze(t,e){return t.get(lY(t,e))}function lY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function QW(t,e){const r=new xs;for(const n of e)t.has(n)||r.add(n);return r}var Wo=new uh,Fn=new uh;class XW{constructor(){Cc(this,Wo,new xs),Cc(this,Fn,new xs)}get size(){return Ze(Fn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(Fn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(Fn,this).delete(i)}clear(){Ze(Fn,this).clear()}getSelection(){return[...Ze(Fn,this)]}getChanges(){return{added:[...QW(Ze(Wo,this),Ze(Fn,this))],deleted:[...QW(Ze(Fn,this),Ze(Wo,this))],previous:[...new xs(Ze(Wo,this))],current:[...new xs(Ze(Fn,this))]}}commit(){const e=this.getChanges();sC(Wo,this,Ze(Fn,this)),sC(Fn,this,new xs(Ze(Wo,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var va=new uh,ga=new uh,GE=new uh;class Aye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Cc(this,va,new XW),Cc(this,ga,new XW),Cc(this,GE,void 0),sC(GE,this,e)}get sizeNodes(){return Ze(va,this).size}get sizeEdges(){return Ze(ga,this).size}getNodes(){return Ze(va,this).getSelection()}getEdges(){return Ze(ga,this).getSelection()}addNodes(){Ze(va,this).add(...arguments)}addEdges(){Ze(ga,this).add(...arguments)}deleteNodes(e){Ze(va,this).delete(e)}deleteEdges(e){Ze(ga,this).delete(e)}clear(){Ze(va,this).clear(),Ze(ga,this).clear()}commit(){const e={nodes:Ze(va,this).commit(),edges:Ze(ga,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ze(GE,this).call(this,e,...n),e}}class Lye{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Aye,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},Dt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Lu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof ot?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],u=a[l];if(u.connected){const c=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(c,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof ot?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof ot?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof ot?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof ot?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof ot&&n.id!=s||n instanceof Xs)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Xs&&n.id!=s||n instanceof ot&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=_t(this.hoverObj.edges).length,a=_t(this.hoverObj.nodes).length,o=n instanceof Xs&&s===0&&a===0,l=n instanceof ot&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof ot&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return eu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return eu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const c=s[i[l]].getItemsOnPoint(r);n.push.apply(n,c)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const c=o[a[l]].getItemsOnPoint(r);n.push.apply(n,c)}return n}}var JW={},YE,ZW;function Bye(){if(ZW)return YE;ZW=1;var t=$u(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),c=r(t(n,0,u),i),h=r(t(n,u),i),f=c.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(c[m],h[y])<=0?c[m++]:h[y++]:m<f?c[m++]:h[y++];return n};return YE=r,YE}var QE,e8;function zye(){if(e8)return QE;e8=1;var t=Pu(),e=t.match(/firefox\/(\d+)/i);return QE=!!e&&+e[1],QE}var XE,t8;function Uye(){if(t8)return XE;t8=1;var t=Pu();return XE=/MSIE|Trident/.test(t),XE}var JE,r8;function Wye(){if(r8)return JE;r8=1;var t=Pu(),e=t.match(/AppleWebKit\/(\d+)\./);return JE=!!e&&+e[1],JE}var n8;function Hye(){if(n8)return JW;n8=1;var t=ye(),e=Fe(),r=us(),n=gn(),i=cs(),s=aG(),a=Dn(),o=qe(),l=Bye(),u=Fu(),c=zye(),h=Uye(),f=Kd(),p=Wye(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(c&&c>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(T,N){return N.v-T.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),T,N;for(N=0;N<I;N++)N in P&&b(C,P[N]);for(l(C,E(S)),T=i(C),N=0;N<T;)P[N]=C[N++];for(;N<I;)s(P,N++);return P}}),JW}var ZE,i8;function Vye(){if(i8)return ZE;i8=1,Hye();var t=fr();return ZE=t("Array","sort"),ZE}var eO,s8;function Kye(){if(s8)return eO;s8=1;var t=At(),e=Vye(),r=Array.prototype;return eO=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},eO}var tO,a8;function Gye(){if(a8)return tO;a8=1;var t=Kye();return tO=t,tO}var rO,o8;function Yye(){return o8||(o8=1,rO=Gye()),rO}var Qye=Yye(),wl=Oe(Qye),l8={},nO,u8;function Xye(){if(u8)return nO;u8=1;var t=us(),e=gn(),r=Vp(),n=cs(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,c,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&c<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(c<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return nO={left:a(!1),right:a(!0)},nO}var iO,c8;function Jye(){if(c8)return iO;c8=1;var t=lG();return iO=t==="NODE",iO}var d8;function Zye(){if(d8)return l8;d8=1;var t=ye(),e=Xye().left,r=Fu(),n=Kd(),i=Jye(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),l8}var sO,h8;function ebe(){if(h8)return sO;h8=1,Zye();var t=fr();return sO=t("Array","reduce"),sO}var aO,f8;function tbe(){if(f8)return aO;f8=1;var t=At(),e=ebe(),r=Array.prototype;return aO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},aO}var oO,p8;function rbe(){if(p8)return oO;p8=1;var t=tbe();return oO=t,oO}var lO,m8;function nbe(){return m8||(m8=1,lO=rbe()),lO}var ibe=nbe(),uY=Oe(ibe);class cY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class sbe extends cY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){wl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class abe extends cY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){wl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var v8={},g8;function obe(){if(g8)return v8;g8=1;var t=ye(),e=fa().every,r=Fu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),v8}var uO,y8;function lbe(){if(y8)return uO;y8=1,obe();var t=fr();return uO=t("Array","every"),uO}var cO,b8;function ube(){if(b8)return cO;b8=1;var t=At(),e=lbe(),r=Array.prototype;return cO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},cO}var dO,w8;function cbe(){if(w8)return dO;w8=1;var t=ube();return dO=t,dO}var hO,x8;function dbe(){return x8||(x8=1,hO=cbe()),hO}var hbe=dbe(),dY=Oe(hbe);function fbe(t,e){const r=new xs;return Ge(t).call(t,n=>{var i;Ge(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Ge(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function pbe(t){return hY(e=>{var r,n;return dY(r=Ur(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function mbe(t){return hY(e=>{var r,n;return dY(r=Ur(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function hY(t,e,r,n){var i;const s=Ka(null),a=uY(i=[...rY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var u,c;if(!n.has(h))continue;const b=s[y.id]+l;if(Ge(u=Ur(c=y.edges).call(c,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const v=g[o],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(g[r]))}),m>a)return fbe(n,s);++m}}return s}class vbe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new ON;let n=0;const i=wl(e=[...new xs(Rhe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return _t(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class gbe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Gf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},Dt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Lu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),_n(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),et(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=sm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const c=e.length;if(u==c&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*o,u.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Nr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Nr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new vbe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const w=g[x].max-g[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===g&&this.direction.shift(w,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let w=0;w<x.length;w++)o(this.body.nodes[x[w]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],P=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[I,T]=e._getSpaceAroundNode(S,g);x=Math.min(I,x),w=Math.min(T,w),P<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,x,w]},u=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},c=(g,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const P=O[S],C=O[S+1];w.hasSameParent(P,C)&&w.inSameSubNetwork(P,C)&&g(P,C,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},P={};o(g,S),o(v,P);const C=u(g,v),I=l(S,C),T=l(P,C),N=I[1],q=T[0],B=T[2];if(Math.abs(N-q)>O){let Y=N-q+O;Y<-B+O&&(Y=-B+O),Y<0&&(e._shiftBlock(v.id,Y),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let B=0;B<w.length;B++){const re=w[B];if(re.toId!=re.fromId){const Y=re.toId==x?re.from:re.to;O[w[B].id]=Y,this.hierarchical.levels[Y.id]<_&&S.push(re)}}const P=(B,re)=>{let Y=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const K=this.direction.getPosition(O[re[L].id])-B;Y+=K/Math.sqrt(K*K+E)}return Y},C=(B,re)=>{let Y=0;for(let L=0;L<re.length;L++)if(O[re[L].id]!==void 0){const K=this.direction.getPosition(O[re[L].id])-B;Y-=E*Math.pow(K*K+E,-1.5)}return Y},I=(B,re)=>{let Y=this.direction.getPosition(v);const L={};for(let K=0;K<B;K++){const z=P(Y,re),U=C(Y,re),ee=40,fe=Math.max(-ee,Math.min(ee,Math.round(z/U)));if(Y=Y-fe,L[Y]!==void 0)break;L[Y]=K}return Y},T=B=>{const re=this.direction.getPosition(v);if(n[v.id]===void 0){const ee={};o(v,ee),n[v.id]=ee}const Y=l(n[v.id]),L=Y[2],K=Y[3],z=B-re;let U=0;z>0?U=Math.min(z,K-this.options.hierarchical.nodeSpacing):z<0&&(U=-Math.min(-z,L-this.options.hierarchical.nodeSpacing)),U!=0&&(this._shiftBlock(v.id,U),r=!0)},N=B=>{const re=this.direction.getPosition(v),[Y,L]=this._getSpaceAroundNode(v),K=B-re;let z=re;K>0?z=Math.min(re+(L-this.options.hierarchical.nodeSpacing),B):K<0&&(z=Math.max(re-(Y-this.options.hierarchical.nodeSpacing),B)),z!==re&&(this.direction.setPosition(v,z),r=!0)};let q=I(g,S);T(q),q=I(g,w),N(q)},p=g=>{let v=this.hierarchical.getLevels();v=Va(v).call(v);for(let x=0;x<g;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=Va(v).call(v);for(let x=0;x<g&&(r=!1,c(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=Va(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const c=o[s-1];if(n===!0&&r[c.id]===void 0||n===!1){const h=this.direction.getPosition(c);l=a-h}}if(s!=o.length-1){const c=o[s+1];if(n===!0&&r[c.id]===void 0||n===!1){const h=this.direction.getPosition(c);u=Math.min(u,h-a)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[u,c]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=_t(e[n]);i=this._indexArrayToNodes(i),wl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,u,n),this._validatePositionAndContinue(o,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);wl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const c=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+c,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Re(e.edges,n=>{var i;Ue(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Re(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return Re(e,i=>{n.push(Number(i))}),wl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Re(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Nr.cloneOptions(i,"node"),Nr.cloneOptions(s,"node"),Nr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=uY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new ON);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=mbe(r):this.hierarchical.levels=pbe(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const c=l[u];c.connected===!0&&(c.toId==s.id?o=c.from:o=c.to,s.id!=o.id&&(e(s,o,c),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];a[c]=!0,i(a,c)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const c=l[u];if(a[c]!==void 0)return{foundParent:c,withChild:o};const h=s(a,c);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new sbe(this):this.direction=new abe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class ybe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},Dt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Z(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Z(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,et(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Z(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Z(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",Z(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=et({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Z(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",Z(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Z(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",Z(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Z(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Z(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Z(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Z(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Z(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",Z(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const c=a.edgeType.findBorderPositions(u);o.selected===!1&&(o.x=c.from.x,o.y=c.from.y),l.selected===!1&&(l.x=c.to.x,l.y=c.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=et({},this.options.controlNodeStyle);n.id="targetNode"+Pc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},gs(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Z(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(gs(this.editModeDiv),gs(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of zi(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),gs(this.manipulationDiv),gs(this.editModeDiv),gs(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+eh(_t(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new yl(e,{});tp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ue(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;zi(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ue(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;zi(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Dt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=Dt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Pc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Pc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",J="boolean",F="number",uc="array",me="object",fY="dom",bbe="any",fO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],pO={borderWidth:{number:F},borderWidthSelected:{number:F,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:J,function:"function"},node:{boolean:J,function:"function"},__type__:{object:me,boolean:J}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},__type__:{object:me,string:se}},opacity:{number:F,undefined:"undefined"},fixed:{x:{boolean:J},y:{boolean:J},__type__:{object:me,boolean:J}},font:{align:{string:se},color:{string:se},size:{number:F},face:{string:se},background:{string:se},strokeWidth:{number:F},strokeColor:{string:se},vadjust:{number:F},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},__type__:{object:me,string:se}},group:{string:se,number:F,undefined:"undefined"},heightConstraint:{minimum:{number:F},valign:{string:se},__type__:{object:me,boolean:J,number:F}},hidden:{boolean:J},icon:{face:{string:se},code:{string:se},size:{number:F},color:{string:se},weight:{string:se,number:F},__type__:{object:me}},id:{string:se,number:F},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:me,string:se}},imagePadding:{top:{number:F},right:{number:F},bottom:{number:F},left:{number:F},__type__:{object:me,number:F}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},level:{number:F,undefined:"undefined"},margin:{top:{number:F},right:{number:F},bottom:{number:F},left:{number:F},__type__:{object:me,number:F}},mass:{number:F},physics:{boolean:J},scaling:{min:{number:F},max:{number:F},label:{enabled:{boolean:J},min:{number:F},max:{number:F},maxVisible:{number:F},drawThreshold:{number:F},__type__:{object:me,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:me}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:F},x:{number:F},y:{number:F},__type__:{object:me,boolean:J}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:J,array:uc},borderRadius:{number:F},interpolation:{boolean:J},useImageSize:{boolean:J},useBorderWithImage:{boolean:J},coordinateOrigin:{string:["center","top-left"]},__type__:{object:me}},size:{number:F},title:{string:se,dom:fY,undefined:"undefined"},value:{number:F,undefined:"undefined"},widthConstraint:{minimum:{number:F},maximum:{number:F},__type__:{object:me,boolean:J,number:F}},x:{number:F},y:{number:F},__type__:{object:me}},wbe={configure:{enabled:{boolean:J},filter:{boolean:J,string:se,array:uc,function:"function"},container:{dom:fY},showButton:{boolean:J},__type__:{object:me,boolean:J,string:se,array:uc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:J},scaleFactor:{number:F},type:{string:fO},imageHeight:{number:F},imageWidth:{number:F},src:{string:se},__type__:{object:me,boolean:J}},middle:{enabled:{boolean:J},scaleFactor:{number:F},type:{string:fO},imageWidth:{number:F},imageHeight:{number:F},src:{string:se},__type__:{object:me,boolean:J}},from:{enabled:{boolean:J},scaleFactor:{number:F},type:{string:fO},imageWidth:{number:F},imageHeight:{number:F},src:{string:se},__type__:{object:me,boolean:J}},__type__:{string:["from","to","middle"],object:me}},endPointOffset:{from:{number:F},to:{number:F},__type__:{object:me,number:F}},arrowStrikethrough:{boolean:J},background:{enabled:{boolean:J},color:{string:se},size:{number:F},dashes:{boolean:J,array:uc},__type__:{object:me,boolean:J}},chosen:{label:{boolean:J,function:"function"},edge:{boolean:J,function:"function"},__type__:{object:me,boolean:J}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:J},opacity:{number:F},__type__:{object:me,string:se}},dashes:{boolean:J,array:uc},font:{color:{string:se},size:{number:F},face:{string:se},background:{string:se},strokeWidth:{number:F},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:F},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:F},face:{string:se},mod:{string:se},vadjust:{number:F},__type__:{object:me,string:se}},__type__:{object:me,string:se}},hidden:{boolean:J},hoverWidth:{function:"function",number:F},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},length:{number:F,undefined:"undefined"},physics:{boolean:J},scaling:{min:{number:F},max:{number:F},label:{enabled:{boolean:J},min:{number:F},max:{number:F},maxVisible:{number:F},drawThreshold:{number:F},__type__:{object:me,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:me}},selectionWidth:{function:"function",number:F},selfReferenceSize:{number:F},selfReference:{size:{number:F},angle:{number:F},renderBehindTheNode:{boolean:J},__type__:{object:me}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:F},x:{number:F},y:{number:F},__type__:{object:me,boolean:J}},smooth:{enabled:{boolean:J},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:F},forceDirection:{string:["horizontal","vertical","none"],boolean:J},__type__:{object:me,boolean:J}},title:{string:se,undefined:"undefined"},width:{number:F},widthConstraint:{maximum:{number:F},__type__:{object:me,boolean:J,number:F}},value:{number:F,undefined:"undefined"},__type__:{object:me}},groups:{useDefaultGroups:{boolean:J},__any__:pO,__type__:{object:me}},interaction:{dragNodes:{boolean:J},dragView:{boolean:J},hideEdgesOnDrag:{boolean:J},hideEdgesOnZoom:{boolean:J},hideNodesOnDrag:{boolean:J},hover:{boolean:J},keyboard:{enabled:{boolean:J},speed:{x:{number:F},y:{number:F},zoom:{number:F},__type__:{object:me}},bindToWindow:{boolean:J},autoFocus:{boolean:J},__type__:{object:me,boolean:J}},multiselect:{boolean:J},navigationButtons:{boolean:J},selectable:{boolean:J},selectConnectedEdges:{boolean:J},hoverConnectedEdges:{boolean:J},tooltipDelay:{number:F},zoomView:{boolean:J},zoomSpeed:{number:F},__type__:{object:me}},layout:{randomSeed:{undefined:"undefined",number:F,string:se},improvedLayout:{boolean:J},clusterThreshold:{number:F},hierarchical:{enabled:{boolean:J},levelSeparation:{number:F},nodeSpacing:{number:F},treeSpacing:{number:F},blockShifting:{boolean:J},edgeMinimization:{boolean:J},parentCentralization:{boolean:J},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:me,boolean:J}},__type__:{object:me}},manipulation:{enabled:{boolean:J},initiallyActive:{boolean:J},addNode:{boolean:J,function:"function"},addEdge:{boolean:J,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:me,boolean:J,function:"function"}},deleteNode:{boolean:J,function:"function"},deleteEdge:{boolean:J,function:"function"},controlNodeStyle:pO,__type__:{object:me,boolean:J}},nodes:pO,physics:{enabled:{boolean:J},barnesHut:{theta:{number:F},gravitationalConstant:{number:F},centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},damping:{number:F},avoidOverlap:{number:F},__type__:{object:me}},forceAtlas2Based:{theta:{number:F},gravitationalConstant:{number:F},centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},damping:{number:F},avoidOverlap:{number:F},__type__:{object:me}},repulsion:{centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},nodeDistance:{number:F},damping:{number:F},__type__:{object:me}},hierarchicalRepulsion:{centralGravity:{number:F},springLength:{number:F},springConstant:{number:F},nodeDistance:{number:F},damping:{number:F},avoidOverlap:{number:F},__type__:{object:me}},maxVelocity:{number:F},minVelocity:{number:F},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:J},iterations:{number:F},updateInterval:{number:F},onlyDynamicEdges:{boolean:J},fit:{boolean:J},__type__:{object:me,boolean:J}},timestep:{number:F},adaptiveTimestep:{boolean:J},wind:{x:{number:F},y:{number:F},__type__:{object:me}},__type__:{object:me,boolean:J}},autoResize:{boolean:J},clickToUse:{boolean:J},locale:{string:se},locales:{__any__:{any:bbe},__type__:{object:me}},height:{string:se},width:{string:se},__type__:{object:me}},pY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},xbe=(t,e,r)=>{var n;return!!(Gs(t).call(t,"physics")&&Gs(n=pY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class _be{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],u={};i[l]=u;for(let c=0;c<r.length;c++)u[r[c]]=o==c?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],u=i[l];for(let c=0;c<a-1;c++){const h=r[c],f=i[h];for(let p=c+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,y[h]=b}}}return i}}class Sbe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new _be}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let c=1e9,h=0,f=0,p=0,m=0,y=0;for(;c>s&&o<l;)for(o+=1,[h,c,f,p]=this._getHighestEnergyNode(n),m=c,y=0;m>a&&y<u;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[c,h,f]=this._getEnergy(u);i<c&&(i=c,s=u,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const u=s[e].x,c=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],P=f[_],C=1/((u-E)**2+(c-O)**2)**1.5;a+=S*(1-P*(c-O)**2*C),o+=S*(P*(u-E)*(c-O)*C),l+=S*(1-P*(u-E)**2*C)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let u=n;u<e.length;u++){const c=e[u];if(c!==i){const h=r[c].x,f=r[c].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][c]*(s-h-this.L_matrix[i][c]*(s-h)*p),this.K_matrix[i][c]*(a-f-this.L_matrix[i][c]*(a-f)*p)],this.E_matrix[c][n]=this.E_matrix[i][u],o+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let u=0,c=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),x=s[f]*(o-b-a[f]*(o-b)*v),w=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,w],u+=x,c+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-y}}this.E_sums[e]=[u,c]}}function he(t,e,r){var n,i,s,a;if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Kpe,clickToUse:!1},Dt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Z(n=this.on).call(n,this),off:Z(i=this.off).call(i,this),emit:Z(s=this.emit).call(s,this),once:Z(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Qpe(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new dme,this.canvas=new sye(this.body),this.selectionHandler=new Lye(this.body,this.canvas),this.interactionHandler=new uye(this.body,this.canvas,this.selectionHandler),this.view=new oye(this.body,this.canvas),this.renderer=new eye(this.body,this.canvas),this.physics=new Vge(this.body),this.layoutEngine=new gbe(this.body),this.clustering=new Zge(this.body),this.manipulation=new ybe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new wge(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Lge(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Sbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}W9(he.prototype);he.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(Epe.validate(t,wbe)===!0&&console.error("%cErrors have been found in the supplied options object.",AG),Lu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Gpe(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new _pe(this,this.body.container,pY,this.canvas.pixelRatio,xbe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};et(n.nodes,this.nodesHandler.options),et(n.edges,this.edgesHandler.options),et(n.layout,this.layoutEngine.options),et(n.interaction,this.selectionHandler.options),et(n.interaction,this.renderer.options),et(n.interaction,this.interactionHandler.options),et(n.manipulation,this.manipulation.options),et(n.physics,this.physics.options),et(n.global,this.canvas.options),et(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new xpe(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};he.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};he.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};he.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=kpe(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Dpe(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};he.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];gs(this.body.container)};he.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};he.prototype.isActive=function(){return!this.activator||this.activator.active};he.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};he.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};he.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};he.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};he.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};he.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};he.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};he.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};he.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};he.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};he.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};he.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};he.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};he.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};he.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};he.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};he.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};he.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};he.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};he.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};he.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};he.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};he.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};he.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};he.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};he.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};he.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};he.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};he.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};he.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};he.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};he.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};he.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};he.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};he.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};he.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};he.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};he.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};he.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};he.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};he.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};he.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};he.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};he.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};he.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};he.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};he.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};he.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function Ebe({graphData:t,startPersonId:e,onNodeClick:r}){const n=$.useRef(null),i=$.useRef(null),s=Zr(),a=$.useCallback(c=>{r?r(c):s(`/people/${c}`)},[r,s]);$.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const c=new Zl(t.nodes),h=new Zl(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new he(n.current,{nodes:c,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const w=y[v],_=y[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const c=i.current.getScale();i.current.moveTo({scale:c/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?d.jsx("div",{className:"flex items-center justify-center h-96",children:d.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):d.jsxs("div",{className:"relative w-full h-full",children:[d.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[d.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:d.jsx(KZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:d.jsx(GZ,{className:"w-4 h-4"})}),d.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:d.jsx(S7,{className:"w-4 h-4"})})]}),d.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),d.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const Obe=["parent","child","spouse","lover","partner"];function Pbe(t){return Obe.includes(t==null?void 0:t.toLowerCase())}function Cbe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function Tbe(t){return(t==null?void 0:t.toLowerCase())==="child"}function Nbe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function Ibe(t,e,r){var c;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,w,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=h.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),P=E.getFullYear();g=`${O}-${S}-${P}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const u=a.get(t);for(u&&n.set(t,l(u,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!Pbe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===g)){const x=(c=m.relationship_type_slug)==null?void 0:c.toLowerCase();if(Cbe(x))i.push({from:y,to:h,type:"parent-child"});else if(Tbe(x))i.push({from:h,to:y,type:"parent-child"});else if(Nbe(x)){const[w,_]=h<y?[h,y]:[y,h];i.push({from:w,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function Rbe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,x,w;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=o.get(b.from))==null||x.push(b.to),(w=o.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,c=[{id:e,generation:0}];for(l.set(e,0),u.add(e);c.length>0;){const{id:b,generation:g}=c.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,g-1),c.push({id:_,generation:g-1}));const x=a.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),c.push({id:_,generation:g+1}));const w=o.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,g),c.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):g?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function jbe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var u,c,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((u=a.relationship_type)==null?void 0:u.slug)||((h=(c=a.relationship_type)==null?void 0:c.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function $be(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function kbe(){var p,m;const{id:t}=ns(),e=Zr(),r=parseInt(t,10),{data:n,isLoading:i}=hu(t),{data:s=[],isLoading:a}=Cp(),{data:o=[]}=ft({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),l=$.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=qf({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Qr.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),c=$.useMemo(()=>{const y={};return u.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[u,l]);ei(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=$.useMemo(()=>{if(!n||!s.length)return null;try{const y=jbe(s);o.length>0&&$be(y,o);const b=Ibe(r,s,y);return!b||b.nodes.length===0?null:Rbe(b,r,c)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,c]),f=y=>{e(`/people/${y}`)};return i||a?d.jsx("div",{className:"flex items-center justify-center h-64",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?d.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[d.jsx("div",{className:"flex items-center justify-between",children:d.jsxs("div",{className:"flex items-center gap-4",children:[d.jsxs(ve,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[d.jsx(is,{className:"w-4 h-4 mr-2"}),"Back to Person"]}),d.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),d.jsx("div",{className:"card p-6",children:d.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?d.jsx(Ebe,{graphData:h,startPersonId:r,onNodeClick:f}):d.jsx("div",{className:"flex items-center justify-center h-full",children:d.jsxs("div",{className:"text-center",children:[d.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),d.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):d.jsxs("div",{className:"card p-6 text-center",children:[d.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),d.jsx(ve,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function Dbe(){const{loginUrl:t,isLoggedIn:e}=dT();return I7(),$.useEffect(()=>{e||(window.location.href=t)},[e,t]),d.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:d.jsxs("div",{className:"text-center",children:[d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),d.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function qbe({children:t}){const{isLoggedIn:e,isLoading:r}=dT();return r?d.jsx("div",{className:"flex items-center justify-center min-h-screen",children:d.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?t:d.jsx(t7,{to:"/login",replace:!0})}function Mbe(){return d.jsxs(VI,{children:[d.jsx(Xe,{path:"/login",element:d.jsx(Dbe,{})}),d.jsx(Xe,{path:"/*",element:d.jsx(qbe,{children:d.jsx(Rte,{children:d.jsxs(VI,{children:[d.jsx(Xe,{path:"/",element:d.jsx(Lre,{})}),d.jsx(Xe,{path:"/people",element:d.jsx(Gre,{})}),d.jsx(Xe,{path:"/people/new",element:d.jsx(KR,{})}),d.jsx(Xe,{path:"/people/:personId/contact/new",element:d.jsx(YR,{})}),d.jsx(Xe,{path:"/people/:personId/contact/:index/edit",element:d.jsx(YR,{})}),d.jsx(Xe,{path:"/people/:personId/work-history/new",element:d.jsx(GR,{})}),d.jsx(Xe,{path:"/people/:personId/work-history/:index/edit",element:d.jsx(GR,{})}),d.jsx(Xe,{path:"/people/:personId/relationship/new",element:d.jsx(QR,{})}),d.jsx(Xe,{path:"/people/:personId/relationship/:index/edit",element:d.jsx(QR,{})}),d.jsx(Xe,{path:"/people/:id/family-tree",element:d.jsx(kbe,{})}),d.jsx(Xe,{path:"/people/:id/edit",element:d.jsx(KR,{})}),d.jsx(Xe,{path:"/people/:id",element:d.jsx(Yre,{})}),d.jsx(Xe,{path:"/companies",element:d.jsx(wne,{})}),d.jsx(Xe,{path:"/companies/new",element:d.jsx(XR,{})}),d.jsx(Xe,{path:"/companies/:id",element:d.jsx(xne,{})}),d.jsx(Xe,{path:"/companies/:id/edit",element:d.jsx(XR,{})}),d.jsx(Xe,{path:"/dates",element:d.jsx(Ene,{})}),d.jsx(Xe,{path:"/dates/new",element:d.jsx(JR,{})}),d.jsx(Xe,{path:"/dates/:id/edit",element:d.jsx(JR,{})}),d.jsx(Xe,{path:"/settings",element:d.jsx(Pne,{})}),d.jsx(Xe,{path:"/settings/relationship-types",element:d.jsx(Cne,{})}),d.jsx(Xe,{path:"/settings/import",element:d.jsx(jne,{})}),d.jsx(Xe,{path:"*",element:d.jsx(t7,{to:"/",replace:!0})})]})})})})]})}const Fbe=new bZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),mO=document.getElementById("root");if(!mO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{vO.createRoot(mO).render(d.jsx(Ce.StrictMode,{children:d.jsx(wZ,{client:Fbe,children:d.jsx(BJ,{children:d.jsx(Mbe,{})})})}))}catch(t){console.error("Error mounting React app:",t),mO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
