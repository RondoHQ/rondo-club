var kT=t=>{throw TypeError(t)};var fm=(t,e,r)=>e.has(t)||kT("Cannot "+r);var R=(t,e,r)=>(fm(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?kT("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(fm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(fm(t,e,"access private method"),r);var hh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function _Y(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function SY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var B8={exports:{}},ip={},z8={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.element"),EY=Symbol.for("react.portal"),OY=Symbol.for("react.fragment"),PY=Symbol.for("react.strict_mode"),CY=Symbol.for("react.profiler"),NY=Symbol.for("react.provider"),TY=Symbol.for("react.context"),IY=Symbol.for("react.forward_ref"),RY=Symbol.for("react.suspense"),jY=Symbol.for("react.memo"),$Y=Symbol.for("react.lazy"),DT=Symbol.iterator;function kY(t){return t===null||typeof t!="object"?null:(t=DT&&t[DT]||t["@@iterator"],typeof t=="function"?t:null)}var U8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},W8=Object.assign,V8={};function ou(t,e,r){this.props=t,this.context=e,this.refs=V8,this.updater=r||U8}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function H8(){}H8.prototype=ou.prototype;function dC(t,e,r){this.props=t,this.context=e,this.refs=V8,this.updater=r||U8}var hC=dC.prototype=new H8;hC.constructor=dC;W8(hC,ou.prototype);hC.isPureReactComponent=!0;var qT=Array.isArray,K8=Object.prototype.hasOwnProperty,fC={current:null},G8={key:!0,ref:!0,__self:!0,__source:!0};function Y8(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)K8.call(e,n)&&!G8.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:bd,type:t,key:s,ref:a,props:i,_owner:fC.current}}function DY(t,e){return{$$typeof:bd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function pC(t){return typeof t=="object"&&t!==null&&t.$$typeof===bd}function qY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var MT=/\/+/g;function pm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?qY(""+t.key):e.toString(36)}function zh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bd:case EY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+pm(a,0):n,qT(i)?(r="",t!=null&&(r=t.replace(MT,"$&/")+"/"),zh(i,e,r,"",function(u){return u})):i!=null&&(pC(i)&&(i=DY(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(MT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",qT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+pm(s,o);a+=zh(s,e,r,l,i)}else if(l=kY(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+pm(s,o++),a+=zh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fh(t,e,r){if(t==null)return t;var n=[],i=0;return zh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function MY(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Dr={current:null},Uh={transition:null},AY={ReactCurrentDispatcher:Dr,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:fC};function Q8(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:fh,forEach:function(t,e,r){fh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fh(t,function(){e++}),e},toArray:function(t){return fh(t,function(e){return e})||[]},only:function(t){if(!pC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=ou;je.Fragment=OY;je.Profiler=CY;je.PureComponent=dC;je.StrictMode=PY;je.Suspense=RY;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AY;je.act=Q8;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=W8({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=fC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)K8.call(e,l)&&!G8.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:bd,type:t.type,key:i,ref:s,props:n,_owner:a}};je.createContext=function(t){return t={$$typeof:TY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:NY,_context:t},t.Consumer=t};je.createElement=Y8;je.createFactory=function(t){var e=Y8.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:IY,render:t}};je.isValidElement=pC;je.lazy=function(t){return{$$typeof:$Y,_payload:{_status:-1,_result:t},_init:MY}};je.memo=function(t,e){return{$$typeof:jY,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Uh.transition;Uh.transition={};try{t()}finally{Uh.transition=e}};je.unstable_act=Q8;je.useCallback=function(t,e){return Dr.current.useCallback(t,e)};je.useContext=function(t){return Dr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return Dr.current.useDeferredValue(t)};je.useEffect=function(t,e){return Dr.current.useEffect(t,e)};je.useId=function(){return Dr.current.useId()};je.useImperativeHandle=function(t,e,r){return Dr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return Dr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return Dr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return Dr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return Dr.current.useReducer(t,e,r)};je.useRef=function(t){return Dr.current.useRef(t)};je.useState=function(t){return Dr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return Dr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return Dr.current.useTransition()};je.version="18.3.1";z8.exports=je;var $=z8.exports;const Ce=SY($),FY=_Y({__proto__:null,default:Ce},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var LY=$,BY=Symbol.for("react.element"),zY=Symbol.for("react.fragment"),UY=Object.prototype.hasOwnProperty,WY=LY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,VY={key:!0,ref:!0,__self:!0,__source:!0};function X8(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)UY.call(e,n)&&!VY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:BY,type:t,key:s,ref:a,props:i,_owner:WY.current}}ip.Fragment=zY;ip.jsx=X8;ip.jsxs=X8;B8.exports=ip;var c=B8.exports,bO={},J8={exports:{}},pn={},Z8={exports:{}},eV={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,H){var U=L.length;L.push(H);e:for(;0<U;){var W=U-1>>>1,ee=L[W];if(0<i(ee,H))L[W]=H,L[U]=ee,U=W;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var H=L[0],U=L.pop();if(U!==H){L[0]=U;e:for(var W=0,ee=L.length,pe=ee>>>1;W<pe;){var ge=2*(W+1)-1,qe=L[ge],we=ge+1,Se=L[we];if(0>i(qe,U))we<ee&&0>i(Se,qe)?(L[W]=Se,L[we]=U,W=we):(L[W]=qe,L[ge]=U,W=ge);else if(we<ee&&0>i(Se,U))L[W]=Se,L[we]=U,W=we;else break e}}return H}function i(L,H){var U=L.sortIndex-H.sortIndex;return U!==0?U:L.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var H=r(u);H!==null;){if(H.callback===null)n(u);else if(H.startTime<=L)n(u),H.sortIndex=H.expirationTime,e(l,H);else break;H=r(u)}}function w(L){if(y=!1,x(L),!m)if(r(l)!==null)m=!0,te(_);else{var H=r(u);H!==null&&K(w,H.startTime-L)}}function _(L,H){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var U=f;try{for(x(H),h=r(l);h!==null&&(!(h.expirationTime>H)||L&&!I());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var ee=W(h.expirationTime<=H);H=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(l)&&n(l),x(H)}else n(l);h=r(l)}if(h!==null)var pe=!0;else{var ge=r(u);ge!==null&&K(w,ge.startTime-H),pe=!1}return pe}finally{h=null,f=U,p=!1}}var E=!1,O=null,S=-1,P=5,C=-1;function I(){return!(t.unstable_now()-C<P)}function N(){if(O!==null){var L=t.unstable_now();C=L;var H=!0;try{H=O(!0,L)}finally{H?T():(E=!1,O=null)}}else E=!1}var T;if(typeof v=="function")T=function(){v(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,z=q.port2;q.port1.onmessage=N,T=function(){z.postMessage(null)}}else T=function(){b(N,0)};function te(L){O=L,E||(E=!0,T())}function K(L,H){S=b(function(){L(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,te(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var U=f;f=H;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,H){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return H()}finally{f=U}},t.unstable_scheduleCallback=function(L,H,U){var W=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=U+ee,L={id:d++,callback:H,priorityLevel:L,startTime:U,expirationTime:ee,sortIndex:-1},U>W?(L.sortIndex=U,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,K(w,U-W))):(L.sortIndex=ee,e(l,L),m||p||(m=!0,te(_))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var H=f;return function(){var U=f;f=H;try{return L.apply(this,arguments)}finally{f=U}}}})(eV);Z8.exports=eV;var HY=Z8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var KY=$,fn=HY;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var tV=new Set,Ic={};function wo(t,e){Ll(t,e),Ll(t+"Capture",e)}function Ll(t,e){for(Ic[t]=e,t=0;t<e.length;t++)tV.add(e[t])}var Qi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),wO=Object.prototype.hasOwnProperty,GY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,AT={},FT={};function YY(t){return wO.call(FT,t)?!0:wO.call(AT,t)?!1:GY.test(t)?FT[t]=!0:(AT[t]=!0,!1)}function QY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function XY(t,e,r,n){if(e===null||typeof e>"u"||QY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function qr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var dr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){dr[t]=new qr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];dr[e]=new qr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){dr[t]=new qr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){dr[t]=new qr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){dr[t]=new qr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){dr[t]=new qr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){dr[t]=new qr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){dr[t]=new qr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){dr[t]=new qr(t,5,!1,t.toLowerCase(),null,!1,!1)});var mC=/[\-:]([a-z])/g;function vC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(mC,vC);dr[e]=new qr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(mC,vC);dr[e]=new qr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(mC,vC);dr[e]=new qr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){dr[t]=new qr(t,1,!1,t.toLowerCase(),null,!1,!1)});dr.xlinkHref=new qr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){dr[t]=new qr(t,1,!1,t.toLowerCase(),null,!0,!0)});function gC(t,e,r,n){var i=dr.hasOwnProperty(e)?dr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(XY(e,r,i,n)&&(r=null),n||i===null?YY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var ts=KY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ph=Symbol.for("react.element"),Qo=Symbol.for("react.portal"),Xo=Symbol.for("react.fragment"),yC=Symbol.for("react.strict_mode"),xO=Symbol.for("react.profiler"),rV=Symbol.for("react.provider"),nV=Symbol.for("react.context"),bC=Symbol.for("react.forward_ref"),_O=Symbol.for("react.suspense"),SO=Symbol.for("react.suspense_list"),wC=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),iV=Symbol.for("react.offscreen"),LT=Symbol.iterator;function Uu(t){return t===null||typeof t!="object"?null:(t=LT&&t[LT]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,mm;function sc(t){if(mm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);mm=e&&e[1]||""}return`
`+mm+t}var vm=!1;function gm(t,e){if(!t||vm)return"";vm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{vm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sc(t):""}function JY(t){switch(t.tag){case 5:return sc(t.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return t=gm(t.type,!1),t;case 11:return t=gm(t.type.render,!1),t;case 1:return t=gm(t.type,!0),t;default:return""}}function EO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Xo:return"Fragment";case Qo:return"Portal";case xO:return"Profiler";case yC:return"StrictMode";case _O:return"Suspense";case SO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case nV:return(t.displayName||"Context")+".Consumer";case rV:return(t._context.displayName||"Context")+".Provider";case bC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case wC:return e=t.displayName||null,e!==null?e:EO(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return EO(t(e))}catch{}}return null}function ZY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return EO(e);case 8:return e===yC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function sV(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function eQ(t){var e=sV(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mh(t){t._valueTracker||(t._valueTracker=eQ(t))}function aV(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=sV(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function OO(t,e){var r=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function BT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function oV(t,e){e=e.checked,e!=null&&gC(t,"checked",e,!1)}function PO(t,e){oV(t,e);var r=Zs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?CO(t,e.type,r):e.hasOwnProperty("defaultValue")&&CO(t,e.type,Zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function zT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function CO(t,e,r){(e!=="number"||cf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ac=Array.isArray;function pl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function NO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function UT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Q(92));if(ac(r)){if(1<r.length)throw Error(Q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zs(r)}}function lV(t,e){var r=Zs(e.value),n=Zs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function WT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function uV(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?uV(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vh,cV=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vh=vh||document.createElement("div"),vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},tQ=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(t){tQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hc[e]=hc[t]})});function dV(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hc.hasOwnProperty(t)&&hc[t]?(""+e).trim():e+"px"}function hV(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=dV(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var rQ=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function IO(t,e){if(e){if(rQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function RO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jO=null;function xC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var $O=null,ml=null,vl=null;function VT(t){if(t=_d(t)){if(typeof $O!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=up(e),$O(t.stateNode,t.type,e))}}function fV(t){ml?vl?vl.push(t):vl=[t]:ml=t}function pV(){if(ml){var t=ml,e=vl;if(vl=ml=null,VT(t),e)for(t=0;t<e.length;t++)VT(e[t])}}function mV(t,e){return t(e)}function vV(){}var ym=!1;function gV(t,e,r){if(ym)return t(e,r);ym=!0;try{return mV(t,e,r)}finally{ym=!1,(ml!==null||vl!==null)&&(vV(),pV())}}function jc(t,e){var r=t.stateNode;if(r===null)return null;var n=up(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Q(231,e,typeof r));return r}var kO=!1;if(Qi)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){kO=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{kO=!1}function nQ(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var fc=!1,df=null,hf=!1,DO=null,iQ={onError:function(t){fc=!0,df=t}};function sQ(t,e,r,n,i,s,a,o,l){fc=!1,df=null,nQ.apply(iQ,arguments)}function aQ(t,e,r,n,i,s,a,o,l){if(sQ.apply(this,arguments),fc){if(fc){var u=df;fc=!1,df=null}else throw Error(Q(198));hf||(hf=!0,DO=u)}}function xo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function yV(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function HT(t){if(xo(t)!==t)throw Error(Q(188))}function oQ(t){var e=t.alternate;if(!e){if(e=xo(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return HT(i),t;if(s===n)return HT(i),e;s=s.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?t:e}function bV(t){return t=oQ(t),t!==null?wV(t):null}function wV(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=wV(t);if(e!==null)return e;t=t.sibling}return null}var xV=fn.unstable_scheduleCallback,KT=fn.unstable_cancelCallback,lQ=fn.unstable_shouldYield,uQ=fn.unstable_requestPaint,Pt=fn.unstable_now,cQ=fn.unstable_getCurrentPriorityLevel,_C=fn.unstable_ImmediatePriority,_V=fn.unstable_UserBlockingPriority,ff=fn.unstable_NormalPriority,dQ=fn.unstable_LowPriority,SV=fn.unstable_IdlePriority,sp=null,bi=null;function hQ(t){if(bi&&typeof bi.onCommitFiberRoot=="function")try{bi.onCommitFiberRoot(sp,t,void 0,(t.current.flags&128)===128)}catch{}}var Xn=Math.clz32?Math.clz32:mQ,fQ=Math.log,pQ=Math.LN2;function mQ(t){return t>>>=0,t===0?32:31-(fQ(t)/pQ|0)|0}var gh=64,yh=4194304;function oc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=oc(o):(s&=a,s!==0&&(n=oc(s)))}else a=r&~i,a!==0?n=oc(a):s!==0&&(n=oc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Xn(e),i=1<<r,n|=t[r],e&=~i;return n}function vQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function gQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Xn(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=vQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function qO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function EV(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function bm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Xn(e),t[e]=r}function yQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Xn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function SC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Xn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var We=0;function OV(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var PV,EC,CV,NV,TV,MO=!1,bh=[],Ms=null,As=null,Fs=null,$c=new Map,kc=new Map,ws=[],bQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function GT(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":$c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Vu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_d(e),e!==null&&EC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function wQ(t,e,r,n,i){switch(e){case"focusin":return Ms=Vu(Ms,t,e,r,n,i),!0;case"dragenter":return As=Vu(As,t,e,r,n,i),!0;case"mouseover":return Fs=Vu(Fs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return $c.set(s,Vu($c.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,kc.set(s,Vu(kc.get(s)||null,t,e,r,n,i)),!0}return!1}function IV(t){var e=Sa(t.target);if(e!==null){var r=xo(e);if(r!==null){if(e=r.tag,e===13){if(e=yV(r),e!==null){t.blockedOn=e,TV(t.priority,function(){CV(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=AO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);jO=n,r.target.dispatchEvent(n),jO=null}else return e=_d(r),e!==null&&EC(e),t.blockedOn=r,!1;e.shift()}return!0}function YT(t,e,r){Wh(t)&&r.delete(e)}function xQ(){MO=!1,Ms!==null&&Wh(Ms)&&(Ms=null),As!==null&&Wh(As)&&(As=null),Fs!==null&&Wh(Fs)&&(Fs=null),$c.forEach(YT),kc.forEach(YT)}function Hu(t,e){t.blockedOn===e&&(t.blockedOn=null,MO||(MO=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,xQ)))}function Dc(t){function e(i){return Hu(i,t)}if(0<bh.length){Hu(bh[0],t);for(var r=1;r<bh.length;r++){var n=bh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ms!==null&&Hu(Ms,t),As!==null&&Hu(As,t),Fs!==null&&Hu(Fs,t),$c.forEach(e),kc.forEach(e),r=0;r<ws.length;r++)n=ws[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ws.length&&(r=ws[0],r.blockedOn===null);)IV(r),r.blockedOn===null&&ws.shift()}var gl=ts.ReactCurrentBatchConfig,mf=!0;function _Q(t,e,r,n){var i=We,s=gl.transition;gl.transition=null;try{We=1,OC(t,e,r,n)}finally{We=i,gl.transition=s}}function SQ(t,e,r,n){var i=We,s=gl.transition;gl.transition=null;try{We=4,OC(t,e,r,n)}finally{We=i,gl.transition=s}}function OC(t,e,r,n){if(mf){var i=AO(t,e,r,n);if(i===null)Tm(t,e,n,vf,r),GT(t,n);else if(wQ(i,t,e,r,n))n.stopPropagation();else if(GT(t,n),e&4&&-1<bQ.indexOf(t)){for(;i!==null;){var s=_d(i);if(s!==null&&PV(s),s=AO(t,e,r,n),s===null&&Tm(t,e,n,vf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Tm(t,e,n,null,r)}}var vf=null;function AO(t,e,r,n){if(vf=null,t=xC(n),t=Sa(t),t!==null)if(e=xo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=yV(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vf=t,null}function RV(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(cQ()){case _C:return 1;case _V:return 4;case ff:case dQ:return 16;case SV:return 536870912;default:return 16}default:return 16}}var $s=null,PC=null,Vh=null;function jV(){if(Vh)return Vh;var t,e=PC,r=e.length,n,i="value"in $s?$s.value:$s.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Vh=i.slice(t,1<n?1-n:void 0)}function Hh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wh(){return!0}function QT(){return!1}function mn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wh:QT,this.isPropagationStopped=QT,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),e}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},CC=mn(lu),xd=mt({},lu,{view:0,detail:0}),EQ=mn(xd),wm,xm,Ku,ap=mt({},xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:NC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ku&&(Ku&&t.type==="mousemove"?(wm=t.screenX-Ku.screenX,xm=t.screenY-Ku.screenY):xm=wm=0,Ku=t),wm)},movementY:function(t){return"movementY"in t?t.movementY:xm}}),XT=mn(ap),OQ=mt({},ap,{dataTransfer:0}),PQ=mn(OQ),CQ=mt({},xd,{relatedTarget:0}),_m=mn(CQ),NQ=mt({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),TQ=mn(NQ),IQ=mt({},lu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),RQ=mn(IQ),jQ=mt({},lu,{data:0}),JT=mn(jQ),$Q={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},kQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},DQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function qQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=DQ[t])?!!e[t]:!1}function NC(){return qQ}var MQ=mt({},xd,{key:function(t){if(t.key){var e=$Q[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Hh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?kQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:NC,charCode:function(t){return t.type==="keypress"?Hh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Hh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),AQ=mn(MQ),FQ=mt({},ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),ZT=mn(FQ),LQ=mt({},xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:NC}),BQ=mn(LQ),zQ=mt({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),UQ=mn(zQ),WQ=mt({},ap,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),VQ=mn(WQ),HQ=[9,13,27,32],TC=Qi&&"CompositionEvent"in window,pc=null;Qi&&"documentMode"in document&&(pc=document.documentMode);var KQ=Qi&&"TextEvent"in window&&!pc,$V=Qi&&(!TC||pc&&8<pc&&11>=pc),eI=" ",tI=!1;function kV(t,e){switch(t){case"keyup":return HQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function DV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Jo=!1;function GQ(t,e){switch(t){case"compositionend":return DV(e);case"keypress":return e.which!==32?null:(tI=!0,eI);case"textInput":return t=e.data,t===eI&&tI?null:t;default:return null}}function YQ(t,e){if(Jo)return t==="compositionend"||!TC&&kV(t,e)?(t=jV(),Vh=PC=$s=null,Jo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return $V&&e.locale!=="ko"?null:e.data;default:return null}}var QQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function rI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!QQ[t.type]:e==="textarea"}function qV(t,e,r,n){fV(n),e=gf(e,"onChange"),0<e.length&&(r=new CC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var mc=null,qc=null;function XQ(t){KV(t,0)}function op(t){var e=tl(t);if(aV(e))return t}function JQ(t,e){if(t==="change")return e}var MV=!1;if(Qi){var Sm;if(Qi){var Em="oninput"in document;if(!Em){var nI=document.createElement("div");nI.setAttribute("oninput","return;"),Em=typeof nI.oninput=="function"}Sm=Em}else Sm=!1;MV=Sm&&(!document.documentMode||9<document.documentMode)}function iI(){mc&&(mc.detachEvent("onpropertychange",AV),qc=mc=null)}function AV(t){if(t.propertyName==="value"&&op(qc)){var e=[];qV(e,qc,t,xC(t)),gV(XQ,e)}}function ZQ(t,e,r){t==="focusin"?(iI(),mc=e,qc=r,mc.attachEvent("onpropertychange",AV)):t==="focusout"&&iI()}function eX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return op(qc)}function tX(t,e){if(t==="click")return op(e)}function rX(t,e){if(t==="input"||t==="change")return op(e)}function nX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Zn=typeof Object.is=="function"?Object.is:nX;function Mc(t,e){if(Zn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!wO.call(e,i)||!Zn(t[i],e[i]))return!1}return!0}function sI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function aI(t,e){var r=sI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=sI(r)}}function FV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?FV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function LV(){for(var t=window,e=cf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=cf(t.document)}return e}function IC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function iX(t){var e=LV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&FV(r.ownerDocument.documentElement,r)){if(n!==null&&IC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=aI(r,s);var a=aI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var sX=Qi&&"documentMode"in document&&11>=document.documentMode,Zo=null,FO=null,vc=null,LO=!1;function oI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;LO||Zo==null||Zo!==cf(n)||(n=Zo,"selectionStart"in n&&IC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vc&&Mc(vc,n)||(vc=n,n=gf(FO,"onSelect"),0<n.length&&(e=new CC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Zo)))}function xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var el={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Om={},BV={};Qi&&(BV=document.createElement("div").style,"AnimationEvent"in window||(delete el.animationend.animation,delete el.animationiteration.animation,delete el.animationstart.animation),"TransitionEvent"in window||delete el.transitionend.transition);function lp(t){if(Om[t])return Om[t];if(!el[t])return t;var e=el[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in BV)return Om[t]=e[r];return t}var zV=lp("animationend"),UV=lp("animationiteration"),WV=lp("animationstart"),VV=lp("transitionend"),HV=new Map,lI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(t,e){HV.set(t,e),wo(e,[t])}for(var Pm=0;Pm<lI.length;Pm++){var Cm=lI[Pm],aX=Cm.toLowerCase(),oX=Cm[0].toUpperCase()+Cm.slice(1);aa(aX,"on"+oX)}aa(zV,"onAnimationEnd");aa(UV,"onAnimationIteration");aa(WV,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(VV,"onTransitionEnd");Ll("onMouseEnter",["mouseout","mouseover"]);Ll("onMouseLeave",["mouseout","mouseover"]);Ll("onPointerEnter",["pointerout","pointerover"]);Ll("onPointerLeave",["pointerout","pointerover"]);wo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));wo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));wo("onBeforeInput",["compositionend","keypress","textInput","paste"]);wo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));wo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),lX=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function uI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,aQ(n,e,void 0,t),t.currentTarget=null}function KV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;uI(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;uI(i,o,u),s=l}}}if(hf)throw t=DO,hf=!1,DO=null,t}function it(t,e){var r=e[VO];r===void 0&&(r=e[VO]=new Set);var n=t+"__bubble";r.has(n)||(GV(e,t,2,!1),r.add(n))}function Nm(t,e,r){var n=0;e&&(n|=4),GV(r,t,n,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Ac(t){if(!t[_h]){t[_h]=!0,tV.forEach(function(r){r!=="selectionchange"&&(lX.has(r)||Nm(r,!1,t),Nm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,Nm("selectionchange",!1,e))}}function GV(t,e,r,n){switch(RV(e)){case 1:var i=_Q;break;case 4:i=SQ;break;default:i=OC}r=i.bind(null,e,r,t),i=void 0,!kO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Tm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Sa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}gV(function(){var u=s,d=xC(r),h=[];e:{var f=HV.get(t);if(f!==void 0){var p=CC,m=t;switch(t){case"keypress":if(Hh(r)===0)break e;case"keydown":case"keyup":p=AQ;break;case"focusin":m="focus",p=_m;break;case"focusout":m="blur",p=_m;break;case"beforeblur":case"afterblur":p=_m;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=XT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=PQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=BQ;break;case zV:case UV:case WV:p=TQ;break;case VV:p=UQ;break;case"scroll":p=EQ;break;case"wheel":p=VQ;break;case"copy":case"cut":case"paste":p=RQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=ZT}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=jc(v,g),w!=null&&y.push(Fc(v,w,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==jO&&(m=r.relatedTarget||r.fromElement)&&(Sa(m)||m[Xi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Sa(m):null,m!==null&&(b=xo(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=XT,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=ZT,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:tl(p),x=m==null?f:tl(m),f=new y(w,v+"leave",p,r,d),f.target=b,f.relatedTarget=x,w=null,Sa(d)===u&&(y=new y(g,v+"enter",m,r,d),y.target=x,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=zo(x))v++;for(x=0,w=g;w;w=zo(w))x++;for(;0<v-x;)y=zo(y),v--;for(;0<x-v;)g=zo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=zo(y),g=zo(g)}y=null}else y=null;p!==null&&cI(h,f,p,y,!1),m!==null&&b!==null&&cI(h,b,m,y,!0)}}e:{if(f=u?tl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=JQ;else if(rI(f))if(MV)_=rX;else{_=eX;var E=ZQ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=tX);if(_&&(_=_(t,u))){qV(h,_,r,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&CO(f,"number",f.value)}switch(E=u?tl(u):window,t){case"focusin":(rI(E)||E.contentEditable==="true")&&(Zo=E,FO=u,vc=null);break;case"focusout":vc=FO=Zo=null;break;case"mousedown":LO=!0;break;case"contextmenu":case"mouseup":case"dragend":LO=!1,oI(h,r,d);break;case"selectionchange":if(sX)break;case"keydown":case"keyup":oI(h,r,d)}var O;if(TC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Jo?kV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&($V&&r.locale!=="ko"&&(Jo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Jo&&(O=jV()):($s=d,PC="value"in $s?$s.value:$s.textContent,Jo=!0)),E=gf(u,S),0<E.length&&(S=new JT(S,t,null,r,d),h.push({event:S,listeners:E}),O?S.data=O:(O=DV(r),O!==null&&(S.data=O)))),(O=KQ?GQ(t,r):YQ(t,r))&&(u=gf(u,"onBeforeInput"),0<u.length&&(d=new JT("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=O))}KV(h,e)})}function Fc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jc(t,r),s!=null&&n.unshift(Fc(t,s,i)),s=jc(t,e),s!=null&&n.push(Fc(t,s,i))),t=t.return}return n}function zo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function cI(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=jc(r,s),l!=null&&a.unshift(Fc(r,l,o))):i||(l=jc(r,s),l!=null&&a.push(Fc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var uX=/\r\n?/g,cX=/\u0000|\uFFFD/g;function dI(t){return(typeof t=="string"?t:""+t).replace(uX,`
`).replace(cX,"")}function Sh(t,e,r){if(e=dI(e),dI(t)!==e&&r)throw Error(Q(425))}function yf(){}var BO=null,zO=null;function UO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var WO=typeof setTimeout=="function"?setTimeout:void 0,dX=typeof clearTimeout=="function"?clearTimeout:void 0,hI=typeof Promise=="function"?Promise:void 0,hX=typeof queueMicrotask=="function"?queueMicrotask:typeof hI<"u"?function(t){return hI.resolve(null).then(t).catch(fX)}:WO;function fX(t){setTimeout(function(){throw t})}function Im(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Dc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Dc(e)}function Ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function fI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var uu=Math.random().toString(36).slice(2),pi="__reactFiber$"+uu,Lc="__reactProps$"+uu,Xi="__reactContainer$"+uu,VO="__reactEvents$"+uu,pX="__reactListeners$"+uu,mX="__reactHandles$"+uu;function Sa(t){var e=t[pi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Xi]||r[pi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=fI(t);t!==null;){if(r=t[pi])return r;t=fI(t)}return e}t=r,r=t.parentNode}return null}function _d(t){return t=t[pi]||t[Xi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function tl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function up(t){return t[Lc]||null}var HO=[],rl=-1;function oa(t){return{current:t}}function st(t){0>rl||(t.current=HO[rl],HO[rl]=null,rl--)}function rt(t,e){rl++,HO[rl]=t.current,t.current=e}var ea={},_r=oa(ea),Kr=oa(!1),Ja=ea;function Bl(t,e){var r=t.type.contextTypes;if(!r)return ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Gr(t){return t=t.childContextTypes,t!=null}function bf(){st(Kr),st(_r)}function pI(t,e,r){if(_r.current!==ea)throw Error(Q(168));rt(_r,e),rt(Kr,r)}function YV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,ZY(t)||"Unknown",i));return mt({},r,n)}function wf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,Ja=_r.current,rt(_r,t),rt(Kr,Kr.current),!0}function mI(t,e,r){var n=t.stateNode;if(!n)throw Error(Q(169));r?(t=YV(t,e,Ja),n.__reactInternalMemoizedMergedChildContext=t,st(Kr),st(_r),rt(_r,t)):st(Kr),rt(Kr,r)}var Ii=null,cp=!1,Rm=!1;function QV(t){Ii===null?Ii=[t]:Ii.push(t)}function vX(t){cp=!0,QV(t)}function la(){if(!Rm&&Ii!==null){Rm=!0;var t=0,e=We;try{var r=Ii;for(We=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ii=null,cp=!1}catch(i){throw Ii!==null&&(Ii=Ii.slice(t+1)),xV(_C,la),i}finally{We=e,Rm=!1}}return null}var nl=[],il=0,xf=null,_f=0,En=[],On=0,Za=null,Di=1,qi="";function wa(t,e){nl[il++]=_f,nl[il++]=xf,xf=t,_f=e}function XV(t,e,r){En[On++]=Di,En[On++]=qi,En[On++]=Za,Za=t;var n=Di;t=qi;var i=32-Xn(n)-1;n&=~(1<<i),r+=1;var s=32-Xn(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Di=1<<32-Xn(e)+i|r<<i|n,qi=s+t}else Di=1<<s|r<<i|n,qi=t}function RC(t){t.return!==null&&(wa(t,1),XV(t,1,0))}function jC(t){for(;t===xf;)xf=nl[--il],nl[il]=null,_f=nl[--il],nl[il]=null;for(;t===Za;)Za=En[--On],En[On]=null,qi=En[--On],En[On]=null,Di=En[--On],En[On]=null}var hn=null,dn=null,ut=!1,Vn=null;function JV(t,e){var r=Cn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function vI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,dn=Ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Za!==null?{id:Di,overflow:qi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Cn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,hn=t,dn=null,!0):!1;default:return!1}}function KO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function GO(t){if(ut){var e=dn;if(e){var r=e;if(!vI(t,e)){if(KO(t))throw Error(Q(418));e=Ls(r.nextSibling);var n=hn;e&&vI(t,e)?JV(n,r):(t.flags=t.flags&-4097|2,ut=!1,hn=t)}}else{if(KO(t))throw Error(Q(418));t.flags=t.flags&-4097|2,ut=!1,hn=t}}}function gI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Eh(t){if(t!==hn)return!1;if(!ut)return gI(t),ut=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!UO(t.type,t.memoizedProps)),e&&(e=dn)){if(KO(t))throw ZV(),Error(Q(418));for(;e;)JV(t,e),e=Ls(e.nextSibling)}if(gI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){dn=Ls(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=hn?Ls(t.stateNode.nextSibling):null;return!0}function ZV(){for(var t=dn;t;)t=Ls(t.nextSibling)}function zl(){dn=hn=null,ut=!1}function $C(t){Vn===null?Vn=[t]:Vn.push(t)}var gX=ts.ReactCurrentBatchConfig;function Gu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,t))}return t}function Oh(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function yI(t){var e=t._init;return e(t._payload)}function eH(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Ws(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,w){return v===null||v.tag!==6?(v=Am(x,g.mode,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,w){var _=x.type;return _===Xo?d(g,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ms&&yI(_)===v.type)?(w=i(v,x.props),w.ref=Gu(g,v,x),w.return=g,w):(w=Zh(x.type,x.key,x.props,null,g.mode,w),w.ref=Gu(g,v,x),w.return=g,w)}function u(g,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Fm(x,g.mode,w),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function d(g,v,x,w,_){return v===null||v.tag!==7?(v=Ua(x,g.mode,w,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Am(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ph:return x=Zh(v.type,v.key,v.props,null,g.mode,x),x.ref=Gu(g,null,v),x.return=g,x;case Qo:return v=Fm(v,g.mode,x),v.return=g,v;case ms:var w=v._init;return h(g,w(v._payload),x)}if(ac(v)||Uu(v))return v=Ua(v,g.mode,x,null),v.return=g,v;Oh(g,v)}return null}function f(g,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ph:return x.key===_?l(g,v,x,w):null;case Qo:return x.key===_?u(g,v,x,w):null;case ms:return _=x._init,f(g,v,_(x._payload),w)}if(ac(x)||Uu(x))return _!==null?null:d(g,v,x,w,null);Oh(g,x)}return null}function p(g,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ph:return g=g.get(w.key===null?x:w.key)||null,l(v,g,w,_);case Qo:return g=g.get(w.key===null?x:w.key)||null,u(v,g,w,_);case ms:var E=w._init;return p(g,v,x,E(w._payload),_)}if(ac(w)||Uu(w))return g=g.get(x)||null,d(v,g,w,_,null);Oh(v,w)}return null}function m(g,v,x,w){for(var _=null,E=null,O=v,S=v=0,P=null;O!==null&&S<x.length;S++){O.index>S?(P=O,O=null):P=O.sibling;var C=f(g,O,x[S],w);if(C===null){O===null&&(O=P);break}t&&O&&C.alternate===null&&e(g,O),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,O=P}if(S===x.length)return r(g,O),ut&&wa(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return ut&&wa(g,S),_}for(O=n(g,O);S<x.length;S++)P=p(O,g,S,x[S],w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(I){return e(g,I)}),ut&&wa(g,S),_}function y(g,v,x,w){var _=Uu(x);if(typeof _!="function")throw Error(Q(150));if(x=_.call(x),x==null)throw Error(Q(151));for(var E=_=null,O=v,S=v=0,P=null,C=x.next();O!==null&&!C.done;S++,C=x.next()){O.index>S?(P=O,O=null):P=O.sibling;var I=f(g,O,C.value,w);if(I===null){O===null&&(O=P);break}t&&O&&I.alternate===null&&e(g,O),v=s(I,v,S),E===null?_=I:E.sibling=I,E=I,O=P}if(C.done)return r(g,O),ut&&wa(g,S),_;if(O===null){for(;!C.done;S++,C=x.next())C=h(g,C.value,w),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return ut&&wa(g,S),_}for(O=n(g,O);!C.done;S++,C=x.next())C=p(O,g,S,C.value,w),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&O.forEach(function(N){return e(g,N)}),ut&&wa(g,S),_}function b(g,v,x,w){if(typeof x=="object"&&x!==null&&x.type===Xo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ph:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===Xo){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ms&&yI(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=Gu(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===Xo?(v=Ua(x.props.children,g.mode,w,x.key),v.return=g,g=v):(w=Zh(x.type,x.key,x.props,null,g.mode,w),w.ref=Gu(g,v,x),w.return=g,g=w)}return a(g);case Qo:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=Fm(x,g.mode,w),v.return=g,g=v}return a(g);case ms:return E=x._init,b(g,v,E(x._payload),w)}if(ac(x))return m(g,v,x,w);if(Uu(x))return y(g,v,x,w);Oh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=Am(x,g.mode,w),v.return=g,g=v),a(g)):r(g,v)}return b}var Ul=eH(!0),tH=eH(!1),Sf=oa(null),Ef=null,sl=null,kC=null;function DC(){kC=sl=Ef=null}function qC(t){var e=Sf.current;st(Sf),t._currentValue=e}function YO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function yl(t,e){Ef=t,kC=sl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function Rn(t){var e=t._currentValue;if(kC!==t)if(t={context:t,memoizedValue:e,next:null},sl===null){if(Ef===null)throw Error(Q(308));sl=t,Ef.dependencies={lanes:0,firstContext:t}}else sl=sl.next=t;return e}var Ea=null;function MC(t){Ea===null?Ea=[t]:Ea.push(t)}function rH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,MC(e)):(r.next=i.next,i.next=r),e.interleaved=r,Ji(t,n)}function Ji(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var vs=!1;function AC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function nH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Fi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Ji(t,r)}return i=n.interleaved,i===null?(e.next=e,MC(n)):(e.next=i.next,i.next=e),n.interleaved=e,Ji(t,r)}function Kh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,SC(t,r)}}function bI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Of(t,e,r,n){var i=t.updateQueue;vs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=mt({},h,f);break e;case 2:vs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);to|=a,t.lanes=a,t.memoizedState=h}}function wI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var Sd={},wi=oa(Sd),Bc=oa(Sd),zc=oa(Sd);function Oa(t){if(t===Sd)throw Error(Q(174));return t}function FC(t,e){switch(rt(zc,e),rt(Bc,t),rt(wi,Sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TO(e,t)}st(wi),rt(wi,e)}function Wl(){st(wi),st(Bc),st(zc)}function iH(t){Oa(zc.current);var e=Oa(wi.current),r=TO(e,t.type);e!==r&&(rt(Bc,t),rt(wi,r))}function LC(t){Bc.current===t&&(st(wi),st(Bc))}var ht=oa(0);function Pf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var jm=[];function BC(){for(var t=0;t<jm.length;t++)jm[t]._workInProgressVersionPrimary=null;jm.length=0}var Gh=ts.ReactCurrentDispatcher,$m=ts.ReactCurrentBatchConfig,eo=0,ft=null,Ut=null,Yt=null,Cf=!1,gc=!1,Uc=0,yX=0;function vr(){throw Error(Q(321))}function zC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Zn(t[r],e[r]))return!1;return!0}function UC(t,e,r,n,i,s){if(eo=s,ft=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gh.current=t===null||t.memoizedState===null?_X:SX,t=r(n,i),gc){s=0;do{if(gc=!1,Uc=0,25<=s)throw Error(Q(301));s+=1,Yt=Ut=null,e.updateQueue=null,Gh.current=EX,t=r(n,i)}while(gc)}if(Gh.current=Nf,e=Ut!==null&&Ut.next!==null,eo=0,Yt=Ut=ft=null,Cf=!1,e)throw Error(Q(300));return t}function WC(){var t=Uc!==0;return Uc=0,t}function li(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ft.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function jn(){if(Ut===null){var t=ft.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Yt===null?ft.memoizedState:Yt.next;if(e!==null)Yt=e,Ut=t;else{if(t===null)throw Error(Q(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Yt===null?ft.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Wc(t,e){return typeof e=="function"?e(t):e}function km(t){var e=jn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((eo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,ft.lanes|=d,to|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Zn(n,e.memoizedState)||(Hr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ft.lanes|=s,to|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Dm(t){var e=jn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Zn(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function sH(){}function aH(t,e){var r=ft,n=jn(),i=e(),s=!Zn(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,VC(uH.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(r.flags|=2048,Vc(9,lH.bind(null,r,n,i,e),void 0,null),Qt===null)throw Error(Q(349));eo&30||oH(r,e,i)}return i}function oH(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function lH(t,e,r,n){e.value=r,e.getSnapshot=n,cH(e)&&dH(t)}function uH(t,e,r){return r(function(){cH(e)&&dH(t)})}function cH(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Zn(t,r)}catch{return!0}}function dH(t){var e=Ji(t,1);e!==null&&Jn(e,t,1,-1)}function xI(t){var e=li();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=xX.bind(null,ft,t),[e.memoizedState,t]}function Vc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ft.updateQueue,e===null?(e={lastEffect:null,stores:null},ft.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function hH(){return jn().memoizedState}function Yh(t,e,r,n){var i=li();ft.flags|=t,i.memoizedState=Vc(1|e,r,void 0,n===void 0?null:n)}function dp(t,e,r,n){var i=jn();n=n===void 0?null:n;var s=void 0;if(Ut!==null){var a=Ut.memoizedState;if(s=a.destroy,n!==null&&zC(n,a.deps)){i.memoizedState=Vc(e,r,s,n);return}}ft.flags|=t,i.memoizedState=Vc(1|e,r,s,n)}function _I(t,e){return Yh(8390656,8,t,e)}function VC(t,e){return dp(2048,8,t,e)}function fH(t,e){return dp(4,2,t,e)}function pH(t,e){return dp(4,4,t,e)}function mH(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function vH(t,e,r){return r=r!=null?r.concat([t]):null,dp(4,4,mH.bind(null,e,t),r)}function HC(){}function gH(t,e){var r=jn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function yH(t,e){var r=jn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&zC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function bH(t,e,r){return eo&21?(Zn(r,e)||(r=EV(),ft.lanes|=r,to|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=r)}function bX(t,e){var r=We;We=r!==0&&4>r?r:4,t(!0);var n=$m.transition;$m.transition={};try{t(!1),e()}finally{We=r,$m.transition=n}}function wH(){return jn().memoizedState}function wX(t,e,r){var n=Us(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},xH(t))_H(e,r);else if(r=rH(t,e,r,n),r!==null){var i=jr();Jn(r,t,n,i),SH(r,e,n)}}function xX(t,e,r){var n=Us(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(xH(t))_H(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Zn(o,a)){var l=e.interleaved;l===null?(i.next=i,MC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=rH(t,e,i,n),r!==null&&(i=jr(),Jn(r,t,n,i),SH(r,e,n))}}function xH(t){var e=t.alternate;return t===ft||e!==null&&e===ft}function _H(t,e){gc=Cf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function SH(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,SC(t,r)}}var Nf={readContext:Rn,useCallback:vr,useContext:vr,useEffect:vr,useImperativeHandle:vr,useInsertionEffect:vr,useLayoutEffect:vr,useMemo:vr,useReducer:vr,useRef:vr,useState:vr,useDebugValue:vr,useDeferredValue:vr,useTransition:vr,useMutableSource:vr,useSyncExternalStore:vr,useId:vr,unstable_isNewReconciler:!1},_X={readContext:Rn,useCallback:function(t,e){return li().memoizedState=[t,e===void 0?null:e],t},useContext:Rn,useEffect:_I,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yh(4194308,4,mH.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yh(4,2,t,e)},useMemo:function(t,e){var r=li();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=li();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=wX.bind(null,ft,t),[n.memoizedState,t]},useRef:function(t){var e=li();return t={current:t},e.memoizedState=t},useState:xI,useDebugValue:HC,useDeferredValue:function(t){return li().memoizedState=t},useTransition:function(){var t=xI(!1),e=t[0];return t=bX.bind(null,t[1]),li().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ft,i=li();if(ut){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=e(),Qt===null)throw Error(Q(349));eo&30||oH(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,_I(uH.bind(null,n,s,t),[t]),n.flags|=2048,Vc(9,lH.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=li(),e=Qt.identifierPrefix;if(ut){var r=qi,n=Di;r=(n&~(1<<32-Xn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Uc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=yX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},SX={readContext:Rn,useCallback:gH,useContext:Rn,useEffect:VC,useImperativeHandle:vH,useInsertionEffect:fH,useLayoutEffect:pH,useMemo:yH,useReducer:km,useRef:hH,useState:function(){return km(Wc)},useDebugValue:HC,useDeferredValue:function(t){var e=jn();return bH(e,Ut.memoizedState,t)},useTransition:function(){var t=km(Wc)[0],e=jn().memoizedState;return[t,e]},useMutableSource:sH,useSyncExternalStore:aH,useId:wH,unstable_isNewReconciler:!1},EX={readContext:Rn,useCallback:gH,useContext:Rn,useEffect:VC,useImperativeHandle:vH,useInsertionEffect:fH,useLayoutEffect:pH,useMemo:yH,useReducer:Dm,useRef:hH,useState:function(){return Dm(Wc)},useDebugValue:HC,useDeferredValue:function(t){var e=jn();return Ut===null?e.memoizedState=t:bH(e,Ut.memoizedState,t)},useTransition:function(){var t=Dm(Wc)[0],e=jn().memoizedState;return[t,e]},useMutableSource:sH,useSyncExternalStore:aH,useId:wH,unstable_isNewReconciler:!1};function Bn(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function QO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hp={isMounted:function(t){return(t=t._reactInternals)?xo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=jr(),i=Us(t),s=Fi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bs(t,s,i),e!==null&&(Jn(e,t,i,n),Kh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=jr(),i=Us(t),s=Fi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bs(t,s,i),e!==null&&(Jn(e,t,i,n),Kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=jr(),n=Us(t),i=Fi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,n),e!==null&&(Jn(e,t,n,r),Kh(e,t,n))}};function SI(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Mc(r,n)||!Mc(i,s):!0}function EH(t,e,r){var n=!1,i=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=Rn(s):(i=Gr(e)?Ja:_r.current,n=e.contextTypes,s=(n=n!=null)?Bl(t,i):ea),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function EI(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hp.enqueueReplaceState(e,e.state,null)}function XO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},AC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Rn(s):(s=Gr(e)?Ja:_r.current,i.context=Bl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(QO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hp.enqueueReplaceState(i,i.state,null),Of(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Vl(t,e){try{var r="",n=e;do r+=JY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function qm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function JO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var OX=typeof WeakMap=="function"?WeakMap:Map;function OH(t,e,r){r=Fi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){If||(If=!0,lP=n),JO(t,e)},r}function PH(t,e,r){r=Fi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){JO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){JO(t,e),typeof n!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function OI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new OX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=FX.bind(null,t,e,r),e.then(t,t))}function PI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function CI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Fi(-1,1),e.tag=2,Bs(r,e,1))),r.lanes|=1),t)}var PX=ts.ReactCurrentOwner,Hr=!1;function Cr(t,e,r,n){e.child=t===null?tH(e,null,r,n):Ul(e,t.child,r,n)}function NI(t,e,r,n,i){r=r.render;var s=e.ref;return yl(e,i),n=UC(t,e,r,n,s,i),r=WC(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zi(t,e,i)):(ut&&r&&RC(e),e.flags|=1,Cr(t,e,n,i),e.child)}function TI(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!eN(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,CH(t,e,s,n,i)):(t=Zh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Mc,r(a,n)&&t.ref===e.ref)return Zi(t,e,i)}return e.flags|=1,t=Ws(s,n),t.ref=e.ref,t.return=e,e.child=t}function CH(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Mc(s,n)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,Zi(t,e,i)}return ZO(t,e,r,n,i)}function NH(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(ol,ln),ln|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(ol,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rt(ol,ln),ln|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rt(ol,ln),ln|=n;return Cr(t,e,i,r),e.child}function TH(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function ZO(t,e,r,n,i){var s=Gr(r)?Ja:_r.current;return s=Bl(e,s),yl(e,i),r=UC(t,e,r,n,s,i),n=WC(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Zi(t,e,i)):(ut&&n&&RC(e),e.flags|=1,Cr(t,e,r,i),e.child)}function II(t,e,r,n,i){if(Gr(r)){var s=!0;wf(e)}else s=!1;if(yl(e,i),e.stateNode===null)Qh(t,e),EH(e,r,n),XO(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=Rn(u):(u=Gr(r)?Ja:_r.current,u=Bl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&EI(e,a,n,u),vs=!1;var f=e.memoizedState;a.state=f,Of(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Kr.current||vs?(typeof d=="function"&&(QO(e,r,d,n),l=e.memoizedState),(o=vs||SI(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,nH(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Bn(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=Rn(l):(l=Gr(r)?Ja:_r.current,l=Bl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&EI(e,a,n,l),vs=!1,f=e.memoizedState,a.state=f,Of(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Kr.current||vs?(typeof p=="function"&&(QO(e,r,p,n),m=e.memoizedState),(u=vs||SI(e,r,u,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return eP(t,e,r,n,s,i)}function eP(t,e,r,n,i,s){TH(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&mI(e,r,!1),Zi(t,e,s);n=e.stateNode,PX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Ul(e,t.child,null,s),e.child=Ul(e,null,o,s)):Cr(t,e,o,s),e.memoizedState=n.state,i&&mI(e,r,!0),e.child}function IH(t){var e=t.stateNode;e.pendingContext?pI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&pI(t,e.context,!1),FC(t,e.containerInfo)}function RI(t,e,r,n,i){return zl(),$C(i),e.flags|=256,Cr(t,e,r,n),e.child}var tP={dehydrated:null,treeContext:null,retryLane:0};function rP(t){return{baseLanes:t,cachePool:null,transitions:null}}function RH(t,e,r){var n=e.pendingProps,i=ht.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(ht,i&1),t===null)return GO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mp(a,n,0,null),t=Ua(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=rP(r),e.memoizedState=tP,t):KC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return CX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ws(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ws(o,s):(s=Ua(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?rP(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=tP,n}return s=t.child,t=s.sibling,n=Ws(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function KC(t,e){return e=mp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,r,n){return n!==null&&$C(n),Ul(e,t.child,null,r),t=KC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function CX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=qm(Error(Q(422))),Ph(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=mp({mode:"visible",children:n.children},i,0,null),s=Ua(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Ul(e,t.child,null,a),e.child.memoizedState=rP(a),e.memoizedState=tP,s);if(!(e.mode&1))return Ph(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Q(419)),n=qm(s,n,void 0),Ph(t,e,a,n)}if(o=(a&t.childLanes)!==0,Hr||o){if(n=Qt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Ji(t,i),Jn(n,t,i,-1))}return ZC(),n=qm(Error(Q(421))),Ph(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=LX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=Ls(i.nextSibling),hn=e,ut=!0,Vn=null,t!==null&&(En[On++]=Di,En[On++]=qi,En[On++]=Za,Di=t.id,qi=t.overflow,Za=e),e=KC(e,n.children),e.flags|=4096,e)}function jI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),YO(t.return,e,r)}function Mm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function jH(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Cr(t,e,n.children,r),n=ht.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&jI(t,r,e);else if(t.tag===19)jI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rt(ht,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Pf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Mm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Mm(e,!0,r,null,s);break;case"together":Mm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Zi(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),to|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,r=Ws(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ws(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function NX(t,e,r){switch(e.tag){case 3:IH(e),zl();break;case 5:iH(e);break;case 1:Gr(e.type)&&wf(e);break;case 4:FC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rt(Sf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rt(ht,ht.current&1),e.flags|=128,null):r&e.child.childLanes?RH(t,e,r):(rt(ht,ht.current&1),t=Zi(t,e,r),t!==null?t.sibling:null);rt(ht,ht.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return jH(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(ht,ht.current),n)break;return null;case 22:case 23:return e.lanes=0,NH(t,e,r)}return Zi(t,e,r)}var $H,nP,kH,DH;$H=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};nP=function(){};kH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Oa(wi.current);var s=null;switch(r){case"input":i=OO(t,i),n=OO(t,n),s=[];break;case"select":i=mt({},i,{value:void 0}),n=mt({},n,{value:void 0}),s=[];break;case"textarea":i=NO(t,i),n=NO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yf)}IO(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ic.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};DH=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yu(t,e){if(!ut)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function gr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function TX(t,e,r){var n=e.pendingProps;switch(jC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return gr(e),null;case 1:return Gr(e.type)&&bf(),gr(e),null;case 3:return n=e.stateNode,Wl(),st(Kr),st(_r),BC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Vn!==null&&(dP(Vn),Vn=null))),nP(t,e),gr(e),null;case 5:LC(e);var i=Oa(zc.current);if(r=e.type,t!==null&&e.stateNode!=null)kH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Q(166));return gr(e),null}if(t=Oa(wi.current),Eh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[pi]=e,n[Lc]=s,t=(e.mode&1)!==0,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(i=0;i<lc.length;i++)it(lc[i],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":BT(n,s),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},it("invalid",n);break;case"textarea":UT(n,s),it("invalid",n)}IO(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Sh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Sh(n.textContent,o,t),i=["children",""+o]):Ic.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&it("scroll",n)}switch(r){case"input":mh(n),zT(n,s,!0);break;case"textarea":mh(n),WT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=yf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=uV(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[pi]=e,t[Lc]=n,$H(t,e,!1,!1),e.stateNode=t;e:{switch(a=RO(r,n),r){case"dialog":it("cancel",t),it("close",t),i=n;break;case"iframe":case"object":case"embed":it("load",t),i=n;break;case"video":case"audio":for(i=0;i<lc.length;i++)it(lc[i],t);i=n;break;case"source":it("error",t),i=n;break;case"img":case"image":case"link":it("error",t),it("load",t),i=n;break;case"details":it("toggle",t),i=n;break;case"input":BT(t,n),i=OO(t,n),it("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mt({},n,{value:void 0}),it("invalid",t);break;case"textarea":UT(t,n),i=NO(t,n),it("invalid",t);break;default:i=n}IO(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?hV(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&cV(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rc(t,l):typeof l=="number"&&Rc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ic.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",t):l!=null&&gC(t,s,l,a))}switch(r){case"input":mh(t),zT(t,n,!1);break;case"textarea":mh(t),WT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?pl(t,!!n.multiple,s,!1):n.defaultValue!=null&&pl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return gr(e),null;case 6:if(t&&e.stateNode!=null)DH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Q(166));if(r=Oa(zc.current),Oa(wi.current),Eh(e)){if(n=e.stateNode,r=e.memoizedProps,n[pi]=e,(s=n.nodeValue!==r)&&(t=hn,t!==null))switch(t.tag){case 3:Sh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[pi]=e,e.stateNode=n}return gr(e),null;case 13:if(st(ht),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ut&&dn!==null&&e.mode&1&&!(e.flags&128))ZV(),zl(),e.flags|=98560,s=!1;else if(s=Eh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[pi]=e}else zl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;gr(e),s=!1}else Vn!==null&&(dP(Vn),Vn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||ht.current&1?Vt===0&&(Vt=3):ZC())),e.updateQueue!==null&&(e.flags|=4),gr(e),null);case 4:return Wl(),nP(t,e),t===null&&Ac(e.stateNode.containerInfo),gr(e),null;case 10:return qC(e.type._context),gr(e),null;case 17:return Gr(e.type)&&bf(),gr(e),null;case 19:if(st(ht),s=e.memoizedState,s===null)return gr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Yu(s,!1);else{if(Vt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Pf(t),a!==null){for(e.flags|=128,Yu(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rt(ht,ht.current&1|2),e.child}t=t.sibling}s.tail!==null&&Pt()>Hl&&(e.flags|=128,n=!0,Yu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Pf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ut)return gr(e),null}else 2*Pt()-s.renderingStartTime>Hl&&r!==1073741824&&(e.flags|=128,n=!0,Yu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Pt(),e.sibling=null,r=ht.current,rt(ht,n?r&1|2:r&1),e):(gr(e),null);case 22:case 23:return JC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ln&1073741824&&(gr(e),e.subtreeFlags&6&&(e.flags|=8192)):gr(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function IX(t,e){switch(jC(e),e.tag){case 1:return Gr(e.type)&&bf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Wl(),st(Kr),st(_r),BC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return LC(e),null;case 13:if(st(ht),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));zl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(ht),null;case 4:return Wl(),null;case 10:return qC(e.type._context),null;case 22:case 23:return JC(),null;case 24:return null;default:return null}}var Ch=!1,br=!1,RX=typeof WeakSet=="function"?WeakSet:Set,ce=null;function al(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wt(t,e,n)}else r.current=null}function iP(t,e,r){try{r()}catch(n){wt(t,e,n)}}var $I=!1;function jX(t,e){if(BO=mf,t=LV(),IC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(zO={focusedElem:t,selectionRange:r},mf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Bn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(w){wt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=$I,$I=!1,m}function yc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&iP(e,r,s)}i=i.next}while(i!==n)}}function fp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function sP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function qH(t){var e=t.alternate;e!==null&&(t.alternate=null,qH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[pi],delete e[Lc],delete e[VO],delete e[pX],delete e[mX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function MH(t){return t.tag===5||t.tag===3||t.tag===4}function kI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||MH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function aP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yf));else if(n!==4&&(t=t.child,t!==null))for(aP(t,e,r),t=t.sibling;t!==null;)aP(t,e,r),t=t.sibling}function oP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(oP(t,e,r),t=t.sibling;t!==null;)oP(t,e,r),t=t.sibling}var ur=null,Wn=!1;function hs(t,e,r){for(r=r.child;r!==null;)AH(t,e,r),r=r.sibling}function AH(t,e,r){if(bi&&typeof bi.onCommitFiberUnmount=="function")try{bi.onCommitFiberUnmount(sp,r)}catch{}switch(r.tag){case 5:br||al(r,e);case 6:var n=ur,i=Wn;ur=null,hs(t,e,r),ur=n,Wn=i,ur!==null&&(Wn?(t=ur,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):ur.removeChild(r.stateNode));break;case 18:ur!==null&&(Wn?(t=ur,r=r.stateNode,t.nodeType===8?Im(t.parentNode,r):t.nodeType===1&&Im(t,r),Dc(t)):Im(ur,r.stateNode));break;case 4:n=ur,i=Wn,ur=r.stateNode.containerInfo,Wn=!0,hs(t,e,r),ur=n,Wn=i;break;case 0:case 11:case 14:case 15:if(!br&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&iP(r,e,a),i=i.next}while(i!==n)}hs(t,e,r);break;case 1:if(!br&&(al(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){wt(r,e,o)}hs(t,e,r);break;case 21:hs(t,e,r);break;case 22:r.mode&1?(br=(n=br)||r.memoizedState!==null,hs(t,e,r),br=n):hs(t,e,r);break;default:hs(t,e,r)}}function DI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new RX),e.forEach(function(n){var i=BX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Fn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:ur=o.stateNode,Wn=!1;break e;case 3:ur=o.stateNode.containerInfo,Wn=!0;break e;case 4:ur=o.stateNode.containerInfo,Wn=!0;break e}o=o.return}if(ur===null)throw Error(Q(160));AH(s,a,i),ur=null,Wn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)FH(e,t),e=e.sibling}function FH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Fn(e,t),ai(t),n&4){try{yc(3,t,t.return),fp(3,t)}catch(y){wt(t,t.return,y)}try{yc(5,t,t.return)}catch(y){wt(t,t.return,y)}}break;case 1:Fn(e,t),ai(t),n&512&&r!==null&&al(r,r.return);break;case 5:if(Fn(e,t),ai(t),n&512&&r!==null&&al(r,r.return),t.flags&32){var i=t.stateNode;try{Rc(i,"")}catch(y){wt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&oV(i,s),RO(o,a);var u=RO(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?hV(i,h):d==="dangerouslySetInnerHTML"?cV(i,h):d==="children"?Rc(i,h):gC(i,d,h,u)}switch(o){case"input":PO(i,s);break;case"textarea":lV(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?pl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?pl(i,!!s.multiple,s.defaultValue,!0):pl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lc]=s}catch(y){wt(t,t.return,y)}}break;case 6:if(Fn(e,t),ai(t),n&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){wt(t,t.return,y)}}break;case 3:if(Fn(e,t),ai(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(y){wt(t,t.return,y)}break;case 4:Fn(e,t),ai(t);break;case 13:Fn(e,t),ai(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(QC=Pt())),n&4&&DI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(br=(u=br)||d,Fn(e,t),br=u):Fn(e,t),ai(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(h=ce=d;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:yc(4,f,f.return);break;case 1:al(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){wt(n,r,y)}}break;case 5:al(f,f.return);break;case 22:if(f.memoizedState!==null){MI(h);continue}}p!==null?(p.return=f,ce=p):MI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=dV("display",a))}catch(y){wt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){wt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Fn(e,t),ai(t),n&4&&DI(t);break;case 21:break;default:Fn(e,t),ai(t)}}function ai(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(MH(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Rc(i,""),n.flags&=-33);var s=kI(t);oP(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=kI(t);aP(t,o,a);break;default:throw Error(Q(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function $X(t,e,r){ce=t,LH(t)}function LH(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ch;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||br;o=Ch;var u=br;if(Ch=a,(br=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?AI(i):l!==null?(l.return=a,ce=l):AI(i);for(;s!==null;)ce=s,LH(s),s=s.sibling;ce=i,Ch=o,br=u}qI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):qI(t)}}function qI(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:br||fp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!br)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Bn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&wI(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}wI(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}br||e.flags&512&&sP(e)}catch(f){wt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function MI(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function AI(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{fp(4,e)}catch(l){wt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{sP(e)}catch(l){wt(e,s,l)}break;case 5:var a=e.return;try{sP(e)}catch(l){wt(e,a,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var kX=Math.ceil,Tf=ts.ReactCurrentDispatcher,GC=ts.ReactCurrentOwner,Nn=ts.ReactCurrentBatchConfig,Fe=0,Qt=null,Rt=null,cr=0,ln=0,ol=oa(0),Vt=0,Hc=null,to=0,pp=0,YC=0,bc=null,Wr=null,QC=0,Hl=1/0,Ti=null,If=!1,lP=null,zs=null,Nh=!1,ks=null,Rf=0,wc=0,uP=null,Xh=-1,Jh=0;function jr(){return Fe&6?Pt():Xh!==-1?Xh:Xh=Pt()}function Us(t){return t.mode&1?Fe&2&&cr!==0?cr&-cr:gX.transition!==null?(Jh===0&&(Jh=EV()),Jh):(t=We,t!==0||(t=window.event,t=t===void 0?16:RV(t.type)),t):1}function Jn(t,e,r,n){if(50<wc)throw wc=0,uP=null,Error(Q(185));wd(t,r,n),(!(Fe&2)||t!==Qt)&&(t===Qt&&(!(Fe&2)&&(pp|=r),Vt===4&&xs(t,cr)),Yr(t,n),r===1&&Fe===0&&!(e.mode&1)&&(Hl=Pt()+500,cp&&la()))}function Yr(t,e){var r=t.callbackNode;gQ(t,e);var n=pf(t,t===Qt?cr:0);if(n===0)r!==null&&KT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&KT(r),e===1)t.tag===0?vX(FI.bind(null,t)):QV(FI.bind(null,t)),hX(function(){!(Fe&6)&&la()}),r=null;else{switch(OV(n)){case 1:r=_C;break;case 4:r=_V;break;case 16:r=ff;break;case 536870912:r=SV;break;default:r=ff}r=GH(r,BH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function BH(t,e){if(Xh=-1,Jh=0,Fe&6)throw Error(Q(327));var r=t.callbackNode;if(bl()&&t.callbackNode!==r)return null;var n=pf(t,t===Qt?cr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jf(t,n);else{e=n;var i=Fe;Fe|=2;var s=UH();(Qt!==t||cr!==e)&&(Ti=null,Hl=Pt()+500,za(t,e));do try{MX();break}catch(o){zH(t,o)}while(!0);DC(),Tf.current=s,Fe=i,Rt!==null?e=0:(Qt=null,cr=0,e=Vt)}if(e!==0){if(e===2&&(i=qO(t),i!==0&&(n=i,e=cP(t,i))),e===1)throw r=Hc,za(t,0),xs(t,n),Yr(t,Pt()),r;if(e===6)xs(t,n);else{if(i=t.current.alternate,!(n&30)&&!DX(i)&&(e=jf(t,n),e===2&&(s=qO(t),s!==0&&(n=s,e=cP(t,s))),e===1))throw r=Hc,za(t,0),xs(t,n),Yr(t,Pt()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Q(345));case 2:xa(t,Wr,Ti);break;case 3:if(xs(t,n),(n&130023424)===n&&(e=QC+500-Pt(),10<e)){if(pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){jr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=WO(xa.bind(null,t,Wr,Ti),e);break}xa(t,Wr,Ti);break;case 4:if(xs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Xn(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Pt()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*kX(n/1960))-n,10<n){t.timeoutHandle=WO(xa.bind(null,t,Wr,Ti),n);break}xa(t,Wr,Ti);break;case 5:xa(t,Wr,Ti);break;default:throw Error(Q(329))}}}return Yr(t,Pt()),t.callbackNode===r?BH.bind(null,t):null}function cP(t,e){var r=bc;return t.current.memoizedState.isDehydrated&&(za(t,e).flags|=256),t=jf(t,e),t!==2&&(e=Wr,Wr=r,e!==null&&dP(e)),t}function dP(t){Wr===null?Wr=t:Wr.push.apply(Wr,t)}function DX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Zn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~YC,e&=~pp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Xn(e),n=1<<r;t[r]=-1,e&=~n}}function FI(t){if(Fe&6)throw Error(Q(327));bl();var e=pf(t,0);if(!(e&1))return Yr(t,Pt()),null;var r=jf(t,e);if(t.tag!==0&&r===2){var n=qO(t);n!==0&&(e=n,r=cP(t,n))}if(r===1)throw r=Hc,za(t,0),xs(t,e),Yr(t,Pt()),r;if(r===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xa(t,Wr,Ti),Yr(t,Pt()),null}function XC(t,e){var r=Fe;Fe|=1;try{return t(e)}finally{Fe=r,Fe===0&&(Hl=Pt()+500,cp&&la())}}function ro(t){ks!==null&&ks.tag===0&&!(Fe&6)&&bl();var e=Fe;Fe|=1;var r=Nn.transition,n=We;try{if(Nn.transition=null,We=1,t)return t()}finally{We=n,Nn.transition=r,Fe=e,!(Fe&6)&&la()}}function JC(){ln=ol.current,st(ol)}function za(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,dX(r)),Rt!==null)for(r=Rt.return;r!==null;){var n=r;switch(jC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bf();break;case 3:Wl(),st(Kr),st(_r),BC();break;case 5:LC(n);break;case 4:Wl();break;case 13:st(ht);break;case 19:st(ht);break;case 10:qC(n.type._context);break;case 22:case 23:JC()}r=r.return}if(Qt=t,Rt=t=Ws(t.current,null),cr=ln=e,Vt=0,Hc=null,YC=pp=to=0,Wr=bc=null,Ea!==null){for(e=0;e<Ea.length;e++)if(r=Ea[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ea=null}return t}function zH(t,e){do{var r=Rt;try{if(DC(),Gh.current=Nf,Cf){for(var n=ft.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Cf=!1}if(eo=0,Yt=Ut=ft=null,gc=!1,Uc=0,GC.current=null,r===null||r.return===null){Vt=1,Hc=e,Rt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=cr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=PI(a);if(p!==null){p.flags&=-257,CI(p,a,o,s,e),p.mode&1&&OI(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){OI(s,u,e),ZC();break e}l=Error(Q(426))}}else if(ut&&o.mode&1){var b=PI(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),CI(b,a,o,s,e),$C(Vl(l,o));break e}}s=l=Vl(l,o),Vt!==4&&(Vt=2),bc===null?bc=[s]:bc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=OH(s,l,e);bI(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zs===null||!zs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=PH(s,o,e);bI(s,w);break e}}s=s.return}while(s!==null)}VH(r)}catch(_){e=_,Rt===r&&r!==null&&(Rt=r=r.return);continue}break}while(!0)}function UH(){var t=Tf.current;return Tf.current=Nf,t===null?Nf:t}function ZC(){(Vt===0||Vt===3||Vt===2)&&(Vt=4),Qt===null||!(to&268435455)&&!(pp&268435455)||xs(Qt,cr)}function jf(t,e){var r=Fe;Fe|=2;var n=UH();(Qt!==t||cr!==e)&&(Ti=null,za(t,e));do try{qX();break}catch(i){zH(t,i)}while(!0);if(DC(),Fe=r,Tf.current=n,Rt!==null)throw Error(Q(261));return Qt=null,cr=0,Vt}function qX(){for(;Rt!==null;)WH(Rt)}function MX(){for(;Rt!==null&&!lQ();)WH(Rt)}function WH(t){var e=KH(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?VH(t):Rt=e,GC.current=null}function VH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=IX(r,e),r!==null){r.flags&=32767,Rt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Vt=6,Rt=null;return}}else if(r=TX(r,e,ln),r!==null){Rt=r;return}if(e=e.sibling,e!==null){Rt=e;return}Rt=e=t}while(e!==null);Vt===0&&(Vt=5)}function xa(t,e,r){var n=We,i=Nn.transition;try{Nn.transition=null,We=1,AX(t,e,r,n)}finally{Nn.transition=i,We=n}return null}function AX(t,e,r,n){do bl();while(ks!==null);if(Fe&6)throw Error(Q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(yQ(t,s),t===Qt&&(Rt=Qt=null,cr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Nh||(Nh=!0,GH(ff,function(){return bl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Nn.transition,Nn.transition=null;var a=We;We=1;var o=Fe;Fe|=4,GC.current=null,jX(t,r),FH(r,t),iX(zO),mf=!!BO,zO=BO=null,t.current=r,$X(r),uQ(),Fe=o,We=a,Nn.transition=s}else t.current=r;if(Nh&&(Nh=!1,ks=t,Rf=i),s=t.pendingLanes,s===0&&(zs=null),hQ(r.stateNode),Yr(t,Pt()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(If)throw If=!1,t=lP,lP=null,t;return Rf&1&&t.tag!==0&&bl(),s=t.pendingLanes,s&1?t===uP?wc++:(wc=0,uP=t):wc=0,la(),null}function bl(){if(ks!==null){var t=OV(Rf),e=Nn.transition,r=We;try{if(Nn.transition=null,We=16>t?16:t,ks===null)var n=!1;else{if(t=ks,ks=null,Rf=0,Fe&6)throw Error(Q(331));var i=Fe;for(Fe|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:yc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ce=h;else for(;ce!==null;){d=ce;var f=d.sibling,p=d.return;if(qH(d),d===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ce=g;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=v;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fp(9,o)}}catch(_){wt(o,o.return,_)}if(o===a){ce=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}if(Fe=i,la(),bi&&typeof bi.onPostCommitFiberRoot=="function")try{bi.onPostCommitFiberRoot(sp,t)}catch{}n=!0}return n}finally{We=r,Nn.transition=e}}return!1}function LI(t,e,r){e=Vl(r,e),e=OH(t,e,1),t=Bs(t,e,1),e=jr(),t!==null&&(wd(t,1,e),Yr(t,e))}function wt(t,e,r){if(t.tag===3)LI(t,t,r);else for(;e!==null;){if(e.tag===3){LI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zs===null||!zs.has(n))){t=Vl(r,t),t=PH(e,t,1),e=Bs(e,t,1),t=jr(),e!==null&&(wd(e,1,t),Yr(e,t));break}}e=e.return}}function FX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=jr(),t.pingedLanes|=t.suspendedLanes&r,Qt===t&&(cr&r)===r&&(Vt===4||Vt===3&&(cr&130023424)===cr&&500>Pt()-QC?za(t,0):YC|=r),Yr(t,e)}function HH(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var r=jr();t=Ji(t,e),t!==null&&(wd(t,e,r),Yr(t,r))}function LX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),HH(t,r)}function BX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(e),HH(t,r)}var KH;KH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Kr.current)Hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Hr=!1,NX(t,e,r);Hr=!!(t.flags&131072)}else Hr=!1,ut&&e.flags&1048576&&XV(e,_f,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qh(t,e),t=e.pendingProps;var i=Bl(e,_r.current);yl(e,r),i=UC(null,e,n,t,i,r);var s=WC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Gr(n)?(s=!0,wf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,AC(e),i.updater=hp,e.stateNode=i,i._reactInternals=e,XO(e,n,t,r),e=eP(null,e,n,!0,s,r)):(e.tag=0,ut&&s&&RC(e),Cr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=UX(n),t=Bn(n,t),i){case 0:e=ZO(null,e,n,t,r);break e;case 1:e=II(null,e,n,t,r);break e;case 11:e=NI(null,e,n,t,r);break e;case 14:e=TI(null,e,n,Bn(n.type,t),r);break e}throw Error(Q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),ZO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),II(t,e,n,i,r);case 3:e:{if(IH(e),t===null)throw Error(Q(387));n=e.pendingProps,s=e.memoizedState,i=s.element,nH(t,e),Of(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Vl(Error(Q(423)),e),e=RI(t,e,n,r,i);break e}else if(n!==i){i=Vl(Error(Q(424)),e),e=RI(t,e,n,r,i);break e}else for(dn=Ls(e.stateNode.containerInfo.firstChild),hn=e,ut=!0,Vn=null,r=tH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(zl(),n===i){e=Zi(t,e,r);break e}Cr(t,e,n,r)}e=e.child}return e;case 5:return iH(e),t===null&&GO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,UO(n,i)?a=null:s!==null&&UO(n,s)&&(e.flags|=32),TH(t,e),Cr(t,e,a,r),e.child;case 6:return t===null&&GO(e),null;case 13:return RH(t,e,r);case 4:return FC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Ul(e,null,n,r):Cr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),NI(t,e,n,i,r);case 7:return Cr(t,e,e.pendingProps,r),e.child;case 8:return Cr(t,e,e.pendingProps.children,r),e.child;case 12:return Cr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,rt(Sf,n._currentValue),n._currentValue=a,s!==null)if(Zn(s.value,a)){if(s.children===i.children&&!Kr.current){e=Zi(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Fi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),YO(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),YO(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Cr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,yl(e,r),i=Rn(i),n=n(i),e.flags|=1,Cr(t,e,n,r),e.child;case 14:return n=e.type,i=Bn(n,e.pendingProps),i=Bn(n.type,i),TI(t,e,n,i,r);case 15:return CH(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Bn(n,i),Qh(t,e),e.tag=1,Gr(n)?(t=!0,wf(e)):t=!1,yl(e,r),EH(e,n,i),XO(e,n,i,r),eP(null,e,n,!0,t,r);case 19:return jH(t,e,r);case 22:return NH(t,e,r)}throw Error(Q(156,e.tag))};function GH(t,e){return xV(t,e)}function zX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Cn(t,e,r,n){return new zX(t,e,r,n)}function eN(t){return t=t.prototype,!(!t||!t.isReactComponent)}function UX(t){if(typeof t=="function")return eN(t)?1:0;if(t!=null){if(t=t.$$typeof,t===bC)return 11;if(t===wC)return 14}return 2}function Ws(t,e){var r=t.alternate;return r===null?(r=Cn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Zh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")eN(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Xo:return Ua(r.children,i,s,e);case yC:a=8,i|=8;break;case xO:return t=Cn(12,r,e,i|2),t.elementType=xO,t.lanes=s,t;case _O:return t=Cn(13,r,e,i),t.elementType=_O,t.lanes=s,t;case SO:return t=Cn(19,r,e,i),t.elementType=SO,t.lanes=s,t;case iV:return mp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case rV:a=10;break e;case nV:a=9;break e;case bC:a=11;break e;case wC:a=14;break e;case ms:a=16,n=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Cn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ua(t,e,r,n){return t=Cn(7,t,n,e),t.lanes=r,t}function mp(t,e,r,n){return t=Cn(22,t,n,e),t.elementType=iV,t.lanes=r,t.stateNode={isHidden:!1},t}function Am(t,e,r){return t=Cn(6,t,null,e),t.lanes=r,t}function Fm(t,e,r){return e=Cn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function WX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=bm(0),this.expirationTimes=bm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=bm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function tN(t,e,r,n,i,s,a,o,l){return t=new WX(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Cn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},AC(s),t}function VX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Qo,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function YH(t){if(!t)return ea;t=t._reactInternals;e:{if(xo(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Gr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var r=t.type;if(Gr(r))return YV(t,r,e)}return e}function QH(t,e,r,n,i,s,a,o,l){return t=tN(r,n,!0,t,i,s,a,o,l),t.context=YH(null),r=t.current,n=jr(),i=Us(r),s=Fi(n,i),s.callback=e??null,Bs(r,s,i),t.current.lanes=i,wd(t,i,n),Yr(t,n),t}function vp(t,e,r,n){var i=e.current,s=jr(),a=Us(i);return r=YH(r),e.context===null?e.context=r:e.pendingContext=r,e=Fi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bs(i,e,a),t!==null&&(Jn(t,i,a,s),Kh(t,i,a)),a}function $f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function BI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function rN(t,e){BI(t,e),(t=t.alternate)&&BI(t,e)}function HX(){return null}var XH=typeof reportError=="function"?reportError:function(t){console.error(t)};function nN(t){this._internalRoot=t}gp.prototype.render=nN.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));vp(t,e,null,null)};gp.prototype.unmount=nN.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){vp(null,t,null,null)}),e[Xi]=null}};function gp(t){this._internalRoot=t}gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=NV();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ws.length&&e!==0&&e<ws[r].priority;r++);ws.splice(r,0,t),r===0&&IV(t)}};function iN(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function zI(){}function KX(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=$f(a);s.call(u)}}var a=QH(e,n,t,0,null,!1,!1,"",zI);return t._reactRootContainer=a,t[Xi]=a.current,Ac(t.nodeType===8?t.parentNode:t),ro(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=$f(l);o.call(u)}}var l=tN(t,0,!1,null,null,!1,!1,"",zI);return t._reactRootContainer=l,t[Xi]=l.current,Ac(t.nodeType===8?t.parentNode:t),ro(function(){vp(e,l,r,n)}),l}function bp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=$f(a);o.call(l)}}vp(e,a,t,i)}else a=KX(r,e,t,i,n);return $f(a)}PV=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=oc(e.pendingLanes);r!==0&&(SC(e,r|1),Yr(e,Pt()),!(Fe&6)&&(Hl=Pt()+500,la()))}break;case 13:ro(function(){var n=Ji(t,1);if(n!==null){var i=jr();Jn(n,t,1,i)}}),rN(t,1)}};EC=function(t){if(t.tag===13){var e=Ji(t,134217728);if(e!==null){var r=jr();Jn(e,t,134217728,r)}rN(t,134217728)}};CV=function(t){if(t.tag===13){var e=Us(t),r=Ji(t,e);if(r!==null){var n=jr();Jn(r,t,e,n)}rN(t,e)}};NV=function(){return We};TV=function(t,e){var r=We;try{return We=t,e()}finally{We=r}};$O=function(t,e,r){switch(e){case"input":if(PO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=up(n);if(!i)throw Error(Q(90));aV(n),PO(n,i)}}}break;case"textarea":lV(t,r);break;case"select":e=r.value,e!=null&&pl(t,!!r.multiple,e,!1)}};mV=XC;vV=ro;var GX={usingClientEntryPoint:!1,Events:[_d,tl,up,fV,pV,XC]},Qu={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},YX={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ts.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=bV(t),t===null?null:t.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||HX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Th=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Th.isDisabled&&Th.supportsFiber)try{sp=Th.inject(YX),bi=Th}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=GX;pn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!iN(e))throw Error(Q(200));return VX(t,e,null,r)};pn.createRoot=function(t,e){if(!iN(t))throw Error(Q(299));var r=!1,n="",i=XH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=tN(t,1,!1,null,null,r,!1,n,i),t[Xi]=e.current,Ac(t.nodeType===8?t.parentNode:t),new nN(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=bV(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return ro(t)};pn.hydrate=function(t,e,r){if(!yp(e))throw Error(Q(200));return bp(null,t,e,!0,r)};pn.hydrateRoot=function(t,e,r){if(!iN(t))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=XH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=QH(e,null,t,1,r??null,i,!1,s,a),t[Xi]=e.current,Ac(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new gp(e)};pn.render=function(t,e,r){if(!yp(e))throw Error(Q(200));return bp(null,t,e,!1,r)};pn.unmountComponentAtNode=function(t){if(!yp(t))throw Error(Q(40));return t._reactRootContainer?(ro(function(){bp(null,null,t,!1,function(){t._reactRootContainer=null,t[Xi]=null})}),!0):!1};pn.unstable_batchedUpdates=XC;pn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yp(r))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return bp(t,e,r,!1,n)};pn.version="18.3.1-next-f1338f8080-20240426";function JH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(JH)}catch(t){console.error(t)}}JH(),J8.exports=pn;var QX=J8.exports,UI=QX;bO.createRoot=UI.createRoot,bO.hydrateRoot=UI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kc.apply(this,arguments)}var Ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ds||(Ds={}));const WI="popstate";function XX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return hP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:kf(i)}return ZX(e,r,null,t)}function pt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function sN(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function JX(){return Math.random().toString(36).substr(2,8)}function VI(t,e){return{usr:t.state,key:t.key,idx:e}}function hP(t,e,r,n){return r===void 0&&(r=null),Kc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cu(e):e,{state:r,key:e&&e.key||n||JX()})}function kf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function ZX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ds.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Kc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Ds.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=Ds.Push;let v=hP(y.location,b,g);u=d()+1;let x=VI(v,u),w=y.createHref(v);try{a.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=Ds.Replace;let v=hP(y.location,b,g);u=d();let x=VI(v,u),w=y.createHref(v);a.replaceState(x,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:kf(b);return v=v.replace(/ $/,"%20"),pt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(WI,h),l=b,()=>{i.removeEventListener(WI,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var HI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(HI||(HI={}));function eJ(t,e,r){return r===void 0&&(r="/"),tJ(t,e,r)}function tJ(t,e,r,n){let i=typeof e=="string"?cu(e):e,s=Kl(i.pathname||"/",r);if(s==null)return null;let a=ZH(t);rJ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=fJ(s);o=dJ(a[l],u)}return o}function ZH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(pt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Vs([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(pt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),ZH(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:uJ(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of e7(s.path))i(s,a,l)}),e}function e7(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=e7(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function rJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:cJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const nJ=/^:[\w-]+$/,iJ=3,sJ=2,aJ=1,oJ=10,lJ=-2,KI=t=>t==="*";function uJ(t,e){let r=t.split("/"),n=r.length;return r.some(KI)&&(n+=lJ),e&&(n+=sJ),r.filter(i=>!KI(i)).reduce((i,s)=>i+(nJ.test(s)?iJ:s===""?aJ:oJ),n)}function cJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function dJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=fP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Vs([s,h.pathname]),pathnameBase:yJ(Vs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Vs([s,h.pathnameBase]))}return a}function fP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=hJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function hJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),sN(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function fJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return sN(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Kl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const pJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,mJ=t=>pJ.test(t);function vJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?cu(t):t,s;if(r)if(mJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),sN(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=GI(r.substring(1),"/"):s=GI(r,e)}else s=e;return{pathname:s,search:bJ(n),hash:wJ(i)}}function GI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Lm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function gJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function aN(t,e){let r=gJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function oN(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=cu(t):(i=Kc({},t),pt(!i.pathname||!i.pathname.includes("?"),Lm("?","pathname","search",i)),pt(!i.pathname||!i.pathname.includes("#"),Lm("#","pathname","hash",i)),pt(!i.search||!i.search.includes("#"),Lm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=vJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Vs=t=>t.join("/").replace(/\/\/+/g,"/"),yJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),bJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,wJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function xJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const t7=["post","put","patch","delete"];new Set(t7);const _J=["get",...t7];new Set(_J);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gc.apply(this,arguments)}const wp=$.createContext(null),r7=$.createContext(null),rs=$.createContext(null),xp=$.createContext(null),ns=$.createContext({outlet:null,matches:[],isDataRoute:!1}),n7=$.createContext(null);function SJ(t,e){let{relative:r}=e===void 0?{}:e;du()||pt(!1);let{basename:n,navigator:i}=$.useContext(rs),{hash:s,pathname:a,search:o}=_p(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Vs([n,a])),i.createHref({pathname:l,search:o,hash:s})}function du(){return $.useContext(xp)!=null}function is(){return du()||pt(!1),$.useContext(xp).location}function i7(t){$.useContext(rs).static||$.useLayoutEffect(t)}function en(){let{isDataRoute:t}=$.useContext(ns);return t?qJ():EJ()}function EJ(){du()||pt(!1);let t=$.useContext(wp),{basename:e,future:r,navigator:n}=$.useContext(rs),{matches:i}=$.useContext(ns),{pathname:s}=is(),a=JSON.stringify(aN(i,r.v7_relativeSplatPath)),o=$.useRef(!1);return i7(()=>{o.current=!0}),$.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=oN(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Vs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function ss(){let{matches:t}=$.useContext(ns),e=t[t.length-1];return e?e.params:{}}function _p(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=$.useContext(rs),{matches:i}=$.useContext(ns),{pathname:s}=is(),a=JSON.stringify(aN(i,n.v7_relativeSplatPath));return $.useMemo(()=>oN(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function OJ(t,e){return PJ(t,e)}function PJ(t,e,r,n){du()||pt(!1);let{navigator:i}=$.useContext(rs),{matches:s}=$.useContext(ns),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=is(),d;if(e){var h;let b=typeof e=="string"?cu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||pt(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=eJ(t,{pathname:p}),y=RJ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Vs([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Vs([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?$.createElement(xp.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ds.Pop}},y):y}function CJ(){let t=DJ(),e=xJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:i},r):null,null)}const NJ=$.createElement(CJ,null);class TJ extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?$.createElement(ns.Provider,{value:this.props.routeContext},$.createElement(n7.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function IJ(t){let{routeContext:e,match:r,children:n}=t,i=$.useContext(wp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(ns.Provider,{value:e},n)}function RJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||pt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||NJ,l&&(u<0&&f===0?(MJ("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:h.route.Component?x=$.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,$.createElement(IJ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?$.createElement(TJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var s7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(s7||{}),a7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(a7||{});function jJ(t){let e=$.useContext(wp);return e||pt(!1),e}function $J(t){let e=$.useContext(r7);return e||pt(!1),e}function kJ(t){let e=$.useContext(ns);return e||pt(!1),e}function o7(t){let e=kJ(),r=e.matches[e.matches.length-1];return r.route.id||pt(!1),r.route.id}function DJ(){var t;let e=$.useContext(n7),r=$J(),n=o7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function qJ(){let{router:t}=jJ(s7.UseNavigateStable),e=o7(a7.UseNavigateStable),r=$.useRef(!1);return i7(()=>{r.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gc({fromRouteId:e},s)))},[t,e])}const YI={};function MJ(t,e,r){YI[t]||(YI[t]=!0)}function AJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function l7(t){let{to:e,replace:r,state:n,relative:i}=t;du()||pt(!1);let{future:s,static:a}=$.useContext(rs),{matches:o}=$.useContext(ns),{pathname:l}=is(),u=en(),d=oN(e,aN(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return $.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Ke(t){pt(!1)}function FJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ds.Pop,navigator:s,static:a=!1,future:o}=t;du()&&pt(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:a,future:Gc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=cu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=$.useMemo(()=>{let b=Kl(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:$.createElement(rs.Provider,{value:u},$.createElement(xp.Provider,{children:r,value:y}))}function QI(t){let{children:e,location:r}=t;return OJ(pP(e),r)}new Promise(()=>{});function pP(t,e){e===void 0&&(e=[]);let r=[];return $.Children.forEach(t,(n,i)=>{if(!$.isValidElement(n))return;let s=[...e,i];if(n.type===$.Fragment){r.push.apply(r,pP(n.props.children,s));return}n.type!==Ke&&pt(!1),!n.props.index||!n.props.children||pt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=pP(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}function u7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function LJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function BJ(t,e){return t.button===0&&(!e||e==="_self")&&!LJ(t)}function mP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function zJ(t,e){let r=mP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const UJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],WJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],VJ="6";try{window.__reactRouterVersion=VJ}catch{}const HJ=$.createContext({isTransitioning:!1}),KJ="startTransition",XI=FY[KJ];function GJ(t){let{basename:e,children:r,future:n,window:i}=t,s=$.useRef();s.current==null&&(s.current=XX({window:i,v5Compat:!0}));let a=s.current,[o,l]=$.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=$.useCallback(h=>{u&&XI?XI(()=>l(h)):l(h)},[l,u]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.useEffect(()=>AJ(n),[n]),$.createElement(FJ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const YJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",QJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,he=$.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=u7(e,UJ),{basename:p}=$.useContext(rs),m,y=!1;if(typeof u=="string"&&QJ.test(u)&&(m=u,YJ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=Kl(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=SJ(u,{relative:i}),g=ZJ(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return $.createElement("a",Df({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),XJ=$.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=u7(e,WJ),f=_p(l,{relative:h.relative}),p=is(),m=$.useContext(r7),{navigator:y,basename:b}=$.useContext(rs),g=m!=null&&tZ(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=Kl(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},P=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return $.createElement(he,Df({},h,{"aria-current":P,className:C,ref:r,style:I,to:l,viewTransition:u}),typeof d=="function"?d(S):d)});var vP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(vP||(vP={}));var JI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(JI||(JI={}));function JJ(t){let e=$.useContext(wp);return e||pt(!1),e}function ZJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=en(),u=is(),d=_p(t,{relative:a});return $.useCallback(h=>{if(BJ(h,r)){h.preventDefault();let f=n!==void 0?n:kf(u)===kf(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,n,i,r,t,s,a,o])}function eZ(t){let e=$.useRef(mP(t)),r=$.useRef(!1),n=is(),i=$.useMemo(()=>zJ(n.search,r.current?null:e.current),[n.search]),s=en(),a=$.useCallback((o,l)=>{const u=mP(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function tZ(t,e){e===void 0&&(e={});let r=$.useContext(HJ);r==null&&pt(!1);let{basename:n}=JJ(vP.useViewTransitionState),i=_p(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Kl(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Kl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return fP(i.pathname,a)!=null||fP(i.pathname,s)!=null}var _o=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},rZ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ss,cC,T8,nZ=(T8=class{constructor(){ue(this,Ss,rZ);ue(this,cC,!1)}setTimeoutProvider(t){ie(this,Ss,t)}setTimeout(t,e){return R(this,Ss).setTimeout(t,e)}clearTimeout(t){R(this,Ss).clearTimeout(t)}setInterval(t,e){return R(this,Ss).setInterval(t,e)}clearInterval(t){R(this,Ss).clearInterval(t)}},Ss=new WeakMap,cC=new WeakMap,T8),Pa=new nZ;function iZ(t){setTimeout(t,0)}var no=typeof window>"u"||"Deno"in globalThis;function yr(){}function sZ(t,e){return typeof t=="function"?t(e):t}function gP(t){return typeof t=="number"&&t>=0&&t!==1/0}function c7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Hs(t,e){return typeof t=="function"?t(e):t}function _n(t,e){return typeof t=="function"?t(e):t}function ZI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==lN(a,e.options))return!1}else if(!Yc(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function eR(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(io(e.options.mutationKey)!==io(s))return!1}else if(!Yc(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function lN(t,e){return((e==null?void 0:e.queryKeyHashFn)||io)(t)}function io(t){return JSON.stringify(t,(e,r)=>yP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Yc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Yc(t[r],e[r])):!1}var aZ=Object.prototype.hasOwnProperty;function uN(t,e){if(t===e)return t;const r=tR(t)&&tR(e);if(!r&&!(yP(t)&&yP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=r?u:s[u],h=t[d],f=e[d];if(h===f){o[d]=h,(r?u<i:aZ.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=uN(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function Qc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function tR(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function yP(t){if(!rR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!rR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function rR(t){return Object.prototype.toString.call(t)==="[object Object]"}function oZ(t){return new Promise(e=>{Pa.setTimeout(e,t)})}function bP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?uN(t,e):e}function lZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function uZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var cN=Symbol();function d7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===cN?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function dN(t,e){return typeof t=="function"?t(...e):!!t}function cZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var $a,Es,Ol,I8,dZ=(I8=class extends _o{constructor(){super();ue(this,$a);ue(this,Es);ue(this,Ol);ie(this,Ol,e=>{if(!no&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Es)||this.setEventListener(R(this,Ol))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Es))==null||e.call(this),ie(this,Es,void 0))}setEventListener(e){var r;ie(this,Ol,e),(r=R(this,Es))==null||r.call(this),ie(this,Es,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,$a)!==e&&(ie(this,$a,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,$a)=="boolean"?R(this,$a):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$a=new WeakMap,Es=new WeakMap,Ol=new WeakMap,I8),hN=new dZ;function wP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var hZ=iZ;function fZ(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=hZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var St=fZ(),Pl,Os,Cl,R8,pZ=(R8=class extends _o{constructor(){super();ue(this,Pl,!0);ue(this,Os);ue(this,Cl);ie(this,Cl,e=>{if(!no&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Os)||this.setEventListener(R(this,Cl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Os))==null||e.call(this),ie(this,Os,void 0))}setEventListener(e){var r;ie(this,Cl,e),(r=R(this,Os))==null||r.call(this),ie(this,Os,e(this.setOnline.bind(this)))}setOnline(e){R(this,Pl)!==e&&(ie(this,Pl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Pl)}},Pl=new WeakMap,Os=new WeakMap,Cl=new WeakMap,R8),qf=new pZ;function mZ(t){return Math.min(1e3*2**t,3e4)}function h7(t){return(t??"online")==="online"?qf.isOnline():!0}var xP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function f7(t){let e=!1,r=0,n;const i=wP(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new xP(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>hN.isFocused()&&(t.networkMode==="always"||qf.isOnline())&&t.canRun(),d=()=>h7(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||u())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(no?0:3),x=t.retryDelay??mZ,w=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),oZ(w).then(()=>u()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var ka,j8,p7=(j8=class{constructor(){ue(this,ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),gP(this.gcTime)&&ie(this,ka,Pa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(no?1/0:5*60*1e3))}clearGcTimeout(){R(this,ka)&&(Pa.clearTimeout(R(this,ka)),ie(this,ka,void 0))}},ka=new WeakMap,j8),Da,Nl,wn,qa,Gt,dd,Ma,zn,Ni,$8,vZ=($8=class extends p7{constructor(e){super();ue(this,zn);ue(this,Da);ue(this,Nl);ue(this,wn);ue(this,qa);ue(this,Gt);ue(this,dd);ue(this,Ma);ie(this,Ma,!1),ie(this,dd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,qa,e.client),ie(this,wn,R(this,qa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,Da,iR(this.options)),this.state=e.state??R(this,Da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Gt))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,dd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=iR(this.options);r.data!==void 0&&(this.setState(nR(r.data,r.dataUpdatedAt)),ie(this,Da,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,wn).remove(this)}setData(e,r){const n=bP(this.state.data,e,this.options);return _e(this,zn,Ni).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){_e(this,zn,Ni).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,Gt))==null?void 0:n.promise;return(i=R(this,Gt))==null||i.cancel(e),r?r.then(yr).catch(yr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Da))}isActive(){return this.observers.some(e=>_n(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===cN||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Hs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!c7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,wn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,Gt)&&(R(this,Ma)?R(this,Gt).cancel({revert:!0}):R(this,Gt).cancelRetry()),this.scheduleGc()),R(this,wn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,zn,Ni).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,d,h,f,p,m,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,Gt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Gt))return R(this,Gt).continueRetry(),R(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ie(this,Ma,!0),n.signal)})},s=()=>{const w=d7(this.options,r),E=(()=>{const O={client:R(this,qa),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ie(this,Ma,!1),this.options.persister?this.options.persister(w,E,this):w(E)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,qa),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),ie(this,Nl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&_e(this,zn,Ni).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,Gt,f7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof xP&&w.revert&&this.setState({...R(this,Nl),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{_e(this,zn,Ni).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{_e(this,zn,Ni).call(this,{type:"pause"})},onContinue:()=>{_e(this,zn,Ni).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,Gt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,wn).config).onSuccess)==null||p.call(f,w,this),(y=(m=R(this,wn).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof xP){if(w.silent)return R(this,Gt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw _e(this,zn,Ni).call(this,{type:"error",error:w}),(g=(b=R(this,wn).config).onError)==null||g.call(b,w,this),(x=(v=R(this,wn).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},Da=new WeakMap,Nl=new WeakMap,wn=new WeakMap,qa=new WeakMap,Gt=new WeakMap,dd=new WeakMap,Ma=new WeakMap,zn=new WeakSet,Ni=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...m7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...nR(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Nl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),St.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,wn).notify({query:this,type:"updated",action:e})})},$8);function m7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:h7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function nR(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function iR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Lr,Me,hd,Er,Aa,Tl,Ri,Ps,fd,Il,Rl,Fa,La,Cs,jl,Be,uc,_P,SP,EP,OP,PP,CP,NP,v7,k8,fN=(k8=class extends _o{constructor(e,r){super();ue(this,Be);ue(this,Lr);ue(this,Me);ue(this,hd);ue(this,Er);ue(this,Aa);ue(this,Tl);ue(this,Ri);ue(this,Ps);ue(this,fd);ue(this,Il);ue(this,Rl);ue(this,Fa);ue(this,La);ue(this,Cs);ue(this,jl,new Set);this.options=r,ie(this,Lr,e),ie(this,Ps,null),ie(this,Ri,wP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Me).addObserver(this),sR(R(this,Me),this.options)?_e(this,Be,uc).call(this):this.updateResult(),_e(this,Be,OP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TP(R(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TP(R(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,Be,PP).call(this),_e(this,Be,CP).call(this),R(this,Me).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Me);if(this.options=R(this,Lr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof _n(this.options.enabled,R(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,Be,NP).call(this),R(this,Me).setOptions(this.options),r._defaulted&&!Qc(this.options,r)&&R(this,Lr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Me),observer:this});const i=this.hasListeners();i&&aR(R(this,Me),n,this.options,r)&&_e(this,Be,uc).call(this),this.updateResult(),i&&(R(this,Me)!==n||_n(this.options.enabled,R(this,Me))!==_n(r.enabled,R(this,Me))||Hs(this.options.staleTime,R(this,Me))!==Hs(r.staleTime,R(this,Me)))&&_e(this,Be,_P).call(this);const s=_e(this,Be,SP).call(this);i&&(R(this,Me)!==n||_n(this.options.enabled,R(this,Me))!==_n(r.enabled,R(this,Me))||s!==R(this,Cs))&&_e(this,Be,EP).call(this,s)}getOptimisticResult(e){const r=R(this,Lr).getQueryCache().build(R(this,Lr),e),n=this.createResult(r,e);return yZ(this,n)&&(ie(this,Er,n),ie(this,Tl,this.options),ie(this,Aa,R(this,Me).state)),n}getCurrentResult(){return R(this,Er)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Ri).status==="pending"&&R(this,Ri).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,jl).add(e)}getCurrentQuery(){return R(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Lr).defaultQueryOptions(e),n=R(this,Lr).getQueryCache().build(R(this,Lr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return _e(this,Be,uc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Er)))}createResult(e,r){var P;const n=R(this,Me),i=this.options,s=R(this,Er),a=R(this,Aa),o=R(this,Tl),u=e!==n?e.state:R(this,hd),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),I=!C&&sR(e,r),N=C&&aR(e,n,r,i);(I||N)&&(h={...h,...m7(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,Rl))==null?void 0:P.state.data,R(this,Rl)):r.placeholderData,C!==void 0&&(b="success",p=bP(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,fd))p=R(this,Il);else try{ie(this,fd,r.select),p=r.select(p),p=bP(s==null?void 0:s.data,p,r),ie(this,Il,p),ie(this,Ps,null)}catch(C){ie(this,Ps,C)}R(this,Ps)&&(m=R(this,Ps),p=R(this,Il),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:pN(e,r),refetch:this.refetch,promise:R(this,Ri),isEnabled:_n(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=T=>{S.status==="error"?T.reject(S.error):S.data!==void 0&&T.resolve(S.data)},I=()=>{const T=ie(this,Ri,S.promise=wP());C(T)},N=R(this,Ri);switch(N.status){case"pending":e.queryHash===n.queryHash&&C(N);break;case"fulfilled":(S.status==="error"||S.data!==N.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==N.reason)&&I();break}}return S}updateResult(){const e=R(this,Er),r=this.createResult(R(this,Me),this.options);if(ie(this,Aa,R(this,Me).state),ie(this,Tl,this.options),R(this,Aa).data!==void 0&&ie(this,Rl,R(this,Me)),Qc(r,e))return;ie(this,Er,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,jl).size)return!0;const a=new Set(s??R(this,jl));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Er)).some(o=>{const l=o;return R(this,Er)[l]!==e[l]&&a.has(l)})};_e(this,Be,v7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,Be,OP).call(this)}},Lr=new WeakMap,Me=new WeakMap,hd=new WeakMap,Er=new WeakMap,Aa=new WeakMap,Tl=new WeakMap,Ri=new WeakMap,Ps=new WeakMap,fd=new WeakMap,Il=new WeakMap,Rl=new WeakMap,Fa=new WeakMap,La=new WeakMap,Cs=new WeakMap,jl=new WeakMap,Be=new WeakSet,uc=function(e){_e(this,Be,NP).call(this);let r=R(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(yr)),r},_P=function(){_e(this,Be,PP).call(this);const e=Hs(this.options.staleTime,R(this,Me));if(no||R(this,Er).isStale||!gP(e))return;const n=c7(R(this,Er).dataUpdatedAt,e)+1;ie(this,Fa,Pa.setTimeout(()=>{R(this,Er).isStale||this.updateResult()},n))},SP=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Me)):this.options.refetchInterval)??!1},EP=function(e){_e(this,Be,CP).call(this),ie(this,Cs,e),!(no||_n(this.options.enabled,R(this,Me))===!1||!gP(R(this,Cs))||R(this,Cs)===0)&&ie(this,La,Pa.setInterval(()=>{(this.options.refetchIntervalInBackground||hN.isFocused())&&_e(this,Be,uc).call(this)},R(this,Cs)))},OP=function(){_e(this,Be,_P).call(this),_e(this,Be,EP).call(this,_e(this,Be,SP).call(this))},PP=function(){R(this,Fa)&&(Pa.clearTimeout(R(this,Fa)),ie(this,Fa,void 0))},CP=function(){R(this,La)&&(Pa.clearInterval(R(this,La)),ie(this,La,void 0))},NP=function(){const e=R(this,Lr).getQueryCache().build(R(this,Lr),this.options);if(e===R(this,Me))return;const r=R(this,Me);ie(this,Me,e),ie(this,hd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},v7=function(e){St.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Er))}),R(this,Lr).getQueryCache().notify({query:R(this,Me),type:"observerResultsUpdated"})})},k8);function gZ(t,e){return _n(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function sR(t,e){return gZ(t,e)||t.state.data!==void 0&&TP(t,e,e.refetchOnMount)}function TP(t,e,r){if(_n(e.enabled,t)!==!1&&Hs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&pN(t,e)}return!1}function aR(t,e,r,n){return(t!==e||_n(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&pN(t,r)}function pN(t,e){return _n(e.enabled,t)!==!1&&t.isStaleByTime(Hs(e.staleTime,t))}function yZ(t,e){return!Qc(t.getCurrentResult(),e)}function oR(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{cZ(x,()=>e.signal,()=>y=!0)},g=d7(e.options,e.fetchOptions),v=async(x,w,_)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(I),I})(),S=await g(O),{maxPages:P}=e.options,C=_?uZ:lZ;return{pages:C(x.pages,S,P),pageParams:C(x.pageParams,w,P)}};if(i&&s.length){const x=i==="backward",w=x?bZ:lR,_={pages:s,pageParams:a},E=w(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:lR(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function lR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function bZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var pd,ci,Or,Ba,di,ps,D8,wZ=(D8=class extends p7{constructor(e){super();ue(this,di);ue(this,pd);ue(this,ci);ue(this,Or);ue(this,Ba);ie(this,pd,e.client),this.mutationId=e.mutationId,ie(this,Or,e.mutationCache),ie(this,ci,[]),this.state=e.state||g7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,ci).includes(e)||(R(this,ci).push(e),this.clearGcTimeout(),R(this,Or).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,ci,R(this,ci).filter(r=>r!==e)),this.scheduleGc(),R(this,Or).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,ci).length||(this.state.status==="pending"?this.scheduleGc():R(this,Or).remove(this))}continue(){var e;return((e=R(this,Ba))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S,P;const r=()=>{_e(this,di,ps).call(this,{type:"continue"})},n={client:R(this,pd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Ba,f7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{_e(this,di,ps).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{_e(this,di,ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Or).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Ba).canStart();try{if(i)r();else{_e(this,di,ps).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Or).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));I!==this.state.context&&_e(this,di,ps).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const C=await R(this,Ba).start();return await((h=(d=R(this,Or).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Or).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,e,this.state.context,n)),_e(this,di,ps).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(v=R(this,Or).config).onError)==null?void 0:x.call(v,C,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,C,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((O=(E=R(this,Or).config).onSettled)==null?void 0:O.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,e,this.state.context,n))}catch(I){Promise.reject(I)}throw _e(this,di,ps).call(this,{type:"error",error:C}),C}finally{R(this,Or).runNext(this)}}},pd=new WeakMap,ci=new WeakMap,Or=new WeakMap,Ba=new WeakMap,di=new WeakSet,ps=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),St.batch(()=>{R(this,ci).forEach(n=>{n.onMutationUpdate(e)}),R(this,Or).notify({mutation:this,type:"updated",action:e})})},D8);function g7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ji,Un,md,q8,xZ=(q8=class extends _o{constructor(e={}){super();ue(this,ji);ue(this,Un);ue(this,md);this.config=e,ie(this,ji,new Set),ie(this,Un,new Map),ie(this,md,0)}build(e,r,n){const i=new wZ({client:e,mutationCache:this,mutationId:++hh(this,md)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,ji).add(e);const r=Ih(e);if(typeof r=="string"){const n=R(this,Un).get(r);n?n.push(e):R(this,Un).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,ji).delete(e)){const r=Ih(e);if(typeof r=="string"){const n=R(this,Un).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Un).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ih(e);if(typeof r=="string"){const n=R(this,Un).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Ih(e);if(typeof r=="string"){const i=(n=R(this,Un).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{R(this,ji).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,ji).clear(),R(this,Un).clear()})}getAll(){return Array.from(R(this,ji))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>eR(r,n))}findAll(e={}){return this.getAll().filter(r=>eR(e,r))}notify(e){St.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return St.batch(()=>Promise.all(e.map(r=>r.continue().catch(yr))))}},ji=new WeakMap,Un=new WeakMap,md=new WeakMap,q8);function Ih(t){var e;return(e=t.options.scope)==null?void 0:e.id}var $i,Ns,Br,ki,Yi,ef,IP,M8,_Z=(M8=class extends _o{constructor(e,r){super();ue(this,Yi);ue(this,$i);ue(this,Ns);ue(this,Br);ue(this,ki);ie(this,$i,e),this.setOptions(r),this.bindMethods(),_e(this,Yi,ef).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,$i).defaultMutationOptions(e),Qc(this.options,r)||R(this,$i).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Br),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&io(r.mutationKey)!==io(this.options.mutationKey)?this.reset():((n=R(this,Br))==null?void 0:n.state.status)==="pending"&&R(this,Br).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Br))==null||e.removeObserver(this)}onMutationUpdate(e){_e(this,Yi,ef).call(this),_e(this,Yi,IP).call(this,e)}getCurrentResult(){return R(this,Ns)}reset(){var e;(e=R(this,Br))==null||e.removeObserver(this),ie(this,Br,void 0),_e(this,Yi,ef).call(this),_e(this,Yi,IP).call(this)}mutate(e,r){var n;return ie(this,ki,r),(n=R(this,Br))==null||n.removeObserver(this),ie(this,Br,R(this,$i).getMutationCache().build(R(this,$i),this.options)),R(this,Br).addObserver(this),R(this,Br).execute(e)}},$i=new WeakMap,Ns=new WeakMap,Br=new WeakMap,ki=new WeakMap,Yi=new WeakSet,ef=function(){var r;const e=((r=R(this,Br))==null?void 0:r.state)??g7();ie(this,Ns,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},IP=function(e){St.batch(()=>{var r,n,i,s,a,o,l,u;if(R(this,ki)&&this.hasListeners()){const d=R(this,Ns).variables,h=R(this,Ns).context,f={client:R(this,$i),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,ki)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,ki)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,ki)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,ki)).onSettled)==null||u.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Ns))})})},M8);function uR(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function SZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var $l,on,kl,Dl,xn,Ts,vd,gd,yd,fr,RP,jP,$P,kP,DP,A8,EZ=(A8=class extends _o{constructor(e,r,n){super();ue(this,fr);ue(this,$l);ue(this,on);ue(this,kl);ue(this,Dl);ue(this,xn);ue(this,Ts);ue(this,vd);ue(this,gd);ue(this,yd,[]);ie(this,$l,e),ie(this,Dl,n),ie(this,kl,[]),ie(this,xn,[]),ie(this,on,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,xn).forEach(e=>{e.subscribe(r=>{_e(this,fr,kP).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,xn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,kl,e),ie(this,Dl,r),St.batch(()=>{const n=R(this,xn),i=_e(this,fr,$P).call(this,R(this,kl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=o||l,d=u?!0:a.some((h,f)=>{const p=R(this,on)[f];return!p||!Qc(h,p)});!u&&!d||(u&&(ie(this,yd,i),ie(this,xn,s)),ie(this,on,a),this.hasListeners()&&(u&&(uR(n,s).forEach(h=>{h.destroy()}),uR(s,n).forEach(h=>{h.subscribe(f=>{_e(this,fr,kP).call(this,h,f)})})),_e(this,fr,DP).call(this)))})}getCurrentResult(){return R(this,on)}getQueries(){return R(this,xn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,xn)}getOptimisticResult(e,r){const n=_e(this,fr,$P).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>_e(this,fr,jP).call(this,s??i,r),()=>_e(this,fr,RP).call(this,i,n)]}},$l=new WeakMap,on=new WeakMap,kl=new WeakMap,Dl=new WeakMap,xn=new WeakMap,Ts=new WeakMap,vd=new WeakMap,gd=new WeakMap,yd=new WeakMap,fr=new WeakSet,RP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},jP=function(e,r){return r?((!R(this,Ts)||R(this,on)!==R(this,gd)||r!==R(this,vd))&&(ie(this,vd,r),ie(this,gd,R(this,on)),ie(this,Ts,uN(R(this,Ts),r(e)))),R(this,Ts)):e},$P=function(e){const r=new Map;R(this,xn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,$l).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new fN(R(this,$l),s);n.push({defaultedQueryOptions:s,observer:o})}),n},kP=function(e,r){const n=R(this,xn).indexOf(e);n!==-1&&(ie(this,on,SZ(R(this,on),n,r)),_e(this,fr,DP).call(this))},DP=function(){var e;if(this.hasListeners()){const r=R(this,Ts),n=_e(this,fr,RP).call(this,R(this,on),R(this,yd)),i=_e(this,fr,jP).call(this,n,(e=R(this,Dl))==null?void 0:e.combine);r!==i&&St.batch(()=>{this.listeners.forEach(s=>{s(R(this,on))})})}},A8),hi,F8,OZ=(F8=class extends _o{constructor(e={}){super();ue(this,hi);this.config=e,ie(this,hi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??lN(i,r);let a=this.get(s);return a||(a=new vZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,hi).has(e.queryHash)||(R(this,hi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,hi).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,hi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,hi).get(e)}getAll(){return[...R(this,hi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>ZI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>ZI(e,n)):r}notify(e){St.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},hi=new WeakMap,F8),bt,Is,Rs,ql,Ml,js,Al,Fl,L8,PZ=(L8=class{constructor(t={}){ue(this,bt);ue(this,Is);ue(this,Rs);ue(this,ql);ue(this,Ml);ue(this,js);ue(this,Al);ue(this,Fl);ie(this,bt,t.queryCache||new OZ),ie(this,Is,t.mutationCache||new xZ),ie(this,Rs,t.defaultOptions||{}),ie(this,ql,new Map),ie(this,Ml,new Map),ie(this,js,0)}mount(){hh(this,js)._++,R(this,js)===1&&(ie(this,Al,hN.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,bt).onFocus())})),ie(this,Fl,qf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,bt).onOnline())})))}unmount(){var t,e;hh(this,js)._--,R(this,js)===0&&((t=R(this,Al))==null||t.call(this),ie(this,Al,void 0),(e=R(this,Fl))==null||e.call(this),ie(this,Fl,void 0))}isFetching(t){return R(this,bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Is).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,bt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,bt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Hs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,bt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,bt).get(n.queryHash),s=i==null?void 0:i.state.data,a=sZ(e,s);if(a!==void 0)return R(this,bt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return St.batch(()=>R(this,bt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,bt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,bt);St.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,bt);return St.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=St.batch(()=>R(this,bt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(yr).catch(yr)}invalidateQueries(t,e={}){return St.batch(()=>(R(this,bt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=St.batch(()=>R(this,bt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(yr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(yr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,bt).build(this,e);return r.isStaleByTime(Hs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(yr).catch(yr)}fetchInfiniteQuery(t){return t.behavior=oR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(yr).catch(yr)}ensureInfiniteQueryData(t){return t.behavior=oR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qf.isOnline()?R(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,bt)}getMutationCache(){return R(this,Is)}getDefaultOptions(){return R(this,Rs)}setDefaultOptions(t){ie(this,Rs,t)}setQueryDefaults(t,e){R(this,ql).set(io(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,ql).values()],r={};return e.forEach(n=>{Yc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Ml).set(io(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Ml).values()],r={};return e.forEach(n=>{Yc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Rs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=lN(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===cN&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Rs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,bt).clear(),R(this,Is).clear()}},bt=new WeakMap,Is=new WeakMap,Rs=new WeakMap,ql=new WeakMap,Ml=new WeakMap,js=new WeakMap,Al=new WeakMap,Fl=new WeakMap,L8),y7=$.createContext(void 0),Jt=t=>{const e=$.useContext(y7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},CZ=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(y7.Provider,{value:t,children:e})),b7=$.createContext(!1),w7=()=>$.useContext(b7);b7.Provider;function NZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var TZ=$.createContext(NZ()),x7=()=>$.useContext(TZ),_7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?dN(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},S7=t=>{$.useEffect(()=>{t.clearReset()},[t])},E7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||dN(r,[t.error,n])),O7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},P7=(t,e)=>t.isLoading&&t.isFetching&&!e,qP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Mf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Af({queries:t,...e},r){const n=Jt(),i=w7(),s=x7(),a=$.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{O7(y);const b=n.getQueryCache().get(y.queryHash);_7(y,s,b)}),S7(s);const[o]=$.useState(()=>new EZ(n,a,e)),[l,u,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;$.useSyncExternalStore($.useCallback(y=>h?o.subscribe(St.batchCalls(y)):yr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),$.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>qP(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new fN(n,g);if(qP(g,y))return Mf(g,v,s);P7(y,i)&&Mf(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&E7({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return u(d())}function IZ(t,e,r){var f,p,m,y;const n=w7(),i=x7(),s=Jt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",O7(a),_7(a,i,o),S7(i);const l=!s.getQueryCache().get(a.queryHash),[u]=$.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const g=h?u.subscribe(St.batchCalls(b)):yr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),$.useEffect(()=>{u.setOptions(a)},[a,u]),qP(a,d))throw Mf(a,u,i);if(E7({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!no&&P7(d,n)){const b=l?Mf(a,u,i):o==null?void 0:o.promise;b==null||b.catch(yr).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function at(t,e){return IZ(t,fN)}function Et(t,e){const r=Jt(),[n]=$.useState(()=>new _Z(r,t));$.useEffect(()=>{n.setOptions(t)},[n,t]);const i=$.useSyncExternalStore($.useCallback(a=>n.subscribe(St.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=$.useCallback((a,o)=>{n.mutate(a,o).catch(yr)},[n]);if(i.error&&dN(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function mN(){const t=window.prmConfig||{};return $.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function C7(t,e){return function(){return t.apply(e,arguments)}}const{toString:RZ}=Object.prototype,{getPrototypeOf:vN}=Object,{iterator:Sp,toStringTag:N7}=Symbol,Ep=(t=>e=>{const r=RZ.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ri=t=>(t=t.toLowerCase(),e=>Ep(e)===t),Op=t=>e=>typeof e===t,{isArray:hu}=Array,Gl=Op("undefined");function Ed(t){return t!==null&&!Gl(t)&&t.constructor!==null&&!Gl(t.constructor)&&Qr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const T7=ri("ArrayBuffer");function jZ(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&T7(t.buffer),e}const $Z=Op("string"),Qr=Op("function"),I7=Op("number"),Od=t=>t!==null&&typeof t=="object",kZ=t=>t===!0||t===!1,tf=t=>{if(Ep(t)!=="object")return!1;const e=vN(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(N7 in t)&&!(Sp in t)},DZ=t=>{if(!Od(t)||Ed(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},qZ=ri("Date"),MZ=ri("File"),AZ=ri("Blob"),FZ=ri("FileList"),LZ=t=>Od(t)&&Qr(t.pipe),BZ=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Qr(t.append)&&((e=Ep(t))==="formdata"||e==="object"&&Qr(t.toString)&&t.toString()==="[object FormData]"))},zZ=ri("URLSearchParams"),[UZ,WZ,VZ,HZ]=["ReadableStream","Request","Response","Headers"].map(ri),KZ=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),hu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Ed(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function R7(t,e){if(Ed(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,j7=t=>!Gl(t)&&t!==Ca;function MP(){const{caseless:t,skipUndefined:e}=j7(this)&&this||{},r={},n=(i,s)=>{const a=t&&R7(r,s)||s;tf(r[a])&&tf(i)?r[a]=MP(r[a],i):tf(i)?r[a]=MP({},i):hu(i)?r[a]=i.slice():(!e||!Gl(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Pd(arguments[i],n);return r}const GZ=(t,e,r,{allOwnKeys:n}={})=>(Pd(e,(i,s)=>{r&&Qr(i)?t[s]=C7(i,r):t[s]=i},{allOwnKeys:n}),t),YZ=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),QZ=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},XZ=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&vN(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},JZ=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},ZZ=t=>{if(!t)return null;if(hu(t))return t;let e=t.length;if(!I7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},eee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&vN(Uint8Array)),tee=(t,e)=>{const n=(t&&t[Sp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},ree=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},nee=ri("HTMLFormElement"),iee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),cR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),see=ri("RegExp"),$7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Pd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},aee=t=>{$7(t,(e,r)=>{if(Qr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Qr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},oee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return hu(t)?n(t):n(String(t).split(e)),r},lee=()=>{},uee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function cee(t){return!!(t&&Qr(t.append)&&t[N7]==="FormData"&&t[Sp])}const dee=t=>{const e=new Array(10),r=(n,i)=>{if(Od(n)){if(e.indexOf(n)>=0)return;if(Ed(n))return n;if(!("toJSON"in n)){e[i]=n;const s=hu(n)?[]:{};return Pd(n,(a,o)=>{const l=r(a,i+1);!Gl(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},hee=ri("AsyncFunction"),fee=t=>t&&(Od(t)||Qr(t))&&Qr(t.then)&&Qr(t.catch),k7=((t,e)=>t?setImmediate:e?((r,n)=>(Ca.addEventListener("message",({source:i,data:s})=>{i===Ca&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ca.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Qr(Ca.postMessage)),pee=typeof queueMicrotask<"u"?queueMicrotask.bind(Ca):typeof process<"u"&&process.nextTick||k7,mee=t=>t!=null&&Qr(t[Sp]),M={isArray:hu,isArrayBuffer:T7,isBuffer:Ed,isFormData:BZ,isArrayBufferView:jZ,isString:$Z,isNumber:I7,isBoolean:kZ,isObject:Od,isPlainObject:tf,isEmptyObject:DZ,isReadableStream:UZ,isRequest:WZ,isResponse:VZ,isHeaders:HZ,isUndefined:Gl,isDate:qZ,isFile:MZ,isBlob:AZ,isRegExp:see,isFunction:Qr,isStream:LZ,isURLSearchParams:zZ,isTypedArray:eee,isFileList:FZ,forEach:Pd,merge:MP,extend:GZ,trim:KZ,stripBOM:YZ,inherits:QZ,toFlatObject:XZ,kindOf:Ep,kindOfTest:ri,endsWith:JZ,toArray:ZZ,forEachEntry:tee,matchAll:ree,isHTMLForm:nee,hasOwnProperty:cR,hasOwnProp:cR,reduceDescriptors:$7,freezeMethods:aee,toObjectSet:oee,toCamelCase:iee,noop:lee,toFiniteNumber:uee,findKey:R7,global:Ca,isContextDefined:j7,isSpecCompliantForm:cee,toJSONObject:dee,isAsyncFn:hee,isThenable:fee,setImmediate:k7,asap:pee,isIterable:mee};function Ne(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const D7=Ne.prototype,q7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{q7[t]={value:t}});Object.defineProperties(Ne,q7);Object.defineProperty(D7,"isAxiosError",{value:!0});Ne.from=(t,e,r,n,i,s)=>{const a=Object.create(D7);M.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ne.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const vee=null;function AP(t){return M.isPlainObject(t)||M.isArray(t)}function M7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function dR(t,e,r){return t?t.concat(e).map(function(i,s){return i=M7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function gee(t){return M.isArray(t)&&!t.some(AP)}const yee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Pp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Ne("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&gee(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(g=M.toArray(m)))return y=M7(y),g.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(a===!0?dR([y],w,s):a===null?y:y+"[]",u(x))}),!1}return AP(m)?!0:(e.append(dR(b,y,s),u(m)),!1)}const h=[],f=Object.assign(yee,{defaultVisitor:d,convertValue:u,isVisitable:AP});function p(m,y){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),M.forEach(m,function(g,v){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function hR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function gN(t,e){this._pairs=[],t&&Pp(t,this,e)}const A7=gN.prototype;A7.append=function(e,r){this._pairs.push([e,r])};A7.toString=function(e){const r=e?function(n){return e.call(this,n,hR)}:hR;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function bee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function F7(t,e,r){if(!e)return t;const n=r&&r.encode||bee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new gN(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class fR{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const L7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},wee=typeof URLSearchParams<"u"?URLSearchParams:gN,xee=typeof FormData<"u"?FormData:null,_ee=typeof Blob<"u"?Blob:null,See={isBrowser:!0,classes:{URLSearchParams:wee,FormData:xee,Blob:_ee},protocols:["http","https","file","blob","url","data"]},yN=typeof window<"u"&&typeof document<"u",FP=typeof navigator=="object"&&navigator||void 0,Eee=yN&&(!FP||["ReactNative","NativeScript","NS"].indexOf(FP.product)<0),Oee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Pee=yN&&window.location.href||"http://localhost",Cee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:yN,hasStandardBrowserEnv:Eee,hasStandardBrowserWebWorkerEnv:Oee,navigator:FP,origin:Pee},Symbol.toStringTag,{value:"Module"})),xr={...Cee,...See};function Nee(t,e){return Pp(t,new xr.classes.URLSearchParams,{visitor:function(r,n,i,s){return xr.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Tee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Iee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function B7(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&M.isArray(i)?i.length:a,l?(M.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!M.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&M.isArray(i[a])&&(i[a]=Iee(i[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(Tee(n),i,r,0)}),r}return null}function Ree(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Cd={transitional:L7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(B7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Nee(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Pp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),Ree(e)):e}],transformResponse:[function(e){const r=this.transitional||Cd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ne.from(o,Ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:xr.classes.FormData,Blob:xr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Cd.headers[t]={}});const jee=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),$ee=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&jee[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},pR=Symbol("internals");function Xu(t){return t&&String(t).trim().toLowerCase()}function rf(t){return t===!1||t==null?t:M.isArray(t)?t.map(rf):String(t)}function kee(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const Dee=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Bm(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function qee(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Mee(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Xr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const d=Xu(l);if(!d)throw new Error("header name must be a non-empty string");const h=M.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=rf(o))}const a=(o,l)=>M.forEach(o,(u,d)=>s(u,d,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(M.isString(e)&&(e=e.trim())&&!Dee(e))a($ee(e),r);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,u;for(const d of e){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?M.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Xu(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return kee(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Xu(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Bm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Xu(a),a){const o=M.findKey(n,a);o&&(!r||Bm(n,n[o],o,r))&&(delete n[o],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Bm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const a=M.findKey(n,s);if(a){r[a]=rf(i),delete r[s];return}const o=e?qee(s):String(s).trim();o!==s&&delete r[s],r[o]=rf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[pR]=this[pR]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Xu(a);n[o]||(Mee(i,a),n[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Xr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Xr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Xr);function zm(t,e){const r=this||Cd,n=e||r,i=Xr.from(n.headers);let s=n.data;return M.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function z7(t){return!!(t&&t.__CANCEL__)}function fu(t,e,r){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(fu,Ne,{__CANCEL__:!0});function U7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ne("Request failed with status code "+r.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Aee(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Fee(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];a||(a=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function Lee(t,e){let r=0,n=1e3/e,i,s;const a=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Ff=(t,e,r=3)=>{let n=0;const i=Fee(50,250);return Lee(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},mR=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},vR=t=>(...e)=>M.asap(()=>t(...e)),Bee=xr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,xr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(xr.origin),xr.navigator&&/(msie|trident)/i.test(xr.navigator.userAgent)):()=>!0,zee=xr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&o.push(`path=${n}`),M.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),M.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Uee(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Wee(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function W7(t,e,r){let n=!Uee(e);return t&&(n||r==!1)?Wee(t,e):e}const gR=t=>t instanceof Xr?{...t}:t;function so(t,e){e=e||{};const r={};function n(u,d,h,f){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:f},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function i(u,d,h,f){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function s(u,d){if(!M.isUndefined(d))return n(void 0,d)}function a(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>i(gR(u),gR(d),h,!0)};return M.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);M.isUndefined(f)&&h!==o||(r[d]=f)}),r}const V7=t=>{const e=so({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Xr.from(a),e.url=F7(W7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),M.isFormData(r)){if(xr.hasStandardBrowserEnv||xr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(xr.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&Bee(e.url))){const l=i&&s&&zee.read(s);l&&a.set(i,l)}return e},Vee=typeof XMLHttpRequest<"u",Hee=Vee&&function(t){return new Promise(function(r,n){const i=V7(t);let s=i.data;const a=Xr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=Xr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};U7(function(O){r(O),y()},function(O){n(O),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Ne("Request aborted",Ne.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Ne(_,Ne.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||L7;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Ne(w,_.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([f,m]=Ff(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=Ff(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=x=>{b&&(n(!x||x.type?new fu(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=Aee(i.url);if(v&&xr.protocols.indexOf(v)===-1){n(new Ne("Unsupported protocol "+v+":",Ne.ERR_BAD_REQUEST,t));return}b.send(s||null)})},Kee=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ne?d:new fu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(o),l}},Gee=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Yee=async function*(t,e){for await(const r of Qee(t))yield*Gee(r,e)},Qee=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},yR=(t,e,r,n)=>{const i=Yee(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},bR=64*1024,{isFunction:Rh}=M,Xee=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:wR,TextEncoder:xR}=M.global,_R=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Jee=t=>{t=M.merge.call({skipUndefined:!0},Xee,t);const{fetch:e,Request:r,Response:n}=t,i=e?Rh(e):typeof fetch=="function",s=Rh(r),a=Rh(n);if(!i)return!1;const o=i&&Rh(wR),l=i&&(typeof xR=="function"?(m=>y=>m.encode(y))(new xR):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&o&&_R(()=>{let m=!1;const y=new r(xr.origin,{body:new wR,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&_R(()=>M.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Ne(`Response type '${m}' is not supported`,Ne.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(xr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:P="same-origin",fetchOptions:C}=V7(m),I=e||fetch;O=O?(O+"").toLowerCase():"text";let N=Kee([v,x&&x.toAbortSignal()],w),T=null;const q=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let z;try{if(E&&u&&b!=="get"&&b!=="head"&&(z=await p(S,g))!==0){let W=new r(y,{method:"POST",body:g,duplex:"half"}),ee;if(M.isFormData(g)&&(ee=W.headers.get("content-type"))&&S.setContentType(ee),W.body){const[pe,ge]=mR(z,Ff(vR(E)));g=yR(W.body,bR,pe,ge)}}M.isString(P)||(P=P?"include":"omit");const te=s&&"credentials"in r.prototype,K={...C,signal:N,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:te?P:void 0};T=s&&new r(y,K);let L=await(s?I(T,C):I(y,K));const H=d&&(O==="stream"||O==="response");if(d&&(_||H&&q)){const W={};["status","statusText","headers"].forEach(qe=>{W[qe]=L[qe]});const ee=M.toFiniteNumber(L.headers.get("content-length")),[pe,ge]=_&&mR(ee,Ff(vR(_),!0))||[];L=new n(yR(L.body,bR,pe,()=>{ge&&ge(),q&&q()}),W)}O=O||"text";let U=await h[M.findKey(h,O)||"text"](L,m);return!H&&q&&q(),await new Promise((W,ee)=>{U7(W,ee,{data:U,headers:Xr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:T})})}catch(te){throw q&&q(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,m,T),{cause:te.cause||te}):Ne.from(te,te&&te.code,m,T)}}},Zee=new Map,H7=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,d=Zee;for(;o--;)l=s[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:Jee(e)),d=u;return u};H7();const bN={http:vee,xhr:Hee,fetch:{get:H7}};M.forEach(bN,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const SR=t=>`- ${t}`,ete=t=>M.isFunction(t)||t===null||t===!1;function tte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!ete(n)&&(i=bN[(o=String(n)).toLowerCase()],i===void 0))throw new Ne(`Unknown adapter '${o}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(SR).join(`
`):" "+SR(a[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const K7={getAdapter:tte,adapters:bN};function Um(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fu(null,t)}function ER(t){return Um(t),t.headers=Xr.from(t.headers),t.data=zm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),K7.getAdapter(t.adapter||Cd.adapter,t)(t).then(function(n){return Um(t),n.data=zm.call(t,t.transformResponse,n),n.headers=Xr.from(n.headers),n},function(n){return z7(n)||(Um(t),n&&n.response&&(n.response.data=zm.call(t,t.transformResponse,n.response),n.response.headers=Xr.from(n.response.headers))),Promise.reject(n)})}const G7="1.13.2",Cp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Cp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const OR={};Cp.transitional=function(e,r,n){function i(s,a){return"[Axios v"+G7+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ne(i(a," has been removed"+(r?" in "+r:"")),Ne.ERR_DEPRECATED);return r&&!OR[a]&&(OR[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};Cp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function rte(t,e,r){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ne("option "+s+" must be "+l,Ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ne("Unknown option "+s,Ne.ERR_BAD_OPTION)}}const nf={assertOptions:rte,validators:Cp},oi=nf.validators;let Wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new fR,response:new fR}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=so(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&nf.assertOptions(n,{silentJSONParsing:oi.transitional(oi.boolean),forcedJSONParsing:oi.transitional(oi.boolean),clarifyTimeoutError:oi.transitional(oi.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:nf.assertOptions(i,{encode:oi.function,serialize:oi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),nf.assertOptions(r,{baseUrl:oi.spelling("baseURL"),withXsrfToken:oi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Xr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[ER.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{d=ER.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=so(this.defaults,e);const r=W7(e.baseURL,e.url,e.allowAbsoluteUrls);return F7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Wa.prototype[e]=function(r,n){return this.request(so(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(so(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Wa.prototype[e]=r(),Wa.prototype[e+"Form"]=r(!0)});let nte=class Y7{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new fu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new Y7(function(i){e=i}),cancel:e}}};function ite(t){return function(r){return t.apply(null,r)}}function ste(t){return M.isObject(t)&&t.isAxiosError===!0}const LP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(LP).forEach(([t,e])=>{LP[e]=t});function Q7(t){const e=new Wa(t),r=C7(Wa.prototype.request,e);return M.extend(r,Wa.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return Q7(so(t,i))},r}const Nt=Q7(Cd);Nt.Axios=Wa;Nt.CanceledError=fu;Nt.CancelToken=nte;Nt.isCancel=z7;Nt.VERSION=G7;Nt.toFormData=Pp;Nt.AxiosError=Ne;Nt.Cancel=Nt.CanceledError;Nt.all=function(e){return Promise.all(e)};Nt.spread=ite;Nt.isAxiosError=ste;Nt.mergeConfig=so;Nt.AxiosHeaders=Xr;Nt.formToJSON=t=>B7(M.isHTMLForm(t)?new FormData(t):t);Nt.getAdapter=K7.getAdapter;Nt.HttpStatusCode=LP;Nt.default=Nt;const{Axios:t0e,AxiosError:r0e,CanceledError:n0e,isCancel:i0e,CancelToken:s0e,VERSION:a0e,all:o0e,Cancel:l0e,isAxiosError:u0e,spread:c0e,toFormData:d0e,AxiosHeaders:h0e,HttpStatusCode:f0e,formToJSON:p0e,getAdapter:m0e,mergeConfig:v0e}=Nt,BP=window.prmConfig||{},ye=Nt.create({baseURL:BP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":BP.nonce||""}});ye.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ye.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=BP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Le={getPeople:t=>ye.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ye.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ye.post("/wp/v2/people",t),updatePerson:(t,e)=>ye.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ye.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ye.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ye.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ye.post("/wp/v2/companies",t),updateCompany:(t,e)=>ye.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ye.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ye.get("/wp/v2/important-dates",{params:t}),getDate:t=>ye.get(`/wp/v2/important-dates/${t}`),createDate:t=>ye.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ye.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ye.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ye.get("/wp/v2/person_label"),getCompanyLabels:()=>ye.get("/wp/v2/company_label"),getRelationshipTypes:()=>ye.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ye.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ye.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ye.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ye.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ye.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ye.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Xt={getDashboard:()=>ye.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ye.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ye.get("/prm/v1/user/me"),getUsers:()=>ye.get("/prm/v1/users"),approveUser:t=>ye.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ye.post(`/prm/v1/users/${t}/deny`),search:t=>ye.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ye.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>ye.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ye.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ye.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ye.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ye.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ye.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ye.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ye.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ye.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ye.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>ye.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ye.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ye.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ye.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var ate={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ote=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ve=(t,e)=>{const r=$.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>$.createElement("svg",{ref:d,...ate,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${ote(t)}`,o].join(" "),...u},[...e.map(([h,f])=>$.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ve("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lte=ve("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ute=ve("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $n=ve("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PR=ve("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cte=ve("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dte=ve("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const es=ve("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const X7=ve("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oo=ve("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sf=ve("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CR=ve("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ve("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NR=ve("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hte=ve("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fte=ve("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zP=ve("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Np=ve("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wN=ve("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TR=ve("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pte=ve("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UP=ve("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mte=ve("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vte=ve("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const J7=ve("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gte=ve("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IR=ve("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lo=ve("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yte=ve("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bte=ve("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wte=ve("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xte=ve("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _te=ve("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ste=ve("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jh=ve("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ete=ve("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wr=ve("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ote=ve("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Z7=ve("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ve("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eK=ve("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tK=ve("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rK=ve("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pte=ve("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nK=ve("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iK=ve("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ve("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sK=ve("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ve("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ql=ve("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cte=ve("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aK=ve("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uo=ve("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RR=ve("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ve("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nte=ve("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tte=ve("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Xl="Caelis";function vn(t){$.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Xl;document.title=`${t} - ${r}`}},[t])}function Ite(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function oK(t=null){const e=is();$.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=Ite(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":a?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=Xl}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Xl;document.title=`${r} - ${n}`},[e.pathname,t])}function Rte(){return at({queryKey:["dashboard"],queryFn:async()=>(await Xt.getDashboard()).data})}function jte(t=30){return at({queryKey:["reminders",t],queryFn:async()=>(await Xt.getReminders(t)).data})}function $te(t){const e=typeof t=="string"?t:"",r=e.length>=2;return at({queryKey:["search",e],queryFn:async()=>r?(await Xt.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const kte=[{name:"Dashboard",href:"/",icon:vte},{name:"People",href:"/people",icon:uo},{name:"Companies",href:"/companies",icon:es},{name:"Dates",href:"/dates",icon:oo},{name:"Settings",href:"/settings",icon:tK}];function jR({mobile:t=!1,onClose:e}){const{logoutUrl:r}=mN();return c.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[c.jsxs(he,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[c.jsx(nK,{className:"w-5 h-5"}),Xl]}),t&&c.jsx("button",{onClick:e,className:"p-2 -mr-2",children:c.jsx(ra,{className:"w-5 h-5"})})]}),c.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:kte.map(n=>c.jsxs(XJ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(n.icon,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(yte,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function Dte(){var a;const[t,e]=$.useState(!1),r=$.useRef(null),{data:n,isLoading:i}=at({queryKey:["current-user"],queryFn:async()=>(await Xt.getCurrentUser()).data});if($.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return c.jsx("div",{className:"flex items-center ml-auto",children:c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return c.jsxs("div",{className:"relative ml-auto",ref:r,children:[c.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?c.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):c.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),c.jsx(hte,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(aK,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&c.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(tK,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function qte({onMenuClick:t}){const[e,r]=$.useState(""),[n,i]=$.useState(!1),s=is(),a=en(),o=$.useRef(null),l=$.useRef(null),u=e.trim(),{data:d,isLoading:h}=$te(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};$.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"?a(`/companies/${v}`):g==="date"&&a(`/dates/${v}/edit`)},m=d||{people:[],companies:[],dates:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return c.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:c.jsx(xte,{className:"w-5 h-5"})}),c.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),c.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:c.jsxs("div",{className:"relative w-full",ref:o,children:[c.jsx(eK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&c.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?c.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&c.jsxs("div",{className:"px-3 py-2",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>c.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(aK,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(g=>c.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(dte,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.dates&&m.dates.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(g=>c.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(oo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):c.jsx("div",{className:"p-4 text-center text-gray-500",children:c.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),c.jsx(Dte,{})]})}function Mte({children:t}){const[e,r]=$.useState(!1);return oK(),c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:c.jsx(jR,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),c.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:c.jsx(jR,{mobile:!0,onClose:()=>r(!1)})})]}),c.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[c.jsx(qte,{onMenuClick:()=>r(!0)}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function hr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function co(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const lK=6048e5,Ate=864e5;let Fte={};function Tp(){return Fte}function Jc(t,e){var o,l,u,d;const r=Tp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=hr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Lf(t){return Jc(t,{weekStartsOn:1})}function uK(t){const e=hr(t),r=e.getFullYear(),n=co(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Lf(n),s=co(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Lf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function $R(t){const e=hr(t);return e.setHours(0,0,0,0),e}function kR(t){const e=hr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Lte(t,e){const r=$R(t),n=$R(e),i=+r-kR(r),s=+n-kR(n);return Math.round((i-s)/Ate)}function Bte(t){const e=uK(t),r=co(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Lf(r)}function DR(t,e){const r=hr(t),n=hr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function zte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Ute(t){if(!zte(t)&&typeof t!="number")return!1;const e=hr(t);return!isNaN(Number(e))}function Wte(t,e){const r=hr(t),n=hr(e);return r.getFullYear()-n.getFullYear()}function Wm(t,e){const r=hr(t),n=hr(e),i=DR(r,n),s=Math.abs(Wte(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=DR(r,n)===-i,o=i*(s-+a);return o===0?0:o}function Vte(t){const e=hr(t),r=co(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Hte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Kte=(t,e,r)=>{let n;const i=Hte[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Vm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Gte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Yte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Qte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Xte={date:Vm({formats:Gte,defaultWidth:"full"}),time:Vm({formats:Yte,defaultWidth:"full"}),dateTime:Vm({formats:Qte,defaultWidth:"full"})},Jte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Zte=(t,e,r,n)=>Jte[t];function Ju(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const ere={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},tre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},rre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},nre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},ire={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},sre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},are=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},ore={ordinalNumber:are,era:Ju({values:ere,defaultWidth:"wide"}),quarter:Ju({values:tre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ju({values:rre,defaultWidth:"wide"}),day:Ju({values:nre,defaultWidth:"wide"}),dayPeriod:Ju({values:ire,defaultWidth:"wide",formattingValues:sre,defaultFormattingWidth:"wide"})};function Zu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?ure(o,h=>h.test(a)):lre(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function lre(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ure(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function cre(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const dre=/^(\d+)(th|st|nd|rd)?/i,hre=/\d+/i,fre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},pre={any:[/^b/i,/^(a|c)/i]},mre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},vre={any:[/1/i,/2/i,/3/i,/4/i]},gre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},yre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},bre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},wre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},xre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},_re={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Sre={ordinalNumber:cre({matchPattern:dre,parsePattern:hre,valueCallback:t=>parseInt(t,10)}),era:Zu({matchPatterns:fre,defaultMatchWidth:"wide",parsePatterns:pre,defaultParseWidth:"any"}),quarter:Zu({matchPatterns:mre,defaultMatchWidth:"wide",parsePatterns:vre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zu({matchPatterns:gre,defaultMatchWidth:"wide",parsePatterns:yre,defaultParseWidth:"any"}),day:Zu({matchPatterns:bre,defaultMatchWidth:"wide",parsePatterns:wre,defaultParseWidth:"any"}),dayPeriod:Zu({matchPatterns:xre,defaultMatchWidth:"any",parsePatterns:_re,defaultParseWidth:"any"})},Ere={code:"en-US",formatDistance:Kte,formatLong:Xte,formatRelative:Zte,localize:ore,match:Sre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Ore(t){const e=hr(t);return Lte(e,Vte(e))+1}function Pre(t){const e=hr(t),r=+Lf(e)-+Bte(e);return Math.round(r/lK)+1}function cK(t,e){var d,h,f,p;const r=hr(t),n=r.getFullYear(),i=Tp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=co(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Jc(a,e),l=co(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Jc(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Cre(t,e){var o,l,u,d;const r=Tp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=cK(t,e),s=co(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Jc(s,e)}function Nre(t,e){const r=hr(t),n=+Jc(r,e)-+Cre(r,e);return Math.round(n/lK)+1}function ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const fs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ze(r+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ze(i,e.length)}},Uo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},qR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return fs.y(t,e)},Y:function(t,e,r,n){const i=cK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ze(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const r=uK(t);return ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return fs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Nre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,r){const n=Pre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):fs.d(t,e)},D:function(t,e,r){const n=Ore(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Uo.noon:n===0?i=Uo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Uo.evening:n>=12?i=Uo.afternoon:n>=4?i=Uo.morning:i=Uo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):fs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):fs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):fs.s(t,e)},S:function(t,e){return fs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return AR(n);case"XXXX":case"XX":return _a(n);case"XXXXX":case"XXX":default:return _a(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return AR(n);case"xxxx":case"xx":return _a(n);case"xxxxx":case"xxx":default:return _a(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+MR(n,":");case"OOOO":default:return"GMT"+_a(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+MR(n,":");case"zzzz":default:return"GMT"+_a(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return ze(n,e.length)}};function MR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ze(s,2)}function AR(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):_a(t,e)}function _a(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ze(Math.trunc(n/60),2),s=ze(n%60,2);return r+i+e+s}const FR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},dK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Tre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return FR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",FR(n,e)).replace("{{time}}",dK(i,e))},Ire={p:dK,P:Tre},Rre=/^D+$/,jre=/^Y+$/,$re=["D","DD","YY","YYYY"];function kre(t){return Rre.test(t)}function Dre(t){return jre.test(t)}function qre(t,e,r){const n=Mre(t,e,r);if(console.warn(n),$re.includes(t))throw new RangeError(n)}function Mre(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Are=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Fre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Lre=/^'([^]*?)'?$/,Bre=/''/g,zre=/[a-zA-Z]/;function fi(t,e,r){var d,h,f,p;const n=Tp(),i=n.locale??Ere,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=hr(t);if(!Ute(o))throw new RangeError("Invalid time value");let l=e.match(Fre).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=Ire[y];return b(m,i.formatLong)}return m}).join("").match(Are).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:Ure(m)};if(qR[y])return{isToken:!0,value:m};if(y.match(zre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(Dre(y)||kre(y))&&qre(y,e,String(t));const b=qR[y[0]];return b(o,y,i.localize,u)}).join("")}function Ure(t){const e=t.match(Lre);return e?e[1].replace(Bre,"'"):t}function Wo({title:t,value:e,icon:r,href:n}){return c.jsx(he,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),c.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function LR({person:t}){var e,r;return c.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&c.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&c.jsx(Xc,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function Wre({reminder:t}){var o,l,u,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(u=t.related_people)==null?void 0:u[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),c.jsx("p",{className:"text-xs text-gray-500",children:fi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&c.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?c.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):c.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?c.jsx(he,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):c.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function Vre(){return c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:c.jsx(nK,{className:"w-12 h-12 text-primary-600"})})}),c.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Xl,"!"]}),c.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(he,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[c.jsx(wr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),c.jsxs(he,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(wr,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Hre(){var u,d,h;const{data:t,isLoading:e,error:r}=Rte();if(e)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return c.jsx("div",{className:"card p-8 text-center",children:c.jsx("div",{className:"text-red-600 mb-2",children:f?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),c.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(Wo,{title:"Total People",value:0,icon:uo,href:"/people"}),c.jsx(Wo,{title:"Companies",value:0,icon:es,href:"/companies"}),c.jsx(Wo,{title:"Important Dates",value:0,icon:oo,href:"/dates"})]}),c.jsx(Vre,{})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(Wo,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:uo,href:"/people"}),c.jsx(Wo,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:es,href:"/companies"}),c.jsx(Wo,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:oo,href:"/dates"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),c.jsxs(he,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(PR,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>c.jsx(Wre,{reminder:f},f.id)):c.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Recent People"}),c.jsxs(he,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(PR,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>c.jsx(LR,{person:f},f.id)):c.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",c.jsx(he,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:c.jsx("h2",{className:"font-semibold",children:"Favorites"})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>c.jsx(LR,{person:f},f.id))})]})]})}function Qn(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Li(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return Qn(e)}function Va(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return Qn(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return Qn(e)}function wl(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const Wt={all:["people"],lists:()=>[...Wt.all,"list"],list:t=>[...Wt.lists(),t],details:()=>[...Wt.all,"detail"],detail:t=>[...Wt.details(),t],timeline:t=>[...Wt.detail(t),"timeline"],dates:t=>[...Wt.detail(t),"dates"]};function hK(t){var i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(u=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=Qn(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function Ip(t={}){return at({queryKey:Wt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Le.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(hK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function pu(t){return at({queryKey:Wt.detail(t),queryFn:async()=>{const e=await Le.getPerson(t,{_embed:!0});return hK(e.data)},enabled:!!t})}function Kre(t){return at({queryKey:Wt.timeline(t),queryFn:async()=>(await Xt.getPersonTimeline(t)).data,enabled:!!t})}function Gre(t){return at({queryKey:Wt.dates(t),queryFn:async()=>(await Xt.getPersonDates(t)).data,enabled:!!t})}function Yre(){const t=Jt();return Et({mutationFn:e=>Le.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Wt.lists()})}})}function Nd(){const t=Jt();return Et({mutationFn:({id:e,data:r})=>Le.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Wt.detail(r)}),t.invalidateQueries({queryKey:Wt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Wt.detail(o)})})}})}function Qre(){const t=Jt();return Et({mutationFn:e=>Le.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:Wt.lists()}),t.invalidateQueries({queryKey:Wt.details()})}})}function Xre(){const t=Jt();return Et({mutationFn:({noteId:e,personId:r})=>Xt.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Wt.timeline(r)})}})}function Jre(){const t=Jt();return Et({mutationFn:({dateId:e,personId:r})=>Le.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Wt.dates(r)}),t.invalidateQueries({queryKey:Wt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function BR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function Zre({person:t,companyName:e,isDeceased:r}){var n,i;return c.jsx(he,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&c.jsx(Xc,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&c.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>c.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function ene(){const[t,e]=$.useState(!1),[r,n]=$.useState(!1),[i,s]=$.useState([]),[a,o]=$.useState("first_name"),[l,u]=$.useState("asc"),d=$.useRef(null),h=$.useRef(null),{data:f,isLoading:p,error:m}=Ip(),{data:y}=at({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),b=(y==null?void 0:y.map(N=>N.name))||[];$.useEffect(()=>{const N=T=>{h.current&&!h.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&e(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const g=$.useMemo(()=>{if(!f)return[];let N=[...f];return r&&(N=N.filter(T=>T.is_favorite)),i.length>0&&(N=N.filter(T=>{const q=T.labels||[];return i.some(z=>q.includes(z))})),N.sort((T,q)=>{var L,H,U,W,ee,pe,ge,qe;let z,te;if(a==="first_name"?(z=(((L=T.acf)==null?void 0:L.first_name)||T.first_name||"").toLowerCase(),te=(((H=q.acf)==null?void 0:H.first_name)||q.first_name||"").toLowerCase()):(z=(((U=T.acf)==null?void 0:U.last_name)||T.last_name||"").toLowerCase(),te=(((W=q.acf)==null?void 0:W.last_name)||q.last_name||"").toLowerCase()),z===te){const we=a==="first_name"?(((ee=T.acf)==null?void 0:ee.last_name)||T.last_name||"").toLowerCase():(((pe=T.acf)==null?void 0:pe.first_name)||T.first_name||"").toLowerCase(),Se=a==="first_name"?(((ge=q.acf)==null?void 0:ge.last_name)||q.last_name||"").toLowerCase():(((qe=q.acf)==null?void 0:qe.first_name)||q.first_name||"").toLowerCase(),Pe=we.localeCompare(Se);return l==="asc"?Pe:-Pe}const K=z.localeCompare(te);return l==="asc"?K:-K})},[f,r,i,a,l]),v=r||i.length>0,x=N=>{s(T=>T.includes(N)?T.filter(q=>q!==N):[...T,N])},w=()=>{n(!1),s([])},_=$.useMemo(()=>{if(!g)return[];const N=g.map(T=>BR(T)).filter(Boolean);return[...new Set(N)]},[g]),{data:E}=at({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Le.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=$.useMemo(()=>{const N={};return E&&E.forEach(T=>{N[T.id]=Li(T)}),N},[E]),S=$.useMemo(()=>{const N={};return g.forEach(T=>{const q=BR(T);q&&O[q]&&(N[T.id]=O[q])}),N},[g,O]),P=$.useMemo(()=>g.map(N=>N.id).filter(Boolean),[g]),C=Af({queries:P.map(N=>({queryKey:["person-dates",N],queryFn:async()=>(await Xt.getPersonDates(N)).data,enabled:!!N}))}),I=$.useMemo(()=>{const N={};return C.forEach((T,q)=>{if(T.data&&P[q]){const z=P[q],te=T.data.some(K=>{const L=Array.isArray(K.date_type)?K.date_type[0]:K.date_type;return(L==null?void 0:L.toLowerCase())==="died"});N[z]=te}}),N},[C,P]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[c.jsxs("select",{value:a,onChange:N=>o(N.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[c.jsx("option",{value:"first_name",children:"First Name"}),c.jsx("option",{value:"last_name",children:"Last Name"})]}),c.jsx("div",{className:"h-4 w-px bg-gray-300"}),c.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?c.jsx(cte,{className:"w-4 h-4 text-gray-600"}):c.jsx(ute,{className:"w-4 h-4 text-gray-600"})})]}),c.jsxs("div",{className:"relative",ref:d,children:[c.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[c.jsx(TR,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&c.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&c.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r,onChange:N=>n(N.target.checked),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&c.jsx(NR,{className:"w-3 h-3 text-white"})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xc,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(N=>c.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[c.jsx("input",{type:"checkbox",checked:i.includes(N),onChange:()=>x(N),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(N)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(N)&&c.jsx(NR,{className:"w-3 h-3 text-white"})}),c.jsx("span",{className:"text-sm text-gray-700",children:N})]},N))})]}),v&&c.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[c.jsx(Xc,{className:"w-3 h-3"}),"Favorites",c.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:c.jsx(ra,{className:"w-3 h-3"})})]}),i.map(N=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[N,c.jsx("button",{onClick:()=>x(N),className:"hover:text-gray-600",children:c.jsx(ra,{className:"w-3 h-3"})})]},N))]}),c.jsxs(he,{to:"/people/new",className:"btn-primary",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]})}),p&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(wr,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),c.jsxs(he,{to:"/people/new",className:"btn-primary",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(N=>c.jsx(Zre,{person:N,companyName:S[N.id],isDeceased:I[N.id]||!1},N.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(TR,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),c.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}function Pi(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function tne(t){return t?t.replace(/[^\d+]/g,""):""}function zR(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function rne(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function nne(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Pi(l)}`),s.push(`N:${Pi(o)};${Pi(a)};;;`),i.nickname&&s.push(`NICKNAME:${Pi(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Pi(h.contact_value),p=h.contact_label?Pi(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",b=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=tne(h.contact_value);g&&s.push(`${b}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const x=h.contact_type==="linkedin"?"PROFILE":"WORK",w=p?`URL;TYPE=${x},${p.toUpperCase()}`:`URL;TYPE=${x}`;s.push(`${w}:${Pi(v)}`);break}});const{title:u,org:d}=rne(i.work_history,r);if(d&&s.push(`ORG:${Pi(d)}`),u&&s.push(`TITLE:${Pi(u)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=zR(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=zR(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function ine(t,e={}){const{filename:r,...n}=e,i=nne(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}function $h(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function sne(){var Ar,Ye,Bt,sn,an,j,D,F,ae,re,Y,de,Ie;const{id:t}=ss(),e=en(),r=Jt(),{data:n,isLoading:i,error:s}=pu(t),{data:a}=Kre(t),{data:o}=Gre(t),l=Qre(),u=Xre(),d=Jre(),h=Nd(),[f,p]=$.useState(!1),[m,y]=$.useState(""),[b,g]=$.useState(!1),v=$.useRef(null),{data:x}=at({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((sn=(Bt=(Ye=(Ar=n==null?void 0:n._embedded)==null?void 0:Ar["wp:term"])==null?void 0:Ye.flat())==null?void 0:Bt.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:sn.map(k=>k.id))||[],O=w.filter(k=>!_.includes(k.name));vn((n==null?void 0:n.name)||((an=n==null?void 0:n.title)==null?void 0:an.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(ne==null?void 0:ne.toLowerCase())==="birthday"}),P=S!=null&&S.date_value?new Date(S.date_value):null,C=o==null?void 0:o.find(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(ne==null?void 0:ne.toLowerCase())==="died"}),I=C!=null&&C.date_value?new Date(C.date_value):null,N=!!I,T=P?Wm(N?I:new Date,P):null,q=o?[...o].sort((k,ne)=>{const V=k.date_value?new Date(k.date_value):new Date(0),B=ne.date_value?new Date(ne.date_value):new Date(0);return V-B}):[],z=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},te=k=>{if(!k)return"";let ne=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const V=ne.startsWith("+");return ne=ne.replace(/\D/g,""),V?`+${ne}`:ne},K=async k=>{var B;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const ne=[...((B=n.acf)==null?void 0:B.contact_info)||[]];ne.splice(k,1);const V=wl(n.acf,{contact_info:ne});await h.mutateAsync({id:t,data:{acf:V}})},L=async k=>{var B;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const ne=[...((B=n.acf)==null?void 0:B.relationships)||[]];ne.splice(k,1);const V=wl(n.acf,{relationships:ne});await h.mutateAsync({id:t,data:{acf:V}})},H=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},U=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},W=async k=>{var B;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const ne=[...((B=n.acf)==null?void 0:B.work_history)||[]];ne.splice(k,1);const V=wl(n.acf,{work_history:ne});await h.mutateAsync({id:t,data:{acf:V}})},ee=async k=>{var B,G,X;const ne=(X=(G=(B=n==null?void 0:n._embedded)==null?void 0:B["wp:term"])==null?void 0:G.flat())==null?void 0:X.find(oe=>(oe==null?void 0:oe.taxonomy)==="person_label"&&(oe==null?void 0:oe.name)===k);if(!ne)return;const V=E.filter(oe=>oe!==ne.id);await h.mutateAsync({id:t,data:{person_label:V}})},pe=async()=>{if(!m)return;const k=w.find(V=>V.id.toString()===m);if(!k)return;const ne=[...E,k.id];await h.mutateAsync({id:t,data:{person_label:ne}}),y(""),p(!1)},ge=async k=>{var V;const ne=(V=k.target.files)==null?void 0:V[0];if(ne){if(!ne.type.startsWith("image/")){alert("Please select an image file");return}if(ne.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Xt.uploadPersonPhoto(t,ne),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(B){console.error("Failed to upload photo:",B),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},qe=()=>{if(n)try{ine(n,{companyMap:nt,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},we=((D=(j=n==null?void 0:n.acf)==null?void 0:j.work_history)==null?void 0:D.map(k=>k.company).filter(Boolean))||[],Se=Af({queries:we.map(k=>({queryKey:["company",k],queryFn:async()=>(await Le.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),Pe=((ae=(F=n==null?void 0:n.acf)==null?void 0:F.relationships)==null?void 0:ae.map(k=>k.related_person).filter(Boolean))||[],dt=Af({queries:Pe.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Xt.getPersonDates(k)).data,enabled:!!k}))}),Ge=$.useMemo(()=>{const k={};return dt.forEach((ne,V)=>{if(ne.data&&Pe[V]){const B=Pe[V],G=ne.data.find(X=>{const oe=Array.isArray(X.date_type)?X.date_type[0]:X.date_type;return(oe==null?void 0:oe.toLowerCase())==="birthday"});if(G!=null&&G.date_value){const X=new Date(G.date_value);k[B]=Wm(new Date,X)}else k[B]=-1}}),k},[dt,Pe]),Lt=$.useMemo(()=>{const k={};return dt.forEach((ne,V)=>{if(ne.data&&Pe[V]){const B=Pe[V],G=ne.data.some(X=>{const oe=Array.isArray(X.date_type)?X.date_type[0]:X.date_type;return(oe==null?void 0:oe.toLowerCase())==="died"});k[B]=G}}),k},[dt,Pe]),sr=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((ne,V)=>{const B=Ge[ne.related_person]??-1,G=Ge[V.related_person]??-1;return B===-1&&G===-1?0:B===-1?1:G===-1?-1:G-B}):[]},[(re=n==null?void 0:n.acf)==null?void 0:re.relationships,Ge]),nt={};Se.forEach((k,ne)=>{var V,B,G,X,oe,$e,Fr,ar,si;if(k.data){const ga=we[ne];nt[ga]={name:Li(k.data),logo:((G=(B=(V=k.data._embedded)==null?void 0:V["wp:featuredmedia"])==null?void 0:B[0])==null?void 0:G.source_url)||((si=(ar=(Fr=($e=(oe=(X=k.data._embedded)==null?void 0:X["wp:featuredmedia"])==null?void 0:oe[0])==null?void 0:$e.media_details)==null?void 0:Fr.sizes)==null?void 0:ar.thumbnail)==null?void 0:si.source_url)||null}}});const Sr=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((ne,V)=>({...ne,originalIndex:V})).sort((ne,V)=>{if(ne.is_current&&!V.is_current)return-1;if(!ne.is_current&&V.is_current)return 1;const B=ne.start_date?new Date(ne.start_date):new Date(0);return(V.start_date?new Date(V.start_date):new Date(0))-B}):[]},[(Y=n==null?void 0:n.acf)==null?void 0:Y.work_history]);if($.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});if(n.status==="trash")return null;const ot=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:qe,className:"btn-secondary",children:[c.jsx(zP,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),c.jsxs(he,{to:`/people/${t}/edit`,className:"btn-secondary",children:[c.jsx(iK,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),c.jsxs("button",{onClick:z,className:"btn-danger",children:[c.jsx(gs,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),c.jsxs("div",{className:"card p-6 relative",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(he,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[c.jsxs("div",{className:"relative group",children:[n.thumbnail?c.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):c.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((de=n.first_name)==null?void 0:de[0])||"?"})}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:b?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(sf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),c.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ge,className:"hidden",disabled:b})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,N&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&c.jsx(Xc,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),ot.nickname&&c.jsxs("p",{className:"text-gray-500",children:['"',ot.nickname,'"']}),N&&I&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[$h(ot.gender)&&c.jsx("span",{className:"mr-1",children:$h(ot.gender)}),"Died ",fi(I,"MMMM d, yyyy")," at age ",T]}),!N&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[$h(ot.gender)&&c.jsx("span",{className:"mr-1",children:$h(ot.gender)}),T," years old"]}),c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,ne)=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,c.jsx("button",{onClick:()=>ee(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:c.jsx(ra,{className:"w-3 h-3"})})]},ne)),f?c.jsxs("div",{className:"inline-flex items-center gap-2",children:[c.jsxs("select",{value:m,onChange:k=>y(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[c.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>c.jsx("option",{value:k.id,children:k.name},k.id))]}),c.jsx("button",{onClick:pe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),c.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[c.jsx(wr,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!N&&c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Contact Information"}),c.jsxs(he,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((Ie=ot.contact_info)==null?void 0:Ie.length)>0?c.jsx("div",{className:"space-y-2",children:ot.contact_info.map((k,ne)=>{const V=k.contact_type==="email"?bte:k.contact_type==="phone"||k.contact_type==="mobile"?Ete:k.contact_type==="address"?wte:k.contact_type==="linkedin"?IR:(k.contact_type==="website",UP),B=k.contact_type==="email",G=k.contact_type==="phone"||k.contact_type==="mobile",X=k.contact_type==="mobile",oe=k.contact_type==="website"||k.contact_type==="linkedin"||k.contact_type==="twitter"||k.contact_type==="instagram"||k.contact_type==="facebook",$e=k.contact_type==="address",Fr=k.contact_type==="linkedin";let ar=null,si=null;if(B)ar=`mailto:${k.contact_value}`;else if(G)ar=`tel:${te(k.contact_value)}`;else if(oe){let ga=k.contact_value;ga.match(/^https?:\/\//i)||(ga=`https://${ga}`),ar=ga,si="_blank"}else $e&&(ar=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.contact_value)}`,si="_blank");return c.jsx("div",{className:"group",children:c.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[!Fr&&c.jsx(V,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[Fr?c.jsx(IR,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):c.jsxs("span",{className:"text-sm text-gray-500",children:[k.contact_label||k.contact_type,": "]}),ar?c.jsx("a",{href:ar,target:si||void 0,rel:si==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:k.contact_value}):c.jsx("span",{children:k.contact_value})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[X&&c.jsx("a",{href:`whatsapp:${te(k.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:c.jsx(_te,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),c.jsx(he,{to:`/people/${t}/contact/${ne}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:c.jsx(jh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>K(ne),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},ne)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Important Dates"}),c.jsxs(he,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),q.length>0?c.jsx("div",{className:"space-y-3",children:q.map(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,V=(ne==null?void 0:ne.toLowerCase())||"",B=V.includes("died"),G=V.includes("wedding")||V.includes("marriage")?mte:V.includes("birthday")?pte:oo;return c.jsxs("div",{className:"flex items-start group",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:B?c.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):c.jsx(G,{className:"w-4 h-4 text-gray-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:k.title}),c.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&fi(new Date(k.date_value),"MMMM d, yyyy")}),ne&&c.jsx("p",{className:"text-xs text-gray-400 capitalize",children:ne})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx(he,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:c.jsx(jh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>H(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Work History"}),c.jsxs(he,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Work History"})]})]}),(Sr==null?void 0:Sr.length)>0?c.jsx("div",{className:"space-y-4",children:Sr.map((k,ne)=>{const V=k.company?nt[k.company]:null,B=k.originalIndex;return c.jsxs("div",{className:"flex items-start group",children:[V!=null&&V.logo?c.jsx("img",{src:V.logo,alt:V.name,className:"w-20 h-20 rounded-lg object-contain bg-gray-50 mr-3 flex-shrink-0"}):c.jsx("div",{className:"w-20 h-20 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:c.jsx(es,{className:"w-10 h-10 text-gray-500"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&V&&c.jsx(he,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:V.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&fi(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?fi(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(he,{to:`/people/${t}/work-history/${B}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:c.jsx(jh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>W(B),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},B)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Timeline"}),c.jsxs("button",{className:"btn-secondary text-sm",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),(a==null?void 0:a.length)>0?c.jsx("div",{className:"space-y-4",children:a.map(k=>c.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{className:"capitalize",children:k.type}),c.jsx("span",{children:""}),c.jsx("span",{children:fi(new Date(k.created),"MMM d, yyyy")})]}),c.jsx("button",{onClick:()=>U(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),c.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),c.jsxs("div",{className:"space-y-6",children:[(ot.how_we_met||ot.met_date)&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),ot.met_date&&c.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[c.jsx(oo,{className:"w-4 h-4 inline mr-1"}),fi(new Date(ot.met_date),"MMMM d, yyyy")]}),ot.how_we_met&&c.jsx("p",{className:"text-sm",children:ot.how_we_met})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"font-semibold",children:"Relationships"}),c.jsxs(he,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship"})]})]}),(sr==null?void 0:sr.length)>0?c.jsx("div",{className:"space-y-2",children:sr.map((k,ne)=>{var B,G,X;const V=((G=(B=n==null?void 0:n.acf)==null?void 0:B.relationships)==null?void 0:G.findIndex(oe=>oe.related_person===k.related_person&&oe.relationship_type===k.relationship_type))??ne;return c.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[c.jsxs(he,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?c.jsx("img",{src:k.person_thumbnail,alt:Qn(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium text-gray-500",children:((X=Qn(k.person_name))==null?void 0:X[0])||"?"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-medium",children:[Qn(k.person_name)||`Person #${k.related_person}`,Lt[k.related_person]&&c.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),c.jsx("p",{className:"text-xs text-gray-500",children:Qn(k.relationship_name||k.relationship_label)})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(he,{to:`/people/${t}/relationship/${V}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:c.jsx(jh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>L(V),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},ne)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Td=t=>t.type==="checkbox",Na=t=>t instanceof Date,zr=t=>t==null;const fK=t=>typeof t=="object";var jt=t=>!zr(t)&&!Array.isArray(t)&&fK(t)&&!Na(t),pK=t=>jt(t)&&t.target?Td(t.target)?t.target.checked:t.target.value:t,ane=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,mK=(t,e)=>t.has(ane(e)),one=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},xN=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(xN&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(jt(t)&&one(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=zt(t[i]));return n}var Rp=t=>/^\w*$/.test(t),_t=t=>t===void 0,_N=t=>Array.isArray(t)?t.filter(Boolean):[],SN=t=>_N(t.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(t,e,r)=>{if(!e||!jt(t))return r;const n=(Rp(e)?[e]:SN(e)).reduce((i,s)=>zr(i)?i:i[s],t);return _t(n)||n===t?_t(t[e])?r:t[e]:n},un=t=>typeof t=="boolean",Rr=t=>typeof t=="function",Je=(t,e,r)=>{let n=-1;const i=Rp(e)?[e]:SN(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=jt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Bf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Gn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Ci={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},vK=Ce.createContext(null);vK.displayName="HookFormContext";const EN=()=>Ce.useContext(vK);var gK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Gn.all&&(e._proxyFormState[a]=!n||Gn.all),r&&(r[a]=!0),t[a]}});return i};const ON=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;function lne(t){const e=EN(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ce.useState(r._formState),l=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ON(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),Ce.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ce.useMemo(()=>gK(a,r,l.current,!1),[a,r])}var cn=t=>typeof t=="string",WP=(t,e,r,n,i)=>cn(t)?(n&&e.watch.add(t),le(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),le(r,s))):(n&&(e.watchAll=!0),r),VP=t=>zr(t)||!fK(t);function Yn(t,e,r=new WeakSet){if(VP(t)||VP(e))return Object.is(t,e);if(Na(t)&&Na(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Na(a)&&Na(o)||jt(a)&&jt(o)||Array.isArray(a)&&Array.isArray(o)?!Yn(a,o,r):!Object.is(a,o))return!1}}return!0}function une(t){const e=EN(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Ce.useRef(i),u=Ce.useRef(o),d=Ce.useRef(void 0),h=Ce.useRef(r),f=Ce.useRef(n);u.current=o;const[p,m]=Ce.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),y=Ce.useCallback(w=>{const _=WP(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Ce.useCallback(w=>{if(!s){const _=WP(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Yn(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);ON(()=>((h.current!==r||!Yn(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{b(w.values)}})),[r,a,n,b]),Ce.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Ce.useMemo(()=>{if(s)return null;const w=!g&&!Yn(v,n);return g||w?y():null},[s,g,n,v,y]);return x!==null?x:p}function cne(t){const e=EN(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=mK(i._names.array,r),u=Ce.useMemo(()=>le(i._formValues,r,le(i._defaultValues,r,a)),[i,r,a]),d=une({control:i,name:r,defaultValue:u,exact:o}),h=lne({control:i,name:r,exact:o}),f=Ce.useRef(t),p=Ce.useRef(void 0),m=Ce.useRef(i.register(r,{...t.rules,value:d,...un(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!le(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!le(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!le(h.validatingFields,r)},error:{enumerable:!0,get:()=>le(h.errors,r)}}),[h,r]),b=Ce.useCallback(w=>m.current.onChange({target:{value:pK(w),name:r},type:Bf.CHANGE}),[r]),g=Ce.useCallback(()=>m.current.onBlur({target:{value:le(i._formValues,r),name:r},type:Bf.BLUR}),[r,i._formValues]),v=Ce.useCallback(w=>{const _=le(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>Rr(w.focus)&&w.focus(),select:()=>Rr(w.select)&&w.select(),setCustomValidity:E=>Rr(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>Rr(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Ce.useMemo(()=>({name:r,value:d,...un(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,d]);return Ce.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...un(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const P=le(i._fields,O);P&&P._f&&(P._f.mount=S)};if(E(r,!0),w){const O=zt(le(i._options.defaultValues,r,f.current.defaultValue));Je(i._defaultValues,r,O),_t(le(i._formValues,r))&&Je(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Ce.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ce.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const zf=t=>t.render(cne(t));var dne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},xc=t=>Array.isArray(t)?t:[t],UR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function yK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&jt(i)&&s){const a=yK(i,s);jt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Pr=t=>jt(t)&&!Object.keys(t).length,PN=t=>t.type==="file",Uf=t=>{if(!xN)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},bK=t=>t.type==="select-multiple",CN=t=>t.type==="radio",hne=t=>CN(t)||Td(t),Hm=t=>Uf(t)&&t.isConnected;function fne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=_t(t)?n++:t[e[n++]];return t}function pne(t){for(const e in t)if(t.hasOwnProperty(e)&&!_t(t[e]))return!1;return!0}function It(t,e){const r=Array.isArray(e)?e:Rp(e)?[e]:SN(e),n=r.length===1?t:fne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(jt(n)&&Pr(n)||Array.isArray(n)&&pne(n))&&It(t,r.slice(0,-1)),t}var mne=t=>{for(const e in t)if(Rr(t[e]))return!0;return!1};function wK(t){return Array.isArray(t)||jt(t)&&!mne(t)}function HP(t,e={}){for(const r in t){const n=t[r];wK(n)?(e[r]=Array.isArray(n)?[]:{},HP(n,e[r])):_t(n)||(e[r]=!0)}return e}function Yo(t,e,r){r||(r=HP(e));for(const n in t){const i=t[n];if(wK(i))_t(e)||VP(r[n])?r[n]=HP(i,Array.isArray(i)?[]:{}):Yo(i,zr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Yn(i,s)}}return r}const WR={value:!1,isValid:!1},VR={value:!0,isValid:!0};var xK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_t(t[0].attributes.value)?_t(t[0].value)||t[0].value===""?VR:{value:t[0].value,isValid:!0}:VR:WR}return WR},_K=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>_t(t)?t:e?t===""?NaN:t&&+t:r&&cn(t)?new Date(t):n?n(t):t;const HR={isValid:!1,value:null};var SK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,HR):HR;function KR(t){const e=t.ref;return PN(e)?e.files:CN(e)?SK(t.refs).value:bK(e)?[...e.selectedOptions].map(({value:r})=>r):Td(e)?xK(t.refs).value:_K(_t(e.value)?t.ref.value:e.value,t)}var vne=(t,e,r,n)=>{const i={};for(const s of t){const a=le(e,s);a&&Je(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Wf=t=>t instanceof RegExp,ec=t=>_t(t)?t:Wf(t)?t.source:jt(t)?Wf(t.value)?t.value.source:t.value:t,GR=t=>({isOnSubmit:!t||t===Gn.onSubmit,isOnBlur:t===Gn.onBlur,isOnChange:t===Gn.onChange,isOnAll:t===Gn.all,isOnTouch:t===Gn.onTouched});const YR="AsyncFunction";var gne=t=>!!t&&!!t.validate&&!!(Rr(t.validate)&&t.validate.constructor.name===YR||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===YR)),yne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),QR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const _c=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=le(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(_c(o,e))break}else if(jt(o)&&_c(o,e))break}}};function XR(t,e,r){const n=le(t,r);if(n||Rp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=le(e,s),o=le(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var bne=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Pr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Gn.all))},wne=(t,e,r)=>!t||!e||t===e||xc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),xne=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,_ne=(t,e)=>!_N(le(t,e)).length&&It(t,e),Sne=(t,e,r)=>{const n=xc(le(t,r));return Je(n,"root",e[r]),Je(t,r,n),t};function JR(t,e,r="validate"){if(cn(t)||Array.isArray(t)&&t.every(cn)||un(t)&&!t)return{type:r,message:cn(t)?t:"",ref:e}}var Vo=t=>jt(t)&&!Wf(t)?t:{value:t,message:""},ZR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=le(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,w=N=>{i&&x.reportValidity&&(x.setCustomValidity(un(N)?"":N||""),x.reportValidity())},_={},E=CN(a),O=Td(a),S=E||O,P=(b||PN(a))&&_t(a.value)&&_t(v)||Uf(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=dne.bind(null,y,n,_),I=(N,T,q,z=Ci.maxLength,te=Ci.minLength)=>{const K=N?T:q;_[y]={type:N?z:te,message:K,ref:a,...C(N?z:te,K)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(P||zr(v))||un(v)&&!v||O&&!xK(o).isValid||E&&!SK(o).isValid)){const{value:N,message:T}=cn(l)?{value:!!l,message:l}:Vo(l);if(N&&(_[y]={type:Ci.required,message:T,ref:x,...C(Ci.required,T)},!n))return w(T),_}if(!P&&(!zr(h)||!zr(f))){let N,T;const q=Vo(f),z=Vo(h);if(!zr(v)&&!isNaN(v)){const te=a.valueAsNumber||v&&+v;zr(q.value)||(N=te>q.value),zr(z.value)||(T=te<z.value)}else{const te=a.valueAsDate||new Date(v),K=U=>new Date(new Date().toDateString()+" "+U),L=a.type=="time",H=a.type=="week";cn(q.value)&&v&&(N=L?K(v)>K(q.value):H?v>q.value:te>new Date(q.value)),cn(z.value)&&v&&(T=L?K(v)<K(z.value):H?v<z.value:te<new Date(z.value))}if((N||T)&&(I(!!N,q.message,z.message,Ci.max,Ci.min),!n))return w(_[y].message),_}if((u||d)&&!P&&(cn(v)||s&&Array.isArray(v))){const N=Vo(u),T=Vo(d),q=!zr(N.value)&&v.length>+N.value,z=!zr(T.value)&&v.length<+T.value;if((q||z)&&(I(q,N.message,T.message),!n))return w(_[y].message),_}if(p&&!P&&cn(v)){const{value:N,message:T}=Vo(p);if(Wf(N)&&!v.match(N)&&(_[y]={type:Ci.pattern,message:T,ref:a,...C(Ci.pattern,T)},!n))return w(T),_}if(m){if(Rr(m)){const N=await m(v,r),T=JR(N,x);if(T&&(_[y]={...T,...C(Ci.validate,T.message)},!n))return w(T.message),_}else if(jt(m)){let N={};for(const T in m){if(!Pr(N)&&!n)break;const q=JR(await m[T](v,r),x,T);q&&(N={...q,...C(T,q.message)},w(q.message),n&&(_[y]=N))}if(!Pr(N)&&(_[y]={ref:x,...N},!n))return _}}return w(!0),_};const Ene={mode:Gn.onSubmit,reValidateMode:Gn.onChange,shouldFocusError:!0};function One(t={}){let e={...Ene,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Rr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=jt(e.defaultValues)||jt(e.values)?zt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:zt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:UR(),state:UR()},m=e.criteriaMode===Gn.all,y=j=>D=>{clearTimeout(u),u=setTimeout(j,D)},b=async j=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||j)){let D;e.resolver?(D=Pr((await S()).errors),g()):D=await C(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=(j,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(o.mount)).forEach(F=>{F&&(D?Je(r.validatingFields,F,D):It(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Pr(r.validatingFields)}))},v=(j,D=[],F,ae,re=!0,Y=!0)=>{if(ae&&F&&!e.disabled){if(a.action=!0,Y&&Array.isArray(le(n,j))){const de=F(le(n,j),ae.argA,ae.argB);re&&Je(n,j,de)}if(Y&&Array.isArray(le(r.errors,j))){const de=F(le(r.errors,j),ae.argA,ae.argB);re&&Je(r.errors,j,de),_ne(r.errors,j)}if((h.touchedFields||f.touchedFields)&&Y&&Array.isArray(le(r.touchedFields,j))){const de=F(le(r.touchedFields,j),ae.argA,ae.argB);re&&Je(r.touchedFields,j,de)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Yo(i,s)),p.state.next({name:j,isDirty:N(j,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,j,D)},x=(j,D)=>{Je(r.errors,j,D),p.state.next({errors:r.errors})},w=j=>{r.errors=j,p.state.next({errors:r.errors,isValid:!1})},_=(j,D,F,ae)=>{const re=le(n,j);if(re){const Y=le(s,j,_t(F)?le(i,j):F);_t(Y)||ae&&ae.defaultChecked||D?Je(s,j,D?Y:KR(re._f)):z(j,Y),a.mount&&!a.action&&b()}},E=(j,D,F,ae,re)=>{let Y=!1,de=!1;const Ie={name:j};if(!e.disabled){if(!F||ae){(h.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=Ie.isDirty=N(),Y=de!==Ie.isDirty);const k=Yn(le(i,j),D);de=!!le(r.dirtyFields,j),k?It(r.dirtyFields,j):Je(r.dirtyFields,j,!0),Ie.dirtyFields=r.dirtyFields,Y=Y||(h.dirtyFields||f.dirtyFields)&&de!==!k}if(F){const k=le(r.touchedFields,j);k||(Je(r.touchedFields,j,F),Ie.touchedFields=r.touchedFields,Y=Y||(h.touchedFields||f.touchedFields)&&k!==F)}Y&&re&&p.state.next(Ie)}return Y?Ie:{}},O=(j,D,F,ae)=>{const re=le(r.errors,j),Y=(h.isValid||f.isValid)&&un(D)&&r.isValid!==D;if(e.delayError&&F?(l=y(()=>x(j,F)),l(e.delayError)):(clearTimeout(u),l=null,F?Je(r.errors,j,F):It(r.errors,j)),(F?!Yn(re,F):re)||!Pr(ae)||Y){const de={...ae,...Y&&un(D)?{isValid:D}:{},errors:r.errors,name:j};r={...r,...de},p.state.next(de)}},S=async j=>(g(j,!0),await e.resolver(s,e.context,vne(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async j=>{const{errors:D}=await S(j);if(g(j),j)for(const F of j){const ae=le(D,F);ae?Je(r.errors,F,ae):It(r.errors,F)}else r.errors=D;return D},C=async(j,D,F={valid:!0})=>{for(const ae in j){const re=j[ae];if(re){const{_f:Y,...de}=re;if(Y){const Ie=o.array.has(Y.name),k=re._f&&gne(re._f);k&&h.validatingFields&&g([Y.name],!0);const ne=await ZR(re,o.disabled,s,m,e.shouldUseNativeValidation&&!D,Ie);if(k&&h.validatingFields&&g([Y.name]),ne[Y.name]&&(F.valid=!1,D))break;!D&&(le(ne,Y.name)?Ie?Sne(r.errors,ne,Y.name):Je(r.errors,Y.name,ne[Y.name]):It(r.errors,Y.name))}!Pr(de)&&await C(de,D,F)}}return F.valid},I=()=>{for(const j of o.unMount){const D=le(n,j);D&&(D._f.refs?D._f.refs.every(F=>!Hm(F)):!Hm(D._f.ref))&&Pe(j)}o.unMount=new Set},N=(j,D)=>!e.disabled&&(j&&D&&Je(s,j,D),!Yn(W(),i)),T=(j,D,F)=>WP(j,o,{...a.mount?s:_t(D)?i:cn(j)?{[j]:D}:D},F,D),q=j=>_N(le(a.mount?s:i,j,e.shouldUnregister?le(i,j,[]):[])),z=(j,D,F={})=>{const ae=le(n,j);let re=D;if(ae){const Y=ae._f;Y&&(!Y.disabled&&Je(s,j,_K(D,Y)),re=Uf(Y.ref)&&zr(D)?"":D,bK(Y.ref)?[...Y.ref.options].forEach(de=>de.selected=re.includes(de.value)):Y.refs?Td(Y.ref)?Y.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(re)?de.checked=!!re.find(Ie=>Ie===de.value):de.checked=re===de.value||!!re)}):Y.refs.forEach(de=>de.checked=de.value===re):PN(Y.ref)?Y.ref.value="":(Y.ref.value=re,Y.ref.type||p.state.next({name:j,values:zt(s)})))}(F.shouldDirty||F.shouldTouch)&&E(j,re,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&U(j)},te=(j,D,F)=>{for(const ae in D){if(!D.hasOwnProperty(ae))return;const re=D[ae],Y=j+"."+ae,de=le(n,Y);(o.array.has(j)||jt(re)||de&&!de._f)&&!Na(re)?te(Y,re,F):z(Y,re,F)}},K=(j,D,F={})=>{const ae=le(n,j),re=o.array.has(j),Y=zt(D);Je(s,j,Y),re?(p.array.next({name:j,values:zt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:j,dirtyFields:Yo(i,s),isDirty:N(j,Y)})):ae&&!ae._f&&!zr(Y)?te(j,Y,F):z(j,Y,F),QR(j,o)&&p.state.next({...r,name:j}),p.state.next({name:a.mount?j:void 0,values:zt(s)})},L=async j=>{a.mount=!0;const D=j.target;let F=D.name,ae=!0;const re=le(n,F),Y=k=>{ae=Number.isNaN(k)||Na(k)&&isNaN(k.getTime())||Yn(k,le(s,F,k))},de=GR(e.mode),Ie=GR(e.reValidateMode);if(re){let k,ne;const V=D.type?KR(re._f):pK(j),B=j.type===Bf.BLUR||j.type===Bf.FOCUS_OUT,G=!yne(re._f)&&!e.resolver&&!le(r.errors,F)&&!re._f.deps||xne(B,le(r.touchedFields,F),r.isSubmitted,Ie,de),X=QR(F,o,B);Je(s,F,V),B?(!D||!D.readOnly)&&(re._f.onBlur&&re._f.onBlur(j),l&&l(0)):re._f.onChange&&re._f.onChange(j);const oe=E(F,V,B),$e=!Pr(oe)||X;if(!B&&p.state.next({name:F,type:j.type,values:zt(s)}),G)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?B&&b():B||b()),$e&&p.state.next({name:F,...X?{}:oe});if(!B&&X&&p.state.next({...r}),e.resolver){const{errors:Fr}=await S([F]);if(g([F]),Y(V),ae){const ar=XR(r.errors,n,F),si=XR(Fr,n,ar.name||F);k=si.error,F=si.name,ne=Pr(Fr)}}else g([F],!0),k=(await ZR(re,o.disabled,s,m,e.shouldUseNativeValidation))[F],g([F]),Y(V),ae&&(k?ne=!1:(h.isValid||f.isValid)&&(ne=await C(n,!0)));ae&&(re._f.deps&&(!Array.isArray(re._f.deps)||re._f.deps.length>0)&&U(re._f.deps),O(F,ne,k,oe))}},H=(j,D)=>{if(le(r.errors,D)&&j.focus)return j.focus(),1},U=async(j,D={})=>{let F,ae;const re=xc(j);if(e.resolver){const Y=await P(_t(j)?j:re);F=Pr(Y),ae=j?!re.some(de=>le(Y,de)):F}else j?(ae=(await Promise.all(re.map(async Y=>{const de=le(n,Y);return await C(de&&de._f?{[Y]:de}:de)}))).every(Boolean),!(!ae&&!r.isValid)&&b()):ae=F=await C(n);return p.state.next({...!cn(j)||(h.isValid||f.isValid)&&F!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!ae&&_c(n,H,j?re:o.mount),ae},W=(j,D)=>{let F={...a.mount?s:i};return D&&(F=yK(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),_t(j)?F:cn(j)?le(F,j):j.map(ae=>le(F,ae))},ee=(j,D)=>({invalid:!!le((D||r).errors,j),isDirty:!!le((D||r).dirtyFields,j),error:le((D||r).errors,j),isValidating:!!le(r.validatingFields,j),isTouched:!!le((D||r).touchedFields,j)}),pe=j=>{j&&xc(j).forEach(D=>It(r.errors,D)),p.state.next({errors:j?r.errors:{}})},ge=(j,D,F)=>{const ae=(le(n,j,{_f:{}})._f||{}).ref,re=le(r.errors,j)||{},{ref:Y,message:de,type:Ie,...k}=re;Je(r.errors,j,{...k,...D,ref:ae}),p.state.next({name:j,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&ae&&ae.focus&&ae.focus()},qe=(j,D)=>Rr(j)?p.state.subscribe({next:F=>"values"in F&&j(T(void 0,D),F)}):T(j,D,!0),we=j=>p.state.subscribe({next:D=>{wne(j.name,D.name,j.exact)&&bne(D,j.formState||h,Bt,j.reRenderRoot)&&j.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,Se=j=>(a.mount=!0,f={...f,...j.formState},we({...j,formState:{...d,...j.formState}})),Pe=(j,D={})=>{for(const F of j?xc(j):o.mount)o.mount.delete(F),o.array.delete(F),D.keepValue||(It(n,F),It(s,F)),!D.keepError&&It(r.errors,F),!D.keepDirty&&It(r.dirtyFields,F),!D.keepTouched&&It(r.touchedFields,F),!D.keepIsValidating&&It(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&It(i,F);p.state.next({values:zt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:N()}:{}}),!D.keepIsValid&&b()},dt=({disabled:j,name:D})=>{(un(j)&&a.mount||j||o.disabled.has(D))&&(j?o.disabled.add(D):o.disabled.delete(D))},Ge=(j,D={})=>{let F=le(n,j);const ae=un(D.disabled)||un(e.disabled);return Je(n,j,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:j}},name:j,mount:!0,...D}}),o.mount.add(j),F?dt({disabled:un(D.disabled)?D.disabled:e.disabled,name:j}):_(j,!0,D.value),{...ae?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:ec(D.min),max:ec(D.max),minLength:ec(D.minLength),maxLength:ec(D.maxLength),pattern:ec(D.pattern)}:{},name:j,onChange:L,onBlur:L,ref:re=>{if(re){Ge(j,D),F=le(n,j);const Y=_t(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,de=hne(Y),Ie=F._f.refs||[];if(de?Ie.find(k=>k===Y):Y===F._f.ref)return;Je(n,j,{_f:{...F._f,...de?{refs:[...Ie.filter(Hm),Y,...Array.isArray(le(i,j))?[{}]:[]],ref:{type:Y.type,name:j}}:{ref:Y}}}),_(j,!1,void 0,Y)}else F=le(n,j,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(mK(o.array,j)&&a.action)&&o.unMount.add(j)}}},Lt=()=>e.shouldFocusError&&_c(n,H,o.mount),sr=j=>{un(j)&&(p.state.next({disabled:j}),_c(n,(D,F)=>{const ae=le(n,F);ae&&(D.disabled=ae._f.disabled||j,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(re=>{re.disabled=ae._f.disabled||j}))},0,!1))},nt=(j,D)=>async F=>{let ae;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let re=zt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:de}=await S();g(),r.errors=Y,re=zt(de)}else await C(n);if(o.disabled.size)for(const Y of o.disabled)It(re,Y);if(It(r.errors,"root"),Pr(r.errors)){p.state.next({errors:{}});try{await j(re,F)}catch(Y){ae=Y}}else D&&await D({...r.errors},F),Lt(),setTimeout(Lt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Pr(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},Sr=(j,D={})=>{le(n,j)&&(_t(D.defaultValue)?K(j,zt(le(i,j))):(K(j,D.defaultValue),Je(i,j,zt(D.defaultValue))),D.keepTouched||It(r.touchedFields,j),D.keepDirty||(It(r.dirtyFields,j),r.isDirty=D.defaultValue?N(j,zt(le(i,j))):N()),D.keepError||(It(r.errors,j),h.isValid&&b()),p.state.next({...r}))},ot=(j,D={})=>{const F=j?zt(j):i,ae=zt(F),re=Pr(j),Y=re?i:ae;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const de=new Set([...o.mount,...Object.keys(Yo(i,s))]);for(const Ie of Array.from(de))le(r.dirtyFields,Ie)?Je(Y,Ie,le(s,Ie)):K(Ie,le(Y,Ie))}else{if(xN&&_t(j))for(const de of o.mount){const Ie=le(n,de);if(Ie&&Ie._f){const k=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Uf(k)){const ne=k.closest("form");if(ne){ne.reset();break}}}}if(D.keepFieldsRef)for(const de of o.mount)K(de,le(Y,de));else n={}}s=e.shouldUnregister?D.keepDefaultValues?zt(i):{}:zt(Y),p.array.next({values:{...Y}}),p.state.next({values:{...Y}})}o={mount:D.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Pr(Y),a.watch=!!e.shouldUnregister,a.keepIsValid=!!D.keepIsValid,a.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:re?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Yn(j,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:D.keepDirtyValues?D.keepDefaultValues&&s?Yo(i,s):r.dirtyFields:D.keepDefaultValues&&j?Yo(i,j):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Ar=(j,D)=>ot(Rr(j)?j(s):j,{...e.resetOptions,...D}),Ye=(j,D={})=>{const F=le(n,j),ae=F&&F._f;if(ae){const re=ae.refs?ae.refs[0]:ae.ref;re.focus&&setTimeout(()=>{re.focus(),D.shouldSelect&&Rr(re.select)&&re.select()})}},Bt=j=>{r={...r,...j}},an={control:{register:Ge,unregister:Pe,getFieldState:ee,handleSubmit:nt,setError:ge,_subscribe:we,_runSchema:S,_updateIsValidating:g,_focusError:Lt,_getWatch:T,_getDirty:N,_setValid:b,_setFieldArray:v,_setDisabledField:dt,_setErrors:w,_getFieldArray:q,_reset:ot,_resetDefaultValues:()=>Rr(e.defaultValues)&&e.defaultValues().then(j=>{Ar(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:sr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Se,trigger:U,register:Ge,handleSubmit:nt,watch:qe,setValue:K,getValues:W,reset:Ar,resetField:Sr,clearErrors:pe,unregister:Pe,setError:ge,setFocus:Ye,getFieldState:ee};return{...an,formControl:an}}function mu(t={}){const e=Ce.useRef(void 0),r=Ce.useRef(void 0),[n,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:Rr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Rr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Rr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=One(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,ON(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ce.useEffect(()=>{var a;t.values&&!Yn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=gK(n,s),e.current}function e2(){var y;const{id:t}=ss(),e=en(),r=!!t,{data:n,isLoading:i}=pu(t),s=Yre(),a=Nd(),{data:o=[]}=at({queryKey:["date-types"],queryFn:async()=>(await Le.getDateTypes()).data}),l=o.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=mu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});$.useEffect(()=>{var b,g,v,x,w,_,E,O;if(n){const S=(g=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:g.find(C=>C.contact_type==="email"),P=(S==null?void 0:S.contact_value)||"";h({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:P,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),vn(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||null,how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await a.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Xt.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Le.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"First Name *"}),c.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Last Name"}),c.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nickname"}),c.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Gender"}),c.jsxs("select",{...u("gender"),className:"input",children:[c.jsx("option",{value:"",children:"Select gender..."}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"non_binary",children:"Non-binary"}),c.jsx("option",{value:"other",children:"Other"}),c.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Birthday"}),c.jsx("input",{type:"date",...u("birthday"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"How We Met"}),c.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:"/people",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function Pne({value:t,onChange:e,companies:r,isLoading:n}){return c.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[c.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return c.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function t2(){var v,x;const{personId:t,index:e}=ss(),r=en();Jt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=pu(t),o=Nd(),{data:l=[],isLoading:u}=at({queryKey:["companies","all"],queryFn:async()=>(await Le.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=mu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});$.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),vn(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async w=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],O={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?E[n]=O:E.push(O);const S=wl(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),c.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company"}),c.jsx(zf,{name:"company",control:m,render:({field:w})=>c.jsx(Pne,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Job Title"}),c.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Description"}),c.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Start Date"}),c.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"End Date"}),c.jsx("input",{type:"date",...d("end_date"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const Cne=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function r2(){var m,y;const{personId:t,index:e}=ss(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=pu(t),o=Nd(),{register:l,handleSubmit:u,reset:d,formState:{errors:h,isSubmitting:f}}=mu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});$.useEffect(()=>{var b;if(s&&i){const v=(((b=s.acf)==null?void 0:b.contact_info)||[])[n];v&&d({contact_type:v.contact_type||"",contact_label:v.contact_label||"",contact_value:v.contact_value||""})}},[s,n,i,d]),vn(i?`Edit Contact Detail - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Contact Detail - ${((y=s==null?void 0:s.title)==null?void 0:y.rendered)||(s==null?void 0:s.title)||"Person"}`);const p=async b=>{var g;try{const v=[...((g=s.acf)==null?void 0:g.contact_info)||[]],x={contact_type:b.contact_type||"",contact_label:b.contact_label||"",contact_value:b.contact_value||""};i?v[n]=x:v.push(x);const w=wl(s.acf,{contact_info:v});await o.mutateAsync({id:t,data:{acf:w}}),r(`/people/${t}`)}catch(v){console.error("Failed to save contact detail:",v)}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Contact Detail":"Add Contact Detail"}),c.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Contact Type *"}),c.jsxs("select",{...l("contact_type",{required:"Please select a contact type"}),className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),Cne.map(b=>c.jsx("option",{value:b.value,children:b.label},b.value))]}),h.contact_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...l("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Value *"}),c.jsx("input",{...l("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),h.contact_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_value.message})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Contact Detail"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Nne({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=$.useState(""),[o,l]=$.useState(!1),u=$.useRef(null),d=$.useRef(null),h=$.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return w<_?-1:w>_?1:0}),[r,i]),f=$.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=Va(v).toLowerCase(),w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||w.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=$.useMemo(()=>h.find(g=>g.id===t),[h,t]);$.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?Va(p):"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:p&&!o?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[c.jsx("span",{children:b}),c.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(ra,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:u,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&c.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>c.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:Va(g)},g.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function n2(){var x,w;const{personId:t,index:e}=ss(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=pu(t),o=Nd(),{data:l=[],isLoading:u}=Ip(),{data:d=[],isLoading:h}=at({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:y,formState:{errors:b,isSubmitting:g}}=mu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});$.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),vn(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E;try{const O=[...((E=s.acf)==null?void 0:E.relationships)||[]],S={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?O[n]=S:O.push(S);const P=wl(s.acf,{relationships:O});await o.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),c.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related Person *"}),c.jsx(zf,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>c.jsx(Nne,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Relationship Type"}),c.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[c.jsx("option",{value:"",children:"Select a type..."}),d.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Custom Label"}),c.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Tne({company:t}){var e,r,n,i,s;return c.jsx(he,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?c.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Li(t),className:"w-12 h-12 rounded-lg object-contain bg-gray-50"}):c.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(es,{className:"w-6 h-6 text-gray-400"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Li(t)}),((i=t.acf)==null?void 0:i.industry)&&c.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&c.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function Ine(){const[t,e]=$.useState(""),{data:r,isLoading:n,error:i}=at({queryKey:["companies",t],queryFn:async()=>(await Le.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=$.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),u=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(eK,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),c.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),n&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(es,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&c.jsxs(he,{to:"/companies/new",className:"btn-primary",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>c.jsx(Tne,{company:a},a.id))})]})}function Rne(){var d,h,f,p,m,y;const{id:t}=ss(),e=en(),r=Jt(),{data:n,isLoading:i,error:s}=at({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data}),{data:a}=at({queryKey:["company-people",t],queryFn:async()=>(await Xt.getCompanyPeople(t)).data}),o=Et({mutationFn:()=>Le.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});vn(Li(n)||"Company"),$.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this company?"))try{await o.mutateAsync()}catch(b){console.error("Failed to delete company:",b),alert("Failed to delete company. Please try again.")}};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load company."}),c.jsx(he,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});if(n.status==="trash")return null;const u=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(he,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[c.jsx(iK,{className:"w-4 h-4 mr-2"}),"Edit"]}),c.jsxs("button",{onClick:l,className:"btn-danger",children:[c.jsx(gs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?c.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Li(n),className:"w-24 h-24 rounded-lg object-contain bg-gray-50"}):c.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(es,{className:"w-12 h-12 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:Li(n)}),u.industry&&c.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&c.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[c.jsx(UP,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(uo,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?c.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return c.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(uo,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?c.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return c.jsxs(he,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=u.contact_info)==null?void 0:y.length)>0&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),c.jsx("div",{className:"space-y-3",children:u.contact_info.map((b,g)=>c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),c.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function i2(){var v,x,w,_,E,O;const{id:t}=ss(),e=en(),r=Jt(),n=!!t,{data:i,isLoading:s}=at({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=$.useState(!1),l=$.useRef(null),u=Et({mutationFn:S=>Le.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Et({mutationFn:S=>Le.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const P=(C=S.target.files)==null?void 0:C[0];if(P){if(!P.type.startsWith("image/")){alert("Please select an image file");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Xt.uploadCompanyLogo(t,P),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=mu();$.useEffect(()=>{var S,P,C;i&&m({title:Qn(((S=i.title)==null?void 0:S.rendered)||""),website:((P=i.acf)==null?void 0:P.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),vn(n&&i?`Edit ${Li(i)||"Company"}`:"New Company");const g=async S=>{const P={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(P):u.mutate(P)};return n&&s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),c.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Logo"}),c.jsxs("div",{className:"flex items-center gap-4",children:[(w=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&w.source_url?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Li(i)||"Company logo",className:"w-20 h-20 rounded-lg object-contain bg-gray-50"}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(sf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(sf,{className:"w-8 h-8 text-gray-400"})}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(sf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),c.jsxs("div",{children:[c.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company Name *"}),c.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Website"}),c.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Industry"}),c.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:"/companies",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[c.jsx(ta,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function jne({person:t,dateType:e}){var r;return c.jsx("div",{className:"flex items-center gap-3 py-2",children:c.jsxs(he,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),c.jsx("span",{className:"font-medium truncate",children:t.name}),c.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function $ne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),c.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:c.jsx("span",{className:"text-2xl font-bold leading-none",children:fi(new Date(e.next_occurrence),"d")})}),c.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>c.jsx(jne,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function kne(){const{data:t,isLoading:e,error:r}=jte(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=fi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=fi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),c.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),e&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx(oo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),c.jsxs(he,{to:"/dates/new",className:"btn-primary",children:[c.jsx(wr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),Object.entries(i).map(([s,a])=>c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),c.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>c.jsx($ne,{dates:o},o[0].next_occurrence))})]},s))]})}function Dne({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=$.useState(""),a=$.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>Va(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=$.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},u=d=>{e(t.filter(h=>h!==d))};return c.jsxs("div",{className:"space-y-2",children:[o.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[Va(d),c.jsx("button",{type:"button",onClick:()=>u(d.id),className:"hover:text-primary-600",children:c.jsx(ra,{className:"w-3 h-3"})})]},d.id))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>c.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:Va(d)},d.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function s2(){var H;const{id:t}=ss(),[e]=eZ(),r=en(),n=Jt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=at({queryKey:["important-date",t],queryFn:async()=>(await Le.getDate(t)).data,enabled:i}),u=$.useMemo(()=>{var W;if(!((W=o==null?void 0:o.acf)!=null&&W.related_people))return[];const U=o.acf.related_people;return Array.isArray(U)?U.map(ee=>parseInt(typeof ee=="object"&&ee!==null?ee.ID||ee.id||ee.post_id:ee,10)).filter(ee=>!isNaN(ee)&&ee>0):[]},[o]),{data:d=[],isLoading:h}=Ip({orderby:"title",order:"asc"}),{data:f=[]}=at({queryKey:["people","specific",u],queryFn:async()=>{const U=u.map(ee=>Le.getPerson(ee,{_embed:!0}).then(pe=>pe.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:u.length>0}),p=$.useMemo(()=>{const U=new Map;return d.forEach(W=>U.set(W.id,W)),f.forEach(W=>{var pe,ge,qe,we,Se,Pe,dt,Ge,Lt,sr,nt,Sr,ot,Ar,Ye,Bt;const ee={...W,id:W.id,name:Va(W),first_name:((pe=W.acf)==null?void 0:pe.first_name)||"",last_name:((ge=W.acf)==null?void 0:ge.last_name)||"",is_favorite:((qe=W.acf)==null?void 0:qe.is_favorite)||!1,thumbnail:((Pe=(Se=(we=W._embedded)==null?void 0:we["wp:featuredmedia"])==null?void 0:Se[0])==null?void 0:Pe.source_url)||((Sr=(nt=(sr=(Lt=(Ge=(dt=W._embedded)==null?void 0:dt["wp:featuredmedia"])==null?void 0:Ge[0])==null?void 0:Lt.media_details)==null?void 0:sr.sizes)==null?void 0:nt.thumbnail)==null?void 0:Sr.source_url)||null,labels:((Bt=(Ye=(Ar=(ot=W._embedded)==null?void 0:ot["wp:term"])==null?void 0:Ar.flat())==null?void 0:Ye.filter(sn=>(sn==null?void 0:sn.taxonomy)==="person_label"))==null?void 0:Bt.map(sn=>sn.name))||[]};U.set(ee.id,ee)}),Array.from(U.values())},[d,f]),{data:m=[]}=at({queryKey:["date-types"],queryFn:async()=>((await Le.getDateTypes()).data||[]).sort((ee,pe)=>{const ge=ee.name||"",qe=pe.name||"";return ge.localeCompare(qe)})}),y=Et({mutationFn:U=>Le.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=Et({mutationFn:U=>Le.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=w("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=mu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),P=w("related_people"),C=w("date_type"),I=w("title");$.useEffect(()=>{var ee;if((!I||["'s Birthday","Wedding of "].some(pe=>I.endsWith(pe)||I.startsWith(pe)))&&(P==null?void 0:P.length)>0&&C){const pe=m.find(Se=>Se.id===parseInt(C)),ge=(pe==null?void 0:pe.name)||"",qe=((ee=pe==null?void 0:pe.slug)==null?void 0:ee.toLowerCase())||ge.toLowerCase(),we=P.map(Se=>{var dt,Ge,Lt;const Pe=p.find(sr=>sr.id===Se);return Pe?Qn(((dt=Pe.acf)==null?void 0:dt.first_name)||((Lt=(Ge=Pe.title)==null?void 0:Ge.rendered)==null?void 0:Lt.split(" ")[0])||""):null}).filter(Boolean);if(we.length>0&&ge){let Se;qe==="wedding"?we.length>=2?Se=`Wedding of ${we[0]} & ${we[1]}`:Se=`Wedding of ${we[0]}`:Se=`${we[0]}'s ${ge}`,_("title",Se)}}},[P,C,p,m,_,I]);const[N,T]=$.useState(!1);$.useEffect(()=>{var W,ee,pe,ge,qe,we;if(N&&!i)return;const U=u.length===0||f.length>0;if(o&&p.length>0&&U){let Se=[];const Pe=(W=o.acf)==null?void 0:W.related_people;Pe&&(Array.isArray(Pe)?Se=Pe.map(Ge=>parseInt(typeof Ge=="object"&&Ge!==null?Ge.ID||Ge.id||Ge.post_id:Ge,10)).filter(Ge=>!isNaN(Ge)&&Ge>0):typeof Pe=="number"&&(Se=[Pe]));let dt="";((ee=o.date_type)==null?void 0:ee.length)>0&&(dt=o.date_type[0].toString()),x({title:Qn(((pe=o.title)==null?void 0:pe.rendered)||""),date_value:((ge=o.acf)==null?void 0:ge.date_value)||"",date_type:dt,related_people:Se,is_recurring:((qe=o.acf)==null?void 0:qe.is_recurring)??!0,reminder_days_before:((we=o.acf)==null?void 0:we.reminder_days_before)||7}),T(!0)}else if(!i&&p.length>0&&m.length>0){const Se={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(Se.related_people=[parseInt(s)]),a){const Pe=m.find(dt=>dt.slug===a||dt.name.toLowerCase()===a.toLowerCase());Pe&&(Se.date_type=Pe.id.toString())}x(Se),T(!0)}},[o,x,i,s,a,m,p,u,f,N]),vn(i&&o?`Edit ${((H=o.title)==null?void 0:H.rendered)||o.title||"Date"}`:"New Date");const q=async U=>{const W={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring,reminder_days_before:parseInt(U.reminder_days_before,10)}};i?b.mutate(W):y.mutate(W)};if(i&&l)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const z=w("related_people"),te=i&&(z==null?void 0:z.length)>0?z[0]:s,K=te?`/people/${te}`:"/dates",L=te?"Back to Person":"Back to Dates";return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(he,{to:K,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:L})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),c.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related People"}),c.jsx(zf,{name:"related_people",control:E,render:({field:U})=>c.jsx(Dne,{value:U.value,onChange:U.onChange,people:p,isLoading:h})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date Type *"}),c.jsx(zf,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const W=U.value?String(U.value):"";return c.jsxs("select",{value:W,onChange:ee=>{const pe=ee.target.value;U.onChange(pe)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),m.map(ee=>c.jsx("option",{value:String(ee.id),children:ee.name},ee.id))]})}}),O.date_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date *"}),c.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Remind me"}),c.jsxs("select",{...g("reminder_days_before"),className:"input",children:[c.jsx("option",{value:"0",children:"On the day"}),c.jsx("option",{value:"1",children:"1 day before"}),c.jsx("option",{value:"3",children:"3 days before"}),c.jsx("option",{value:"7",children:"1 week before"}),c.jsx("option",{value:"14",children:"2 weeks before"}),c.jsx("option",{value:"30",children:"1 month before"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(he,{to:K,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function qne(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=$.useState(""),[i,s]=$.useState(""),[a,o]=$.useState(!0),[l,u]=$.useState(!1),[d,h]=$.useState(!1);$.useEffect(()=>{(async()=>{try{const y=await ye.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{o(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(m){console.error("Failed to copy:",m)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const m=await ye.post("/prm/v1/user/regenerate-ical-token");n(m.data.url),s(m.data.webcal_url)}catch(m){console.error("Failed to regenerate token:",m)}finally{h(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),c.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:m=>m.target.select()}),c.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("a",{href:i,className:"btn-primary",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),c.jsx("button",{onClick:p,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(he,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Import Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),c.jsxs(he,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Export Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),e&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(he,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Relationship Types"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),c.jsxs(he,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"User Approval"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[Xl," v",t.version||"1.0.0",c.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function a2({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=$.useState(""),[a,o]=$.useState(!1),l=$.useRef(null),u=$.useRef(null),d=$.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=$.useMemo(()=>{if(!i)return d.slice(0,10);const b=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[d,i]),f=$.useMemo(()=>d.find(b=>b.id===parseInt(t,10)),[d,t]);$.useEffect(()=>{const b=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:f&&!a?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[c.jsx("span",{children:y}),c.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(ra,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&c.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:c.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>c.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function Mne(){vn("Relationship Types - Settings");const t=Jt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(rK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),c.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=at({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),[s,a]=$.useState(null),[o,l]=$.useState(""),[u,d]=$.useState(""),[h,f]=$.useState(""),[p,m]=$.useState(""),[y,b]=$.useState(!1),g=Et({mutationFn:async({id:I,name:N,inverseId:T})=>{const q={name:N};return T&&(q.acf={inverse_relationship_type:parseInt(T,10)}),Le.updateRelationshipType(I,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Et({mutationFn:async({name:I,inverseId:N})=>{const T={name:I};return N&&(T.acf={inverse_relationship_type:parseInt(N,10)}),Le.createRelationshipType(T)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=Et({mutationFn:I=>Le.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=Et({mutationFn:()=>Le.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return c.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):c.jsx(Z7,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=I=>{var T;a(I.id),l(I.name);const N=(T=I.acf)==null?void 0:T.inverse_relationship_type;d(N?N.toString():"")},O=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:u||null})},P=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(I,N)=>{window.confirm(`Are you sure you want to delete "${N}"? This cannot be undone.`)&&x.mutate(I)};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),c.jsx("div",{className:"flex gap-2",children:!y&&c.jsxs(c.Fragment,{children:[c.jsx(_,{}),c.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[c.jsx(wr,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(a2,{value:p,onChange:m,relationshipTypes:n}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:P,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(ta,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),c.jsx("div",{className:"space-y-2",children:n.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var te,K;const N=s===I.id,T=(te=I.acf)==null?void 0:te.inverse_relationship_type,q=typeof T=="object"&&(T!=null&&T.ID)?T.ID:typeof T=="object"&&(T!=null&&T.id)?T.id:T,z=q?n.find(L=>L.id===q):null;return c.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:N?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(a2,{value:u,onChange:d,relationshipTypes:n,currentTypeId:I.id}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(ta,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[c.jsx(ra,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:I.name}),z&&c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",c.jsx("span",{className:"font-medium",children:z.name})]}),!z&&((K=I.acf)==null?void 0:K.inverse_relationship_type)===null&&c.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>E(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:c.jsx(Ste,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>C(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(gs,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function Ane(){var g,v,x;const[t,e]=$.useState(null),[r,n]=$.useState(""),[i,s]=$.useState(!1),[a,o]=$.useState(null),l=Jt(),u=Et({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await ye.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{o(w)},onError:w=>{var _,E;o({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Et({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await ye.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(w),o(null),d.reset(),u.mutate(w)},y=()=>{if(!r.trim()){o(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),u.reset(),d.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Yl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),c.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((w,_)=>c.jsx("li",{children:w},_))})]})]}),c.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(lo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Np,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ql,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&c.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Yl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[c.jsxs("p",{children:["Export format: ",a.version]}),c.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),c.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),c.jsxs("p",{children:["Notes: ",a.summary.notes]}),c.jsxs("p",{children:["Dates: ",a.summary.reminders]}),c.jsxs("p",{children:["Photos: ",a.summary.photos]}),c.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ao,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(gte,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&c.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),c.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(lo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ql,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ao,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=d.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function Fne(){var y,b,g;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),a=Jt(),o=Et({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ye.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=Et({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ye.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Yl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>c.jsx("li",{children:v},x))})]})]}),c.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:d,children:[c.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(lo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Np,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ql,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Yl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(uo,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(es,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(X7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(J7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(sK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ao,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx(lo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ql,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ao,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Lne(){var w,_,E;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState({}),l=Jt(),u=Et({mutationFn:async O=>{const S=new FormData;return S.append("file",O),(await ye.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:O=>{var S;if(s(O),((S=O.duplicates)==null?void 0:S.length)>0){const P={};O.duplicates.forEach(C=>{P[C.index]="merge"}),o(P)}},onError:O=>{var S,P;s({valid:!1,error:((P=(S=O.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to validate file"})}}),d=Et({mutationFn:async({file:O,decisions:S})=>{const P=new FormData;return P.append("file",O),P.append("decisions",JSON.stringify(S)),(await ye.post("/prm/v1/import/google-contacts",P,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?n(!0):O.type==="dragleave"&&n(!1)},[]),f=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),n(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&m(O.dataTransfer.files[0])},[]),p=O=>{O.target.files&&O.target.files[0]&&m(O.target.files[0])},m=O=>{if(!O.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(O),s(null),o({}),d.reset(),u.mutate(O)},y=(O,S)=>{o(P=>({...P,[O]:S}))},b=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),u.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],x=v.length>0;return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),c.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[c.jsxs("li",{children:["Go to ",c.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),c.jsx("li",{children:'Click "Export" in the left sidebar'}),c.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Yl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((w=d.data.stats.errors)==null?void 0:w.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((O,S)=>c.jsx("li",{children:O},S))})]})]}),c.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(lo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(wN,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Ql,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Yl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(uo,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(es,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(X7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(sK,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(J7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ao,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&x&&c.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(lte,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),c.jsx("div",{className:"mt-4 space-y-4",children:v.map(O=>c.jsx(Bne,{duplicate:O,decision:a[O.index]||"merge",onDecision:S=>y(O.index,S)},O.index))})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(lo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Ql,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(ao,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function Bne({duplicate:t,decision:e,onDecision:r}){var n,i;return c.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),c.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),c.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?c.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Ote,{className:"h-4 w-4"}),"Update existing"]}),c.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Cte,{className:"h-4 w-4"}),"Create new"]}),c.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Pte,{className:"h-4 w-4"}),"Skip"]})]})]})}const o2=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:Np,component:Fne},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:wN,component:Lne},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:fte,component:Ane}];function zne(){var n;vn("Import - Settings");const[t,e]=$.useState("vcard"),r=(n=o2.find(i=>i.id===t))==null?void 0:n.component;return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx($n,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:o2.map(i=>{const s=i.icon,a=t===i.id;return c.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),c.jsxs("div",{className:"text-left",children:[c.jsx("span",{className:"block",children:i.name}),c.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&c.jsx(r,{})]})]})}function Une(){vn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx($n,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(Np,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),c.jsx(zP,{className:"w-5 h-5 text-gray-400"})]}),c.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(wN,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),c.jsx(zP,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function Wne(){vn("User Approval - Settings");const t=Jt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(rK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),c.jsx(he,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=at({queryKey:["users"],queryFn:async()=>(await Xt.getUsers()).data}),s=Et({mutationFn:h=>Xt.approveUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Et({mutationFn:h=>Xt.denyUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=h=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(h)},l=h=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(h)};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(lo,{className:"w-8 h-8 animate-spin text-primary-600"})});const u=n.filter(h=>!h.is_approved),d=n.filter(h=>h.is_approved);return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx($n,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),c.jsxs("div",{className:"space-y-6",children:[u.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),c.jsx("div",{className:"space-y-3",children:u.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:h.name}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(h.registered).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>o(h.id),disabled:s.isPending,className:"btn-primary flex items-center gap-2",children:[c.jsx(CR,{className:"w-4 h-4"}),"Approve"]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(RR,{className:"w-4 h-4"}),"Deny"]})]})]},h.id))})]}),d.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),c.jsx("div",{className:"space-y-3",children:d.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[h.name,c.jsx(CR,{className:"w-4 h-4 text-green-600"})]}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email})]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(RR,{className:"w-4 h-4"}),"Revoke Access"]})]},h.id))})]}),n.length===0&&c.jsx("div",{className:"card p-8 text-center",children:c.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var l2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Km={exports:{}},u2={},tc,c2;function qt(){if(c2)return tc;c2=1;var t=function(e){return e&&e.Math===Math&&e};return tc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof l2=="object"&&l2)||t(typeof tc=="object"&&tc)||function(){return this}()||Function("return this")(),tc}var Gm,d2;function Ve(){return d2||(d2=1,Gm=function(t){try{return!!t()}catch{return!0}}),Gm}var Ym,h2;function Id(){if(h2)return Ym;h2=1;var t=Ve();return Ym=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Ym}var Qm,f2;function jp(){if(f2)return Qm;f2=1;var t=Id(),e=Function.prototype,r=e.apply,n=e.call;return Qm=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Qm}var Xm,p2;function Xe(){if(p2)return Xm;p2=1;var t=Id(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Xm=t?n:function(i){return function(){return r.apply(i,arguments)}},Xm}var Jm,m2;function as(){if(m2)return Jm;m2=1;var t=Xe(),e=t({}.toString),r=t("".slice);return Jm=function(n){return r(e(n),8,-1)},Jm}var Zm,v2;function EK(){if(v2)return Zm;v2=1;var t=as(),e=Xe();return Zm=function(r){if(t(r)==="Function")return e(r)},Zm}var ev,g2;function Zt(){if(g2)return ev;g2=1;var t=typeof document=="object"&&document.all;return ev=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},ev}var tv={},rv,y2;function Mt(){if(y2)return rv;y2=1;var t=Ve();return rv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),rv}var nv,b2;function tn(){if(b2)return nv;b2=1;var t=Id(),e=Function.prototype.call;return nv=t?e.bind(e):function(){return e.apply(e,arguments)},nv}var iv={},w2;function NN(){if(w2)return iv;w2=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return iv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,iv}var sv,x2;function Rd(){return x2||(x2=1,sv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),sv}var av,_2;function $p(){if(_2)return av;_2=1;var t=Xe(),e=Ve(),r=as(),n=Object,i=t("".split);return av=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,av}var ov,S2;function jd(){return S2||(S2=1,ov=function(t){return t==null}),ov}var lv,E2;function So(){if(E2)return lv;E2=1;var t=jd(),e=TypeError;return lv=function(r){if(t(r))throw new e("Can't call method on "+r);return r},lv}var uv,O2;function Si(){if(O2)return uv;O2=1;var t=$p(),e=So();return uv=function(r){return t(e(r))},uv}var cv,P2;function Mr(){if(P2)return cv;P2=1;var t=Zt();return cv=function(e){return typeof e=="object"?e!==null:t(e)},cv}var dv,C2;function Ht(){return C2||(C2=1,dv={}),dv}var hv,N2;function gn(){if(N2)return hv;N2=1;var t=Ht(),e=qt(),r=Zt(),n=function(i){return r(i)?i:void 0};return hv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},hv}var fv,T2;function er(){if(T2)return fv;T2=1;var t=Xe();return fv=t({}.isPrototypeOf),fv}var pv,I2;function vu(){if(I2)return pv;I2=1;var t=qt(),e=t.navigator,r=e&&e.userAgent;return pv=r?String(r):"",pv}var mv,R2;function $d(){if(R2)return mv;R2=1;var t=qt(),e=vu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),mv=o,mv}var vv,j2;function gu(){if(j2)return vv;j2=1;var t=$d(),e=Ve(),r=qt(),n=r.String;return vv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),vv}var gv,$2;function OK(){if($2)return gv;$2=1;var t=gu();return gv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",gv}var yv,k2;function kd(){if(k2)return yv;k2=1;var t=gn(),e=Zt(),r=er(),n=OK(),i=Object;return yv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},yv}var bv,D2;function yu(){if(D2)return bv;D2=1;var t=String;return bv=function(e){try{return t(e)}catch{return"Object"}},bv}var wv,q2;function os(){if(q2)return wv;q2=1;var t=Zt(),e=yu(),r=TypeError;return wv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},wv}var xv,M2;function TN(){if(M2)return xv;M2=1;var t=os(),e=jd();return xv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},xv}var _v,A2;function Vne(){if(A2)return _v;A2=1;var t=tn(),e=Zt(),r=Mr(),n=TypeError;return _v=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},_v}var Sv={exports:{}},Ev,F2;function bu(){return F2||(F2=1,Ev=!0),Ev}var Ov,L2;function Hne(){if(L2)return Ov;L2=1;var t=qt(),e=Object.defineProperty;return Ov=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Ov}var B2;function IN(){if(B2)return Sv.exports;B2=1;var t=bu(),e=qt(),r=Hne(),n="__core-js_shared__",i=Sv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Sv.exports}var Pv,z2;function wu(){if(z2)return Pv;z2=1;var t=IN();return Pv=function(e,r){return t[e]||(t[e]=r||{})},Pv}var Cv,U2;function ni(){if(U2)return Cv;U2=1;var t=So(),e=Object;return Cv=function(r){return e(t(r))},Cv}var Nv,W2;function tr(){if(W2)return Nv;W2=1;var t=Xe(),e=ni(),r=t({}.hasOwnProperty);return Nv=Object.hasOwn||function(i,s){return r(e(i),s)},Nv}var Tv,V2;function kp(){if(V2)return Tv;V2=1;var t=Xe(),e=0,r=Math.random(),n=t(1.1.toString);return Tv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Tv}var Iv,H2;function rr(){if(H2)return Iv;H2=1;var t=qt(),e=wu(),r=tr(),n=kp(),i=gu(),s=OK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Iv=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},Iv}var Rv,K2;function PK(){if(K2)return Rv;K2=1;var t=tn(),e=Mr(),r=kd(),n=TN(),i=Vne(),s=rr(),a=TypeError,o=s("toPrimitive");return Rv=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Rv}var jv,G2;function RN(){if(G2)return jv;G2=1;var t=PK(),e=kd();return jv=function(r){var n=t(r,"string");return e(n)?n:n+""},jv}var $v,Y2;function CK(){if(Y2)return $v;Y2=1;var t=qt(),e=Mr(),r=t.document,n=e(r)&&e(r.createElement);return $v=function(i){return n?r.createElement(i):{}},$v}var kv,Q2;function NK(){if(Q2)return kv;Q2=1;var t=Mt(),e=Ve(),r=CK();return kv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),kv}var X2;function Dp(){if(X2)return tv;X2=1;var t=Mt(),e=tn(),r=NN(),n=Rd(),i=Si(),s=RN(),a=tr(),o=NK(),l=Object.getOwnPropertyDescriptor;return tv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},tv}var Dv,J2;function Kne(){if(J2)return Dv;J2=1;var t=Ve(),e=Zt(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Dv=n,Dv}var qv,Z2;function qp(){if(Z2)return qv;Z2=1;var t=EK(),e=os(),r=Id(),n=t(t.bind);return qv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},qv}var Mv={},Av,ej;function TK(){if(ej)return Av;ej=1;var t=Mt(),e=Ve();return Av=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Av}var Fv,tj;function ls(){if(tj)return Fv;tj=1;var t=Mr(),e=String,r=TypeError;return Fv=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Fv}var rj;function kn(){if(rj)return Mv;rj=1;var t=Mt(),e=NK(),r=TK(),n=ls(),i=RN(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return Mv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Mv}var Lv,nj;function xu(){if(nj)return Lv;nj=1;var t=Mt(),e=kn(),r=Rd();return Lv=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Lv}var Bv,ij;function Oe(){if(ij)return Bv;ij=1;var t=qt(),e=jp(),r=EK(),n=Zt(),i=Dp().f,s=Kne(),a=Ht(),o=qp(),l=xu(),u=tr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Bv=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,N;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(N=i(g,O),C=N&&N.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},Bv}var sj;function Gne(){if(sj)return u2;sj=1;var t=Oe(),e=Mt(),r=kn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),u2}var aj;function Yne(){if(aj)return Km.exports;aj=1,Gne();var t=Ht(),e=t.Object,r=Km.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Km.exports}var zv,oj;function IK(){if(oj)return zv;oj=1;var t=Yne();return zv=t,zv}var Uv,lj;function Qne(){if(lj)return Uv;lj=1;var t=IK();return Uv=t,Uv}var Wv,uj;function Xne(){if(uj)return Wv;uj=1;var t=Qne();return Wv=t,Wv}var Vv,cj;function Jne(){return cj||(cj=1,Vv=Xne()),Vv}var Zne=Jne(),eie=ke(Zne),dj={},Hv,hj;function Eo(){if(hj)return Hv;hj=1;var t=as();return Hv=Array.isArray||function(r){return t(r)==="Array"},Hv}var Kv,fj;function tie(){if(fj)return Kv;fj=1;var t=Math.ceil,e=Math.floor;return Kv=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Kv}var Gv,pj;function _u(){if(pj)return Gv;pj=1;var t=tie();return Gv=function(e){var r=+e;return r!==r||r===0?0:t(r)},Gv}var Yv,mj;function RK(){if(mj)return Yv;mj=1;var t=_u(),e=Math.min;return Yv=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Yv}var Qv,vj;function ua(){if(vj)return Qv;vj=1;var t=RK();return Qv=function(e){return t(e.length)},Qv}var Xv,gj;function jK(){if(gj)return Xv;gj=1;var t=TypeError,e=9007199254740991;return Xv=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Xv}var Jv,yj;function Mp(){if(yj)return Jv;yj=1;var t=Mt(),e=kn(),r=Rd();return Jv=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Jv}var Zv,bj;function jN(){if(bj)return Zv;bj=1;var t=rr(),e=t("toStringTag"),r={};return r[e]="z",Zv=String(r)==="[object z]",Zv}var eg,wj;function ca(){if(wj)return eg;wj=1;var t=jN(),e=Zt(),r=as(),n=rr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return eg=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},eg}var tg,xj;function rie(){if(xj)return tg;xj=1;var t=Xe(),e=Zt(),r=IN(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),tg=r.inspectSource,tg}var rg,_j;function $K(){if(_j)return rg;_j=1;var t=Xe(),e=Ve(),r=Zt(),n=ca(),i=gn(),s=rie(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,rg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,rg}var ng,Sj;function nie(){if(Sj)return ng;Sj=1;var t=Eo(),e=$K(),r=Mr(),n=rr(),i=n("species"),s=Array;return ng=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},ng}var ig,Ej;function $N(){if(Ej)return ig;Ej=1;var t=nie();return ig=function(e,r){return new(t(e))(r===0?0:r)},ig}var sg,Oj;function Dd(){if(Oj)return sg;Oj=1;var t=Ve(),e=rr(),r=$d(),n=e("species");return sg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},sg}var Pj;function kK(){if(Pj)return dj;Pj=1;var t=Oe(),e=Ve(),r=Eo(),n=Mr(),i=ni(),s=ua(),a=jK(),o=Mp(),l=$N(),u=Dd(),d=rr(),h=$d(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),dj}var Cj={},Nj={},ag,Tj;function da(){if(Tj)return ag;Tj=1;var t=ca(),e=String;return ag=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},ag}var og={},lg,Ij;function kN(){if(Ij)return lg;Ij=1;var t=_u(),e=Math.max,r=Math.min;return lg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},lg}var ug,Rj;function iie(){if(Rj)return ug;Rj=1;var t=Si(),e=kN(),r=ua(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return ug={includes:n(!0),indexOf:n(!1)},ug}var cg,jj;function qd(){return jj||(jj=1,cg={}),cg}var dg,$j;function DK(){if($j)return dg;$j=1;var t=Xe(),e=tr(),r=Si(),n=iie().indexOf,i=qd(),s=t([].push);return dg=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},dg}var hg,kj;function DN(){return kj||(kj=1,hg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),hg}var fg,Dj;function Ap(){if(Dj)return fg;Dj=1;var t=DK(),e=DN();return fg=Object.keys||function(n){return t(n,e)},fg}var qj;function qN(){if(qj)return og;qj=1;var t=Mt(),e=TK(),r=kn(),n=ls(),i=Si(),s=Ap();return og.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},og}var pg,Mj;function sie(){if(Mj)return pg;Mj=1;var t=gn();return pg=t("document","documentElement"),pg}var mg,Aj;function Fp(){if(Aj)return mg;Aj=1;var t=wu(),e=kp(),r=t("keys");return mg=function(n){return r[n]||(r[n]=e(n))},mg}var vg,Fj;function Md(){if(Fj)return vg;Fj=1;var t=ls(),e=qN(),r=DN(),n=qd(),i=sie(),s=CK(),a=Fp(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,vg=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},vg}var gg={},Lj;function Lp(){if(Lj)return gg;Lj=1;var t=DK(),e=DN(),r=e.concat("length","prototype");return gg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},gg}var yg={},bg,Bj;function Su(){if(Bj)return bg;Bj=1;var t=Xe();return bg=t([].slice),bg}var zj;function qK(){if(zj)return yg;zj=1;var t=as(),e=Si(),r=Lp().f,n=Su(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return yg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},yg}var wg={},Uj;function Bp(){return Uj||(Uj=1,wg.f=Object.getOwnPropertySymbols),wg}var xg,Wj;function Ad(){if(Wj)return xg;Wj=1;var t=xu();return xg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},xg}var _g,Vj;function MN(){if(Vj)return _g;Vj=1;var t=kn();return _g=function(e,r,n){return t.f(e,r,n)},_g}var Sg={},Hj;function zp(){if(Hj)return Sg;Hj=1;var t=rr();return Sg.f=t,Sg}var Eg,Kj;function vt(){if(Kj)return Eg;Kj=1;var t=Ht(),e=tr(),r=zp(),n=kn().f;return Eg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Eg}var Og,Gj;function MK(){if(Gj)return Og;Gj=1;var t=tn(),e=gn(),r=rr(),n=Ad();return Og=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Og}var Pg,Yj;function aie(){if(Yj)return Pg;Yj=1;var t=jN(),e=ca();return Pg=t?{}.toString:function(){return"[object "+e(this)+"]"},Pg}var Cg,Qj;function Oo(){if(Qj)return Cg;Qj=1;var t=jN(),e=kn().f,r=xu(),n=tr(),i=aie(),s=rr(),a=s("toStringTag");return Cg=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Cg}var Ng,Xj;function oie(){if(Xj)return Ng;Xj=1;var t=qt(),e=Zt(),r=t.WeakMap;return Ng=e(r)&&/native code/.test(String(r)),Ng}var Tg,Jj;function Fd(){if(Jj)return Tg;Jj=1;var t=oie(),e=qt(),r=Mr(),n=xu(),i=tr(),s=IN(),a=Fp(),o=qd(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Tg={set:h,get:f,has:p,enforce:m,getterFor:y},Tg}var Ig,Zj;function Eu(){if(Zj)return Ig;Zj=1;var t=qp(),e=Xe(),r=$p(),n=ni(),i=ua(),s=$N(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,N;E>S;S++)if((y||S in _)&&(I=_[S],N=O(I,S,w),l))if(u)C[S]=N;else if(N)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Ig={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Ig}var e$;function lie(){if(e$)return Nj;e$=1;var t=Oe(),e=qt(),r=tn(),n=Xe(),i=bu(),s=Mt(),a=gu(),o=Ve(),l=tr(),u=er(),d=ls(),h=Si(),f=RN(),p=da(),m=Rd(),y=Md(),b=Ap(),g=Lp(),v=qK(),x=Bp(),w=Dp(),_=kn(),E=qN(),O=NN(),S=Ad(),P=MN(),C=wu(),I=Fp(),N=qd(),T=kp(),q=rr(),z=zp(),te=vt(),K=MK(),L=Oo(),H=Fd(),U=Eu().forEach,W=I("hidden"),ee="Symbol",pe="prototype",ge=H.set,qe=H.getterFor(ee),we=Object[pe],Se=e.Symbol,Pe=Se&&Se[pe],dt=e.RangeError,Ge=e.TypeError,Lt=e.QObject,sr=w.f,nt=_.f,Sr=v.f,ot=O.f,Ar=n([].push),Ye=C("symbols"),Bt=C("op-symbols"),sn=C("wks"),an=!Lt||!Lt[pe]||!Lt[pe].findChild,j=function(V,B,G){var X=sr(we,B);X&&delete we[B],nt(V,B,G),X&&V!==we&&nt(we,B,X)},D=s&&o(function(){return y(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a!==7})?j:nt,F=function(V,B){var G=Ye[V]=y(Pe);return ge(G,{type:ee,tag:V,description:B}),s||(G.description=B),G},ae=function(B,G,X){B===we&&ae(Bt,G,X),d(B);var oe=f(G);return d(X),l(Ye,oe)?(X.enumerable?(l(B,W)&&B[W][oe]&&(B[W][oe]=!1),X=y(X,{enumerable:m(0,!1)})):(l(B,W)||nt(B,W,m(1,y(null))),B[W][oe]=!0),D(B,oe,X)):nt(B,oe,X)},re=function(B,G){d(B);var X=h(G),oe=b(X).concat(ne(X));return U(oe,function($e){(!s||r(de,X,$e))&&ae(B,$e,X[$e])}),B},Y=function(B,G){return G===void 0?y(B):re(y(B),G)},de=function(B){var G=f(B),X=r(ot,this,G);return this===we&&l(Ye,G)&&!l(Bt,G)?!1:X||!l(this,G)||!l(Ye,G)||l(this,W)&&this[W][G]?X:!0},Ie=function(B,G){var X=h(B),oe=f(G);if(!(X===we&&l(Ye,oe)&&!l(Bt,oe))){var $e=sr(X,oe);return $e&&l(Ye,oe)&&!(l(X,W)&&X[W][oe])&&($e.enumerable=!0),$e}},k=function(B){var G=Sr(h(B)),X=[];return U(G,function(oe){!l(Ye,oe)&&!l(N,oe)&&Ar(X,oe)}),X},ne=function(V){var B=V===we,G=Sr(B?Bt:h(V)),X=[];return U(G,function(oe){l(Ye,oe)&&(!B||l(we,oe))&&Ar(X,Ye[oe])}),X};return a||(Se=function(){if(u(Pe,this))throw new Ge("Symbol is not a constructor");var B=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),G=T(B),X=function(oe){var $e=this===void 0?e:this;$e===we&&r(X,Bt,oe),l($e,W)&&l($e[W],G)&&($e[W][G]=!1);var Fr=m(1,oe);try{D($e,G,Fr)}catch(ar){if(!(ar instanceof dt))throw ar;j($e,G,Fr)}};return s&&an&&D(we,G,{configurable:!0,set:X}),F(G,B)},Pe=Se[pe],S(Pe,"toString",function(){return qe(this).tag}),S(Se,"withoutSetter",function(V){return F(T(V),V)}),O.f=de,_.f=ae,E.f=re,w.f=Ie,g.f=v.f=k,x.f=ne,z.f=function(V){return F(q(V),V)},s&&(P(Pe,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(we,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Se}),U(b(sn),function(V){te(V)}),t({target:ee,stat:!0,forced:!a},{useSetter:function(){an=!0},useSimple:function(){an=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Y,defineProperty:ae,defineProperties:re,getOwnPropertyDescriptor:Ie}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:k}),K(),L(Se,ee),N[W]=!0,Nj}var t$={},Rg,r$;function AK(){if(r$)return Rg;r$=1;var t=gu();return Rg=t&&!!Symbol.for&&!!Symbol.keyFor,Rg}var n$;function uie(){if(n$)return t$;n$=1;var t=Oe(),e=gn(),r=tr(),n=da(),i=wu(),s=AK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),t$}var i$={},s$;function cie(){if(s$)return i$;s$=1;var t=Oe(),e=tr(),r=kd(),n=yu(),i=wu(),s=AK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),i$}var a$={},jg,o$;function die(){if(o$)return jg;o$=1;var t=Xe(),e=Eo(),r=Zt(),n=as(),i=da(),s=t([].push);return jg=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},jg}var l$;function FK(){if(l$)return a$;l$=1;var t=Oe(),e=gn(),r=jp(),n=tn(),i=Xe(),s=Ve(),a=Zt(),o=kd(),l=Su(),u=die(),d=gu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),N=u(C);if(!(!a(N)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(N)&&(q=n(N,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var N=m(I,C-1),T=m(I,C+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,N)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,N){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),a$}var u$={},c$;function hie(){if(c$)return u$;c$=1;var t=Oe(),e=gu(),r=Ve(),n=Bp(),i=ni(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),u$}var d$;function LK(){return d$||(d$=1,lie(),uie(),cie(),FK(),hie()),Cj}var h$={},f$;function BK(){if(f$)return h$;f$=1;var t=vt();return t("asyncDispose"),h$}var p$={},m$;function fie(){if(m$)return p$;m$=1;var t=vt();return t("asyncIterator"),p$}var v$={},g$;function zK(){if(g$)return v$;g$=1;var t=vt();return t("dispose"),v$}var y$={},b$;function pie(){if(b$)return y$;b$=1;var t=vt();return t("hasInstance"),y$}var w$={},x$;function mie(){if(x$)return w$;x$=1;var t=vt();return t("isConcatSpreadable"),w$}var _$={},S$;function UK(){if(S$)return _$;S$=1;var t=vt();return t("iterator"),_$}var E$={},O$;function vie(){if(O$)return E$;O$=1;var t=vt();return t("match"),E$}var P$={},C$;function gie(){if(C$)return P$;C$=1;var t=vt();return t("matchAll"),P$}var N$={},T$;function yie(){if(T$)return N$;T$=1;var t=vt();return t("replace"),N$}var I$={},R$;function bie(){if(R$)return I$;R$=1;var t=vt();return t("search"),I$}var j$={},$$;function wie(){if($$)return j$;$$=1;var t=vt();return t("species"),j$}var k$={},D$;function xie(){if(D$)return k$;D$=1;var t=vt();return t("split"),k$}var q$={},M$;function WK(){if(M$)return q$;M$=1;var t=vt(),e=MK();return t("toPrimitive"),e(),q$}var A$={},F$;function _ie(){if(F$)return A$;F$=1;var t=gn(),e=vt(),r=Oo();return e("toStringTag"),r(t("Symbol"),"Symbol"),A$}var L$={},B$;function Sie(){if(B$)return L$;B$=1;var t=vt();return t("unscopables"),L$}var z$={},U$;function Eie(){if(U$)return z$;U$=1;var t=qt(),e=Oo();return e(t.JSON,"JSON",!0),z$}var $g,W$;function Oie(){if(W$)return $g;W$=1,kK(),LK(),BK(),fie(),zK(),pie(),mie(),UK(),vie(),gie(),yie(),bie(),wie(),xie(),WK(),_ie(),Sie(),Eie();var t=Ht();return $g=t.Symbol,$g}var V$={},kg,H$;function Pie(){return H$||(H$=1,kg=function(){}),kg}var Dg,K$;function Ou(){return K$||(K$=1,Dg={}),Dg}var qg,G$;function Cie(){if(G$)return qg;G$=1;var t=Mt(),e=tr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return qg={EXISTS:i,PROPER:s,CONFIGURABLE:a},qg}var Mg,Y$;function Nie(){if(Y$)return Mg;Y$=1;var t=Ve();return Mg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Mg}var Ag,Q$;function VK(){if(Q$)return Ag;Q$=1;var t=tr(),e=Zt(),r=ni(),n=Fp(),i=Nie(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Ag=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},Ag}var Fg,X$;function HK(){if(X$)return Fg;X$=1;var t=Ve(),e=Zt(),r=Mr(),n=Md(),i=VK(),s=Ad(),a=rr(),o=bu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Fg={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},Fg}var Lg,J$;function Tie(){if(J$)return Lg;J$=1;var t=HK().IteratorPrototype,e=Md(),r=Rd(),n=Oo(),i=Ou(),s=function(){return this};return Lg=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},Lg}var Bg,Z$;function Iie(){if(Z$)return Bg;Z$=1;var t=Xe(),e=os();return Bg=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Bg}var zg,ek;function Rie(){if(ek)return zg;ek=1;var t=Mr();return zg=function(e){return t(e)||e===null},zg}var Ug,tk;function jie(){if(tk)return Ug;tk=1;var t=Rie(),e=String,r=TypeError;return Ug=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Ug}var Wg,rk;function $ie(){if(rk)return Wg;rk=1;var t=Iie(),e=Mr(),r=So(),n=jie();return Wg=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),Wg}var Vg,nk;function AN(){if(nk)return Vg;nk=1;var t=Oe(),e=tn(),r=bu(),n=Cie(),i=Zt(),s=Tie(),a=VK(),o=$ie(),l=Oo(),u=xu(),d=Ad(),h=rr(),f=Ou(),p=HK(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return Vg=function(O,S,P,C,I,N,T){s(P,S,C);var q=function(ge){if(ge===I&&H)return H;if(!g&&ge&&ge in K)return K[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},z=S+" Iterator",te=!1,K=O.prototype,L=K[v]||K["@@iterator"]||I&&K[I],H=!g&&L||q(I),U=S==="Array"&&K.entries||L,W,ee,pe;if(U&&(W=a(U.call(new O)),W!==Object.prototype&&W.next&&(!r&&a(W)!==b&&(o?o(W,b):i(W[v])||d(W,v,E)),l(W,z,!0,!0),r&&(f[z]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(K,"name",w):(te=!0,H=function(){return e(L,this)})),I)if(ee={values:q(w),keys:N?H:q(x),entries:q(_)},T)for(pe in ee)(g||te||!(pe in K))&&d(K,pe,ee[pe]);else t({target:S,proto:!0,forced:g||te},ee);return(!r||T)&&K[v]!==H&&d(K,v,H,{name:I}),f[S]=H,ee},Vg}var Hg,ik;function FN(){return ik||(ik=1,Hg=function(t,e){return{value:t,done:e}}),Hg}var Kg,sk;function ha(){if(sk)return Kg;sk=1;var t=Si(),e=Pie(),r=Ou(),n=Fd(),i=kn().f,s=AN(),a=FN(),o=bu(),l=Mt(),u="Array Iterator",d=n.set,h=n.getterFor(u);Kg=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Kg}var Gg,ak;function kie(){return ak||(ak=1,Gg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Gg}var ok;function fa(){if(ok)return V$;ok=1,ha();var t=kie(),e=qt(),r=Oo(),n=Ou();for(var i in t)r(e[i],i),n[i]=n.Array;return V$}var Yg,lk;function KK(){if(lk)return Yg;lk=1;var t=Oie();return fa(),Yg=t,Yg}var uk={},ck;function Die(){if(ck)return uk;ck=1;var t=rr(),e=kn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),uk}var dk={},hk;function qie(){return hk||(hk=1,BK()),dk}var fk={},pk;function Mie(){return pk||(pk=1,zK()),fk}var mk={},vk;function Aie(){if(vk)return mk;vk=1;var t=vt();return t("metadata"),mk}var Qg,gk;function Fie(){if(gk)return Qg;gk=1;var t=KK();return Die(),qie(),Mie(),Aie(),Qg=t,Qg}var yk={},Xg,bk;function GK(){if(bk)return Xg;bk=1;var t=gn(),e=Xe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Xg=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Xg}var wk;function Lie(){if(wk)return yk;wk=1;var t=Oe(),e=GK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),yk}var xk={},Jg,_k;function YK(){if(_k)return Jg;_k=1;for(var t=wu(),e=gn(),r=Xe(),n=kd(),i=rr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return Jg=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},Jg}var Sk;function Bie(){if(Sk)return xk;Sk=1;var t=Oe(),e=YK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),xk}var Ek={},Ok;function zie(){if(Ok)return Ek;Ok=1;var t=vt();return t("customMatcher"),Ek}var Pk={},Ck;function Uie(){if(Ck)return Pk;Ck=1;var t=vt();return t("observable"),Pk}var Nk={},Tk;function Wie(){if(Tk)return Nk;Tk=1;var t=Oe(),e=GK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Nk}var Ik={},Rk;function Vie(){if(Rk)return Ik;Rk=1;var t=Oe(),e=YK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Ik}var jk={},$k;function Hie(){if($k)return jk;$k=1;var t=vt();return t("matcher"),jk}var kk={},Dk;function Kie(){if(Dk)return kk;Dk=1;var t=vt();return t("metadataKey"),kk}var qk={},Mk;function Gie(){if(Mk)return qk;Mk=1;var t=vt();return t("patternMatch"),qk}var Ak={},Fk;function Yie(){if(Fk)return Ak;Fk=1;var t=vt();return t("replaceAll"),Ak}var Zg,Lk;function Qie(){if(Lk)return Zg;Lk=1;var t=Fie();return Lie(),Bie(),zie(),Uie(),Wie(),Vie(),Hie(),Kie(),Gie(),Yie(),Zg=t,Zg}var ey,Bk;function Xie(){return Bk||(Bk=1,ey=Qie()),ey}var Jie=Xie(),kh=ke(Jie),zk={},ty,Uk;function Zie(){if(Uk)return ty;Uk=1;var t=Xe(),e=_u(),r=da(),n=So(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return ty={codeAt:o(!1),charAt:o(!0)},ty}var Wk;function Up(){if(Wk)return zk;Wk=1;var t=Zie().charAt,e=da(),r=Fd(),n=AN(),i=FN(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),zk}var ry,Vk;function ese(){if(Vk)return ry;Vk=1,ha(),Up(),UK();var t=zp();return ry=t.f("iterator"),ry}var ny,Hk;function QK(){if(Hk)return ny;Hk=1;var t=ese();return fa(),ny=t,ny}var iy,Kk;function tse(){if(Kk)return iy;Kk=1;var t=QK();return iy=t,iy}var sy,Gk;function rse(){if(Gk)return sy;Gk=1;var t=tse();return sy=t,sy}var ay,Yk;function nse(){return Yk||(Yk=1,ay=rse()),ay}var ise=nse(),sse=ke(ise);function Zc(t){"@babel/helpers - typeof";return Zc=typeof kh=="function"&&typeof sse=="symbol"?function(e){return typeof e}:function(e){return e&&typeof kh=="function"&&e.constructor===kh&&e!==kh.prototype?"symbol":typeof e},Zc(t)}var oy,Qk;function ase(){if(Qk)return oy;Qk=1,WK();var t=zp();return oy=t.f("toPrimitive"),oy}var ly,Xk;function ose(){if(Xk)return ly;Xk=1;var t=ase();return ly=t,ly}var uy,Jk;function lse(){if(Jk)return uy;Jk=1;var t=ose();return uy=t,uy}var cy,Zk;function use(){if(Zk)return cy;Zk=1;var t=lse();return cy=t,cy}var dy,eD;function cse(){return eD||(eD=1,dy=use()),dy}var dse=cse(),hse=ke(dse);function fse(t,e){if(Zc(t)!="object"||!t)return t;var r=t[hse];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function pse(t){var e=fse(t,"string");return Zc(e)=="symbol"?e:e+""}function Ks(t,e,r){return(e=pse(e))in t?eie(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var tD={},hy,rD;function mse(){if(rD)return hy;rD=1;var t=Xe(),e=os(),r=Mr(),n=tr(),i=Su(),s=Id(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return hy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},hy}var nD;function vse(){if(nD)return tD;nD=1;var t=Oe(),e=mse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),tD}var fy,iD;function rn(){if(iD)return fy;iD=1;var t=qt(),e=Ht();return fy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},fy}var py,sD;function gse(){if(sD)return py;sD=1,vse();var t=rn();return py=t("Function","bind"),py}var my,aD;function yse(){if(aD)return my;aD=1;var t=er(),e=gse(),r=Function.prototype;return my=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},my}var vy,oD;function bse(){if(oD)return vy;oD=1;var t=yse();return vy=t,vy}var gy,lD;function wse(){return lD||(lD=1,gy=bse()),gy}var xse=wse(),XK=ke(xse),uD={},yy,cD;function _se(){if(cD)return yy;cD=1;var t=os(),e=ni(),r=$p(),n=ua(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return yy={left:a(!1),right:a(!0)},yy}var by,dD;function Wp(){if(dD)return by;dD=1;var t=Ve();return by=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},by}var wy,hD;function JK(){if(hD)return wy;hD=1;var t=qt(),e=vu(),r=as(),n=function(i){return e.slice(0,i.length)===i};return wy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),wy}var xy,fD;function Sse(){if(fD)return xy;fD=1;var t=JK();return xy=t==="NODE",xy}var pD;function Ese(){if(pD)return uD;pD=1;var t=Oe(),e=_se().left,r=Wp(),n=$d(),i=Sse(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),uD}var _y,mD;function Ose(){if(mD)return _y;mD=1,Ese();var t=rn();return _y=t("Array","reduce"),_y}var Sy,vD;function Pse(){if(vD)return Sy;vD=1;var t=er(),e=Ose(),r=Array.prototype;return Sy=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},Sy}var Ey,gD;function Cse(){if(gD)return Ey;gD=1;var t=Pse();return Ey=t,Ey}var Oy,yD;function Nse(){return yD||(yD=1,Oy=Cse()),Oy}var Tse=Nse(),Ise=ke(Tse),bD={},wD;function Rse(){if(wD)return bD;wD=1;var t=Oe(),e=Eu().filter,r=Dd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),bD}var Py,xD;function jse(){if(xD)return Py;xD=1,Rse();var t=rn();return Py=t("Array","filter"),Py}var Cy,_D;function $se(){if(_D)return Cy;_D=1;var t=er(),e=jse(),r=Array.prototype;return Cy=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Cy}var Ny,SD;function kse(){if(SD)return Ny;SD=1;var t=$se();return Ny=t,Ny}var Ty,ED;function Dse(){return ED||(ED=1,Ty=kse()),Ty}var qse=Dse(),ll=ke(qse),OD={},PD;function Mse(){if(PD)return OD;PD=1;var t=Oe(),e=Eu().map,r=Dd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),OD}var Iy,CD;function Ase(){if(CD)return Iy;CD=1,Mse();var t=rn();return Iy=t("Array","map"),Iy}var Ry,ND;function Fse(){if(ND)return Ry;ND=1;var t=er(),e=Ase(),r=Array.prototype;return Ry=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Ry}var jy,TD;function Lse(){if(TD)return jy;TD=1;var t=Fse();return jy=t,jy}var $y,ID;function Bse(){return ID||(ID=1,$y=Lse()),$y}var zse=Bse(),Hn=ke(zse),ky,RD;function Use(){return RD||(RD=1,ky=KK()),ky}var Wse=Use(),Vse=ke(Wse),jD={},$D;function Hse(){if($D)return jD;$D=1;var t=Oe(),e=Eo(),r=$K(),n=Mr(),i=kN(),s=ua(),a=Si(),o=Mp(),l=rr(),u=Dd(),d=Su(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),jD}var Dy,kD;function Kse(){if(kD)return Dy;kD=1,Hse();var t=rn();return Dy=t("Array","slice"),Dy}var qy,DD;function Gse(){if(DD)return qy;DD=1;var t=er(),e=Kse(),r=Array.prototype;return qy=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},qy}var My,qD;function Yse(){if(qD)return My;qD=1;var t=Gse();return My=t,My}var Ay,MD;function Qse(){return MD||(MD=1,Ay=Yse()),Ay}var Xse=Qse(),Jse=ke(Xse),AD={},Fy,FD;function ZK(){if(FD)return Fy;FD=1;var t=gn(),e=Xe(),r=Lp(),n=Bp(),i=ls(),s=e([].concat);return Fy=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Fy}var LD;function Zse(){if(LD)return AD;LD=1;var t=Oe(),e=ZK();return t({target:"Reflect",stat:!0},{ownKeys:e}),AD}var Ly,BD;function eae(){if(BD)return Ly;BD=1,Zse();var t=Ht();return Ly=t.Reflect.ownKeys,Ly}var By,zD;function tae(){if(zD)return By;zD=1;var t=eae();return By=t,By}var zy,UD;function rae(){return UD||(UD=1,zy=tae()),zy}var nae=rae(),iae=ke(nae),WD={},VD;function sae(){if(VD)return WD;VD=1;var t=Oe(),e=Eo();return t({target:"Array",stat:!0},{isArray:e}),WD}var Uy,HD;function aae(){if(HD)return Uy;HD=1,sae();var t=Ht();return Uy=t.Array.isArray,Uy}var Wy,KD;function oae(){if(KD)return Wy;KD=1;var t=aae();return Wy=t,Wy}var Vy,GD;function lae(){return GD||(GD=1,Vy=oae()),Vy}var uae=lae(),ui=ke(uae),YD={},QD;function cae(){if(QD)return YD;QD=1;var t=Oe(),e=ni(),r=Ap(),n=Ve(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),YD}var Hy,XD;function dae(){if(XD)return Hy;XD=1,cae();var t=Ht();return Hy=t.Object.keys,Hy}var Ky,JD;function hae(){if(JD)return Ky;JD=1;var t=dae();return Ky=t,Ky}var Gy,ZD;function fae(){return ZD||(ZD=1,Gy=hae()),Gy}var pae=fae(),LN=ke(pae),eq={},Yy,tq;function mae(){if(tq)return Yy;tq=1;var t=Eu().forEach,e=Wp(),r=e("forEach");return Yy=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Yy}var rq;function vae(){if(rq)return eq;rq=1;var t=Oe(),e=mae();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),eq}var Qy,nq;function gae(){if(nq)return Qy;nq=1,vae();var t=rn();return Qy=t("Array","forEach"),Qy}var Xy,iq;function yae(){if(iq)return Xy;iq=1;var t=gae();return Xy=t,Xy}var Jy,sq;function bae(){if(sq)return Jy;sq=1;var t=ca(),e=tr(),r=er(),n=yae(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Jy=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Jy}var Zy,aq;function wae(){return aq||(aq=1,Zy=bae()),Zy}var xae=wae(),ho=ke(xae),oq={},lq;function _ae(){if(lq)return oq;lq=1;var t=Oe(),e=Xe(),r=Eo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),oq}var eb,uq;function Sae(){if(uq)return eb;uq=1,_ae();var t=rn();return eb=t("Array","reverse"),eb}var tb,cq;function Eae(){if(cq)return tb;cq=1;var t=er(),e=Sae(),r=Array.prototype;return tb=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},tb}var rb,dq;function Oae(){if(dq)return rb;dq=1;var t=Eae();return rb=t,rb}var nb,hq;function Pae(){return hq||(hq=1,nb=Oae()),nb}var Cae=Pae(),Nae=ke(Cae),fq={},ib,pq;function Tae(){if(pq)return ib;pq=1;var t=Mt(),e=Eo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return ib=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},ib}var sb,mq;function e9(){if(mq)return sb;mq=1;var t=yu(),e=TypeError;return sb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},sb}var vq;function Iae(){if(vq)return fq;vq=1;var t=Oe(),e=ni(),r=kN(),n=_u(),i=ua(),s=Tae(),a=jK(),o=$N(),l=Mp(),u=e9(),d=Dd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),fq}var ab,gq;function Rae(){if(gq)return ab;gq=1,Iae();var t=rn();return ab=t("Array","splice"),ab}var ob,yq;function jae(){if(yq)return ob;yq=1;var t=er(),e=Rae(),r=Array.prototype;return ob=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},ob}var lb,bq;function $ae(){if(bq)return lb;bq=1;var t=jae();return lb=t,lb}var ub,wq;function kae(){return wq||(wq=1,ub=$ae()),ub}var Dae=kae(),t9=ke(Dae),xq={},cb,_q;function qae(){if(_q)return cb;_q=1;var t=Mt(),e=Xe(),r=tn(),n=Ve(),i=Ap(),s=Bp(),a=NN(),o=ni(),l=$p(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return cb=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,cb}var Sq;function Mae(){if(Sq)return xq;Sq=1;var t=Oe(),e=qae();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),xq}var db,Eq;function Aae(){if(Eq)return db;Eq=1,Mae();var t=Ht();return db=t.Object.assign,db}var hb,Oq;function Fae(){if(Oq)return hb;Oq=1;var t=Aae();return hb=t,hb}var fb,Pq;function Lae(){return Pq||(Pq=1,fb=Fae()),fb}var Bae=Lae(),zae=ke(Bae),pb,Cq;function Uae(){if(Cq)return pb;Cq=1,kK();var t=rn();return pb=t("Array","concat"),pb}var mb,Nq;function Wae(){if(Nq)return mb;Nq=1;var t=er(),e=Uae(),r=Array.prototype;return mb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},mb}var vb,Tq;function Vae(){if(Tq)return vb;Tq=1;var t=Wae();return vb=t,vb}var gb,Iq;function Hae(){return Iq||(Iq=1,gb=Vae()),gb}var Kae=Hae(),Gae=ke(Kae),Rq={},jq;function Yae(){if(jq)return Rq;jq=1;var t=Oe(),e=Mt(),r=Md();return t({target:"Object",stat:!0,sham:!e},{create:r}),Rq}var yb,$q;function Qae(){if($q)return yb;$q=1,Yae();var t=Ht(),e=t.Object;return yb=function(n,i){return e.create(n,i)},yb}var bb,kq;function Xae(){if(kq)return bb;kq=1;var t=Qae();return bb=t,bb}var wb,Dq;function Jae(){return Dq||(Dq=1,wb=Xae()),wb}var Zae=Jae(),eoe=ke(Zae),qq={},xb,Mq;function toe(){if(Mq)return xb;Mq=1;var t=_u(),e=da(),r=So(),n=RangeError;return xb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},xb}var _b,Aq;function roe(){if(Aq)return _b;Aq=1;var t=Xe(),e=RK(),r=da(),n=toe(),i=So(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return _b={start:l(!1),end:l(!0)},_b}var Sb,Fq;function noe(){if(Fq)return Sb;Fq=1;var t=Xe(),e=Ve(),r=roe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return Sb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,Sb}var Lq;function ioe(){if(Lq)return qq;Lq=1;var t=Oe(),e=tn(),r=ni(),n=PK(),i=noe(),s=as(),a=Ve(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),qq}var Eb,Bq;function soe(){if(Bq)return Eb;Bq=1,ioe(),FK();var t=Ht(),e=jp();return t.JSON||(t.JSON={stringify:JSON.stringify}),Eb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Eb}var Ob,zq;function aoe(){if(zq)return Ob;zq=1;var t=soe();return Ob=t,Ob}var Pb,Uq;function ooe(){return Uq||(Uq=1,Pb=aoe()),Pb}var loe=ooe(),uoe=ke(loe),Wq={},Vq={},Cb,Hq;function coe(){if(Hq)return Cb;Hq=1;var t=TypeError;return Cb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Cb}var Nb,Kq;function r9(){if(Kq)return Nb;Kq=1;var t=qt(),e=jp(),r=Zt(),n=JK(),i=vu(),s=Su(),a=coe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Nb=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},Nb}var Gq;function doe(){if(Gq)return Vq;Gq=1;var t=Oe(),e=qt(),r=r9(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Vq}var Yq={},Qq;function hoe(){if(Qq)return Yq;Qq=1;var t=Oe(),e=qt(),r=r9(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Yq}var Xq;function foe(){return Xq||(Xq=1,doe(),hoe()),Wq}var Tb,Jq;function poe(){if(Jq)return Tb;Jq=1,foe();var t=Ht();return Tb=t.setTimeout,Tb}var Ib,Zq;function moe(){return Zq||(Zq=1,Ib=poe()),Ib}var voe=moe(),goe=ke(voe),Rb={exports:{}},eM;function yoe(){return eM||(eM=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Rb)),Rb.exports}var boe=yoe(),woe=ke(boe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ei(){return ei=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ei.apply(this,arguments)}function Dn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Dh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var KP;typeof Object.assign!="function"?KP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:KP=Object.assign;var fo=KP,tM=["","webkit","Moz","MS","ms","o"],xoe=typeof document>"u"?{style:{}}:document.createElement("div"),_oe="function",ul=Math.round,po=Math.abs,BN=Date.now;function Vp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<tM.length;){if(r=tM[s],n=r?r+i:e,n in t)return n;s++}}var Bi;typeof window>"u"?Bi={}:Bi=window;var n9=Vp(xoe.style,"touchAction"),i9=n9!==void 0;function Soe(){if(!i9)return!1;var t={},e=Bi.CSS&&Bi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Bi.CSS.supports("touch-action",r):!0}),t}var s9="compute",a9="auto",GP="manipulation",Ha="none",ed="pan-x",td="pan-y",qh=Soe(),Eoe=/mobile|tablet|ip(ad|hone|od)|android/i,o9="ontouchstart"in Bi,Ooe=Vp(Bi,"PointerEvent")!==void 0,Poe=o9&&Eoe.test(navigator.userAgent),Ld="touch",Coe="pen",zN="mouse",Noe="kinect",Toe=25,$r=1,Po=2,$t=4,Jr=8,Vf=1,Bd=2,zd=4,Ud=8,Jl=16,xi=Bd|zd,Ka=Ud|Jl,l9=xi|Ka,u9=["x","y"],Hf=["clientX","clientY"];function zi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Hp(t,e){return typeof t===_oe?t.apply(e&&e[0]||void 0,e):t}function Ta(t,e){return t.indexOf(e)>-1}function Ioe(t){if(Ta(t,Ha))return Ha;var e=Ta(t,ed),r=Ta(t,td);return e&&r?Ha:e||r?e?ed:td:Ta(t,GP)?GP:a9}var c9=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===s9&&(n=this.compute()),i9&&this.manager.element.style&&qh[n]&&(this.manager.element.style[n9]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return zi(this.manager.recognizers,function(i){Hp(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Ioe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ta(a,Ha)&&!qh[Ha],l=Ta(a,td)&&!qh[td],u=Ta(a,ed)&&!qh[ed];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&xi||u&&s&Ka))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function UN(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function d9(t){var e=t.length;if(e===1)return{x:ul(t[0].clientX),y:ul(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:ul(r/e),y:ul(n/e)}}function rM(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ul(t.pointers[r].clientX),clientY:ul(t.pointers[r].clientY)},r++;return{timeStamp:BN(),pointers:e,center:d9(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Kf(t,e,r){r||(r=u9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function YP(t,e,r){r||(r=u9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function h9(t,e){return t===e?Vf:po(t)>=po(e)?t<0?Bd:zd:e<0?Ud:Jl}function Roe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===$r||s.eventType===$t)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function f9(t,e,r){return{x:e/t||0,y:r/t||0}}function joe(t,e){return Kf(e[0],e[1],Hf)/Kf(t[0],t[1],Hf)}function $oe(t,e){return YP(e[1],e[0],Hf)+YP(t[1],t[0],Hf)}function koe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Jr&&(n>Toe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=f9(n,l,u);s=d.x,a=d.y,i=po(d.x)>po(d.y)?d.x:d.y,o=h9(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Doe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=rM(e)),i>1&&!r.firstMultiple?r.firstMultiple=rM(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=d9(n);e.timeStamp=BN(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=YP(o,l),e.distance=Kf(o,l),Roe(r,e),e.offsetDirection=h9(e.deltaX,e.deltaY);var u=f9(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=po(u.x)>po(u.y)?u.x:u.y,e.scale=a?joe(a.pointers,n):1,e.rotation=a?$oe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,koe(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,UN(f,d)&&(d=f),e.target=d}function qoe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&$r&&n-i===0,a=e&($t|Jr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Doe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function rd(t){return t.trim().split(/\s+/g)}function Sc(t,e,r){zi(rd(e),function(n){t.addEventListener(n,r,!1)})}function Ec(t,e,r){zi(rd(e),function(n){t.removeEventListener(n,r,!1)})}function nM(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Pu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Hp(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Sc(this.element,this.evEl,this.domHandler),this.evTarget&&Sc(this.target,this.evTarget,this.domHandler),this.evWin&&Sc(nM(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Ec(this.element,this.evEl,this.domHandler),this.evTarget&&Ec(this.target,this.evTarget,this.domHandler),this.evWin&&Ec(nM(this.element),this.evWin,this.domHandler)},t}();function mo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Moe={pointerdown:$r,pointermove:Po,pointerup:$t,pointercancel:Jr,pointerout:Jr},Aoe={2:Ld,3:Coe,4:zN,5:Noe},p9="pointerdown",m9="pointermove pointerup pointercancel";Bi.MSPointerEvent&&!Bi.PointerEvent&&(p9="MSPointerDown",m9="MSPointerMove MSPointerUp MSPointerCancel");var v9=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=p9,i.evWin=m9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Moe[o],u=Aoe[i.pointerType]||i.pointerType,d=u===Ld,h=mo(s,i.pointerId,"pointerId");l&$r&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&($t|Jr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Pu);function nd(t){return Array.prototype.slice.call(t,0)}function WN(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];mo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Foe={touchstart:$r,touchmove:Po,touchend:$t,touchcancel:Jr},Loe="touchstart touchmove touchend touchcancel",VN=function(t){Dn(e,t);function e(){var n;return e.prototype.evTarget=Loe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Foe[i.type],a=Boe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ld,srcEvent:i})},e}(Pu);function Boe(t,e){var r=nd(t.touches),n=this.targetIds;if(e&($r|Po)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=nd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return UN(u.target,l)}),e===$r)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&($t|Jr)&&delete n[a[i].identifier],i++;if(o.length)return[WN(s.concat(o),"identifier",!0),o]}var zoe={mousedown:$r,mousemove:Po,mouseup:$t},Uoe="mousedown",Woe="mousemove mouseup",HN=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evEl=Uoe,i.evWin=Woe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=zoe[i.type];s&$r&&i.button===0&&(this.pressed=!0),s&Po&&i.which!==1&&(s=$t),this.pressed&&(s&$t&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:zN,srcEvent:i}))},e}(Pu),Voe=2500,iM=25;function sM(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Voe)}}function Hoe(t,e){t&$r?(this.primaryTouch=e.changedPointers[0].identifier,sM.call(this,e)):t&($t|Jr)&&sM.call(this,e)}function Koe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=iM&&a<=iM)return!0}return!1}var g9=function(){var t=function(e){Dn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===Ld,h=u.pointerType===zN;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)Hoe.call(Dh(Dh(a)),l,u);else if(h&&Koe.call(Dh(Dh(a)),u))return;a.callback(o,l,u)}},a.touch=new VN(a.manager,a.handler),a.mouse=new HN(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Pu);return t}();function Goe(t){var e,r=t.options.inputClass;return r?e=r:Ooe?e=v9:Poe?e=VN:o9?e=g9:e=HN,new e(t,qoe)}function cl(t,e,r){return Array.isArray(t)?(zi(t,r[e],r),!0):!1}var af=1,Tn=2,Zl=4,Gs=8,Ui=Gs,id=16,vi=32,Yoe=1;function Qoe(){return Yoe++}function Mh(t,e){var r=e.manager;return r?r.get(t):t}function aM(t){return t&id?"cancel":t&Gs?"end":t&Zl?"move":t&Tn?"start":""}var Wd=function(){function t(r){r===void 0&&(r={}),this.options=ei({enable:!0},r),this.id=Qoe(),this.manager=null,this.state=af,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return fo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(cl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Mh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return cl(n,"dropRecognizeWith",this)?this:(n=Mh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(cl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Mh(n,this),mo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(cl(n,"dropRequireFailure",this))return this;n=Mh(n,this);var i=mo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Gs&&a(i.options.event+aM(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Gs&&a(i.options.event+aM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=vi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(vi|af)))return!1;n++}return!0},e.recognize=function(n){var i=fo({},n);if(!Hp(this.options.enable,[this,i])){this.reset(),this.state=vi;return}this.state&(Ui|id|vi)&&(this.state=af),this.state=this.process(i),this.state&(Tn|Zl|Gs|id)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),QP=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ei({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[GP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&$r&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==$t)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Kf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ui,s.tryEmit()},a.interval),Tn):Ui}return vi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=vi},this.options.interval),vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Ui&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Wd),eu=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ei({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Tn|Zl),l=this.attrTest(i);return o&&(a&Jr||!l)?s|id:o||l?a&$t?s|Gs:s&Tn?s|Zl:Tn:vi},e}(Wd);function y9(t){return t===Jl?"down":t===Ud?"up":t===Bd?"left":t===zd?"right":""}var KN=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ei({event:"pan",threshold:10,pointers:1,direction:l9},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&xi&&s.push(td),i&Ka&&s.push(ed),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&xi?(l=u===0?Vf:u<0?Bd:zd,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Vf:d<0?Ud:Jl,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return eu.prototype.attrTest.call(this,i)&&(this.state&Tn||!(this.state&Tn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=y9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(eu),b9=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ei({event:"swipe",threshold:10,velocity:.3,direction:xi|Ka,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return KN.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(xi|Ka)?a=i.overallVelocity:s&xi?a=i.overallVelocityX:s&Ka&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&po(a)>this.options.velocity&&i.eventType&$t},r.emit=function(i){var s=y9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(eu),w9=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ei({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ha]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Tn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(eu),x9=function(t){Dn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ei({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Ha]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Tn)},e}(eu),_9=function(t){Dn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ei({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[a9]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&($t|Jr)&&!u)this.reset();else if(i.eventType&$r)this.reset(),this._timer=setTimeout(function(){s.state=Ui,s.tryEmit()},a.time);else if(i.eventType&$t)return Ui;return vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Ui&&(i&&i.eventType&$t?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=BN(),this.manager.emit(this.options.event,this._input)))},e}(Wd),S9={domEvents:!1,touchAction:s9,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},oM=[[x9,{enable:!1}],[w9,{enable:!1},["rotate"]],[b9,{direction:xi}],[KN,{direction:xi},["swipe"]],[QP],[QP,{event:"doubletap",taps:2},["tap"]],[_9]],Xoe=1,lM=2;function uM(t,e){var r=t.element;if(r.style){var n;zi(t.options.cssProps,function(i,s){n=Vp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Joe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var cM=function(){function t(r,n){var i=this;this.options=fo({},S9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Goe(this),this.touchAction=new c9(this,this.options.touchAction),uM(this,!0),zi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return fo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?lM:Xoe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Ui)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==lM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Tn|Zl|Gs)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof Wd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(cl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(cl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=mo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return zi(rd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return zi(rd(n),function(a){i?s[a]&&s[a].splice(mo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Joe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&uM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Zoe={touchstart:$r,touchmove:Po,touchend:$t,touchcancel:Jr},ele="touchstart",tle="touchstart touchmove touchend touchcancel",rle=function(t){Dn(e,t);function e(){var n,i=e.prototype;return i.evTarget=ele,i.evWin=tle,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Zoe[i.type];if(s===$r&&(this.started=!0),!!this.started){var a=nle.call(this,i,s);s&($t|Jr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ld,srcEvent:i})}},e}(Pu);function nle(t,e){var r=nd(t.touches),n=nd(t.changedTouches);return e&($t|Jr)&&(r=WN(r.concat(n),"identifier",!0)),[r,n]}function E9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var O9=E9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),ile=E9(function(t,e){return O9(t,e,!0)},"merge","Use `assign`.");function sle(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&fo(i,r)}function dM(t,e){return function(){return t.apply(e,arguments)}}var ale=function(){var t=function(r,n){return n===void 0&&(n={}),new cM(r,ei({recognizers:oM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=l9,t.DIRECTION_DOWN=Jl,t.DIRECTION_LEFT=Bd,t.DIRECTION_RIGHT=zd,t.DIRECTION_UP=Ud,t.DIRECTION_HORIZONTAL=xi,t.DIRECTION_VERTICAL=Ka,t.DIRECTION_NONE=Vf,t.DIRECTION_DOWN=Jl,t.INPUT_START=$r,t.INPUT_MOVE=Po,t.INPUT_END=$t,t.INPUT_CANCEL=Jr,t.STATE_POSSIBLE=af,t.STATE_BEGAN=Tn,t.STATE_CHANGED=Zl,t.STATE_ENDED=Gs,t.STATE_RECOGNIZED=Ui,t.STATE_CANCELLED=id,t.STATE_FAILED=vi,t.Manager=cM,t.Input=Pu,t.TouchAction=c9,t.TouchInput=VN,t.MouseInput=HN,t.PointerEventInput=v9,t.TouchMouseInput=g9,t.SingleTouchInput=rle,t.Recognizer=Wd,t.AttrRecognizer=eu,t.Tap=QP,t.Pan=KN,t.Swipe=b9,t.Pinch=w9,t.Rotate=x9,t.Press=_9,t.on=Sc,t.off=Ec,t.each=zi,t.merge=ile,t.extend=O9,t.bindFn=dM,t.assign=fo,t.inherit=sle,t.bindFn=dM,t.prefixed=Vp,t.toArray=nd,t.inArray=mo,t.uniqueArray=WN,t.splitStr=rd,t.boolOrFn=Hp,t.hasParent=UN,t.addEventListeners=Sc,t.removeEventListeners=Ec,t.defaults=fo({},S9,{preset:oM}),t}();const P9=Vse("DELETE");function ole(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return C9({},t,...r)}function C9(){const t=Gf(...arguments);return T9(t),t}function Gf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Gf(C9(e[0],e[1]),...Jse(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of iae(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===P9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!ui(n[s])&&!ui(i[s])?n[s]=Gf(n[s],i[s]):n[s]=N9(i[s]));return n}function N9(t){return ui(t)?Hn(t).call(t,e=>N9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Gf({},t):t}function T9(t){for(const e of LN(t))t[e]===P9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&T9(t[e])}function lle(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const ule=typeof window<"u"?window.Hammer||ale:function(){return lle()};function Mi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=ule(this._dom.overlay);r.on("tap",XK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ho(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{cle(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}woe(Mi.prototype);Mi.current=null;Mi.prototype.destroy=function(){this.deactivate();for(const r of Nae(t=t9(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Mi.prototype.activate=function(){Mi.current&&Mi.current.deactivate(),Mi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Mi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Mi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function cle(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var jb,hM;function dle(){if(hM)return jb;hM=1,LK();var t=Ht();return jb=t.Object.getOwnPropertySymbols,jb}var $b,fM;function hle(){if(fM)return $b;fM=1;var t=dle();return $b=t,$b}var kb,pM;function fle(){return pM||(pM=1,kb=hle()),kb}var ple=fle(),mM=ke(ple),Db={exports:{}},vM={},gM;function mle(){if(gM)return vM;gM=1;var t=Oe(),e=Ve(),r=Si(),n=Dp().f,i=Mt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),vM}var yM;function vle(){if(yM)return Db.exports;yM=1,mle();var t=Ht(),e=t.Object,r=Db.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Db.exports}var qb,bM;function gle(){if(bM)return qb;bM=1;var t=vle();return qb=t,qb}var Mb,wM;function yle(){return wM||(wM=1,Mb=gle()),Mb}var ble=yle(),I9=ke(ble),xM={},_M;function wle(){if(_M)return xM;_M=1;var t=Oe(),e=Mt(),r=ZK(),n=Si(),i=Dp(),s=Mp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),xM}var Ab,SM;function xle(){if(SM)return Ab;SM=1,wle();var t=Ht();return Ab=t.Object.getOwnPropertyDescriptors,Ab}var Fb,EM;function _le(){if(EM)return Fb;EM=1;var t=xle();return Fb=t,Fb}var Lb,OM;function Sle(){return OM||(OM=1,Lb=_le()),Lb}var Ele=Sle(),PM=ke(Ele),Bb={exports:{}},CM={},NM;function Ole(){if(NM)return CM;NM=1;var t=Oe(),e=Mt(),r=qN().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),CM}var TM;function Ple(){if(TM)return Bb.exports;TM=1,Ole();var t=Ht(),e=t.Object,r=Bb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Bb.exports}var zb,IM;function Cle(){if(IM)return zb;IM=1;var t=Ple();return zb=t,zb}var Ub,RM;function Nle(){return RM||(RM=1,Ub=Cle()),Ub}var Tle=Nle(),Ile=ke(Tle),Wb,jM;function Rle(){return jM||(jM=1,Wb=IK()),Wb}var jle=Rle(),$le=ke(jle),$M={},kM={},Vb={exports:{}},Hb,DM;function kle(){if(DM)return Hb;DM=1;var t=Ve();return Hb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Hb}var Kb,qM;function Dle(){if(qM)return Kb;qM=1;var t=Ve(),e=Mr(),r=as(),n=kle(),i=Object.isExtensible,s=t(function(){});return Kb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Kb}var Gb,MM;function qle(){if(MM)return Gb;MM=1;var t=Ve();return Gb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Gb}var AM;function R9(){if(AM)return Vb.exports;AM=1;var t=Oe(),e=Xe(),r=qd(),n=Mr(),i=tr(),s=kn().f,a=Lp(),o=qK(),l=Dle(),u=kp(),d=qle(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=Vb.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,Vb.exports}var Yb,FM;function Mle(){if(FM)return Yb;FM=1;var t=rr(),e=Ou(),r=t("iterator"),n=Array.prototype;return Yb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Yb}var Qb,LM;function j9(){if(LM)return Qb;LM=1;var t=ca(),e=TN(),r=jd(),n=Ou(),i=rr(),s=i("iterator");return Qb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Qb}var Xb,BM;function $9(){if(BM)return Xb;BM=1;var t=tn(),e=os(),r=ls(),n=yu(),i=j9(),s=TypeError;return Xb=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Xb}var Jb,zM;function GN(){if(zM)return Jb;zM=1;var t=tn(),e=ls(),r=TN();return Jb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},Jb}var Zb,UM;function YN(){if(UM)return Zb;UM=1;var t=qp(),e=tn(),r=ls(),n=yu(),i=Mle(),s=ua(),a=er(),o=$9(),l=j9(),u=GN(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Zb=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,N,T=function(z){return E&&u(E,"normal"),new h(!0,z)},q=function(z){return g?(r(z),w?_(z[0],z[1],T):_(z[0],z[1])):w?_(z,T):_(z)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(N=e(I,E)).done;){try{C=q(N.value)}catch(z){u(E,"throw",z)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},Zb}var e0,WM;function k9(){if(WM)return e0;WM=1;var t=er(),e=TypeError;return e0=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},e0}var t0,VM;function D9(){if(VM)return t0;VM=1;var t=Oe(),e=qt(),r=R9(),n=Ve(),i=xu(),s=YN(),a=k9(),o=Zt(),l=Mr(),u=jd(),d=Oo(),h=kn().f,f=Eu().forEach,p=Mt(),m=Fd(),y=m.set,b=m.getterFor;return t0=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=C.prototype,N=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(z,te){var K=N(this).collection;if(!q&&_&&!l(z))return T==="get"?void 0:!1;var L=K[T](z===0?0:z,te);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},t0}var r0,HM;function Ale(){if(HM)return r0;HM=1;var t=Ad();return r0=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},r0}var n0,KM;function Fle(){if(KM)return n0;KM=1;var t=gn(),e=MN(),r=rr(),n=Mt(),i=r("species");return n0=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},n0}var i0,GM;function q9(){if(GM)return i0;GM=1;var t=Md(),e=MN(),r=Ale(),n=qp(),i=k9(),s=jd(),a=YN(),o=AN(),l=FN(),u=Fle(),d=Mt(),h=R9().fastKey,f=Fd(),p=f.set,m=f.getterFor;return i0={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),N=O(S,P),T,q;return N?N.value=C:(I.last=N={index:q=h(P,!0),key:P,value:C,previous:T=I.last,next:null,removed:!1},I.first||(I.first=N),T&&(T.next=N),d?I.size++:S.size++,q!=="F"&&(I.index[q]=N)),S},O=function(S,P){var C=_(S),I=h(P),N;if(I!=="F")return C.index[I];for(N=C.first;N;N=N.next)if(N.key===P)return N};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var N=I.next,T=I.previous;delete C.index[I.index],I.removed=!0,T&&(T.next=N),N&&(N.previous=T),C.first===I&&(C.first=N),C.last===I&&(C.last=T),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:C.first;)for(I(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},i0}var YM;function Lle(){if(YM)return kM;YM=1;var t=D9(),e=q9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),kM}var QM;function Ble(){return QM||(QM=1,Lle()),$M}var XM={},s0,JM;function M9(){return JM||(JM=1,s0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),s0}var a0,ZM;function zle(){if(ZM)return a0;ZM=1;var t=gn(),e=M9(),r=t("Map");return a0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},a0}var eA;function Ule(){if(eA)return XM;eA=1;var t=Oe(),e=Xe(),r=os(),n=So(),i=YN(),s=zle(),a=bu(),o=Ve(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),XM}var o0,tA;function Wle(){if(tA)return o0;tA=1,ha(),Ble(),Ule(),Up();var t=Ht();return o0=t.Map,o0}var l0,rA;function Vle(){if(rA)return l0;rA=1;var t=Wle();return fa(),l0=t,l0}var u0,nA;function Hle(){return nA||(nA=1,u0=Vle()),u0}var Kle=Hle(),A9=ke(Kle),iA={},sA;function Gle(){if(sA)return iA;sA=1;var t=Oe(),e=Eu().some,r=Wp(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),iA}var c0,aA;function Yle(){if(aA)return c0;aA=1,Gle();var t=rn();return c0=t("Array","some"),c0}var d0,oA;function Qle(){if(oA)return d0;oA=1;var t=er(),e=Yle(),r=Array.prototype;return d0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},d0}var h0,lA;function Xle(){if(lA)return h0;lA=1;var t=Qle();return h0=t,h0}var f0,uA;function Jle(){return uA||(uA=1,f0=Xle()),f0}var Zle=Jle(),eue=ke(Zle),p0,cA;function tue(){if(cA)return p0;cA=1,ha();var t=rn();return p0=t("Array","keys"),p0}var m0,dA;function rue(){if(dA)return m0;dA=1;var t=tue();return m0=t,m0}var v0,hA;function nue(){if(hA)return v0;hA=1,fa();var t=ca(),e=tr(),r=er(),n=rue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return v0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},v0}var g0,fA;function iue(){return fA||(fA=1,g0=nue()),g0}var sue=iue(),Ho=ke(sue),pA={},y0,mA;function aue(){if(mA)return y0;mA=1;var t=Su(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return y0=r,y0}var b0,vA;function oue(){if(vA)return b0;vA=1;var t=vu(),e=t.match(/firefox\/(\d+)/i);return b0=!!e&&+e[1],b0}var w0,gA;function lue(){if(gA)return w0;gA=1;var t=vu();return w0=/MSIE|Trident/.test(t),w0}var x0,yA;function uue(){if(yA)return x0;yA=1;var t=vu(),e=t.match(/AppleWebKit\/(\d+)\./);return x0=!!e&&+e[1],x0}var bA;function cue(){if(bA)return pA;bA=1;var t=Oe(),e=Xe(),r=os(),n=ni(),i=ua(),s=e9(),a=da(),o=Ve(),l=aue(),u=Wp(),d=oue(),h=lue(),f=$d(),p=uue(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(N,T){return T.v-N.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),N,T;for(T=0;T<I;T++)T in P&&b(C,P[T]);for(l(C,E(S)),N=i(C),T=0;T<N;)P[T]=C[T++];for(;T<I;)s(P,T++);return P}}),pA}var _0,wA;function due(){if(wA)return _0;wA=1,cue();var t=rn();return _0=t("Array","sort"),_0}var S0,xA;function hue(){if(xA)return S0;xA=1;var t=er(),e=due(),r=Array.prototype;return S0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},S0}var E0,_A;function fue(){if(_A)return E0;_A=1;var t=hue();return E0=t,E0}var O0,SA;function pue(){return SA||(SA=1,O0=fue()),O0}var mue=pue(),XP=ke(mue),P0,EA;function vue(){if(EA)return P0;EA=1,ha();var t=rn();return P0=t("Array","values"),P0}var C0,OA;function gue(){if(OA)return C0;OA=1;var t=vue();return C0=t,C0}var N0,PA;function yue(){if(PA)return N0;PA=1,fa();var t=ca(),e=tr(),r=er(),n=gue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return N0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},N0}var T0,CA;function bue(){return CA||(CA=1,T0=yue()),T0}var wue=bue(),NA=ke(wue),I0,TA;function xue(){return TA||(TA=1,I0=QK()),I0}var _ue=xue(),dl=ke(_ue),R0,IA;function Sue(){if(IA)return R0;IA=1,ha();var t=rn();return R0=t("Array","entries"),R0}var j0,RA;function Eue(){if(RA)return j0;RA=1;var t=Sue();return j0=t,j0}var $0,jA;function Oue(){if(jA)return $0;jA=1,fa();var t=ca(),e=tr(),r=er(),n=Eue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return $0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},$0}var k0,$A;function Pue(){return $A||($A=1,k0=Oue()),k0}var Cue=Pue(),Nue=ke(Cue);const or=[];for(let t=0;t<256;++t)or.push((t+256).toString(16).slice(1));function Tue(t,e=0){return(or[t[e+0]]+or[t[e+1]]+or[t[e+2]]+or[t[e+3]]+"-"+or[t[e+4]]+or[t[e+5]]+"-"+or[t[e+6]]+or[t[e+7]]+"-"+or[t[e+8]]+or[t[e+9]]+"-"+or[t[e+10]]+or[t[e+11]]+or[t[e+12]]+or[t[e+13]]+or[t[e+14]]+or[t[e+15]]).toLowerCase()}let D0;const Iue=new Uint8Array(16);function Rue(){if(!D0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");D0=crypto.getRandomValues.bind(crypto)}return D0(Iue)}const jue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var kA={randomUUID:jue};function $ue(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Rue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Tue(n)}function kue(t,e,r){return kA.randomUUID&&!t?kA.randomUUID():$ue(t)}function DA(t){return typeof t=="string"||typeof t=="number"}class QN{constructor(e){Ks(this,"_queue",[]),Ks(this,"_timeout",null),Ks(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new QN(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=goe(()=>{this.flush()},this.delay))}flush(){var e,r;ho(e=t9(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Yf{constructor(){Ks(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Ks(this,"subscribe",Yf.prototype.on),Ks(this,"unsubscribe",Yf.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");ho(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=ll(n=this._subscribers[e]).call(n,i=>i!==r)}}var qA={},MA={},AA;function Due(){if(AA)return MA;AA=1;var t=D9(),e=q9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),MA}var FA;function que(){return FA||(FA=1,Due()),qA}var LA={},q0,BA;function Co(){if(BA)return q0;BA=1;var t=yu(),e=TypeError;return q0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},q0}var M0,zA;function No(){if(zA)return M0;zA=1;var t=gn(),e=M9(),r=t("Set"),n=r.prototype;return M0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},M0}var A0,UA;function To(){if(UA)return A0;UA=1;var t=tn();return A0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},A0}var F0,WA;function Vd(){if(WA)return F0;WA=1;var t=To();return F0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},F0}var L0,VA;function XN(){if(VA)return L0;VA=1;var t=No(),e=Vd(),r=t.Set,n=t.add;return L0=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},L0}var B0,HA;function Hd(){return HA||(HA=1,B0=function(t){return t.size}),B0}var z0,KA;function Mue(){return KA||(KA=1,z0=function(t){return{iterator:t,next:t.next,done:!1}}),z0}var U0,GA;function Io(){if(GA)return U0;GA=1;var t=os(),e=ls(),r=tn(),n=_u(),i=Mue(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},U0=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},U0}var W0,YA;function Aue(){if(YA)return W0;YA=1;var t=Co(),e=No(),r=XN(),n=Hd(),i=Io(),s=Vd(),a=To(),o=e.has,l=e.remove;return W0=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},W0}var V0,QA;function Ro(){return QA||(QA=1,V0=function(){return!1}),V0}var XA;function Fue(){if(XA)return LA;XA=1;var t=Oe(),e=Aue(),r=Ve(),n=Ro(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),LA}var JA={},H0,ZA;function Lue(){if(ZA)return H0;ZA=1;var t=Co(),e=No(),r=Hd(),n=Io(),i=Vd(),s=To(),a=e.Set,o=e.add,l=e.has;return H0=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},H0}var eF;function Bue(){if(eF)return JA;eF=1;var t=Oe(),e=Ve(),r=Lue(),n=Ro(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),JA}var tF={},K0,rF;function zue(){if(rF)return K0;rF=1;var t=Co(),e=No().has,r=Hd(),n=Io(),i=Vd(),s=To(),a=GN();return K0=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},K0}var nF;function Uue(){if(nF)return tF;nF=1;var t=Oe(),e=zue(),r=Ro(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),tF}var iF={},G0,sF;function Wue(){if(sF)return G0;sF=1;var t=Co(),e=Hd(),r=Vd(),n=Io();return G0=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},G0}var aF;function Vue(){if(aF)return iF;aF=1;var t=Oe(),e=Wue(),r=Ro(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),iF}var oF={},Y0,lF;function Hue(){if(lF)return Y0;lF=1;var t=Co(),e=No().has,r=Hd(),n=Io(),i=To(),s=GN();return Y0=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},Y0}var uF;function Kue(){if(uF)return oF;uF=1;var t=Oe(),e=Hue(),r=Ro(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),oF}var cF={},Q0,dF;function Gue(){if(dF)return Q0;dF=1;var t=Co(),e=No(),r=XN(),n=Io(),i=To(),s=e.add,a=e.has,o=e.remove;return Q0=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},Q0}var X0,hF;function F9(){return hF||(hF=1,X0=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),X0}var fF;function Yue(){if(fF)return cF;fF=1;var t=Oe(),e=Gue(),r=F9(),n=Ro(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),cF}var pF={},J0,mF;function Que(){if(mF)return J0;mF=1;var t=Co(),e=No().add,r=XN(),n=Io(),i=To();return J0=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},J0}var vF;function Xue(){if(vF)return pF;vF=1;var t=Oe(),e=Que(),r=F9(),n=Ro(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),pF}var Z0,gF;function Jue(){if(gF)return Z0;gF=1,ha(),que(),Fue(),Bue(),Uue(),Vue(),Kue(),Yue(),Xue(),Up();var t=Ht();return Z0=t.Set,Z0}var e1,yF;function Zue(){if(yF)return e1;yF=1;var t=Jue();return fa(),e1=t,e1}var t1,bF;function ece(){return bF||(bF=1,t1=Zue()),t1}var tce=ece(),r1=ke(tce),n1,wF;function rce(){if(wF)return n1;wF=1,ha(),Up();var t=$9();return n1=t,n1}var i1,xF;function nce(){if(xF)return i1;xF=1;var t=rce();return fa(),i1=t,i1}var s1,_F;function ice(){if(_F)return s1;_F=1;var t=nce();return s1=t,s1}var a1,SF;function sce(){if(SF)return a1;SF=1;var t=ice();return a1=t,a1}var o1,EF;function ace(){return EF||(EF=1,o1=sce()),o1}var l1,OF;function oce(){return OF||(OF=1,l1=ace()),l1}var lce=oce(),u1=ke(lce);class Ia{constructor(e){this._pairs=e}*[dl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Hn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Hn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=eoe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new A9(this._pairs)}toIdSet(){return new r1(this.toIdArray())}toItemSet(){return new r1(this.toItemArray())}cache(){return new Ia([...this._pairs])}distinct(e){const r=new r1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ia({*[dl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ia({*[dl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=u1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=u1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ia({[dl]:()=>{var r;return u1(XP(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function PF(t,e){var r=LN(t);if(mM){var n=mM(t);e&&(n=ll(n).call(n,function(i){return I9(t,i).enumerable})),r.push.apply(r,n)}return r}function CF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ho(r=PF(Object(i),!0)).call(r,function(s){Ks(t,s,i[s])}):PM?Ile(t,PM(i)):ho(n=PF(Object(i))).call(n,function(s){$le(t,s,I9(i,s))})}return t}function uce(t,e){return t[e]==null&&(t[e]=kue()),t}class tu extends Yf{get idProp(){return this._idProp}constructor(e,r){super(),Ks(this,"_queue",null),e&&!ui(e)&&(r=e,e=[]),this._options=r||{},this._data=new A9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=QN.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(ui(e)){const s=Hn(e).call(e,a=>a[this._idProp]);if(eue(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=u=>{const d=u[o];if(d!=null&&this._data.has(d)){const h=u,f=zae({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(ui(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:a};this._trigger("update",u,r)}return Gae(n).call(n,i)}updateOnly(e,r){var n;ui(e)||(e=[e]);const i=Hn(n=Hn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],u=ole(a,o);return this._data.set(l,u),{id:l,oldData:a,updatedData:u}});if(i.length){const s={items:Hn(i).call(i,a=>a.id),oldData:Hn(i).call(i,a=>a.oldData),data:Hn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;DA(e)?(n=e,s=r):ui(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&ll(s),l=[];let u,d,h;if(n!=null)u=this._data.get(n),u&&o&&!o(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!o||o(u))&&l.push(u);else{var f;d=[...Ho(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!o||o(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&ll(e),i=e&&e.order,s=[...Ho(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=this._data.get(u);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&ll(r),i=this._data,s=[...Ho(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const u=a[o],d=u[this._idProp];e(u,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&ll(r),i=[],s=this._data,a=[...Ho(s).call(s)];for(let o=0,l=a.length;o<l;o++){const u=a[o],d=this._data.get(u);d!=null&&(!n||n(d))&&i.push(e(d,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Ise(n=ui(r)?r:LN(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;XP(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")XP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=ui(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(DA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...Ho(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of NA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of NA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...Ho(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=uce(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+uoe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,CF(CF({},n),e)),r}stream(e){if(e){const n=this._data;return new Ia({*[dl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ia({[dl]:XK(r=Nue(this._data)).call(r,this._data)})}}}function cce(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof ho(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Hn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function L9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof ho(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Hn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&cce(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var NF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var TF={},rc,IF;function ct(){if(IF)return rc;IF=1;var t=function(e){return e&&e.Math===Math&&e};return rc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof NF=="object"&&NF)||t(typeof rc=="object"&&rc)||function(){return this}()||Function("return this")(),rc}var c1,RF;function De(){return RF||(RF=1,c1=function(t){try{return!!t()}catch{return!0}}),c1}var d1,jF;function Kd(){if(jF)return d1;jF=1;var t=De();return d1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),d1}var h1,$F;function Kp(){if($F)return h1;$F=1;var t=Kd(),e=Function.prototype,r=e.apply,n=e.call;return h1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),h1}var f1,kF;function Ae(){if(kF)return f1;kF=1;var t=Kd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return f1=t?n:function(i){return function(){return r.apply(i,arguments)}},f1}var p1,DF;function Ei(){if(DF)return p1;DF=1;var t=Ae(),e=t({}.toString),r=t("".slice);return p1=function(n){return r(e(n),8,-1)},p1}var m1,qF;function JN(){if(qF)return m1;qF=1;var t=Ei(),e=Ae();return m1=function(r){if(t(r)==="Function")return e(r)},m1}var v1,MF;function nr(){if(MF)return v1;MF=1;var t=typeof document=="object"&&document.all;return v1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},v1}var g1={},y1,AF;function Tt(){if(AF)return y1;AF=1;var t=De();return y1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),y1}var b1,FF;function nn(){if(FF)return b1;FF=1;var t=Kd(),e=Function.prototype.call;return b1=t?e.bind(e):function(){return e.apply(e,arguments)},b1}var w1={},LF;function Gp(){if(LF)return w1;LF=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return w1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,w1}var x1,BF;function Gd(){return BF||(BF=1,x1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),x1}var _1,zF;function Yp(){if(zF)return _1;zF=1;var t=Ae(),e=De(),r=Ei(),n=Object,i=t("".split);return _1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,_1}var S1,UF;function Cu(){return UF||(UF=1,S1=function(t){return t==null}),S1}var E1,WF;function us(){if(WF)return E1;WF=1;var t=Cu(),e=TypeError;return E1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},E1}var O1,VF;function ii(){if(VF)return O1;VF=1;var t=Yp(),e=us();return O1=function(r){return t(e(r))},O1}var P1,HF;function ir(){if(HF)return P1;HF=1;var t=nr();return P1=function(e){return typeof e=="object"?e!==null:t(e)},P1}var C1,KF;function He(){return KF||(KF=1,C1={}),C1}var N1,GF;function yn(){if(GF)return N1;GF=1;var t=He(),e=ct(),r=nr(),n=function(i){return r(i)?i:void 0};return N1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},N1}var T1,YF;function At(){if(YF)return T1;YF=1;var t=Ae();return T1=t({}.isPrototypeOf),T1}var I1,QF;function Nu(){if(QF)return I1;QF=1;var t=ct(),e=t.navigator,r=e&&e.userAgent;return I1=r?String(r):"",I1}var R1,XF;function Yd(){if(XF)return R1;XF=1;var t=ct(),e=Nu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),R1=o,R1}var j1,JF;function Tu(){if(JF)return j1;JF=1;var t=Yd(),e=De(),r=ct(),n=r.String;return j1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),j1}var $1,ZF;function B9(){if(ZF)return $1;ZF=1;var t=Tu();return $1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$1}var k1,eL;function Qd(){if(eL)return k1;eL=1;var t=yn(),e=nr(),r=At(),n=B9(),i=Object;return k1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},k1}var D1,tL;function Iu(){if(tL)return D1;tL=1;var t=String;return D1=function(e){try{return t(e)}catch{return"Object"}},D1}var q1,rL;function cs(){if(rL)return q1;rL=1;var t=nr(),e=Iu(),r=TypeError;return q1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},q1}var M1,nL;function ZN(){if(nL)return M1;nL=1;var t=cs(),e=Cu();return M1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},M1}var A1,iL;function dce(){if(iL)return A1;iL=1;var t=nn(),e=nr(),r=ir(),n=TypeError;return A1=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},A1}var F1={exports:{}},L1,sL;function Ru(){return sL||(sL=1,L1=!0),L1}var B1,aL;function hce(){if(aL)return B1;aL=1;var t=ct(),e=Object.defineProperty;return B1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},B1}var oL;function eT(){if(oL)return F1.exports;oL=1;var t=Ru(),e=ct(),r=hce(),n="__core-js_shared__",i=F1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),F1.exports}var z1,lL;function ju(){if(lL)return z1;lL=1;var t=eT();return z1=function(e,r){return t[e]||(t[e]=r||{})},z1}var U1,uL;function bn(){if(uL)return U1;uL=1;var t=us(),e=Object;return U1=function(r){return e(t(r))},U1}var W1,cL;function pr(){if(cL)return W1;cL=1;var t=Ae(),e=bn(),r=t({}.hasOwnProperty);return W1=Object.hasOwn||function(i,s){return r(e(i),s)},W1}var V1,dL;function Qp(){if(dL)return V1;dL=1;var t=Ae(),e=0,r=Math.random(),n=t(1.1.toString);return V1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},V1}var H1,hL;function Ft(){if(hL)return H1;hL=1;var t=ct(),e=ju(),r=pr(),n=Qp(),i=Tu(),s=B9(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return H1=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},H1}var K1,fL;function z9(){if(fL)return K1;fL=1;var t=nn(),e=ir(),r=Qd(),n=ZN(),i=dce(),s=Ft(),a=TypeError,o=s("toPrimitive");return K1=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},K1}var G1,pL;function tT(){if(pL)return G1;pL=1;var t=z9(),e=Qd();return G1=function(r){var n=t(r,"string");return e(n)?n:n+""},G1}var Y1,mL;function U9(){if(mL)return Y1;mL=1;var t=ct(),e=ir(),r=t.document,n=e(r)&&e(r.createElement);return Y1=function(i){return n?r.createElement(i):{}},Y1}var Q1,vL;function W9(){if(vL)return Q1;vL=1;var t=Tt(),e=De(),r=U9();return Q1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Q1}var gL;function Xp(){if(gL)return g1;gL=1;var t=Tt(),e=nn(),r=Gp(),n=Gd(),i=ii(),s=tT(),a=pr(),o=W9(),l=Object.getOwnPropertyDescriptor;return g1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},g1}var X1,yL;function fce(){if(yL)return X1;yL=1;var t=De(),e=nr(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return X1=n,X1}var J1,bL;function Jp(){if(bL)return J1;bL=1;var t=JN(),e=cs(),r=Kd(),n=t(t.bind);return J1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},J1}var Z1={},ew,wL;function V9(){if(wL)return ew;wL=1;var t=Tt(),e=De();return ew=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),ew}var tw,xL;function Oi(){if(xL)return tw;xL=1;var t=ir(),e=String,r=TypeError;return tw=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},tw}var _L;function qn(){if(_L)return Z1;_L=1;var t=Tt(),e=W9(),r=V9(),n=Oi(),i=tT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return Z1.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Z1}var rw,SL;function $u(){if(SL)return rw;SL=1;var t=Tt(),e=qn(),r=Gd();return rw=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},rw}var nw,EL;function be(){if(EL)return nw;EL=1;var t=ct(),e=Kp(),r=JN(),n=nr(),i=Xp().f,s=fce(),a=He(),o=Jp(),l=$u(),u=pr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return nw=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,N;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(N=i(g,O),C=N&&N.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},nw}var iw,OL;function pce(){if(OL)return iw;OL=1;var t=Math.ceil,e=Math.floor;return iw=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},iw}var sw,PL;function ku(){if(PL)return sw;PL=1;var t=pce();return sw=function(e){var r=+e;return r!==r||r===0?0:t(r)},sw}var aw,CL;function Zp(){if(CL)return aw;CL=1;var t=ku(),e=Math.max,r=Math.min;return aw=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},aw}var ow,NL;function H9(){if(NL)return ow;NL=1;var t=ku(),e=Math.min;return ow=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},ow}var lw,TL;function ds(){if(TL)return lw;TL=1;var t=H9();return lw=function(e){return t(e.length)},lw}var uw,IL;function rT(){if(IL)return uw;IL=1;var t=ii(),e=Zp(),r=ds(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return uw={includes:n(!0),indexOf:n(!1)},uw}var cw,RL;function Xd(){return RL||(RL=1,cw={}),cw}var dw,jL;function K9(){if(jL)return dw;jL=1;var t=Ae(),e=pr(),r=ii(),n=rT().indexOf,i=Xd(),s=t([].push);return dw=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},dw}var hw,$L;function nT(){return $L||($L=1,hw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),hw}var fw,kL;function Jd(){if(kL)return fw;kL=1;var t=K9(),e=nT();return fw=Object.keys||function(n){return t(n,e)},fw}var pw={},DL;function em(){return DL||(DL=1,pw.f=Object.getOwnPropertySymbols),pw}var mw,qL;function mce(){if(qL)return mw;qL=1;var t=Tt(),e=Ae(),r=nn(),n=De(),i=Jd(),s=em(),a=Gp(),o=bn(),l=Yp(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return mw=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,mw}var ML;function vce(){if(ML)return TF;ML=1;var t=be(),e=mce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),TF}var vw,AL;function gce(){if(AL)return vw;AL=1,vce();var t=He();return vw=t.Object.assign,vw}var gw,FL;function yce(){if(FL)return gw;FL=1;var t=gce();return gw=t,gw}var yw,LL;function bce(){return LL||(LL=1,yw=yce()),yw}var wce=bce(),kt=Ee(wce),BL={},bw,zL;function Du(){if(zL)return bw;zL=1;var t=Ae();return bw=t([].slice),bw}var ww,UL;function xce(){if(UL)return ww;UL=1;var t=Ae(),e=cs(),r=ir(),n=pr(),i=Du(),s=Kd(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return ww=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},ww}var WL;function _ce(){if(WL)return BL;WL=1;var t=be(),e=xce();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),BL}var xw,VL;function mr(){if(VL)return xw;VL=1;var t=ct(),e=He();return xw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},xw}var _w,HL;function Sce(){if(HL)return _w;HL=1,_ce();var t=mr();return _w=t("Function","bind"),_w}var Sw,KL;function Ece(){if(KL)return Sw;KL=1;var t=At(),e=Sce(),r=Function.prototype;return Sw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Sw}var Ew,GL;function Oce(){if(GL)return Ew;GL=1;var t=Ece();return Ew=t,Ew}var Ow,YL;function Pce(){return YL||(YL=1,Ow=Oce()),Ow}var Cce=Pce(),Z=Ee(Cce);function iT(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function Nce(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function Tce(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function Ice(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function Rce(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function jce(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function G9(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function JP(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,u=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,u,d,u),t.bezierCurveTo(d-a,u,e,h+o,e,h),t.closePath()}function Y9(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,u=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,y+d,e,y),t.lineTo(e,m)}function Q9(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,u=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+u*u)),p=o<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function $ce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const QL={circle:iT,dashedLine:Q9,database:Y9,diamond:jce,ellipse:JP,ellipse_vis:JP,hexagon:$ce,roundRect:G9,square:Nce,star:Rce,triangle:Tce,triangleDown:Ice};function kce(t){return Object.prototype.hasOwnProperty.call(QL,t)?QL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var Pw={exports:{}},XL;function Dce(){return XL||(XL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(Pw)),Pw.exports}var qce=Dce(),X9=Ee(qce),JL={},Cw,ZL;function jo(){if(ZL)return Cw;ZL=1;var t=Ei();return Cw=Array.isArray||function(r){return t(r)==="Array"},Cw}var Nw,e4;function J9(){if(e4)return Nw;e4=1;var t=TypeError,e=9007199254740991;return Nw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Nw}var Tw,t4;function tm(){if(t4)return Tw;t4=1;var t=Tt(),e=qn(),r=Gd();return Tw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Tw}var Iw,r4;function sT(){if(r4)return Iw;r4=1;var t=Ft(),e=t("toStringTag"),r={};return r[e]="z",Iw=String(r)==="[object z]",Iw}var Rw,n4;function qu(){if(n4)return Rw;n4=1;var t=sT(),e=nr(),r=Ei(),n=Ft(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Rw=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Rw}var jw,i4;function Mce(){if(i4)return jw;i4=1;var t=Ae(),e=nr(),r=eT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),jw=r.inspectSource,jw}var $w,s4;function Z9(){if(s4)return $w;s4=1;var t=Ae(),e=De(),r=nr(),n=qu(),i=yn(),s=Mce(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,$w=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,$w}var kw,a4;function Ace(){if(a4)return kw;a4=1;var t=jo(),e=Z9(),r=ir(),n=Ft(),i=n("species"),s=Array;return kw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},kw}var Dw,o4;function aT(){if(o4)return Dw;o4=1;var t=Ace();return Dw=function(e,r){return new(t(e))(r===0?0:r)},Dw}var qw,l4;function Zd(){if(l4)return qw;l4=1;var t=De(),e=Ft(),r=Yd(),n=e("species");return qw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},qw}var u4;function eG(){if(u4)return JL;u4=1;var t=be(),e=De(),r=jo(),n=ir(),i=bn(),s=ds(),a=J9(),o=tm(),l=aT(),u=Zd(),d=Ft(),h=Yd(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),JL}var c4={},d4={},Mw,h4;function Mn(){if(h4)return Mw;h4=1;var t=qu(),e=String;return Mw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Mw}var Aw={},f4;function oT(){if(f4)return Aw;f4=1;var t=Tt(),e=V9(),r=qn(),n=Oi(),i=ii(),s=Jd();return Aw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},Aw}var Fw,p4;function Fce(){if(p4)return Fw;p4=1;var t=yn();return Fw=t("document","documentElement"),Fw}var Lw,m4;function rm(){if(m4)return Lw;m4=1;var t=ju(),e=Qp(),r=t("keys");return Lw=function(n){return r[n]||(r[n]=e(n))},Lw}var Bw,v4;function eh(){if(v4)return Bw;v4=1;var t=Oi(),e=oT(),r=nT(),n=Xd(),i=Fce(),s=U9(),a=rm(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,Bw=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},Bw}var zw={},g4;function nm(){if(g4)return zw;g4=1;var t=K9(),e=nT(),r=e.concat("length","prototype");return zw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},zw}var Uw={},y4;function lT(){if(y4)return Uw;y4=1;var t=Ei(),e=ii(),r=nm().f,n=Du(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return Uw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},Uw}var Ww,b4;function th(){if(b4)return Ww;b4=1;var t=$u();return Ww=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Ww}var Vw,w4;function uT(){if(w4)return Vw;w4=1;var t=qn();return Vw=function(e,r,n){return t.f(e,r,n)},Vw}var Hw={},x4;function im(){if(x4)return Hw;x4=1;var t=Ft();return Hw.f=t,Hw}var Kw,_4;function gt(){if(_4)return Kw;_4=1;var t=He(),e=pr(),r=im(),n=qn().f;return Kw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Kw}var Gw,S4;function tG(){if(S4)return Gw;S4=1;var t=nn(),e=yn(),r=Ft(),n=th();return Gw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Gw}var Yw,E4;function Lce(){if(E4)return Yw;E4=1;var t=sT(),e=qu();return Yw=t?{}.toString:function(){return"[object "+e(this)+"]"},Yw}var Qw,O4;function $o(){if(O4)return Qw;O4=1;var t=sT(),e=qn().f,r=$u(),n=pr(),i=Lce(),s=Ft(),a=s("toStringTag");return Qw=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Qw}var Xw,P4;function rG(){if(P4)return Xw;P4=1;var t=ct(),e=nr(),r=t.WeakMap;return Xw=e(r)&&/native code/.test(String(r)),Xw}var Jw,C4;function ko(){if(C4)return Jw;C4=1;var t=rG(),e=ct(),r=ir(),n=$u(),i=pr(),s=eT(),a=rm(),o=Xd(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Jw={set:h,get:f,has:p,enforce:m,getterFor:y},Jw}var Zw,N4;function pa(){if(N4)return Zw;N4=1;var t=Jp(),e=Ae(),r=Yp(),n=bn(),i=ds(),s=aT(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,N;E>S;S++)if((y||S in _)&&(I=_[S],N=O(I,S,w),l))if(u)C[S]=N;else if(N)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Zw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Zw}var T4;function Bce(){if(T4)return d4;T4=1;var t=be(),e=ct(),r=nn(),n=Ae(),i=Ru(),s=Tt(),a=Tu(),o=De(),l=pr(),u=At(),d=Oi(),h=ii(),f=tT(),p=Mn(),m=Gd(),y=eh(),b=Jd(),g=nm(),v=lT(),x=em(),w=Xp(),_=qn(),E=oT(),O=Gp(),S=th(),P=uT(),C=ju(),I=rm(),N=Xd(),T=Qp(),q=Ft(),z=im(),te=gt(),K=tG(),L=$o(),H=ko(),U=pa().forEach,W=I("hidden"),ee="Symbol",pe="prototype",ge=H.set,qe=H.getterFor(ee),we=Object[pe],Se=e.Symbol,Pe=Se&&Se[pe],dt=e.RangeError,Ge=e.TypeError,Lt=e.QObject,sr=w.f,nt=_.f,Sr=v.f,ot=O.f,Ar=n([].push),Ye=C("symbols"),Bt=C("op-symbols"),sn=C("wks"),an=!Lt||!Lt[pe]||!Lt[pe].findChild,j=function(V,B,G){var X=sr(we,B);X&&delete we[B],nt(V,B,G),X&&V!==we&&nt(we,B,X)},D=s&&o(function(){return y(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a!==7})?j:nt,F=function(V,B){var G=Ye[V]=y(Pe);return ge(G,{type:ee,tag:V,description:B}),s||(G.description=B),G},ae=function(B,G,X){B===we&&ae(Bt,G,X),d(B);var oe=f(G);return d(X),l(Ye,oe)?(X.enumerable?(l(B,W)&&B[W][oe]&&(B[W][oe]=!1),X=y(X,{enumerable:m(0,!1)})):(l(B,W)||nt(B,W,m(1,y(null))),B[W][oe]=!0),D(B,oe,X)):nt(B,oe,X)},re=function(B,G){d(B);var X=h(G),oe=b(X).concat(ne(X));return U(oe,function($e){(!s||r(de,X,$e))&&ae(B,$e,X[$e])}),B},Y=function(B,G){return G===void 0?y(B):re(y(B),G)},de=function(B){var G=f(B),X=r(ot,this,G);return this===we&&l(Ye,G)&&!l(Bt,G)?!1:X||!l(this,G)||!l(Ye,G)||l(this,W)&&this[W][G]?X:!0},Ie=function(B,G){var X=h(B),oe=f(G);if(!(X===we&&l(Ye,oe)&&!l(Bt,oe))){var $e=sr(X,oe);return $e&&l(Ye,oe)&&!(l(X,W)&&X[W][oe])&&($e.enumerable=!0),$e}},k=function(B){var G=Sr(h(B)),X=[];return U(G,function(oe){!l(Ye,oe)&&!l(N,oe)&&Ar(X,oe)}),X},ne=function(V){var B=V===we,G=Sr(B?Bt:h(V)),X=[];return U(G,function(oe){l(Ye,oe)&&(!B||l(we,oe))&&Ar(X,Ye[oe])}),X};return a||(Se=function(){if(u(Pe,this))throw new Ge("Symbol is not a constructor");var B=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),G=T(B),X=function(oe){var $e=this===void 0?e:this;$e===we&&r(X,Bt,oe),l($e,W)&&l($e[W],G)&&($e[W][G]=!1);var Fr=m(1,oe);try{D($e,G,Fr)}catch(ar){if(!(ar instanceof dt))throw ar;j($e,G,Fr)}};return s&&an&&D(we,G,{configurable:!0,set:X}),F(G,B)},Pe=Se[pe],S(Pe,"toString",function(){return qe(this).tag}),S(Se,"withoutSetter",function(V){return F(T(V),V)}),O.f=de,_.f=ae,E.f=re,w.f=Ie,g.f=v.f=k,x.f=ne,z.f=function(V){return F(q(V),V)},s&&(P(Pe,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(we,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Se}),U(b(sn),function(V){te(V)}),t({target:ee,stat:!0,forced:!a},{useSetter:function(){an=!0},useSimple:function(){an=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Y,defineProperty:ae,defineProperties:re,getOwnPropertyDescriptor:Ie}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:k}),K(),L(Se,ee),N[W]=!0,d4}var I4={},ex,R4;function nG(){if(R4)return ex;R4=1;var t=Tu();return ex=t&&!!Symbol.for&&!!Symbol.keyFor,ex}var j4;function zce(){if(j4)return I4;j4=1;var t=be(),e=yn(),r=pr(),n=Mn(),i=ju(),s=nG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),I4}var $4={},k4;function Uce(){if(k4)return $4;k4=1;var t=be(),e=pr(),r=Qd(),n=Iu(),i=ju(),s=nG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),$4}var D4={},tx,q4;function Wce(){if(q4)return tx;q4=1;var t=Ae(),e=jo(),r=nr(),n=Ei(),i=Mn(),s=t([].push);return tx=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},tx}var M4;function iG(){if(M4)return D4;M4=1;var t=be(),e=yn(),r=Kp(),n=nn(),i=Ae(),s=De(),a=nr(),o=Qd(),l=Du(),u=Wce(),d=Tu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),N=u(C);if(!(!a(N)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(N)&&(q=n(N,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var N=m(I,C-1),T=m(I,C+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,N)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,N){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),D4}var A4={},F4;function Vce(){if(F4)return A4;F4=1;var t=be(),e=Tu(),r=De(),n=em(),i=bn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),A4}var L4;function sG(){return L4||(L4=1,Bce(),zce(),Uce(),iG(),Vce()),c4}var B4={},z4;function aG(){if(z4)return B4;z4=1;var t=gt();return t("asyncDispose"),B4}var U4={},W4;function Hce(){if(W4)return U4;W4=1;var t=gt();return t("asyncIterator"),U4}var V4={},H4;function oG(){if(H4)return V4;H4=1;var t=gt();return t("dispose"),V4}var K4={},G4;function Kce(){if(G4)return K4;G4=1;var t=gt();return t("hasInstance"),K4}var Y4={},Q4;function Gce(){if(Q4)return Y4;Q4=1;var t=gt();return t("isConcatSpreadable"),Y4}var X4={},J4;function lG(){if(J4)return X4;J4=1;var t=gt();return t("iterator"),X4}var Z4={},eB;function Yce(){if(eB)return Z4;eB=1;var t=gt();return t("match"),Z4}var tB={},rB;function Qce(){if(rB)return tB;rB=1;var t=gt();return t("matchAll"),tB}var nB={},iB;function Xce(){if(iB)return nB;iB=1;var t=gt();return t("replace"),nB}var sB={},aB;function Jce(){if(aB)return sB;aB=1;var t=gt();return t("search"),sB}var oB={},lB;function Zce(){if(lB)return oB;lB=1;var t=gt();return t("species"),oB}var uB={},cB;function ede(){if(cB)return uB;cB=1;var t=gt();return t("split"),uB}var dB={},hB;function uG(){if(hB)return dB;hB=1;var t=gt(),e=tG();return t("toPrimitive"),e(),dB}var fB={},pB;function tde(){if(pB)return fB;pB=1;var t=yn(),e=gt(),r=$o();return e("toStringTag"),r(t("Symbol"),"Symbol"),fB}var mB={},vB;function rde(){if(vB)return mB;vB=1;var t=gt();return t("unscopables"),mB}var gB={},yB;function nde(){if(yB)return gB;yB=1;var t=ct(),e=$o();return e(t.JSON,"JSON",!0),gB}var rx,bB;function ide(){if(bB)return rx;bB=1,eG(),sG(),aG(),Hce(),oG(),Kce(),Gce(),lG(),Yce(),Qce(),Xce(),Jce(),Zce(),ede(),uG(),tde(),rde(),nde();var t=He();return rx=t.Symbol,rx}var wB={},nx,xB;function cT(){return xB||(xB=1,nx=function(){}),nx}var ix,_B;function Mu(){return _B||(_B=1,ix={}),ix}var sx,SB;function sde(){if(SB)return sx;SB=1;var t=Tt(),e=pr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return sx={EXISTS:i,PROPER:s,CONFIGURABLE:a},sx}var ax,EB;function cG(){if(EB)return ax;EB=1;var t=De();return ax=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),ax}var ox,OB;function sm(){if(OB)return ox;OB=1;var t=pr(),e=nr(),r=bn(),n=rm(),i=cG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return ox=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},ox}var lx,PB;function dG(){if(PB)return lx;PB=1;var t=De(),e=nr(),r=ir(),n=eh(),i=sm(),s=th(),a=Ft(),o=Ru(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),lx={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},lx}var ux,CB;function ade(){if(CB)return ux;CB=1;var t=dG().IteratorPrototype,e=eh(),r=Gd(),n=$o(),i=Mu(),s=function(){return this};return ux=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},ux}var cx,NB;function ode(){if(NB)return cx;NB=1;var t=Ae(),e=cs();return cx=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},cx}var dx,TB;function lde(){if(TB)return dx;TB=1;var t=ir();return dx=function(e){return t(e)||e===null},dx}var hx,IB;function ude(){if(IB)return hx;IB=1;var t=lde(),e=String,r=TypeError;return hx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},hx}var fx,RB;function cde(){if(RB)return fx;RB=1;var t=ode(),e=ir(),r=us(),n=ude();return fx=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),fx}var px,jB;function dT(){if(jB)return px;jB=1;var t=be(),e=nn(),r=Ru(),n=sde(),i=nr(),s=ade(),a=sm(),o=cde(),l=$o(),u=$u(),d=th(),h=Ft(),f=Mu(),p=dG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return px=function(O,S,P,C,I,N,T){s(P,S,C);var q=function(ge){if(ge===I&&H)return H;if(!g&&ge&&ge in K)return K[ge];switch(ge){case x:return function(){return new P(this,ge)};case w:return function(){return new P(this,ge)};case _:return function(){return new P(this,ge)}}return function(){return new P(this)}},z=S+" Iterator",te=!1,K=O.prototype,L=K[v]||K["@@iterator"]||I&&K[I],H=!g&&L||q(I),U=S==="Array"&&K.entries||L,W,ee,pe;if(U&&(W=a(U.call(new O)),W!==Object.prototype&&W.next&&(!r&&a(W)!==b&&(o?o(W,b):i(W[v])||d(W,v,E)),l(W,z,!0,!0),r&&(f[z]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(K,"name",w):(te=!0,H=function(){return e(L,this)})),I)if(ee={values:q(w),keys:N?H:q(x),entries:q(_)},T)for(pe in ee)(g||te||!(pe in K))&&d(K,pe,ee[pe]);else t({target:S,proto:!0,forced:g||te},ee);return(!r||T)&&K[v]!==H&&d(K,v,H,{name:I}),f[S]=H,ee},px}var mx,$B;function hT(){return $B||($B=1,mx=function(t,e){return{value:t,done:e}}),mx}var vx,kB;function Au(){if(kB)return vx;kB=1;var t=ii(),e=cT(),r=Mu(),n=ko(),i=qn().f,s=dT(),a=hT(),o=Ru(),l=Tt(),u="Array Iterator",d=n.set,h=n.getterFor(u);vx=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return vx}var gx,DB;function dde(){return DB||(DB=1,gx={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),gx}var qB;function Fu(){if(qB)return wB;qB=1,Au();var t=dde(),e=ct(),r=$o(),n=Mu();for(var i in t)r(e[i],i),n[i]=n.Array;return wB}var yx,MB;function hG(){if(MB)return yx;MB=1;var t=ide();return Fu(),yx=t,yx}var bx,AB;function hde(){return AB||(AB=1,bx=hG()),bx}var fde=hde(),pde=Ee(fde),FB={},LB;function mde(){if(LB)return FB;LB=1;var t=be(),e=jo(),r=Z9(),n=ir(),i=Zp(),s=ds(),a=ii(),o=tm(),l=Ft(),u=Zd(),d=Du(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),FB}var wx,BB;function vde(){if(BB)return wx;BB=1,mde();var t=mr();return wx=t("Array","slice"),wx}var xx,zB;function gde(){if(zB)return xx;zB=1;var t=At(),e=vde(),r=Array.prototype;return xx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},xx}var _x,UB;function yde(){if(UB)return _x;UB=1;var t=gde();return _x=t,_x}var Sx,WB;function bde(){return WB||(WB=1,Sx=yde()),Sx}var wde=bde(),mi=Ee(wde),Ex,VB;function xde(){if(VB)return Ex;VB=1;var t=yn(),e=Ae(),r=nm(),n=em(),i=Oi(),s=e([].concat);return Ex=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Ex}var HB={},KB;function _de(){if(KB)return HB;KB=1;var t=be(),e=jo();return t({target:"Array",stat:!0},{isArray:e}),HB}var Ox,GB;function Sde(){if(GB)return Ox;GB=1,_de();var t=He();return Ox=t.Array.isArray,Ox}var Px,YB;function Ede(){if(YB)return Px;YB=1;var t=Sde();return Px=t,Px}var Cx,QB;function Ode(){return QB||(QB=1,Cx=Ede()),Cx}var Pde=Ode(),Ot=Ee(Pde),XB={},JB;function Cde(){if(JB)return XB;JB=1;var t=be(),e=pa().map,r=Zd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),XB}var Nx,ZB;function Nde(){if(ZB)return Nx;ZB=1,Cde();var t=mr();return Nx=t("Array","map"),Nx}var Tx,e5;function Tde(){if(e5)return Tx;e5=1;var t=At(),e=Nde(),r=Array.prototype;return Tx=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Tx}var Ix,t5;function Ide(){if(t5)return Ix;t5=1;var t=Tde();return Ix=t,Ix}var Rx,r5;function Rde(){return r5||(r5=1,Rx=Ide()),Rx}var jde=Rde(),ru=Ee(jde),n5={},i5;function $de(){if(i5)return n5;i5=1;var t=be(),e=bn(),r=Jd(),n=De(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),n5}var jx,s5;function kde(){if(s5)return jx;s5=1,$de();var t=He();return jx=t.Object.keys,jx}var $x,a5;function Dde(){if(a5)return $x;a5=1;var t=kde();return $x=t,$x}var kx,o5;function qde(){return o5||(o5=1,kx=Dde()),kx}var Mde=qde(),xt=Ee(Mde),l5={},u5;function Ade(){if(u5)return l5;u5=1;var t=be(),e=Ae(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),l5}var Dx,c5;function Fde(){if(c5)return Dx;c5=1,Ade();var t=He();return Dx=t.Date.now,Dx}var qx,d5;function Lde(){if(d5)return qx;d5=1;var t=Fde();return qx=t,qx}var Mx,h5;function Bde(){return h5||(h5=1,Mx=Lde()),Mx}var zde=Bde(),Qf=Ee(zde),f5={},Ax,p5;function Lu(){if(p5)return Ax;p5=1;var t=De();return Ax=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Ax}var Fx,m5;function Ude(){if(m5)return Fx;m5=1;var t=pa().forEach,e=Lu(),r=e("forEach");return Fx=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Fx}var v5;function Wde(){if(v5)return f5;v5=1;var t=be(),e=Ude();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),f5}var Lx,g5;function Vde(){if(g5)return Lx;g5=1,Wde();var t=mr();return Lx=t("Array","forEach"),Lx}var Bx,y5;function Hde(){if(y5)return Bx;y5=1;var t=Vde();return Bx=t,Bx}var zx,b5;function Kde(){if(b5)return zx;b5=1;var t=qu(),e=pr(),r=At(),n=Hde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return zx=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},zx}var Ux,w5;function Gde(){return w5||(w5=1,Ux=Kde()),Ux}var Yde=Gde(),Qe=Ee(Yde),x5={},_5;function Qde(){if(_5)return x5;_5=1;var t=be(),e=Ae(),r=jo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),x5}var Wx,S5;function Xde(){if(S5)return Wx;S5=1,Qde();var t=mr();return Wx=t("Array","reverse"),Wx}var Vx,E5;function Jde(){if(E5)return Vx;E5=1;var t=At(),e=Xde(),r=Array.prototype;return Vx=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Vx}var Hx,O5;function Zde(){if(O5)return Hx;O5=1;var t=Jde();return Hx=t,Hx}var Kx,P5;function ehe(){return P5||(P5=1,Kx=Zde()),Kx}var the=ehe(),Ga=Ee(the),C5={},Gx,N5;function rhe(){if(N5)return Gx;N5=1;var t=Tt(),e=jo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Gx=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},Gx}var Yx,T5;function fG(){if(T5)return Yx;T5=1;var t=Iu(),e=TypeError;return Yx=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Yx}var I5;function nhe(){if(I5)return C5;I5=1;var t=be(),e=bn(),r=Zp(),n=ku(),i=ds(),s=rhe(),a=J9(),o=aT(),l=tm(),u=fG(),d=Zd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),C5}var Qx,R5;function ihe(){if(R5)return Qx;R5=1,nhe();var t=mr();return Qx=t("Array","splice"),Qx}var Xx,j5;function she(){if(j5)return Xx;j5=1;var t=At(),e=ihe(),r=Array.prototype;return Xx=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Xx}var Jx,$5;function ahe(){if($5)return Jx;$5=1;var t=she();return Jx=t,Jx}var Zx,k5;function ohe(){return k5||(k5=1,Zx=ahe()),Zx}var lhe=ohe(),Wi=Ee(lhe),D5={},q5;function uhe(){if(q5)return D5;q5=1;var t=be(),e=rT().includes,r=De(),n=cT(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),D5}var e_,M5;function che(){if(M5)return e_;M5=1,uhe();var t=mr();return e_=t("Array","includes"),e_}var A5={},t_,F5;function dhe(){if(F5)return t_;F5=1;var t=ir(),e=Ei(),r=Ft(),n=r("match");return t_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},t_}var r_,L5;function hhe(){if(L5)return r_;L5=1;var t=dhe(),e=TypeError;return r_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},r_}var n_,B5;function fhe(){if(B5)return n_;B5=1;var t=Ft(),e=t("match");return n_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},n_}var z5;function phe(){if(z5)return A5;z5=1;var t=be(),e=Ae(),r=hhe(),n=us(),i=Mn(),s=fhe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),A5}var i_,U5;function mhe(){if(U5)return i_;U5=1,phe();var t=mr();return i_=t("String","includes"),i_}var s_,W5;function vhe(){if(W5)return s_;W5=1;var t=At(),e=che(),r=mhe(),n=Array.prototype,i=String.prototype;return s_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},s_}var a_,V5;function ghe(){if(V5)return a_;V5=1;var t=vhe();return a_=t,a_}var o_,H5;function yhe(){return H5||(H5=1,o_=ghe()),o_}var bhe=yhe(),Ys=Ee(bhe),K5={},G5;function whe(){if(G5)return K5;G5=1;var t=be(),e=De(),r=bn(),n=sm(),i=cG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),K5}var l_,Y5;function xhe(){if(Y5)return l_;Y5=1,whe();var t=He();return l_=t.Object.getPrototypeOf,l_}var u_,Q5;function _he(){if(Q5)return u_;Q5=1;var t=xhe();return u_=t,u_}var c_,X5;function She(){return X5||(X5=1,c_=_he()),c_}var Ehe=She(),J5=Ee(Ehe),d_,Z5;function Ohe(){if(Z5)return d_;Z5=1,eG();var t=mr();return d_=t("Array","concat"),d_}var h_,e3;function Phe(){if(e3)return h_;e3=1;var t=At(),e=Ohe(),r=Array.prototype;return h_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},h_}var f_,t3;function Che(){if(t3)return f_;t3=1;var t=Phe();return f_=t,f_}var p_,r3;function Nhe(){return r3||(r3=1,p_=Che()),p_}var The=Nhe(),Ihe=Ee(The),n3={},i3;function Rhe(){if(i3)return n3;i3=1;var t=be(),e=pa().filter,r=Zd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),n3}var m_,s3;function jhe(){if(s3)return m_;s3=1,Rhe();var t=mr();return m_=t("Array","filter"),m_}var v_,a3;function $he(){if(a3)return v_;a3=1;var t=At(),e=jhe(),r=Array.prototype;return v_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},v_}var g_,o3;function khe(){if(o3)return g_;o3=1;var t=$he();return g_=t,g_}var y_,l3;function Dhe(){return l3||(l3=1,y_=khe()),y_}var qhe=Dhe(),Vr=Ee(qhe),u3={},b_,c3;function Mhe(){if(c3)return b_;c3=1;var t=Tt(),e=De(),r=Ae(),n=sm(),i=Jd(),s=ii(),a=Gp().f,o=r(a),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=u&&n(p)===null,b=m.length,g=0,v=[],x;b>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return b_={entries:d(!0),values:d(!1)},b_}var d3;function Ahe(){if(d3)return u3;d3=1;var t=be(),e=Mhe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),u3}var w_,h3;function Fhe(){if(h3)return w_;h3=1,Ahe();var t=He();return w_=t.Object.values,w_}var x_,f3;function Lhe(){if(f3)return x_;f3=1;var t=Fhe();return x_=t,x_}var __,p3;function Bhe(){return p3||(p3=1,__=Lhe()),__}var zhe=Bhe(),Uhe=Ee(zhe),m3={},S_,v3;function fT(){return v3||(v3=1,S_=`	
\v\f\r \u2028\u2029\uFEFF`),S_}var E_,g3;function pG(){if(g3)return E_;g3=1;var t=Ae(),e=us(),r=Mn(),n=fT(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(u){var d=r(e(u));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return E_={start:o(1),end:o(2),trim:o(3)},E_}var O_,y3;function Whe(){if(y3)return O_;y3=1;var t=ct(),e=De(),r=Ae(),n=Mn(),i=pG().trim,s=fT(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return O_=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(u,y)?16:10))}:a,O_}var b3;function Vhe(){if(b3)return m3;b3=1;var t=be(),e=Whe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),m3}var P_,w3;function Hhe(){if(w3)return P_;w3=1,Vhe();var t=He();return P_=t.parseInt,P_}var C_,x3;function Khe(){if(x3)return C_;x3=1;var t=Hhe();return C_=t,C_}var N_,_3;function Ghe(){return _3||(_3=1,N_=Khe()),N_}var Yhe=Ghe(),Kn=Ee(Yhe),S3={},E3;function Qhe(){if(E3)return S3;E3=1;var t=be(),e=JN(),r=rT().indexOf,n=Lu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),S3}var T_,O3;function Xhe(){if(O3)return T_;O3=1,Qhe();var t=mr();return T_=t("Array","indexOf"),T_}var I_,P3;function Jhe(){if(P3)return I_;P3=1;var t=At(),e=Xhe(),r=Array.prototype;return I_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},I_}var R_,C3;function Zhe(){if(C3)return R_;C3=1;var t=Jhe();return R_=t,R_}var j_,N3;function efe(){return N3||(N3=1,j_=Zhe()),j_}var tfe=efe(),Ue=Ee(tfe),T3={},I3;function rfe(){if(I3)return T3;I3=1;var t=be(),e=Tt(),r=eh();return t({target:"Object",stat:!0,sham:!e},{create:r}),T3}var $_,R3;function nfe(){if(R3)return $_;R3=1,rfe();var t=He(),e=t.Object;return $_=function(n,i){return e.create(n,i)},$_}var k_,j3;function ife(){if(j3)return k_;j3=1;var t=nfe();return k_=t,k_}var D_,$3;function sfe(){return $3||($3=1,D_=ife()),D_}var afe=sfe(),Ya=Ee(afe),k3={},q_,D3;function ofe(){if(D3)return q_;D3=1;var t=ku(),e=Mn(),r=us(),n=RangeError;return q_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},q_}var M_,q3;function lfe(){if(q3)return M_;q3=1;var t=Ae(),e=H9(),r=Mn(),n=ofe(),i=us(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return M_={start:l(!1),end:l(!0)},M_}var A_,M3;function ufe(){if(M3)return A_;M3=1;var t=Ae(),e=De(),r=lfe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return A_=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,A_}var A3;function cfe(){if(A3)return k3;A3=1;var t=be(),e=nn(),r=bn(),n=z9(),i=ufe(),s=Ei(),a=De(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),k3}var F_,F3;function dfe(){if(F3)return F_;F3=1,cfe(),iG();var t=He(),e=Kp();return t.JSON||(t.JSON={stringify:JSON.stringify}),F_=function(n,i,s){return e(t.JSON.stringify,null,arguments)},F_}var L_,L3;function hfe(){if(L3)return L_;L3=1;var t=dfe();return L_=t,L_}var B_,B3;function ffe(){return B3||(B3=1,B_=hfe()),B_}var pfe=ffe(),rh=Ee(pfe),z3={},U3={},z_,W3;function mG(){if(W3)return z_;W3=1;var t=ct(),e=Nu(),r=Ei(),n=function(i){return e.slice(0,i.length)===i};return z_=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),z_}var U_,V3;function mfe(){if(V3)return U_;V3=1;var t=TypeError;return U_=function(e,r){if(e<r)throw new t("Not enough arguments");return e},U_}var W_,H3;function vG(){if(H3)return W_;H3=1;var t=ct(),e=Kp(),r=nr(),n=mG(),i=Nu(),s=Du(),a=mfe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return W_=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},W_}var K3;function vfe(){if(K3)return U3;K3=1;var t=be(),e=ct(),r=vG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),U3}var G3={},Y3;function gfe(){if(Y3)return G3;Y3=1;var t=be(),e=ct(),r=vG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),G3}var Q3;function gG(){return Q3||(Q3=1,vfe(),gfe()),z3}var V_,X3;function yfe(){if(X3)return V_;X3=1,gG();var t=He();return V_=t.setTimeout,V_}var H_,J3;function bfe(){return J3||(J3=1,H_=yfe()),H_}var wfe=bfe(),Vi=Ee(wfe),Z3={},K_,ez;function xfe(){if(ez)return K_;ez=1;var t=bn(),e=Zp(),r=ds();return K_=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),u=o>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>l;)s[l++]=i;return s},K_}var tz;function _fe(){if(tz)return Z3;tz=1;var t=be(),e=xfe(),r=cT();return t({target:"Array",proto:!0},{fill:e}),r("fill"),Z3}var G_,rz;function Sfe(){if(rz)return G_;rz=1,_fe();var t=mr();return G_=t("Array","fill"),G_}var Y_,nz;function Efe(){if(nz)return Y_;nz=1;var t=At(),e=Sfe(),r=Array.prototype;return Y_=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},Y_}var Q_,iz;function Ofe(){if(iz)return Q_;iz=1;var t=Efe();return Q_=t,Q_}var X_,sz;function Pfe(){return sz||(sz=1,X_=Ofe()),X_}var Cfe=Pfe(),nh=Ee(Cfe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ti(){return ti=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ti.apply(this,arguments)}function An(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ah(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var ZP;typeof Object.assign!="function"?ZP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:ZP=Object.assign;var vo=ZP,az=["","webkit","Moz","MS","ms","o"],Nfe=typeof document>"u"?{style:{}}:document.createElement("div"),Tfe="function",hl=Math.round,go=Math.abs,pT=Date.now;function am(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<az.length;){if(r=az[s],n=r?r+i:e,n in t)return n;s++}}var Hi;typeof window>"u"?Hi={}:Hi=window;var yG=am(Nfe.style,"touchAction"),bG=yG!==void 0;function Ife(){if(!bG)return!1;var t={},e=Hi.CSS&&Hi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Hi.CSS.supports("touch-action",r):!0}),t}var wG="compute",xG="auto",eC="manipulation",Qa="none",sd="pan-x",ad="pan-y",Fh=Ife(),Rfe=/mobile|tablet|ip(ad|hone|od)|android/i,_G="ontouchstart"in Hi,jfe=am(Hi,"PointerEvent")!==void 0,$fe=_G&&Rfe.test(navigator.userAgent),ih="touch",kfe="pen",mT="mouse",Dfe="kinect",qfe=25,kr=1,Do=2,Dt=4,Zr=8,Xf=1,sh=2,ah=4,oh=8,nu=16,_i=sh|ah,Xa=oh|nu,SG=_i|Xa,EG=["x","y"],Jf=["clientX","clientY"];function Ki(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function om(t,e){return typeof t===Tfe?t.apply(e&&e[0]||void 0,e):t}function Ra(t,e){return t.indexOf(e)>-1}function Mfe(t){if(Ra(t,Qa))return Qa;var e=Ra(t,sd),r=Ra(t,ad);return e&&r?Qa:e||r?e?sd:ad:Ra(t,eC)?eC:xG}var OG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===wG&&(n=this.compute()),bG&&this.manager.element.style&&Fh[n]&&(this.manager.element.style[yG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Ki(this.manager.recognizers,function(i){om(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Mfe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ra(a,Qa)&&!Fh[Qa],l=Ra(a,ad)&&!Fh[ad],u=Ra(a,sd)&&!Fh[sd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&_i||u&&s&Xa))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function vT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function PG(t){var e=t.length;if(e===1)return{x:hl(t[0].clientX),y:hl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:hl(r/e),y:hl(n/e)}}function oz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:hl(t.pointers[r].clientX),clientY:hl(t.pointers[r].clientY)},r++;return{timeStamp:pT(),pointers:e,center:PG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Zf(t,e,r){r||(r=EG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function tC(t,e,r){r||(r=EG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function CG(t,e){return t===e?Xf:go(t)>=go(e)?t<0?sh:ah:e<0?oh:nu}function Afe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===kr||s.eventType===Dt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function NG(t,e,r){return{x:e/t||0,y:r/t||0}}function Ffe(t,e){return Zf(e[0],e[1],Jf)/Zf(t[0],t[1],Jf)}function Lfe(t,e){return tC(e[1],e[0],Jf)+tC(t[1],t[0],Jf)}function Bfe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Zr&&(n>qfe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=NG(n,l,u);s=d.x,a=d.y,i=go(d.x)>go(d.y)?d.x:d.y,o=CG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function zfe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=oz(e)),i>1&&!r.firstMultiple?r.firstMultiple=oz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=PG(n);e.timeStamp=pT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=tC(o,l),e.distance=Zf(o,l),Afe(r,e),e.offsetDirection=CG(e.deltaX,e.deltaY);var u=NG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=go(u.x)>go(u.y)?u.x:u.y,e.scale=a?Ffe(a.pointers,n):1,e.rotation=a?Lfe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Bfe(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,vT(f,d)&&(d=f),e.target=d}function Ufe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&kr&&n-i===0,a=e&(Dt|Zr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,zfe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function od(t){return t.trim().split(/\s+/g)}function Oc(t,e,r){Ki(od(e),function(n){t.addEventListener(n,r,!1)})}function Pc(t,e,r){Ki(od(e),function(n){t.removeEventListener(n,r,!1)})}function lz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Bu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){om(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Oc(this.element,this.evEl,this.domHandler),this.evTarget&&Oc(this.target,this.evTarget,this.domHandler),this.evWin&&Oc(lz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Pc(this.element,this.evEl,this.domHandler),this.evTarget&&Pc(this.target,this.evTarget,this.domHandler),this.evWin&&Pc(lz(this.element),this.evWin,this.domHandler)},t}();function yo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Wfe={pointerdown:kr,pointermove:Do,pointerup:Dt,pointercancel:Zr,pointerout:Zr},Vfe={2:ih,3:kfe,4:mT,5:Dfe},TG="pointerdown",IG="pointermove pointerup pointercancel";Hi.MSPointerEvent&&!Hi.PointerEvent&&(TG="MSPointerDown",IG="MSPointerMove MSPointerUp MSPointerCancel");var RG=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evEl=TG,i.evWin=IG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Wfe[o],u=Vfe[i.pointerType]||i.pointerType,d=u===ih,h=yo(s,i.pointerId,"pointerId");l&kr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Dt|Zr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Bu);function ld(t){return Array.prototype.slice.call(t,0)}function gT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];yo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Hfe={touchstart:kr,touchmove:Do,touchend:Dt,touchcancel:Zr},Kfe="touchstart touchmove touchend touchcancel",yT=function(t){An(e,t);function e(){var n;return e.prototype.evTarget=Kfe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Hfe[i.type],a=Gfe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:ih,srcEvent:i})},e}(Bu);function Gfe(t,e){var r=ld(t.touches),n=this.targetIds;if(e&(kr|Do)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=ld(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return vT(u.target,l)}),e===kr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Dt|Zr)&&delete n[a[i].identifier],i++;if(o.length)return[gT(s.concat(o),"identifier",!0),o]}var Yfe={mousedown:kr,mousemove:Do,mouseup:Dt},Qfe="mousedown",Xfe="mousemove mouseup",bT=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evEl=Qfe,i.evWin=Xfe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Yfe[i.type];s&kr&&i.button===0&&(this.pressed=!0),s&Do&&i.which!==1&&(s=Dt),this.pressed&&(s&Dt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:mT,srcEvent:i}))},e}(Bu),Jfe=2500,uz=25;function cz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Jfe)}}function Zfe(t,e){t&kr?(this.primaryTouch=e.changedPointers[0].identifier,cz.call(this,e)):t&(Dt|Zr)&&cz.call(this,e)}function epe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=uz&&a<=uz)return!0}return!1}var jG=function(){var t=function(e){An(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===ih,h=u.pointerType===mT;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)Zfe.call(Ah(Ah(a)),l,u);else if(h&&epe.call(Ah(Ah(a)),u))return;a.callback(o,l,u)}},a.touch=new yT(a.manager,a.handler),a.mouse=new bT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Bu);return t}();function tpe(t){var e,r=t.options.inputClass;return r?e=r:jfe?e=RG:$fe?e=yT:_G?e=jG:e=bT,new e(t,Ufe)}function fl(t,e,r){return Array.isArray(t)?(Ki(t,r[e],r),!0):!1}var of=1,In=2,iu=4,Qs=8,Gi=Qs,ud=16,gi=32,rpe=1;function npe(){return rpe++}function Lh(t,e){var r=e.manager;return r?r.get(t):t}function dz(t){return t&ud?"cancel":t&Qs?"end":t&iu?"move":t&In?"start":""}var lh=function(){function t(r){r===void 0&&(r={}),this.options=ti({enable:!0},r),this.id=npe(),this.manager=null,this.state=of,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return vo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(fl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Lh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return fl(n,"dropRecognizeWith",this)?this:(n=Lh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(fl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Lh(n,this),yo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(fl(n,"dropRequireFailure",this))return this;n=Lh(n,this);var i=yo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Qs&&a(i.options.event+dz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Qs&&a(i.options.event+dz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=gi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(gi|of)))return!1;n++}return!0},e.recognize=function(n){var i=vo({},n);if(!om(this.options.enable,[this,i])){this.reset(),this.state=gi;return}this.state&(Gi|ud|gi)&&(this.state=of),this.state=this.process(i),this.state&(In|iu|Qs|ud)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),rC=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ti({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[eC]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&kr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Dt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Zf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Gi,s.tryEmit()},a.interval),In):Gi}return gi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=gi},this.options.interval),gi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Gi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(lh),su=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ti({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(In|iu),l=this.attrTest(i);return o&&(a&Zr||!l)?s|ud:o||l?a&Dt?s|Qs:s&In?s|iu:In:gi},e}(lh);function $G(t){return t===nu?"down":t===oh?"up":t===sh?"left":t===ah?"right":""}var wT=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ti({event:"pan",threshold:10,pointers:1,direction:SG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&_i&&s.push(ad),i&Xa&&s.push(sd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&_i?(l=u===0?Xf:u<0?sh:ah,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Xf:d<0?oh:nu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return su.prototype.attrTest.call(this,i)&&(this.state&In||!(this.state&In)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=$G(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(su),kG=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ti({event:"swipe",threshold:10,velocity:.3,direction:_i|Xa,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return wT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(_i|Xa)?a=i.overallVelocity:s&_i?a=i.overallVelocityX:s&Xa&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&go(a)>this.options.velocity&&i.eventType&Dt},r.emit=function(i){var s=$G(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(su),DG=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ti({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Qa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&In)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(su),qG=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ti({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Qa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&In)},e}(su),MG=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ti({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[xG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Dt|Zr)&&!u)this.reset();else if(i.eventType&kr)this.reset(),this._timer=setTimeout(function(){s.state=Gi,s.tryEmit()},a.time);else if(i.eventType&Dt)return Gi;return gi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Gi&&(i&&i.eventType&Dt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=pT(),this.manager.emit(this.options.event,this._input)))},e}(lh),AG={domEvents:!1,touchAction:wG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},hz=[[qG,{enable:!1}],[DG,{enable:!1},["rotate"]],[kG,{direction:_i}],[wT,{direction:_i},["swipe"]],[rC],[rC,{event:"doubletap",taps:2},["tap"]],[MG]],ipe=1,fz=2;function pz(t,e){var r=t.element;if(r.style){var n;Ki(t.options.cssProps,function(i,s){n=am(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function spe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var mz=function(){function t(r,n){var i=this;this.options=vo({},AG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=tpe(this),this.touchAction=new OG(this,this.options.touchAction),pz(this,!0),Ki(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return vo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?fz:ipe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Gi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==fz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(In|iu|Qs)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof lh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(fl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(fl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=yo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Ki(od(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Ki(od(n),function(a){i?s[a]&&s[a].splice(yo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&spe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&pz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),ape={touchstart:kr,touchmove:Do,touchend:Dt,touchcancel:Zr},ope="touchstart",lpe="touchstart touchmove touchend touchcancel",upe=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evTarget=ope,i.evWin=lpe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=ape[i.type];if(s===kr&&(this.started=!0),!!this.started){var a=cpe.call(this,i,s);s&(Dt|Zr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:ih,srcEvent:i})}},e}(Bu);function cpe(t,e){var r=ld(t.touches),n=ld(t.changedTouches);return e&(Dt|Zr)&&(r=gT(r.concat(n),"identifier",!0)),[r,n]}function FG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var LG=FG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),dpe=FG(function(t,e){return LG(t,e,!0)},"merge","Use `assign`.");function hpe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&vo(i,r)}function vz(t,e){return function(){return t.apply(e,arguments)}}var BG=function(){var t=function(r,n){return n===void 0&&(n={}),new mz(r,ti({recognizers:hz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=SG,t.DIRECTION_DOWN=nu,t.DIRECTION_LEFT=sh,t.DIRECTION_RIGHT=ah,t.DIRECTION_UP=oh,t.DIRECTION_HORIZONTAL=_i,t.DIRECTION_VERTICAL=Xa,t.DIRECTION_NONE=Xf,t.DIRECTION_DOWN=nu,t.INPUT_START=kr,t.INPUT_MOVE=Do,t.INPUT_END=Dt,t.INPUT_CANCEL=Zr,t.STATE_POSSIBLE=of,t.STATE_BEGAN=In,t.STATE_CHANGED=iu,t.STATE_ENDED=Qs,t.STATE_RECOGNIZED=Gi,t.STATE_CANCELLED=ud,t.STATE_FAILED=gi,t.Manager=mz,t.Input=Bu,t.TouchAction=OG,t.TouchInput=yT,t.MouseInput=bT,t.PointerEventInput=RG,t.TouchMouseInput=jG,t.SingleTouchInput=upe,t.Recognizer=lh,t.AttrRecognizer=su,t.Tap=rC,t.Pan=wT,t.Swipe=kG,t.Pinch=DG,t.Rotate=qG,t.Press=MG,t.on=Oc,t.off=Pc,t.each=Ki,t.merge=dpe,t.extend=LG,t.bindFn=vz,t.assign=vo,t.inherit=hpe,t.bindFn=vz,t.prefixed=am,t.toArray=ld,t.inArray=yo,t.uniqueArray=gT,t.splitStr=od,t.boolOrFn=om,t.hasParent=vT,t.addEventListeners=Oc,t.removeEventListeners=Pc,t.defaults=vo({},AG,{preset:hz}),t}();BG.defaults;pde("DELETE");function lm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return fpe(e.length?e:[Qf()])}function fpe(t){let[e,r,n]=ppe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function ppe(){const t=mpe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function mpe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function vpe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const xT=typeof window<"u"?window.Hammer||BG:function(){return vpe()};function yi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=xT(this._dom.overlay);r.on("tap",Z(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Qe(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{gpe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}X9(yi.prototype);yi.current=null;yi.prototype.destroy=function(){this.deactivate();for(const r of Ga(t=Wi(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};yi.prototype.activate=function(){yi.current&&yi.current.deactivate(),yi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};yi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};yi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function gpe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const ype=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,bpe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,wpe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,xpe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ys(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(ys(e),t.removeChild(e))}}function xl(t){return t instanceof String||typeof t=="string"}function gz(t){return typeof t=="object"&&t!==null}function bo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function zG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")bo(t,e,n,r);else{const i=t[n],s=e[n];gz(i)&&gz(s)&&zG(i,s,r)}}function zu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?et(e[s],r[s],!1,n):bo(e,r,s,n);else{if(Ot(r[s]))throw new TypeError("Arrays are not supported by deepExtend");bo(e,r,s,n)}}return e}function ep(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Ot(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Ys(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?et(e[i],r[i]):bo(e,r,i,n);else if(Ot(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else bo(e,r,i,n);return e}function et(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&J5(e[s])===Object.prototype)t[s]===void 0?t[s]=et({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&J5(t[s])===Object.prototype?et(t[s],e[s],r):bo(t,e,s,n);else if(Ot(e[s])){var i;t[s]=mi(i=e[s]).call(i)}else bo(t,e,s,n);return t}function tp(t,e){return[...t,e]}function _pe(t){return mi(t).call(t)}function Spe(t){return t.getBoundingClientRect().left}function Epe(t){return t.getBoundingClientRect().top}function Re(t,e){if(Ot(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function _T(t){let e;switch(t.length){case 3:case 4:return e=bpe.exec(t),e?{r:Kn(e[1]+e[1],16),g:Kn(e[2]+e[2],16),b:Kn(e[3]+e[3],16)}:null;case 6:case 7:return e=ype.exec(t),e?{r:Kn(e[1],16),g:Kn(e[2],16),b:Kn(e[3],16)}:null;default:return null}}function Pn(t,e){if(Ys(t).call(t,"rgba"))return t;if(Ys(t).call(t,"rgb")){const r=t.substr(Ue(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=_T(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function UG(t,e,r){var n;return"#"+mi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function nC(t,e){if(xl(t)){let n=t;if(VG(n)){var r;const i=ru(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Kn(s)});n=UG(i[0],i[1],i[2])}if(WG(n)===!0){const i=Ope(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=iC(a.h,a.s,a.v),l=iC(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:xl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:xl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function cc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function lf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),u=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=u,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function iC(t,e,r){const n=lf(t,e,r);return UG(n.r,n.g,n.b)}function Ope(t){const e=_T(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return cc(e.r,e.g,e.b)}function WG(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function VG(t){return wpe.test(t)}function Ppe(t){return xpe.test(t)}function Xs(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Ya(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Xs(t[r]));return e}function Sn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=Ya(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Cpe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function bs(t,e){let r;Ot(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const Npe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Tpe=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Npe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),xl(e)===!0){if(VG(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(Ppe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(WG(e)===!0){const s=_T(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+rh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=kt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Vi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=kt({},e)),this.color=e;const n=cc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=cc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=lf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=cc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),nh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Z(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Z(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Z(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Z(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new xT(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=lf(a*u,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,u=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(u)*d+s,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=cc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=lf(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function sC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(sC(...mi(e).call(e,1))),n}}let Ipe=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},kt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Tpe(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Ot(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Vr(e)!==void 0&&(this.options.filter=Vr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Vr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Vr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ue(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Qe(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(sC("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ue(e).call(e,r)!==-1&&(s=Ue(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let u="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,u="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Vi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Vi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Vr(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],u=tp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Ot(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(u);if(Ot(l))this._handleArray(l,d,u);else if(typeof l=="string")this._makeTextInput(l,d,u);else if(typeof l=="boolean")this._makeCheckbox(l,d,u);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=tp(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,u,!0);this._makeItem(u,p),a=this._handleObject(l,u)||a}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(o,u,!0);this._makeItem(u,h),a=this._handleObject(l,u)||a}}else console.error("dont know how to handle",l,o,u)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(sC("pre","const options = "+rh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Rpe=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Kn(e),this.y=Kn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,u?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},nc=!1,yz;const aC="background: #FFeeee; color: #dd0000";let jpe=class yt{static validate(e,r,n){nc=!1,yz=r;let i=r;return n!==void 0&&(i=r[n]),yt.parse(e,i,[]),nc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&yt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){yt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=yt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),yt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+yt.printLocation(a,e),aC)},l=yt.getType(r[e]),u=s[l];u!==void 0?yt.getType(u)==="array"&&Ue(u).call(u,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+yt.print(u)+' not "'+r[e]+'". '),nc=!0):l==="object"&&i!=="__any__"&&(a=tp(a,e),yt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+yt.print(xt(s))+". Received ["+l+'] "'+r[e]+'"'),nc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Ot(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=yt.findInOptions(e,r,n,!1),s=yt.findInOptions(e,yz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+yt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+yt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+yt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+yt.printLocation(i.path,e):l=". Did you mean one of these: "+yt.print(xt(r))+yt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,aC),nc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=yt.findInOptions(e,r[h],tp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,u=p.indexMatch)}else{var d;Ue(d=h.toLowerCase()).call(d,l)!==-1&&(u=h),f=yt.levenshteinDistance(e,h),s>f&&(a=h,o=_pe(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return rh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const $pe=yi,kpe=Ipe,_l=xT,Dpe=Rpe,HG=aC,qpe=jpe;function Mpe(t){return qs=t,Bpe()}var KG={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},ST=Ya(KG);ST.color="color.color";ST.style="dashes";var Nr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},bz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},qs="",au=0,Te="",xe="",Ur=Nr.NULL;function Ape(){au=0,Te=qs.charAt(0)}function Kt(){au++,Te=qs.charAt(au)}function Ko(){return qs.charAt(au+1)}function wz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function na(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Fpe(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function GG(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=na(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ue(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=na(i.attr,e.attr))}function Lpe(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=na({},t.edge);e.attr=na(r,e.attr)}}function YG(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=na({},t.edge)),s.attr=na(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function tt(){for(Ur=Nr.NULL,xe="";Te===" "||Te==="	"||Te===`
`||Te==="\r";)Kt();do{var t=!1;if(Te==="#"){for(var e=au-1;qs.charAt(e)===" "||qs.charAt(e)==="	";)e--;if(qs.charAt(e)===`
`||qs.charAt(e)===""){for(;Te!=""&&Te!=`
`;)Kt();t=!0}}if(Te==="/"&&Ko()==="/"){for(;Te!=""&&Te!=`
`;)Kt();t=!0}if(Te==="/"&&Ko()==="*"){for(;Te!="";)if(Te==="*"&&Ko()==="/"){Kt(),Kt();break}else Kt();t=!0}for(;Te===" "||Te==="	"||Te===`
`||Te==="\r";)Kt()}while(t);if(Te===""){Ur=Nr.DELIMITER;return}var r=Te+Ko();if(bz[r]){Ur=Nr.DELIMITER,xe=r,Kt(),Kt();return}if(bz[Te]){Ur=Nr.DELIMITER,xe=Te,Kt();return}if(wz(Te)||Te==="-"){for(xe+=Te,Kt();wz(Te);)xe+=Te,Kt();xe==="false"?xe=!1:xe==="true"?xe=!0:isNaN(Number(xe))||(xe=Number(xe)),Ur=Nr.IDENTIFIER;return}if(Te==='"'){for(Kt();Te!=""&&(Te!='"'||Te==='"'&&Ko()==='"');)Te==='"'?(xe+=Te,Kt()):Te==="\\"&&Ko()==="n"?(xe+=`
`,Kt()):xe+=Te,Kt();if(Te!='"')throw Tr('End of string " expected');Kt(),Ur=Nr.IDENTIFIER;return}for(Ur=Nr.UNKNOWN;Te!="";)xe+=Te,Kt();throw new SyntaxError('Syntax error in part "'+ZG(xe,30)+'"')}function Bpe(){var t={};if(Ape(),tt(),xe==="strict"&&(t.strict=!0,tt()),(xe==="graph"||xe==="digraph")&&(t.type=xe,tt()),Ur===Nr.IDENTIFIER&&(t.id=xe,tt()),xe!="{")throw Tr("Angle bracket { expected");if(tt(),QG(t),xe!="}")throw Tr("Angle bracket } expected");if(tt(),xe!=="")throw Tr("End of file expected");return tt(),delete t.node,delete t.edge,delete t.graph,t}function QG(t){for(;xe!==""&&xe!="}";)zpe(t),xe===";"&&tt()}function zpe(t){var e=XG(t);if(e){JG(t,e);return}var r=Upe(t);if(!r){if(Ur!=Nr.IDENTIFIER)throw Tr("Identifier expected");var n=xe;if(tt(),xe==="="){if(tt(),Ur!=Nr.IDENTIFIER)throw Tr("Identifier expected");t[n]=xe,tt()}else Wpe(t,n)}}function XG(t){var e=null;if(xe==="subgraph"&&(e={},e.type="subgraph",tt(),Ur===Nr.IDENTIFIER&&(e.id=xe,tt())),xe==="{"){if(tt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,QG(e),xe!="}")throw Tr("Angle bracket } expected");tt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Upe(t){return xe==="node"?(tt(),t.node=Cc(),"node"):xe==="edge"?(tt(),t.edge=Cc(),"edge"):xe==="graph"?(tt(),t.graph=Cc(),"graph"):null}function Wpe(t,e){var r={id:e},n=Cc();n&&(r.attr=n),GG(t,r),JG(t,e)}function JG(t,e){for(;xe==="->"||xe==="--";){var r,n=xe;tt();var i=XG(t);if(i)r=i;else{if(Ur!=Nr.IDENTIFIER)throw Tr("Identifier or subgraph expected");r=xe,GG(t,{id:r}),tt()}var s=Cc(),a=YG(t,e,r,n,s);Lpe(t,a),e=r}}function Cc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;xe==="[";){for(tt(),e={};xe!==""&&xe!="]";){if(Ur!=Nr.IDENTIFIER)throw Tr("Attribute name expected");var a=xe;if(tt(),xe!="=")throw Tr("Equal sign = expected");if(tt(),Ur!=Nr.IDENTIFIER)throw Tr("Attribute value expected");var o=xe;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),tt(),xe==","&&tt()}if(xe!="]")throw Tr("Bracket ] expected");tt()}if(Ys(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Tr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var d=i[u.dir].value;if(!Ys(s).call(s,"arrows"))if(d==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Tr('Invalid dir type "'+d+'"');var h,f;if(d==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},Wi(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(d==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Tr('Invalid dir type "'+d+'"');Wi(i).call(i,u.dir,1)}var m;if(Ys(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)Fpe(i[t].attr,i[t].name,i[t].value);return e}function Tr(t){return new SyntaxError(t+', got "'+ZG(xe,30)+'" (char '+au+")")}function ZG(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Vpe(t,e,r){Ot(t)?Qe(t).call(t,function(n){Ot(e)?Qe(e).call(e,function(i){r(n,i)}):r(n,e)}):Ot(e)?Qe(e).call(e,function(n){r(t,n)}):r(t,e)}function J_(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function xz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Ot(i)?Qe(i).call(i,function(s){J_(r,s,t[n])}):typeof i=="string"?J_(r,i,t[n]):J_(r,n,t[n])}return r}function Hpe(t){var e=Mpe(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Qe(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};na(o,xz(a.attr,KG)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return na(o,xz(a.attr,ST)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};Qe(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Qe(u=a.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if(Vpe(o,l,function(h,f){var p=YG(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;Qe(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Kpe(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=ru(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:ru(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const Gpe={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Ype={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Qpe={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Xpe={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Jpe={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Zpe={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},eme={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},tme={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},rme={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},nme={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},ime={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var sme=Object.freeze({__proto__:null,cn:tme,cs:ime,de:Ype,en:Gpe,es:Qpe,fr:nme,it:Xpe,nl:Jpe,pt:Zpe,ru:eme,uk:rme});function ame(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(Ihe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class ome{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,u,s],[5*u,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class lme{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new ome;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var _z={},Sz={},Z_={exports:{}},eS,Ez;function ume(){if(Ez)return eS;Ez=1;var t=De();return eS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),eS}var tS,Oz;function cme(){if(Oz)return tS;Oz=1;var t=De(),e=ir(),r=Ei(),n=ume(),i=Object.isExtensible,s=t(function(){});return tS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,tS}var rS,Pz;function eY(){if(Pz)return rS;Pz=1;var t=De();return rS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),rS}var Cz;function um(){if(Cz)return Z_.exports;Cz=1;var t=be(),e=Ae(),r=Xd(),n=ir(),i=pr(),s=qn().f,a=nm(),o=lT(),l=cme(),u=Qp(),d=eY(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=Z_.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,Z_.exports}var nS,Nz;function dme(){if(Nz)return nS;Nz=1;var t=Ft(),e=Mu(),r=t("iterator"),n=Array.prototype;return nS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},nS}var iS,Tz;function tY(){if(Tz)return iS;Tz=1;var t=qu(),e=ZN(),r=Cu(),n=Mu(),i=Ft(),s=i("iterator");return iS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},iS}var sS,Iz;function hme(){if(Iz)return sS;Iz=1;var t=nn(),e=cs(),r=Oi(),n=Iu(),i=tY(),s=TypeError;return sS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},sS}var aS,Rz;function ET(){if(Rz)return aS;Rz=1;var t=nn(),e=Oi(),r=ZN();return aS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},aS}var oS,jz;function cm(){if(jz)return oS;jz=1;var t=Jp(),e=nn(),r=Oi(),n=Iu(),i=dme(),s=ds(),a=At(),o=hme(),l=tY(),u=ET(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return oS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,N,T=function(z){return E&&u(E,"normal"),new h(!0,z)},q=function(z){return g?(r(z),w?_(z[0],z[1],T):_(z[0],z[1])):w?_(z,T):_(z)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(N=e(I,E)).done;){try{C=q(N.value)}catch(z){u(E,"throw",z)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},oS}var lS,$z;function OT(){if($z)return lS;$z=1;var t=At(),e=TypeError;return lS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},lS}var uS,kz;function PT(){if(kz)return uS;kz=1;var t=be(),e=ct(),r=um(),n=De(),i=$u(),s=cm(),a=OT(),o=nr(),l=ir(),u=Cu(),d=$o(),h=qn().f,f=pa().forEach,p=Tt(),m=ko(),y=m.set,b=m.getterFor;return uS=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=C.prototype,N=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(z,te){var K=N(this).collection;if(!q&&_&&!l(z))return T==="get"?void 0:!1;var L=K[T](z===0?0:z,te);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},uS}var cS,Dz;function CT(){if(Dz)return cS;Dz=1;var t=th();return cS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},cS}var dS,qz;function fme(){if(qz)return dS;qz=1;var t=yn(),e=uT(),r=Ft(),n=Tt(),i=r("species");return dS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},dS}var hS,Mz;function rY(){if(Mz)return hS;Mz=1;var t=eh(),e=uT(),r=CT(),n=Jp(),i=OT(),s=Cu(),a=cm(),o=dT(),l=hT(),u=fme(),d=Tt(),h=um().fastKey,f=ko(),p=f.set,m=f.getterFor;return hS={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),N=O(S,P),T,q;return N?N.value=C:(I.last=N={index:q=h(P,!0),key:P,value:C,previous:T=I.last,next:null,removed:!1},I.first||(I.first=N),T&&(T.next=N),d?I.size++:S.size++,q!=="F"&&(I.index[q]=N)),S},O=function(S,P){var C=_(S),I=h(P),N;if(I!=="F")return C.index[I];for(N=C.first;N;N=N.next)if(N.key===P)return N};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var N=I.next,T=I.previous;delete C.index[I.index],I.removed=!0,T&&(T.next=N),N&&(N.previous=T),C.first===I&&(C.first=N),C.last===I&&(C.last=T),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:C.first;)for(I(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},hS}var Az;function pme(){if(Az)return Sz;Az=1;var t=PT(),e=rY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Sz}var Fz;function mme(){return Fz||(Fz=1,pme()),_z}var Lz={},fS,Bz;function nY(){return Bz||(Bz=1,fS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),fS}var pS,zz;function vme(){if(zz)return pS;zz=1;var t=yn(),e=nY(),r=t("Map");return pS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},pS}var Uz;function gme(){if(Uz)return Lz;Uz=1;var t=be(),e=Ae(),r=cs(),n=us(),i=cm(),s=vme(),a=Ru(),o=De(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),Lz}var Wz={},mS,Vz;function yme(){if(Vz)return mS;Vz=1;var t=Ae(),e=ku(),r=Mn(),n=us(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return mS={codeAt:o(!1),charAt:o(!0)},mS}var Hz;function NT(){if(Hz)return Wz;Hz=1;var t=yme().charAt,e=Mn(),r=ko(),n=dT(),i=hT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),Wz}var vS,Kz;function bme(){if(Kz)return vS;Kz=1,Au(),mme(),gme(),NT();var t=He();return vS=t.Map,vS}var gS,Gz;function wme(){if(Gz)return gS;Gz=1;var t=bme();return Fu(),gS=t,gS}var yS,Yz;function xme(){return Yz||(Yz=1,yS=wme()),yS}var _me=xme(),TT=Ee(_me);class Sme{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},kt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ue(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new TT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var Qz={},Xz;function Eme(){if(Xz)return Qz;Xz=1;var t=be();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),Qz}var bS,Jz;function Ome(){if(Jz)return bS;Jz=1,Eme();var t=He();return bS=t.Number.isNaN,bS}var wS,Zz;function Pme(){if(Zz)return wS;Zz=1;var t=Ome();return wS=t,wS}var xS,e6;function Cme(){return e6||(e6=1,xS=Pme()),xS}var Nme=Cme(),oC=Ee(Nme),t6={},_S,r6;function Tme(){if(r6)return _S;r6=1;var t=ct(),e=t.isFinite;return _S=Number.isFinite||function(n){return typeof n=="number"&&e(n)},_S}var n6;function Ime(){if(n6)return t6;n6=1;var t=be(),e=Tme();return t({target:"Number",stat:!0},{isFinite:e}),t6}var SS,i6;function Rme(){if(i6)return SS;i6=1,Ime();var t=He();return SS=t.Number.isFinite,SS}var ES,s6;function jme(){if(s6)return ES;s6=1;var t=Rme();return ES=t,ES}var OS,a6;function $me(){return a6||(a6=1,OS=jme()),OS}var kme=$me(),ja=Ee(kme),o6={},l6;function Dme(){if(l6)return o6;l6=1;var t=be(),e=pa().some,r=Lu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),o6}var PS,u6;function qme(){if(u6)return PS;u6=1,Dme();var t=mr();return PS=t("Array","some"),PS}var CS,c6;function Mme(){if(c6)return CS;c6=1;var t=At(),e=qme(),r=Array.prototype;return CS=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},CS}var NS,d6;function Ame(){if(d6)return NS;d6=1;var t=Mme();return NS=t,NS}var TS,h6;function Fme(){return h6||(h6=1,TS=Ame()),TS}var Lme=Fme(),Bme=Ee(Lme),IS={exports:{}},f6={},p6;function zme(){if(p6)return f6;p6=1;var t=be(),e=Tt(),r=qn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),f6}var m6;function Ume(){if(m6)return IS.exports;m6=1,zme();var t=He(),e=t.Object,r=IS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),IS.exports}var RS,v6;function iY(){if(v6)return RS;v6=1;var t=Ume();return RS=t,RS}var jS,g6;function Wme(){if(g6)return jS;g6=1;var t=iY();return jS=t,jS}var $S,y6;function Vme(){if(y6)return $S;y6=1;var t=Wme();return $S=t,$S}var kS,b6;function Hme(){return b6||(b6=1,kS=Vme()),kS}var Kme=Hme(),Gme=Ee(Kme),w6={},x6;function Yme(){if(x6)return w6;x6=1;var t=Ft(),e=qn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),w6}var _6={},S6;function Qme(){return S6||(S6=1,aG()),_6}var E6={},O6;function Xme(){return O6||(O6=1,oG()),E6}var P6={},C6;function Jme(){if(C6)return P6;C6=1;var t=gt();return t("metadata"),P6}var DS,N6;function Zme(){if(N6)return DS;N6=1;var t=hG();return Yme(),Qme(),Xme(),Jme(),DS=t,DS}var T6={},qS,I6;function sY(){if(I6)return qS;I6=1;var t=yn(),e=Ae(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return qS=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},qS}var R6;function eve(){if(R6)return T6;R6=1;var t=be(),e=sY();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),T6}var j6={},MS,$6;function aY(){if($6)return MS;$6=1;for(var t=ju(),e=yn(),r=Ae(),n=Qd(),i=Ft(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return MS=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},MS}var k6;function tve(){if(k6)return j6;k6=1;var t=be(),e=aY();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),j6}var D6={},q6;function rve(){if(q6)return D6;q6=1;var t=gt();return t("customMatcher"),D6}var M6={},A6;function nve(){if(A6)return M6;A6=1;var t=gt();return t("observable"),M6}var F6={},L6;function ive(){if(L6)return F6;L6=1;var t=be(),e=sY();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),F6}var B6={},z6;function sve(){if(z6)return B6;z6=1;var t=be(),e=aY();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),B6}var U6={},W6;function ave(){if(W6)return U6;W6=1;var t=gt();return t("matcher"),U6}var V6={},H6;function ove(){if(H6)return V6;H6=1;var t=gt();return t("metadataKey"),V6}var K6={},G6;function lve(){if(G6)return K6;G6=1;var t=gt();return t("patternMatch"),K6}var Y6={},Q6;function uve(){if(Q6)return Y6;Q6=1;var t=gt();return t("replaceAll"),Y6}var AS,X6;function cve(){if(X6)return AS;X6=1;var t=Zme();return eve(),tve(),rve(),nve(),ive(),sve(),ave(),ove(),lve(),uve(),AS=t,AS}var FS,J6;function dve(){return J6||(J6=1,FS=cve()),FS}var hve=dve(),Bh=Ee(hve),LS,Z6;function fve(){if(Z6)return LS;Z6=1,Au(),NT(),lG();var t=im();return LS=t.f("iterator"),LS}var BS,eU;function pve(){if(eU)return BS;eU=1;var t=fve();return Fu(),BS=t,BS}var zS,tU;function mve(){if(tU)return zS;tU=1;var t=pve();return zS=t,zS}var US,rU;function vve(){if(rU)return US;rU=1;var t=mve();return US=t,US}var WS,nU;function gve(){return nU||(nU=1,WS=vve()),WS}var yve=gve(),bve=Ee(yve);function cd(t){"@babel/helpers - typeof";return cd=typeof Bh=="function"&&typeof bve=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Bh=="function"&&e.constructor===Bh&&e!==Bh.prototype?"symbol":typeof e},cd(t)}var VS,iU;function wve(){if(iU)return VS;iU=1,uG();var t=im();return VS=t.f("toPrimitive"),VS}var HS,sU;function xve(){if(sU)return HS;sU=1;var t=wve();return HS=t,HS}var KS,aU;function _ve(){if(aU)return KS;aU=1;var t=xve();return KS=t,KS}var GS,oU;function Sve(){if(oU)return GS;oU=1;var t=_ve();return GS=t,GS}var YS,lU;function Eve(){return lU||(lU=1,YS=Sve()),YS}var Ove=Eve(),Pve=Ee(Ove);function Cve(t,e){if(cd(t)!="object"||!t)return t;var r=t[Pve];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Nve(t){var e=Cve(t,"string");return cd(e)=="symbol"?e:e+""}function Ai(t,e,r){return(e=Nve(e))in t?Gme(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var uU={},QS,cU;function Tve(){if(cU)return QS;cU=1;var t=ct(),e=De(),r=Ae(),n=Mn(),i=pG().trim,s=fT(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,u=l&&l.iterator,d=1/o(s+"-0")!==-1/0||u&&!e(function(){o(Object(u))});return QS=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,QS}var dU;function Ive(){if(dU)return uU;dU=1;var t=be(),e=Tve();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),uU}var XS,hU;function Rve(){if(hU)return XS;hU=1,Ive();var t=He();return XS=t.parseFloat,XS}var JS,fU;function jve(){if(fU)return JS;fU=1;var t=Rve();return JS=t,JS}var ZS,pU;function $ve(){return pU||(pU=1,ZS=jve()),ZS}var kve=$ve(),oY=Ee(kve),mU={},vU;function Dve(){if(vU)return mU;vU=1;var t=be(),e=De(),r=lT().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),mU}var eE,gU;function qve(){if(gU)return eE;gU=1,Dve();var t=He(),e=t.Object;return eE=function(n){return e.getOwnPropertyNames(n)},eE}var tE,yU;function Mve(){if(yU)return tE;yU=1;var t=qve();return tE=t,tE}var rE,bU;function Ave(){return bU||(bU=1,rE=Mve()),rE}var Fve=Ave(),Lve=Ee(Fve),nE,wU;function Bve(){if(wU)return nE;wU=1,sG();var t=He();return nE=t.Object.getOwnPropertySymbols,nE}var iE,xU;function zve(){if(xU)return iE;xU=1;var t=Bve();return iE=t,iE}var sE,_U;function Uve(){return _U||(_U=1,sE=zve()),sE}var Wve=Uve(),ia=Ee(Wve),aE={exports:{}},SU={},EU;function Vve(){if(EU)return SU;EU=1;var t=be(),e=De(),r=ii(),n=Xp().f,i=Tt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),SU}var OU;function Hve(){if(OU)return aE.exports;OU=1,Vve();var t=He(),e=t.Object,r=aE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),aE.exports}var oE,PU;function Kve(){if(PU)return oE;PU=1;var t=Hve();return oE=t,oE}var lE,CU;function Gve(){return CU||(CU=1,lE=Kve()),lE}var Yve=Gve(),ma=Ee(Yve),NU={},TU;function Qve(){if(TU)return NU;TU=1;var t=be(),e=Tt(),r=xde(),n=ii(),i=Xp(),s=tm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),NU}var uE,IU;function Xve(){if(IU)return uE;IU=1,Qve();var t=He();return uE=t.Object.getOwnPropertyDescriptors,uE}var cE,RU;function Jve(){if(RU)return cE;RU=1;var t=Xve();return cE=t,cE}var dE,jU;function Zve(){return jU||(jU=1,dE=Jve()),dE}var ege=Zve(),sa=Ee(ege),hE={exports:{}},$U={},kU;function tge(){if(kU)return $U;kU=1;var t=be(),e=Tt(),r=oT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),$U}var DU;function rge(){if(DU)return hE.exports;DU=1,tge();var t=He(),e=t.Object,r=hE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),hE.exports}var fE,qU;function nge(){if(qU)return fE;qU=1;var t=rge();return fE=t,fE}var pE,MU;function ige(){return MU||(MU=1,pE=nge()),pE}var sge=ige(),dm=Ee(sge),mE,AU;function age(){return AU||(AU=1,mE=iY()),mE}var oge=age(),hm=Ee(oge);function IT(t,e){const r=["node","edge","label"];let n=!0;const i=bs(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ue(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=bs(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function lC(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function rp(t){return typeof t=="string"&&t!==""}function lY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var vE,FU;function lge(){if(FU)return vE;FU=1,Au();var t=mr();return vE=t("Array","values"),vE}var gE,LU;function uge(){if(LU)return gE;LU=1;var t=lge();return gE=t,gE}var yE,BU;function cge(){if(BU)return yE;BU=1,Fu();var t=qu(),e=pr(),r=At(),n=uge(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return yE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},yE}var bE,zU;function dge(){return zU||(zU=1,bE=cge()),bE}var hge=dge(),uY=Ee(hge);class fge{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=kt({},uY(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};kt(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const pge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class UU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=pge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class mge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let u=0;return a!==""&&(u=this.ctx.measureText(a).width),{width:u,values:l}};this.lines=new fge(s)}process(e){if(!rp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.splitStringIntoLines(u,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new UU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new UU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(mi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(mi(a).call(a,0,o),r),i[0]=mi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=mi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=mi(i).call(i,a)}}}}const ic=["bold","ital","boldital","mono"];class Sl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),rp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Re(ic,r=>{this.fontOptions[r]={}}),Sl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Re(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=bs(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=bs(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=bs(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=bs(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=bs(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=bs(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),et(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=IT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Sl.parseFontString(s,i)&&(i=s),Re(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ue(ic).call(ic,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Sl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<ic.length;++n){const i=ic[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);Re(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let u=0;u<o.blocks.length;u++){const d=o.blocks[u];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Pn(i,a),s=Pn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,d){return u==="normal"?d==="mod"?"":l[d]:l[u][d]!==void 0?l[u][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new mge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class qo{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),nh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let vge=class extends qo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),G9(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class RT extends qo{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),iT(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let gge=class extends RT{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class yge extends RT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class va extends qo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),kce(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function WU(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Vr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function bge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=WU(Object(i),!0)).call(r,function(s){Ai(t,s,i[s])}):sa?dm(t,sa(i)):Qe(n=WU(Object(i))).call(n,function(s){hm(t,s,ma(i,s))})}return t}class wge extends va{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:bge({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class xge extends qo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),Y9(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let _ge=class extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Sge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class VU extends qo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),JP(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class Ege extends qo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Oge=class extends RT{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Pn(f,a.opacity),p=Pn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),nh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Pge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Cge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Nge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Tge extends qo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Ige=class extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Rge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function HU(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Vr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function KU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=HU(Object(i),!0)).call(r,function(s){Ai(t,s,i[s])}):sa?dm(t,sa(i)):Qe(n=HU(Object(i))).call(n,function(s){hm(t,s,ma(i,s))})}return t}class lt{constructor(e,r,n,i,s,a){this.options=Xs(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Sl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ue(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ue(r=this.edges).call(r,e);if(n!=-1){var i;Wi(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");lt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Kn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Kn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=oY(e.value)),lt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=IT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&lt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(lt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Vr(i=Lve(r)).call(i,u=>r[u]!=null);l.push("font"),ep(l,e,o),e.color=nC(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(ep(["color","fixed","shadow"],e,r,n),lt.checkMass(r),e.opacity!==void 0&&(lt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(lt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!lt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Sn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=nC(r.color);zG(e.color,o)}else n===!0&&r.color===null&&(e.color=Xs(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Xs(i.font)),lt.updateGroupOptions(e,r,s),r.scaling!==void 0&&Sn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Pn(e.borderColor,r),e.color=Pn(e.color,r),e.shadowColor=Pn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),lt.updateGroupOptions(this.options,KU(KU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new vge(this.options,this.body,this.labelModule);break;case"circle":this.shape=new gge(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new yge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new wge(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new xge(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new _ge(this.options,this.body,this.labelModule);break;case"dot":this.shape=new Sge(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new VU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new Ege(this.options,this.body,this.labelModule);break;case"image":this.shape=new Oge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new Pge(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Cge(this.options,this.body,this.labelModule);break;case"star":this.shape=new Nge(this.options,this.body,this.labelModule);break;case"text":this.shape=new Tge(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Ige(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Rge(this.options,this.body,this.labelModule);break;default:this.shape=new VU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&lC(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),lC(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",HG),e.mass=1}}}class jge{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=Z(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,u){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(u-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Xs(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",Z(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Z(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Re(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(lt.parseOptions(this.options,e),e.opacity!==void 0&&(oC(e.opacity)||!ja(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of xt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(L9("id",e))this.body.data.nodes=e;else if(Ot(e))this.body.data.nodes=new tu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new tu;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Re(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const u=r[a];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[o]=l)}!s&&n!==void 0&&(s=Bme(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:lt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Re(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Ot(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Vi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var GU={},YU;function $ge(){if(YU)return GU;YU=1;var t=be(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,u=0,d=arguments.length,h=0,f,p;u<d;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),GU}var wE,QU;function kge(){if(QU)return wE;QU=1,$ge();var t=He();return wE=t.Math.hypot,wE}var xE,XU;function Dge(){if(XU)return xE;XU=1;var t=kge();return xE=t,xE}var _E,JU;function qge(){return JU||(JU=1,_E=Dge()),_E}var Mge=qge(),Age=Ee(Mge);class Ct{static transform(e,r){Ot(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],u=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*u,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let Fge=class extends Ct{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class Lge extends Ct{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Bge{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class zge{static draw(e,r){const n={x:-.4,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Uge{static draw(e,r){const n={x:-.3,y:0};Ct.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Wge{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Vge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Hge{static draw(e,r){const n={x:-.4,y:0};return Ct.transform(n,r),iT(e,n.x,n.y,r.length*.4),!0}}class Kge{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Gge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Yge{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class Qge{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Ct.transform(n,r),Ct.drawPath(e,n),!0}}class cY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return Fge.draw(e,r);case"circle":return Hge.draw(e,r);case"box":return Gge.draw(e,r);case"crow":return Bge.draw(e,r);case"curve":return zge.draw(e,r);case"diamond":return Yge.draw(e,r);case"inv_curve":return Uge.draw(e,r);case"triangle":return Wge.draw(e,r);case"inv_triangle":return Vge.draw(e,r);case"bar":return Kge.draw(e,r);case"vee":return Qge.draw(e,r);case"arrow":default:return Lge.draw(e,r)}}}function ZU(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Vr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function eW(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=ZU(Object(i),!0)).call(r,function(s){Ai(t,s,i[s])}):sa?dm(t,sa(i)):Qe(n=ZU(Object(i))).call(n,function(s){hm(t,s,ma(i,s))})}return t}class dY{constructor(e,r,n){Ai(this,"color",{}),Ai(this,"colorDirty",!0),Ai(this,"hoverWidth",1.5),Ai(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Ot(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)Q9(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=mi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=lY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,u=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<u);return eW(eW({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Pn(this.from.options.color.border,r.opacity),s=Pn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Pn(this.to.options.color.border,r.opacity):Pn(this.from.options.color.border,r.opacity)}else return Pn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,u]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,u=o*o+l*l;let d=((s-e)*o+(a-r)*l)/u;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,u,d,h,f,p;const m=a.width;r==="from"?(u=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(u=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(u=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(u!=d){const x=Age(u.x-d.x,u.y-d.y),w=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(u.y-d.y,u.x-d.x),l=this._findBorderPosition(u,e);else{const _=(h?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,cY.draw(e,s)&&(this.enableShadow(e,r),nh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Ot(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function tW(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Vr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function rW(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Qe(r=tW(Object(i),!0)).call(r,function(s){Ai(t,s,i[s])}):sa?dm(t,sa(i)):Qe(n=tW(Object(i))).call(n,function(s){hm(t,s,ma(i,s))})}return t}class jT extends dY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,u=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(u.y-d.y,u.x-d.x),y=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return rW(rW({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,u,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(u=this._getDistanceToLine(m,y,f,p,s,a),l=u<l?u:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class nW extends jT{constructor(e,r,n){super(e,r,n),Ai(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class iW extends jT{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Xge extends jT{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let u=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,b,s,a);u=g<u?g:u}d=y,h=b}return u}}class sW extends Xge{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class aW extends dY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),u=e.distanceToBorder(r,s),d=(l-u)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class Js{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Xs(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Sl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Js.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=oY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=IT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(zu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(ja(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(ja(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),rp(r.label)?e.label=r.label:rp(e.label)||(e.label=void 0),Sn(e,r,"smooth",i),Sn(e,r,"shadow",i),Sn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=Ya(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Sn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=Ya(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ue(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ue(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ue(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")Sn(e.arrows,r.arrows,"to",i.arrows),Sn(e.arrows,r.arrows,"middle",i.arrows),Sn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+rh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=Ya(i.arrows));if(r.color!==void 0&&r.color!==null){const o=xl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)et(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(xl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let u=!1;o.color!==void 0&&(l.color=o.color,u=!0),o.highlight!==void 0&&(l.highlight=o.highlight,u=!0),o.hover!==void 0&&(l.hover=o.hover,u=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Xs(i.color));n===!0&&r.font===null&&(e.font=Xs(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof nW&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof sW&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof iW&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof aW&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new nW(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new sW(this.options,this.body,this.labelModule):this.edgeType=new iW(this.options,this.body,this.labelModule):this.edgeType=new aW(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=lY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();lC(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Jge{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=Z(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const u=1/(a-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},et(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],u=e.body.data.edges.get(o);if(u!=null){const d=u.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Z(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",Z(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Re(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Js.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(L9("id",e))this.body.data.edges=e;else if(Ot(e))this.body.data.edges=new tu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new tu;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Re(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Re(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Re(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Js(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Re(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Qe(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class hY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=lm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const u=Math.abs(o-s)-Math.abs(l-a);u>0?(a-=.5*u,l+=.5*u):(s+=.5*u,o-=.5*u);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Zge{constructor(e,r,n){this._rng=lm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=u[d[y]];for(let b=y+1;b<d.length;b++)l=u[d[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class eye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const u=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const y=d*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class SE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,u=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class tye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<h.length;w++)r=u[h[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,g+=p[_].y}const v=b/f.length,x=g/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class uf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const u=a[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class rye extends hY{constructor(e,r,n){super(e,r,n),this._rng=lm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,u=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class nye extends uf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class iye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},kt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,ep(["stabilization"],this.options,e),Sn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||oC(r.x))&&(r.x=0),(typeof r.y!="number"||oC(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new rye(this.body,this.physicsBody,e),this.edgesSolver=new SE(this.body,this.physicsBody,e),this.gravitySolver=new nye(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Zge(this.body,this.physicsBody,e),this.edgesSolver=new SE(this.body,this.physicsBody,e),this.gravitySolver=new uf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new eye(this.body,this.physicsBody,e),this.edgesSolver=new tye(this.body,this.physicsBody,e),this.gravitySolver=new uf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new hY(this.body,this.physicsBody,e),this.edgesSolver=new SE(this.body,this.physicsBody,e),this.gravitySolver=new uf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Z(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Qf();this.physicsTick(),(Qf()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Vi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=xt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Vi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Vi(Z(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),d=3*u,h=iC((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,cY.draw(e,{type:"arrow",point:f,angle:p,length:d}),nh(e).call(e)}}}const lr=[];for(let t=0;t<256;++t)lr.push((t+256).toString(16).slice(1));function sye(t,e=0){return(lr[t[e+0]]+lr[t[e+1]]+lr[t[e+2]]+lr[t[e+3]]+"-"+lr[t[e+4]]+lr[t[e+5]]+"-"+lr[t[e+6]]+lr[t[e+7]]+"-"+lr[t[e+8]]+lr[t[e+9]]+"-"+lr[t[e+10]]+lr[t[e+11]]+lr[t[e+12]]+lr[t[e+13]]+lr[t[e+14]]+lr[t[e+15]]).toLowerCase()}let EE;const aye=new Uint8Array(16);function oye(){if(!EE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");EE=crypto.getRandomValues.bind(crypto)}return EE(aye)}const lye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var oW={randomUUID:lye};function uye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??oye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,sye(n)}function Nc(t,e,r){return oW.randomUUID&&!t?oW.randomUUID():uye(t)}class Ir{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(et(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):et(n,e.options,!0),n}}class cye extends lt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Re(r.edges,n=>{delete this.containedEdges[n.id]}),Re(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Re(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Re(r.edges,n=>{Re(this.edges,i=>{var s,a;const o=Ue(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(Re(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Wi(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class dye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},kt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Re(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,Re(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let u=0;u<this.body.nodeIndices.length;u++){const d={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Ir.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(xt(d).length>0&&xt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in d)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,u=Ir.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Ir.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=ru(n=xt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ue(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,u,d;const h=xt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,u=s.fromId,d=u):(l=s.toId,u=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(xt(e).length==0||xt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=et({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Ir.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Ir.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Nc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const u=this.body.functions.createNode(a,cye);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=xt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ue(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else Re(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const u=[];for(let d=0;d<i.edges.length;d++)u.push(i.edges[d]);for(let d=0;d<u.length;d++){const h=u[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),Ga(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Ga(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(o);else for(let d=0;d<u.length;++d){const h=u[d];Ue(r).call(r,u)!==-1||Ue(n).call(n,u)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Ir.cloneOptions(n,"edge");et(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Nc(),s!==void 0&&et(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof Js){const s=r,a={};a[s.id]=s,r=a}if(e instanceof lt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Re(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Re(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Re(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Re(l.containedEdges,(u,d)=>{!u.endPointsValid()&&!n[d]&&(n[d]=d)})}),Re(this.body.edges,(l,u)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;Re(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[u]=u)}),i(l=>{Re(n,u=>{delete l.containedEdges[u],Re(l.edges,(d,h)=>{if(d.id===u){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),Re(n,l=>{delete this.clusteredEdges[l]}),Re(n,l=>{delete this.body.edges[l]});const s=xt(this.body.edges);Re(s,l=>{const u=this.body.edges[l],d=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(d!==this._isClusteredEdge(u.id))if(d){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let a=!1,o=!0;for(;o;){const l=[];i(function(u){const d=xt(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class hye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Vi(()=>{var r;this.zooming=!1,Z(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Z(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&zu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(Z(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:d.y,right:d.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var OE,lW;function fye(){if(lW)return OE;lW=1,gG();var t=He();return OE=t.setInterval,OE}var PE,uW;function pye(){return uW||(uW=1,PE=fye()),PE}var mye=pye(),vye=Ee(mye);function np(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function fY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class gye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",Z(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&zu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=vye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=Z(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Qe(e=Ga(r=Wi(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ue(e).call(e,"%")!==-1||Ue(e).call(e,"px")!==-1)return e;if(Ue(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new _l(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:_l.DIRECTION_ALL}),np(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new _l(this.frame),fY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function yye(t,e){const r=kt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Ot(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class bye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Z(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Z(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=yye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Ir.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Ir.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Ir.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Ir.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!ja(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!ja(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!ja(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!ja(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=Z(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Z(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Cpe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Z(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function cW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){u(d,"keydown")},l=function(d){u(d,"keyup")},u=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class wye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new _l(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;np(o,Z(n=this._fit).call(n,this))}else{var i;np(o,Z(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new _l(this.canvas.frame);fY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=Z(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=cW({container:window,preventDefault:!0}):this.keycharm=cW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S;Z(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Z(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Z(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Z(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Z(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Z(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Z(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Z(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Z(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class xye{constructor(e,r,n){var i,s,a,o,l,u,d,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new wye(e,r),this.body.eventListeners.onTap=Z(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=Z(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=Z(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=Z(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Z(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Z(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Z(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=Z(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Z(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=Z(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=Z(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=Z(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Z(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(ep(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Sn(this.options,e,"keyboard"),e.tooltip&&(kt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=nC(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-Spe(this.canvas.frame.canvas),y:e.y-Epe(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ue(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=kt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Qe(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Vr(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Qe(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Qe(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Vi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,u=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Dpe(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var dW={},hW={},fW;function _ye(){if(fW)return hW;fW=1;var t=PT(),e=rY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),hW}var pW;function Sye(){return pW||(pW=1,_ye()),dW}var mW={},CE,vW;function Mo(){if(vW)return CE;vW=1;var t=Iu(),e=TypeError;return CE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},CE}var NE,gW;function Ao(){if(gW)return NE;gW=1;var t=yn(),e=nY(),r=t("Set"),n=r.prototype;return NE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},NE}var TE,yW;function Fo(){if(yW)return TE;yW=1;var t=nn();return TE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},TE}var IE,bW;function uh(){if(bW)return IE;bW=1;var t=Fo();return IE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},IE}var RE,wW;function $T(){if(wW)return RE;wW=1;var t=Ao(),e=uh(),r=t.Set,n=t.add;return RE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},RE}var jE,xW;function ch(){return xW||(xW=1,jE=function(t){return t.size}),jE}var $E,_W;function Eye(){return _W||(_W=1,$E=function(t){return{iterator:t,next:t.next,done:!1}}),$E}var kE,SW;function Lo(){if(SW)return kE;SW=1;var t=cs(),e=Oi(),r=nn(),n=ku(),i=Eye(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},kE=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},kE}var DE,EW;function Oye(){if(EW)return DE;EW=1;var t=Mo(),e=Ao(),r=$T(),n=ch(),i=Lo(),s=uh(),a=Fo(),o=e.has,l=e.remove;return DE=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},DE}var qE,OW;function Bo(){return OW||(OW=1,qE=function(){return!1}),qE}var PW;function Pye(){if(PW)return mW;PW=1;var t=be(),e=Oye(),r=De(),n=Bo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),mW}var CW={},ME,NW;function Cye(){if(NW)return ME;NW=1;var t=Mo(),e=Ao(),r=ch(),n=Lo(),i=uh(),s=Fo(),a=e.Set,o=e.add,l=e.has;return ME=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},ME}var TW;function Nye(){if(TW)return CW;TW=1;var t=be(),e=De(),r=Cye(),n=Bo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),CW}var IW={},AE,RW;function Tye(){if(RW)return AE;RW=1;var t=Mo(),e=Ao().has,r=ch(),n=Lo(),i=uh(),s=Fo(),a=ET();return AE=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},AE}var jW;function Iye(){if(jW)return IW;jW=1;var t=be(),e=Tye(),r=Bo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),IW}var $W={},FE,kW;function Rye(){if(kW)return FE;kW=1;var t=Mo(),e=ch(),r=uh(),n=Lo();return FE=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},FE}var DW;function jye(){if(DW)return $W;DW=1;var t=be(),e=Rye(),r=Bo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),$W}var qW={},LE,MW;function $ye(){if(MW)return LE;MW=1;var t=Mo(),e=Ao().has,r=ch(),n=Lo(),i=Fo(),s=ET();return LE=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},LE}var AW;function kye(){if(AW)return qW;AW=1;var t=be(),e=$ye(),r=Bo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),qW}var FW={},BE,LW;function Dye(){if(LW)return BE;LW=1;var t=Mo(),e=Ao(),r=$T(),n=Lo(),i=Fo(),s=e.add,a=e.has,o=e.remove;return BE=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},BE}var zE,BW;function pY(){return BW||(BW=1,zE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),zE}var zW;function qye(){if(zW)return FW;zW=1;var t=be(),e=Dye(),r=pY(),n=Bo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),FW}var UW={},UE,WW;function Mye(){if(WW)return UE;WW=1;var t=Mo(),e=Ao().add,r=$T(),n=Lo(),i=Fo();return UE=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},UE}var VW;function Aye(){if(VW)return UW;VW=1;var t=be(),e=Mye(),r=pY(),n=Bo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),UW}var WE,HW;function Fye(){if(HW)return WE;HW=1,Au(),Sye(),Pye(),Nye(),Iye(),jye(),kye(),qye(),Aye(),NT();var t=He();return WE=t.Set,WE}var VE,KW;function Lye(){if(KW)return VE;KW=1;var t=Fye();return Fu(),VE=t,VE}var HE,GW;function Bye(){return GW||(GW=1,HE=Lye()),HE}var zye=Bye(),_s=Ee(zye),YW={},QW={},KE,XW;function Uye(){if(XW)return KE;XW=1;var t=Ae(),e=CT(),r=um().getWeakData,n=OT(),i=Oi(),s=Cu(),a=ir(),o=cm(),l=pa(),u=pr(),d=ko(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&y(this.entries,_,1),!!~_}},KE={getConstructor:function(w,_,E,O){var S=w(function(N,T){n(N,P),h(N,{type:_,id:b++,frozen:null}),s(T)||o(T,N[O],{that:N,AS_ENTRIES:E})}),P=S.prototype,C=f(_),I=function(N,T,q){var z=C(N),te=r(i(T),!0);return te===!0?g(z).set(T,q):te[z.id]=q,N};return e(P,{delete:function(N){var T=C(this);if(!a(N))return!1;var q=r(N);return q===!0?g(T).delete(N):q&&u(q,T.id)&&delete q[T.id]},has:function(T){var q=C(this);if(!a(T))return!1;var z=r(T);return z===!0?g(q).has(T):z&&u(z,q.id)}}),e(P,E?{get:function(T){var q=C(this);if(a(T)){var z=r(T);if(z===!0)return g(q).get(T);if(z)return z[q.id]}},set:function(T,q){return I(this,T,q)}}:{add:function(T){return I(this,T,!0)}}),S}},KE}var JW;function Wye(){if(JW)return QW;JW=1;var t=eY(),e=ct(),r=Ae(),n=CT(),i=um(),s=PT(),a=Uye(),o=ir(),l=ko().enforce,u=De(),d=rG(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(N){return function(){return N(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var N=b([]);return O(new _,N,1),!m(N)})};if(d)if(v){x=a.getConstructor(w,"WeakMap",!0),i.enable();var P=r(E.delete),C=r(E.has),I=r(E.get);n(E,{delete:function(N){if(o(N)&&!p(N)){var T=l(this);return T.frozen||(T.frozen=new x),P(this,N)||T.frozen.delete(N)}return P(this,N)},has:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,T)||q.frozen.has(T)}return C(this,T)},get:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,T)?I(this,T):q.frozen.get(T)}return I(this,T)},set:function(T,q){if(o(T)&&!p(T)){var z=l(this);z.frozen||(z.frozen=new x),C(this,T)?O(this,T,q):z.frozen.set(T,q)}else O(this,T,q);return this}})}else S()&&n(E,{set:function(T,q){var z;return f(T)&&(m(T)?z=b:y(T)&&(z=g)),O(this,T,q),z&&z(T),this}});return QW}var ZW;function Vye(){return ZW||(ZW=1,Wye()),YW}var GE,e8;function Hye(){if(e8)return GE;e8=1,Au(),Vye();var t=He();return GE=t.WeakMap,GE}var YE,t8;function Kye(){if(t8)return YE;t8=1;var t=Hye();return Fu(),YE=t,YE}var QE,r8;function Gye(){return r8||(r8=1,QE=Kye()),QE}var Yye=Gye(),dh=Ee(Yye);function Tc(t,e,r){Qye(t,e),e.set(t,r)}function Qye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function uC(t,e,r){return t.set(mY(t,e),r),r}function Ze(t,e){return t.get(mY(t,e))}function mY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function n8(t,e){const r=new _s;for(const n of e)t.has(n)||r.add(n);return r}var Go=new dh,Ln=new dh;class i8{constructor(){Tc(this,Go,new _s),Tc(this,Ln,new _s)}get size(){return Ze(Ln,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(Ln,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(Ln,this).delete(i)}clear(){Ze(Ln,this).clear()}getSelection(){return[...Ze(Ln,this)]}getChanges(){return{added:[...n8(Ze(Go,this),Ze(Ln,this))],deleted:[...n8(Ze(Ln,this),Ze(Go,this))],previous:[...new _s(Ze(Go,this))],current:[...new _s(Ze(Ln,this))]}}commit(){const e=this.getChanges();uC(Go,this,Ze(Ln,this)),uC(Ln,this,new _s(Ze(Go,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var ya=new dh,ba=new dh,XE=new dh;class Xye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Tc(this,ya,new i8),Tc(this,ba,new i8),Tc(this,XE,void 0),uC(XE,this,e)}get sizeNodes(){return Ze(ya,this).size}get sizeEdges(){return Ze(ba,this).size}getNodes(){return Ze(ya,this).getSelection()}getEdges(){return Ze(ba,this).getSelection()}addNodes(){Ze(ya,this).add(...arguments)}addEdges(){Ze(ba,this).add(...arguments)}deleteNodes(e){Ze(ya,this).delete(e)}deleteEdges(e){Ze(ba,this).delete(e)}clear(){Ze(ya,this).clear(),Ze(ba,this).clear()}commit(){const e={nodes:Ze(ya,this).commit(),edges:Ze(ba,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ze(XE,this).call(this,e,...n),e}}class Jye{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Xye,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},kt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&zu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof lt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],u=a[l];if(u.connected){const d=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof lt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof lt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof lt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof lt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof lt&&n.id!=s||n instanceof Js)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Js&&n.id!=s||n instanceof lt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=xt(this.hoverObj.edges).length,a=xt(this.hoverObj.nodes).length,o=n instanceof Js&&s===0&&a===0,l=n instanceof lt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof lt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return ru(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return ru(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var s8={},JE,a8;function Zye(){if(a8)return JE;a8=1;var t=Du(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return JE=r,JE}var ZE,o8;function ebe(){if(o8)return ZE;o8=1;var t=Nu(),e=t.match(/firefox\/(\d+)/i);return ZE=!!e&&+e[1],ZE}var eO,l8;function tbe(){if(l8)return eO;l8=1;var t=Nu();return eO=/MSIE|Trident/.test(t),eO}var tO,u8;function rbe(){if(u8)return tO;u8=1;var t=Nu(),e=t.match(/AppleWebKit\/(\d+)\./);return tO=!!e&&+e[1],tO}var c8;function nbe(){if(c8)return s8;c8=1;var t=be(),e=Ae(),r=cs(),n=bn(),i=ds(),s=fG(),a=Mn(),o=De(),l=Zye(),u=Lu(),d=ebe(),h=tbe(),f=Yd(),p=rbe(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(N,T){return T.v-N.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),N,T;for(T=0;T<I;T++)T in P&&b(C,P[T]);for(l(C,E(S)),N=i(C),T=0;T<N;)P[T]=C[T++];for(;T<I;)s(P,T++);return P}}),s8}var rO,d8;function ibe(){if(d8)return rO;d8=1,nbe();var t=mr();return rO=t("Array","sort"),rO}var nO,h8;function sbe(){if(h8)return nO;h8=1;var t=At(),e=ibe(),r=Array.prototype;return nO=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},nO}var iO,f8;function abe(){if(f8)return iO;f8=1;var t=sbe();return iO=t,iO}var sO,p8;function obe(){return p8||(p8=1,sO=abe()),sO}var lbe=obe(),El=Ee(lbe),m8={},aO,v8;function ube(){if(v8)return aO;v8=1;var t=cs(),e=bn(),r=Yp(),n=ds(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return aO={left:a(!1),right:a(!0)},aO}var oO,g8;function cbe(){if(g8)return oO;g8=1;var t=mG();return oO=t==="NODE",oO}var y8;function dbe(){if(y8)return m8;y8=1;var t=be(),e=ube().left,r=Lu(),n=Yd(),i=cbe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),m8}var lO,b8;function hbe(){if(b8)return lO;b8=1,dbe();var t=mr();return lO=t("Array","reduce"),lO}var uO,w8;function fbe(){if(w8)return uO;w8=1;var t=At(),e=hbe(),r=Array.prototype;return uO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},uO}var cO,x8;function pbe(){if(x8)return cO;x8=1;var t=fbe();return cO=t,cO}var dO,_8;function mbe(){return _8||(_8=1,dO=pbe()),dO}var vbe=mbe(),vY=Ee(vbe);class gY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class gbe extends gY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){El(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class ybe extends gY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){El(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var S8={},E8;function bbe(){if(E8)return S8;E8=1;var t=be(),e=pa().every,r=Lu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),S8}var hO,O8;function wbe(){if(O8)return hO;O8=1,bbe();var t=mr();return hO=t("Array","every"),hO}var fO,P8;function xbe(){if(P8)return fO;P8=1;var t=At(),e=wbe(),r=Array.prototype;return fO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},fO}var pO,C8;function _be(){if(C8)return pO;C8=1;var t=xbe();return pO=t,pO}var mO,N8;function Sbe(){return N8||(N8=1,mO=_be()),mO}var Ebe=Sbe(),yY=Ee(Ebe);function Obe(t,e){const r=new _s;return Qe(t).call(t,n=>{var i;Qe(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Qe(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function Pbe(t){return bY(e=>{var r,n;return yY(r=Vr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function Cbe(t){return bY(e=>{var r,n;return yY(r=Vr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function bY(t,e,r,n){var i;const s=Ya(null),a=vY(i=[...uY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var u,d;if(!n.has(h))continue;const b=s[y.id]+l;if(Qe(u=Vr(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const v=g[o],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(g[r]))}),m>a)return Obe(n,s);++m}}return s}class Nbe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new TT;let n=0;const i=El(e=[...new _s(Uhe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return xt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class Tbe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Qf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(zu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Sn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),et(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=lm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(u==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*o,u.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Ir.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Ir.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new Nbe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const w=g[x].max-g[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===g&&this.direction.shift(w,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let w=0;w<x.length;w++)o(this.body.nodes[x[w]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],P=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[I,N]=e._getSpaceAroundNode(S,g);x=Math.min(I,x),w=Math.min(N,w),P<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,x,w]},u=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},d=(g,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const P=O[S],C=O[S+1];w.hasSameParent(P,C)&&w.inSameSubNetwork(P,C)&&g(P,C,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},P={};o(g,S),o(v,P);const C=u(g,v),I=l(S,C),N=l(P,C),T=I[1],q=N[0],z=N[2];if(Math.abs(T-q)>O){let K=T-q+O;K<-z+O&&(K=-z+O),K<0&&(e._shiftBlock(v.id,K),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let z=0;z<w.length;z++){const te=w[z];if(te.toId!=te.fromId){const K=te.toId==x?te.from:te.to;O[w[z].id]=K,this.hierarchical.levels[K.id]<_&&S.push(te)}}const P=(z,te)=>{let K=0;for(let L=0;L<te.length;L++)if(O[te[L].id]!==void 0){const H=this.direction.getPosition(O[te[L].id])-z;K+=H/Math.sqrt(H*H+E)}return K},C=(z,te)=>{let K=0;for(let L=0;L<te.length;L++)if(O[te[L].id]!==void 0){const H=this.direction.getPosition(O[te[L].id])-z;K-=E*Math.pow(H*H+E,-1.5)}return K},I=(z,te)=>{let K=this.direction.getPosition(v);const L={};for(let H=0;H<z;H++){const U=P(K,te),W=C(K,te),ee=40,pe=Math.max(-ee,Math.min(ee,Math.round(U/W)));if(K=K-pe,L[K]!==void 0)break;L[K]=H}return K},N=z=>{const te=this.direction.getPosition(v);if(n[v.id]===void 0){const ee={};o(v,ee),n[v.id]=ee}const K=l(n[v.id]),L=K[2],H=K[3],U=z-te;let W=0;U>0?W=Math.min(U,H-this.options.hierarchical.nodeSpacing):U<0&&(W=-Math.min(-U,L-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(v.id,W),r=!0)},T=z=>{const te=this.direction.getPosition(v),[K,L]=this._getSpaceAroundNode(v),H=z-te;let U=te;H>0?U=Math.min(te+(L-this.options.hierarchical.nodeSpacing),z):H<0&&(U=Math.max(te-(K-this.options.hierarchical.nodeSpacing),z)),U!==te&&(this.direction.setPosition(v,U),r=!0)};let q=I(g,S);N(q),q=I(g,w),T(q)},p=g=>{let v=this.hierarchical.getLevels();v=Ga(v).call(v);for(let x=0;x<g;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=Ga(v).call(v);for(let x=0;x<g&&(r=!1,d(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=Ga(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=Math.min(u,h-a)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[u,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=xt(e[n]);i=this._indexArrayToNodes(i),El(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,u,n),this._validatePositionAndContinue(o,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);El(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Re(e.edges,n=>{var i;Ue(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Re(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return Re(e,i=>{n.push(Number(i))}),El(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Re(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Ir.cloneOptions(i,"node"),Ir.cloneOptions(s,"node"),Ir.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=vY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new TT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Cbe(r):this.hierarchical.levels=Pbe(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const d=l[u];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new gbe(this):this.direction=new ybe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class Ibe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},kt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Z(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Z(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,et(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Z(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Z(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",Z(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=et({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Z(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",Z(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Z(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",Z(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Z(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Z(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Z(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Z(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Z(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",Z(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const d=a.edgeType.findBorderPositions(u);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=et({},this.options.controlNodeStyle);n.id="targetNode"+Nc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ys(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Z(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ys(this.editModeDiv),ys(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Wi(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),ys(this.manipulationDiv),ys(this.editModeDiv),ys(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+rh(xt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new _l(e,{});np(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ue(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;Wi(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ue(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;Wi(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Nc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Nc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",J="boolean",A="number",dc="array",me="object",wY="dom",Rbe="any",vO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],gO={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:J,function:"function"},node:{boolean:J,function:"function"},__type__:{object:me,boolean:J}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:me,string:se}},__type__:{object:me,string:se}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:J},y:{boolean:J},__type__:{object:me,boolean:J}},font:{align:{string:se},color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},vadjust:{number:A},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},group:{string:se,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:se},__type__:{object:me,boolean:J,number:A}},hidden:{boolean:J},icon:{face:{string:se},code:{string:se},size:{number:A},color:{string:se},weight:{string:se,number:A},__type__:{object:me}},id:{string:se,number:A},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:me,string:se}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:me,number:A}},mass:{number:A},physics:{boolean:J},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:J},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:me}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:J}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:J,array:dc},borderRadius:{number:A},interpolation:{boolean:J},useImageSize:{boolean:J},useBorderWithImage:{boolean:J},coordinateOrigin:{string:["center","top-left"]},__type__:{object:me}},size:{number:A},title:{string:se,dom:wY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:me,boolean:J,number:A}},x:{number:A},y:{number:A},__type__:{object:me}},jbe={configure:{enabled:{boolean:J},filter:{boolean:J,string:se,array:dc,function:"function"},container:{dom:wY},showButton:{boolean:J},__type__:{object:me,boolean:J,string:se,array:dc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:vO},imageHeight:{number:A},imageWidth:{number:A},src:{string:se},__type__:{object:me,boolean:J}},middle:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:vO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:J}},from:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:vO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:me,boolean:J}},__type__:{string:["from","to","middle"],object:me}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:me,number:A}},arrowStrikethrough:{boolean:J},background:{enabled:{boolean:J},color:{string:se},size:{number:A},dashes:{boolean:J,array:dc},__type__:{object:me,boolean:J}},chosen:{label:{boolean:J,function:"function"},edge:{boolean:J,function:"function"},__type__:{object:me,boolean:J}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:J},opacity:{number:A},__type__:{object:me,string:se}},dashes:{boolean:J,array:dc},font:{color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:me,string:se}},__type__:{object:me,string:se}},hidden:{boolean:J},hoverWidth:{function:"function",number:A},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},length:{number:A,undefined:"undefined"},physics:{boolean:J},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:J},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:me,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:me}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:J},__type__:{object:me}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:me,boolean:J}},smooth:{enabled:{boolean:J},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:J},__type__:{object:me,boolean:J}},title:{string:se,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:me,boolean:J,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:me}},groups:{useDefaultGroups:{boolean:J},__any__:gO,__type__:{object:me}},interaction:{dragNodes:{boolean:J},dragView:{boolean:J},hideEdgesOnDrag:{boolean:J},hideEdgesOnZoom:{boolean:J},hideNodesOnDrag:{boolean:J},hover:{boolean:J},keyboard:{enabled:{boolean:J},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:me}},bindToWindow:{boolean:J},autoFocus:{boolean:J},__type__:{object:me,boolean:J}},multiselect:{boolean:J},navigationButtons:{boolean:J},selectable:{boolean:J},selectConnectedEdges:{boolean:J},hoverConnectedEdges:{boolean:J},tooltipDelay:{number:A},zoomView:{boolean:J},zoomSpeed:{number:A},__type__:{object:me}},layout:{randomSeed:{undefined:"undefined",number:A,string:se},improvedLayout:{boolean:J},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:J},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:J},edgeMinimization:{boolean:J},parentCentralization:{boolean:J},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:me,boolean:J}},__type__:{object:me}},manipulation:{enabled:{boolean:J},initiallyActive:{boolean:J},addNode:{boolean:J,function:"function"},addEdge:{boolean:J,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:me,boolean:J,function:"function"}},deleteNode:{boolean:J,function:"function"},deleteEdge:{boolean:J,function:"function"},controlNodeStyle:gO,__type__:{object:me,boolean:J}},nodes:gO,physics:{enabled:{boolean:J},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:me}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:me}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:J},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:J},fit:{boolean:J},__type__:{object:me,boolean:J}},timestep:{number:A},adaptiveTimestep:{boolean:J},wind:{x:{number:A},y:{number:A},__type__:{object:me}},__type__:{object:me,boolean:J}},autoResize:{boolean:J},clickToUse:{boolean:J},locale:{string:se},locales:{__any__:{any:Rbe},__type__:{object:me}},height:{string:se},width:{string:se},__type__:{object:me}},xY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},$be=(t,e,r)=>{var n;return!!(Ys(t).call(t,"physics")&&Ys(n=xY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class kbe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],u={};i[l]=u;for(let d=0;d<r.length;d++)u[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],u=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,y[h]=b}}}return i}}class Dbe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new kbe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<u;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(u);i<d&&(i=d,s=u,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const u=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],P=f[_],C=1/((u-E)**2+(d-O)**2)**1.5;a+=S*(1-P*(d-O)**2*C),o+=S*(P*(u-E)*(d-O)*C),l+=S*(1-P*(u-E)**2*C)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let u=n;u<e.length;u++){const d=e[u];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][u],o+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let u=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),x=s[f]*(o-b-a[f]*(o-b)*v),w=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,w],u+=x,d+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-y}}this.E_sums[e]=[u,d]}}function fe(t,e,r){var n,i,s,a;if(!(this instanceof fe))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:sme,clickToUse:!1},kt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Z(n=this.on).call(n,this),off:Z(i=this.off).call(i,this),emit:Z(s=this.emit).call(s,this),once:Z(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new lme(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new Sme,this.canvas=new gye(this.body),this.selectionHandler=new Jye(this.body,this.canvas),this.interactionHandler=new xye(this.body,this.canvas,this.selectionHandler),this.view=new bye(this.body,this.canvas),this.renderer=new hye(this.body,this.canvas),this.physics=new iye(this.body),this.layoutEngine=new Tbe(this.body),this.clustering=new dye(this.body),this.manipulation=new Ibe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new jge(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Jge(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Dbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}X9(fe.prototype);fe.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(qpe.validate(t,jbe)===!0&&console.error("%cErrors have been found in the supplied options object.",HG),zu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=ame(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new kpe(this,this.body.container,xY,this.canvas.pixelRatio,$be)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};et(n.nodes,this.nodesHandler.options),et(n.edges,this.edgesHandler.options),et(n.layout,this.layoutEngine.options),et(n.interaction,this.selectionHandler.options),et(n.interaction,this.renderer.options),et(n.interaction,this.interactionHandler.options),et(n.manipulation,this.manipulation.options),et(n.physics,this.physics.options),et(n.global,this.canvas.options),et(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new $pe(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};fe.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};fe.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};fe.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Hpe(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Kpe(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};fe.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ys(this.body.container)};fe.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};fe.prototype.isActive=function(){return!this.activator||this.activator.active};fe.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};fe.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};fe.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};fe.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};fe.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};fe.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};fe.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};fe.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};fe.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};fe.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};fe.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};fe.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};fe.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};fe.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};fe.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};fe.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};fe.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};fe.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};fe.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};fe.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};fe.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};fe.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};fe.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};fe.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};fe.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};fe.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};fe.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};fe.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};fe.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};fe.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};fe.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};fe.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};fe.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};fe.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};fe.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};fe.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};fe.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};fe.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};fe.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};fe.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};fe.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};fe.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};fe.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};fe.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};fe.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};fe.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};fe.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};fe.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};fe.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};fe.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};fe.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};fe.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function qbe({graphData:t,startPersonId:e,onNodeClick:r}){const n=$.useRef(null),i=$.useRef(null),s=en(),a=$.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);$.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new tu(t.nodes),h=new tu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new fe(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const w=y[v],_=y[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):c.jsxs("div",{className:"relative w-full h-full",children:[c.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[c.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:c.jsx(Nte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:c.jsx(Tte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:c.jsx(Z7,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),c.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const Mbe=["parent","child","spouse","lover","partner"];function Abe(t){return Mbe.includes(t==null?void 0:t.toLowerCase())}function Fbe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function Lbe(t){return(t==null?void 0:t.toLowerCase())==="child"}function Bbe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function zbe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,w,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=h.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),P=E.getFullYear();g=`${O}-${S}-${P}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const u=a.get(t);for(u&&n.set(t,l(u,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!Abe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===g)){const x=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(Fbe(x))i.push({from:y,to:h,type:"parent-child"});else if(Lbe(x))i.push({from:h,to:y,type:"parent-child"});else if(Bbe(x)){const[w,_]=h<y?[h,y]:[y,h];i.push({from:w,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function Ube(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,x,w;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=o.get(b.from))==null||x.push(b.to),(w=o.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,d=[{id:e,generation:0}];for(l.set(e,0),u.add(e);d.length>0;){const{id:b,generation:g}=d.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const x=a.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const w=o.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):g?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function Wbe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var u,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((u=a.relationship_type)==null?void 0:u.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function Vbe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function Hbe(){var p,m;const{id:t}=ss(),e=en(),r=parseInt(t,10),{data:n,isLoading:i}=pu(t),{data:s=[],isLoading:a}=Ip(),{data:o=[]}=at({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),l=$.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=Af({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Xt.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=$.useMemo(()=>{const y={};return u.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[u,l]);vn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=$.useMemo(()=>{if(!n||!s.length)return null;try{const y=Wbe(s);o.length>0&&Vbe(y,o);const b=zbe(r,s,y);return!b||b.nodes.length===0?null:Ube(b,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?c.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(he,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx($n,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),c.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),c.jsx("div",{className:"card p-6",children:c.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?c.jsx(qbe,{graphData:h,startPersonId:r,onNodeClick:f}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),c.jsx(he,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function Kbe(){const{loginUrl:t,isLoggedIn:e}=mN();return oK(),$.useEffect(()=>{e||(window.location.href=t)},[e,t]),c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function Gbe({children:t}){const{data:e,isLoading:r}=at({queryKey:["current-user"],queryFn:async()=>(await Xt.getCurrentUser()).data});return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e!=null&&e.is_admin?t:e&&!e.is_approved?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsx("div",{className:"max-w-md w-full mx-4",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:c.jsx(ao,{className:"w-8 h-8 text-yellow-600"})})}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),c.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):t}function Ybe({children:t}){const{isLoggedIn:e,isLoading:r}=mN();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?c.jsx(Gbe,{children:t}):c.jsx(l7,{to:"/login",replace:!0})}function Qbe(){return c.jsxs(QI,{children:[c.jsx(Ke,{path:"/login",element:c.jsx(Kbe,{})}),c.jsx(Ke,{path:"/*",element:c.jsx(Ybe,{children:c.jsx(Mte,{children:c.jsxs(QI,{children:[c.jsx(Ke,{path:"/",element:c.jsx(Hre,{})}),c.jsx(Ke,{path:"/people",element:c.jsx(ene,{})}),c.jsx(Ke,{path:"/people/new",element:c.jsx(e2,{})}),c.jsx(Ke,{path:"/people/:personId/contact/new",element:c.jsx(r2,{})}),c.jsx(Ke,{path:"/people/:personId/contact/:index/edit",element:c.jsx(r2,{})}),c.jsx(Ke,{path:"/people/:personId/work-history/new",element:c.jsx(t2,{})}),c.jsx(Ke,{path:"/people/:personId/work-history/:index/edit",element:c.jsx(t2,{})}),c.jsx(Ke,{path:"/people/:personId/relationship/new",element:c.jsx(n2,{})}),c.jsx(Ke,{path:"/people/:personId/relationship/:index/edit",element:c.jsx(n2,{})}),c.jsx(Ke,{path:"/people/:id/family-tree",element:c.jsx(Hbe,{})}),c.jsx(Ke,{path:"/people/:id/edit",element:c.jsx(e2,{})}),c.jsx(Ke,{path:"/people/:id",element:c.jsx(sne,{})}),c.jsx(Ke,{path:"/companies",element:c.jsx(Ine,{})}),c.jsx(Ke,{path:"/companies/new",element:c.jsx(i2,{})}),c.jsx(Ke,{path:"/companies/:id",element:c.jsx(Rne,{})}),c.jsx(Ke,{path:"/companies/:id/edit",element:c.jsx(i2,{})}),c.jsx(Ke,{path:"/dates",element:c.jsx(kne,{})}),c.jsx(Ke,{path:"/dates/new",element:c.jsx(s2,{})}),c.jsx(Ke,{path:"/dates/:id/edit",element:c.jsx(s2,{})}),c.jsx(Ke,{path:"/settings",element:c.jsx(qne,{})}),c.jsx(Ke,{path:"/settings/relationship-types",element:c.jsx(Mne,{})}),c.jsx(Ke,{path:"/settings/import",element:c.jsx(zne,{})}),c.jsx(Ke,{path:"/settings/export",element:c.jsx(Une,{})}),c.jsx(Ke,{path:"/settings/user-approval",element:c.jsx(Wne,{})}),c.jsx(Ke,{path:"*",element:c.jsx(l7,{to:"/",replace:!0})})]})})})})]})}const Xbe=new PZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),yO=document.getElementById("root");if(!yO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{bO.createRoot(yO).render(c.jsx(Ce.StrictMode,{children:c.jsx(CZ,{client:Xbe,children:c.jsx(GJ,{children:c.jsx(Qbe,{})})})}))}catch(t){console.error("Error mounting React app:",t),yO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
