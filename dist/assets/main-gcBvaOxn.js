var ZN=t=>{throw TypeError(t)};var Tm=(t,e,r)=>e.has(t)||ZN("Cannot "+r);var R=(t,e,r)=>(Tm(t,e,"read from private field"),r?r.call(t):e.get(t)),oe=(t,e,r)=>e.has(t)?ZN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),re=(t,e,r,n)=>(Tm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(Tm(t,e,"access private method"),r);var Oh=(t,e,r,n)=>({set _(i){re(t,e,i,r)},get _(){return R(t,e,n)}});function GY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function YY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var l7={exports:{}},bp={},u7={exports:{}},$e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Td=Symbol.for("react.element"),QY=Symbol.for("react.portal"),XY=Symbol.for("react.fragment"),JY=Symbol.for("react.strict_mode"),ZY=Symbol.for("react.profiler"),eQ=Symbol.for("react.provider"),tQ=Symbol.for("react.context"),rQ=Symbol.for("react.forward_ref"),nQ=Symbol.for("react.suspense"),iQ=Symbol.for("react.memo"),sQ=Symbol.for("react.lazy"),eT=Symbol.iterator;function aQ(t){return t===null||typeof t!="object"?null:(t=eT&&t[eT]||t["@@iterator"],typeof t=="function"?t:null)}var c7={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},d7=Object.assign,h7={};function mu(t,e,r){this.props=t,this.context=e,this.refs=h7,this.updater=r||c7}mu.prototype.isReactComponent={};mu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};mu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function f7(){}f7.prototype=mu.prototype;function PP(t,e,r){this.props=t,this.context=e,this.refs=h7,this.updater=r||c7}var CP=PP.prototype=new f7;CP.constructor=PP;d7(CP,mu.prototype);CP.isPureReactComponent=!0;var tT=Array.isArray,p7=Object.prototype.hasOwnProperty,NP={current:null},m7={key:!0,ref:!0,__self:!0,__source:!0};function v7(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)p7.call(e,n)&&!m7.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Td,type:t,key:s,ref:a,props:i,_owner:NP.current}}function oQ(t,e){return{$$typeof:Td,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function TP(t){return typeof t=="object"&&t!==null&&t.$$typeof===Td}function lQ(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var rT=/\/+/g;function Im(t,e){return typeof t=="object"&&t!==null&&t.key!=null?lQ(""+t.key):e.toString(36)}function tf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Td:case QY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+Im(a,0):n,tT(i)?(r="",t!=null&&(r=t.replace(rT,"$&/")+"/"),tf(i,e,r,"",function(u){return u})):i!=null&&(TP(i)&&(i=oQ(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(rT,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",tT(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+Im(s,o);a+=tf(s,e,r,l,i)}else if(l=aQ(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+Im(s,o++),a+=tf(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Ph(t,e,r){if(t==null)return t;var n=[],i=0;return tf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function uQ(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Fr={current:null},rf={transition:null},cQ={ReactCurrentDispatcher:Fr,ReactCurrentBatchConfig:rf,ReactCurrentOwner:NP};function g7(){throw Error("act(...) is not supported in production builds of React.")}$e.Children={map:Ph,forEach:function(t,e,r){Ph(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Ph(t,function(){e++}),e},toArray:function(t){return Ph(t,function(e){return e})||[]},only:function(t){if(!TP(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$e.Component=mu;$e.Fragment=XY;$e.Profiler=ZY;$e.PureComponent=PP;$e.StrictMode=JY;$e.Suspense=nQ;$e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=cQ;$e.act=g7;$e.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=d7({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=NP.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)p7.call(e,l)&&!m7.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:Td,type:t.type,key:i,ref:s,props:n,_owner:a}};$e.createContext=function(t){return t={$$typeof:tQ,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:eQ,_context:t},t.Consumer=t};$e.createElement=v7;$e.createFactory=function(t){var e=v7.bind(null,t);return e.type=t,e};$e.createRef=function(){return{current:null}};$e.forwardRef=function(t){return{$$typeof:rQ,render:t}};$e.isValidElement=TP;$e.lazy=function(t){return{$$typeof:sQ,_payload:{_status:-1,_result:t},_init:uQ}};$e.memo=function(t,e){return{$$typeof:iQ,type:t,compare:e===void 0?null:e}};$e.startTransition=function(t){var e=rf.transition;rf.transition={};try{t()}finally{rf.transition=e}};$e.unstable_act=g7;$e.useCallback=function(t,e){return Fr.current.useCallback(t,e)};$e.useContext=function(t){return Fr.current.useContext(t)};$e.useDebugValue=function(){};$e.useDeferredValue=function(t){return Fr.current.useDeferredValue(t)};$e.useEffect=function(t,e){return Fr.current.useEffect(t,e)};$e.useId=function(){return Fr.current.useId()};$e.useImperativeHandle=function(t,e,r){return Fr.current.useImperativeHandle(t,e,r)};$e.useInsertionEffect=function(t,e){return Fr.current.useInsertionEffect(t,e)};$e.useLayoutEffect=function(t,e){return Fr.current.useLayoutEffect(t,e)};$e.useMemo=function(t,e){return Fr.current.useMemo(t,e)};$e.useReducer=function(t,e,r){return Fr.current.useReducer(t,e,r)};$e.useRef=function(t){return Fr.current.useRef(t)};$e.useState=function(t){return Fr.current.useState(t)};$e.useSyncExternalStore=function(t,e,r){return Fr.current.useSyncExternalStore(t,e,r)};$e.useTransition=function(){return Fr.current.useTransition()};$e.version="18.3.1";u7.exports=$e;var k=u7.exports;const Se=YY(k),dQ=GY({__proto__:null,default:Se},[k]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var hQ=k,fQ=Symbol.for("react.element"),pQ=Symbol.for("react.fragment"),mQ=Object.prototype.hasOwnProperty,vQ=hQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,gQ={key:!0,ref:!0,__self:!0,__source:!0};function y7(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)mQ.call(e,n)&&!gQ.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:fQ,type:t,key:s,ref:a,props:i,_owner:vQ.current}}bp.Fragment=pQ;bp.jsx=y7;bp.jsxs=y7;l7.exports=bp;var c=l7.exports,DO={},b7={exports:{}},mn={},w7={exports:{}},x7={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var U=L.length;L.push(V);e:for(;0<U;){var W=U-1>>>1,J=L[W];if(0<i(J,V))L[W]=V,L[U]=J,U=W;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],U=L.pop();if(U!==V){L[0]=U;e:for(var W=0,J=L.length,he=J>>>1;W<he;){var me=2*(W+1)-1,qe=L[me],be=me+1,Ee=L[be];if(0>i(qe,U))be<J&&0>i(Ee,qe)?(L[W]=Ee,L[be]=U,W=be):(L[W]=qe,L[me]=U,W=me);else if(be<J&&0>i(Ee,U))L[W]=Ee,L[be]=U,W=be;else break e}}return V}function i(L,V){var U=L.sortIndex-V.sortIndex;return U!==0?U:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=L)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function w(L){if(y=!1,x(L),!m)if(r(l)!==null)m=!0,Z(_);else{var V=r(u);V!==null&&K(w,V.startTime-L)}}function _(L,V){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var U=f;try{for(x(V),h=r(l);h!==null&&(!(h.expirationTime>V)||L&&!I());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var J=W(h.expirationTime<=V);V=t.unstable_now(),typeof J=="function"?h.callback=J:h===r(l)&&n(l),x(V)}else n(l);h=r(l)}if(h!==null)var he=!0;else{var me=r(u);me!==null&&K(w,me.startTime-V),he=!1}return he}finally{h=null,f=U,p=!1}}var E=!1,O=null,S=-1,P=5,C=-1;function I(){return!(t.unstable_now()-C<P)}function N(){if(O!==null){var L=t.unstable_now();C=L;var V=!0;try{V=O(!0,L)}finally{V?T():(E=!1,O=null)}}else E=!1}var T;if(typeof v=="function")T=function(){v(N)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,z=q.port2;q.port1.onmessage=N,T=function(){z.postMessage(null)}}else T=function(){b(N,0)};function Z(L){O=L,E||(E=!0,T())}function K(L,V){S=b(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,Z(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var U=f;f=V;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return V()}finally{f=U}},t.unstable_scheduleCallback=function(L,V,U){var W=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,L){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=U+J,L={id:d++,callback:V,priorityLevel:L,startTime:U,expirationTime:J,sortIndex:-1},U>W?(L.sortIndex=U,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,K(w,U-W))):(L.sortIndex=J,e(l,L),m||p||(m=!0,Z(_))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var V=f;return function(){var U=f;f=V;try{return L.apply(this,arguments)}finally{f=U}}}})(x7);w7.exports=x7;var yQ=w7.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bQ=k,pn=yQ;function Y(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var _7=new Set,Lc={};function Co(t,e){Gl(t,e),Gl(t+"Capture",e)}function Gl(t,e){for(Lc[t]=e,t=0;t<e.length;t++)_7.add(e[t])}var rs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),qO=Object.prototype.hasOwnProperty,wQ=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,nT={},iT={};function xQ(t){return qO.call(iT,t)?!0:qO.call(nT,t)?!1:wQ.test(t)?iT[t]=!0:(nT[t]=!0,!1)}function _Q(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function SQ(t,e,r,n){if(e===null||typeof e>"u"||_Q(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Lr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var pr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){pr[t]=new Lr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];pr[e]=new Lr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){pr[t]=new Lr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){pr[t]=new Lr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){pr[t]=new Lr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){pr[t]=new Lr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){pr[t]=new Lr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){pr[t]=new Lr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){pr[t]=new Lr(t,5,!1,t.toLowerCase(),null,!1,!1)});var IP=/[\-:]([a-z])/g;function RP(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(IP,RP);pr[e]=new Lr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(IP,RP);pr[e]=new Lr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(IP,RP);pr[e]=new Lr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){pr[t]=new Lr(t,1,!1,t.toLowerCase(),null,!1,!1)});pr.xlinkHref=new Lr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){pr[t]=new Lr(t,1,!1,t.toLowerCase(),null,!0,!0)});function jP(t,e,r,n){var i=pr.hasOwnProperty(e)?pr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(SQ(e,r,i,n)&&(r=null),n||i===null?xQ(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var os=bQ.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Ch=Symbol.for("react.element"),sl=Symbol.for("react.portal"),al=Symbol.for("react.fragment"),$P=Symbol.for("react.strict_mode"),MO=Symbol.for("react.profiler"),S7=Symbol.for("react.provider"),E7=Symbol.for("react.context"),kP=Symbol.for("react.forward_ref"),AO=Symbol.for("react.suspense"),FO=Symbol.for("react.suspense_list"),DP=Symbol.for("react.memo"),xs=Symbol.for("react.lazy"),O7=Symbol.for("react.offscreen"),sT=Symbol.iterator;function Zu(t){return t===null||typeof t!="object"?null:(t=sT&&t[sT]||t["@@iterator"],typeof t=="function"?t:null)}var yt=Object.assign,Rm;function mc(t){if(Rm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);Rm=e&&e[1]||""}return`
`+Rm+t}var jm=!1;function $m(t,e){if(!t||jm)return"";jm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{jm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?mc(t):""}function EQ(t){switch(t.tag){case 5:return mc(t.type);case 16:return mc("Lazy");case 13:return mc("Suspense");case 19:return mc("SuspenseList");case 0:case 2:case 15:return t=$m(t.type,!1),t;case 11:return t=$m(t.type.render,!1),t;case 1:return t=$m(t.type,!0),t;default:return""}}function LO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case al:return"Fragment";case sl:return"Portal";case MO:return"Profiler";case $P:return"StrictMode";case AO:return"Suspense";case FO:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case E7:return(t.displayName||"Context")+".Consumer";case S7:return(t._context.displayName||"Context")+".Provider";case kP:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case DP:return e=t.displayName||null,e!==null?e:LO(t.type)||"Memo";case xs:e=t._payload,t=t._init;try{return LO(t(e))}catch{}}return null}function OQ(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return LO(e);case 8:return e===$P?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function sa(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function P7(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function PQ(t){var e=P7(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Nh(t){t._valueTracker||(t._valueTracker=PQ(t))}function C7(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=P7(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Sf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function BO(t,e){var r=e.checked;return yt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function aT(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=sa(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function N7(t,e){e=e.checked,e!=null&&jP(t,"checked",e,!1)}function zO(t,e){N7(t,e);var r=sa(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?UO(t,e.type,r):e.hasOwnProperty("defaultValue")&&UO(t,e.type,sa(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function oT(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function UO(t,e,r){(e!=="number"||Sf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var vc=Array.isArray;function Sl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+sa(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function WO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Y(91));return yt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function lT(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Y(92));if(vc(r)){if(1<r.length)throw Error(Y(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:sa(r)}}function T7(t,e){var r=sa(e.value),n=sa(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function uT(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function I7(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function VO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?I7(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Th,R7=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Th=Th||document.createElement("div"),Th.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Th.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Bc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var _c={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},CQ=["Webkit","ms","Moz","O"];Object.keys(_c).forEach(function(t){CQ.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),_c[e]=_c[t]})});function j7(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||_c.hasOwnProperty(t)&&_c[t]?(""+e).trim():e+"px"}function $7(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=j7(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var NQ=yt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function HO(t,e){if(e){if(NQ[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Y(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Y(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Y(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Y(62))}}function KO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var GO=null;function qP(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var YO=null,El=null,Ol=null;function cT(t){if(t=jd(t)){if(typeof YO!="function")throw Error(Y(280));var e=t.stateNode;e&&(e=Ep(e),YO(t.stateNode,t.type,e))}}function k7(t){El?Ol?Ol.push(t):Ol=[t]:El=t}function D7(){if(El){var t=El,e=Ol;if(Ol=El=null,cT(t),e)for(t=0;t<e.length;t++)cT(e[t])}}function q7(t,e){return t(e)}function M7(){}var km=!1;function A7(t,e,r){if(km)return t(e,r);km=!0;try{return q7(t,e,r)}finally{km=!1,(El!==null||Ol!==null)&&(M7(),D7())}}function zc(t,e){var r=t.stateNode;if(r===null)return null;var n=Ep(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Y(231,e,typeof r));return r}var QO=!1;if(rs)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){QO=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{QO=!1}function TQ(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var Sc=!1,Ef=null,Of=!1,XO=null,IQ={onError:function(t){Sc=!0,Ef=t}};function RQ(t,e,r,n,i,s,a,o,l){Sc=!1,Ef=null,TQ.apply(IQ,arguments)}function jQ(t,e,r,n,i,s,a,o,l){if(RQ.apply(this,arguments),Sc){if(Sc){var u=Ef;Sc=!1,Ef=null}else throw Error(Y(198));Of||(Of=!0,XO=u)}}function No(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function F7(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function dT(t){if(No(t)!==t)throw Error(Y(188))}function $Q(t){var e=t.alternate;if(!e){if(e=No(t),e===null)throw Error(Y(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return dT(i),t;if(s===n)return dT(i),e;s=s.sibling}throw Error(Y(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Y(189))}}if(r.alternate!==n)throw Error(Y(190))}if(r.tag!==3)throw Error(Y(188));return r.stateNode.current===r?t:e}function L7(t){return t=$Q(t),t!==null?B7(t):null}function B7(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=B7(t);if(e!==null)return e;t=t.sibling}return null}var z7=pn.unstable_scheduleCallback,hT=pn.unstable_cancelCallback,kQ=pn.unstable_shouldYield,DQ=pn.unstable_requestPaint,It=pn.unstable_now,qQ=pn.unstable_getCurrentPriorityLevel,MP=pn.unstable_ImmediatePriority,U7=pn.unstable_UserBlockingPriority,Pf=pn.unstable_NormalPriority,MQ=pn.unstable_LowPriority,W7=pn.unstable_IdlePriority,wp=null,Si=null;function AQ(t){if(Si&&typeof Si.onCommitFiberRoot=="function")try{Si.onCommitFiberRoot(wp,t,void 0,(t.current.flags&128)===128)}catch{}}var ti=Math.clz32?Math.clz32:BQ,FQ=Math.log,LQ=Math.LN2;function BQ(t){return t>>>=0,t===0?32:31-(FQ(t)/LQ|0)|0}var Ih=64,Rh=4194304;function gc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Cf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=gc(o):(s&=a,s!==0&&(n=gc(s)))}else a=r&~i,a!==0?n=gc(a):s!==0&&(n=gc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-ti(e),i=1<<r,n|=t[r],e&=~i;return n}function zQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function UQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-ti(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=zQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function JO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function V7(){var t=Ih;return Ih<<=1,!(Ih&4194240)&&(Ih=64),t}function Dm(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Id(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-ti(e),t[e]=r}function WQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-ti(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function AP(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-ti(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var He=0;function H7(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var K7,FP,G7,Y7,Q7,ZO=!1,jh=[],Us=null,Ws=null,Vs=null,Uc=new Map,Wc=new Map,Ps=[],VQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function fT(t,e){switch(t){case"focusin":case"focusout":Us=null;break;case"dragenter":case"dragleave":Ws=null;break;case"mouseover":case"mouseout":Vs=null;break;case"pointerover":case"pointerout":Uc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Wc.delete(e.pointerId)}}function tc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=jd(e),e!==null&&FP(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function HQ(t,e,r,n,i){switch(e){case"focusin":return Us=tc(Us,t,e,r,n,i),!0;case"dragenter":return Ws=tc(Ws,t,e,r,n,i),!0;case"mouseover":return Vs=tc(Vs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return Uc.set(s,tc(Uc.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,Wc.set(s,tc(Wc.get(s)||null,t,e,r,n,i)),!0}return!1}function X7(t){var e=Ta(t.target);if(e!==null){var r=No(e);if(r!==null){if(e=r.tag,e===13){if(e=F7(r),e!==null){t.blockedOn=e,Q7(t.priority,function(){G7(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function nf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=e2(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);GO=n,r.target.dispatchEvent(n),GO=null}else return e=jd(r),e!==null&&FP(e),t.blockedOn=r,!1;e.shift()}return!0}function pT(t,e,r){nf(t)&&r.delete(e)}function KQ(){ZO=!1,Us!==null&&nf(Us)&&(Us=null),Ws!==null&&nf(Ws)&&(Ws=null),Vs!==null&&nf(Vs)&&(Vs=null),Uc.forEach(pT),Wc.forEach(pT)}function rc(t,e){t.blockedOn===e&&(t.blockedOn=null,ZO||(ZO=!0,pn.unstable_scheduleCallback(pn.unstable_NormalPriority,KQ)))}function Vc(t){function e(i){return rc(i,t)}if(0<jh.length){rc(jh[0],t);for(var r=1;r<jh.length;r++){var n=jh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Us!==null&&rc(Us,t),Ws!==null&&rc(Ws,t),Vs!==null&&rc(Vs,t),Uc.forEach(e),Wc.forEach(e),r=0;r<Ps.length;r++)n=Ps[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<Ps.length&&(r=Ps[0],r.blockedOn===null);)X7(r),r.blockedOn===null&&Ps.shift()}var Pl=os.ReactCurrentBatchConfig,Nf=!0;function GQ(t,e,r,n){var i=He,s=Pl.transition;Pl.transition=null;try{He=1,LP(t,e,r,n)}finally{He=i,Pl.transition=s}}function YQ(t,e,r,n){var i=He,s=Pl.transition;Pl.transition=null;try{He=4,LP(t,e,r,n)}finally{He=i,Pl.transition=s}}function LP(t,e,r,n){if(Nf){var i=e2(t,e,r,n);if(i===null)Vm(t,e,n,Tf,r),fT(t,n);else if(HQ(i,t,e,r,n))n.stopPropagation();else if(fT(t,n),e&4&&-1<VQ.indexOf(t)){for(;i!==null;){var s=jd(i);if(s!==null&&K7(s),s=e2(t,e,r,n),s===null&&Vm(t,e,n,Tf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Vm(t,e,n,null,r)}}var Tf=null;function e2(t,e,r,n){if(Tf=null,t=qP(n),t=Ta(t),t!==null)if(e=No(t),e===null)t=null;else if(r=e.tag,r===13){if(t=F7(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Tf=t,null}function J7(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(qQ()){case MP:return 1;case U7:return 4;case Pf:case MQ:return 16;case W7:return 536870912;default:return 16}default:return 16}}var Fs=null,BP=null,sf=null;function Z7(){if(sf)return sf;var t,e=BP,r=e.length,n,i="value"in Fs?Fs.value:Fs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return sf=i.slice(t,1<n?1-n:void 0)}function af(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function $h(){return!0}function mT(){return!1}function vn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?$h:mT,this.isPropagationStopped=mT,this}return yt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=$h)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=$h)},persist:function(){},isPersistent:$h}),e}var vu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},zP=vn(vu),Rd=yt({},vu,{view:0,detail:0}),QQ=vn(Rd),qm,Mm,nc,xp=yt({},Rd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:UP,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==nc&&(nc&&t.type==="mousemove"?(qm=t.screenX-nc.screenX,Mm=t.screenY-nc.screenY):Mm=qm=0,nc=t),qm)},movementY:function(t){return"movementY"in t?t.movementY:Mm}}),vT=vn(xp),XQ=yt({},xp,{dataTransfer:0}),JQ=vn(XQ),ZQ=yt({},Rd,{relatedTarget:0}),Am=vn(ZQ),eX=yt({},vu,{animationName:0,elapsedTime:0,pseudoElement:0}),tX=vn(eX),rX=yt({},vu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),nX=vn(rX),iX=yt({},vu,{data:0}),gT=vn(iX),sX={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},aX={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},oX={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function lX(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=oX[t])?!!e[t]:!1}function UP(){return lX}var uX=yt({},Rd,{key:function(t){if(t.key){var e=sX[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=af(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?aX[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:UP,charCode:function(t){return t.type==="keypress"?af(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?af(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),cX=vn(uX),dX=yt({},xp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),yT=vn(dX),hX=yt({},Rd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:UP}),fX=vn(hX),pX=yt({},vu,{propertyName:0,elapsedTime:0,pseudoElement:0}),mX=vn(pX),vX=yt({},xp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),gX=vn(vX),yX=[9,13,27,32],WP=rs&&"CompositionEvent"in window,Ec=null;rs&&"documentMode"in document&&(Ec=document.documentMode);var bX=rs&&"TextEvent"in window&&!Ec,eV=rs&&(!WP||Ec&&8<Ec&&11>=Ec),bT=" ",wT=!1;function tV(t,e){switch(t){case"keyup":return yX.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function rV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ol=!1;function wX(t,e){switch(t){case"compositionend":return rV(e);case"keypress":return e.which!==32?null:(wT=!0,bT);case"textInput":return t=e.data,t===bT&&wT?null:t;default:return null}}function xX(t,e){if(ol)return t==="compositionend"||!WP&&tV(t,e)?(t=Z7(),sf=BP=Fs=null,ol=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return eV&&e.locale!=="ko"?null:e.data;default:return null}}var _X={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function xT(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!_X[t.type]:e==="textarea"}function nV(t,e,r,n){k7(n),e=If(e,"onChange"),0<e.length&&(r=new zP("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Oc=null,Hc=null;function SX(t){pV(t,0)}function _p(t){var e=cl(t);if(C7(e))return t}function EX(t,e){if(t==="change")return e}var iV=!1;if(rs){var Fm;if(rs){var Lm="oninput"in document;if(!Lm){var _T=document.createElement("div");_T.setAttribute("oninput","return;"),Lm=typeof _T.oninput=="function"}Fm=Lm}else Fm=!1;iV=Fm&&(!document.documentMode||9<document.documentMode)}function ST(){Oc&&(Oc.detachEvent("onpropertychange",sV),Hc=Oc=null)}function sV(t){if(t.propertyName==="value"&&_p(Hc)){var e=[];nV(e,Hc,t,qP(t)),A7(SX,e)}}function OX(t,e,r){t==="focusin"?(ST(),Oc=e,Hc=r,Oc.attachEvent("onpropertychange",sV)):t==="focusout"&&ST()}function PX(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return _p(Hc)}function CX(t,e){if(t==="click")return _p(e)}function NX(t,e){if(t==="input"||t==="change")return _p(e)}function TX(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ni=typeof Object.is=="function"?Object.is:TX;function Kc(t,e){if(ni(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!qO.call(e,i)||!ni(t[i],e[i]))return!1}return!0}function ET(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function OT(t,e){var r=ET(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=ET(r)}}function aV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?aV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function oV(){for(var t=window,e=Sf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Sf(t.document)}return e}function VP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function IX(t){var e=oV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&aV(r.ownerDocument.documentElement,r)){if(n!==null&&VP(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=OT(r,s);var a=OT(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var RX=rs&&"documentMode"in document&&11>=document.documentMode,ll=null,t2=null,Pc=null,r2=!1;function PT(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;r2||ll==null||ll!==Sf(n)||(n=ll,"selectionStart"in n&&VP(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Pc&&Kc(Pc,n)||(Pc=n,n=If(t2,"onSelect"),0<n.length&&(e=new zP("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=ll)))}function kh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var ul={animationend:kh("Animation","AnimationEnd"),animationiteration:kh("Animation","AnimationIteration"),animationstart:kh("Animation","AnimationStart"),transitionend:kh("Transition","TransitionEnd")},Bm={},lV={};rs&&(lV=document.createElement("div").style,"AnimationEvent"in window||(delete ul.animationend.animation,delete ul.animationiteration.animation,delete ul.animationstart.animation),"TransitionEvent"in window||delete ul.transitionend.transition);function Sp(t){if(Bm[t])return Bm[t];if(!ul[t])return t;var e=ul[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in lV)return Bm[t]=e[r];return t}var uV=Sp("animationend"),cV=Sp("animationiteration"),dV=Sp("animationstart"),hV=Sp("transitionend"),fV=new Map,CT="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ha(t,e){fV.set(t,e),Co(e,[t])}for(var zm=0;zm<CT.length;zm++){var Um=CT[zm],jX=Um.toLowerCase(),$X=Um[0].toUpperCase()+Um.slice(1);ha(jX,"on"+$X)}ha(uV,"onAnimationEnd");ha(cV,"onAnimationIteration");ha(dV,"onAnimationStart");ha("dblclick","onDoubleClick");ha("focusin","onFocus");ha("focusout","onBlur");ha(hV,"onTransitionEnd");Gl("onMouseEnter",["mouseout","mouseover"]);Gl("onMouseLeave",["mouseout","mouseover"]);Gl("onPointerEnter",["pointerout","pointerover"]);Gl("onPointerLeave",["pointerout","pointerover"]);Co("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Co("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Co("onBeforeInput",["compositionend","keypress","textInput","paste"]);Co("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Co("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var yc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),kX=new Set("cancel close invalid load scroll toggle".split(" ").concat(yc));function NT(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,jQ(n,e,void 0,t),t.currentTarget=null}function pV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;NT(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;NT(i,o,u),s=l}}}if(Of)throw t=XO,Of=!1,XO=null,t}function lt(t,e){var r=e[o2];r===void 0&&(r=e[o2]=new Set);var n=t+"__bubble";r.has(n)||(mV(e,t,2,!1),r.add(n))}function Wm(t,e,r){var n=0;e&&(n|=4),mV(r,t,n,e)}var Dh="_reactListening"+Math.random().toString(36).slice(2);function Gc(t){if(!t[Dh]){t[Dh]=!0,_7.forEach(function(r){r!=="selectionchange"&&(kX.has(r)||Wm(r,!1,t),Wm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Dh]||(e[Dh]=!0,Wm("selectionchange",!1,e))}}function mV(t,e,r,n){switch(J7(e)){case 1:var i=GQ;break;case 4:i=YQ;break;default:i=LP}r=i.bind(null,e,r,t),i=void 0,!QO||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Vm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Ta(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}A7(function(){var u=s,d=qP(r),h=[];e:{var f=fV.get(t);if(f!==void 0){var p=zP,m=t;switch(t){case"keypress":if(af(r)===0)break e;case"keydown":case"keyup":p=cX;break;case"focusin":m="focus",p=Am;break;case"focusout":m="blur",p=Am;break;case"beforeblur":case"afterblur":p=Am;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=vT;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=JQ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=fX;break;case uV:case cV:case dV:p=tX;break;case hV:p=mX;break;case"scroll":p=QQ;break;case"wheel":p=gX;break;case"copy":case"cut":case"paste":p=nX;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=yT}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=zc(v,g),w!=null&&y.push(Yc(v,w,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==GO&&(m=r.relatedTarget||r.fromElement)&&(Ta(m)||m[ns]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Ta(m):null,m!==null&&(b=No(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=vT,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=yT,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:cl(p),x=m==null?f:cl(m),f=new y(w,v+"leave",p,r,d),f.target=b,f.relatedTarget=x,w=null,Ta(d)===u&&(y=new y(g,v+"enter",m,r,d),y.target=x,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Xo(x))v++;for(x=0,w=g;w;w=Xo(w))x++;for(;0<v-x;)y=Xo(y),v--;for(;0<x-v;)g=Xo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Xo(y),g=Xo(g)}y=null}else y=null;p!==null&&TT(h,f,p,y,!1),m!==null&&b!==null&&TT(h,b,m,y,!0)}}e:{if(f=u?cl(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=EX;else if(xT(f))if(iV)_=NX;else{_=PX;var E=OX}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=CX);if(_&&(_=_(t,u))){nV(h,_,r,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&UO(f,"number",f.value)}switch(E=u?cl(u):window,t){case"focusin":(xT(E)||E.contentEditable==="true")&&(ll=E,t2=u,Pc=null);break;case"focusout":Pc=t2=ll=null;break;case"mousedown":r2=!0;break;case"contextmenu":case"mouseup":case"dragend":r2=!1,PT(h,r,d);break;case"selectionchange":if(RX)break;case"keydown":case"keyup":PT(h,r,d)}var O;if(WP)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else ol?tV(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(eV&&r.locale!=="ko"&&(ol||S!=="onCompositionStart"?S==="onCompositionEnd"&&ol&&(O=Z7()):(Fs=d,BP="value"in Fs?Fs.value:Fs.textContent,ol=!0)),E=If(u,S),0<E.length&&(S=new gT(S,t,null,r,d),h.push({event:S,listeners:E}),O?S.data=O:(O=rV(r),O!==null&&(S.data=O)))),(O=bX?wX(t,r):xX(t,r))&&(u=If(u,"onBeforeInput"),0<u.length&&(d=new gT("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=O))}pV(h,e)})}function Yc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function If(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=zc(t,r),s!=null&&n.unshift(Yc(t,s,i)),s=zc(t,e),s!=null&&n.push(Yc(t,s,i))),t=t.return}return n}function Xo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function TT(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=zc(r,s),l!=null&&a.unshift(Yc(r,l,o))):i||(l=zc(r,s),l!=null&&a.push(Yc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var DX=/\r\n?/g,qX=/\u0000|\uFFFD/g;function IT(t){return(typeof t=="string"?t:""+t).replace(DX,`
`).replace(qX,"")}function qh(t,e,r){if(e=IT(e),IT(t)!==e&&r)throw Error(Y(425))}function Rf(){}var n2=null,i2=null;function s2(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var a2=typeof setTimeout=="function"?setTimeout:void 0,MX=typeof clearTimeout=="function"?clearTimeout:void 0,RT=typeof Promise=="function"?Promise:void 0,AX=typeof queueMicrotask=="function"?queueMicrotask:typeof RT<"u"?function(t){return RT.resolve(null).then(t).catch(FX)}:a2;function FX(t){setTimeout(function(){throw t})}function Hm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Vc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Vc(e)}function Hs(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function jT(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var gu=Math.random().toString(36).slice(2),yi="__reactFiber$"+gu,Qc="__reactProps$"+gu,ns="__reactContainer$"+gu,o2="__reactEvents$"+gu,LX="__reactListeners$"+gu,BX="__reactHandles$"+gu;function Ta(t){var e=t[yi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ns]||r[yi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=jT(t);t!==null;){if(r=t[yi])return r;t=jT(t)}return e}t=r,r=t.parentNode}return null}function jd(t){return t=t[yi]||t[ns],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function cl(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Y(33))}function Ep(t){return t[Qc]||null}var l2=[],dl=-1;function fa(t){return{current:t}}function ut(t){0>dl||(t.current=l2[dl],l2[dl]=null,dl--)}function at(t,e){dl++,l2[dl]=t.current,t.current=e}var aa={},Or=fa(aa),Yr=fa(!1),so=aa;function Yl(t,e){var r=t.type.contextTypes;if(!r)return aa;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Qr(t){return t=t.childContextTypes,t!=null}function jf(){ut(Yr),ut(Or)}function $T(t,e,r){if(Or.current!==aa)throw Error(Y(168));at(Or,e),at(Yr,r)}function vV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Y(108,OQ(t)||"Unknown",i));return yt({},r,n)}function $f(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||aa,so=Or.current,at(Or,t),at(Yr,Yr.current),!0}function kT(t,e,r){var n=t.stateNode;if(!n)throw Error(Y(169));r?(t=vV(t,e,so),n.__reactInternalMemoizedMergedChildContext=t,ut(Yr),ut(Or),at(Or,t)):ut(Yr),at(Yr,r)}var qi=null,Op=!1,Km=!1;function gV(t){qi===null?qi=[t]:qi.push(t)}function zX(t){Op=!0,gV(t)}function pa(){if(!Km&&qi!==null){Km=!0;var t=0,e=He;try{var r=qi;for(He=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}qi=null,Op=!1}catch(i){throw qi!==null&&(qi=qi.slice(t+1)),z7(MP,pa),i}finally{He=e,Km=!1}}return null}var hl=[],fl=0,kf=null,Df=0,Cn=[],Nn=0,ao=null,Bi=1,zi="";function Pa(t,e){hl[fl++]=Df,hl[fl++]=kf,kf=t,Df=e}function yV(t,e,r){Cn[Nn++]=Bi,Cn[Nn++]=zi,Cn[Nn++]=ao,ao=t;var n=Bi;t=zi;var i=32-ti(n)-1;n&=~(1<<i),r+=1;var s=32-ti(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Bi=1<<32-ti(e)+i|r<<i|n,zi=s+t}else Bi=1<<s|r<<i|n,zi=t}function HP(t){t.return!==null&&(Pa(t,1),yV(t,1,0))}function KP(t){for(;t===kf;)kf=hl[--fl],hl[fl]=null,Df=hl[--fl],hl[fl]=null;for(;t===ao;)ao=Cn[--Nn],Cn[Nn]=null,zi=Cn[--Nn],Cn[Nn]=null,Bi=Cn[--Nn],Cn[Nn]=null}var fn=null,hn=null,ht=!1,Yn=null;function bV(t,e){var r=In(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function DT(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,fn=t,hn=Hs(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,fn=t,hn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=ao!==null?{id:Bi,overflow:zi}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=In(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,fn=t,hn=null,!0):!1;default:return!1}}function u2(t){return(t.mode&1)!==0&&(t.flags&128)===0}function c2(t){if(ht){var e=hn;if(e){var r=e;if(!DT(t,e)){if(u2(t))throw Error(Y(418));e=Hs(r.nextSibling);var n=fn;e&&DT(t,e)?bV(n,r):(t.flags=t.flags&-4097|2,ht=!1,fn=t)}}else{if(u2(t))throw Error(Y(418));t.flags=t.flags&-4097|2,ht=!1,fn=t}}}function qT(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;fn=t}function Mh(t){if(t!==fn)return!1;if(!ht)return qT(t),ht=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!s2(t.type,t.memoizedProps)),e&&(e=hn)){if(u2(t))throw wV(),Error(Y(418));for(;e;)bV(t,e),e=Hs(e.nextSibling)}if(qT(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Y(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){hn=Hs(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}hn=null}}else hn=fn?Hs(t.stateNode.nextSibling):null;return!0}function wV(){for(var t=hn;t;)t=Hs(t.nextSibling)}function Ql(){hn=fn=null,ht=!1}function GP(t){Yn===null?Yn=[t]:Yn.push(t)}var UX=os.ReactCurrentBatchConfig;function ic(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Y(309));var n=r.stateNode}if(!n)throw Error(Y(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Y(284));if(!r._owner)throw Error(Y(290,t))}return t}function Ah(t,e){throw t=Object.prototype.toString.call(e),Error(Y(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function MT(t){var e=t._init;return e(t._payload)}function xV(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Qs(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,w){return v===null||v.tag!==6?(v=ev(x,g.mode,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,w){var _=x.type;return _===al?d(g,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xs&&MT(_)===v.type)?(w=i(v,x.props),w.ref=ic(g,v,x),w.return=g,w):(w=ff(x.type,x.key,x.props,null,g.mode,w),w.ref=ic(g,v,x),w.return=g,w)}function u(g,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=tv(x,g.mode,w),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function d(g,v,x,w,_){return v===null||v.tag!==7?(v=Qa(x,g.mode,w,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=ev(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Ch:return x=ff(v.type,v.key,v.props,null,g.mode,x),x.ref=ic(g,null,v),x.return=g,x;case sl:return v=tv(v,g.mode,x),v.return=g,v;case xs:var w=v._init;return h(g,w(v._payload),x)}if(vc(v)||Zu(v))return v=Qa(v,g.mode,x,null),v.return=g,v;Ah(g,v)}return null}function f(g,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Ch:return x.key===_?l(g,v,x,w):null;case sl:return x.key===_?u(g,v,x,w):null;case xs:return _=x._init,f(g,v,_(x._payload),w)}if(vc(x)||Zu(x))return _!==null?null:d(g,v,x,w,null);Ah(g,x)}return null}function p(g,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Ch:return g=g.get(w.key===null?x:w.key)||null,l(v,g,w,_);case sl:return g=g.get(w.key===null?x:w.key)||null,u(v,g,w,_);case xs:var E=w._init;return p(g,v,x,E(w._payload),_)}if(vc(w)||Zu(w))return g=g.get(x)||null,d(v,g,w,_,null);Ah(v,w)}return null}function m(g,v,x,w){for(var _=null,E=null,O=v,S=v=0,P=null;O!==null&&S<x.length;S++){O.index>S?(P=O,O=null):P=O.sibling;var C=f(g,O,x[S],w);if(C===null){O===null&&(O=P);break}t&&O&&C.alternate===null&&e(g,O),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,O=P}if(S===x.length)return r(g,O),ht&&Pa(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return ht&&Pa(g,S),_}for(O=n(g,O);S<x.length;S++)P=p(O,g,S,x[S],w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(I){return e(g,I)}),ht&&Pa(g,S),_}function y(g,v,x,w){var _=Zu(x);if(typeof _!="function")throw Error(Y(150));if(x=_.call(x),x==null)throw Error(Y(151));for(var E=_=null,O=v,S=v=0,P=null,C=x.next();O!==null&&!C.done;S++,C=x.next()){O.index>S?(P=O,O=null):P=O.sibling;var I=f(g,O,C.value,w);if(I===null){O===null&&(O=P);break}t&&O&&I.alternate===null&&e(g,O),v=s(I,v,S),E===null?_=I:E.sibling=I,E=I,O=P}if(C.done)return r(g,O),ht&&Pa(g,S),_;if(O===null){for(;!C.done;S++,C=x.next())C=h(g,C.value,w),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return ht&&Pa(g,S),_}for(O=n(g,O);!C.done;S++,C=x.next())C=p(O,g,S,C.value,w),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&O.forEach(function(N){return e(g,N)}),ht&&Pa(g,S),_}function b(g,v,x,w){if(typeof x=="object"&&x!==null&&x.type===al&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Ch:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===al){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===xs&&MT(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=ic(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===al?(v=Qa(x.props.children,g.mode,w,x.key),v.return=g,g=v):(w=ff(x.type,x.key,x.props,null,g.mode,w),w.ref=ic(g,v,x),w.return=g,g=w)}return a(g);case sl:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=tv(x,g.mode,w),v.return=g,g=v}return a(g);case xs:return E=x._init,b(g,v,E(x._payload),w)}if(vc(x))return m(g,v,x,w);if(Zu(x))return y(g,v,x,w);Ah(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=ev(x,g.mode,w),v.return=g,g=v),a(g)):r(g,v)}return b}var Xl=xV(!0),_V=xV(!1),qf=fa(null),Mf=null,pl=null,YP=null;function QP(){YP=pl=Mf=null}function XP(t){var e=qf.current;ut(qf),t._currentValue=e}function d2(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Cl(t,e){Mf=t,YP=pl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Gr=!0),t.firstContext=null)}function kn(t){var e=t._currentValue;if(YP!==t)if(t={context:t,memoizedValue:e,next:null},pl===null){if(Mf===null)throw Error(Y(308));pl=t,Mf.dependencies={lanes:0,firstContext:t}}else pl=pl.next=t;return e}var Ia=null;function JP(t){Ia===null?Ia=[t]:Ia.push(t)}function SV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,JP(e)):(r.next=i.next,i.next=r),e.interleaved=r,is(t,n)}function is(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var _s=!1;function ZP(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function EV(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Vi(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Ks(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Be&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,is(t,r)}return i=n.interleaved,i===null?(e.next=e,JP(n)):(e.next=i.next,i.next=e),n.interleaved=e,is(t,r)}function of(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,AP(t,r)}}function AT(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Af(t,e,r,n){var i=t.updateQueue;_s=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=yt({},h,f);break e;case 2:_s=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);lo|=a,t.lanes=a,t.memoizedState=h}}function FT(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Y(191,i));i.call(n)}}}var $d={},Ei=fa($d),Xc=fa($d),Jc=fa($d);function Ra(t){if(t===$d)throw Error(Y(174));return t}function eC(t,e){switch(at(Jc,e),at(Xc,t),at(Ei,$d),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:VO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=VO(e,t)}ut(Ei),at(Ei,e)}function Jl(){ut(Ei),ut(Xc),ut(Jc)}function OV(t){Ra(Jc.current);var e=Ra(Ei.current),r=VO(e,t.type);e!==r&&(at(Xc,t),at(Ei,r))}function tC(t){Xc.current===t&&(ut(Ei),ut(Xc))}var mt=fa(0);function Ff(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Gm=[];function rC(){for(var t=0;t<Gm.length;t++)Gm[t]._workInProgressVersionPrimary=null;Gm.length=0}var lf=os.ReactCurrentDispatcher,Ym=os.ReactCurrentBatchConfig,oo=0,vt=null,Ht=null,tr=null,Lf=!1,Cc=!1,Zc=0,WX=0;function br(){throw Error(Y(321))}function nC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!ni(t[r],e[r]))return!1;return!0}function iC(t,e,r,n,i,s){if(oo=s,vt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,lf.current=t===null||t.memoizedState===null?GX:YX,t=r(n,i),Cc){s=0;do{if(Cc=!1,Zc=0,25<=s)throw Error(Y(301));s+=1,tr=Ht=null,e.updateQueue=null,lf.current=QX,t=r(n,i)}while(Cc)}if(lf.current=Bf,e=Ht!==null&&Ht.next!==null,oo=0,tr=Ht=vt=null,Lf=!1,e)throw Error(Y(300));return t}function sC(){var t=Zc!==0;return Zc=0,t}function hi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return tr===null?vt.memoizedState=tr=t:tr=tr.next=t,tr}function Dn(){if(Ht===null){var t=vt.alternate;t=t!==null?t.memoizedState:null}else t=Ht.next;var e=tr===null?vt.memoizedState:tr.next;if(e!==null)tr=e,Ht=t;else{if(t===null)throw Error(Y(310));Ht=t,t={memoizedState:Ht.memoizedState,baseState:Ht.baseState,baseQueue:Ht.baseQueue,queue:Ht.queue,next:null},tr===null?vt.memoizedState=tr=t:tr=tr.next=t}return tr}function ed(t,e){return typeof e=="function"?e(t):e}function Qm(t){var e=Dn(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=Ht,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((oo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,vt.lanes|=d,lo|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,ni(n,e.memoizedState)||(Gr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,vt.lanes|=s,lo|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Xm(t){var e=Dn(),r=e.queue;if(r===null)throw Error(Y(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);ni(s,e.memoizedState)||(Gr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function PV(){}function CV(t,e){var r=vt,n=Dn(),i=e(),s=!ni(n.memoizedState,i);if(s&&(n.memoizedState=i,Gr=!0),n=n.queue,aC(IV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||tr!==null&&tr.memoizedState.tag&1){if(r.flags|=2048,td(9,TV.bind(null,r,n,i,e),void 0,null),rr===null)throw Error(Y(349));oo&30||NV(r,e,i)}return i}function NV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function TV(t,e,r,n){e.value=r,e.getSnapshot=n,RV(e)&&jV(t)}function IV(t,e,r){return r(function(){RV(e)&&jV(t)})}function RV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!ni(t,r)}catch{return!0}}function jV(t){var e=is(t,1);e!==null&&ri(e,t,1,-1)}function LT(t){var e=hi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ed,lastRenderedState:t},e.queue=t,t=t.dispatch=KX.bind(null,vt,t),[e.memoizedState,t]}function td(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=vt.updateQueue,e===null?(e={lastEffect:null,stores:null},vt.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function $V(){return Dn().memoizedState}function uf(t,e,r,n){var i=hi();vt.flags|=t,i.memoizedState=td(1|e,r,void 0,n===void 0?null:n)}function Pp(t,e,r,n){var i=Dn();n=n===void 0?null:n;var s=void 0;if(Ht!==null){var a=Ht.memoizedState;if(s=a.destroy,n!==null&&nC(n,a.deps)){i.memoizedState=td(e,r,s,n);return}}vt.flags|=t,i.memoizedState=td(1|e,r,s,n)}function BT(t,e){return uf(8390656,8,t,e)}function aC(t,e){return Pp(2048,8,t,e)}function kV(t,e){return Pp(4,2,t,e)}function DV(t,e){return Pp(4,4,t,e)}function qV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function MV(t,e,r){return r=r!=null?r.concat([t]):null,Pp(4,4,qV.bind(null,e,t),r)}function oC(){}function AV(t,e){var r=Dn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function FV(t,e){var r=Dn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&nC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function LV(t,e,r){return oo&21?(ni(r,e)||(r=V7(),vt.lanes|=r,lo|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Gr=!0),t.memoizedState=r)}function VX(t,e){var r=He;He=r!==0&&4>r?r:4,t(!0);var n=Ym.transition;Ym.transition={};try{t(!1),e()}finally{He=r,Ym.transition=n}}function BV(){return Dn().memoizedState}function HX(t,e,r){var n=Ys(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},zV(t))UV(e,r);else if(r=SV(t,e,r,n),r!==null){var i=qr();ri(r,t,n,i),WV(r,e,n)}}function KX(t,e,r){var n=Ys(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(zV(t))UV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,ni(o,a)){var l=e.interleaved;l===null?(i.next=i,JP(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=SV(t,e,i,n),r!==null&&(i=qr(),ri(r,t,n,i),WV(r,e,n))}}function zV(t){var e=t.alternate;return t===vt||e!==null&&e===vt}function UV(t,e){Cc=Lf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function WV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,AP(t,r)}}var Bf={readContext:kn,useCallback:br,useContext:br,useEffect:br,useImperativeHandle:br,useInsertionEffect:br,useLayoutEffect:br,useMemo:br,useReducer:br,useRef:br,useState:br,useDebugValue:br,useDeferredValue:br,useTransition:br,useMutableSource:br,useSyncExternalStore:br,useId:br,unstable_isNewReconciler:!1},GX={readContext:kn,useCallback:function(t,e){return hi().memoizedState=[t,e===void 0?null:e],t},useContext:kn,useEffect:BT,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,uf(4194308,4,qV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return uf(4194308,4,t,e)},useInsertionEffect:function(t,e){return uf(4,2,t,e)},useMemo:function(t,e){var r=hi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=hi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=HX.bind(null,vt,t),[n.memoizedState,t]},useRef:function(t){var e=hi();return t={current:t},e.memoizedState=t},useState:LT,useDebugValue:oC,useDeferredValue:function(t){return hi().memoizedState=t},useTransition:function(){var t=LT(!1),e=t[0];return t=VX.bind(null,t[1]),hi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=vt,i=hi();if(ht){if(r===void 0)throw Error(Y(407));r=r()}else{if(r=e(),rr===null)throw Error(Y(349));oo&30||NV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,BT(IV.bind(null,n,s,t),[t]),n.flags|=2048,td(9,TV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=hi(),e=rr.identifierPrefix;if(ht){var r=zi,n=Bi;r=(n&~(1<<32-ti(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Zc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=WX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},YX={readContext:kn,useCallback:AV,useContext:kn,useEffect:aC,useImperativeHandle:MV,useInsertionEffect:kV,useLayoutEffect:DV,useMemo:FV,useReducer:Qm,useRef:$V,useState:function(){return Qm(ed)},useDebugValue:oC,useDeferredValue:function(t){var e=Dn();return LV(e,Ht.memoizedState,t)},useTransition:function(){var t=Qm(ed)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:PV,useSyncExternalStore:CV,useId:BV,unstable_isNewReconciler:!1},QX={readContext:kn,useCallback:AV,useContext:kn,useEffect:aC,useImperativeHandle:MV,useInsertionEffect:kV,useLayoutEffect:DV,useMemo:FV,useReducer:Xm,useRef:$V,useState:function(){return Xm(ed)},useDebugValue:oC,useDeferredValue:function(t){var e=Dn();return Ht===null?e.memoizedState=t:LV(e,Ht.memoizedState,t)},useTransition:function(){var t=Xm(ed)[0],e=Dn().memoizedState;return[t,e]},useMutableSource:PV,useSyncExternalStore:CV,useId:BV,unstable_isNewReconciler:!1};function Vn(t,e){if(t&&t.defaultProps){e=yt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function h2(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:yt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Cp={isMounted:function(t){return(t=t._reactInternals)?No(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=qr(),i=Ys(t),s=Vi(n,i);s.payload=e,r!=null&&(s.callback=r),e=Ks(t,s,i),e!==null&&(ri(e,t,i,n),of(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=qr(),i=Ys(t),s=Vi(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Ks(t,s,i),e!==null&&(ri(e,t,i,n),of(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=qr(),n=Ys(t),i=Vi(r,n);i.tag=2,e!=null&&(i.callback=e),e=Ks(t,i,n),e!==null&&(ri(e,t,n,r),of(e,t,n))}};function zT(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Kc(r,n)||!Kc(i,s):!0}function VV(t,e,r){var n=!1,i=aa,s=e.contextType;return typeof s=="object"&&s!==null?s=kn(s):(i=Qr(e)?so:Or.current,n=e.contextTypes,s=(n=n!=null)?Yl(t,i):aa),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Cp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function UT(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Cp.enqueueReplaceState(e,e.state,null)}function f2(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},ZP(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=kn(s):(s=Qr(e)?so:Or.current,i.context=Yl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(h2(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Cp.enqueueReplaceState(i,i.state,null),Af(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Zl(t,e){try{var r="",n=e;do r+=EQ(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Jm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function p2(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var XX=typeof WeakMap=="function"?WeakMap:Map;function HV(t,e,r){r=Vi(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){Uf||(Uf=!0,E2=n),p2(t,e)},r}function KV(t,e,r){r=Vi(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){p2(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){p2(t,e),typeof n!="function"&&(Gs===null?Gs=new Set([this]):Gs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function WT(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new XX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=dJ.bind(null,t,e,r),e.then(t,t))}function VT(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function HT(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Vi(-1,1),e.tag=2,Ks(r,e,1))),r.lanes|=1),t)}var JX=os.ReactCurrentOwner,Gr=!1;function Rr(t,e,r,n){e.child=t===null?_V(e,null,r,n):Xl(e,t.child,r,n)}function KT(t,e,r,n,i){r=r.render;var s=e.ref;return Cl(e,i),n=iC(t,e,r,n,s,i),r=sC(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ss(t,e,i)):(ht&&r&&HP(e),e.flags|=1,Rr(t,e,n,i),e.child)}function GT(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!mC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,GV(t,e,s,n,i)):(t=ff(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Kc,r(a,n)&&t.ref===e.ref)return ss(t,e,i)}return e.flags|=1,t=Qs(s,n),t.ref=e.ref,t.return=e,e.child=t}function GV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Kc(s,n)&&t.ref===e.ref)if(Gr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Gr=!0);else return e.lanes=t.lanes,ss(t,e,i)}return m2(t,e,r,n,i)}function YV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},at(vl,un),un|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,at(vl,un),un|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,at(vl,un),un|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,at(vl,un),un|=n;return Rr(t,e,i,r),e.child}function QV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function m2(t,e,r,n,i){var s=Qr(r)?so:Or.current;return s=Yl(e,s),Cl(e,i),r=iC(t,e,r,n,s,i),n=sC(),t!==null&&!Gr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,ss(t,e,i)):(ht&&n&&HP(e),e.flags|=1,Rr(t,e,r,i),e.child)}function YT(t,e,r,n,i){if(Qr(r)){var s=!0;$f(e)}else s=!1;if(Cl(e,i),e.stateNode===null)cf(t,e),VV(e,r,n),f2(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=kn(u):(u=Qr(r)?so:Or.current,u=Yl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&UT(e,a,n,u),_s=!1;var f=e.memoizedState;a.state=f,Af(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Yr.current||_s?(typeof d=="function"&&(h2(e,r,d,n),l=e.memoizedState),(o=_s||zT(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,EV(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Vn(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=kn(l):(l=Qr(r)?so:Or.current,l=Yl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&UT(e,a,n,l),_s=!1,f=e.memoizedState,a.state=f,Af(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Yr.current||_s?(typeof p=="function"&&(h2(e,r,p,n),m=e.memoizedState),(u=_s||zT(e,r,u,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return v2(t,e,r,n,s,i)}function v2(t,e,r,n,i,s){QV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&kT(e,r,!1),ss(t,e,s);n=e.stateNode,JX.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Xl(e,t.child,null,s),e.child=Xl(e,null,o,s)):Rr(t,e,o,s),e.memoizedState=n.state,i&&kT(e,r,!0),e.child}function XV(t){var e=t.stateNode;e.pendingContext?$T(t,e.pendingContext,e.pendingContext!==e.context):e.context&&$T(t,e.context,!1),eC(t,e.containerInfo)}function QT(t,e,r,n,i){return Ql(),GP(i),e.flags|=256,Rr(t,e,r,n),e.child}var g2={dehydrated:null,treeContext:null,retryLane:0};function y2(t){return{baseLanes:t,cachePool:null,transitions:null}}function JV(t,e,r){var n=e.pendingProps,i=mt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),at(mt,i&1),t===null)return c2(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=Ip(a,n,0,null),t=Qa(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=y2(r),e.memoizedState=g2,t):lC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return ZX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Qs(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Qs(o,s):(s=Qa(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?y2(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=g2,n}return s=t.child,t=s.sibling,n=Qs(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function lC(t,e){return e=Ip({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Fh(t,e,r,n){return n!==null&&GP(n),Xl(e,t.child,null,r),t=lC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function ZX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Jm(Error(Y(422))),Fh(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=Ip({mode:"visible",children:n.children},i,0,null),s=Qa(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Xl(e,t.child,null,a),e.child.memoizedState=y2(a),e.memoizedState=g2,s);if(!(e.mode&1))return Fh(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Y(419)),n=Jm(s,n,void 0),Fh(t,e,a,n)}if(o=(a&t.childLanes)!==0,Gr||o){if(n=rr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,is(t,i),ri(n,t,i,-1))}return pC(),n=Jm(Error(Y(421))),Fh(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=hJ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,hn=Hs(i.nextSibling),fn=e,ht=!0,Yn=null,t!==null&&(Cn[Nn++]=Bi,Cn[Nn++]=zi,Cn[Nn++]=ao,Bi=t.id,zi=t.overflow,ao=e),e=lC(e,n.children),e.flags|=4096,e)}function XT(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),d2(t.return,e,r)}function Zm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function ZV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Rr(t,e,n.children,r),n=mt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&XT(t,r,e);else if(t.tag===19)XT(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(at(mt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Ff(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Zm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Ff(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Zm(e,!0,r,null,s);break;case"together":Zm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function cf(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function ss(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),lo|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Y(153));if(e.child!==null){for(t=e.child,r=Qs(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Qs(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function eJ(t,e,r){switch(e.tag){case 3:XV(e),Ql();break;case 5:OV(e);break;case 1:Qr(e.type)&&$f(e);break;case 4:eC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;at(qf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(at(mt,mt.current&1),e.flags|=128,null):r&e.child.childLanes?JV(t,e,r):(at(mt,mt.current&1),t=ss(t,e,r),t!==null?t.sibling:null);at(mt,mt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return ZV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),at(mt,mt.current),n)break;return null;case 22:case 23:return e.lanes=0,YV(t,e,r)}return ss(t,e,r)}var eH,b2,tH,rH;eH=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};b2=function(){};tH=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ra(Ei.current);var s=null;switch(r){case"input":i=BO(t,i),n=BO(t,n),s=[];break;case"select":i=yt({},i,{value:void 0}),n=yt({},n,{value:void 0}),s=[];break;case"textarea":i=WO(t,i),n=WO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=Rf)}HO(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Lc.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Lc.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&lt("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};rH=function(t,e,r,n){r!==n&&(e.flags|=4)};function sc(t,e){if(!ht)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function wr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function tJ(t,e,r){var n=e.pendingProps;switch(KP(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return wr(e),null;case 1:return Qr(e.type)&&jf(),wr(e),null;case 3:return n=e.stateNode,Jl(),ut(Yr),ut(Or),rC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Mh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Yn!==null&&(C2(Yn),Yn=null))),b2(t,e),wr(e),null;case 5:tC(e);var i=Ra(Jc.current);if(r=e.type,t!==null&&e.stateNode!=null)tH(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Y(166));return wr(e),null}if(t=Ra(Ei.current),Mh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[yi]=e,n[Qc]=s,t=(e.mode&1)!==0,r){case"dialog":lt("cancel",n),lt("close",n);break;case"iframe":case"object":case"embed":lt("load",n);break;case"video":case"audio":for(i=0;i<yc.length;i++)lt(yc[i],n);break;case"source":lt("error",n);break;case"img":case"image":case"link":lt("error",n),lt("load",n);break;case"details":lt("toggle",n);break;case"input":aT(n,s),lt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},lt("invalid",n);break;case"textarea":lT(n,s),lt("invalid",n)}HO(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&qh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&qh(n.textContent,o,t),i=["children",""+o]):Lc.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&lt("scroll",n)}switch(r){case"input":Nh(n),oT(n,s,!0);break;case"textarea":Nh(n),uT(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=Rf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=I7(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[yi]=e,t[Qc]=n,eH(t,e,!1,!1),e.stateNode=t;e:{switch(a=KO(r,n),r){case"dialog":lt("cancel",t),lt("close",t),i=n;break;case"iframe":case"object":case"embed":lt("load",t),i=n;break;case"video":case"audio":for(i=0;i<yc.length;i++)lt(yc[i],t);i=n;break;case"source":lt("error",t),i=n;break;case"img":case"image":case"link":lt("error",t),lt("load",t),i=n;break;case"details":lt("toggle",t),i=n;break;case"input":aT(t,n),i=BO(t,n),lt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=yt({},n,{value:void 0}),lt("invalid",t);break;case"textarea":lT(t,n),i=WO(t,n),lt("invalid",t);break;default:i=n}HO(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?$7(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&R7(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Bc(t,l):typeof l=="number"&&Bc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Lc.hasOwnProperty(s)?l!=null&&s==="onScroll"&&lt("scroll",t):l!=null&&jP(t,s,l,a))}switch(r){case"input":Nh(t),oT(t,n,!1);break;case"textarea":Nh(t),uT(t);break;case"option":n.value!=null&&t.setAttribute("value",""+sa(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?Sl(t,!!n.multiple,s,!1):n.defaultValue!=null&&Sl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=Rf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return wr(e),null;case 6:if(t&&e.stateNode!=null)rH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Y(166));if(r=Ra(Jc.current),Ra(Ei.current),Mh(e)){if(n=e.stateNode,r=e.memoizedProps,n[yi]=e,(s=n.nodeValue!==r)&&(t=fn,t!==null))switch(t.tag){case 3:qh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&qh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[yi]=e,e.stateNode=n}return wr(e),null;case 13:if(ut(mt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(ht&&hn!==null&&e.mode&1&&!(e.flags&128))wV(),Ql(),e.flags|=98560,s=!1;else if(s=Mh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Y(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Y(317));s[yi]=e}else Ql(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;wr(e),s=!1}else Yn!==null&&(C2(Yn),Yn=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||mt.current&1?Gt===0&&(Gt=3):pC())),e.updateQueue!==null&&(e.flags|=4),wr(e),null);case 4:return Jl(),b2(t,e),t===null&&Gc(e.stateNode.containerInfo),wr(e),null;case 10:return XP(e.type._context),wr(e),null;case 17:return Qr(e.type)&&jf(),wr(e),null;case 19:if(ut(mt),s=e.memoizedState,s===null)return wr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)sc(s,!1);else{if(Gt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Ff(t),a!==null){for(e.flags|=128,sc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return at(mt,mt.current&1|2),e.child}t=t.sibling}s.tail!==null&&It()>eu&&(e.flags|=128,n=!0,sc(s,!1),e.lanes=4194304)}else{if(!n)if(t=Ff(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),sc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!ht)return wr(e),null}else 2*It()-s.renderingStartTime>eu&&r!==1073741824&&(e.flags|=128,n=!0,sc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=It(),e.sibling=null,r=mt.current,at(mt,n?r&1|2:r&1),e):(wr(e),null);case 22:case 23:return fC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?un&1073741824&&(wr(e),e.subtreeFlags&6&&(e.flags|=8192)):wr(e),null;case 24:return null;case 25:return null}throw Error(Y(156,e.tag))}function rJ(t,e){switch(KP(e),e.tag){case 1:return Qr(e.type)&&jf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Jl(),ut(Yr),ut(Or),rC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return tC(e),null;case 13:if(ut(mt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Y(340));Ql()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return ut(mt),null;case 4:return Jl(),null;case 10:return XP(e.type._context),null;case 22:case 23:return fC(),null;case 24:return null;default:return null}}var Lh=!1,_r=!1,nJ=typeof WeakSet=="function"?WeakSet:Set,le=null;function ml(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){St(t,e,n)}else r.current=null}function w2(t,e,r){try{r()}catch(n){St(t,e,n)}}var JT=!1;function iJ(t,e){if(n2=Nf,t=oV(),VP(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(i2={focusedElem:t,selectionRange:r},Nf=!1,le=e;le!==null;)if(e=le,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,le=t;else for(;le!==null;){e=le;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Vn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Y(163))}}catch(w){St(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,le=t;break}le=e.return}return m=JT,JT=!1,m}function Nc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&w2(e,r,s)}i=i.next}while(i!==n)}}function Np(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function x2(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function nH(t){var e=t.alternate;e!==null&&(t.alternate=null,nH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[yi],delete e[Qc],delete e[o2],delete e[LX],delete e[BX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function iH(t){return t.tag===5||t.tag===3||t.tag===4}function ZT(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||iH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function _2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=Rf));else if(n!==4&&(t=t.child,t!==null))for(_2(t,e,r),t=t.sibling;t!==null;)_2(t,e,r),t=t.sibling}function S2(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(S2(t,e,r),t=t.sibling;t!==null;)S2(t,e,r),t=t.sibling}var hr=null,Gn=!1;function ys(t,e,r){for(r=r.child;r!==null;)sH(t,e,r),r=r.sibling}function sH(t,e,r){if(Si&&typeof Si.onCommitFiberUnmount=="function")try{Si.onCommitFiberUnmount(wp,r)}catch{}switch(r.tag){case 5:_r||ml(r,e);case 6:var n=hr,i=Gn;hr=null,ys(t,e,r),hr=n,Gn=i,hr!==null&&(Gn?(t=hr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):hr.removeChild(r.stateNode));break;case 18:hr!==null&&(Gn?(t=hr,r=r.stateNode,t.nodeType===8?Hm(t.parentNode,r):t.nodeType===1&&Hm(t,r),Vc(t)):Hm(hr,r.stateNode));break;case 4:n=hr,i=Gn,hr=r.stateNode.containerInfo,Gn=!0,ys(t,e,r),hr=n,Gn=i;break;case 0:case 11:case 14:case 15:if(!_r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&w2(r,e,a),i=i.next}while(i!==n)}ys(t,e,r);break;case 1:if(!_r&&(ml(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){St(r,e,o)}ys(t,e,r);break;case 21:ys(t,e,r);break;case 22:r.mode&1?(_r=(n=_r)||r.memoizedState!==null,ys(t,e,r),_r=n):ys(t,e,r);break;default:ys(t,e,r)}}function eI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new nJ),e.forEach(function(n){var i=fJ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Un(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:hr=o.stateNode,Gn=!1;break e;case 3:hr=o.stateNode.containerInfo,Gn=!0;break e;case 4:hr=o.stateNode.containerInfo,Gn=!0;break e}o=o.return}if(hr===null)throw Error(Y(160));sH(s,a,i),hr=null,Gn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){St(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)aH(e,t),e=e.sibling}function aH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Un(e,t),ci(t),n&4){try{Nc(3,t,t.return),Np(3,t)}catch(y){St(t,t.return,y)}try{Nc(5,t,t.return)}catch(y){St(t,t.return,y)}}break;case 1:Un(e,t),ci(t),n&512&&r!==null&&ml(r,r.return);break;case 5:if(Un(e,t),ci(t),n&512&&r!==null&&ml(r,r.return),t.flags&32){var i=t.stateNode;try{Bc(i,"")}catch(y){St(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&N7(i,s),KO(o,a);var u=KO(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?$7(i,h):d==="dangerouslySetInnerHTML"?R7(i,h):d==="children"?Bc(i,h):jP(i,d,h,u)}switch(o){case"input":zO(i,s);break;case"textarea":T7(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?Sl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?Sl(i,!!s.multiple,s.defaultValue,!0):Sl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Qc]=s}catch(y){St(t,t.return,y)}}break;case 6:if(Un(e,t),ci(t),n&4){if(t.stateNode===null)throw Error(Y(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){St(t,t.return,y)}}break;case 3:if(Un(e,t),ci(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Vc(e.containerInfo)}catch(y){St(t,t.return,y)}break;case 4:Un(e,t),ci(t);break;case 13:Un(e,t),ci(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(dC=It())),n&4&&eI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(_r=(u=_r)||d,Un(e,t),_r=u):Un(e,t),ci(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(le=t,d=t.child;d!==null;){for(h=le=d;le!==null;){switch(f=le,p=f.child,f.tag){case 0:case 11:case 14:case 15:Nc(4,f,f.return);break;case 1:ml(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){St(n,r,y)}}break;case 5:ml(f,f.return);break;case 22:if(f.memoizedState!==null){rI(h);continue}}p!==null?(p.return=f,le=p):rI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=j7("display",a))}catch(y){St(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){St(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Un(e,t),ci(t),n&4&&eI(t);break;case 21:break;default:Un(e,t),ci(t)}}function ci(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(iH(r)){var n=r;break e}r=r.return}throw Error(Y(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Bc(i,""),n.flags&=-33);var s=ZT(t);S2(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=ZT(t);_2(t,o,a);break;default:throw Error(Y(161))}}catch(l){St(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function sJ(t,e,r){le=t,oH(t)}function oH(t,e,r){for(var n=(t.mode&1)!==0;le!==null;){var i=le,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Lh;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||_r;o=Lh;var u=_r;if(Lh=a,(_r=l)&&!u)for(le=i;le!==null;)a=le,l=a.child,a.tag===22&&a.memoizedState!==null?nI(i):l!==null?(l.return=a,le=l):nI(i);for(;s!==null;)le=s,oH(s),s=s.sibling;le=i,Lh=o,_r=u}tI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,le=s):tI(t)}}function tI(t){for(;le!==null;){var e=le;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:_r||Np(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!_r)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Vn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&FT(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}FT(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Vc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Y(163))}_r||e.flags&512&&x2(e)}catch(f){St(e,e.return,f)}}if(e===t){le=null;break}if(r=e.sibling,r!==null){r.return=e.return,le=r;break}le=e.return}}function rI(t){for(;le!==null;){var e=le;if(e===t){le=null;break}var r=e.sibling;if(r!==null){r.return=e.return,le=r;break}le=e.return}}function nI(t){for(;le!==null;){var e=le;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{Np(4,e)}catch(l){St(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){St(e,i,l)}}var s=e.return;try{x2(e)}catch(l){St(e,s,l)}break;case 5:var a=e.return;try{x2(e)}catch(l){St(e,a,l)}}}catch(l){St(e,e.return,l)}if(e===t){le=null;break}var o=e.sibling;if(o!==null){o.return=e.return,le=o;break}le=e.return}}var aJ=Math.ceil,zf=os.ReactCurrentDispatcher,uC=os.ReactCurrentOwner,Rn=os.ReactCurrentBatchConfig,Be=0,rr=null,Dt=null,fr=0,un=0,vl=fa(0),Gt=0,rd=null,lo=0,Tp=0,cC=0,Tc=null,Hr=null,dC=0,eu=1/0,Di=null,Uf=!1,E2=null,Gs=null,Bh=!1,Ls=null,Wf=0,Ic=0,O2=null,df=-1,hf=0;function qr(){return Be&6?It():df!==-1?df:df=It()}function Ys(t){return t.mode&1?Be&2&&fr!==0?fr&-fr:UX.transition!==null?(hf===0&&(hf=V7()),hf):(t=He,t!==0||(t=window.event,t=t===void 0?16:J7(t.type)),t):1}function ri(t,e,r,n){if(50<Ic)throw Ic=0,O2=null,Error(Y(185));Id(t,r,n),(!(Be&2)||t!==rr)&&(t===rr&&(!(Be&2)&&(Tp|=r),Gt===4&&Cs(t,fr)),Xr(t,n),r===1&&Be===0&&!(e.mode&1)&&(eu=It()+500,Op&&pa()))}function Xr(t,e){var r=t.callbackNode;UQ(t,e);var n=Cf(t,t===rr?fr:0);if(n===0)r!==null&&hT(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&hT(r),e===1)t.tag===0?zX(iI.bind(null,t)):gV(iI.bind(null,t)),AX(function(){!(Be&6)&&pa()}),r=null;else{switch(H7(n)){case 1:r=MP;break;case 4:r=U7;break;case 16:r=Pf;break;case 536870912:r=W7;break;default:r=Pf}r=mH(r,lH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function lH(t,e){if(df=-1,hf=0,Be&6)throw Error(Y(327));var r=t.callbackNode;if(Nl()&&t.callbackNode!==r)return null;var n=Cf(t,t===rr?fr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=Vf(t,n);else{e=n;var i=Be;Be|=2;var s=cH();(rr!==t||fr!==e)&&(Di=null,eu=It()+500,Ya(t,e));do try{uJ();break}catch(o){uH(t,o)}while(!0);QP(),zf.current=s,Be=i,Dt!==null?e=0:(rr=null,fr=0,e=Gt)}if(e!==0){if(e===2&&(i=JO(t),i!==0&&(n=i,e=P2(t,i))),e===1)throw r=rd,Ya(t,0),Cs(t,n),Xr(t,It()),r;if(e===6)Cs(t,n);else{if(i=t.current.alternate,!(n&30)&&!oJ(i)&&(e=Vf(t,n),e===2&&(s=JO(t),s!==0&&(n=s,e=P2(t,s))),e===1))throw r=rd,Ya(t,0),Cs(t,n),Xr(t,It()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Y(345));case 2:Ca(t,Hr,Di);break;case 3:if(Cs(t,n),(n&130023424)===n&&(e=dC+500-It(),10<e)){if(Cf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){qr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=a2(Ca.bind(null,t,Hr,Di),e);break}Ca(t,Hr,Di);break;case 4:if(Cs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-ti(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=It()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*aJ(n/1960))-n,10<n){t.timeoutHandle=a2(Ca.bind(null,t,Hr,Di),n);break}Ca(t,Hr,Di);break;case 5:Ca(t,Hr,Di);break;default:throw Error(Y(329))}}}return Xr(t,It()),t.callbackNode===r?lH.bind(null,t):null}function P2(t,e){var r=Tc;return t.current.memoizedState.isDehydrated&&(Ya(t,e).flags|=256),t=Vf(t,e),t!==2&&(e=Hr,Hr=r,e!==null&&C2(e)),t}function C2(t){Hr===null?Hr=t:Hr.push.apply(Hr,t)}function oJ(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!ni(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Cs(t,e){for(e&=~cC,e&=~Tp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-ti(e),n=1<<r;t[r]=-1,e&=~n}}function iI(t){if(Be&6)throw Error(Y(327));Nl();var e=Cf(t,0);if(!(e&1))return Xr(t,It()),null;var r=Vf(t,e);if(t.tag!==0&&r===2){var n=JO(t);n!==0&&(e=n,r=P2(t,n))}if(r===1)throw r=rd,Ya(t,0),Cs(t,e),Xr(t,It()),r;if(r===6)throw Error(Y(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Ca(t,Hr,Di),Xr(t,It()),null}function hC(t,e){var r=Be;Be|=1;try{return t(e)}finally{Be=r,Be===0&&(eu=It()+500,Op&&pa())}}function uo(t){Ls!==null&&Ls.tag===0&&!(Be&6)&&Nl();var e=Be;Be|=1;var r=Rn.transition,n=He;try{if(Rn.transition=null,He=1,t)return t()}finally{He=n,Rn.transition=r,Be=e,!(Be&6)&&pa()}}function fC(){un=vl.current,ut(vl)}function Ya(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,MX(r)),Dt!==null)for(r=Dt.return;r!==null;){var n=r;switch(KP(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&jf();break;case 3:Jl(),ut(Yr),ut(Or),rC();break;case 5:tC(n);break;case 4:Jl();break;case 13:ut(mt);break;case 19:ut(mt);break;case 10:XP(n.type._context);break;case 22:case 23:fC()}r=r.return}if(rr=t,Dt=t=Qs(t.current,null),fr=un=e,Gt=0,rd=null,cC=Tp=lo=0,Hr=Tc=null,Ia!==null){for(e=0;e<Ia.length;e++)if(r=Ia[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ia=null}return t}function uH(t,e){do{var r=Dt;try{if(QP(),lf.current=Bf,Lf){for(var n=vt.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Lf=!1}if(oo=0,tr=Ht=vt=null,Cc=!1,Zc=0,uC.current=null,r===null||r.return===null){Gt=1,rd=e,Dt=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=fr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=VT(a);if(p!==null){p.flags&=-257,HT(p,a,o,s,e),p.mode&1&&WT(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){WT(s,u,e),pC();break e}l=Error(Y(426))}}else if(ht&&o.mode&1){var b=VT(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),HT(b,a,o,s,e),GP(Zl(l,o));break e}}s=l=Zl(l,o),Gt!==4&&(Gt=2),Tc===null?Tc=[s]:Tc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=HV(s,l,e);AT(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(Gs===null||!Gs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=KV(s,o,e);AT(s,w);break e}}s=s.return}while(s!==null)}hH(r)}catch(_){e=_,Dt===r&&r!==null&&(Dt=r=r.return);continue}break}while(!0)}function cH(){var t=zf.current;return zf.current=Bf,t===null?Bf:t}function pC(){(Gt===0||Gt===3||Gt===2)&&(Gt=4),rr===null||!(lo&268435455)&&!(Tp&268435455)||Cs(rr,fr)}function Vf(t,e){var r=Be;Be|=2;var n=cH();(rr!==t||fr!==e)&&(Di=null,Ya(t,e));do try{lJ();break}catch(i){uH(t,i)}while(!0);if(QP(),Be=r,zf.current=n,Dt!==null)throw Error(Y(261));return rr=null,fr=0,Gt}function lJ(){for(;Dt!==null;)dH(Dt)}function uJ(){for(;Dt!==null&&!kQ();)dH(Dt)}function dH(t){var e=pH(t.alternate,t,un);t.memoizedProps=t.pendingProps,e===null?hH(t):Dt=e,uC.current=null}function hH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=rJ(r,e),r!==null){r.flags&=32767,Dt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Gt=6,Dt=null;return}}else if(r=tJ(r,e,un),r!==null){Dt=r;return}if(e=e.sibling,e!==null){Dt=e;return}Dt=e=t}while(e!==null);Gt===0&&(Gt=5)}function Ca(t,e,r){var n=He,i=Rn.transition;try{Rn.transition=null,He=1,cJ(t,e,r,n)}finally{Rn.transition=i,He=n}return null}function cJ(t,e,r,n){do Nl();while(Ls!==null);if(Be&6)throw Error(Y(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Y(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(WQ(t,s),t===rr&&(Dt=rr=null,fr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Bh||(Bh=!0,mH(Pf,function(){return Nl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Rn.transition,Rn.transition=null;var a=He;He=1;var o=Be;Be|=4,uC.current=null,iJ(t,r),aH(r,t),IX(i2),Nf=!!n2,i2=n2=null,t.current=r,sJ(r),DQ(),Be=o,He=a,Rn.transition=s}else t.current=r;if(Bh&&(Bh=!1,Ls=t,Wf=i),s=t.pendingLanes,s===0&&(Gs=null),AQ(r.stateNode),Xr(t,It()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(Uf)throw Uf=!1,t=E2,E2=null,t;return Wf&1&&t.tag!==0&&Nl(),s=t.pendingLanes,s&1?t===O2?Ic++:(Ic=0,O2=t):Ic=0,pa(),null}function Nl(){if(Ls!==null){var t=H7(Wf),e=Rn.transition,r=He;try{if(Rn.transition=null,He=16>t?16:t,Ls===null)var n=!1;else{if(t=Ls,Ls=null,Wf=0,Be&6)throw Error(Y(331));var i=Be;for(Be|=4,le=t.current;le!==null;){var s=le,a=s.child;if(le.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(le=u;le!==null;){var d=le;switch(d.tag){case 0:case 11:case 15:Nc(8,d,s)}var h=d.child;if(h!==null)h.return=d,le=h;else for(;le!==null;){d=le;var f=d.sibling,p=d.return;if(nH(d),d===u){le=null;break}if(f!==null){f.return=p,le=f;break}le=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}le=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,le=a;else e:for(;le!==null;){if(s=le,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Nc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,le=g;break e}le=s.return}}var v=t.current;for(le=v;le!==null;){a=le;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,le=x;else e:for(a=v;le!==null;){if(o=le,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:Np(9,o)}}catch(_){St(o,o.return,_)}if(o===a){le=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,le=w;break e}le=o.return}}if(Be=i,pa(),Si&&typeof Si.onPostCommitFiberRoot=="function")try{Si.onPostCommitFiberRoot(wp,t)}catch{}n=!0}return n}finally{He=r,Rn.transition=e}}return!1}function sI(t,e,r){e=Zl(r,e),e=HV(t,e,1),t=Ks(t,e,1),e=qr(),t!==null&&(Id(t,1,e),Xr(t,e))}function St(t,e,r){if(t.tag===3)sI(t,t,r);else for(;e!==null;){if(e.tag===3){sI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(Gs===null||!Gs.has(n))){t=Zl(r,t),t=KV(e,t,1),e=Ks(e,t,1),t=qr(),e!==null&&(Id(e,1,t),Xr(e,t));break}}e=e.return}}function dJ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=qr(),t.pingedLanes|=t.suspendedLanes&r,rr===t&&(fr&r)===r&&(Gt===4||Gt===3&&(fr&130023424)===fr&&500>It()-dC?Ya(t,0):cC|=r),Xr(t,e)}function fH(t,e){e===0&&(t.mode&1?(e=Rh,Rh<<=1,!(Rh&130023424)&&(Rh=4194304)):e=1);var r=qr();t=is(t,e),t!==null&&(Id(t,e,r),Xr(t,r))}function hJ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),fH(t,r)}function fJ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Y(314))}n!==null&&n.delete(e),fH(t,r)}var pH;pH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Yr.current)Gr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Gr=!1,eJ(t,e,r);Gr=!!(t.flags&131072)}else Gr=!1,ht&&e.flags&1048576&&yV(e,Df,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;cf(t,e),t=e.pendingProps;var i=Yl(e,Or.current);Cl(e,r),i=iC(null,e,n,t,i,r);var s=sC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Qr(n)?(s=!0,$f(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,ZP(e),i.updater=Cp,e.stateNode=i,i._reactInternals=e,f2(e,n,t,r),e=v2(null,e,n,!0,s,r)):(e.tag=0,ht&&s&&HP(e),Rr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(cf(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=mJ(n),t=Vn(n,t),i){case 0:e=m2(null,e,n,t,r);break e;case 1:e=YT(null,e,n,t,r);break e;case 11:e=KT(null,e,n,t,r);break e;case 14:e=GT(null,e,n,Vn(n.type,t),r);break e}throw Error(Y(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),m2(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),YT(t,e,n,i,r);case 3:e:{if(XV(e),t===null)throw Error(Y(387));n=e.pendingProps,s=e.memoizedState,i=s.element,EV(t,e),Af(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Zl(Error(Y(423)),e),e=QT(t,e,n,r,i);break e}else if(n!==i){i=Zl(Error(Y(424)),e),e=QT(t,e,n,r,i);break e}else for(hn=Hs(e.stateNode.containerInfo.firstChild),fn=e,ht=!0,Yn=null,r=_V(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ql(),n===i){e=ss(t,e,r);break e}Rr(t,e,n,r)}e=e.child}return e;case 5:return OV(e),t===null&&c2(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,s2(n,i)?a=null:s!==null&&s2(n,s)&&(e.flags|=32),QV(t,e),Rr(t,e,a,r),e.child;case 6:return t===null&&c2(e),null;case 13:return JV(t,e,r);case 4:return eC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Xl(e,null,n,r):Rr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),KT(t,e,n,i,r);case 7:return Rr(t,e,e.pendingProps,r),e.child;case 8:return Rr(t,e,e.pendingProps.children,r),e.child;case 12:return Rr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,at(qf,n._currentValue),n._currentValue=a,s!==null)if(ni(s.value,a)){if(s.children===i.children&&!Yr.current){e=ss(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Vi(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),d2(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Y(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),d2(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Rr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Cl(e,r),i=kn(i),n=n(i),e.flags|=1,Rr(t,e,n,r),e.child;case 14:return n=e.type,i=Vn(n,e.pendingProps),i=Vn(n.type,i),GT(t,e,n,i,r);case 15:return GV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Vn(n,i),cf(t,e),e.tag=1,Qr(n)?(t=!0,$f(e)):t=!1,Cl(e,r),VV(e,n,i),f2(e,n,i,r),v2(null,e,n,!0,t,r);case 19:return ZV(t,e,r);case 22:return YV(t,e,r)}throw Error(Y(156,e.tag))};function mH(t,e){return z7(t,e)}function pJ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function In(t,e,r,n){return new pJ(t,e,r,n)}function mC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function mJ(t){if(typeof t=="function")return mC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===kP)return 11;if(t===DP)return 14}return 2}function Qs(t,e){var r=t.alternate;return r===null?(r=In(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function ff(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")mC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case al:return Qa(r.children,i,s,e);case $P:a=8,i|=8;break;case MO:return t=In(12,r,e,i|2),t.elementType=MO,t.lanes=s,t;case AO:return t=In(13,r,e,i),t.elementType=AO,t.lanes=s,t;case FO:return t=In(19,r,e,i),t.elementType=FO,t.lanes=s,t;case O7:return Ip(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case S7:a=10;break e;case E7:a=9;break e;case kP:a=11;break e;case DP:a=14;break e;case xs:a=16,n=null;break e}throw Error(Y(130,t==null?t:typeof t,""))}return e=In(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Qa(t,e,r,n){return t=In(7,t,n,e),t.lanes=r,t}function Ip(t,e,r,n){return t=In(22,t,n,e),t.elementType=O7,t.lanes=r,t.stateNode={isHidden:!1},t}function ev(t,e,r){return t=In(6,t,null,e),t.lanes=r,t}function tv(t,e,r){return e=In(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function vJ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Dm(0),this.expirationTimes=Dm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Dm(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function vC(t,e,r,n,i,s,a,o,l){return t=new vJ(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=In(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},ZP(s),t}function gJ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:sl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function vH(t){if(!t)return aa;t=t._reactInternals;e:{if(No(t)!==t||t.tag!==1)throw Error(Y(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Qr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Y(171))}if(t.tag===1){var r=t.type;if(Qr(r))return vV(t,r,e)}return e}function gH(t,e,r,n,i,s,a,o,l){return t=vC(r,n,!0,t,i,s,a,o,l),t.context=vH(null),r=t.current,n=qr(),i=Ys(r),s=Vi(n,i),s.callback=e??null,Ks(r,s,i),t.current.lanes=i,Id(t,i,n),Xr(t,n),t}function Rp(t,e,r,n){var i=e.current,s=qr(),a=Ys(i);return r=vH(r),e.context===null?e.context=r:e.pendingContext=r,e=Vi(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Ks(i,e,a),t!==null&&(ri(t,i,a,s),of(t,i,a)),a}function Hf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function aI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function gC(t,e){aI(t,e),(t=t.alternate)&&aI(t,e)}function yJ(){return null}var yH=typeof reportError=="function"?reportError:function(t){console.error(t)};function yC(t){this._internalRoot=t}jp.prototype.render=yC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Y(409));Rp(t,e,null,null)};jp.prototype.unmount=yC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;uo(function(){Rp(null,t,null,null)}),e[ns]=null}};function jp(t){this._internalRoot=t}jp.prototype.unstable_scheduleHydration=function(t){if(t){var e=Y7();t={blockedOn:null,target:t,priority:e};for(var r=0;r<Ps.length&&e!==0&&e<Ps[r].priority;r++);Ps.splice(r,0,t),r===0&&X7(t)}};function bC(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function $p(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function oI(){}function bJ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=Hf(a);s.call(u)}}var a=gH(e,n,t,0,null,!1,!1,"",oI);return t._reactRootContainer=a,t[ns]=a.current,Gc(t.nodeType===8?t.parentNode:t),uo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=Hf(l);o.call(u)}}var l=vC(t,0,!1,null,null,!1,!1,"",oI);return t._reactRootContainer=l,t[ns]=l.current,Gc(t.nodeType===8?t.parentNode:t),uo(function(){Rp(e,l,r,n)}),l}function kp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=Hf(a);o.call(l)}}Rp(e,a,t,i)}else a=bJ(r,e,t,i,n);return Hf(a)}K7=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=gc(e.pendingLanes);r!==0&&(AP(e,r|1),Xr(e,It()),!(Be&6)&&(eu=It()+500,pa()))}break;case 13:uo(function(){var n=is(t,1);if(n!==null){var i=qr();ri(n,t,1,i)}}),gC(t,1)}};FP=function(t){if(t.tag===13){var e=is(t,134217728);if(e!==null){var r=qr();ri(e,t,134217728,r)}gC(t,134217728)}};G7=function(t){if(t.tag===13){var e=Ys(t),r=is(t,e);if(r!==null){var n=qr();ri(r,t,e,n)}gC(t,e)}};Y7=function(){return He};Q7=function(t,e){var r=He;try{return He=t,e()}finally{He=r}};YO=function(t,e,r){switch(e){case"input":if(zO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Ep(n);if(!i)throw Error(Y(90));C7(n),zO(n,i)}}}break;case"textarea":T7(t,r);break;case"select":e=r.value,e!=null&&Sl(t,!!r.multiple,e,!1)}};q7=hC;M7=uo;var wJ={usingClientEntryPoint:!1,Events:[jd,cl,Ep,k7,D7,hC]},ac={findFiberByHostInstance:Ta,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},xJ={bundleType:ac.bundleType,version:ac.version,rendererPackageName:ac.rendererPackageName,rendererConfig:ac.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:os.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=L7(t),t===null?null:t.stateNode},findFiberByHostInstance:ac.findFiberByHostInstance||yJ,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var zh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!zh.isDisabled&&zh.supportsFiber)try{wp=zh.inject(xJ),Si=zh}catch{}}mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=wJ;mn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!bC(e))throw Error(Y(200));return gJ(t,e,null,r)};mn.createRoot=function(t,e){if(!bC(t))throw Error(Y(299));var r=!1,n="",i=yH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=vC(t,1,!1,null,null,r,!1,n,i),t[ns]=e.current,Gc(t.nodeType===8?t.parentNode:t),new yC(e)};mn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Y(188)):(t=Object.keys(t).join(","),Error(Y(268,t)));return t=L7(e),t=t===null?null:t.stateNode,t};mn.flushSync=function(t){return uo(t)};mn.hydrate=function(t,e,r){if(!$p(e))throw Error(Y(200));return kp(null,t,e,!0,r)};mn.hydrateRoot=function(t,e,r){if(!bC(t))throw Error(Y(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=yH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=gH(e,null,t,1,r??null,i,!1,s,a),t[ns]=e.current,Gc(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new jp(e)};mn.render=function(t,e,r){if(!$p(e))throw Error(Y(200));return kp(null,t,e,!1,r)};mn.unmountComponentAtNode=function(t){if(!$p(t))throw Error(Y(40));return t._reactRootContainer?(uo(function(){kp(null,null,t,!1,function(){t._reactRootContainer=null,t[ns]=null})}),!0):!1};mn.unstable_batchedUpdates=hC;mn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!$p(r))throw Error(Y(200));if(t==null||t._reactInternals===void 0)throw Error(Y(38));return kp(t,e,r,!1,n)};mn.version="18.3.1-next-f1338f8080-20240426";function bH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(bH)}catch(t){console.error(t)}}bH(),b7.exports=mn;var _J=b7.exports,lI=_J;DO.createRoot=lI.createRoot,DO.hydrateRoot=lI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nd(){return nd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},nd.apply(this,arguments)}var Bs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Bs||(Bs={}));const uI="popstate";function SJ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return N2("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:Kf(i)}return OJ(e,r,null,t)}function gt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function wC(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function EJ(){return Math.random().toString(36).substr(2,8)}function cI(t,e){return{usr:t.state,key:t.key,idx:e}}function N2(t,e,r,n){return r===void 0&&(r=null),nd({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?yu(e):e,{state:r,key:e&&e.key||n||EJ()})}function Kf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function yu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function OJ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Bs.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(nd({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Bs.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=Bs.Push;let v=N2(y.location,b,g);u=d()+1;let x=cI(v,u),w=y.createHref(v);try{a.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=Bs.Replace;let v=N2(y.location,b,g);u=d();let x=cI(v,u),w=y.createHref(v);a.replaceState(x,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:Kf(b);return v=v.replace(/ $/,"%20"),gt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(uI,h),l=b,()=>{i.removeEventListener(uI,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var dI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(dI||(dI={}));function PJ(t,e,r){return r===void 0&&(r="/"),CJ(t,e,r)}function CJ(t,e,r,n){let i=typeof e=="string"?yu(e):e,s=tu(i.pathname||"/",r);if(s==null)return null;let a=wH(t);NJ(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=FJ(s);o=MJ(a[l],u)}return o}function wH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(gt(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Xs([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(gt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),wH(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:DJ(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of xH(s.path))i(s,a,l)}),e}function xH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=xH(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function NJ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:qJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const TJ=/^:[\w-]+$/,IJ=3,RJ=2,jJ=1,$J=10,kJ=-2,hI=t=>t==="*";function DJ(t,e){let r=t.split("/"),n=r.length;return r.some(hI)&&(n+=kJ),e&&(n+=RJ),r.filter(i=>!hI(i)).reduce((i,s)=>i+(TJ.test(s)?IJ:s===""?jJ:$J),n)}function qJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function MJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=T2({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Xs([s,h.pathname]),pathnameBase:WJ(Xs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Xs([s,h.pathnameBase]))}return a}function T2(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=AJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function AJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),wC(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function FJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return wC(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function tu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const LJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,BJ=t=>LJ.test(t);function zJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?yu(t):t,s;if(r)if(BJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),wC(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=fI(r.substring(1),"/"):s=fI(r,e)}else s=e;return{pathname:s,search:VJ(n),hash:HJ(i)}}function fI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function rv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function UJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function xC(t,e){let r=UJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function _C(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=yu(t):(i=nd({},t),gt(!i.pathname||!i.pathname.includes("?"),rv("?","pathname","search",i)),gt(!i.pathname||!i.pathname.includes("#"),rv("#","pathname","hash",i)),gt(!i.search||!i.search.includes("#"),rv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=zJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Xs=t=>t.join("/").replace(/\/\/+/g,"/"),WJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),VJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,HJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function KJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const _H=["post","put","patch","delete"];new Set(_H);const GJ=["get",..._H];new Set(GJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function id(){return id=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},id.apply(this,arguments)}const Dp=k.createContext(null),SH=k.createContext(null),ls=k.createContext(null),qp=k.createContext(null),us=k.createContext({outlet:null,matches:[],isDataRoute:!1}),EH=k.createContext(null);function YJ(t,e){let{relative:r}=e===void 0?{}:e;bu()||gt(!1);let{basename:n,navigator:i}=k.useContext(ls),{hash:s,pathname:a,search:o}=Mp(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Xs([n,a])),i.createHref({pathname:l,search:o,hash:s})}function bu(){return k.useContext(qp)!=null}function cs(){return bu()||gt(!1),k.useContext(qp).location}function OH(t){k.useContext(ls).static||k.useLayoutEffect(t)}function rn(){let{isDataRoute:t}=k.useContext(us);return t?lZ():QJ()}function QJ(){bu()||gt(!1);let t=k.useContext(Dp),{basename:e,future:r,navigator:n}=k.useContext(ls),{matches:i}=k.useContext(us),{pathname:s}=cs(),a=JSON.stringify(xC(i,r.v7_relativeSplatPath)),o=k.useRef(!1);return OH(()=>{o.current=!0}),k.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=_C(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Xs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function ds(){let{matches:t}=k.useContext(us),e=t[t.length-1];return e?e.params:{}}function Mp(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=k.useContext(ls),{matches:i}=k.useContext(us),{pathname:s}=cs(),a=JSON.stringify(xC(i,n.v7_relativeSplatPath));return k.useMemo(()=>_C(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function XJ(t,e){return JJ(t,e)}function JJ(t,e,r,n){bu()||gt(!1);let{navigator:i}=k.useContext(ls),{matches:s}=k.useContext(us),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=cs(),d;if(e){var h;let b=typeof e=="string"?yu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||gt(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=PJ(t,{pathname:p}),y=nZ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Xs([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Xs([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?k.createElement(qp.Provider,{value:{location:id({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Bs.Pop}},y):y}function ZJ(){let t=oZ(),e=KJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return k.createElement(k.Fragment,null,k.createElement("h2",null,"Unexpected Application Error!"),k.createElement("h3",{style:{fontStyle:"italic"}},e),r?k.createElement("pre",{style:i},r):null,null)}const eZ=k.createElement(ZJ,null);class tZ extends k.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?k.createElement(us.Provider,{value:this.props.routeContext},k.createElement(EH.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function rZ(t){let{routeContext:e,match:r,children:n}=t,i=k.useContext(Dp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),k.createElement(us.Provider,{value:e},n)}function nZ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||gt(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||eZ,l&&(u<0&&f===0?(uZ("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:h.route.Component?x=k.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,k.createElement(rZ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?k.createElement(tZ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var PH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(PH||{}),CH=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(CH||{});function iZ(t){let e=k.useContext(Dp);return e||gt(!1),e}function sZ(t){let e=k.useContext(SH);return e||gt(!1),e}function aZ(t){let e=k.useContext(us);return e||gt(!1),e}function NH(t){let e=aZ(),r=e.matches[e.matches.length-1];return r.route.id||gt(!1),r.route.id}function oZ(){var t;let e=k.useContext(EH),r=sZ(),n=NH();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function lZ(){let{router:t}=iZ(PH.UseNavigateStable),e=NH(CH.UseNavigateStable),r=k.useRef(!1);return OH(()=>{r.current=!0}),k.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,id({fromRouteId:e},s)))},[t,e])}const pI={};function uZ(t,e,r){pI[t]||(pI[t]=!0)}function cZ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function TH(t){let{to:e,replace:r,state:n,relative:i}=t;bu()||gt(!1);let{future:s,static:a}=k.useContext(ls),{matches:o}=k.useContext(us),{pathname:l}=cs(),u=rn(),d=_C(e,xC(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return k.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Ye(t){gt(!1)}function dZ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Bs.Pop,navigator:s,static:a=!1,future:o}=t;bu()&&gt(!1);let l=e.replace(/^\/*/,"/"),u=k.useMemo(()=>({basename:l,navigator:s,static:a,future:id({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=yu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=k.useMemo(()=>{let b=tu(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:k.createElement(ls.Provider,{value:u},k.createElement(qp.Provider,{children:r,value:y}))}function mI(t){let{children:e,location:r}=t;return XJ(I2(e),r)}new Promise(()=>{});function I2(t,e){e===void 0&&(e=[]);let r=[];return k.Children.forEach(t,(n,i)=>{if(!k.isValidElement(n))return;let s=[...e,i];if(n.type===k.Fragment){r.push.apply(r,I2(n.props.children,s));return}n.type!==Ye&&gt(!1),!n.props.index||!n.props.children||gt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=I2(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gf(){return Gf=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gf.apply(this,arguments)}function IH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function hZ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function fZ(t,e){return t.button===0&&(!e||e==="_self")&&!hZ(t)}function R2(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function pZ(t,e){let r=R2(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const mZ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vZ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],gZ="6";try{window.__reactRouterVersion=gZ}catch{}const yZ=k.createContext({isTransitioning:!1}),bZ="startTransition",vI=dQ[bZ];function wZ(t){let{basename:e,children:r,future:n,window:i}=t,s=k.useRef();s.current==null&&(s.current=SJ({window:i,v5Compat:!0}));let a=s.current,[o,l]=k.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=k.useCallback(h=>{u&&vI?vI(()=>l(h)):l(h)},[l,u]);return k.useLayoutEffect(()=>a.listen(d),[a,d]),k.useEffect(()=>cZ(n),[n]),k.createElement(dZ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const xZ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",_Z=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=k.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=IH(e,mZ),{basename:p}=k.useContext(ls),m,y=!1;if(typeof u=="string"&&_Z.test(u)&&(m=u,xZ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=tu(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=YJ(u,{relative:i}),g=OZ(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return k.createElement("a",Gf({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),SZ=k.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=IH(e,vZ),f=Mp(l,{relative:h.relative}),p=cs(),m=k.useContext(SH),{navigator:y,basename:b}=k.useContext(ls),g=m!=null&&CZ(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=tu(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},P=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return k.createElement(ce,Gf({},h,{"aria-current":P,className:C,ref:r,style:I,to:l,viewTransition:u}),typeof d=="function"?d(S):d)});var j2;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(j2||(j2={}));var gI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(gI||(gI={}));function EZ(t){let e=k.useContext(Dp);return e||gt(!1),e}function OZ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=rn(),u=cs(),d=Mp(t,{relative:a});return k.useCallback(h=>{if(fZ(h,r)){h.preventDefault();let f=n!==void 0?n:Kf(u)===Kf(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,n,i,r,t,s,a,o])}function PZ(t){let e=k.useRef(R2(t)),r=k.useRef(!1),n=cs(),i=k.useMemo(()=>pZ(n.search,r.current?null:e.current),[n.search]),s=rn(),a=k.useCallback((o,l)=>{const u=R2(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function CZ(t,e){e===void 0&&(e={});let r=k.useContext(yZ);r==null&&gt(!1);let{basename:n}=EZ(j2.useViewTransitionState),i=Mp(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=tu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=tu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return T2(i.pathname,a)!=null||T2(i.pathname,s)!=null}var To=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},NZ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ts,OP,QW,TZ=(QW=class{constructor(){oe(this,Ts,NZ);oe(this,OP,!1)}setTimeoutProvider(t){re(this,Ts,t)}setTimeout(t,e){return R(this,Ts).setTimeout(t,e)}clearTimeout(t){R(this,Ts).clearTimeout(t)}setInterval(t,e){return R(this,Ts).setInterval(t,e)}clearInterval(t){R(this,Ts).clearInterval(t)}},Ts=new WeakMap,OP=new WeakMap,QW),ja=new TZ;function IZ(t){setTimeout(t,0)}var co=typeof window>"u"||"Deno"in globalThis;function xr(){}function RZ(t,e){return typeof t=="function"?t(e):t}function $2(t){return typeof t=="number"&&t>=0&&t!==1/0}function RH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Js(t,e){return typeof t=="function"?t(e):t}function On(t,e){return typeof t=="function"?t(e):t}function yI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==SC(a,e.options))return!1}else if(!sd(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function bI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(ho(e.options.mutationKey)!==ho(s))return!1}else if(!sd(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function SC(t,e){return((e==null?void 0:e.queryKeyHashFn)||ho)(t)}function ho(t){return JSON.stringify(t,(e,r)=>k2(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function sd(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>sd(t[r],e[r])):!1}var jZ=Object.prototype.hasOwnProperty;function EC(t,e){if(t===e)return t;const r=wI(t)&&wI(e);if(!r&&!(k2(t)&&k2(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=r?u:s[u],h=t[d],f=e[d];if(h===f){o[d]=h,(r?u<i:jZ.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=EC(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function ad(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function wI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function k2(t){if(!xI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!xI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function xI(t){return Object.prototype.toString.call(t)==="[object Object]"}function $Z(t){return new Promise(e=>{ja.setTimeout(e,t)})}function D2(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?EC(t,e):e}function kZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function DZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var OC=Symbol();function jH(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===OC?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function PC(t,e){return typeof t=="function"?t(...e):!!t}function qZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var La,Is,$l,XW,MZ=(XW=class extends To{constructor(){super();oe(this,La);oe(this,Is);oe(this,$l);re(this,$l,e=>{if(!co&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Is)||this.setEventListener(R(this,$l))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Is))==null||e.call(this),re(this,Is,void 0))}setEventListener(e){var r;re(this,$l,e),(r=R(this,Is))==null||r.call(this),re(this,Is,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,La)!==e&&(re(this,La,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,La)=="boolean"?R(this,La):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},La=new WeakMap,Is=new WeakMap,$l=new WeakMap,XW),CC=new MZ;function q2(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var AZ=IZ;function FZ(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=AZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Pt=FZ(),kl,Rs,Dl,JW,LZ=(JW=class extends To{constructor(){super();oe(this,kl,!0);oe(this,Rs);oe(this,Dl);re(this,Dl,e=>{if(!co&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Rs)||this.setEventListener(R(this,Dl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Rs))==null||e.call(this),re(this,Rs,void 0))}setEventListener(e){var r;re(this,Dl,e),(r=R(this,Rs))==null||r.call(this),re(this,Rs,e(this.setOnline.bind(this)))}setOnline(e){R(this,kl)!==e&&(re(this,kl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,kl)}},kl=new WeakMap,Rs=new WeakMap,Dl=new WeakMap,JW),Yf=new LZ;function BZ(t){return Math.min(1e3*2**t,3e4)}function $H(t){return(t??"online")==="online"?Yf.isOnline():!0}var M2=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function kH(t){let e=!1,r=0,n;const i=q2(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new M2(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>CC.isFocused()&&(t.networkMode==="always"||Yf.isOnline())&&t.canRun(),d=()=>$H(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||u())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(co?0:3),x=t.retryDelay??BZ,w=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),$Z(w).then(()=>u()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var Ba,ZW,DH=(ZW=class{constructor(){oe(this,Ba)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),$2(this.gcTime)&&re(this,Ba,ja.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(co?1/0:5*60*1e3))}clearGcTimeout(){R(this,Ba)&&(ja.clearTimeout(R(this,Ba)),re(this,Ba,void 0))}},Ba=new WeakMap,ZW),za,ql,Sn,Ua,er,xd,Wa,Hn,ki,e7,zZ=(e7=class extends DH{constructor(e){super();oe(this,Hn);oe(this,za);oe(this,ql);oe(this,Sn);oe(this,Ua);oe(this,er);oe(this,xd);oe(this,Wa);re(this,Wa,!1),re(this,xd,e.defaultOptions),this.setOptions(e.options),this.observers=[],re(this,Ua,e.client),re(this,Sn,R(this,Ua).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,re(this,za,SI(this.options)),this.state=e.state??R(this,za),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,er))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,xd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=SI(this.options);r.data!==void 0&&(this.setState(_I(r.data,r.dataUpdatedAt)),re(this,za,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,Sn).remove(this)}setData(e,r){const n=D2(this.state.data,e,this.options);return _e(this,Hn,ki).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){_e(this,Hn,ki).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,er))==null?void 0:n.promise;return(i=R(this,er))==null||i.cancel(e),r?r.then(xr).catch(xr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,za))}isActive(){return this.observers.some(e=>On(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===OC||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Js(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!RH(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,er))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,er))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,Sn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,er)&&(R(this,Wa)?R(this,er).cancel({revert:!0}):R(this,er).cancelRetry()),this.scheduleGc()),R(this,Sn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,Hn,ki).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,d,h,f,p,m,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,er))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,er))return R(this,er).continueRetry(),R(this,er).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(re(this,Wa,!0),n.signal)})},s=()=>{const w=jH(this.options,r),E=(()=>{const O={client:R(this,Ua),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return re(this,Wa,!1),this.options.persister?this.options.persister(w,E,this):w(E)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,Ua),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),re(this,ql,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&_e(this,Hn,ki).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),re(this,er,kH({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof M2&&w.revert&&this.setState({...R(this,ql),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{_e(this,Hn,ki).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{_e(this,Hn,ki).call(this,{type:"pause"})},onContinue:()=>{_e(this,Hn,ki).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,er).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,Sn).config).onSuccess)==null||p.call(f,w,this),(y=(m=R(this,Sn).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof M2){if(w.silent)return R(this,er).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw _e(this,Hn,ki).call(this,{type:"error",error:w}),(g=(b=R(this,Sn).config).onError)==null||g.call(b,w,this),(x=(v=R(this,Sn).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},za=new WeakMap,ql=new WeakMap,Sn=new WeakMap,Ua=new WeakMap,er=new WeakMap,xd=new WeakMap,Wa=new WeakMap,Hn=new WeakSet,ki=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...qH(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,..._I(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return re(this,ql,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Pt.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,Sn).notify({query:this,type:"updated",action:e})})},e7);function qH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:$H(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function _I(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function SI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var zr,Ae,_d,Nr,Va,Ml,Mi,js,Sd,Al,Fl,Ha,Ka,$s,Ll,ze,bc,A2,F2,L2,B2,z2,U2,W2,MH,t7,NC=(t7=class extends To{constructor(e,r){super();oe(this,ze);oe(this,zr);oe(this,Ae);oe(this,_d);oe(this,Nr);oe(this,Va);oe(this,Ml);oe(this,Mi);oe(this,js);oe(this,Sd);oe(this,Al);oe(this,Fl);oe(this,Ha);oe(this,Ka);oe(this,$s);oe(this,Ll,new Set);this.options=r,re(this,zr,e),re(this,js,null),re(this,Mi,q2()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ae).addObserver(this),EI(R(this,Ae),this.options)?_e(this,ze,bc).call(this):this.updateResult(),_e(this,ze,B2).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return V2(R(this,Ae),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return V2(R(this,Ae),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,ze,z2).call(this),_e(this,ze,U2).call(this),R(this,Ae).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Ae);if(this.options=R(this,zr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof On(this.options.enabled,R(this,Ae))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,ze,W2).call(this),R(this,Ae).setOptions(this.options),r._defaulted&&!ad(this.options,r)&&R(this,zr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ae),observer:this});const i=this.hasListeners();i&&OI(R(this,Ae),n,this.options,r)&&_e(this,ze,bc).call(this),this.updateResult(),i&&(R(this,Ae)!==n||On(this.options.enabled,R(this,Ae))!==On(r.enabled,R(this,Ae))||Js(this.options.staleTime,R(this,Ae))!==Js(r.staleTime,R(this,Ae)))&&_e(this,ze,A2).call(this);const s=_e(this,ze,F2).call(this);i&&(R(this,Ae)!==n||On(this.options.enabled,R(this,Ae))!==On(r.enabled,R(this,Ae))||s!==R(this,$s))&&_e(this,ze,L2).call(this,s)}getOptimisticResult(e){const r=R(this,zr).getQueryCache().build(R(this,zr),e),n=this.createResult(r,e);return WZ(this,n)&&(re(this,Nr,n),re(this,Ml,this.options),re(this,Va,R(this,Ae).state)),n}getCurrentResult(){return R(this,Nr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Mi).status==="pending"&&R(this,Mi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Ll).add(e)}getCurrentQuery(){return R(this,Ae)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,zr).defaultQueryOptions(e),n=R(this,zr).getQueryCache().build(R(this,zr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return _e(this,ze,bc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Nr)))}createResult(e,r){var P;const n=R(this,Ae),i=this.options,s=R(this,Nr),a=R(this,Va),o=R(this,Ml),u=e!==n?e.state:R(this,_d),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),I=!C&&EI(e,r),N=C&&OI(e,n,r,i);(I||N)&&(h={...h,...qH(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,Fl))==null?void 0:P.state.data,R(this,Fl)):r.placeholderData,C!==void 0&&(b="success",p=D2(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Sd))p=R(this,Al);else try{re(this,Sd,r.select),p=r.select(p),p=D2(s==null?void 0:s.data,p,r),re(this,Al,p),re(this,js,null)}catch(C){re(this,js,C)}R(this,js)&&(m=R(this,js),p=R(this,Al),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:TC(e,r),refetch:this.refetch,promise:R(this,Mi),isEnabled:On(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=T=>{S.status==="error"?T.reject(S.error):S.data!==void 0&&T.resolve(S.data)},I=()=>{const T=re(this,Mi,S.promise=q2());C(T)},N=R(this,Mi);switch(N.status){case"pending":e.queryHash===n.queryHash&&C(N);break;case"fulfilled":(S.status==="error"||S.data!==N.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==N.reason)&&I();break}}return S}updateResult(){const e=R(this,Nr),r=this.createResult(R(this,Ae),this.options);if(re(this,Va,R(this,Ae).state),re(this,Ml,this.options),R(this,Va).data!==void 0&&re(this,Fl,R(this,Ae)),ad(r,e))return;re(this,Nr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Ll).size)return!0;const a=new Set(s??R(this,Ll));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Nr)).some(o=>{const l=o;return R(this,Nr)[l]!==e[l]&&a.has(l)})};_e(this,ze,MH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,ze,B2).call(this)}},zr=new WeakMap,Ae=new WeakMap,_d=new WeakMap,Nr=new WeakMap,Va=new WeakMap,Ml=new WeakMap,Mi=new WeakMap,js=new WeakMap,Sd=new WeakMap,Al=new WeakMap,Fl=new WeakMap,Ha=new WeakMap,Ka=new WeakMap,$s=new WeakMap,Ll=new WeakMap,ze=new WeakSet,bc=function(e){_e(this,ze,W2).call(this);let r=R(this,Ae).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(xr)),r},A2=function(){_e(this,ze,z2).call(this);const e=Js(this.options.staleTime,R(this,Ae));if(co||R(this,Nr).isStale||!$2(e))return;const n=RH(R(this,Nr).dataUpdatedAt,e)+1;re(this,Ha,ja.setTimeout(()=>{R(this,Nr).isStale||this.updateResult()},n))},F2=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ae)):this.options.refetchInterval)??!1},L2=function(e){_e(this,ze,U2).call(this),re(this,$s,e),!(co||On(this.options.enabled,R(this,Ae))===!1||!$2(R(this,$s))||R(this,$s)===0)&&re(this,Ka,ja.setInterval(()=>{(this.options.refetchIntervalInBackground||CC.isFocused())&&_e(this,ze,bc).call(this)},R(this,$s)))},B2=function(){_e(this,ze,A2).call(this),_e(this,ze,L2).call(this,_e(this,ze,F2).call(this))},z2=function(){R(this,Ha)&&(ja.clearTimeout(R(this,Ha)),re(this,Ha,void 0))},U2=function(){R(this,Ka)&&(ja.clearInterval(R(this,Ka)),re(this,Ka,void 0))},W2=function(){const e=R(this,zr).getQueryCache().build(R(this,zr),this.options);if(e===R(this,Ae))return;const r=R(this,Ae);re(this,Ae,e),re(this,_d,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},MH=function(e){Pt.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Nr))}),R(this,zr).getQueryCache().notify({query:R(this,Ae),type:"observerResultsUpdated"})})},t7);function UZ(t,e){return On(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function EI(t,e){return UZ(t,e)||t.state.data!==void 0&&V2(t,e,e.refetchOnMount)}function V2(t,e,r){if(On(e.enabled,t)!==!1&&Js(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&TC(t,e)}return!1}function OI(t,e,r,n){return(t!==e||On(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&TC(t,r)}function TC(t,e){return On(e.enabled,t)!==!1&&t.isStaleByTime(Js(e.staleTime,t))}function WZ(t,e){return!ad(t.getCurrentResult(),e)}function PI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{qZ(x,()=>e.signal,()=>y=!0)},g=jH(e.options,e.fetchOptions),v=async(x,w,_)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(I),I})(),S=await g(O),{maxPages:P}=e.options,C=_?DZ:kZ;return{pages:C(x.pages,S,P),pageParams:C(x.pageParams,w,P)}};if(i&&s.length){const x=i==="backward",w=x?VZ:CI,_={pages:s,pageParams:a},E=w(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:CI(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function CI(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function VZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var Ed,pi,Tr,Ga,mi,ws,r7,HZ=(r7=class extends DH{constructor(e){super();oe(this,mi);oe(this,Ed);oe(this,pi);oe(this,Tr);oe(this,Ga);re(this,Ed,e.client),this.mutationId=e.mutationId,re(this,Tr,e.mutationCache),re(this,pi,[]),this.state=e.state||AH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,pi).includes(e)||(R(this,pi).push(e),this.clearGcTimeout(),R(this,Tr).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){re(this,pi,R(this,pi).filter(r=>r!==e)),this.scheduleGc(),R(this,Tr).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,pi).length||(this.state.status==="pending"?this.scheduleGc():R(this,Tr).remove(this))}continue(){var e;return((e=R(this,Ga))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S,P;const r=()=>{_e(this,mi,ws).call(this,{type:"continue"})},n={client:R(this,Ed),meta:this.options.meta,mutationKey:this.options.mutationKey};re(this,Ga,kH({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{_e(this,mi,ws).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{_e(this,mi,ws).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Tr).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Ga).canStart();try{if(i)r();else{_e(this,mi,ws).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Tr).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));I!==this.state.context&&_e(this,mi,ws).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const C=await R(this,Ga).start();return await((h=(d=R(this,Tr).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Tr).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,e,this.state.context,n)),_e(this,mi,ws).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(v=R(this,Tr).config).onError)==null?void 0:x.call(v,C,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,C,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((O=(E=R(this,Tr).config).onSettled)==null?void 0:O.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,e,this.state.context,n))}catch(I){Promise.reject(I)}throw _e(this,mi,ws).call(this,{type:"error",error:C}),C}finally{R(this,Tr).runNext(this)}}},Ed=new WeakMap,pi=new WeakMap,Tr=new WeakMap,Ga=new WeakMap,mi=new WeakSet,ws=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Pt.batch(()=>{R(this,pi).forEach(n=>{n.onMutationUpdate(e)}),R(this,Tr).notify({mutation:this,type:"updated",action:e})})},r7);function AH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ai,Kn,Od,n7,KZ=(n7=class extends To{constructor(e={}){super();oe(this,Ai);oe(this,Kn);oe(this,Od);this.config=e,re(this,Ai,new Set),re(this,Kn,new Map),re(this,Od,0)}build(e,r,n){const i=new HZ({client:e,mutationCache:this,mutationId:++Oh(this,Od)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ai).add(e);const r=Uh(e);if(typeof r=="string"){const n=R(this,Kn).get(r);n?n.push(e):R(this,Kn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ai).delete(e)){const r=Uh(e);if(typeof r=="string"){const n=R(this,Kn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Kn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Uh(e);if(typeof r=="string"){const n=R(this,Kn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Uh(e);if(typeof r=="string"){const i=(n=R(this,Kn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Pt.batch(()=>{R(this,Ai).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ai).clear(),R(this,Kn).clear()})}getAll(){return Array.from(R(this,Ai))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>bI(r,n))}findAll(e={}){return this.getAll().filter(r=>bI(e,r))}notify(e){Pt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Pt.batch(()=>Promise.all(e.map(r=>r.continue().catch(xr))))}},Ai=new WeakMap,Kn=new WeakMap,Od=new WeakMap,n7);function Uh(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Fi,ks,Ur,Li,ts,pf,H2,i7,GZ=(i7=class extends To{constructor(e,r){super();oe(this,ts);oe(this,Fi);oe(this,ks);oe(this,Ur);oe(this,Li);re(this,Fi,e),this.setOptions(r),this.bindMethods(),_e(this,ts,pf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Fi).defaultMutationOptions(e),ad(this.options,r)||R(this,Fi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Ur),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&ho(r.mutationKey)!==ho(this.options.mutationKey)?this.reset():((n=R(this,Ur))==null?void 0:n.state.status)==="pending"&&R(this,Ur).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Ur))==null||e.removeObserver(this)}onMutationUpdate(e){_e(this,ts,pf).call(this),_e(this,ts,H2).call(this,e)}getCurrentResult(){return R(this,ks)}reset(){var e;(e=R(this,Ur))==null||e.removeObserver(this),re(this,Ur,void 0),_e(this,ts,pf).call(this),_e(this,ts,H2).call(this)}mutate(e,r){var n;return re(this,Li,r),(n=R(this,Ur))==null||n.removeObserver(this),re(this,Ur,R(this,Fi).getMutationCache().build(R(this,Fi),this.options)),R(this,Ur).addObserver(this),R(this,Ur).execute(e)}},Fi=new WeakMap,ks=new WeakMap,Ur=new WeakMap,Li=new WeakMap,ts=new WeakSet,pf=function(){var r;const e=((r=R(this,Ur))==null?void 0:r.state)??AH();re(this,ks,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},H2=function(e){Pt.batch(()=>{var r,n,i,s,a,o,l,u;if(R(this,Li)&&this.hasListeners()){const d=R(this,ks).variables,h=R(this,ks).context,f={client:R(this,Fi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Li)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Li)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Li)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,Li)).onSettled)==null||u.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,ks))})})},i7);function NI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function YZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Bl,ln,zl,Ul,En,Ds,Pd,Cd,Nd,vr,K2,G2,Y2,Q2,X2,s7,QZ=(s7=class extends To{constructor(e,r,n){super();oe(this,vr);oe(this,Bl);oe(this,ln);oe(this,zl);oe(this,Ul);oe(this,En);oe(this,Ds);oe(this,Pd);oe(this,Cd);oe(this,Nd,[]);re(this,Bl,e),re(this,Ul,n),re(this,zl,[]),re(this,En,[]),re(this,ln,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,En).forEach(e=>{e.subscribe(r=>{_e(this,vr,Q2).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,En).forEach(e=>{e.destroy()})}setQueries(e,r){re(this,zl,e),re(this,Ul,r),Pt.batch(()=>{const n=R(this,En),i=_e(this,vr,Y2).call(this,R(this,zl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=o||l,d=u?!0:a.some((h,f)=>{const p=R(this,ln)[f];return!p||!ad(h,p)});!u&&!d||(u&&(re(this,Nd,i),re(this,En,s)),re(this,ln,a),this.hasListeners()&&(u&&(NI(n,s).forEach(h=>{h.destroy()}),NI(s,n).forEach(h=>{h.subscribe(f=>{_e(this,vr,Q2).call(this,h,f)})})),_e(this,vr,X2).call(this)))})}getCurrentResult(){return R(this,ln)}getQueries(){return R(this,En).map(e=>e.getCurrentQuery())}getObservers(){return R(this,En)}getOptimisticResult(e,r){const n=_e(this,vr,Y2).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>_e(this,vr,G2).call(this,s??i,r),()=>_e(this,vr,K2).call(this,i,n)]}},Bl=new WeakMap,ln=new WeakMap,zl=new WeakMap,Ul=new WeakMap,En=new WeakMap,Ds=new WeakMap,Pd=new WeakMap,Cd=new WeakMap,Nd=new WeakMap,vr=new WeakSet,K2=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},G2=function(e,r){return r?((!R(this,Ds)||R(this,ln)!==R(this,Cd)||r!==R(this,Pd))&&(re(this,Pd,r),re(this,Cd,R(this,ln)),re(this,Ds,EC(R(this,Ds),r(e)))),R(this,Ds)):e},Y2=function(e){const r=new Map;R(this,En).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Bl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new NC(R(this,Bl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},Q2=function(e,r){const n=R(this,En).indexOf(e);n!==-1&&(re(this,ln,YZ(R(this,ln),n,r)),_e(this,vr,X2).call(this))},X2=function(){var e;if(this.hasListeners()){const r=R(this,Ds),n=_e(this,vr,K2).call(this,R(this,ln),R(this,Nd)),i=_e(this,vr,G2).call(this,n,(e=R(this,Ul))==null?void 0:e.combine);r!==i&&Pt.batch(()=>{this.listeners.forEach(s=>{s(R(this,ln))})})}},s7),vi,a7,XZ=(a7=class extends To{constructor(e={}){super();oe(this,vi);this.config=e,re(this,vi,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??SC(i,r);let a=this.get(s);return a||(a=new zZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,vi).has(e.queryHash)||(R(this,vi).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,vi).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,vi).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Pt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,vi).get(e)}getAll(){return[...R(this,vi).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>yI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>yI(e,n)):r}notify(e){Pt.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Pt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},vi=new WeakMap,a7),_t,qs,Ms,Wl,Vl,As,Hl,Kl,o7,JZ=(o7=class{constructor(t={}){oe(this,_t);oe(this,qs);oe(this,Ms);oe(this,Wl);oe(this,Vl);oe(this,As);oe(this,Hl);oe(this,Kl);re(this,_t,t.queryCache||new XZ),re(this,qs,t.mutationCache||new KZ),re(this,Ms,t.defaultOptions||{}),re(this,Wl,new Map),re(this,Vl,new Map),re(this,As,0)}mount(){Oh(this,As)._++,R(this,As)===1&&(re(this,Hl,CC.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,_t).onFocus())})),re(this,Kl,Yf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,_t).onOnline())})))}unmount(){var t,e;Oh(this,As)._--,R(this,As)===0&&((t=R(this,Hl))==null||t.call(this),re(this,Hl,void 0),(e=R(this,Kl))==null||e.call(this),re(this,Kl,void 0))}isFetching(t){return R(this,_t).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,qs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,_t).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,_t).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Js(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,_t).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,_t).get(n.queryHash),s=i==null?void 0:i.state.data,a=RZ(e,s);if(a!==void 0)return R(this,_t).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Pt.batch(()=>R(this,_t).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,_t).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,_t);Pt.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,_t);return Pt.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Pt.batch(()=>R(this,_t).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(xr).catch(xr)}invalidateQueries(t,e={}){return Pt.batch(()=>(R(this,_t).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Pt.batch(()=>R(this,_t).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(xr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(xr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,_t).build(this,e);return r.isStaleByTime(Js(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(xr).catch(xr)}fetchInfiniteQuery(t){return t.behavior=PI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(xr).catch(xr)}ensureInfiniteQueryData(t){return t.behavior=PI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Yf.isOnline()?R(this,qs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,_t)}getMutationCache(){return R(this,qs)}getDefaultOptions(){return R(this,Ms)}setDefaultOptions(t){re(this,Ms,t)}setQueryDefaults(t,e){R(this,Wl).set(ho(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,Wl).values()],r={};return e.forEach(n=>{sd(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Vl).set(ho(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Vl).values()],r={};return e.forEach(n=>{sd(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ms).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=SC(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===OC&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ms).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,_t).clear(),R(this,qs).clear()}},_t=new WeakMap,qs=new WeakMap,Ms=new WeakMap,Wl=new WeakMap,Vl=new WeakMap,As=new WeakMap,Hl=new WeakMap,Kl=new WeakMap,o7),FH=k.createContext(void 0),Qt=t=>{const e=k.useContext(FH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},ZZ=({client:t,children:e})=>(k.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(FH.Provider,{value:t,children:e})),LH=k.createContext(!1),BH=()=>k.useContext(LH);LH.Provider;function eee(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var tee=k.createContext(eee()),zH=()=>k.useContext(tee),UH=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?PC(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},WH=t=>{k.useEffect(()=>{t.clearReset()},[t])},VH=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||PC(r,[t.error,n])),HH=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},KH=(t,e)=>t.isLoading&&t.isFetching&&!e,J2=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Qf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Xf({queries:t,...e},r){const n=Qt(),i=BH(),s=zH(),a=k.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{HH(y);const b=n.getQueryCache().get(y.queryHash);UH(y,s,b)}),WH(s);const[o]=k.useState(()=>new QZ(n,a,e)),[l,u,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;k.useSyncExternalStore(k.useCallback(y=>h?o.subscribe(Pt.batchCalls(y)):xr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),k.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>J2(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new NC(n,g);if(J2(g,y))return Qf(g,v,s);KH(y,i)&&Qf(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&VH({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return u(d())}function ree(t,e,r){var f,p,m,y;const n=BH(),i=zH(),s=Qt(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",HH(a),UH(a,i,o),WH(i);const l=!s.getQueryCache().get(a.queryHash),[u]=k.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(k.useSyncExternalStore(k.useCallback(b=>{const g=h?u.subscribe(Pt.batchCalls(b)):xr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),k.useEffect(()=>{u.setOptions(a)},[a,u]),J2(a,d))throw Qf(a,u,i);if(VH({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!co&&KH(d,n)){const b=l?Qf(a,u,i):o==null?void 0:o.promise;b==null||b.catch(xr).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function ct(t,e){return ree(t,NC)}function Ct(t,e){const r=Qt(),[n]=k.useState(()=>new GZ(r,t));k.useEffect(()=>{n.setOptions(t)},[n,t]);const i=k.useSyncExternalStore(k.useCallback(a=>n.subscribe(Pt.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=k.useCallback((a,o)=>{n.mutate(a,o).catch(xr)},[n]);if(i.error&&PC(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function IC(){const t=window.prmConfig||{};return k.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function GH(t,e){return function(){return t.apply(e,arguments)}}const{toString:nee}=Object.prototype,{getPrototypeOf:RC}=Object,{iterator:Ap,toStringTag:YH}=Symbol,Fp=(t=>e=>{const r=nee.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ai=t=>(t=t.toLowerCase(),e=>Fp(e)===t),Lp=t=>e=>typeof e===t,{isArray:wu}=Array,ru=Lp("undefined");function kd(t){return t!==null&&!ru(t)&&t.constructor!==null&&!ru(t.constructor)&&Jr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const QH=ai("ArrayBuffer");function iee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&QH(t.buffer),e}const see=Lp("string"),Jr=Lp("function"),XH=Lp("number"),Dd=t=>t!==null&&typeof t=="object",aee=t=>t===!0||t===!1,mf=t=>{if(Fp(t)!=="object")return!1;const e=RC(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(YH in t)&&!(Ap in t)},oee=t=>{if(!Dd(t)||kd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},lee=ai("Date"),uee=ai("File"),cee=ai("Blob"),dee=ai("FileList"),hee=t=>Dd(t)&&Jr(t.pipe),fee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Jr(t.append)&&((e=Fp(t))==="formdata"||e==="object"&&Jr(t.toString)&&t.toString()==="[object FormData]"))},pee=ai("URLSearchParams"),[mee,vee,gee,yee]=["ReadableStream","Request","Response","Headers"].map(ai),bee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function qd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),wu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(kd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function JH(t,e){if(kd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const $a=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,ZH=t=>!ru(t)&&t!==$a;function Z2(){const{caseless:t,skipUndefined:e}=ZH(this)&&this||{},r={},n=(i,s)=>{const a=t&&JH(r,s)||s;mf(r[a])&&mf(i)?r[a]=Z2(r[a],i):mf(i)?r[a]=Z2({},i):wu(i)?r[a]=i.slice():(!e||!ru(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&qd(arguments[i],n);return r}const wee=(t,e,r,{allOwnKeys:n}={})=>(qd(e,(i,s)=>{r&&Jr(i)?t[s]=GH(i,r):t[s]=i},{allOwnKeys:n}),t),xee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),_ee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},See=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&RC(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Eee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Oee=t=>{if(!t)return null;if(wu(t))return t;let e=t.length;if(!XH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Pee=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&RC(Uint8Array)),Cee=(t,e)=>{const n=(t&&t[Ap]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Nee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Tee=ai("HTMLFormElement"),Iee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),TI=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Ree=ai("RegExp"),e9=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};qd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},jee=t=>{e9(t,(e,r)=>{if(Jr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Jr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},$ee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return wu(t)?n(t):n(String(t).split(e)),r},kee=()=>{},Dee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function qee(t){return!!(t&&Jr(t.append)&&t[YH]==="FormData"&&t[Ap])}const Mee=t=>{const e=new Array(10),r=(n,i)=>{if(Dd(n)){if(e.indexOf(n)>=0)return;if(kd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=wu(n)?[]:{};return qd(n,(a,o)=>{const l=r(a,i+1);!ru(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Aee=ai("AsyncFunction"),Fee=t=>t&&(Dd(t)||Jr(t))&&Jr(t.then)&&Jr(t.catch),t9=((t,e)=>t?setImmediate:e?((r,n)=>($a.addEventListener("message",({source:i,data:s})=>{i===$a&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),$a.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Jr($a.postMessage)),Lee=typeof queueMicrotask<"u"?queueMicrotask.bind($a):typeof process<"u"&&process.nextTick||t9,Bee=t=>t!=null&&Jr(t[Ap]),M={isArray:wu,isArrayBuffer:QH,isBuffer:kd,isFormData:fee,isArrayBufferView:iee,isString:see,isNumber:XH,isBoolean:aee,isObject:Dd,isPlainObject:mf,isEmptyObject:oee,isReadableStream:mee,isRequest:vee,isResponse:gee,isHeaders:yee,isUndefined:ru,isDate:lee,isFile:uee,isBlob:cee,isRegExp:Ree,isFunction:Jr,isStream:hee,isURLSearchParams:pee,isTypedArray:Pee,isFileList:dee,forEach:qd,merge:Z2,extend:wee,trim:bee,stripBOM:xee,inherits:_ee,toFlatObject:See,kindOf:Fp,kindOfTest:ai,endsWith:Eee,toArray:Oee,forEachEntry:Cee,matchAll:Nee,isHTMLForm:Tee,hasOwnProperty:TI,hasOwnProp:TI,reduceDescriptors:e9,freezeMethods:jee,toObjectSet:$ee,toCamelCase:Iee,noop:kee,toFiniteNumber:Dee,findKey:JH,global:$a,isContextDefined:ZH,isSpecCompliantForm:qee,toJSONObject:Mee,isAsyncFn:Aee,isThenable:Fee,setImmediate:t9,asap:Lee,isIterable:Bee};function Ne(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Ne,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const r9=Ne.prototype,n9={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{n9[t]={value:t}});Object.defineProperties(Ne,n9);Object.defineProperty(r9,"isAxiosError",{value:!0});Ne.from=(t,e,r,n,i,s)=>{const a=Object.create(r9);M.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Ne.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const zee=null;function eP(t){return M.isPlainObject(t)||M.isArray(t)}function i9(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function II(t,e,r){return t?t.concat(e).map(function(i,s){return i=i9(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Uee(t){return M.isArray(t)&&!t.some(eP)}const Wee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Bp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Ne("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&Uee(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(g=M.toArray(m)))return y=i9(y),g.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(a===!0?II([y],w,s):a===null?y:y+"[]",u(x))}),!1}return eP(m)?!0:(e.append(II(b,y,s),u(m)),!1)}const h=[],f=Object.assign(Wee,{defaultVisitor:d,convertValue:u,isVisitable:eP});function p(m,y){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),M.forEach(m,function(g,v){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function RI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function jC(t,e){this._pairs=[],t&&Bp(t,this,e)}const s9=jC.prototype;s9.append=function(e,r){this._pairs.push([e,r])};s9.toString=function(e){const r=e?function(n){return e.call(this,n,RI)}:RI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function Vee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function a9(t,e,r){if(!e)return t;const n=r&&r.encode||Vee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new jC(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class jI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const o9={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Hee=typeof URLSearchParams<"u"?URLSearchParams:jC,Kee=typeof FormData<"u"?FormData:null,Gee=typeof Blob<"u"?Blob:null,Yee={isBrowser:!0,classes:{URLSearchParams:Hee,FormData:Kee,Blob:Gee},protocols:["http","https","file","blob","url","data"]},$C=typeof window<"u"&&typeof document<"u",tP=typeof navigator=="object"&&navigator||void 0,Qee=$C&&(!tP||["ReactNative","NativeScript","NS"].indexOf(tP.product)<0),Xee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Jee=$C&&window.location.href||"http://localhost",Zee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:$C,hasStandardBrowserEnv:Qee,hasStandardBrowserWebWorkerEnv:Xee,navigator:tP,origin:Jee},Symbol.toStringTag,{value:"Module"})),Er={...Zee,...Yee};function ete(t,e){return Bp(t,new Er.classes.URLSearchParams,{visitor:function(r,n,i,s){return Er.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function tte(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function rte(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function l9(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&M.isArray(i)?i.length:a,l?(M.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!M.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&M.isArray(i[a])&&(i[a]=rte(i[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(tte(n),i,r,0)}),r}return null}function nte(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Md={transitional:o9,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(l9(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return ete(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Bp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),nte(e)):e}],transformResponse:[function(e){const r=this.transitional||Md.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Ne.from(o,Ne.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:Er.classes.FormData,Blob:Er.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Md.headers[t]={}});const ite=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),ste=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&ite[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},$I=Symbol("internals");function oc(t){return t&&String(t).trim().toLowerCase()}function vf(t){return t===!1||t==null?t:M.isArray(t)?t.map(vf):String(t)}function ate(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const ote=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function nv(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function lte(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function ute(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Zr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const d=oc(l);if(!d)throw new Error("header name must be a non-empty string");const h=M.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=vf(o))}const a=(o,l)=>M.forEach(o,(u,d)=>s(u,d,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(M.isString(e)&&(e=e.trim())&&!ote(e))a(ste(e),r);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,u;for(const d of e){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?M.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=oc(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return ate(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=oc(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||nv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=oc(a),a){const o=M.findKey(n,a);o&&(!r||nv(n,n[o],o,r))&&(delete n[o],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||nv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const a=M.findKey(n,s);if(a){r[a]=vf(i),delete r[s];return}const o=e?lte(s):String(s).trim();o!==s&&delete r[s],r[o]=vf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[$I]=this[$I]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=oc(a);n[o]||(ute(i,a),n[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Zr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Zr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Zr);function iv(t,e){const r=this||Md,n=e||r,i=Zr.from(n.headers);let s=n.data;return M.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function u9(t){return!!(t&&t.__CANCEL__)}function xu(t,e,r){Ne.call(this,t??"canceled",Ne.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(xu,Ne,{__CANCEL__:!0});function c9(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Ne("Request failed with status code "+r.status,[Ne.ERR_BAD_REQUEST,Ne.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function cte(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function dte(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];a||(a=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function hte(t,e){let r=0,n=1e3/e,i,s;const a=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Jf=(t,e,r=3)=>{let n=0;const i=dte(50,250);return hte(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},kI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},DI=t=>(...e)=>M.asap(()=>t(...e)),fte=Er.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,Er.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(Er.origin),Er.navigator&&/(msie|trident)/i.test(Er.navigator.userAgent)):()=>!0,pte=Er.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&o.push(`path=${n}`),M.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),M.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function mte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function vte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function d9(t,e,r){let n=!mte(e);return t&&(n||r==!1)?vte(t,e):e}const qI=t=>t instanceof Zr?{...t}:t;function fo(t,e){e=e||{};const r={};function n(u,d,h,f){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:f},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function i(u,d,h,f){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function s(u,d){if(!M.isUndefined(d))return n(void 0,d)}function a(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>i(qI(u),qI(d),h,!0)};return M.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);M.isUndefined(f)&&h!==o||(r[d]=f)}),r}const h9=t=>{const e=fo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Zr.from(a),e.url=a9(d9(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),M.isFormData(r)){if(Er.hasStandardBrowserEnv||Er.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(Er.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&fte(e.url))){const l=i&&s&&pte.read(s);l&&a.set(i,l)}return e},gte=typeof XMLHttpRequest<"u",yte=gte&&function(t){return new Promise(function(r,n){const i=h9(t);let s=i.data;const a=Zr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=Zr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};c9(function(O){r(O),y()},function(O){n(O),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Ne("Request aborted",Ne.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Ne(_,Ne.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||o9;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Ne(w,_.clarifyTimeoutError?Ne.ETIMEDOUT:Ne.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([f,m]=Jf(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=Jf(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=x=>{b&&(n(!x||x.type?new xu(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=cte(i.url);if(v&&Er.protocols.indexOf(v)===-1){n(new Ne("Unsupported protocol "+v+":",Ne.ERR_BAD_REQUEST,t));return}b.send(s||null)})},bte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Ne?d:new xu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Ne(`timeout ${e} of ms exceeded`,Ne.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(o),l}},wte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},xte=async function*(t,e){for await(const r of _te(t))yield*wte(r,e)},_te=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},MI=(t,e,r,n)=>{const i=xte(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},AI=64*1024,{isFunction:Wh}=M,Ste=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:FI,TextEncoder:LI}=M.global,BI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Ete=t=>{t=M.merge.call({skipUndefined:!0},Ste,t);const{fetch:e,Request:r,Response:n}=t,i=e?Wh(e):typeof fetch=="function",s=Wh(r),a=Wh(n);if(!i)return!1;const o=i&&Wh(FI),l=i&&(typeof LI=="function"?(m=>y=>m.encode(y))(new LI):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&o&&BI(()=>{let m=!1;const y=new r(Er.origin,{body:new FI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&BI(()=>M.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Ne(`Response type '${m}' is not supported`,Ne.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(Er.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:P="same-origin",fetchOptions:C}=h9(m),I=e||fetch;O=O?(O+"").toLowerCase():"text";let N=bte([v,x&&x.toAbortSignal()],w),T=null;const q=N&&N.unsubscribe&&(()=>{N.unsubscribe()});let z;try{if(E&&u&&b!=="get"&&b!=="head"&&(z=await p(S,g))!==0){let W=new r(y,{method:"POST",body:g,duplex:"half"}),J;if(M.isFormData(g)&&(J=W.headers.get("content-type"))&&S.setContentType(J),W.body){const[he,me]=kI(z,Jf(DI(E)));g=MI(W.body,AI,he,me)}}M.isString(P)||(P=P?"include":"omit");const Z=s&&"credentials"in r.prototype,K={...C,signal:N,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:Z?P:void 0};T=s&&new r(y,K);let L=await(s?I(T,C):I(y,K));const V=d&&(O==="stream"||O==="response");if(d&&(_||V&&q)){const W={};["status","statusText","headers"].forEach(qe=>{W[qe]=L[qe]});const J=M.toFiniteNumber(L.headers.get("content-length")),[he,me]=_&&kI(J,Jf(DI(_),!0))||[];L=new n(MI(L.body,AI,he,()=>{me&&me(),q&&q()}),W)}O=O||"text";let U=await h[M.findKey(h,O)||"text"](L,m);return!V&&q&&q(),await new Promise((W,J)=>{c9(W,J,{data:U,headers:Zr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:T})})}catch(Z){throw q&&q(),Z&&Z.name==="TypeError"&&/Load failed|fetch/i.test(Z.message)?Object.assign(new Ne("Network Error",Ne.ERR_NETWORK,m,T),{cause:Z.cause||Z}):Ne.from(Z,Z&&Z.code,m,T)}}},Ote=new Map,f9=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,d=Ote;for(;o--;)l=s[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:Ete(e)),d=u;return u};f9();const kC={http:zee,xhr:yte,fetch:{get:f9}};M.forEach(kC,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const zI=t=>`- ${t}`,Pte=t=>M.isFunction(t)||t===null||t===!1;function Cte(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!Pte(n)&&(i=kC[(o=String(n)).toLowerCase()],i===void 0))throw new Ne(`Unknown adapter '${o}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(zI).join(`
`):" "+zI(a[0]):"as no adapter specified";throw new Ne("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const p9={getAdapter:Cte,adapters:kC};function sv(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new xu(null,t)}function UI(t){return sv(t),t.headers=Zr.from(t.headers),t.data=iv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),p9.getAdapter(t.adapter||Md.adapter,t)(t).then(function(n){return sv(t),n.data=iv.call(t,t.transformResponse,n),n.headers=Zr.from(n.headers),n},function(n){return u9(n)||(sv(t),n&&n.response&&(n.response.data=iv.call(t,t.transformResponse,n.response),n.response.headers=Zr.from(n.response.headers))),Promise.reject(n)})}const m9="1.13.2",zp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{zp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const WI={};zp.transitional=function(e,r,n){function i(s,a){return"[Axios v"+m9+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Ne(i(a," has been removed"+(r?" in "+r:"")),Ne.ERR_DEPRECATED);return r&&!WI[a]&&(WI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};zp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Nte(t,e,r){if(typeof t!="object")throw new Ne("options must be an object",Ne.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Ne("option "+s+" must be "+l,Ne.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Ne("Unknown option "+s,Ne.ERR_BAD_OPTION)}}const gf={assertOptions:Nte,validators:zp},di=gf.validators;let Xa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new jI,response:new jI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=fo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&gf.assertOptions(n,{silentJSONParsing:di.transitional(di.boolean),forcedJSONParsing:di.transitional(di.boolean),clarifyTimeoutError:di.transitional(di.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:gf.assertOptions(i,{encode:di.function,serialize:di.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),gf.assertOptions(r,{baseUrl:di.spelling("baseURL"),withXsrfToken:di.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Zr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[UI.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{d=UI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=fo(this.defaults,e);const r=d9(e.baseURL,e.url,e.allowAbsoluteUrls);return a9(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Xa.prototype[e]=function(r,n){return this.request(fo(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(fo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Xa.prototype[e]=r(),Xa.prototype[e+"Form"]=r(!0)});let Tte=class v9{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new xu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new v9(function(i){e=i}),cancel:e}}};function Ite(t){return function(r){return t.apply(null,r)}}function Rte(t){return M.isObject(t)&&t.isAxiosError===!0}const rP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(rP).forEach(([t,e])=>{rP[e]=t});function g9(t){const e=new Xa(t),r=GH(Xa.prototype.request,e);return M.extend(r,Xa.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return g9(fo(t,i))},r}const jt=g9(Md);jt.Axios=Xa;jt.CanceledError=xu;jt.CancelToken=Tte;jt.isCancel=u9;jt.VERSION=m9;jt.toFormData=Bp;jt.AxiosError=Ne;jt.Cancel=jt.CanceledError;jt.all=function(e){return Promise.all(e)};jt.spread=Ite;jt.isAxiosError=Rte;jt.mergeConfig=fo;jt.AxiosHeaders=Zr;jt.formToJSON=t=>l9(M.isHTMLForm(t)?new FormData(t):t);jt.getAdapter=p9.getAdapter;jt.HttpStatusCode=rP;jt.default=jt;const{Axios:A0e,AxiosError:F0e,CanceledError:L0e,isCancel:B0e,CancelToken:z0e,VERSION:U0e,all:W0e,Cancel:V0e,isAxiosError:H0e,spread:K0e,toFormData:G0e,AxiosHeaders:Y0e,HttpStatusCode:Q0e,formToJSON:X0e,getAdapter:J0e,mergeConfig:Z0e}=jt,nP=window.prmConfig||{},ve=jt.create({baseURL:nP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":nP.nonce||""}});ve.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ve.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=nP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Fe={getPeople:t=>ve.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ve.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ve.post("/wp/v2/people",t),updatePerson:(t,e)=>ve.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ve.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ve.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ve.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ve.post("/wp/v2/companies",t),updateCompany:(t,e)=>ve.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ve.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ve.get("/wp/v2/important-dates",{params:t}),getDate:t=>ve.get(`/wp/v2/important-dates/${t}`),createDate:t=>ve.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ve.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ve.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ve.get("/wp/v2/person_label"),getCompanyLabels:()=>ve.get("/wp/v2/company_label"),getRelationshipTypes:()=>ve.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ve.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ve.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ve.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ve.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ve.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ve.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Yt={getDashboard:()=>ve.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ve.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ve.get("/prm/v1/user/me"),getUsers:()=>ve.get("/prm/v1/users"),approveUser:t=>ve.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ve.post(`/prm/v1/users/${t}/deny`),search:t=>ve.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ve.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>ve.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ve.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ve.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ve.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ve.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ve.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ve.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ve.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ve.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ve.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>ve.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ve.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ve.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ve.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var jte={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $te=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ge=(t,e)=>{const r=k.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>k.createElement("svg",{ref:d,...jte,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${$te(t)}`,o].join(" "),...u},[...e.map(([h,f])=>k.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const po=ge("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kte=ge("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Dte=ge("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qn=ge("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VI=ge("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qte=ge("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mte=ge("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const as=ge("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const y9=ge("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mo=ge("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yf=ge("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=ge("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nu=ge("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KI=ge("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ate=ge("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fte=ge("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iP=ge("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Up=ge("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DC=ge("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GI=ge("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Lte=ge("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const b9=ge("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bte=ge("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zte=ge("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const w9=ge("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ute=ge("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vo=ge("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wte=ge("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vte=ge("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Hte=ge("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kte=ge("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gte=ge("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yte=ge("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vh=ge("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qte=ge("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sr=ge("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xte=ge("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const x9=ge("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oa=ge("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _9=ge("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S9=ge("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E9=ge("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jte=ge("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O9=ge("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P9=ge("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const od=ge("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C9=ge("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ss=ge("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iu=ge("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zte=ge("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N9=ge("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const go=ge("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=ge("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const la=ge("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ere=ge("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tre=ge("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),su="Caelis";function gn(t){k.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||su;document.title=`${t} - ${r}`}},[t])}function rre(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function T9(t=null){const e=cs();k.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=rre(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":a?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=su}const n=((i=window.prmConfig)==null?void 0:i.siteName)||su;document.title=`${r} - ${n}`},[e.pathname,t])}function nre(){return ct({queryKey:["dashboard"],queryFn:async()=>(await Yt.getDashboard()).data})}function ire(t=30){return ct({queryKey:["reminders",t],queryFn:async()=>(await Yt.getReminders(t)).data})}function sre(t){const e=typeof t=="string"?t:"",r=e.length>=2;return ct({queryKey:["search",e],queryFn:async()=>r?(await Yt.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const are=[{name:"Dashboard",href:"/",icon:zte},{name:"People",href:"/people",icon:go},{name:"Companies",href:"/companies",icon:as},{name:"Dates",href:"/dates",icon:mo},{name:"Settings",href:"/settings",icon:S9}];function QI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=IC();return c.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[c.jsxs(ce,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[c.jsx(O9,{className:"w-5 h-5"}),su]}),t&&c.jsx("button",{onClick:e,className:"p-2 -mr-2",children:c.jsx(la,{className:"w-5 h-5"})})]}),c.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:are.map(n=>c.jsxs(SZ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(n.icon,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(Wte,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function ore(){var a;const[t,e]=k.useState(!1),r=k.useRef(null),{data:n,isLoading:i}=ct({queryKey:["current-user"],queryFn:async()=>(await Yt.getCurrentUser()).data});if(k.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return c.jsx("div",{className:"flex items-center ml-auto",children:c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return c.jsxs("div",{className:"relative ml-auto",ref:r,children:[c.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?c.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):c.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),c.jsx(Ate,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(N9,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&c.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(S9,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function lre({onMenuClick:t}){const[e,r]=k.useState(""),[n,i]=k.useState(!1),s=cs(),a=rn(),o=k.useRef(null),l=k.useRef(null),u=e.trim(),{data:d,isLoading:h}=sre(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};k.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"?a(`/companies/${v}`):g==="date"&&a(`/dates/${v}/edit`)},m=d||{people:[],companies:[],dates:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return c.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:c.jsx(Kte,{className:"w-5 h-5"})}),c.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),c.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:c.jsxs("div",{className:"relative w-full",ref:o,children:[c.jsx(_9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&c.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?c.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&c.jsxs("div",{className:"px-3 py-2",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>c.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(N9,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(g=>c.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(Mte,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.dates&&m.dates.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(g=>c.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(mo,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):c.jsx("div",{className:"p-4 text-center text-gray-500",children:c.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),c.jsx(ore,{})]})}function ure({children:t}){const[e,r]=k.useState(!1);return T9(),c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:c.jsx(QI,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),c.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:c.jsx(QI,{mobile:!0,onClose:()=>r(!1)})})]}),c.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[c.jsx(lre,{onMenuClick:()=>r(!0)}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function mr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function yo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const I9=6048e5,cre=864e5;let dre={};function Wp(){return dre}function ld(t,e){var o,l,u,d;const r=Wp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=mr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Zf(t){return ld(t,{weekStartsOn:1})}function R9(t){const e=mr(t),r=e.getFullYear(),n=yo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Zf(n),s=yo(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Zf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function XI(t){const e=mr(t);return e.setHours(0,0,0,0),e}function JI(t){const e=mr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function hre(t,e){const r=XI(t),n=XI(e),i=+r-JI(r),s=+n-JI(n);return Math.round((i-s)/cre)}function fre(t){const e=R9(t),r=yo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Zf(r)}function ZI(t,e){const r=mr(t),n=mr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function pre(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function mre(t){if(!pre(t)&&typeof t!="number")return!1;const e=mr(t);return!isNaN(Number(e))}function vre(t,e){const r=mr(t),n=mr(e);return r.getFullYear()-n.getFullYear()}function av(t,e){const r=mr(t),n=mr(e),i=ZI(r,n),s=Math.abs(vre(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=ZI(r,n)===-i,o=i*(s-+a);return o===0?0:o}function gre(t){const e=mr(t),r=yo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const yre={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},bre=(t,e,r)=>{let n;const i=yre[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function ov(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const wre={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},xre={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},_re={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Sre={date:ov({formats:wre,defaultWidth:"full"}),time:ov({formats:xre,defaultWidth:"full"}),dateTime:ov({formats:_re,defaultWidth:"full"})},Ere={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Ore=(t,e,r,n)=>Ere[t];function lc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Pre={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Cre={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},Nre={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},Tre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},Ire={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},Rre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},jre=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},$re={ordinalNumber:jre,era:lc({values:Pre,defaultWidth:"wide"}),quarter:lc({values:Cre,defaultWidth:"wide",argumentCallback:t=>t-1}),month:lc({values:Nre,defaultWidth:"wide"}),day:lc({values:Tre,defaultWidth:"wide"}),dayPeriod:lc({values:Ire,defaultWidth:"wide",formattingValues:Rre,defaultFormattingWidth:"wide"})};function uc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?Dre(o,h=>h.test(a)):kre(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function kre(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function Dre(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function qre(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const Mre=/^(\d+)(th|st|nd|rd)?/i,Are=/\d+/i,Fre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},Lre={any:[/^b/i,/^(a|c)/i]},Bre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},zre={any:[/1/i,/2/i,/3/i,/4/i]},Ure={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},Wre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Vre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Hre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Kre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},Gre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Yre={ordinalNumber:qre({matchPattern:Mre,parsePattern:Are,valueCallback:t=>parseInt(t,10)}),era:uc({matchPatterns:Fre,defaultMatchWidth:"wide",parsePatterns:Lre,defaultParseWidth:"any"}),quarter:uc({matchPatterns:Bre,defaultMatchWidth:"wide",parsePatterns:zre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:uc({matchPatterns:Ure,defaultMatchWidth:"wide",parsePatterns:Wre,defaultParseWidth:"any"}),day:uc({matchPatterns:Vre,defaultMatchWidth:"wide",parsePatterns:Hre,defaultParseWidth:"any"}),dayPeriod:uc({matchPatterns:Kre,defaultMatchWidth:"any",parsePatterns:Gre,defaultParseWidth:"any"})},Qre={code:"en-US",formatDistance:bre,formatLong:Sre,formatRelative:Ore,localize:$re,match:Yre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Xre(t){const e=mr(t);return hre(e,gre(e))+1}function Jre(t){const e=mr(t),r=+Zf(e)-+fre(e);return Math.round(r/I9)+1}function j9(t,e){var d,h,f,p;const r=mr(t),n=r.getFullYear(),i=Wp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=yo(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=ld(a,e),l=yo(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=ld(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Zre(t,e){var o,l,u,d;const r=Wp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=j9(t,e),s=yo(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),ld(s,e)}function ene(t,e){const r=mr(t),n=+ld(r,e)-+Zre(r,e);return Math.round(n/I9)+1}function We(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const bs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return We(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):We(r+1,2)},d(t,e){return We(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return We(t.getHours()%12||12,e.length)},H(t,e){return We(t.getHours(),e.length)},m(t,e){return We(t.getMinutes(),e.length)},s(t,e){return We(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return We(i,e.length)}},Jo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},eR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return bs.y(t,e)},Y:function(t,e,r,n){const i=j9(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return We(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):We(s,e.length)},R:function(t,e){const r=R9(t);return We(r,e.length)},u:function(t,e){const r=t.getFullYear();return We(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return We(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return We(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return bs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return We(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=ene(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):We(i,e.length)},I:function(t,e,r){const n=Jre(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):We(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):bs.d(t,e)},D:function(t,e,r){const n=Xre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):We(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return We(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return We(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return We(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Jo.noon:n===0?i=Jo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Jo.evening:n>=12?i=Jo.afternoon:n>=4?i=Jo.morning:i=Jo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return bs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):bs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):We(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):bs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):bs.s(t,e)},S:function(t,e){return bs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return rR(n);case"XXXX":case"XX":return Na(n);case"XXXXX":case"XXX":default:return Na(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return rR(n);case"xxxx":case"xx":return Na(n);case"xxxxx":case"xxx":default:return Na(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+tR(n,":");case"OOOO":default:return"GMT"+Na(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+tR(n,":");case"zzzz":default:return"GMT"+Na(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return We(n,e.length)},T:function(t,e,r){const n=t.getTime();return We(n,e.length)}};function tR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+We(s,2)}function rR(t,e){return t%60===0?(t>0?"-":"+")+We(Math.abs(t)/60,2):Na(t,e)}function Na(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=We(Math.trunc(n/60),2),s=We(n%60,2);return r+i+e+s}const nR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},$9=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},tne=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return nR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",nR(n,e)).replace("{{time}}",$9(i,e))},rne={p:$9,P:tne},nne=/^D+$/,ine=/^Y+$/,sne=["D","DD","YY","YYYY"];function ane(t){return nne.test(t)}function one(t){return ine.test(t)}function lne(t,e,r){const n=une(t,e,r);if(console.warn(n),sne.includes(t))throw new RangeError(n)}function une(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const cne=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,dne=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,hne=/^'([^]*?)'?$/,fne=/''/g,pne=/[a-zA-Z]/;function gi(t,e,r){var d,h,f,p;const n=Wp(),i=n.locale??Qre,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=mr(t);if(!mre(o))throw new RangeError("Invalid time value");let l=e.match(dne).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=rne[y];return b(m,i.formatLong)}return m}).join("").match(cne).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:mne(m)};if(eR[y])return{isToken:!0,value:m};if(y.match(pne))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;(one(y)||ane(y))&&lne(y,e,String(t));const b=eR[y[0]];return b(o,y,i.localize,u)}).join("")}function mne(t){const e=t.match(hne);return e?e[1].replace(fne,"'"):t}function Zo({title:t,value:e,icon:r,href:n}){return c.jsx(ce,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),c.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function iR({person:t}){var e,r;return c.jsxs(ce,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&c.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&c.jsx(od,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function vne({reminder:t}){var o,l,u,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(u=t.related_people)==null?void 0:u[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),c.jsx("p",{className:"text-xs text-gray-500",children:gi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&c.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?c.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):c.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?c.jsx(ce,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):c.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function gne(){return c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:c.jsx(O9,{className:"w-12 h-12 text-primary-600"})})}),c.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",su,"!"]}),c.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(ce,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[c.jsx(Sr,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),c.jsxs(ce,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(Sr,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function yne(){var u,d,h;const{data:t,isLoading:e,error:r}=nre();if(e)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return c.jsx("div",{className:"card p-8 text-center",children:c.jsx("div",{className:"text-red-600 mb-2",children:f?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),c.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(Zo,{title:"Total People",value:0,icon:go,href:"/people"}),c.jsx(Zo,{title:"Companies",value:0,icon:as,href:"/companies"}),c.jsx(Zo,{title:"Important Dates",value:0,icon:mo,href:"/dates"})]}),c.jsx(gne,{})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(Zo,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:go,href:"/people"}),c.jsx(Zo,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:as,href:"/companies"}),c.jsx(Zo,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:mo,href:"/dates"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),c.jsxs(ce,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(VI,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>c.jsx(vne,{reminder:f},f.id)):c.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Recent People"}),c.jsxs(ce,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(VI,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>c.jsx(iR,{person:f},f.id)):c.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",c.jsx(ce,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:c.jsx("h2",{className:"font-semibold",children:"Favorites"})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>c.jsx(iR,{person:f},f.id))})]})]})}function ei(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Hi(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return ei(e)}function Ja(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return ei(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return ei(e)}function ka(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const Kt={all:["people"],lists:()=>[...Kt.all,"list"],list:t=>[...Kt.lists(),t],details:()=>[...Kt.all,"detail"],detail:t=>[...Kt.details(),t],timeline:t=>[...Kt.detail(t),"timeline"],dates:t=>[...Kt.detail(t),"dates"]};function k9(t){var i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(u=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=ei(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function Vp(t={}){return ct({queryKey:Kt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Fe.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(k9);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function _u(t){return ct({queryKey:Kt.detail(t),queryFn:async()=>{const e=await Fe.getPerson(t,{_embed:!0});return k9(e.data)},enabled:!!t})}function bne(t){return ct({queryKey:Kt.timeline(t),queryFn:async()=>(await Yt.getPersonTimeline(t)).data,enabled:!!t})}function wne(t){return ct({queryKey:Kt.dates(t),queryFn:async()=>(await Yt.getPersonDates(t)).data,enabled:!!t})}function xne(){const t=Qt();return Ct({mutationFn:e=>Fe.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Kt.lists()})}})}function Ad(){const t=Qt();return Ct({mutationFn:({id:e,data:r})=>Fe.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Kt.detail(r)}),t.invalidateQueries({queryKey:Kt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Kt.detail(o)})})}})}function _ne(){const t=Qt();return Ct({mutationFn:e=>Fe.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:Kt.lists()}),t.invalidateQueries({queryKey:Kt.details()})}})}function Sne(){const t=Qt();return Ct({mutationFn:({noteId:e,personId:r})=>Yt.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Kt.timeline(r)})}})}function Ene(){const t=Qt();return Ct({mutationFn:({dateId:e,personId:r})=>Fe.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Kt.dates(r)}),t.invalidateQueries({queryKey:Kt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function sR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function One({person:t,companyName:e,isDeceased:r}){var n,i;return c.jsx(ce,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&c.jsx(od,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&c.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>c.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Pne(){const[t,e]=k.useState(!1),[r,n]=k.useState(!1),[i,s]=k.useState([]),[a,o]=k.useState("first_name"),[l,u]=k.useState("asc"),d=k.useRef(null),h=k.useRef(null),{data:f,isLoading:p,error:m}=Vp(),{data:y}=ct({queryKey:["person-labels"],queryFn:async()=>(await Fe.getPersonLabels()).data}),b=(y==null?void 0:y.map(N=>N.name))||[];k.useEffect(()=>{const N=T=>{h.current&&!h.current.contains(T.target)&&d.current&&!d.current.contains(T.target)&&e(!1)};return document.addEventListener("mousedown",N),()=>{document.removeEventListener("mousedown",N)}},[]);const g=k.useMemo(()=>{if(!f)return[];let N=[...f];return r&&(N=N.filter(T=>T.is_favorite)),i.length>0&&(N=N.filter(T=>{const q=T.labels||[];return i.some(z=>q.includes(z))})),N.sort((T,q)=>{var L,V,U,W,J,he,me,qe;let z,Z;if(a==="first_name"?(z=(((L=T.acf)==null?void 0:L.first_name)||T.first_name||"").toLowerCase(),Z=(((V=q.acf)==null?void 0:V.first_name)||q.first_name||"").toLowerCase()):(z=(((U=T.acf)==null?void 0:U.last_name)||T.last_name||"").toLowerCase(),Z=(((W=q.acf)==null?void 0:W.last_name)||q.last_name||"").toLowerCase()),z===Z){const be=a==="first_name"?(((J=T.acf)==null?void 0:J.last_name)||T.last_name||"").toLowerCase():(((he=T.acf)==null?void 0:he.first_name)||T.first_name||"").toLowerCase(),Ee=a==="first_name"?(((me=q.acf)==null?void 0:me.last_name)||q.last_name||"").toLowerCase():(((qe=q.acf)==null?void 0:qe.first_name)||q.first_name||"").toLowerCase(),Ce=be.localeCompare(Ee);return l==="asc"?Ce:-Ce}const K=z.localeCompare(Z);return l==="asc"?K:-K})},[f,r,i,a,l]),v=r||i.length>0,x=N=>{s(T=>T.includes(N)?T.filter(q=>q!==N):[...T,N])},w=()=>{n(!1),s([])},_=k.useMemo(()=>{if(!g)return[];const N=g.map(T=>sR(T)).filter(Boolean);return[...new Set(N)]},[g]),{data:E}=ct({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Fe.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=k.useMemo(()=>{const N={};return E&&E.forEach(T=>{N[T.id]=Hi(T)}),N},[E]),S=k.useMemo(()=>{const N={};return g.forEach(T=>{const q=sR(T);q&&O[q]&&(N[T.id]=O[q])}),N},[g,O]),P=k.useMemo(()=>g.map(N=>N.id).filter(Boolean),[g]),C=Xf({queries:P.map(N=>({queryKey:["person-dates",N],queryFn:async()=>(await Yt.getPersonDates(N)).data,enabled:!!N}))}),I=k.useMemo(()=>{const N={};return C.forEach((T,q)=>{if(T.data&&P[q]){const z=P[q],Z=T.data.some(K=>{const L=Array.isArray(K.date_type)?K.date_type[0]:K.date_type;return(L==null?void 0:L.toLowerCase())==="died"});N[z]=Z}}),N},[C,P]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[c.jsxs("select",{value:a,onChange:N=>o(N.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[c.jsx("option",{value:"first_name",children:"First Name"}),c.jsx("option",{value:"last_name",children:"Last Name"})]}),c.jsx("div",{className:"h-4 w-px bg-gray-300"}),c.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?c.jsx(qte,{className:"w-4 h-4 text-gray-600"}):c.jsx(Dte,{className:"w-4 h-4 text-gray-600"})})]}),c.jsxs("div",{className:"relative",ref:d,children:[c.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[c.jsx(GI,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&c.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&c.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r,onChange:N=>n(N.target.checked),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&c.jsx(KI,{className:"w-3 h-3 text-white"})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(od,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(N=>c.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[c.jsx("input",{type:"checkbox",checked:i.includes(N),onChange:()=>x(N),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(N)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(N)&&c.jsx(KI,{className:"w-3 h-3 text-white"})}),c.jsx("span",{className:"text-sm text-gray-700",children:N})]},N))})]}),v&&c.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[c.jsx(od,{className:"w-3 h-3"}),"Favorites",c.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:c.jsx(la,{className:"w-3 h-3"})})]}),i.map(N=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[N,c.jsx("button",{onClick:()=>x(N),className:"hover:text-gray-600",children:c.jsx(la,{className:"w-3 h-3"})})]},N))]}),c.jsxs(ce,{to:"/people/new",className:"btn-primary",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]})}),p&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Sr,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),c.jsxs(ce,{to:"/people/new",className:"btn-primary",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(N=>c.jsx(One,{person:N,companyName:S[N.id],isDeceased:I[N.id]||!1},N.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(GI,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),c.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}var D9={color:void 0,size:void 0,className:void 0,style:void 0,attr:void 0},aR=Se.createContext&&Se.createContext(D9),Cne=["attr","size","title"];function Nne(t,e){if(t==null)return{};var r=Tne(t,e),n,i;if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(t);for(i=0;i<s.length;i++)n=s[i],!(e.indexOf(n)>=0)&&Object.prototype.propertyIsEnumerable.call(t,n)&&(r[n]=t[n])}return r}function Tne(t,e){if(t==null)return{};var r={};for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)){if(e.indexOf(n)>=0)continue;r[n]=t[n]}return r}function ep(){return ep=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ep.apply(this,arguments)}function oR(t,e){var r=Object.keys(t);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(t);e&&(n=n.filter(function(i){return Object.getOwnPropertyDescriptor(t,i).enumerable})),r.push.apply(r,n)}return r}function tp(t){for(var e=1;e<arguments.length;e++){var r=arguments[e]!=null?arguments[e]:{};e%2?oR(Object(r),!0).forEach(function(n){Ine(t,n,r[n])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(r)):oR(Object(r)).forEach(function(n){Object.defineProperty(t,n,Object.getOwnPropertyDescriptor(r,n))})}return t}function Ine(t,e,r){return e=Rne(e),e in t?Object.defineProperty(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}function Rne(t){var e=jne(t,"string");return typeof e=="symbol"?e:e+""}function jne(t,e){if(typeof t!="object"||!t)return t;var r=t[Symbol.toPrimitive];if(r!==void 0){var n=r.call(t,e);if(typeof n!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function q9(t){return t&&t.map((e,r)=>Se.createElement(e.tag,tp({key:r},e.attr),q9(e.child)))}function Fd(t){return e=>Se.createElement($ne,ep({attr:tp({},t.attr)},e),q9(t.child))}function $ne(t){var e=r=>{var{attr:n,size:i,title:s}=t,a=Nne(t,Cne),o=i||r.size||"1em",l;return r.className&&(l=r.className),t.className&&(l=(l?l+" ":"")+t.className),Se.createElement("svg",ep({stroke:"currentColor",fill:"currentColor",strokeWidth:"0"},r.attr,n,a,{className:l,style:tp(tp({color:t.color||r.color},r.style),t.style),height:o,width:o,xmlns:"http://www.w3.org/2000/svg"}),s&&Se.createElement("title",null,s),t.children)};return aR!==void 0?Se.createElement(aR.Consumer,null,r=>e(r)):e(D9)}function kne(t){return Fd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M504 256C504 119 393 8 256 8S8 119 8 256c0 123.78 90.69 226.38 209.25 245V327.69h-63V256h63v-54.64c0-62.15 37-96.48 93.67-96.48 27.14 0 55.52 4.84 55.52 4.84v61h-31.28c-30.8 0-40.41 19.12-40.41 38.73V256h68.78l-11 71.69h-57.78V501C413.31 482.38 504 379.78 504 256z"},child:[]}]})(t)}function Dne(t){return Fd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M224.1 141c-63.6 0-114.9 51.3-114.9 114.9s51.3 114.9 114.9 114.9S339 319.5 339 255.9 287.7 141 224.1 141zm0 189.6c-41.1 0-74.7-33.5-74.7-74.7s33.5-74.7 74.7-74.7 74.7 33.5 74.7 74.7-33.6 74.7-74.7 74.7zm146.4-194.3c0 14.9-12 26.8-26.8 26.8-14.9 0-26.8-12-26.8-26.8s12-26.8 26.8-26.8 26.8 12 26.8 26.8zm76.1 27.2c-1.7-35.9-9.9-67.7-36.2-93.9-26.2-26.2-58-34.4-93.9-36.2-37-2.1-147.9-2.1-184.9 0-35.8 1.7-67.6 9.9-93.9 36.1s-34.4 58-36.2 93.9c-2.1 37-2.1 147.9 0 184.9 1.7 35.9 9.9 67.7 36.2 93.9s58 34.4 93.9 36.2c37 2.1 147.9 2.1 184.9 0 35.9-1.7 67.7-9.9 93.9-36.2 26.2-26.2 34.4-58 36.2-93.9 2.1-37 2.1-147.8 0-184.8zM398.8 388c-7.8 19.6-22.9 34.7-42.6 42.6-29.5 11.7-99.5 9-132.1 9s-102.7 2.6-132.1-9c-19.6-7.8-34.7-22.9-42.6-42.6-11.7-29.5-9-99.5-9-132.1s-2.6-102.7 9-132.1c7.8-19.6 22.9-34.7 42.6-42.6 29.5-11.7 99.5-9 132.1-9s102.7-2.6 132.1 9c19.6 7.8 34.7 22.9 42.6 42.6 11.7 29.5 9 99.5 9 132.1s2.7 102.7-9 132.1z"},child:[]}]})(t)}function qne(t){return Fd({attr:{viewBox:"0 0 448 512"},child:[{tag:"path",attr:{d:"M416 32H31.9C14.3 32 0 46.5 0 64.3v383.4C0 465.5 14.3 480 31.9 480H416c17.6 0 32-14.5 32-32.3V64.3c0-17.8-14.4-32.3-32-32.3zM135.4 416H69V202.2h66.5V416zm-33.2-243c-21.3 0-38.5-17.3-38.5-38.5S80.9 96 102.2 96c21.2 0 38.5 17.3 38.5 38.5 0 21.3-17.2 38.5-38.5 38.5zm282.1 243h-66.4V312c0-24.8-.5-56.7-34.5-56.7-34.6 0-39.9 27-39.9 54.9V416h-66.4V202.2h63.7v29.2h.9c8.9-16.8 30.6-34.5 62.9-34.5 67.2 0 79.7 44.3 79.7 101.9V416z"},child:[]}]})(t)}function Mne(t){return Fd({attr:{viewBox:"0 0 512 512"},child:[{tag:"path",attr:{d:"M459.37 151.716c.325 4.548.325 9.097.325 13.645 0 138.72-105.583 298.558-298.558 298.558-59.452 0-114.68-17.219-161.137-47.106 8.447.974 16.568 1.299 25.34 1.299 49.055 0 94.213-16.568 130.274-44.832-46.132-.975-84.792-31.188-98.112-72.772 6.498.974 12.995 1.624 19.818 1.624 9.421 0 18.843-1.3 27.614-3.573-48.081-9.747-84.143-51.98-84.143-102.985v-1.299c13.969 7.797 30.214 12.67 47.431 13.319-28.264-18.843-46.781-51.005-46.781-87.391 0-19.492 5.197-37.36 14.294-52.954 51.655 63.675 129.3 105.258 216.365 109.807-1.624-7.797-2.599-15.918-2.599-24.04 0-57.828 46.782-104.934 104.934-104.934 30.213 0 57.502 12.67 76.67 33.137 23.715-4.548 46.456-13.32 66.599-25.34-7.798 24.366-24.366 44.833-46.132 57.827 21.117-2.273 41.584-8.122 60.426-16.243-14.292 20.791-32.161 39.308-52.628 54.253z"},child:[]}]})(t)}function lR(t){return Fd({attr:{viewBox:"0 0 496 512"},child:[{tag:"path",attr:{d:"M336.5 160C322 70.7 287.8 8 248 8s-74 62.7-88.5 152h177zM152 256c0 22.2 1.2 43.5 3.3 64h185.3c2.1-20.5 3.3-41.8 3.3-64s-1.2-43.5-3.3-64H155.3c-2.1 20.5-3.3 41.8-3.3 64zm324.7-96c-28.6-67.9-86.5-120.4-158-141.6 24.4 33.8 41.2 84.7 50 141.6h108zM177.2 18.4C105.8 39.6 47.8 92.1 19.3 160h108c8.7-56.9 25.5-107.8 49.9-141.6zM487.4 192H372.7c2.1 21 3.3 42.5 3.3 64s-1.2 43-3.3 64h114.6c5.5-20.5 8.6-41.8 8.6-64s-3.1-43.5-8.5-64zM120 256c0-21.5 1.2-43 3.3-64H8.6C3.2 212.5 0 233.8 0 256s3.2 43.5 8.6 64h114.6c-2-21-3.2-42.5-3.2-64zm39.5 96c14.5 89.3 48.7 152 88.5 152s74-62.7 88.5-152h-177zm159.3 141.6c71.4-21.2 129.4-73.7 158-141.6h-108c-8.8 56.9-25.6 107.8-50 141.6zM19.3 352c28.6 67.9 86.5 120.4 158 141.6-24.4-33.8-41.2-84.7-50-141.6h-108z"},child:[]}]})(t)}function ji(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function Ane(t){return t?t.replace(/[^\d+]/g,""):""}function uR(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function Fne(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function Lne(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${ji(l)}`),s.push(`N:${ji(o)};${ji(a)};;;`),i.nickname&&s.push(`NICKNAME:${ji(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=ji(h.contact_value),p=h.contact_label?ji(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",b=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=Ane(h.contact_value);g&&s.push(`${b}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const x=h.contact_type==="linkedin"?"PROFILE":"WORK",w=p?`URL;TYPE=${x},${p.toUpperCase()}`:`URL;TYPE=${x}`;s.push(`${w}:${ji(v)}`);break}});const{title:u,org:d}=Fne(i.work_history,r);if(d&&s.push(`ORG:${ji(d)}`),u&&s.push(`TITLE:${ji(u)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=uR(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=uR(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function Bne(t,e={}){const{filename:r,...n}=e,i=Lne(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}function Hh(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function zne(){var on,$,D,F,ie,ee,G,ue,Re,Me,Tt,fe,te,ae;const{id:t}=ds(),e=rn(),r=Qt(),{data:n,isLoading:i,error:s}=_u(t),{data:a}=bne(t),{data:o}=wne(t),l=_ne(),u=Sne(),d=Ene(),h=Ad(),[f,p]=k.useState(!1),[m,y]=k.useState(""),[b,g]=k.useState(!1),v=k.useRef(null),{data:x}=ct({queryKey:["person-labels"],queryFn:async()=>(await Fe.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((F=(D=($=(on=n==null?void 0:n._embedded)==null?void 0:on["wp:term"])==null?void 0:$.flat())==null?void 0:D.filter(j=>(j==null?void 0:j.taxonomy)==="person_label"))==null?void 0:F.map(j=>j.id))||[],O=w.filter(j=>!_.includes(j.name));gn((n==null?void 0:n.name)||((ie=n==null?void 0:n.title)==null?void 0:ie.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(j=>{const B=Array.isArray(j.date_type)?j.date_type[0]:j.date_type;return(B==null?void 0:B.toLowerCase())==="birthday"}),P=S!=null&&S.date_value?new Date(S.date_value):null,C=o==null?void 0:o.find(j=>{const B=Array.isArray(j.date_type)?j.date_type[0]:j.date_type;return(B==null?void 0:B.toLowerCase())==="died"}),I=C!=null&&C.date_value?new Date(C.date_value):null,N=!!I,T=P?av(N?I:new Date,P):null,q=o?[...o].sort((j,B)=>{const H=j.date_value?new Date(j.date_value):new Date(0),we=B.date_value?new Date(B.date_value):new Date(0);return H-we}):[],z=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(j){console.error("Failed to delete person:",j),alert("Failed to delete person. Please try again.")}},Z=j=>{if(!j)return"";let B=j.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const H=B.startsWith("+");return B=B.replace(/\D/g,""),H?`+${B}`:B},K=async j=>{var we;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const B=[...((we=n.acf)==null?void 0:we.contact_info)||[]];B.splice(j,1);const H=ka(n.acf,{contact_info:B});await h.mutateAsync({id:t,data:{acf:H}})},L=async j=>{var zn,Ii,Qo,Sh,YN,QN;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const B=(Ii=(zn=n.acf)==null?void 0:zn.relationships)==null?void 0:Ii[j];if(!B)return;const H=B.related_person,we=B.relationship_type;let Te=!0;H&&we&&(Te=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let Ue=null;if(!Te&&H&&we)try{const[ui,Eh]=await Promise.all([Fe.getPerson(H,{_embed:!0}),Fe.getRelationshipTypes()]),Nm={};Eh.data.forEach(Xu=>{Nm[Xu.id]=Xu});const _n=Nm[we],Sa=(Qo=_n==null?void 0:_n.acf)==null?void 0:Qo.inverse_relationship_type;if(Sa){const Ju=(((Sh=ui.data.acf)==null?void 0:Sh.relationships)||[]).find(Ri=>{var XN,JN;const HY=typeof Ri.related_person=="object"?(XN=Ri.related_person)==null?void 0:XN.ID:Ri.related_person,KY=typeof Ri.relationship_type=="object"?(JN=Ri.relationship_type)==null?void 0:JN.term_id:Ri.relationship_type;return HY===parseInt(t)&&KY===Sa});Ju&&(Ue={related_person:parseInt(t),relationship_type:Sa,relationship_label:Ju.relationship_label||""})}}catch(ui){console.error("Failed to fetch inverse relationship:",ui)}const Je=[...((YN=n.acf)==null?void 0:YN.relationships)||[]];Je.splice(j,1);const Yo=ka(n.acf,{relationships:Je});if(await h.mutateAsync({id:t,data:{acf:Yo}}),!Te&&Ue&&H){await new Promise(ui=>setTimeout(ui,500));try{const ui=await Fe.getPerson(H,{_embed:!0}),Eh=((QN=ui.data.acf)==null?void 0:QN.relationships)||[];if(!Eh.some(_n=>{var Ju,Ri;const Sa=typeof _n.related_person=="object"?(Ju=_n.related_person)==null?void 0:Ju.ID:_n.related_person,Xu=typeof _n.relationship_type=="object"?(Ri=_n.relationship_type)==null?void 0:Ri.term_id:_n.relationship_type;return Sa===Ue.related_person&&Xu===Ue.relationship_type})){const _n=[...Eh,Ue],Sa=ka(ui.data.acf,{relationships:_n});await Fe.updatePerson(H,{acf:Sa})}}catch(ui){console.error("Failed to restore inverse relationship:",ui)}}r.invalidateQueries({queryKey:["person",t]}),H&&r.invalidateQueries({queryKey:["person",H]}),r.invalidateQueries({queryKey:["people"]})},V=async j=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:j,personId:t})},U=async j=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:j,personId:t})},W=async j=>{var we;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const B=[...((we=n.acf)==null?void 0:we.work_history)||[]];B.splice(j,1);const H=ka(n.acf,{work_history:B});await h.mutateAsync({id:t,data:{acf:H}})},J=async j=>{var we,Te,Ue;const B=(Ue=(Te=(we=n==null?void 0:n._embedded)==null?void 0:we["wp:term"])==null?void 0:Te.flat())==null?void 0:Ue.find(Je=>(Je==null?void 0:Je.taxonomy)==="person_label"&&(Je==null?void 0:Je.name)===j);if(!B)return;const H=E.filter(Je=>Je!==B.id);await h.mutateAsync({id:t,data:{person_label:H}})},he=async()=>{if(!m)return;const j=w.find(H=>H.id.toString()===m);if(!j)return;const B=[...E,j.id];await h.mutateAsync({id:t,data:{person_label:B}}),y(""),p(!1)},me=async j=>{var H;const B=(H=j.target.files)==null?void 0:H[0];if(B){if(!B.type.startsWith("image/")){alert("Please select an image file");return}if(B.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Yt.uploadPersonPhoto(t,B),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(we){console.error("Failed to upload photo:",we),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},qe=()=>{if(n)try{Bne(n,{companyMap:ot,personDates:o||[]})}catch(j){console.error("Failed to export vCard:",j),alert("Failed to export vCard. Please try again.")}},be=((G=(ee=n==null?void 0:n.acf)==null?void 0:ee.work_history)==null?void 0:G.map(j=>j.company).filter(Boolean))||[],Ee=Xf({queries:be.map(j=>({queryKey:["company",j],queryFn:async()=>(await Fe.getCompany(j,{_embed:!0})).data,enabled:!!j}))}),Ce=((Re=(ue=n==null?void 0:n.acf)==null?void 0:ue.relationships)==null?void 0:Re.map(j=>j.related_person).filter(Boolean))||[],pt=Xf({queries:Ce.map(j=>({queryKey:["person-dates",j],queryFn:async()=>(await Yt.getPersonDates(j)).data,enabled:!!j}))}),Qe=k.useMemo(()=>{const j={};return pt.forEach((B,H)=>{if(B.data&&Ce[H]){const we=Ce[H],Te=B.data.find(Ue=>{const Je=Array.isArray(Ue.date_type)?Ue.date_type[0]:Ue.date_type;return(Je==null?void 0:Je.toLowerCase())==="birthday"});if(Te!=null&&Te.date_value){const Ue=new Date(Te.date_value);j[we]=av(new Date,Ue)}else j[we]=-1}}),j},[pt,Ce]),Wt=k.useMemo(()=>{const j={};return pt.forEach((B,H)=>{if(B.data&&Ce[H]){const we=Ce[H],Te=B.data.some(Ue=>{const Je=Array.isArray(Ue.date_type)?Ue.date_type[0]:Ue.date_type;return(Je==null?void 0:Je.toLowerCase())==="died"});j[we]=Te}}),j},[pt,Ce]),ur=k.useMemo(()=>{var j;return(j=n==null?void 0:n.acf)!=null&&j.relationships?[...n.acf.relationships].sort((B,H)=>{const we=Qe[B.related_person]??-1,Te=Qe[H.related_person]??-1;return we===-1&&Te===-1?0:we===-1?1:Te===-1?-1:Te-we}):[]},[(Me=n==null?void 0:n.acf)==null?void 0:Me.relationships,Qe]),ot={};Ee.forEach((j,B)=>{var H,we,Te,Ue,Je,Yo,zn,Ii,Qo;if(j.data){const Sh=be[B];ot[Sh]={name:Hi(j.data),logo:((Te=(we=(H=j.data._embedded)==null?void 0:H["wp:featuredmedia"])==null?void 0:we[0])==null?void 0:Te.source_url)||((Qo=(Ii=(zn=(Yo=(Je=(Ue=j.data._embedded)==null?void 0:Ue["wp:featuredmedia"])==null?void 0:Je[0])==null?void 0:Yo.media_details)==null?void 0:zn.sizes)==null?void 0:Ii.thumbnail)==null?void 0:Qo.source_url)||null}}});const Pr=k.useMemo(()=>{var j;return(j=n==null?void 0:n.acf)!=null&&j.work_history?[...n.acf.work_history].map((B,H)=>({...B,originalIndex:H})).sort((B,H)=>{if(B.is_current&&!H.is_current)return-1;if(!B.is_current&&H.is_current)return 1;const we=B.start_date?new Date(B.start_date):new Date(0);return(H.start_date?new Date(H.start_date):new Date(0))-we}):[]},[(Tt=n==null?void 0:n.acf)==null?void 0:Tt.work_history]);if(k.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});if(n.status==="trash")return null;const tt=n.acf||{},Cr=["facebook","linkedin","instagram","twitter","website"],Xe=((fe=tt.contact_info)==null?void 0:fe.filter(j=>Cr.includes(j.contact_type)))||[],Jt=j=>{switch(j){case"facebook":return kne;case"linkedin":return qne;case"instagram":return Dne;case"twitter":return Mne;case"website":return lR;default:return lR}},xn=j=>{switch(j){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B5]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"website":return"text-gray-600";default:return"text-gray-600"}};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(ce,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:qe,className:"btn-secondary",children:[c.jsx(iP,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),c.jsxs(ce,{to:`/people/${t}/edit`,className:"btn-secondary",children:[c.jsx(P9,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),c.jsxs("button",{onClick:z,className:"btn-danger",children:[c.jsx(Ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),c.jsxs("div",{className:"card p-6 relative",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(ce,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[c.jsxs("div",{className:"relative group",children:[n.thumbnail?c.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):c.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((te=n.first_name)==null?void 0:te[0])||"?"})}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var j;return(j=v.current)==null?void 0:j.click()},children:b?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(yf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),c.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:me,className:"hidden",disabled:b})]}),c.jsxs("div",{className:"flex-1 space-y-3",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,N&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&c.jsx(od,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),tt.nickname&&c.jsxs("p",{className:"text-gray-500",children:['"',tt.nickname,'"']}),N&&I&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm",children:[Hh(tt.gender)&&c.jsx("span",{className:"mr-1",children:Hh(tt.gender)}),"Died ",gi(I,"MMMM d, yyyy")," at age ",T]}),!N&&T!==null&&c.jsxs("p",{className:"text-gray-500 text-sm",children:[Hh(tt.gender)&&c.jsx("span",{className:"mr-1",children:Hh(tt.gender)}),T," years old"]}),c.jsxs("div",{children:[c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((j,B)=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[j,c.jsx("button",{onClick:()=>J(j),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:c.jsx(la,{className:"w-3 h-3"})})]},B)),f?c.jsxs("div",{className:"inline-flex items-center gap-2",children:[c.jsxs("select",{value:m,onChange:j=>y(j.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[c.jsx("option",{value:"",children:"Select a label..."}),O.map(j=>c.jsx("option",{value:j.id,children:j.name},j.id))]}),c.jsx("button",{onClick:he,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),c.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[c.jsx(Sr,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),Xe.length>0&&c.jsx("div",{className:"flex items-center gap-3 mt-4",children:Xe.map((j,B)=>{const H=Jt(j.contact_type),we=xn(j.contact_type);let Te=j.contact_value;return Te.match(/^https?:\/\//i)||(Te=`https://${Te}`),c.jsx("a",{href:Te,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${we}`,title:`${j.contact_type.charAt(0).toUpperCase()+j.contact_type.slice(1)}: ${j.contact_value}`,children:c.jsx(H,{className:"w-5 h-5"})},B)})})]})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!N&&c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Contact Information"}),c.jsxs(ce,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((ae=tt.contact_info)==null?void 0:ae.filter(j=>!Cr.includes(j.contact_type)).length)>0?c.jsx("div",{className:"space-y-2",children:tt.contact_info.filter(j=>!Cr.includes(j.contact_type)).map((j,B)=>{const H=tt.contact_info.indexOf(j),we=j.contact_type==="email"?Vte:j.contact_type==="phone"||j.contact_type==="mobile"?Qte:j.contact_type==="address"?Hte:b9,Te=j.contact_type==="email",Ue=j.contact_type==="phone"||j.contact_type==="mobile",Je=j.contact_type==="mobile",Yo=j.contact_type==="address";let zn=null,Ii=null;return Te?zn=`mailto:${j.contact_value}`:Ue?zn=`tel:${Z(j.contact_value)}`:Yo&&(zn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(j.contact_value)}`,Ii="_blank"),c.jsx("div",{className:"group",children:c.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[c.jsx(we,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[j.contact_label||j.contact_type,": "]}),zn?c.jsx("a",{href:zn,target:Ii||void 0,rel:Ii==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:j.contact_value}):c.jsx("span",{children:j.contact_value}),Je&&c.jsx("a",{href:`https://wa.me/${Z(j.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:c.jsx(Gte,{className:"w-4 h-4 text-[#25D366]"})})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(ce,{to:`/people/${t}/contact/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>K(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:c.jsx(Ss,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},H)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Important Dates"}),c.jsxs(ce,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),q.length>0?c.jsx("div",{className:"space-y-3",children:q.map(j=>{const B=Array.isArray(j.date_type)?j.date_type[0]:j.date_type,H=(B==null?void 0:B.toLowerCase())||"",we=H.includes("died"),Te=H.includes("wedding")||H.includes("marriage")?Bte:H.includes("birthday")?Lte:mo;return c.jsxs("div",{className:"flex items-start group",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:we?c.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):c.jsx(Te,{className:"w-4 h-4 text-gray-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:j.title}),c.jsx("p",{className:"text-xs text-gray-500",children:j.date_value&&gi(new Date(j.date_value),"MMMM d, yyyy")}),B&&c.jsx("p",{className:"text-xs text-gray-400 capitalize",children:B})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx(ce,{to:`/dates/${j.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>V(j.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:c.jsx(Ss,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},j.id)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Work History"}),c.jsxs(ce,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Work History"})]})]}),(Pr==null?void 0:Pr.length)>0?c.jsx("div",{className:"space-y-4",children:Pr.map((j,B)=>{const H=j.company?ot[j.company]:null,we=j.originalIndex;return c.jsxs("div",{className:"flex items-start group",children:[H!=null&&H.logo?c.jsx("img",{src:H.logo,alt:H.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):c.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:c.jsx(as,{className:"w-10 h-10 text-gray-500"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium",children:j.job_title}),j.company&&H&&c.jsx(ce,{to:`/companies/${j.company}`,className:"text-sm text-primary-600 hover:underline",children:H.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[j.start_date&&gi(new Date(j.start_date),"MMM yyyy")," - ",j.is_current?"Present":j.end_date?gi(new Date(j.end_date),"MMM yyyy"):""]}),j.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:j.description})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(ce,{to:`/people/${t}/work-history/${we}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>W(we),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:c.jsx(Ss,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},we)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Timeline"}),c.jsxs("button",{className:"btn-secondary text-sm",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),(a==null?void 0:a.length)>0?c.jsx("div",{className:"space-y-4",children:a.map(j=>c.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{className:"capitalize",children:j.type}),c.jsx("span",{children:""}),c.jsx("span",{children:gi(new Date(j.created),"MMM d, yyyy")})]}),c.jsx("button",{onClick:()=>U(j.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:c.jsx(Ss,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),c.jsx("p",{className:"mt-1",children:j.content})]},j.id))}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),c.jsxs("div",{className:"space-y-6",children:[(tt.how_we_met||tt.met_date)&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),tt.met_date&&c.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[c.jsx(mo,{className:"w-4 h-4 inline mr-1"}),gi(new Date(tt.met_date),"MMMM d, yyyy")]}),tt.how_we_met&&c.jsx("p",{className:"text-sm",children:tt.how_we_met})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"font-semibold",children:"Relationships"}),c.jsxs(ce,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship"})]})]}),(ur==null?void 0:ur.length)>0?c.jsx("div",{className:"space-y-2",children:ur.map((j,B)=>{var we,Te,Ue;const H=((Te=(we=n==null?void 0:n.acf)==null?void 0:we.relationships)==null?void 0:Te.findIndex(Je=>Je.related_person===j.related_person&&Je.relationship_type===j.relationship_type))??B;return c.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[c.jsxs(ce,{to:`/people/${j.related_person}`,className:"flex items-center flex-1 min-w-0",children:[j.person_thumbnail?c.jsx("img",{src:j.person_thumbnail,alt:ei(j.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium text-gray-500",children:((Ue=ei(j.person_name))==null?void 0:Ue[0])||"?"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-medium",children:[ei(j.person_name)||`Person #${j.related_person}`,Wt[j.related_person]&&c.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),c.jsx("p",{className:"text-xs text-gray-500",children:ei(j.relationship_name||j.relationship_label)})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(ce,{to:`/people/${t}/relationship/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:c.jsx(Vh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>L(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:c.jsx(Ss,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},B)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Ld=t=>t.type==="checkbox",Da=t=>t instanceof Date,Wr=t=>t==null;const M9=t=>typeof t=="object";var qt=t=>!Wr(t)&&!Array.isArray(t)&&M9(t)&&!Da(t),A9=t=>qt(t)&&t.target?Ld(t.target)?t.target.checked:t.target.value:t,Une=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,F9=(t,e)=>t.has(Une(e)),Wne=t=>{const e=t.constructor&&t.constructor.prototype;return qt(e)&&e.hasOwnProperty("isPrototypeOf")},qC=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Vt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(qC&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(qt(t)&&Wne(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=Vt(t[i]));return n}var Hp=t=>/^\w*$/.test(t),Ot=t=>t===void 0,MC=t=>Array.isArray(t)?t.filter(Boolean):[],AC=t=>MC(t.replace(/["|']|\]/g,"").split(/\.|\[/)),se=(t,e,r)=>{if(!e||!qt(t))return r;const n=(Hp(e)?[e]:AC(e)).reduce((i,s)=>Wr(i)?i:i[s],t);return Ot(n)||n===t?Ot(t[e])?r:t[e]:n},cn=t=>typeof t=="boolean",Dr=t=>typeof t=="function",rt=(t,e,r)=>{let n=-1;const i=Hp(e)?[e]:AC(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=qt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const rp={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Jn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},$i={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},L9=Se.createContext(null);L9.displayName="HookFormContext";const FC=()=>Se.useContext(L9);var B9=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Jn.all&&(e._proxyFormState[a]=!n||Jn.all),r&&(r[a]=!0),t[a]}});return i};const LC=typeof window<"u"?Se.useLayoutEffect:Se.useEffect;function Vne(t){const e=FC(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Se.useState(r._formState),l=Se.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return LC(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),Se.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Se.useMemo(()=>B9(a,r,l.current,!1),[a,r])}var dn=t=>typeof t=="string",sP=(t,e,r,n,i)=>dn(t)?(n&&e.watch.add(t),se(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),se(r,s))):(n&&(e.watchAll=!0),r),aP=t=>Wr(t)||!M9(t);function Zn(t,e,r=new WeakSet){if(aP(t)||aP(e))return Object.is(t,e);if(Da(t)&&Da(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Da(a)&&Da(o)||qt(a)&&qt(o)||Array.isArray(a)&&Array.isArray(o)?!Zn(a,o,r):!Object.is(a,o))return!1}}return!0}function Hne(t){const e=FC(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Se.useRef(i),u=Se.useRef(o),d=Se.useRef(void 0),h=Se.useRef(r),f=Se.useRef(n);u.current=o;const[p,m]=Se.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),y=Se.useCallback(w=>{const _=sP(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Se.useCallback(w=>{if(!s){const _=sP(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Zn(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);LC(()=>((h.current!==r||!Zn(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{b(w.values)}})),[r,a,n,b]),Se.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Se.useMemo(()=>{if(s)return null;const w=!g&&!Zn(v,n);return g||w?y():null},[s,g,n,v,y]);return x!==null?x:p}function Kne(t){const e=FC(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=F9(i._names.array,r),u=Se.useMemo(()=>se(i._formValues,r,se(i._defaultValues,r,a)),[i,r,a]),d=Hne({control:i,name:r,defaultValue:u,exact:o}),h=Vne({control:i,name:r,exact:o}),f=Se.useRef(t),p=Se.useRef(void 0),m=Se.useRef(i.register(r,{...t.rules,value:d,...cn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Se.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!se(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!se(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!se(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!se(h.validatingFields,r)},error:{enumerable:!0,get:()=>se(h.errors,r)}}),[h,r]),b=Se.useCallback(w=>m.current.onChange({target:{value:A9(w),name:r},type:rp.CHANGE}),[r]),g=Se.useCallback(()=>m.current.onBlur({target:{value:se(i._formValues,r),name:r},type:rp.BLUR}),[r,i._formValues]),v=Se.useCallback(w=>{const _=se(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>Dr(w.focus)&&w.focus(),select:()=>Dr(w.select)&&w.select(),setCustomValidity:E=>Dr(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>Dr(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Se.useMemo(()=>({name:r,value:d,...cn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,d]);return Se.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...cn(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const P=se(i._fields,O);P&&P._f&&(P._f.mount=S)};if(E(r,!0),w){const O=Vt(se(i._options.defaultValues,r,f.current.defaultValue));rt(i._defaultValues,r,O),Ot(se(i._formValues,r))&&rt(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Se.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Se.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const np=t=>t.render(Kne(t));var Gne=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Rc=t=>Array.isArray(t)?t:[t],cR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function z9(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&qt(i)&&s){const a=z9(i,s);qt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Ir=t=>qt(t)&&!Object.keys(t).length,BC=t=>t.type==="file",ip=t=>{if(!qC)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},U9=t=>t.type==="select-multiple",zC=t=>t.type==="radio",Yne=t=>zC(t)||Ld(t),lv=t=>ip(t)&&t.isConnected;function Qne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=Ot(t)?n++:t[e[n++]];return t}function Xne(t){for(const e in t)if(t.hasOwnProperty(e)&&!Ot(t[e]))return!1;return!0}function kt(t,e){const r=Array.isArray(e)?e:Hp(e)?[e]:AC(e),n=r.length===1?t:Qne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(qt(n)&&Ir(n)||Array.isArray(n)&&Xne(n))&&kt(t,r.slice(0,-1)),t}var Jne=t=>{for(const e in t)if(Dr(t[e]))return!0;return!1};function W9(t){return Array.isArray(t)||qt(t)&&!Jne(t)}function oP(t,e={}){for(const r in t){const n=t[r];W9(n)?(e[r]=Array.isArray(n)?[]:{},oP(n,e[r])):Ot(n)||(e[r]=!0)}return e}function il(t,e,r){r||(r=oP(e));for(const n in t){const i=t[n];if(W9(i))Ot(e)||aP(r[n])?r[n]=oP(i,Array.isArray(i)?[]:{}):il(i,Wr(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Zn(i,s)}}return r}const dR={value:!1,isValid:!1},hR={value:!0,isValid:!0};var V9=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Ot(t[0].attributes.value)?Ot(t[0].value)||t[0].value===""?hR:{value:t[0].value,isValid:!0}:hR:dR}return dR},H9=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>Ot(t)?t:e?t===""?NaN:t&&+t:r&&dn(t)?new Date(t):n?n(t):t;const fR={isValid:!1,value:null};var K9=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,fR):fR;function pR(t){const e=t.ref;return BC(e)?e.files:zC(e)?K9(t.refs).value:U9(e)?[...e.selectedOptions].map(({value:r})=>r):Ld(e)?V9(t.refs).value:H9(Ot(e.value)?t.ref.value:e.value,t)}var Zne=(t,e,r,n)=>{const i={};for(const s of t){const a=se(e,s);a&&rt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},sp=t=>t instanceof RegExp,cc=t=>Ot(t)?t:sp(t)?t.source:qt(t)?sp(t.value)?t.value.source:t.value:t,mR=t=>({isOnSubmit:!t||t===Jn.onSubmit,isOnBlur:t===Jn.onBlur,isOnChange:t===Jn.onChange,isOnAll:t===Jn.all,isOnTouch:t===Jn.onTouched});const vR="AsyncFunction";var eie=t=>!!t&&!!t.validate&&!!(Dr(t.validate)&&t.validate.constructor.name===vR||qt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===vR)),tie=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),gR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const jc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=se(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(jc(o,e))break}else if(qt(o)&&jc(o,e))break}}};function yR(t,e,r){const n=se(t,r);if(n||Hp(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=se(e,s),o=se(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var rie=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Ir(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Jn.all))},nie=(t,e,r)=>!t||!e||t===e||Rc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),iie=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,sie=(t,e)=>!MC(se(t,e)).length&&kt(t,e),aie=(t,e,r)=>{const n=Rc(se(t,r));return rt(n,"root",e[r]),rt(t,r,n),t};function bR(t,e,r="validate"){if(dn(t)||Array.isArray(t)&&t.every(dn)||cn(t)&&!t)return{type:r,message:dn(t)?t:"",ref:e}}var el=t=>qt(t)&&!sp(t)?t:{value:t,message:""},wR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=se(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,w=N=>{i&&x.reportValidity&&(x.setCustomValidity(cn(N)?"":N||""),x.reportValidity())},_={},E=zC(a),O=Ld(a),S=E||O,P=(b||BC(a))&&Ot(a.value)&&Ot(v)||ip(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=Gne.bind(null,y,n,_),I=(N,T,q,z=$i.maxLength,Z=$i.minLength)=>{const K=N?T:q;_[y]={type:N?z:Z,message:K,ref:a,...C(N?z:Z,K)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(P||Wr(v))||cn(v)&&!v||O&&!V9(o).isValid||E&&!K9(o).isValid)){const{value:N,message:T}=dn(l)?{value:!!l,message:l}:el(l);if(N&&(_[y]={type:$i.required,message:T,ref:x,...C($i.required,T)},!n))return w(T),_}if(!P&&(!Wr(h)||!Wr(f))){let N,T;const q=el(f),z=el(h);if(!Wr(v)&&!isNaN(v)){const Z=a.valueAsNumber||v&&+v;Wr(q.value)||(N=Z>q.value),Wr(z.value)||(T=Z<z.value)}else{const Z=a.valueAsDate||new Date(v),K=U=>new Date(new Date().toDateString()+" "+U),L=a.type=="time",V=a.type=="week";dn(q.value)&&v&&(N=L?K(v)>K(q.value):V?v>q.value:Z>new Date(q.value)),dn(z.value)&&v&&(T=L?K(v)<K(z.value):V?v<z.value:Z<new Date(z.value))}if((N||T)&&(I(!!N,q.message,z.message,$i.max,$i.min),!n))return w(_[y].message),_}if((u||d)&&!P&&(dn(v)||s&&Array.isArray(v))){const N=el(u),T=el(d),q=!Wr(N.value)&&v.length>+N.value,z=!Wr(T.value)&&v.length<+T.value;if((q||z)&&(I(q,N.message,T.message),!n))return w(_[y].message),_}if(p&&!P&&dn(v)){const{value:N,message:T}=el(p);if(sp(N)&&!v.match(N)&&(_[y]={type:$i.pattern,message:T,ref:a,...C($i.pattern,T)},!n))return w(T),_}if(m){if(Dr(m)){const N=await m(v,r),T=bR(N,x);if(T&&(_[y]={...T,...C($i.validate,T.message)},!n))return w(T.message),_}else if(qt(m)){let N={};for(const T in m){if(!Ir(N)&&!n)break;const q=bR(await m[T](v,r),x,T);q&&(N={...q,...C(T,q.message)},w(q.message),n&&(_[y]=N))}if(!Ir(N)&&(_[y]={ref:x,...N},!n))return _}}return w(!0),_};const oie={mode:Jn.onSubmit,reValidateMode:Jn.onChange,shouldFocusError:!0};function lie(t={}){let e={...oie,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Dr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=qt(e.defaultValues)||qt(e.values)?Vt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:Vt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:cR(),state:cR()},m=e.criteriaMode===Jn.all,y=$=>D=>{clearTimeout(u),u=setTimeout($,D)},b=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let D;e.resolver?(D=Ir((await S()).errors),g()):D=await C(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=($,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(F=>{F&&(D?rt(r.validatingFields,F,D):kt(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Ir(r.validatingFields)}))},v=($,D=[],F,ie,ee=!0,G=!0)=>{if(ie&&F&&!e.disabled){if(a.action=!0,G&&Array.isArray(se(n,$))){const ue=F(se(n,$),ie.argA,ie.argB);ee&&rt(n,$,ue)}if(G&&Array.isArray(se(r.errors,$))){const ue=F(se(r.errors,$),ie.argA,ie.argB);ee&&rt(r.errors,$,ue),sie(r.errors,$)}if((h.touchedFields||f.touchedFields)&&G&&Array.isArray(se(r.touchedFields,$))){const ue=F(se(r.touchedFields,$),ie.argA,ie.argB);ee&&rt(r.touchedFields,$,ue)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=il(i,s)),p.state.next({name:$,isDirty:N($,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else rt(s,$,D)},x=($,D)=>{rt(r.errors,$,D),p.state.next({errors:r.errors})},w=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,D,F,ie)=>{const ee=se(n,$);if(ee){const G=se(s,$,Ot(F)?se(i,$):F);Ot(G)||ie&&ie.defaultChecked||D?rt(s,$,D?G:pR(ee._f)):z($,G),a.mount&&!a.action&&b()}},E=($,D,F,ie,ee)=>{let G=!1,ue=!1;const Re={name:$};if(!e.disabled){if(!F||ie){(h.isDirty||f.isDirty)&&(ue=r.isDirty,r.isDirty=Re.isDirty=N(),G=ue!==Re.isDirty);const Me=Zn(se(i,$),D);ue=!!se(r.dirtyFields,$),Me?kt(r.dirtyFields,$):rt(r.dirtyFields,$,!0),Re.dirtyFields=r.dirtyFields,G=G||(h.dirtyFields||f.dirtyFields)&&ue!==!Me}if(F){const Me=se(r.touchedFields,$);Me||(rt(r.touchedFields,$,F),Re.touchedFields=r.touchedFields,G=G||(h.touchedFields||f.touchedFields)&&Me!==F)}G&&ee&&p.state.next(Re)}return G?Re:{}},O=($,D,F,ie)=>{const ee=se(r.errors,$),G=(h.isValid||f.isValid)&&cn(D)&&r.isValid!==D;if(e.delayError&&F?(l=y(()=>x($,F)),l(e.delayError)):(clearTimeout(u),l=null,F?rt(r.errors,$,F):kt(r.errors,$)),(F?!Zn(ee,F):ee)||!Ir(ie)||G){const ue={...ie,...G&&cn(D)?{isValid:D}:{},errors:r.errors,name:$};r={...r,...ue},p.state.next(ue)}},S=async $=>(g($,!0),await e.resolver(s,e.context,Zne($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async $=>{const{errors:D}=await S($);if(g($),$)for(const F of $){const ie=se(D,F);ie?rt(r.errors,F,ie):kt(r.errors,F)}else r.errors=D;return D},C=async($,D,F={valid:!0})=>{for(const ie in $){const ee=$[ie];if(ee){const{_f:G,...ue}=ee;if(G){const Re=o.array.has(G.name),Me=ee._f&&eie(ee._f);Me&&h.validatingFields&&g([G.name],!0);const Tt=await wR(ee,o.disabled,s,m,e.shouldUseNativeValidation&&!D,Re);if(Me&&h.validatingFields&&g([G.name]),Tt[G.name]&&(F.valid=!1,D))break;!D&&(se(Tt,G.name)?Re?aie(r.errors,Tt,G.name):rt(r.errors,G.name,Tt[G.name]):kt(r.errors,G.name))}!Ir(ue)&&await C(ue,D,F)}}return F.valid},I=()=>{for(const $ of o.unMount){const D=se(n,$);D&&(D._f.refs?D._f.refs.every(F=>!lv(F)):!lv(D._f.ref))&&Ce($)}o.unMount=new Set},N=($,D)=>!e.disabled&&($&&D&&rt(s,$,D),!Zn(W(),i)),T=($,D,F)=>sP($,o,{...a.mount?s:Ot(D)?i:dn($)?{[$]:D}:D},F,D),q=$=>MC(se(a.mount?s:i,$,e.shouldUnregister?se(i,$,[]):[])),z=($,D,F={})=>{const ie=se(n,$);let ee=D;if(ie){const G=ie._f;G&&(!G.disabled&&rt(s,$,H9(D,G)),ee=ip(G.ref)&&Wr(D)?"":D,U9(G.ref)?[...G.ref.options].forEach(ue=>ue.selected=ee.includes(ue.value)):G.refs?Ld(G.ref)?G.refs.forEach(ue=>{(!ue.defaultChecked||!ue.disabled)&&(Array.isArray(ee)?ue.checked=!!ee.find(Re=>Re===ue.value):ue.checked=ee===ue.value||!!ee)}):G.refs.forEach(ue=>ue.checked=ue.value===ee):BC(G.ref)?G.ref.value="":(G.ref.value=ee,G.ref.type||p.state.next({name:$,values:Vt(s)})))}(F.shouldDirty||F.shouldTouch)&&E($,ee,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&U($)},Z=($,D,F)=>{for(const ie in D){if(!D.hasOwnProperty(ie))return;const ee=D[ie],G=$+"."+ie,ue=se(n,G);(o.array.has($)||qt(ee)||ue&&!ue._f)&&!Da(ee)?Z(G,ee,F):z(G,ee,F)}},K=($,D,F={})=>{const ie=se(n,$),ee=o.array.has($),G=Vt(D);rt(s,$,G),ee?(p.array.next({name:$,values:Vt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:$,dirtyFields:il(i,s),isDirty:N($,G)})):ie&&!ie._f&&!Wr(G)?Z($,G,F):z($,G,F),gR($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:Vt(s)})},L=async $=>{a.mount=!0;const D=$.target;let F=D.name,ie=!0;const ee=se(n,F),G=Me=>{ie=Number.isNaN(Me)||Da(Me)&&isNaN(Me.getTime())||Zn(Me,se(s,F,Me))},ue=mR(e.mode),Re=mR(e.reValidateMode);if(ee){let Me,Tt;const fe=D.type?pR(ee._f):A9($),te=$.type===rp.BLUR||$.type===rp.FOCUS_OUT,ae=!tie(ee._f)&&!e.resolver&&!se(r.errors,F)&&!ee._f.deps||iie(te,se(r.touchedFields,F),r.isSubmitted,Re,ue),j=gR(F,o,te);rt(s,F,fe),te?(!D||!D.readOnly)&&(ee._f.onBlur&&ee._f.onBlur($),l&&l(0)):ee._f.onChange&&ee._f.onChange($);const B=E(F,fe,te),H=!Ir(B)||j;if(!te&&p.state.next({name:F,type:$.type,values:Vt(s)}),ae)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?te&&b():te||b()),H&&p.state.next({name:F,...j?{}:B});if(!te&&j&&p.state.next({...r}),e.resolver){const{errors:we}=await S([F]);if(g([F]),G(fe),ie){const Te=yR(r.errors,n,F),Ue=yR(we,n,Te.name||F);Me=Ue.error,F=Ue.name,Tt=Ir(we)}}else g([F],!0),Me=(await wR(ee,o.disabled,s,m,e.shouldUseNativeValidation))[F],g([F]),G(fe),ie&&(Me?Tt=!1:(h.isValid||f.isValid)&&(Tt=await C(n,!0)));ie&&(ee._f.deps&&(!Array.isArray(ee._f.deps)||ee._f.deps.length>0)&&U(ee._f.deps),O(F,Tt,Me,B))}},V=($,D)=>{if(se(r.errors,D)&&$.focus)return $.focus(),1},U=async($,D={})=>{let F,ie;const ee=Rc($);if(e.resolver){const G=await P(Ot($)?$:ee);F=Ir(G),ie=$?!ee.some(ue=>se(G,ue)):F}else $?(ie=(await Promise.all(ee.map(async G=>{const ue=se(n,G);return await C(ue&&ue._f?{[G]:ue}:ue)}))).every(Boolean),!(!ie&&!r.isValid)&&b()):ie=F=await C(n);return p.state.next({...!dn($)||(h.isValid||f.isValid)&&F!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!ie&&jc(n,V,$?ee:o.mount),ie},W=($,D)=>{let F={...a.mount?s:i};return D&&(F=z9(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),Ot($)?F:dn($)?se(F,$):$.map(ie=>se(F,ie))},J=($,D)=>({invalid:!!se((D||r).errors,$),isDirty:!!se((D||r).dirtyFields,$),error:se((D||r).errors,$),isValidating:!!se(r.validatingFields,$),isTouched:!!se((D||r).touchedFields,$)}),he=$=>{$&&Rc($).forEach(D=>kt(r.errors,D)),p.state.next({errors:$?r.errors:{}})},me=($,D,F)=>{const ie=(se(n,$,{_f:{}})._f||{}).ref,ee=se(r.errors,$)||{},{ref:G,message:ue,type:Re,...Me}=ee;rt(r.errors,$,{...Me,...D,ref:ie}),p.state.next({name:$,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&ie&&ie.focus&&ie.focus()},qe=($,D)=>Dr($)?p.state.subscribe({next:F=>"values"in F&&$(T(void 0,D),F)}):T($,D,!0),be=$=>p.state.subscribe({next:D=>{nie($.name,D.name,$.exact)&&rie(D,$.formState||h,Jt,$.reRenderRoot)&&$.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,Ee=$=>(a.mount=!0,f={...f,...$.formState},be({...$,formState:{...d,...$.formState}})),Ce=($,D={})=>{for(const F of $?Rc($):o.mount)o.mount.delete(F),o.array.delete(F),D.keepValue||(kt(n,F),kt(s,F)),!D.keepError&&kt(r.errors,F),!D.keepDirty&&kt(r.dirtyFields,F),!D.keepTouched&&kt(r.touchedFields,F),!D.keepIsValidating&&kt(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&kt(i,F);p.state.next({values:Vt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:N()}:{}}),!D.keepIsValid&&b()},pt=({disabled:$,name:D})=>{(cn($)&&a.mount||$||o.disabled.has(D))&&($?o.disabled.add(D):o.disabled.delete(D))},Qe=($,D={})=>{let F=se(n,$);const ie=cn(D.disabled)||cn(e.disabled);return rt(n,$,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:$}},name:$,mount:!0,...D}}),o.mount.add($),F?pt({disabled:cn(D.disabled)?D.disabled:e.disabled,name:$}):_($,!0,D.value),{...ie?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:cc(D.min),max:cc(D.max),minLength:cc(D.minLength),maxLength:cc(D.maxLength),pattern:cc(D.pattern)}:{},name:$,onChange:L,onBlur:L,ref:ee=>{if(ee){Qe($,D),F=se(n,$);const G=Ot(ee.value)&&ee.querySelectorAll&&ee.querySelectorAll("input,select,textarea")[0]||ee,ue=Yne(G),Re=F._f.refs||[];if(ue?Re.find(Me=>Me===G):G===F._f.ref)return;rt(n,$,{_f:{...F._f,...ue?{refs:[...Re.filter(lv),G,...Array.isArray(se(i,$))?[{}]:[]],ref:{type:G.type,name:$}}:{ref:G}}}),_($,!1,void 0,G)}else F=se(n,$,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(F9(o.array,$)&&a.action)&&o.unMount.add($)}}},Wt=()=>e.shouldFocusError&&jc(n,V,o.mount),ur=$=>{cn($)&&(p.state.next({disabled:$}),jc(n,(D,F)=>{const ie=se(n,F);ie&&(D.disabled=ie._f.disabled||$,Array.isArray(ie._f.refs)&&ie._f.refs.forEach(ee=>{ee.disabled=ie._f.disabled||$}))},0,!1))},ot=($,D)=>async F=>{let ie;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let ee=Vt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:G,values:ue}=await S();g(),r.errors=G,ee=Vt(ue)}else await C(n);if(o.disabled.size)for(const G of o.disabled)kt(ee,G);if(kt(r.errors,"root"),Ir(r.errors)){p.state.next({errors:{}});try{await $(ee,F)}catch(G){ie=G}}else D&&await D({...r.errors},F),Wt(),setTimeout(Wt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Ir(r.errors)&&!ie,submitCount:r.submitCount+1,errors:r.errors}),ie)throw ie},Pr=($,D={})=>{se(n,$)&&(Ot(D.defaultValue)?K($,Vt(se(i,$))):(K($,D.defaultValue),rt(i,$,Vt(D.defaultValue))),D.keepTouched||kt(r.touchedFields,$),D.keepDirty||(kt(r.dirtyFields,$),r.isDirty=D.defaultValue?N($,Vt(se(i,$))):N()),D.keepError||(kt(r.errors,$),h.isValid&&b()),p.state.next({...r}))},tt=($,D={})=>{const F=$?Vt($):i,ie=Vt(F),ee=Ir($),G=ee?i:ie;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const ue=new Set([...o.mount,...Object.keys(il(i,s))]);for(const Re of Array.from(ue))se(r.dirtyFields,Re)?rt(G,Re,se(s,Re)):K(Re,se(G,Re))}else{if(qC&&Ot($))for(const ue of o.mount){const Re=se(n,ue);if(Re&&Re._f){const Me=Array.isArray(Re._f.refs)?Re._f.refs[0]:Re._f.ref;if(ip(Me)){const Tt=Me.closest("form");if(Tt){Tt.reset();break}}}}if(D.keepFieldsRef)for(const ue of o.mount)K(ue,se(G,ue));else n={}}s=e.shouldUnregister?D.keepDefaultValues?Vt(i):{}:Vt(G),p.array.next({values:{...G}}),p.state.next({values:{...G}})}o={mount:D.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Ir(G),a.watch=!!e.shouldUnregister,a.keepIsValid=!!D.keepIsValid,a.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:ee?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Zn($,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:ee?{}:D.keepDirtyValues?D.keepDefaultValues&&s?il(i,s):r.dirtyFields:D.keepDefaultValues&&$?il(i,$):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Cr=($,D)=>tt(Dr($)?$(s):$,{...e.resetOptions,...D}),Xe=($,D={})=>{const F=se(n,$),ie=F&&F._f;if(ie){const ee=ie.refs?ie.refs[0]:ie.ref;ee.focus&&setTimeout(()=>{ee.focus(),D.shouldSelect&&Dr(ee.select)&&ee.select()})}},Jt=$=>{r={...r,...$}},on={control:{register:Qe,unregister:Ce,getFieldState:J,handleSubmit:ot,setError:me,_subscribe:be,_runSchema:S,_updateIsValidating:g,_focusError:Wt,_getWatch:T,_getDirty:N,_setValid:b,_setFieldArray:v,_setDisabledField:pt,_setErrors:w,_getFieldArray:q,_reset:tt,_resetDefaultValues:()=>Dr(e.defaultValues)&&e.defaultValues().then($=>{Cr($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:ur,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:Ee,trigger:U,register:Qe,handleSubmit:ot,watch:qe,setValue:K,getValues:W,reset:Cr,resetField:Pr,clearErrors:he,unregister:Ce,setError:me,setFocus:Xe,getFieldState:J};return{...on,formControl:on}}function Su(t={}){const e=Se.useRef(void 0),r=Se.useRef(void 0),[n,i]=Se.useState({isDirty:!1,isValidating:!1,isLoading:Dr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Dr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Dr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=lie(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,LC(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Se.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Se.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Se.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Se.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Se.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Se.useEffect(()=>{var a;t.values&&!Zn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Se.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=B9(n,s),e.current}function xR(){var y;const{id:t}=ds(),e=rn(),r=!!t,{data:n,isLoading:i}=_u(t),s=xne(),a=Ad(),{data:o=[]}=ct({queryKey:["date-types"],queryFn:async()=>(await Fe.getDateTypes()).data}),l=o.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Su({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});k.useEffect(()=>{var b,g,v,x,w,_,E,O;if(n){const S=(g=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:g.find(C=>C.contact_type==="email"),P=(S==null?void 0:S.contact_value)||"";h({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:P,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),gn(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||null,how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await a.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Yt.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Fe.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(ce,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"First Name *"}),c.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Last Name"}),c.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nickname"}),c.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Gender"}),c.jsxs("select",{...u("gender"),className:"input",children:[c.jsx("option",{value:"",children:"Select gender..."}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"non_binary",children:"Non-binary"}),c.jsx("option",{value:"other",children:"Other"}),c.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Birthday"}),c.jsx("input",{type:"date",...u("birthday"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"How We Met"}),c.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ce,{to:"/people",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(oa,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function uie({value:t,onChange:e,companies:r,isLoading:n}){return c.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[c.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return c.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function _R(){var v,x;const{personId:t,index:e}=ds(),r=rn();Qt();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=_u(t),o=Ad(),{data:l=[],isLoading:u}=ct({queryKey:["companies","all"],queryFn:async()=>(await Fe.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=Su({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});k.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),gn(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async w=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],O={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?E[n]=O:E.push(O);const S=ka(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),c.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company"}),c.jsx(np,{name:"company",control:m,render:({field:w})=>c.jsx(uie,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Job Title"}),c.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Description"}),c.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Start Date"}),c.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"End Date"}),c.jsx("input",{type:"date",...d("end_date"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(oa,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const cie=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function SR(){var y,b;const{personId:t,index:e}=ds(),r=rn(),n=Qt(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=_u(t),l=Ad(),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Su({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});k.useEffect(()=>{var g;if(a&&s){const x=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];x&&h({contact_type:x.contact_type||"",contact_label:x.contact_label||"",contact_value:x.contact_value||""})}},[a,i,s,h]),gn(s?`Edit Contact Detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"Person"}`:`Add Contact Detail - ${((b=a==null?void 0:a.title)==null?void 0:b.rendered)||(a==null?void 0:a.title)||"Person"}`);const m=async g=>{var v,x,w,_;try{const E=[...((v=a.acf)==null?void 0:v.contact_info)||[]],O={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?E[i]=O:E.push(O);const S=ka(a.acf,{contact_info:E});if(await l.mutateAsync({id:t,data:{acf:S}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(w=(x=a._embedded)==null?void 0:x["wp:featuredmedia"])==null?void 0:w[0])==null?void 0:_.source_url)||a.thumbnail))try{await Yt.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(C){console.log("No Gravatar found or failed to load:",C)}r(`/people/${t}`)}catch(E){console.error("Failed to save contact detail:",E)}};return o?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit Contact Detail":"Add Contact Detail"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Contact Type *"}),c.jsxs("select",{...u("contact_type",{required:"Please select a contact type"}),className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),cie.map(g=>c.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...u("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Value *"}),c.jsx("input",{...u("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(oa,{className:"w-4 h-4 mr-2"}),s?"Save Changes":"Add Contact Detail"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function die({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=k.useState(""),[o,l]=k.useState(!1),u=k.useRef(null),d=k.useRef(null),h=k.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return w<_?-1:w>_?1:0}),[r,i]),f=k.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=Ja(v).toLowerCase(),w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||w.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=k.useMemo(()=>h.find(g=>g.id===t),[h,t]);k.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?Ja(p):"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:p&&!o?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[c.jsx("span",{children:b}),c.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(la,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:u,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&c.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>c.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:Ja(g)},g.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function ER(){var x,w;const{personId:t,index:e}=ds(),r=rn(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=_u(t),o=Ad(),{data:l=[],isLoading:u}=Vp(),{data:d=[],isLoading:h}=ct({queryKey:["relationship-types"],queryFn:async()=>(await Fe.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:y,formState:{errors:b,isSubmitting:g}}=Su({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});k.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),gn(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E;try{const O=[...((E=s.acf)==null?void 0:E.relationships)||[]],S={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?O[n]=S:O.push(S);const P=ka(s.acf,{relationships:O});await o.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),c.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related Person *"}),c.jsx(np,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>c.jsx(die,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Relationship Type"}),c.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[c.jsx("option",{value:"",children:"Select a type..."}),d.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Custom Label"}),c.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(oa,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function hie({company:t}){var e,r,n,i,s;return c.jsx(ce,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?c.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Hi(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):c.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:c.jsx(as,{className:"w-6 h-6 text-gray-400"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Hi(t)}),((i=t.acf)==null?void 0:i.industry)&&c.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&c.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function fie(){const[t,e]=k.useState(""),{data:r,isLoading:n,error:i}=ct({queryKey:["companies",t],queryFn:async()=>(await Fe.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=k.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),u=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(_9,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),c.jsxs(ce,{to:"/companies/new",className:"btn-primary",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),n&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(as,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&c.jsxs(ce,{to:"/companies/new",className:"btn-primary",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>c.jsx(hie,{company:a},a.id))})]})}function pie(){var d,h,f,p,m,y;const{id:t}=ds(),e=rn(),r=Qt(),{data:n,isLoading:i,error:s}=ct({queryKey:["company",t],queryFn:async()=>(await Fe.getCompany(t,{_embed:!0})).data}),{data:a}=ct({queryKey:["company-people",t],queryFn:async()=>(await Yt.getCompanyPeople(t)).data}),o=Ct({mutationFn:()=>Fe.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});gn(Hi(n)||"Company"),k.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this company?"))try{await o.mutateAsync()}catch(b){console.error("Failed to delete company:",b),alert("Failed to delete company. Please try again.")}};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load company."}),c.jsx(ce,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});if(n.status==="trash")return null;const u=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(ce,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(ce,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[c.jsx(P9,{className:"w-4 h-4 mr-2"}),"Edit"]}),c.jsxs("button",{onClick:l,className:"btn-danger",children:[c.jsx(Ss,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?c.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Hi(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):c.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:c.jsx(as,{className:"w-12 h-12 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:Hi(n)}),u.industry&&c.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&c.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[c.jsx(b9,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(go,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?c.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return c.jsxs(ce,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(go,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?c.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return c.jsxs(ce,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=u.contact_info)==null?void 0:y.length)>0&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),c.jsx("div",{className:"space-y-3",children:u.contact_info.map((b,g)=>c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),c.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function OR(){var v,x,w,_,E,O;const{id:t}=ds(),e=rn(),r=Qt(),n=!!t,{data:i,isLoading:s}=ct({queryKey:["company",t],queryFn:async()=>(await Fe.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=k.useState(!1),l=k.useRef(null),u=Ct({mutationFn:S=>Fe.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Ct({mutationFn:S=>Fe.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const P=(C=S.target.files)==null?void 0:C[0];if(P){if(!P.type.startsWith("image/")){alert("Please select an image file");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Yt.uploadCompanyLogo(t,P),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=Su();k.useEffect(()=>{var S,P,C;i&&m({title:ei(((S=i.title)==null?void 0:S.rendered)||""),website:((P=i.acf)==null?void 0:P.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),gn(n&&i?`Edit ${Hi(i)||"Company"}`:"New Company");const g=async S=>{const P={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(P):u.mutate(P)};return n&&s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(ce,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),c.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Logo"}),c.jsxs("div",{className:"flex items-center gap-4",children:[(w=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&w.source_url?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Hi(i)||"Company logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(yf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(yf,{className:"w-8 h-8 text-gray-400"})}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(yf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),c.jsxs("div",{children:[c.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company Name *"}),c.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Website"}),c.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Industry"}),c.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ce,{to:"/companies",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[c.jsx(oa,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function mie({person:t,dateType:e}){var r;return c.jsx("div",{className:"flex items-center gap-3 py-2",children:c.jsxs(ce,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),c.jsx("span",{className:"font-medium truncate",children:t.name}),c.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function vie({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),c.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:c.jsx("span",{className:"text-2xl font-bold leading-none",children:gi(new Date(e.next_occurrence),"d")})}),c.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>c.jsx(mie,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function gie(){const{data:t,isLoading:e,error:r}=ire(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=gi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=gi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),c.jsxs(ce,{to:"/dates/new",className:"btn-primary",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),e&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx(mo,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),c.jsxs(ce,{to:"/dates/new",className:"btn-primary",children:[c.jsx(Sr,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),Object.entries(i).map(([s,a])=>c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),c.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>c.jsx(vie,{dates:o},o[0].next_occurrence))})]},s))]})}function yie({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=k.useState(""),a=k.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>Ja(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=k.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},u=d=>{e(t.filter(h=>h!==d))};return c.jsxs("div",{className:"space-y-2",children:[o.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[Ja(d),c.jsx("button",{type:"button",onClick:()=>u(d.id),className:"hover:text-primary-600",children:c.jsx(la,{className:"w-3 h-3"})})]},d.id))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>c.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:Ja(d)},d.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function PR(){var V;const{id:t}=ds(),[e]=PZ(),r=rn(),n=Qt(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=ct({queryKey:["important-date",t],queryFn:async()=>(await Fe.getDate(t)).data,enabled:i}),u=k.useMemo(()=>{var W;if(!((W=o==null?void 0:o.acf)!=null&&W.related_people))return[];const U=o.acf.related_people;return Array.isArray(U)?U.map(J=>parseInt(typeof J=="object"&&J!==null?J.ID||J.id||J.post_id:J,10)).filter(J=>!isNaN(J)&&J>0):[]},[o]),{data:d=[],isLoading:h}=Vp({orderby:"title",order:"asc"}),{data:f=[]}=ct({queryKey:["people","specific",u],queryFn:async()=>{const U=u.map(J=>Fe.getPerson(J,{_embed:!0}).then(he=>he.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:u.length>0}),p=k.useMemo(()=>{const U=new Map;return d.forEach(W=>U.set(W.id,W)),f.forEach(W=>{var he,me,qe,be,Ee,Ce,pt,Qe,Wt,ur,ot,Pr,tt,Cr,Xe,Jt;const J={...W,id:W.id,name:Ja(W),first_name:((he=W.acf)==null?void 0:he.first_name)||"",last_name:((me=W.acf)==null?void 0:me.last_name)||"",is_favorite:((qe=W.acf)==null?void 0:qe.is_favorite)||!1,thumbnail:((Ce=(Ee=(be=W._embedded)==null?void 0:be["wp:featuredmedia"])==null?void 0:Ee[0])==null?void 0:Ce.source_url)||((Pr=(ot=(ur=(Wt=(Qe=(pt=W._embedded)==null?void 0:pt["wp:featuredmedia"])==null?void 0:Qe[0])==null?void 0:Wt.media_details)==null?void 0:ur.sizes)==null?void 0:ot.thumbnail)==null?void 0:Pr.source_url)||null,labels:((Jt=(Xe=(Cr=(tt=W._embedded)==null?void 0:tt["wp:term"])==null?void 0:Cr.flat())==null?void 0:Xe.filter(xn=>(xn==null?void 0:xn.taxonomy)==="person_label"))==null?void 0:Jt.map(xn=>xn.name))||[]};U.set(J.id,J)}),Array.from(U.values())},[d,f]),{data:m=[]}=ct({queryKey:["date-types"],queryFn:async()=>((await Fe.getDateTypes()).data||[]).sort((J,he)=>{const me=J.name||"",qe=he.name||"";return me.localeCompare(qe)})}),y=Ct({mutationFn:U=>Fe.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=Ct({mutationFn:U=>Fe.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=w("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=Su({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),P=w("related_people"),C=w("date_type"),I=w("title");k.useEffect(()=>{var J;if((!I||["'s Birthday","Wedding of "].some(he=>I.endsWith(he)||I.startsWith(he)))&&(P==null?void 0:P.length)>0&&C){const he=m.find(Ee=>Ee.id===parseInt(C)),me=(he==null?void 0:he.name)||"",qe=((J=he==null?void 0:he.slug)==null?void 0:J.toLowerCase())||me.toLowerCase(),be=P.map(Ee=>{var pt,Qe,Wt;const Ce=p.find(ur=>ur.id===Ee);return Ce?ei(((pt=Ce.acf)==null?void 0:pt.first_name)||((Wt=(Qe=Ce.title)==null?void 0:Qe.rendered)==null?void 0:Wt.split(" ")[0])||""):null}).filter(Boolean);if(be.length>0&&me){let Ee;qe==="wedding"?be.length>=2?Ee=`Wedding of ${be[0]} & ${be[1]}`:Ee=`Wedding of ${be[0]}`:Ee=`${be[0]}'s ${me}`,_("title",Ee)}}},[P,C,p,m,_,I]);const[N,T]=k.useState(!1);k.useEffect(()=>{var W,J,he,me,qe,be;if(N&&!i)return;const U=u.length===0||f.length>0;if(o&&p.length>0&&U){let Ee=[];const Ce=(W=o.acf)==null?void 0:W.related_people;Ce&&(Array.isArray(Ce)?Ee=Ce.map(Qe=>parseInt(typeof Qe=="object"&&Qe!==null?Qe.ID||Qe.id||Qe.post_id:Qe,10)).filter(Qe=>!isNaN(Qe)&&Qe>0):typeof Ce=="number"&&(Ee=[Ce]));let pt="";((J=o.date_type)==null?void 0:J.length)>0&&(pt=o.date_type[0].toString()),x({title:ei(((he=o.title)==null?void 0:he.rendered)||""),date_value:((me=o.acf)==null?void 0:me.date_value)||"",date_type:pt,related_people:Ee,is_recurring:((qe=o.acf)==null?void 0:qe.is_recurring)??!0,reminder_days_before:((be=o.acf)==null?void 0:be.reminder_days_before)||7}),T(!0)}else if(!i&&p.length>0&&m.length>0){const Ee={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(Ee.related_people=[parseInt(s)]),a){const Ce=m.find(pt=>pt.slug===a||pt.name.toLowerCase()===a.toLowerCase());Ce&&(Ee.date_type=Ce.id.toString())}x(Ee),T(!0)}},[o,x,i,s,a,m,p,u,f,N]),gn(i&&o?`Edit ${((V=o.title)==null?void 0:V.rendered)||o.title||"Date"}`:"New Date");const q=async U=>{const W={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring,reminder_days_before:parseInt(U.reminder_days_before,10)}};i?b.mutate(W):y.mutate(W)};if(i&&l)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const z=w("related_people"),Z=i&&(z==null?void 0:z.length)>0?z[0]:s,K=Z?`/people/${Z}`:"/dates",L=Z?"Back to Person":"Back to Dates";return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(ce,{to:K,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:L})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),c.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related People"}),c.jsx(np,{name:"related_people",control:E,render:({field:U})=>c.jsx(yie,{value:U.value,onChange:U.onChange,people:p,isLoading:h})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date Type *"}),c.jsx(np,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const W=U.value?String(U.value):"";return c.jsxs("select",{value:W,onChange:J=>{const he=J.target.value;U.onChange(he)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),m.map(J=>c.jsx("option",{value:String(J.id),children:J.name},J.id))]})}}),O.date_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date *"}),c.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Remind me"}),c.jsxs("select",{...g("reminder_days_before"),className:"input",children:[c.jsx("option",{value:"0",children:"On the day"}),c.jsx("option",{value:"1",children:"1 day before"}),c.jsx("option",{value:"3",children:"3 days before"}),c.jsx("option",{value:"7",children:"1 week before"}),c.jsx("option",{value:"14",children:"2 weeks before"}),c.jsx("option",{value:"30",children:"1 month before"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(ce,{to:K,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[c.jsx(oa,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function bie(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=k.useState(""),[i,s]=k.useState(""),[a,o]=k.useState(!0),[l,u]=k.useState(!1),[d,h]=k.useState(!1);k.useEffect(()=>{(async()=>{try{const y=await ve.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{o(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(m){console.error("Failed to copy:",m)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const m=await ve.post("/prm/v1/user/regenerate-ical-token");n(m.data.url),s(m.data.webcal_url)}catch(m){console.error("Failed to regenerate token:",m)}finally{h(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),c.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:m=>m.target.select()}),c.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("a",{href:i,className:"btn-primary",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),c.jsx("button",{onClick:p,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(ce,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Import Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),c.jsxs(ce,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Export Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),e&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs(ce,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Relationship Types"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),c.jsxs(ce,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"User Approval"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[su," v",t.version||"1.0.0",c.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function CR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=k.useState(""),[a,o]=k.useState(!1),l=k.useRef(null),u=k.useRef(null),d=k.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=k.useMemo(()=>{if(!i)return d.slice(0,10);const b=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[d,i]),f=k.useMemo(()=>d.find(b=>b.id===parseInt(t,10)),[d,t]);k.useEffect(()=>{const b=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:f&&!a?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[c.jsx("span",{children:y}),c.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(la,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&c.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:c.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>c.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function wie(){gn("Relationship Types - Settings");const t=Qt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(E9,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),c.jsx(ce,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ct({queryKey:["relationship-types"],queryFn:async()=>(await Fe.getRelationshipTypes()).data}),[s,a]=k.useState(null),[o,l]=k.useState(""),[u,d]=k.useState(""),[h,f]=k.useState(""),[p,m]=k.useState(""),[y,b]=k.useState(!1),g=Ct({mutationFn:async({id:I,name:N,inverseId:T})=>{const q={name:N};return T&&(q.acf={inverse_relationship_type:parseInt(T,10)}),Fe.updateRelationshipType(I,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Ct({mutationFn:async({name:I,inverseId:N})=>{const T={name:I};return N&&(T.acf={inverse_relationship_type:parseInt(N,10)}),Fe.createRelationshipType(T)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=Ct({mutationFn:I=>Fe.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=Ct({mutationFn:()=>Fe.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return c.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):c.jsx(x9,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=I=>{var T;a(I.id),l(I.name);const N=(T=I.acf)==null?void 0:T.inverse_relationship_type;d(N?N.toString():"")},O=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:u||null})},P=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(I,N)=>{window.confirm(`Are you sure you want to delete "${N}"? This cannot be undone.`)&&x.mutate(I)};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),c.jsx("div",{className:"flex gap-2",children:!y&&c.jsxs(c.Fragment,{children:[c.jsx(_,{}),c.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[c.jsx(Sr,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(CR,{value:p,onChange:m,relationshipTypes:n}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:P,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(oa,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),c.jsx("div",{className:"space-y-2",children:n.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var Z,K;const N=s===I.id,T=(Z=I.acf)==null?void 0:Z.inverse_relationship_type,q=typeof T=="object"&&(T!=null&&T.ID)?T.ID:typeof T=="object"&&(T!=null&&T.id)?T.id:T,z=q?n.find(L=>L.id===q):null;return c.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:N?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(CR,{value:u,onChange:d,relationshipTypes:n,currentTypeId:I.id}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(oa,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[c.jsx(la,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:I.name}),z&&c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",c.jsx("span",{className:"font-medium",children:z.name})]}),!z&&((K=I.acf)==null?void 0:K.inverse_relationship_type)===null&&c.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>E(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:c.jsx(Yte,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>C(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(Ss,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function xie(){var g,v,x;const[t,e]=k.useState(null),[r,n]=k.useState(""),[i,s]=k.useState(!1),[a,o]=k.useState(null),l=Qt(),u=Ct({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await ve.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{o(w)},onError:w=>{var _,E;o({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Ct({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await ve.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=k.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=k.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(w),o(null),d.reset(),u.mutate(w)},y=()=>{if(!r.trim()){o(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),u.reset(),d.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(nu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),c.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((w,_)=>c.jsx("li",{children:w},_))})]})]}),c.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(vo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Up,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(iu,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&c.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(nu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[c.jsxs("p",{children:["Export format: ",a.version]}),c.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),c.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),c.jsxs("p",{children:["Notes: ",a.summary.notes]}),c.jsxs("p",{children:["Dates: ",a.summary.reminders]}),c.jsxs("p",{children:["Photos: ",a.summary.photos]}),c.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(po,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(Ute,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&c.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),c.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(vo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(iu,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(po,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=d.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function _ie(){var y,b,g;const[t,e]=k.useState(null),[r,n]=k.useState(!1),[i,s]=k.useState(null),a=Qt(),o=Ct({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ve.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=Ct({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await ve.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=k.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=k.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(nu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>c.jsx("li",{children:v},x))})]})]}),c.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:d,children:[c.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(vo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Up,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(iu,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(nu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(go,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(as,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(y9,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(w9,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(C9,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(po,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx(vo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(iu,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(po,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Sie(){var w,_,E;const[t,e]=k.useState(null),[r,n]=k.useState(!1),[i,s]=k.useState(null),[a,o]=k.useState({}),l=Qt(),u=Ct({mutationFn:async O=>{const S=new FormData;return S.append("file",O),(await ve.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:O=>{var S;if(s(O),((S=O.duplicates)==null?void 0:S.length)>0){const P={};O.duplicates.forEach(C=>{P[C.index]="merge"}),o(P)}},onError:O=>{var S,P;s({valid:!1,error:((P=(S=O.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to validate file"})}}),d=Ct({mutationFn:async({file:O,decisions:S})=>{const P=new FormData;return P.append("file",O),P.append("decisions",JSON.stringify(S)),(await ve.post("/prm/v1/import/google-contacts",P,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=k.useCallback(O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?n(!0):O.type==="dragleave"&&n(!1)},[]),f=k.useCallback(O=>{O.preventDefault(),O.stopPropagation(),n(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&m(O.dataTransfer.files[0])},[]),p=O=>{O.target.files&&O.target.files[0]&&m(O.target.files[0])},m=O=>{if(!O.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(O),s(null),o({}),d.reset(),u.mutate(O)},y=(O,S)=>{o(P=>({...P,[O]:S}))},b=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),u.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],x=v.length>0;return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),c.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[c.jsxs("li",{children:["Go to ",c.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),c.jsx("li",{children:'Click "Export" in the left sidebar'}),c.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(nu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((w=d.data.stats.errors)==null?void 0:w.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((O,S)=>c.jsx("li",{children:O},S))})]})]}),c.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(vo,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(DC,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(iu,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(nu,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(go,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(as,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(y9,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(C9,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(w9,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(po,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&x&&c.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(kte,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),c.jsx("div",{className:"mt-4 space-y-4",children:v.map(O=>c.jsx(Eie,{duplicate:O,decision:a[O.index]||"merge",onDecision:S=>y(O.index,S)},O.index))})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(vo,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(iu,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(po,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function Eie({duplicate:t,decision:e,onDecision:r}){var n,i;return c.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),c.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),c.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?c.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Xte,{className:"h-4 w-4"}),"Update existing"]}),c.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Zte,{className:"h-4 w-4"}),"Create new"]}),c.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(Jte,{className:"h-4 w-4"}),"Skip"]})]})]})}const NR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:Up,component:_ie},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:DC,component:Sie},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Fte,component:xie}];function Oie(){var n;gn("Import - Settings");const[t,e]=k.useState("vcard"),r=(n=NR.find(i=>i.id===t))==null?void 0:n.component;return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:NR.map(i=>{const s=i.icon,a=t===i.id;return c.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),c.jsxs("div",{className:"text-left",children:[c.jsx("span",{className:"block",children:i.name}),c.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&c.jsx(r,{})]})]})}function Pie(){gn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(Up,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),c.jsx(iP,{className:"w-5 h-5 text-gray-400"})]}),c.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(DC,{className:"w-6 h-6 text-primary-600"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),c.jsx(iP,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function Cie(){gn("User Approval - Settings");const t=Qt();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(E9,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),c.jsx(ce,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=ct({queryKey:["users"],queryFn:async()=>(await Yt.getUsers()).data}),s=Ct({mutationFn:h=>Yt.approveUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=Ct({mutationFn:h=>Yt.denyUser(h),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=h=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(h)},l=h=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(h)};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx(vo,{className:"w-8 h-8 animate-spin text-primary-600"})});const u=n.filter(h=>!h.is_approved),d=n.filter(h=>h.is_approved);return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[c.jsx(qn,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),c.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),c.jsxs("div",{className:"space-y-6",children:[u.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),c.jsx("div",{className:"space-y-3",children:u.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"font-medium",children:h.name}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email}),c.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(h.registered).toLocaleDateString()]})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:()=>o(h.id),disabled:s.isPending,className:"btn-primary flex items-center gap-2",children:[c.jsx(HI,{className:"w-4 h-4"}),"Approve"]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(YI,{className:"w-4 h-4"}),"Deny"]})]})]},h.id))})]}),d.length>0&&c.jsxs("div",{children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),c.jsx("div",{className:"space-y-3",children:d.map(h=>c.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsxs("p",{className:"font-medium flex items-center gap-2",children:[h.name,c.jsx(HI,{className:"w-4 h-4 text-green-600"})]}),c.jsx("p",{className:"text-sm text-gray-500",children:h.email})]}),c.jsxs("button",{onClick:()=>l(h.id),disabled:a.isPending,className:"btn-secondary flex items-center gap-2",children:[c.jsx(YI,{className:"w-4 h-4"}),"Revoke Access"]})]},h.id))})]}),n.length===0&&c.jsx("div",{className:"card p-8 text-center",children:c.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var TR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var uv={exports:{}},IR={},dc,RR;function Lt(){if(RR)return dc;RR=1;var t=function(e){return e&&e.Math===Math&&e};return dc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof TR=="object"&&TR)||t(typeof dc=="object"&&dc)||function(){return this}()||Function("return this")(),dc}var cv,jR;function Ke(){return jR||(jR=1,cv=function(t){try{return!!t()}catch{return!0}}),cv}var dv,$R;function Bd(){if($R)return dv;$R=1;var t=Ke();return dv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),dv}var hv,kR;function Kp(){if(kR)return hv;kR=1;var t=Bd(),e=Function.prototype,r=e.apply,n=e.call;return hv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),hv}var fv,DR;function et(){if(DR)return fv;DR=1;var t=Bd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return fv=t?n:function(i){return function(){return r.apply(i,arguments)}},fv}var pv,qR;function hs(){if(qR)return pv;qR=1;var t=et(),e=t({}.toString),r=t("".slice);return pv=function(n){return r(e(n),8,-1)},pv}var mv,MR;function G9(){if(MR)return mv;MR=1;var t=hs(),e=et();return mv=function(r){if(t(r)==="Function")return e(r)},mv}var vv,AR;function nr(){if(AR)return vv;AR=1;var t=typeof document=="object"&&document.all;return vv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},vv}var gv={},yv,FR;function Bt(){if(FR)return yv;FR=1;var t=Ke();return yv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),yv}var bv,LR;function nn(){if(LR)return bv;LR=1;var t=Bd(),e=Function.prototype.call;return bv=t?e.bind(e):function(){return e.apply(e,arguments)},bv}var wv={},BR;function UC(){if(BR)return wv;BR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return wv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,wv}var xv,zR;function zd(){return zR||(zR=1,xv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),xv}var _v,UR;function Gp(){if(UR)return _v;UR=1;var t=et(),e=Ke(),r=hs(),n=Object,i=t("".split);return _v=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,_v}var Sv,WR;function Ud(){return WR||(WR=1,Sv=function(t){return t==null}),Sv}var Ev,VR;function Io(){if(VR)return Ev;VR=1;var t=Ud(),e=TypeError;return Ev=function(r){if(t(r))throw new e("Can't call method on "+r);return r},Ev}var Ov,HR;function Ci(){if(HR)return Ov;HR=1;var t=Gp(),e=Io();return Ov=function(r){return t(e(r))},Ov}var Pv,KR;function Br(){if(KR)return Pv;KR=1;var t=nr();return Pv=function(e){return typeof e=="object"?e!==null:t(e)},Pv}var Cv,GR;function Xt(){return GR||(GR=1,Cv={}),Cv}var Nv,YR;function yn(){if(YR)return Nv;YR=1;var t=Xt(),e=Lt(),r=nr(),n=function(i){return r(i)?i:void 0};return Nv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},Nv}var Tv,QR;function ir(){if(QR)return Tv;QR=1;var t=et();return Tv=t({}.isPrototypeOf),Tv}var Iv,XR;function Eu(){if(XR)return Iv;XR=1;var t=Lt(),e=t.navigator,r=e&&e.userAgent;return Iv=r?String(r):"",Iv}var Rv,JR;function Wd(){if(JR)return Rv;JR=1;var t=Lt(),e=Eu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Rv=o,Rv}var jv,ZR;function Ou(){if(ZR)return jv;ZR=1;var t=Wd(),e=Ke(),r=Lt(),n=r.String;return jv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),jv}var $v,ej;function Y9(){if(ej)return $v;ej=1;var t=Ou();return $v=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",$v}var kv,tj;function Vd(){if(tj)return kv;tj=1;var t=yn(),e=nr(),r=ir(),n=Y9(),i=Object;return kv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},kv}var Dv,rj;function Pu(){if(rj)return Dv;rj=1;var t=String;return Dv=function(e){try{return t(e)}catch{return"Object"}},Dv}var qv,nj;function fs(){if(nj)return qv;nj=1;var t=nr(),e=Pu(),r=TypeError;return qv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},qv}var Mv,ij;function WC(){if(ij)return Mv;ij=1;var t=fs(),e=Ud();return Mv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Mv}var Av,sj;function Nie(){if(sj)return Av;sj=1;var t=nn(),e=nr(),r=Br(),n=TypeError;return Av=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},Av}var Fv={exports:{}},Lv,aj;function Cu(){return aj||(aj=1,Lv=!0),Lv}var Bv,oj;function Tie(){if(oj)return Bv;oj=1;var t=Lt(),e=Object.defineProperty;return Bv=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Bv}var lj;function VC(){if(lj)return Fv.exports;lj=1;var t=Cu(),e=Lt(),r=Tie(),n="__core-js_shared__",i=Fv.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),Fv.exports}var zv,uj;function Nu(){if(uj)return zv;uj=1;var t=VC();return zv=function(e,r){return t[e]||(t[e]=r||{})},zv}var Uv,cj;function oi(){if(cj)return Uv;cj=1;var t=Io(),e=Object;return Uv=function(r){return e(t(r))},Uv}var Wv,dj;function sr(){if(dj)return Wv;dj=1;var t=et(),e=oi(),r=t({}.hasOwnProperty);return Wv=Object.hasOwn||function(i,s){return r(e(i),s)},Wv}var Vv,hj;function Yp(){if(hj)return Vv;hj=1;var t=et(),e=0,r=Math.random(),n=t(1.1.toString);return Vv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Vv}var Hv,fj;function ar(){if(fj)return Hv;fj=1;var t=Lt(),e=Nu(),r=sr(),n=Yp(),i=Ou(),s=Y9(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Hv=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},Hv}var Kv,pj;function Q9(){if(pj)return Kv;pj=1;var t=nn(),e=Br(),r=Vd(),n=WC(),i=Nie(),s=ar(),a=TypeError,o=s("toPrimitive");return Kv=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Kv}var Gv,mj;function HC(){if(mj)return Gv;mj=1;var t=Q9(),e=Vd();return Gv=function(r){var n=t(r,"string");return e(n)?n:n+""},Gv}var Yv,vj;function X9(){if(vj)return Yv;vj=1;var t=Lt(),e=Br(),r=t.document,n=e(r)&&e(r.createElement);return Yv=function(i){return n?r.createElement(i):{}},Yv}var Qv,gj;function J9(){if(gj)return Qv;gj=1;var t=Bt(),e=Ke(),r=X9();return Qv=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Qv}var yj;function Qp(){if(yj)return gv;yj=1;var t=Bt(),e=nn(),r=UC(),n=zd(),i=Ci(),s=HC(),a=sr(),o=J9(),l=Object.getOwnPropertyDescriptor;return gv.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},gv}var Xv,bj;function Iie(){if(bj)return Xv;bj=1;var t=Ke(),e=nr(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Xv=n,Xv}var Jv,wj;function Xp(){if(wj)return Jv;wj=1;var t=G9(),e=fs(),r=Bd(),n=t(t.bind);return Jv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Jv}var Zv={},eg,xj;function Z9(){if(xj)return eg;xj=1;var t=Bt(),e=Ke();return eg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),eg}var tg,_j;function ps(){if(_j)return tg;_j=1;var t=Br(),e=String,r=TypeError;return tg=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},tg}var Sj;function Mn(){if(Sj)return Zv;Sj=1;var t=Bt(),e=J9(),r=Z9(),n=ps(),i=HC(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return Zv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Zv}var rg,Ej;function Tu(){if(Ej)return rg;Ej=1;var t=Bt(),e=Mn(),r=zd();return rg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},rg}var ng,Oj;function Pe(){if(Oj)return ng;Oj=1;var t=Lt(),e=Kp(),r=G9(),n=nr(),i=Qp().f,s=Iie(),a=Xt(),o=Xp(),l=Tu(),u=sr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return ng=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,N;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(N=i(g,O),C=N&&N.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},ng}var Pj;function Rie(){if(Pj)return IR;Pj=1;var t=Pe(),e=Bt(),r=Mn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),IR}var Cj;function jie(){if(Cj)return uv.exports;Cj=1,Rie();var t=Xt(),e=t.Object,r=uv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),uv.exports}var ig,Nj;function eK(){if(Nj)return ig;Nj=1;var t=jie();return ig=t,ig}var sg,Tj;function $ie(){if(Tj)return sg;Tj=1;var t=eK();return sg=t,sg}var ag,Ij;function kie(){if(Ij)return ag;Ij=1;var t=$ie();return ag=t,ag}var og,Rj;function Die(){return Rj||(Rj=1,og=kie()),og}var qie=Die(),Mie=ke(qie),jj={},lg,$j;function Ro(){if($j)return lg;$j=1;var t=hs();return lg=Array.isArray||function(r){return t(r)==="Array"},lg}var ug,kj;function Aie(){if(kj)return ug;kj=1;var t=Math.ceil,e=Math.floor;return ug=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ug}var cg,Dj;function Iu(){if(Dj)return cg;Dj=1;var t=Aie();return cg=function(e){var r=+e;return r!==r||r===0?0:t(r)},cg}var dg,qj;function tK(){if(qj)return dg;qj=1;var t=Iu(),e=Math.min;return dg=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},dg}var hg,Mj;function ma(){if(Mj)return hg;Mj=1;var t=tK();return hg=function(e){return t(e.length)},hg}var fg,Aj;function rK(){if(Aj)return fg;Aj=1;var t=TypeError,e=9007199254740991;return fg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},fg}var pg,Fj;function Jp(){if(Fj)return pg;Fj=1;var t=Bt(),e=Mn(),r=zd();return pg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},pg}var mg,Lj;function KC(){if(Lj)return mg;Lj=1;var t=ar(),e=t("toStringTag"),r={};return r[e]="z",mg=String(r)==="[object z]",mg}var vg,Bj;function va(){if(Bj)return vg;Bj=1;var t=KC(),e=nr(),r=hs(),n=ar(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return vg=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},vg}var gg,zj;function Fie(){if(zj)return gg;zj=1;var t=et(),e=nr(),r=VC(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),gg=r.inspectSource,gg}var yg,Uj;function nK(){if(Uj)return yg;Uj=1;var t=et(),e=Ke(),r=nr(),n=va(),i=yn(),s=Fie(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,yg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,yg}var bg,Wj;function Lie(){if(Wj)return bg;Wj=1;var t=Ro(),e=nK(),r=Br(),n=ar(),i=n("species"),s=Array;return bg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},bg}var wg,Vj;function GC(){if(Vj)return wg;Vj=1;var t=Lie();return wg=function(e,r){return new(t(e))(r===0?0:r)},wg}var xg,Hj;function Hd(){if(Hj)return xg;Hj=1;var t=Ke(),e=ar(),r=Wd(),n=e("species");return xg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},xg}var Kj;function iK(){if(Kj)return jj;Kj=1;var t=Pe(),e=Ke(),r=Ro(),n=Br(),i=oi(),s=ma(),a=rK(),o=Jp(),l=GC(),u=Hd(),d=ar(),h=Wd(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),jj}var Gj={},Yj={},_g,Qj;function ga(){if(Qj)return _g;Qj=1;var t=va(),e=String;return _g=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},_g}var Sg={},Eg,Xj;function YC(){if(Xj)return Eg;Xj=1;var t=Iu(),e=Math.max,r=Math.min;return Eg=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},Eg}var Og,Jj;function Bie(){if(Jj)return Og;Jj=1;var t=Ci(),e=YC(),r=ma(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Og={includes:n(!0),indexOf:n(!1)},Og}var Pg,Zj;function Kd(){return Zj||(Zj=1,Pg={}),Pg}var Cg,e$;function sK(){if(e$)return Cg;e$=1;var t=et(),e=sr(),r=Ci(),n=Bie().indexOf,i=Kd(),s=t([].push);return Cg=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},Cg}var Ng,t$;function QC(){return t$||(t$=1,Ng=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Ng}var Tg,r$;function Zp(){if(r$)return Tg;r$=1;var t=sK(),e=QC();return Tg=Object.keys||function(n){return t(n,e)},Tg}var n$;function XC(){if(n$)return Sg;n$=1;var t=Bt(),e=Z9(),r=Mn(),n=ps(),i=Ci(),s=Zp();return Sg.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},Sg}var Ig,i$;function zie(){if(i$)return Ig;i$=1;var t=yn();return Ig=t("document","documentElement"),Ig}var Rg,s$;function em(){if(s$)return Rg;s$=1;var t=Nu(),e=Yp(),r=t("keys");return Rg=function(n){return r[n]||(r[n]=e(n))},Rg}var jg,a$;function Gd(){if(a$)return jg;a$=1;var t=ps(),e=XC(),r=QC(),n=Kd(),i=zie(),s=X9(),a=em(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,jg=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},jg}var $g={},o$;function tm(){if(o$)return $g;o$=1;var t=sK(),e=QC(),r=e.concat("length","prototype");return $g.f=Object.getOwnPropertyNames||function(i){return t(i,r)},$g}var kg={},Dg,l$;function Ru(){if(l$)return Dg;l$=1;var t=et();return Dg=t([].slice),Dg}var u$;function aK(){if(u$)return kg;u$=1;var t=hs(),e=Ci(),r=tm().f,n=Ru(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return kg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},kg}var qg={},c$;function rm(){return c$||(c$=1,qg.f=Object.getOwnPropertySymbols),qg}var Mg,d$;function Yd(){if(d$)return Mg;d$=1;var t=Tu();return Mg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Mg}var Ag,h$;function JC(){if(h$)return Ag;h$=1;var t=Mn();return Ag=function(e,r,n){return t.f(e,r,n)},Ag}var Fg={},f$;function nm(){if(f$)return Fg;f$=1;var t=ar();return Fg.f=t,Fg}var Lg,p$;function bt(){if(p$)return Lg;p$=1;var t=Xt(),e=sr(),r=nm(),n=Mn().f;return Lg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Lg}var Bg,m$;function oK(){if(m$)return Bg;m$=1;var t=nn(),e=yn(),r=ar(),n=Yd();return Bg=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Bg}var zg,v$;function Uie(){if(v$)return zg;v$=1;var t=KC(),e=va();return zg=t?{}.toString:function(){return"[object "+e(this)+"]"},zg}var Ug,g$;function jo(){if(g$)return Ug;g$=1;var t=KC(),e=Mn().f,r=Tu(),n=sr(),i=Uie(),s=ar(),a=s("toStringTag");return Ug=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Ug}var Wg,y$;function Wie(){if(y$)return Wg;y$=1;var t=Lt(),e=nr(),r=t.WeakMap;return Wg=e(r)&&/native code/.test(String(r)),Wg}var Vg,b$;function Qd(){if(b$)return Vg;b$=1;var t=Wie(),e=Lt(),r=Br(),n=Tu(),i=sr(),s=VC(),a=em(),o=Kd(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Vg={set:h,get:f,has:p,enforce:m,getterFor:y},Vg}var Hg,w$;function ju(){if(w$)return Hg;w$=1;var t=Xp(),e=et(),r=Gp(),n=oi(),i=ma(),s=GC(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,N;E>S;S++)if((y||S in _)&&(I=_[S],N=O(I,S,w),l))if(u)C[S]=N;else if(N)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Hg={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Hg}var x$;function Vie(){if(x$)return Yj;x$=1;var t=Pe(),e=Lt(),r=nn(),n=et(),i=Cu(),s=Bt(),a=Ou(),o=Ke(),l=sr(),u=ir(),d=ps(),h=Ci(),f=HC(),p=ga(),m=zd(),y=Gd(),b=Zp(),g=tm(),v=aK(),x=rm(),w=Qp(),_=Mn(),E=XC(),O=UC(),S=Yd(),P=JC(),C=Nu(),I=em(),N=Kd(),T=Yp(),q=ar(),z=nm(),Z=bt(),K=oK(),L=jo(),V=Qd(),U=ju().forEach,W=I("hidden"),J="Symbol",he="prototype",me=V.set,qe=V.getterFor(J),be=Object[he],Ee=e.Symbol,Ce=Ee&&Ee[he],pt=e.RangeError,Qe=e.TypeError,Wt=e.QObject,ur=w.f,ot=_.f,Pr=v.f,tt=O.f,Cr=n([].push),Xe=C("symbols"),Jt=C("op-symbols"),xn=C("wks"),on=!Wt||!Wt[he]||!Wt[he].findChild,$=function(fe,te,ae){var j=ur(be,te);j&&delete be[te],ot(fe,te,ae),j&&fe!==be&&ot(be,te,j)},D=s&&o(function(){return y(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a!==7})?$:ot,F=function(fe,te){var ae=Xe[fe]=y(Ce);return me(ae,{type:J,tag:fe,description:te}),s||(ae.description=te),ae},ie=function(te,ae,j){te===be&&ie(Jt,ae,j),d(te);var B=f(ae);return d(j),l(Xe,B)?(j.enumerable?(l(te,W)&&te[W][B]&&(te[W][B]=!1),j=y(j,{enumerable:m(0,!1)})):(l(te,W)||ot(te,W,m(1,y(null))),te[W][B]=!0),D(te,B,j)):ot(te,B,j)},ee=function(te,ae){d(te);var j=h(ae),B=b(j).concat(Tt(j));return U(B,function(H){(!s||r(ue,j,H))&&ie(te,H,j[H])}),te},G=function(te,ae){return ae===void 0?y(te):ee(y(te),ae)},ue=function(te){var ae=f(te),j=r(tt,this,ae);return this===be&&l(Xe,ae)&&!l(Jt,ae)?!1:j||!l(this,ae)||!l(Xe,ae)||l(this,W)&&this[W][ae]?j:!0},Re=function(te,ae){var j=h(te),B=f(ae);if(!(j===be&&l(Xe,B)&&!l(Jt,B))){var H=ur(j,B);return H&&l(Xe,B)&&!(l(j,W)&&j[W][B])&&(H.enumerable=!0),H}},Me=function(te){var ae=Pr(h(te)),j=[];return U(ae,function(B){!l(Xe,B)&&!l(N,B)&&Cr(j,B)}),j},Tt=function(fe){var te=fe===be,ae=Pr(te?Jt:h(fe)),j=[];return U(ae,function(B){l(Xe,B)&&(!te||l(be,B))&&Cr(j,Xe[B])}),j};return a||(Ee=function(){if(u(Ce,this))throw new Qe("Symbol is not a constructor");var te=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ae=T(te),j=function(B){var H=this===void 0?e:this;H===be&&r(j,Jt,B),l(H,W)&&l(H[W],ae)&&(H[W][ae]=!1);var we=m(1,B);try{D(H,ae,we)}catch(Te){if(!(Te instanceof pt))throw Te;$(H,ae,we)}};return s&&on&&D(be,ae,{configurable:!0,set:j}),F(ae,te)},Ce=Ee[he],S(Ce,"toString",function(){return qe(this).tag}),S(Ee,"withoutSetter",function(fe){return F(T(fe),fe)}),O.f=ue,_.f=ie,E.f=ee,w.f=Re,g.f=v.f=Me,x.f=Tt,z.f=function(fe){return F(q(fe),fe)},s&&(P(Ce,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(be,"propertyIsEnumerable",ue,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),U(b(xn),function(fe){Z(fe)}),t({target:J,stat:!0,forced:!a},{useSetter:function(){on=!0},useSimple:function(){on=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:G,defineProperty:ie,defineProperties:ee,getOwnPropertyDescriptor:Re}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:Me}),K(),L(Ee,J),N[W]=!0,Yj}var _$={},Kg,S$;function lK(){if(S$)return Kg;S$=1;var t=Ou();return Kg=t&&!!Symbol.for&&!!Symbol.keyFor,Kg}var E$;function Hie(){if(E$)return _$;E$=1;var t=Pe(),e=yn(),r=sr(),n=ga(),i=Nu(),s=lK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),_$}var O$={},P$;function Kie(){if(P$)return O$;P$=1;var t=Pe(),e=sr(),r=Vd(),n=Pu(),i=Nu(),s=lK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),O$}var C$={},Gg,N$;function Gie(){if(N$)return Gg;N$=1;var t=et(),e=Ro(),r=nr(),n=hs(),i=ga(),s=t([].push);return Gg=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Gg}var T$;function uK(){if(T$)return C$;T$=1;var t=Pe(),e=yn(),r=Kp(),n=nn(),i=et(),s=Ke(),a=nr(),o=Vd(),l=Ru(),u=Gie(),d=Ou(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),N=u(C);if(!(!a(N)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(N)&&(q=n(N,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var N=m(I,C-1),T=m(I,C+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,N)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,N){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),C$}var I$={},R$;function Yie(){if(R$)return I$;R$=1;var t=Pe(),e=Ou(),r=Ke(),n=rm(),i=oi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),I$}var j$;function cK(){return j$||(j$=1,Vie(),Hie(),Kie(),uK(),Yie()),Gj}var $$={},k$;function dK(){if(k$)return $$;k$=1;var t=bt();return t("asyncDispose"),$$}var D$={},q$;function Qie(){if(q$)return D$;q$=1;var t=bt();return t("asyncIterator"),D$}var M$={},A$;function hK(){if(A$)return M$;A$=1;var t=bt();return t("dispose"),M$}var F$={},L$;function Xie(){if(L$)return F$;L$=1;var t=bt();return t("hasInstance"),F$}var B$={},z$;function Jie(){if(z$)return B$;z$=1;var t=bt();return t("isConcatSpreadable"),B$}var U$={},W$;function fK(){if(W$)return U$;W$=1;var t=bt();return t("iterator"),U$}var V$={},H$;function Zie(){if(H$)return V$;H$=1;var t=bt();return t("match"),V$}var K$={},G$;function ese(){if(G$)return K$;G$=1;var t=bt();return t("matchAll"),K$}var Y$={},Q$;function tse(){if(Q$)return Y$;Q$=1;var t=bt();return t("replace"),Y$}var X$={},J$;function rse(){if(J$)return X$;J$=1;var t=bt();return t("search"),X$}var Z$={},ek;function nse(){if(ek)return Z$;ek=1;var t=bt();return t("species"),Z$}var tk={},rk;function ise(){if(rk)return tk;rk=1;var t=bt();return t("split"),tk}var nk={},ik;function pK(){if(ik)return nk;ik=1;var t=bt(),e=oK();return t("toPrimitive"),e(),nk}var sk={},ak;function sse(){if(ak)return sk;ak=1;var t=yn(),e=bt(),r=jo();return e("toStringTag"),r(t("Symbol"),"Symbol"),sk}var ok={},lk;function ase(){if(lk)return ok;lk=1;var t=bt();return t("unscopables"),ok}var uk={},ck;function ose(){if(ck)return uk;ck=1;var t=Lt(),e=jo();return e(t.JSON,"JSON",!0),uk}var Yg,dk;function lse(){if(dk)return Yg;dk=1,iK(),cK(),dK(),Qie(),hK(),Xie(),Jie(),fK(),Zie(),ese(),tse(),rse(),nse(),ise(),pK(),sse(),ase(),ose();var t=Xt();return Yg=t.Symbol,Yg}var hk={},Qg,fk;function use(){return fk||(fk=1,Qg=function(){}),Qg}var Xg,pk;function $u(){return pk||(pk=1,Xg={}),Xg}var Jg,mk;function cse(){if(mk)return Jg;mk=1;var t=Bt(),e=sr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Jg={EXISTS:i,PROPER:s,CONFIGURABLE:a},Jg}var Zg,vk;function dse(){if(vk)return Zg;vk=1;var t=Ke();return Zg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Zg}var ey,gk;function mK(){if(gk)return ey;gk=1;var t=sr(),e=nr(),r=oi(),n=em(),i=dse(),s=n("IE_PROTO"),a=Object,o=a.prototype;return ey=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},ey}var ty,yk;function vK(){if(yk)return ty;yk=1;var t=Ke(),e=nr(),r=Br(),n=Gd(),i=mK(),s=Yd(),a=ar(),o=Cu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),ty={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},ty}var ry,bk;function hse(){if(bk)return ry;bk=1;var t=vK().IteratorPrototype,e=Gd(),r=zd(),n=jo(),i=$u(),s=function(){return this};return ry=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},ry}var ny,wk;function fse(){if(wk)return ny;wk=1;var t=et(),e=fs();return ny=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ny}var iy,xk;function pse(){if(xk)return iy;xk=1;var t=Br();return iy=function(e){return t(e)||e===null},iy}var sy,_k;function mse(){if(_k)return sy;_k=1;var t=pse(),e=String,r=TypeError;return sy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},sy}var ay,Sk;function vse(){if(Sk)return ay;Sk=1;var t=fse(),e=Br(),r=Io(),n=mse();return ay=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),ay}var oy,Ek;function ZC(){if(Ek)return oy;Ek=1;var t=Pe(),e=nn(),r=Cu(),n=cse(),i=nr(),s=hse(),a=mK(),o=vse(),l=jo(),u=Tu(),d=Yd(),h=ar(),f=$u(),p=vK(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return oy=function(O,S,P,C,I,N,T){s(P,S,C);var q=function(me){if(me===I&&V)return V;if(!g&&me&&me in K)return K[me];switch(me){case x:return function(){return new P(this,me)};case w:return function(){return new P(this,me)};case _:return function(){return new P(this,me)}}return function(){return new P(this)}},z=S+" Iterator",Z=!1,K=O.prototype,L=K[v]||K["@@iterator"]||I&&K[I],V=!g&&L||q(I),U=S==="Array"&&K.entries||L,W,J,he;if(U&&(W=a(U.call(new O)),W!==Object.prototype&&W.next&&(!r&&a(W)!==b&&(o?o(W,b):i(W[v])||d(W,v,E)),l(W,z,!0,!0),r&&(f[z]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(K,"name",w):(Z=!0,V=function(){return e(L,this)})),I)if(J={values:q(w),keys:N?V:q(x),entries:q(_)},T)for(he in J)(g||Z||!(he in K))&&d(K,he,J[he]);else t({target:S,proto:!0,forced:g||Z},J);return(!r||T)&&K[v]!==V&&d(K,v,V,{name:I}),f[S]=V,J},oy}var ly,Ok;function eN(){return Ok||(Ok=1,ly=function(t,e){return{value:t,done:e}}),ly}var uy,Pk;function ya(){if(Pk)return uy;Pk=1;var t=Ci(),e=use(),r=$u(),n=Qd(),i=Mn().f,s=ZC(),a=eN(),o=Cu(),l=Bt(),u="Array Iterator",d=n.set,h=n.getterFor(u);uy=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return uy}var cy,Ck;function gse(){return Ck||(Ck=1,cy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),cy}var Nk;function ba(){if(Nk)return hk;Nk=1,ya();var t=gse(),e=Lt(),r=jo(),n=$u();for(var i in t)r(e[i],i),n[i]=n.Array;return hk}var dy,Tk;function gK(){if(Tk)return dy;Tk=1;var t=lse();return ba(),dy=t,dy}var Ik={},Rk;function yse(){if(Rk)return Ik;Rk=1;var t=ar(),e=Mn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),Ik}var jk={},$k;function bse(){return $k||($k=1,dK()),jk}var kk={},Dk;function wse(){return Dk||(Dk=1,hK()),kk}var qk={},Mk;function xse(){if(Mk)return qk;Mk=1;var t=bt();return t("metadata"),qk}var hy,Ak;function _se(){if(Ak)return hy;Ak=1;var t=gK();return yse(),bse(),wse(),xse(),hy=t,hy}var Fk={},fy,Lk;function yK(){if(Lk)return fy;Lk=1;var t=yn(),e=et(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return fy=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},fy}var Bk;function Sse(){if(Bk)return Fk;Bk=1;var t=Pe(),e=yK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Fk}var zk={},py,Uk;function bK(){if(Uk)return py;Uk=1;for(var t=Nu(),e=yn(),r=et(),n=Vd(),i=ar(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return py=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},py}var Wk;function Ese(){if(Wk)return zk;Wk=1;var t=Pe(),e=bK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),zk}var Vk={},Hk;function Ose(){if(Hk)return Vk;Hk=1;var t=bt();return t("customMatcher"),Vk}var Kk={},Gk;function Pse(){if(Gk)return Kk;Gk=1;var t=bt();return t("observable"),Kk}var Yk={},Qk;function Cse(){if(Qk)return Yk;Qk=1;var t=Pe(),e=yK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Yk}var Xk={},Jk;function Nse(){if(Jk)return Xk;Jk=1;var t=Pe(),e=bK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Xk}var Zk={},eD;function Tse(){if(eD)return Zk;eD=1;var t=bt();return t("matcher"),Zk}var tD={},rD;function Ise(){if(rD)return tD;rD=1;var t=bt();return t("metadataKey"),tD}var nD={},iD;function Rse(){if(iD)return nD;iD=1;var t=bt();return t("patternMatch"),nD}var sD={},aD;function jse(){if(aD)return sD;aD=1;var t=bt();return t("replaceAll"),sD}var my,oD;function $se(){if(oD)return my;oD=1;var t=_se();return Sse(),Ese(),Ose(),Pse(),Cse(),Nse(),Tse(),Ise(),Rse(),jse(),my=t,my}var vy,lD;function kse(){return lD||(lD=1,vy=$se()),vy}var Dse=kse(),Kh=ke(Dse),uD={},gy,cD;function qse(){if(cD)return gy;cD=1;var t=et(),e=Iu(),r=ga(),n=Io(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return gy={codeAt:o(!1),charAt:o(!0)},gy}var dD;function im(){if(dD)return uD;dD=1;var t=qse().charAt,e=ga(),r=Qd(),n=ZC(),i=eN(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),uD}var yy,hD;function Mse(){if(hD)return yy;hD=1,ya(),im(),fK();var t=nm();return yy=t.f("iterator"),yy}var by,fD;function wK(){if(fD)return by;fD=1;var t=Mse();return ba(),by=t,by}var wy,pD;function Ase(){if(pD)return wy;pD=1;var t=wK();return wy=t,wy}var xy,mD;function Fse(){if(mD)return xy;mD=1;var t=Ase();return xy=t,xy}var _y,vD;function Lse(){return vD||(vD=1,_y=Fse()),_y}var Bse=Lse(),zse=ke(Bse);function ud(t){"@babel/helpers - typeof";return ud=typeof Kh=="function"&&typeof zse=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Kh=="function"&&e.constructor===Kh&&e!==Kh.prototype?"symbol":typeof e},ud(t)}var Sy,gD;function Use(){if(gD)return Sy;gD=1,pK();var t=nm();return Sy=t.f("toPrimitive"),Sy}var Ey,yD;function Wse(){if(yD)return Ey;yD=1;var t=Use();return Ey=t,Ey}var Oy,bD;function Vse(){if(bD)return Oy;bD=1;var t=Wse();return Oy=t,Oy}var Py,wD;function Hse(){if(wD)return Py;wD=1;var t=Vse();return Py=t,Py}var Cy,xD;function Kse(){return xD||(xD=1,Cy=Hse()),Cy}var Gse=Kse(),Yse=ke(Gse);function Qse(t,e){if(ud(t)!="object"||!t)return t;var r=t[Yse];if(r!==void 0){var n=r.call(t,e);if(ud(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Xse(t){var e=Qse(t,"string");return ud(e)=="symbol"?e:e+""}function Zs(t,e,r){return(e=Xse(e))in t?Mie(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var _D={},Ny,SD;function Jse(){if(SD)return Ny;SD=1;var t=et(),e=fs(),r=Br(),n=sr(),i=Ru(),s=Bd(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return Ny=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},Ny}var ED;function Zse(){if(ED)return _D;ED=1;var t=Pe(),e=Jse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),_D}var Ty,OD;function sn(){if(OD)return Ty;OD=1;var t=Lt(),e=Xt();return Ty=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Ty}var Iy,PD;function eae(){if(PD)return Iy;PD=1,Zse();var t=sn();return Iy=t("Function","bind"),Iy}var Ry,CD;function tae(){if(CD)return Ry;CD=1;var t=ir(),e=eae(),r=Function.prototype;return Ry=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Ry}var jy,ND;function rae(){if(ND)return jy;ND=1;var t=tae();return jy=t,jy}var $y,TD;function nae(){return TD||(TD=1,$y=rae()),$y}var iae=nae(),xK=ke(iae),ID={},ky,RD;function sae(){if(RD)return ky;RD=1;var t=fs(),e=oi(),r=Gp(),n=ma(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return ky={left:a(!1),right:a(!0)},ky}var Dy,jD;function sm(){if(jD)return Dy;jD=1;var t=Ke();return Dy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Dy}var qy,$D;function _K(){if($D)return qy;$D=1;var t=Lt(),e=Eu(),r=hs(),n=function(i){return e.slice(0,i.length)===i};return qy=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),qy}var My,kD;function aae(){if(kD)return My;kD=1;var t=_K();return My=t==="NODE",My}var DD;function oae(){if(DD)return ID;DD=1;var t=Pe(),e=sae().left,r=sm(),n=Wd(),i=aae(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),ID}var Ay,qD;function lae(){if(qD)return Ay;qD=1,oae();var t=sn();return Ay=t("Array","reduce"),Ay}var Fy,MD;function uae(){if(MD)return Fy;MD=1;var t=ir(),e=lae(),r=Array.prototype;return Fy=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},Fy}var Ly,AD;function cae(){if(AD)return Ly;AD=1;var t=uae();return Ly=t,Ly}var By,FD;function dae(){return FD||(FD=1,By=cae()),By}var hae=dae(),fae=ke(hae),LD={},BD;function pae(){if(BD)return LD;BD=1;var t=Pe(),e=ju().filter,r=Hd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),LD}var zy,zD;function mae(){if(zD)return zy;zD=1,pae();var t=sn();return zy=t("Array","filter"),zy}var Uy,UD;function vae(){if(UD)return Uy;UD=1;var t=ir(),e=mae(),r=Array.prototype;return Uy=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Uy}var Wy,WD;function gae(){if(WD)return Wy;WD=1;var t=vae();return Wy=t,Wy}var Vy,VD;function yae(){return VD||(VD=1,Vy=gae()),Vy}var bae=yae(),gl=ke(bae),HD={},KD;function wae(){if(KD)return HD;KD=1;var t=Pe(),e=ju().map,r=Hd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),HD}var Hy,GD;function xae(){if(GD)return Hy;GD=1,wae();var t=sn();return Hy=t("Array","map"),Hy}var Ky,YD;function _ae(){if(YD)return Ky;YD=1;var t=ir(),e=xae(),r=Array.prototype;return Ky=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Ky}var Gy,QD;function Sae(){if(QD)return Gy;QD=1;var t=_ae();return Gy=t,Gy}var Yy,XD;function Eae(){return XD||(XD=1,Yy=Sae()),Yy}var Oae=Eae(),Qn=ke(Oae),Qy,JD;function Pae(){return JD||(JD=1,Qy=gK()),Qy}var Cae=Pae(),Nae=ke(Cae),ZD={},eq;function Tae(){if(eq)return ZD;eq=1;var t=Pe(),e=Ro(),r=nK(),n=Br(),i=YC(),s=ma(),a=Ci(),o=Jp(),l=ar(),u=Hd(),d=Ru(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),ZD}var Xy,tq;function Iae(){if(tq)return Xy;tq=1,Tae();var t=sn();return Xy=t("Array","slice"),Xy}var Jy,rq;function Rae(){if(rq)return Jy;rq=1;var t=ir(),e=Iae(),r=Array.prototype;return Jy=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Jy}var Zy,nq;function jae(){if(nq)return Zy;nq=1;var t=Rae();return Zy=t,Zy}var eb,iq;function $ae(){return iq||(iq=1,eb=jae()),eb}var kae=$ae(),Dae=ke(kae),sq={},tb,aq;function SK(){if(aq)return tb;aq=1;var t=yn(),e=et(),r=tm(),n=rm(),i=ps(),s=e([].concat);return tb=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},tb}var oq;function qae(){if(oq)return sq;oq=1;var t=Pe(),e=SK();return t({target:"Reflect",stat:!0},{ownKeys:e}),sq}var rb,lq;function Mae(){if(lq)return rb;lq=1,qae();var t=Xt();return rb=t.Reflect.ownKeys,rb}var nb,uq;function Aae(){if(uq)return nb;uq=1;var t=Mae();return nb=t,nb}var ib,cq;function Fae(){return cq||(cq=1,ib=Aae()),ib}var Lae=Fae(),Bae=ke(Lae),dq={},hq;function zae(){if(hq)return dq;hq=1;var t=Pe(),e=Ro();return t({target:"Array",stat:!0},{isArray:e}),dq}var sb,fq;function Uae(){if(fq)return sb;fq=1,zae();var t=Xt();return sb=t.Array.isArray,sb}var ab,pq;function Wae(){if(pq)return ab;pq=1;var t=Uae();return ab=t,ab}var ob,mq;function Vae(){return mq||(mq=1,ob=Wae()),ob}var Hae=Vae(),fi=ke(Hae),vq={},gq;function Kae(){if(gq)return vq;gq=1;var t=Pe(),e=oi(),r=Zp(),n=Ke(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),vq}var lb,yq;function Gae(){if(yq)return lb;yq=1,Kae();var t=Xt();return lb=t.Object.keys,lb}var ub,bq;function Yae(){if(bq)return ub;bq=1;var t=Gae();return ub=t,ub}var cb,wq;function Qae(){return wq||(wq=1,cb=Yae()),cb}var Xae=Qae(),tN=ke(Xae),xq={},db,_q;function Jae(){if(_q)return db;_q=1;var t=ju().forEach,e=sm(),r=e("forEach");return db=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},db}var Sq;function Zae(){if(Sq)return xq;Sq=1;var t=Pe(),e=Jae();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),xq}var hb,Eq;function eoe(){if(Eq)return hb;Eq=1,Zae();var t=sn();return hb=t("Array","forEach"),hb}var fb,Oq;function toe(){if(Oq)return fb;Oq=1;var t=eoe();return fb=t,fb}var pb,Pq;function roe(){if(Pq)return pb;Pq=1;var t=va(),e=sr(),r=ir(),n=toe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return pb=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},pb}var mb,Cq;function noe(){return Cq||(Cq=1,mb=roe()),mb}var ioe=noe(),bo=ke(ioe),Nq={},Tq;function soe(){if(Tq)return Nq;Tq=1;var t=Pe(),e=et(),r=Ro(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),Nq}var vb,Iq;function aoe(){if(Iq)return vb;Iq=1,soe();var t=sn();return vb=t("Array","reverse"),vb}var gb,Rq;function ooe(){if(Rq)return gb;Rq=1;var t=ir(),e=aoe(),r=Array.prototype;return gb=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},gb}var yb,jq;function loe(){if(jq)return yb;jq=1;var t=ooe();return yb=t,yb}var bb,$q;function uoe(){return $q||($q=1,bb=loe()),bb}var coe=uoe(),doe=ke(coe),kq={},wb,Dq;function hoe(){if(Dq)return wb;Dq=1;var t=Bt(),e=Ro(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return wb=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},wb}var xb,qq;function EK(){if(qq)return xb;qq=1;var t=Pu(),e=TypeError;return xb=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},xb}var Mq;function foe(){if(Mq)return kq;Mq=1;var t=Pe(),e=oi(),r=YC(),n=Iu(),i=ma(),s=hoe(),a=rK(),o=GC(),l=Jp(),u=EK(),d=Hd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),kq}var _b,Aq;function poe(){if(Aq)return _b;Aq=1,foe();var t=sn();return _b=t("Array","splice"),_b}var Sb,Fq;function moe(){if(Fq)return Sb;Fq=1;var t=ir(),e=poe(),r=Array.prototype;return Sb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Sb}var Eb,Lq;function voe(){if(Lq)return Eb;Lq=1;var t=moe();return Eb=t,Eb}var Ob,Bq;function goe(){return Bq||(Bq=1,Ob=voe()),Ob}var yoe=goe(),OK=ke(yoe),zq={},Pb,Uq;function boe(){if(Uq)return Pb;Uq=1;var t=Bt(),e=et(),r=nn(),n=Ke(),i=Zp(),s=rm(),a=UC(),o=oi(),l=Gp(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return Pb=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,Pb}var Wq;function woe(){if(Wq)return zq;Wq=1;var t=Pe(),e=boe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),zq}var Cb,Vq;function xoe(){if(Vq)return Cb;Vq=1,woe();var t=Xt();return Cb=t.Object.assign,Cb}var Nb,Hq;function _oe(){if(Hq)return Nb;Hq=1;var t=xoe();return Nb=t,Nb}var Tb,Kq;function Soe(){return Kq||(Kq=1,Tb=_oe()),Tb}var Eoe=Soe(),Ooe=ke(Eoe),Ib,Gq;function Poe(){if(Gq)return Ib;Gq=1,iK();var t=sn();return Ib=t("Array","concat"),Ib}var Rb,Yq;function Coe(){if(Yq)return Rb;Yq=1;var t=ir(),e=Poe(),r=Array.prototype;return Rb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},Rb}var jb,Qq;function Noe(){if(Qq)return jb;Qq=1;var t=Coe();return jb=t,jb}var $b,Xq;function Toe(){return Xq||(Xq=1,$b=Noe()),$b}var Ioe=Toe(),Roe=ke(Ioe),Jq={},Zq;function joe(){if(Zq)return Jq;Zq=1;var t=Pe(),e=Bt(),r=Gd();return t({target:"Object",stat:!0,sham:!e},{create:r}),Jq}var kb,eM;function $oe(){if(eM)return kb;eM=1,joe();var t=Xt(),e=t.Object;return kb=function(n,i){return e.create(n,i)},kb}var Db,tM;function koe(){if(tM)return Db;tM=1;var t=$oe();return Db=t,Db}var qb,rM;function Doe(){return rM||(rM=1,qb=koe()),qb}var qoe=Doe(),Moe=ke(qoe),nM={},Mb,iM;function Aoe(){if(iM)return Mb;iM=1;var t=Iu(),e=ga(),r=Io(),n=RangeError;return Mb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},Mb}var Ab,sM;function Foe(){if(sM)return Ab;sM=1;var t=et(),e=tK(),r=ga(),n=Aoe(),i=Io(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return Ab={start:l(!1),end:l(!0)},Ab}var Fb,aM;function Loe(){if(aM)return Fb;aM=1;var t=et(),e=Ke(),r=Foe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return Fb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,Fb}var oM;function Boe(){if(oM)return nM;oM=1;var t=Pe(),e=nn(),r=oi(),n=Q9(),i=Loe(),s=hs(),a=Ke(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),nM}var Lb,lM;function zoe(){if(lM)return Lb;lM=1,Boe(),uK();var t=Xt(),e=Kp();return t.JSON||(t.JSON={stringify:JSON.stringify}),Lb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Lb}var Bb,uM;function Uoe(){if(uM)return Bb;uM=1;var t=zoe();return Bb=t,Bb}var zb,cM;function Woe(){return cM||(cM=1,zb=Uoe()),zb}var Voe=Woe(),Hoe=ke(Voe),dM={},hM={},Ub,fM;function Koe(){if(fM)return Ub;fM=1;var t=TypeError;return Ub=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Ub}var Wb,pM;function PK(){if(pM)return Wb;pM=1;var t=Lt(),e=Kp(),r=nr(),n=_K(),i=Eu(),s=Ru(),a=Koe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Wb=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},Wb}var mM;function Goe(){if(mM)return hM;mM=1;var t=Pe(),e=Lt(),r=PK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),hM}var vM={},gM;function Yoe(){if(gM)return vM;gM=1;var t=Pe(),e=Lt(),r=PK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),vM}var yM;function Qoe(){return yM||(yM=1,Goe(),Yoe()),dM}var Vb,bM;function Xoe(){if(bM)return Vb;bM=1,Qoe();var t=Xt();return Vb=t.setTimeout,Vb}var Hb,wM;function Joe(){return wM||(wM=1,Hb=Xoe()),Hb}var Zoe=Joe(),ele=ke(Zoe),Kb={exports:{}},xM;function tle(){return xM||(xM=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Kb)),Kb.exports}var rle=tle(),nle=ke(rle);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function ii(){return ii=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},ii.apply(this,arguments)}function An(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Gh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var lP;typeof Object.assign!="function"?lP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:lP=Object.assign;var wo=lP,_M=["","webkit","Moz","MS","ms","o"],ile=typeof document>"u"?{style:{}}:document.createElement("div"),sle="function",yl=Math.round,xo=Math.abs,rN=Date.now;function am(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<_M.length;){if(r=_M[s],n=r?r+i:e,n in t)return n;s++}}var Ki;typeof window>"u"?Ki={}:Ki=window;var CK=am(ile.style,"touchAction"),NK=CK!==void 0;function ale(){if(!NK)return!1;var t={},e=Ki.CSS&&Ki.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Ki.CSS.supports("touch-action",r):!0}),t}var TK="compute",IK="auto",uP="manipulation",Za="none",cd="pan-x",dd="pan-y",Yh=ale(),ole=/mobile|tablet|ip(ad|hone|od)|android/i,RK="ontouchstart"in Ki,lle=am(Ki,"PointerEvent")!==void 0,ule=RK&&ole.test(navigator.userAgent),Xd="touch",cle="pen",nN="mouse",dle="kinect",hle=25,Mr=1,$o=2,Mt=4,en=8,ap=1,Jd=2,Zd=4,eh=8,au=16,Oi=Jd|Zd,eo=eh|au,jK=Oi|eo,$K=["x","y"],op=["clientX","clientY"];function Gi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function om(t,e){return typeof t===sle?t.apply(e&&e[0]||void 0,e):t}function qa(t,e){return t.indexOf(e)>-1}function fle(t){if(qa(t,Za))return Za;var e=qa(t,cd),r=qa(t,dd);return e&&r?Za:e||r?e?cd:dd:qa(t,uP)?uP:IK}var kK=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===TK&&(n=this.compute()),NK&&this.manager.element.style&&Yh[n]&&(this.manager.element.style[CK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Gi(this.manager.recognizers,function(i){om(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),fle(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=qa(a,Za)&&!Yh[Za],l=qa(a,dd)&&!Yh[dd],u=qa(a,cd)&&!Yh[cd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&Oi||u&&s&eo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function iN(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function DK(t){var e=t.length;if(e===1)return{x:yl(t[0].clientX),y:yl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:yl(r/e),y:yl(n/e)}}function SM(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:yl(t.pointers[r].clientX),clientY:yl(t.pointers[r].clientY)},r++;return{timeStamp:rN(),pointers:e,center:DK(e),deltaX:t.deltaX,deltaY:t.deltaY}}function lp(t,e,r){r||(r=$K);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function cP(t,e,r){r||(r=$K);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function qK(t,e){return t===e?ap:xo(t)>=xo(e)?t<0?Jd:Zd:e<0?eh:au}function ple(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Mr||s.eventType===Mt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function MK(t,e,r){return{x:e/t||0,y:r/t||0}}function mle(t,e){return lp(e[0],e[1],op)/lp(t[0],t[1],op)}function vle(t,e){return cP(e[1],e[0],op)+cP(t[1],t[0],op)}function gle(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==en&&(n>hle||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=MK(n,l,u);s=d.x,a=d.y,i=xo(d.x)>xo(d.y)?d.x:d.y,o=qK(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function yle(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=SM(e)),i>1&&!r.firstMultiple?r.firstMultiple=SM(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=DK(n);e.timeStamp=rN(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=cP(o,l),e.distance=lp(o,l),ple(r,e),e.offsetDirection=qK(e.deltaX,e.deltaY);var u=MK(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=xo(u.x)>xo(u.y)?u.x:u.y,e.scale=a?mle(a.pointers,n):1,e.rotation=a?vle(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,gle(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,iN(f,d)&&(d=f),e.target=d}function ble(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Mr&&n-i===0,a=e&(Mt|en)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,yle(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function hd(t){return t.trim().split(/\s+/g)}function $c(t,e,r){Gi(hd(e),function(n){t.addEventListener(n,r,!1)})}function kc(t,e,r){Gi(hd(e),function(n){t.removeEventListener(n,r,!1)})}function EM(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var ku=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){om(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&$c(this.element,this.evEl,this.domHandler),this.evTarget&&$c(this.target,this.evTarget,this.domHandler),this.evWin&&$c(EM(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&kc(this.element,this.evEl,this.domHandler),this.evTarget&&kc(this.target,this.evTarget,this.domHandler),this.evWin&&kc(EM(this.element),this.evWin,this.domHandler)},t}();function _o(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var wle={pointerdown:Mr,pointermove:$o,pointerup:Mt,pointercancel:en,pointerout:en},xle={2:Xd,3:cle,4:nN,5:dle},AK="pointerdown",FK="pointermove pointerup pointercancel";Ki.MSPointerEvent&&!Ki.PointerEvent&&(AK="MSPointerDown",FK="MSPointerMove MSPointerUp MSPointerCancel");var LK=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evEl=AK,i.evWin=FK,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=wle[o],u=xle[i.pointerType]||i.pointerType,d=u===Xd,h=_o(s,i.pointerId,"pointerId");l&Mr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Mt|en)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(ku);function fd(t){return Array.prototype.slice.call(t,0)}function sN(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];_o(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var _le={touchstart:Mr,touchmove:$o,touchend:Mt,touchcancel:en},Sle="touchstart touchmove touchend touchcancel",aN=function(t){An(e,t);function e(){var n;return e.prototype.evTarget=Sle,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=_le[i.type],a=Ele.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Xd,srcEvent:i})},e}(ku);function Ele(t,e){var r=fd(t.touches),n=this.targetIds;if(e&(Mr|$o)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=fd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return iN(u.target,l)}),e===Mr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Mt|en)&&delete n[a[i].identifier],i++;if(o.length)return[sN(s.concat(o),"identifier",!0),o]}var Ole={mousedown:Mr,mousemove:$o,mouseup:Mt},Ple="mousedown",Cle="mousemove mouseup",oN=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evEl=Ple,i.evWin=Cle,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Ole[i.type];s&Mr&&i.button===0&&(this.pressed=!0),s&$o&&i.which!==1&&(s=Mt),this.pressed&&(s&Mt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:nN,srcEvent:i}))},e}(ku),Nle=2500,OM=25;function PM(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Nle)}}function Tle(t,e){t&Mr?(this.primaryTouch=e.changedPointers[0].identifier,PM.call(this,e)):t&(Mt|en)&&PM.call(this,e)}function Ile(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=OM&&a<=OM)return!0}return!1}var BK=function(){var t=function(e){An(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===Xd,h=u.pointerType===nN;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)Tle.call(Gh(Gh(a)),l,u);else if(h&&Ile.call(Gh(Gh(a)),u))return;a.callback(o,l,u)}},a.touch=new aN(a.manager,a.handler),a.mouse=new oN(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(ku);return t}();function Rle(t){var e,r=t.options.inputClass;return r?e=r:lle?e=LK:ule?e=aN:RK?e=BK:e=oN,new e(t,ble)}function bl(t,e,r){return Array.isArray(t)?(Gi(t,r[e],r),!0):!1}var bf=1,jn=2,ou=4,ea=8,Yi=ea,pd=16,wi=32,jle=1;function $le(){return jle++}function Qh(t,e){var r=e.manager;return r?r.get(t):t}function CM(t){return t&pd?"cancel":t&ea?"end":t&ou?"move":t&jn?"start":""}var th=function(){function t(r){r===void 0&&(r={}),this.options=ii({enable:!0},r),this.id=$le(),this.manager=null,this.state=bf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return wo(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(bl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Qh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return bl(n,"dropRecognizeWith",this)?this:(n=Qh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(bl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Qh(n,this),_o(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(bl(n,"dropRequireFailure",this))return this;n=Qh(n,this);var i=_o(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ea&&a(i.options.event+CM(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ea&&a(i.options.event+CM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=wi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(wi|bf)))return!1;n++}return!0},e.recognize=function(n){var i=wo({},n);if(!om(this.options.enable,[this,i])){this.reset(),this.state=wi;return}this.state&(Yi|pd|wi)&&(this.state=bf),this.state=this.process(i),this.state&(jn|ou|ea|pd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),dP=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ii({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[uP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&Mr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Mt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||lp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Yi,s.tryEmit()},a.interval),jn):Yi}return wi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=wi},this.options.interval),wi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Yi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(th),lu=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(jn|ou),l=this.attrTest(i);return o&&(a&en||!l)?s|pd:o||l?a&Mt?s|ea:s&jn?s|ou:jn:wi},e}(th);function zK(t){return t===au?"down":t===eh?"up":t===Jd?"left":t===Zd?"right":""}var lN=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ii({event:"pan",threshold:10,pointers:1,direction:jK},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Oi&&s.push(dd),i&eo&&s.push(cd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Oi?(l=u===0?ap:u<0?Jd:Zd,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?ap:d<0?eh:au,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return lu.prototype.attrTest.call(this,i)&&(this.state&jn||!(this.state&jn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=zK(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(lu),UK=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({event:"swipe",threshold:10,velocity:.3,direction:Oi|eo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return lN.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Oi|eo)?a=i.overallVelocity:s&Oi?a=i.overallVelocityX:s&eo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&xo(a)>this.options.velocity&&i.eventType&Mt},r.emit=function(i){var s=zK(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(lu),WK=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Za]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&jn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(lu),VK=function(t){An(e,t);function e(n){return n===void 0&&(n={}),t.call(this,ii({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Za]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&jn)},e}(lu),HK=function(t){An(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,ii({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[IK]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Mt|en)&&!u)this.reset();else if(i.eventType&Mr)this.reset(),this._timer=setTimeout(function(){s.state=Yi,s.tryEmit()},a.time);else if(i.eventType&Mt)return Yi;return wi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Yi&&(i&&i.eventType&Mt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=rN(),this.manager.emit(this.options.event,this._input)))},e}(th),KK={domEvents:!1,touchAction:TK,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},NM=[[VK,{enable:!1}],[WK,{enable:!1},["rotate"]],[UK,{direction:Oi}],[lN,{direction:Oi},["swipe"]],[dP],[dP,{event:"doubletap",taps:2},["tap"]],[HK]],kle=1,TM=2;function IM(t,e){var r=t.element;if(r.style){var n;Gi(t.options.cssProps,function(i,s){n=am(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Dle(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var RM=function(){function t(r,n){var i=this;this.options=wo({},KK,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Rle(this),this.touchAction=new kK(this,this.options.touchAction),IM(this,!0),Gi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return wo(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?TM:kle},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Yi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==TM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(jn|ou|ea)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof th)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(bl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(bl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=_o(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Gi(hd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Gi(hd(n),function(a){i?s[a]&&s[a].splice(_o(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Dle(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&IM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),qle={touchstart:Mr,touchmove:$o,touchend:Mt,touchcancel:en},Mle="touchstart",Ale="touchstart touchmove touchend touchcancel",Fle=function(t){An(e,t);function e(){var n,i=e.prototype;return i.evTarget=Mle,i.evWin=Ale,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=qle[i.type];if(s===Mr&&(this.started=!0),!!this.started){var a=Lle.call(this,i,s);s&(Mt|en)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Xd,srcEvent:i})}},e}(ku);function Lle(t,e){var r=fd(t.touches),n=fd(t.changedTouches);return e&(Mt|en)&&(r=sN(r.concat(n),"identifier",!0)),[r,n]}function GK(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var YK=GK(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Ble=GK(function(t,e){return YK(t,e,!0)},"merge","Use `assign`.");function zle(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&wo(i,r)}function jM(t,e){return function(){return t.apply(e,arguments)}}var Ule=function(){var t=function(r,n){return n===void 0&&(n={}),new RM(r,ii({recognizers:NM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=jK,t.DIRECTION_DOWN=au,t.DIRECTION_LEFT=Jd,t.DIRECTION_RIGHT=Zd,t.DIRECTION_UP=eh,t.DIRECTION_HORIZONTAL=Oi,t.DIRECTION_VERTICAL=eo,t.DIRECTION_NONE=ap,t.DIRECTION_DOWN=au,t.INPUT_START=Mr,t.INPUT_MOVE=$o,t.INPUT_END=Mt,t.INPUT_CANCEL=en,t.STATE_POSSIBLE=bf,t.STATE_BEGAN=jn,t.STATE_CHANGED=ou,t.STATE_ENDED=ea,t.STATE_RECOGNIZED=Yi,t.STATE_CANCELLED=pd,t.STATE_FAILED=wi,t.Manager=RM,t.Input=ku,t.TouchAction=kK,t.TouchInput=aN,t.MouseInput=oN,t.PointerEventInput=LK,t.TouchMouseInput=BK,t.SingleTouchInput=Fle,t.Recognizer=th,t.AttrRecognizer=lu,t.Tap=dP,t.Pan=lN,t.Swipe=UK,t.Pinch=WK,t.Rotate=VK,t.Press=HK,t.on=$c,t.off=kc,t.each=Gi,t.merge=Ble,t.extend=YK,t.bindFn=jM,t.assign=wo,t.inherit=zle,t.bindFn=jM,t.prefixed=am,t.toArray=fd,t.inArray=_o,t.uniqueArray=sN,t.splitStr=hd,t.boolOrFn=om,t.hasParent=iN,t.addEventListeners=$c,t.removeEventListeners=kc,t.defaults=wo({},KK,{preset:NM}),t}();const QK=Nae("DELETE");function Wle(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return XK({},t,...r)}function XK(){const t=up(...arguments);return ZK(t),t}function up(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return up(XK(e[0],e[1]),...Dae(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of Bae(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===QK?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!fi(n[s])&&!fi(i[s])?n[s]=up(n[s],i[s]):n[s]=JK(i[s]));return n}function JK(t){return fi(t)?Qn(t).call(t,e=>JK(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):up({},t):t}function ZK(t){for(const e of tN(t))t[e]===QK?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&ZK(t[e])}function Vle(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Hle=typeof window<"u"?window.Hammer||Ule:function(){return Vle()};function Ui(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Hle(this._dom.overlay);r.on("tap",xK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];bo(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Kle(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}nle(Ui.prototype);Ui.current=null;Ui.prototype.destroy=function(){this.deactivate();for(const r of doe(t=OK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ui.prototype.activate=function(){Ui.current&&Ui.current.deactivate(),Ui.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ui.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ui.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Kle(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Gb,$M;function Gle(){if($M)return Gb;$M=1,cK();var t=Xt();return Gb=t.Object.getOwnPropertySymbols,Gb}var Yb,kM;function Yle(){if(kM)return Yb;kM=1;var t=Gle();return Yb=t,Yb}var Qb,DM;function Qle(){return DM||(DM=1,Qb=Yle()),Qb}var Xle=Qle(),qM=ke(Xle),Xb={exports:{}},MM={},AM;function Jle(){if(AM)return MM;AM=1;var t=Pe(),e=Ke(),r=Ci(),n=Qp().f,i=Bt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),MM}var FM;function Zle(){if(FM)return Xb.exports;FM=1,Jle();var t=Xt(),e=t.Object,r=Xb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Xb.exports}var Jb,LM;function eue(){if(LM)return Jb;LM=1;var t=Zle();return Jb=t,Jb}var Zb,BM;function tue(){return BM||(BM=1,Zb=eue()),Zb}var rue=tue(),eG=ke(rue),zM={},UM;function nue(){if(UM)return zM;UM=1;var t=Pe(),e=Bt(),r=SK(),n=Ci(),i=Qp(),s=Jp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),zM}var e0,WM;function iue(){if(WM)return e0;WM=1,nue();var t=Xt();return e0=t.Object.getOwnPropertyDescriptors,e0}var t0,VM;function sue(){if(VM)return t0;VM=1;var t=iue();return t0=t,t0}var r0,HM;function aue(){return HM||(HM=1,r0=sue()),r0}var oue=aue(),KM=ke(oue),n0={exports:{}},GM={},YM;function lue(){if(YM)return GM;YM=1;var t=Pe(),e=Bt(),r=XC().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),GM}var QM;function uue(){if(QM)return n0.exports;QM=1,lue();var t=Xt(),e=t.Object,r=n0.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),n0.exports}var i0,XM;function cue(){if(XM)return i0;XM=1;var t=uue();return i0=t,i0}var s0,JM;function due(){return JM||(JM=1,s0=cue()),s0}var hue=due(),fue=ke(hue),a0,ZM;function pue(){return ZM||(ZM=1,a0=eK()),a0}var mue=pue(),vue=ke(mue),eA={},tA={},o0={exports:{}},l0,rA;function gue(){if(rA)return l0;rA=1;var t=Ke();return l0=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),l0}var u0,nA;function yue(){if(nA)return u0;nA=1;var t=Ke(),e=Br(),r=hs(),n=gue(),i=Object.isExtensible,s=t(function(){});return u0=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,u0}var c0,iA;function bue(){if(iA)return c0;iA=1;var t=Ke();return c0=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),c0}var sA;function tG(){if(sA)return o0.exports;sA=1;var t=Pe(),e=et(),r=Kd(),n=Br(),i=sr(),s=Mn().f,a=tm(),o=aK(),l=yue(),u=Yp(),d=bue(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=o0.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,o0.exports}var d0,aA;function wue(){if(aA)return d0;aA=1;var t=ar(),e=$u(),r=t("iterator"),n=Array.prototype;return d0=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},d0}var h0,oA;function rG(){if(oA)return h0;oA=1;var t=va(),e=WC(),r=Ud(),n=$u(),i=ar(),s=i("iterator");return h0=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},h0}var f0,lA;function nG(){if(lA)return f0;lA=1;var t=nn(),e=fs(),r=ps(),n=Pu(),i=rG(),s=TypeError;return f0=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},f0}var p0,uA;function uN(){if(uA)return p0;uA=1;var t=nn(),e=ps(),r=WC();return p0=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},p0}var m0,cA;function cN(){if(cA)return m0;cA=1;var t=Xp(),e=nn(),r=ps(),n=Pu(),i=wue(),s=ma(),a=ir(),o=nG(),l=rG(),u=uN(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return m0=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,N,T=function(z){return E&&u(E,"normal"),new h(!0,z)},q=function(z){return g?(r(z),w?_(z[0],z[1],T):_(z[0],z[1])):w?_(z,T):_(z)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(N=e(I,E)).done;){try{C=q(N.value)}catch(z){u(E,"throw",z)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},m0}var v0,dA;function iG(){if(dA)return v0;dA=1;var t=ir(),e=TypeError;return v0=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},v0}var g0,hA;function sG(){if(hA)return g0;hA=1;var t=Pe(),e=Lt(),r=tG(),n=Ke(),i=Tu(),s=cN(),a=iG(),o=nr(),l=Br(),u=Ud(),d=jo(),h=Mn().f,f=ju().forEach,p=Bt(),m=Qd(),y=m.set,b=m.getterFor;return g0=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=C.prototype,N=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(z,Z){var K=N(this).collection;if(!q&&_&&!l(z))return T==="get"?void 0:!1;var L=K[T](z===0?0:z,Z);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},g0}var y0,fA;function xue(){if(fA)return y0;fA=1;var t=Yd();return y0=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},y0}var b0,pA;function _ue(){if(pA)return b0;pA=1;var t=yn(),e=JC(),r=ar(),n=Bt(),i=r("species");return b0=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},b0}var w0,mA;function aG(){if(mA)return w0;mA=1;var t=Gd(),e=JC(),r=xue(),n=Xp(),i=iG(),s=Ud(),a=cN(),o=ZC(),l=eN(),u=_ue(),d=Bt(),h=tG().fastKey,f=Qd(),p=f.set,m=f.getterFor;return w0={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),N=O(S,P),T,q;return N?N.value=C:(I.last=N={index:q=h(P,!0),key:P,value:C,previous:T=I.last,next:null,removed:!1},I.first||(I.first=N),T&&(T.next=N),d?I.size++:S.size++,q!=="F"&&(I.index[q]=N)),S},O=function(S,P){var C=_(S),I=h(P),N;if(I!=="F")return C.index[I];for(N=C.first;N;N=N.next)if(N.key===P)return N};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var N=I.next,T=I.previous;delete C.index[I.index],I.removed=!0,T&&(T.next=N),N&&(N.previous=T),C.first===I&&(C.first=N),C.last===I&&(C.last=T),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:C.first;)for(I(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},w0}var vA;function Sue(){if(vA)return tA;vA=1;var t=sG(),e=aG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),tA}var gA;function Eue(){return gA||(gA=1,Sue()),eA}var yA={},x0,bA;function oG(){return bA||(bA=1,x0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),x0}var _0,wA;function Oue(){if(wA)return _0;wA=1;var t=yn(),e=oG(),r=t("Map");return _0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},_0}var xA;function Pue(){if(xA)return yA;xA=1;var t=Pe(),e=et(),r=fs(),n=Io(),i=cN(),s=Oue(),a=Cu(),o=Ke(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),yA}var S0,_A;function Cue(){if(_A)return S0;_A=1,ya(),Eue(),Pue(),im();var t=Xt();return S0=t.Map,S0}var E0,SA;function Nue(){if(SA)return E0;SA=1;var t=Cue();return ba(),E0=t,E0}var O0,EA;function Tue(){return EA||(EA=1,O0=Nue()),O0}var Iue=Tue(),lG=ke(Iue),OA={},PA;function Rue(){if(PA)return OA;PA=1;var t=Pe(),e=ju().some,r=sm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),OA}var P0,CA;function jue(){if(CA)return P0;CA=1,Rue();var t=sn();return P0=t("Array","some"),P0}var C0,NA;function $ue(){if(NA)return C0;NA=1;var t=ir(),e=jue(),r=Array.prototype;return C0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},C0}var N0,TA;function kue(){if(TA)return N0;TA=1;var t=$ue();return N0=t,N0}var T0,IA;function Due(){return IA||(IA=1,T0=kue()),T0}var que=Due(),Mue=ke(que),I0,RA;function Aue(){if(RA)return I0;RA=1,ya();var t=sn();return I0=t("Array","keys"),I0}var R0,jA;function Fue(){if(jA)return R0;jA=1;var t=Aue();return R0=t,R0}var j0,$A;function Lue(){if($A)return j0;$A=1,ba();var t=va(),e=sr(),r=ir(),n=Fue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return j0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},j0}var $0,kA;function Bue(){return kA||(kA=1,$0=Lue()),$0}var zue=Bue(),tl=ke(zue),DA={},k0,qA;function Uue(){if(qA)return k0;qA=1;var t=Ru(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return k0=r,k0}var D0,MA;function Wue(){if(MA)return D0;MA=1;var t=Eu(),e=t.match(/firefox\/(\d+)/i);return D0=!!e&&+e[1],D0}var q0,AA;function Vue(){if(AA)return q0;AA=1;var t=Eu();return q0=/MSIE|Trident/.test(t),q0}var M0,FA;function Hue(){if(FA)return M0;FA=1;var t=Eu(),e=t.match(/AppleWebKit\/(\d+)\./);return M0=!!e&&+e[1],M0}var LA;function Kue(){if(LA)return DA;LA=1;var t=Pe(),e=et(),r=fs(),n=oi(),i=ma(),s=EK(),a=ga(),o=Ke(),l=Uue(),u=sm(),d=Wue(),h=Vue(),f=Wd(),p=Hue(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(N,T){return T.v-N.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),N,T;for(T=0;T<I;T++)T in P&&b(C,P[T]);for(l(C,E(S)),N=i(C),T=0;T<N;)P[T]=C[T++];for(;T<I;)s(P,T++);return P}}),DA}var A0,BA;function Gue(){if(BA)return A0;BA=1,Kue();var t=sn();return A0=t("Array","sort"),A0}var F0,zA;function Yue(){if(zA)return F0;zA=1;var t=ir(),e=Gue(),r=Array.prototype;return F0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},F0}var L0,UA;function Que(){if(UA)return L0;UA=1;var t=Yue();return L0=t,L0}var B0,WA;function Xue(){return WA||(WA=1,B0=Que()),B0}var Jue=Xue(),hP=ke(Jue),z0,VA;function Zue(){if(VA)return z0;VA=1,ya();var t=sn();return z0=t("Array","values"),z0}var U0,HA;function ece(){if(HA)return U0;HA=1;var t=Zue();return U0=t,U0}var W0,KA;function tce(){if(KA)return W0;KA=1,ba();var t=va(),e=sr(),r=ir(),n=ece(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return W0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},W0}var V0,GA;function rce(){return GA||(GA=1,V0=tce()),V0}var nce=rce(),YA=ke(nce),H0,QA;function ice(){return QA||(QA=1,H0=wK()),H0}var sce=ice(),wl=ke(sce),K0,XA;function ace(){if(XA)return K0;XA=1,ya();var t=sn();return K0=t("Array","entries"),K0}var G0,JA;function oce(){if(JA)return G0;JA=1;var t=ace();return G0=t,G0}var Y0,ZA;function lce(){if(ZA)return Y0;ZA=1,ba();var t=va(),e=sr(),r=ir(),n=oce(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Y0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},Y0}var Q0,eF;function uce(){return eF||(eF=1,Q0=lce()),Q0}var cce=uce(),dce=ke(cce);const cr=[];for(let t=0;t<256;++t)cr.push((t+256).toString(16).slice(1));function hce(t,e=0){return(cr[t[e+0]]+cr[t[e+1]]+cr[t[e+2]]+cr[t[e+3]]+"-"+cr[t[e+4]]+cr[t[e+5]]+"-"+cr[t[e+6]]+cr[t[e+7]]+"-"+cr[t[e+8]]+cr[t[e+9]]+"-"+cr[t[e+10]]+cr[t[e+11]]+cr[t[e+12]]+cr[t[e+13]]+cr[t[e+14]]+cr[t[e+15]]).toLowerCase()}let X0;const fce=new Uint8Array(16);function pce(){if(!X0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");X0=crypto.getRandomValues.bind(crypto)}return X0(fce)}const mce=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var tF={randomUUID:mce};function vce(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??pce();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,hce(n)}function gce(t,e,r){return tF.randomUUID&&!t?tF.randomUUID():vce(t)}function rF(t){return typeof t=="string"||typeof t=="number"}class dN{constructor(e){Zs(this,"_queue",[]),Zs(this,"_timeout",null),Zs(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new dN(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=ele(()=>{this.flush()},this.delay))}flush(){var e,r;bo(e=OK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class cp{constructor(){Zs(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Zs(this,"subscribe",cp.prototype.on),Zs(this,"unsubscribe",cp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");bo(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=gl(n=this._subscribers[e]).call(n,i=>i!==r)}}var nF={},iF={},sF;function yce(){if(sF)return iF;sF=1;var t=sG(),e=aG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),iF}var aF;function bce(){return aF||(aF=1,yce()),nF}var oF={},J0,lF;function ko(){if(lF)return J0;lF=1;var t=Pu(),e=TypeError;return J0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},J0}var Z0,uF;function Do(){if(uF)return Z0;uF=1;var t=yn(),e=oG(),r=t("Set"),n=r.prototype;return Z0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},Z0}var e1,cF;function qo(){if(cF)return e1;cF=1;var t=nn();return e1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},e1}var t1,dF;function rh(){if(dF)return t1;dF=1;var t=qo();return t1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},t1}var r1,hF;function hN(){if(hF)return r1;hF=1;var t=Do(),e=rh(),r=t.Set,n=t.add;return r1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},r1}var n1,fF;function nh(){return fF||(fF=1,n1=function(t){return t.size}),n1}var i1,pF;function wce(){return pF||(pF=1,i1=function(t){return{iterator:t,next:t.next,done:!1}}),i1}var s1,mF;function Mo(){if(mF)return s1;mF=1;var t=fs(),e=ps(),r=nn(),n=Iu(),i=wce(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},s1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},s1}var a1,vF;function xce(){if(vF)return a1;vF=1;var t=ko(),e=Do(),r=hN(),n=nh(),i=Mo(),s=rh(),a=qo(),o=e.has,l=e.remove;return a1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},a1}var o1,gF;function Ao(){return gF||(gF=1,o1=function(){return!1}),o1}var yF;function _ce(){if(yF)return oF;yF=1;var t=Pe(),e=xce(),r=Ke(),n=Ao(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),oF}var bF={},l1,wF;function Sce(){if(wF)return l1;wF=1;var t=ko(),e=Do(),r=nh(),n=Mo(),i=rh(),s=qo(),a=e.Set,o=e.add,l=e.has;return l1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},l1}var xF;function Ece(){if(xF)return bF;xF=1;var t=Pe(),e=Ke(),r=Sce(),n=Ao(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),bF}var _F={},u1,SF;function Oce(){if(SF)return u1;SF=1;var t=ko(),e=Do().has,r=nh(),n=Mo(),i=rh(),s=qo(),a=uN();return u1=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},u1}var EF;function Pce(){if(EF)return _F;EF=1;var t=Pe(),e=Oce(),r=Ao(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),_F}var OF={},c1,PF;function Cce(){if(PF)return c1;PF=1;var t=ko(),e=nh(),r=rh(),n=Mo();return c1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},c1}var CF;function Nce(){if(CF)return OF;CF=1;var t=Pe(),e=Cce(),r=Ao(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),OF}var NF={},d1,TF;function Tce(){if(TF)return d1;TF=1;var t=ko(),e=Do().has,r=nh(),n=Mo(),i=qo(),s=uN();return d1=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},d1}var IF;function Ice(){if(IF)return NF;IF=1;var t=Pe(),e=Tce(),r=Ao(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),NF}var RF={},h1,jF;function Rce(){if(jF)return h1;jF=1;var t=ko(),e=Do(),r=hN(),n=Mo(),i=qo(),s=e.add,a=e.has,o=e.remove;return h1=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},h1}var f1,$F;function uG(){return $F||($F=1,f1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),f1}var kF;function jce(){if(kF)return RF;kF=1;var t=Pe(),e=Rce(),r=uG(),n=Ao(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),RF}var DF={},p1,qF;function $ce(){if(qF)return p1;qF=1;var t=ko(),e=Do().add,r=hN(),n=Mo(),i=qo();return p1=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},p1}var MF;function kce(){if(MF)return DF;MF=1;var t=Pe(),e=$ce(),r=uG(),n=Ao(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),DF}var m1,AF;function Dce(){if(AF)return m1;AF=1,ya(),bce(),_ce(),Ece(),Pce(),Nce(),Ice(),jce(),kce(),im();var t=Xt();return m1=t.Set,m1}var v1,FF;function qce(){if(FF)return v1;FF=1;var t=Dce();return ba(),v1=t,v1}var g1,LF;function Mce(){return LF||(LF=1,g1=qce()),g1}var Ace=Mce(),y1=ke(Ace),b1,BF;function Fce(){if(BF)return b1;BF=1,ya(),im();var t=nG();return b1=t,b1}var w1,zF;function Lce(){if(zF)return w1;zF=1;var t=Fce();return ba(),w1=t,w1}var x1,UF;function Bce(){if(UF)return x1;UF=1;var t=Lce();return x1=t,x1}var _1,WF;function zce(){if(WF)return _1;WF=1;var t=Bce();return _1=t,_1}var S1,VF;function Uce(){return VF||(VF=1,S1=zce()),S1}var E1,HF;function Wce(){return HF||(HF=1,E1=Uce()),E1}var Vce=Wce(),O1=ke(Vce);class Ma{constructor(e){this._pairs=e}*[wl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Qn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Qn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Moe(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new lG(this._pairs)}toIdSet(){return new y1(this.toIdArray())}toItemSet(){return new y1(this.toItemArray())}cache(){return new Ma([...this._pairs])}distinct(e){const r=new y1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ma({*[wl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ma({*[wl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=O1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=O1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ma({[wl]:()=>{var r;return O1(hP(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function KF(t,e){var r=tN(t);if(qM){var n=qM(t);e&&(n=gl(n).call(n,function(i){return eG(t,i).enumerable})),r.push.apply(r,n)}return r}function GF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?bo(r=KF(Object(i),!0)).call(r,function(s){Zs(t,s,i[s])}):KM?fue(t,KM(i)):bo(n=KF(Object(i))).call(n,function(s){vue(t,s,eG(i,s))})}return t}function Hce(t,e){return t[e]==null&&(t[e]=gce()),t}class uu extends cp{get idProp(){return this._idProp}constructor(e,r){super(),Zs(this,"_queue",null),e&&!fi(e)&&(r=e,e=[]),this._options=r||{},this._data=new lG,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=dN.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(fi(e)){const s=Qn(e).call(e,a=>a[this._idProp]);if(Mue(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=u=>{const d=u[o];if(d!=null&&this._data.has(d)){const h=u,f=Ooe({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(fi(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:a};this._trigger("update",u,r)}return Roe(n).call(n,i)}updateOnly(e,r){var n;fi(e)||(e=[e]);const i=Qn(n=Qn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],u=Wle(a,o);return this._data.set(l,u),{id:l,oldData:a,updatedData:u}});if(i.length){const s={items:Qn(i).call(i,a=>a.id),oldData:Qn(i).call(i,a=>a.oldData),data:Qn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;rF(e)?(n=e,s=r):fi(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&gl(s),l=[];let u,d,h;if(n!=null)u=this._data.get(n),u&&o&&!o(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!o||o(u))&&l.push(u);else{var f;d=[...tl(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!o||o(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&gl(e),i=e&&e.order,s=[...tl(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=this._data.get(u);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&gl(r),i=this._data,s=[...tl(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const u=a[o],d=u[this._idProp];e(u,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&gl(r),i=[],s=this._data,a=[...tl(s).call(s)];for(let o=0,l=a.length;o<l;o++){const u=a[o],d=this._data.get(u);d!=null&&(!n||n(d))&&i.push(e(d,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&fae(n=fi(r)?r:tN(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;hP(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")hP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=fi(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(rF(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...tl(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of YA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of YA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...tl(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Hce(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Hoe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,GF(GF({},n),e)),r}stream(e){if(e){const n=this._data;return new Ma({*[wl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ma({[wl]:xK(r=dce(this._data)).call(r,this._data)})}}}function Kce(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof bo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Qn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function cG(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof bo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Qn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Kce(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var YF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Oe(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var QF={},hc,XF;function ft(){if(XF)return hc;XF=1;var t=function(e){return e&&e.Math===Math&&e};return hc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof YF=="object"&&YF)||t(typeof hc=="object"&&hc)||function(){return this}()||Function("return this")(),hc}var P1,JF;function De(){return JF||(JF=1,P1=function(t){try{return!!t()}catch{return!0}}),P1}var C1,ZF;function ih(){if(ZF)return C1;ZF=1;var t=De();return C1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),C1}var N1,e4;function lm(){if(e4)return N1;e4=1;var t=ih(),e=Function.prototype,r=e.apply,n=e.call;return N1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),N1}var T1,t4;function Le(){if(t4)return T1;t4=1;var t=ih(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return T1=t?n:function(i){return function(){return r.apply(i,arguments)}},T1}var I1,r4;function Ni(){if(r4)return I1;r4=1;var t=Le(),e=t({}.toString),r=t("".slice);return I1=function(n){return r(e(n),8,-1)},I1}var R1,n4;function fN(){if(n4)return R1;n4=1;var t=Ni(),e=Le();return R1=function(r){if(t(r)==="Function")return e(r)},R1}var j1,i4;function or(){if(i4)return j1;i4=1;var t=typeof document=="object"&&document.all;return j1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},j1}var $1={},k1,s4;function $t(){if(s4)return k1;s4=1;var t=De();return k1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),k1}var D1,a4;function an(){if(a4)return D1;a4=1;var t=ih(),e=Function.prototype.call;return D1=t?e.bind(e):function(){return e.apply(e,arguments)},D1}var q1={},o4;function um(){if(o4)return q1;o4=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return q1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,q1}var M1,l4;function sh(){return l4||(l4=1,M1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),M1}var A1,u4;function cm(){if(u4)return A1;u4=1;var t=Le(),e=De(),r=Ni(),n=Object,i=t("".split);return A1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,A1}var F1,c4;function Du(){return c4||(c4=1,F1=function(t){return t==null}),F1}var L1,d4;function ms(){if(d4)return L1;d4=1;var t=Du(),e=TypeError;return L1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},L1}var B1,h4;function li(){if(h4)return B1;h4=1;var t=cm(),e=ms();return B1=function(r){return t(e(r))},B1}var z1,f4;function lr(){if(f4)return z1;f4=1;var t=or();return z1=function(e){return typeof e=="object"?e!==null:t(e)},z1}var U1,p4;function Ge(){return p4||(p4=1,U1={}),U1}var W1,m4;function bn(){if(m4)return W1;m4=1;var t=Ge(),e=ft(),r=or(),n=function(i){return r(i)?i:void 0};return W1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},W1}var V1,v4;function zt(){if(v4)return V1;v4=1;var t=Le();return V1=t({}.isPrototypeOf),V1}var H1,g4;function qu(){if(g4)return H1;g4=1;var t=ft(),e=t.navigator,r=e&&e.userAgent;return H1=r?String(r):"",H1}var K1,y4;function ah(){if(y4)return K1;y4=1;var t=ft(),e=qu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),K1=o,K1}var G1,b4;function Mu(){if(b4)return G1;b4=1;var t=ah(),e=De(),r=ft(),n=r.String;return G1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),G1}var Y1,w4;function dG(){if(w4)return Y1;w4=1;var t=Mu();return Y1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Y1}var Q1,x4;function oh(){if(x4)return Q1;x4=1;var t=bn(),e=or(),r=zt(),n=dG(),i=Object;return Q1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},Q1}var X1,_4;function Au(){if(_4)return X1;_4=1;var t=String;return X1=function(e){try{return t(e)}catch{return"Object"}},X1}var J1,S4;function vs(){if(S4)return J1;S4=1;var t=or(),e=Au(),r=TypeError;return J1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},J1}var Z1,E4;function pN(){if(E4)return Z1;E4=1;var t=vs(),e=Du();return Z1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Z1}var ew,O4;function Gce(){if(O4)return ew;O4=1;var t=an(),e=or(),r=lr(),n=TypeError;return ew=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},ew}var tw={exports:{}},rw,P4;function Fu(){return P4||(P4=1,rw=!0),rw}var nw,C4;function Yce(){if(C4)return nw;C4=1;var t=ft(),e=Object.defineProperty;return nw=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},nw}var N4;function mN(){if(N4)return tw.exports;N4=1;var t=Fu(),e=ft(),r=Yce(),n="__core-js_shared__",i=tw.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),tw.exports}var iw,T4;function Lu(){if(T4)return iw;T4=1;var t=mN();return iw=function(e,r){return t[e]||(t[e]=r||{})},iw}var sw,I4;function wn(){if(I4)return sw;I4=1;var t=ms(),e=Object;return sw=function(r){return e(t(r))},sw}var aw,R4;function gr(){if(R4)return aw;R4=1;var t=Le(),e=wn(),r=t({}.hasOwnProperty);return aw=Object.hasOwn||function(i,s){return r(e(i),s)},aw}var ow,j4;function dm(){if(j4)return ow;j4=1;var t=Le(),e=0,r=Math.random(),n=t(1.1.toString);return ow=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},ow}var lw,$4;function Ut(){if($4)return lw;$4=1;var t=ft(),e=Lu(),r=gr(),n=dm(),i=Mu(),s=dG(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return lw=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},lw}var uw,k4;function hG(){if(k4)return uw;k4=1;var t=an(),e=lr(),r=oh(),n=pN(),i=Gce(),s=Ut(),a=TypeError,o=s("toPrimitive");return uw=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},uw}var cw,D4;function vN(){if(D4)return cw;D4=1;var t=hG(),e=oh();return cw=function(r){var n=t(r,"string");return e(n)?n:n+""},cw}var dw,q4;function fG(){if(q4)return dw;q4=1;var t=ft(),e=lr(),r=t.document,n=e(r)&&e(r.createElement);return dw=function(i){return n?r.createElement(i):{}},dw}var hw,M4;function pG(){if(M4)return hw;M4=1;var t=$t(),e=De(),r=fG();return hw=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),hw}var A4;function hm(){if(A4)return $1;A4=1;var t=$t(),e=an(),r=um(),n=sh(),i=li(),s=vN(),a=gr(),o=pG(),l=Object.getOwnPropertyDescriptor;return $1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},$1}var fw,F4;function Qce(){if(F4)return fw;F4=1;var t=De(),e=or(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return fw=n,fw}var pw,L4;function fm(){if(L4)return pw;L4=1;var t=fN(),e=vs(),r=ih(),n=t(t.bind);return pw=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},pw}var mw={},vw,B4;function mG(){if(B4)return vw;B4=1;var t=$t(),e=De();return vw=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),vw}var gw,z4;function Ti(){if(z4)return gw;z4=1;var t=lr(),e=String,r=TypeError;return gw=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},gw}var U4;function Fn(){if(U4)return mw;U4=1;var t=$t(),e=pG(),r=mG(),n=Ti(),i=vN(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return mw.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},mw}var yw,W4;function Bu(){if(W4)return yw;W4=1;var t=$t(),e=Fn(),r=sh();return yw=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},yw}var bw,V4;function ye(){if(V4)return bw;V4=1;var t=ft(),e=lm(),r=fN(),n=or(),i=hm().f,s=Qce(),a=Ge(),o=fm(),l=Bu(),u=gr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return bw=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,N;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(N=i(g,O),C=N&&N.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},bw}var ww,H4;function Xce(){if(H4)return ww;H4=1;var t=Math.ceil,e=Math.floor;return ww=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},ww}var xw,K4;function zu(){if(K4)return xw;K4=1;var t=Xce();return xw=function(e){var r=+e;return r!==r||r===0?0:t(r)},xw}var _w,G4;function pm(){if(G4)return _w;G4=1;var t=zu(),e=Math.max,r=Math.min;return _w=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},_w}var Sw,Y4;function vG(){if(Y4)return Sw;Y4=1;var t=zu(),e=Math.min;return Sw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Sw}var Ew,Q4;function gs(){if(Q4)return Ew;Q4=1;var t=vG();return Ew=function(e){return t(e.length)},Ew}var Ow,X4;function gN(){if(X4)return Ow;X4=1;var t=li(),e=pm(),r=gs(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return Ow={includes:n(!0),indexOf:n(!1)},Ow}var Pw,J4;function lh(){return J4||(J4=1,Pw={}),Pw}var Cw,Z4;function gG(){if(Z4)return Cw;Z4=1;var t=Le(),e=gr(),r=li(),n=gN().indexOf,i=lh(),s=t([].push);return Cw=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},Cw}var Nw,eL;function yN(){return eL||(eL=1,Nw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),Nw}var Tw,tL;function uh(){if(tL)return Tw;tL=1;var t=gG(),e=yN();return Tw=Object.keys||function(n){return t(n,e)},Tw}var Iw={},rL;function mm(){return rL||(rL=1,Iw.f=Object.getOwnPropertySymbols),Iw}var Rw,nL;function Jce(){if(nL)return Rw;nL=1;var t=$t(),e=Le(),r=an(),n=De(),i=uh(),s=mm(),a=um(),o=wn(),l=cm(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return Rw=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,Rw}var iL;function Zce(){if(iL)return QF;iL=1;var t=ye(),e=Jce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),QF}var jw,sL;function ede(){if(sL)return jw;sL=1,Zce();var t=Ge();return jw=t.Object.assign,jw}var $w,aL;function tde(){if(aL)return $w;aL=1;var t=ede();return $w=t,$w}var kw,oL;function rde(){return oL||(oL=1,kw=tde()),kw}var nde=rde(),At=Oe(nde),lL={},Dw,uL;function Uu(){if(uL)return Dw;uL=1;var t=Le();return Dw=t([].slice),Dw}var qw,cL;function ide(){if(cL)return qw;cL=1;var t=Le(),e=vs(),r=lr(),n=gr(),i=Uu(),s=ih(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return qw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},qw}var dL;function sde(){if(dL)return lL;dL=1;var t=ye(),e=ide();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),lL}var Mw,hL;function yr(){if(hL)return Mw;hL=1;var t=ft(),e=Ge();return Mw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},Mw}var Aw,fL;function ade(){if(fL)return Aw;fL=1,sde();var t=yr();return Aw=t("Function","bind"),Aw}var Fw,pL;function ode(){if(pL)return Fw;pL=1;var t=zt(),e=ade(),r=Function.prototype;return Fw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},Fw}var Lw,mL;function lde(){if(mL)return Lw;mL=1;var t=ode();return Lw=t,Lw}var Bw,vL;function ude(){return vL||(vL=1,Bw=lde()),Bw}var cde=ude(),X=Oe(cde);function bN(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function dde(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function hde(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function fde(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function pde(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function mde(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function yG(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function fP(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,u=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,u,d,u),t.bezierCurveTo(d-a,u,e,h+o,e,h),t.closePath()}function bG(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,u=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,y+d,e,y),t.lineTo(e,m)}function wG(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,u=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+u*u)),p=o<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function vde(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const gL={circle:bN,dashedLine:wG,database:bG,diamond:mde,ellipse:fP,ellipse_vis:fP,hexagon:vde,roundRect:yG,square:dde,star:pde,triangle:hde,triangleDown:fde};function gde(t){return Object.prototype.hasOwnProperty.call(gL,t)?gL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var zw={exports:{}},yL;function yde(){return yL||(yL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(zw)),zw.exports}var bde=yde(),xG=Oe(bde),bL={},Uw,wL;function Fo(){if(wL)return Uw;wL=1;var t=Ni();return Uw=Array.isArray||function(r){return t(r)==="Array"},Uw}var Ww,xL;function _G(){if(xL)return Ww;xL=1;var t=TypeError,e=9007199254740991;return Ww=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Ww}var Vw,_L;function vm(){if(_L)return Vw;_L=1;var t=$t(),e=Fn(),r=sh();return Vw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Vw}var Hw,SL;function wN(){if(SL)return Hw;SL=1;var t=Ut(),e=t("toStringTag"),r={};return r[e]="z",Hw=String(r)==="[object z]",Hw}var Kw,EL;function Wu(){if(EL)return Kw;EL=1;var t=wN(),e=or(),r=Ni(),n=Ut(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Kw=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Kw}var Gw,OL;function wde(){if(OL)return Gw;OL=1;var t=Le(),e=or(),r=mN(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Gw=r.inspectSource,Gw}var Yw,PL;function SG(){if(PL)return Yw;PL=1;var t=Le(),e=De(),r=or(),n=Wu(),i=bn(),s=wde(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,Yw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Yw}var Qw,CL;function xde(){if(CL)return Qw;CL=1;var t=Fo(),e=SG(),r=lr(),n=Ut(),i=n("species"),s=Array;return Qw=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Qw}var Xw,NL;function xN(){if(NL)return Xw;NL=1;var t=xde();return Xw=function(e,r){return new(t(e))(r===0?0:r)},Xw}var Jw,TL;function ch(){if(TL)return Jw;TL=1;var t=De(),e=Ut(),r=ah(),n=e("species");return Jw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Jw}var IL;function EG(){if(IL)return bL;IL=1;var t=ye(),e=De(),r=Fo(),n=lr(),i=wn(),s=gs(),a=_G(),o=vm(),l=xN(),u=ch(),d=Ut(),h=ah(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),bL}var RL={},jL={},Zw,$L;function Ln(){if($L)return Zw;$L=1;var t=Wu(),e=String;return Zw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Zw}var ex={},kL;function _N(){if(kL)return ex;kL=1;var t=$t(),e=mG(),r=Fn(),n=Ti(),i=li(),s=uh();return ex.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},ex}var tx,DL;function _de(){if(DL)return tx;DL=1;var t=bn();return tx=t("document","documentElement"),tx}var rx,qL;function gm(){if(qL)return rx;qL=1;var t=Lu(),e=dm(),r=t("keys");return rx=function(n){return r[n]||(r[n]=e(n))},rx}var nx,ML;function dh(){if(ML)return nx;ML=1;var t=Ti(),e=_N(),r=yN(),n=lh(),i=_de(),s=fG(),a=gm(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,nx=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},nx}var ix={},AL;function ym(){if(AL)return ix;AL=1;var t=gG(),e=yN(),r=e.concat("length","prototype");return ix.f=Object.getOwnPropertyNames||function(i){return t(i,r)},ix}var sx={},FL;function SN(){if(FL)return sx;FL=1;var t=Ni(),e=li(),r=ym().f,n=Uu(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return sx.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},sx}var ax,LL;function hh(){if(LL)return ax;LL=1;var t=Bu();return ax=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},ax}var ox,BL;function EN(){if(BL)return ox;BL=1;var t=Fn();return ox=function(e,r,n){return t.f(e,r,n)},ox}var lx={},zL;function bm(){if(zL)return lx;zL=1;var t=Ut();return lx.f=t,lx}var ux,UL;function wt(){if(UL)return ux;UL=1;var t=Ge(),e=gr(),r=bm(),n=Fn().f;return ux=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},ux}var cx,WL;function OG(){if(WL)return cx;WL=1;var t=an(),e=bn(),r=Ut(),n=hh();return cx=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},cx}var dx,VL;function Sde(){if(VL)return dx;VL=1;var t=wN(),e=Wu();return dx=t?{}.toString:function(){return"[object "+e(this)+"]"},dx}var hx,HL;function Lo(){if(HL)return hx;HL=1;var t=wN(),e=Fn().f,r=Bu(),n=gr(),i=Sde(),s=Ut(),a=s("toStringTag");return hx=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},hx}var fx,KL;function PG(){if(KL)return fx;KL=1;var t=ft(),e=or(),r=t.WeakMap;return fx=e(r)&&/native code/.test(String(r)),fx}var px,GL;function Bo(){if(GL)return px;GL=1;var t=PG(),e=ft(),r=lr(),n=Bu(),i=gr(),s=mN(),a=gm(),o=lh(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return px={set:h,get:f,has:p,enforce:m,getterFor:y},px}var mx,YL;function wa(){if(YL)return mx;YL=1;var t=fm(),e=Le(),r=cm(),n=wn(),i=gs(),s=xN(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,N;E>S;S++)if((y||S in _)&&(I=_[S],N=O(I,S,w),l))if(u)C[S]=N;else if(N)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return mx={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},mx}var QL;function Ede(){if(QL)return jL;QL=1;var t=ye(),e=ft(),r=an(),n=Le(),i=Fu(),s=$t(),a=Mu(),o=De(),l=gr(),u=zt(),d=Ti(),h=li(),f=vN(),p=Ln(),m=sh(),y=dh(),b=uh(),g=ym(),v=SN(),x=mm(),w=hm(),_=Fn(),E=_N(),O=um(),S=hh(),P=EN(),C=Lu(),I=gm(),N=lh(),T=dm(),q=Ut(),z=bm(),Z=wt(),K=OG(),L=Lo(),V=Bo(),U=wa().forEach,W=I("hidden"),J="Symbol",he="prototype",me=V.set,qe=V.getterFor(J),be=Object[he],Ee=e.Symbol,Ce=Ee&&Ee[he],pt=e.RangeError,Qe=e.TypeError,Wt=e.QObject,ur=w.f,ot=_.f,Pr=v.f,tt=O.f,Cr=n([].push),Xe=C("symbols"),Jt=C("op-symbols"),xn=C("wks"),on=!Wt||!Wt[he]||!Wt[he].findChild,$=function(fe,te,ae){var j=ur(be,te);j&&delete be[te],ot(fe,te,ae),j&&fe!==be&&ot(be,te,j)},D=s&&o(function(){return y(ot({},"a",{get:function(){return ot(this,"a",{value:7}).a}})).a!==7})?$:ot,F=function(fe,te){var ae=Xe[fe]=y(Ce);return me(ae,{type:J,tag:fe,description:te}),s||(ae.description=te),ae},ie=function(te,ae,j){te===be&&ie(Jt,ae,j),d(te);var B=f(ae);return d(j),l(Xe,B)?(j.enumerable?(l(te,W)&&te[W][B]&&(te[W][B]=!1),j=y(j,{enumerable:m(0,!1)})):(l(te,W)||ot(te,W,m(1,y(null))),te[W][B]=!0),D(te,B,j)):ot(te,B,j)},ee=function(te,ae){d(te);var j=h(ae),B=b(j).concat(Tt(j));return U(B,function(H){(!s||r(ue,j,H))&&ie(te,H,j[H])}),te},G=function(te,ae){return ae===void 0?y(te):ee(y(te),ae)},ue=function(te){var ae=f(te),j=r(tt,this,ae);return this===be&&l(Xe,ae)&&!l(Jt,ae)?!1:j||!l(this,ae)||!l(Xe,ae)||l(this,W)&&this[W][ae]?j:!0},Re=function(te,ae){var j=h(te),B=f(ae);if(!(j===be&&l(Xe,B)&&!l(Jt,B))){var H=ur(j,B);return H&&l(Xe,B)&&!(l(j,W)&&j[W][B])&&(H.enumerable=!0),H}},Me=function(te){var ae=Pr(h(te)),j=[];return U(ae,function(B){!l(Xe,B)&&!l(N,B)&&Cr(j,B)}),j},Tt=function(fe){var te=fe===be,ae=Pr(te?Jt:h(fe)),j=[];return U(ae,function(B){l(Xe,B)&&(!te||l(be,B))&&Cr(j,Xe[B])}),j};return a||(Ee=function(){if(u(Ce,this))throw new Qe("Symbol is not a constructor");var te=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),ae=T(te),j=function(B){var H=this===void 0?e:this;H===be&&r(j,Jt,B),l(H,W)&&l(H[W],ae)&&(H[W][ae]=!1);var we=m(1,B);try{D(H,ae,we)}catch(Te){if(!(Te instanceof pt))throw Te;$(H,ae,we)}};return s&&on&&D(be,ae,{configurable:!0,set:j}),F(ae,te)},Ce=Ee[he],S(Ce,"toString",function(){return qe(this).tag}),S(Ee,"withoutSetter",function(fe){return F(T(fe),fe)}),O.f=ue,_.f=ie,E.f=ee,w.f=Re,g.f=v.f=Me,x.f=Tt,z.f=function(fe){return F(q(fe),fe)},s&&(P(Ce,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(be,"propertyIsEnumerable",ue,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Ee}),U(b(xn),function(fe){Z(fe)}),t({target:J,stat:!0,forced:!a},{useSetter:function(){on=!0},useSimple:function(){on=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:G,defineProperty:ie,defineProperties:ee,getOwnPropertyDescriptor:Re}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:Me}),K(),L(Ee,J),N[W]=!0,jL}var XL={},vx,JL;function CG(){if(JL)return vx;JL=1;var t=Mu();return vx=t&&!!Symbol.for&&!!Symbol.keyFor,vx}var ZL;function Ode(){if(ZL)return XL;ZL=1;var t=ye(),e=bn(),r=gr(),n=Ln(),i=Lu(),s=CG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),XL}var e3={},t3;function Pde(){if(t3)return e3;t3=1;var t=ye(),e=gr(),r=oh(),n=Au(),i=Lu(),s=CG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),e3}var r3={},gx,n3;function Cde(){if(n3)return gx;n3=1;var t=Le(),e=Fo(),r=or(),n=Ni(),i=Ln(),s=t([].push);return gx=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},gx}var i3;function NG(){if(i3)return r3;i3=1;var t=ye(),e=bn(),r=lm(),n=an(),i=Le(),s=De(),a=or(),o=oh(),l=Uu(),u=Cde(),d=Mu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),N=u(C);if(!(!a(N)&&(P===void 0||o(P))))return I[1]=function(T,q){if(a(N)&&(q=n(N,this,h(T),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var N=m(I,C-1),T=m(I,C+1);return p(x,P)&&!p(w,T)||p(w,P)&&!p(x,N)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,N){var T=l(arguments),q=r(_?O:f,null,T);return E&&typeof q=="string"?b(q,v,S):q}}),r3}var s3={},a3;function Nde(){if(a3)return s3;a3=1;var t=ye(),e=Mu(),r=De(),n=mm(),i=wn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),s3}var o3;function TG(){return o3||(o3=1,Ede(),Ode(),Pde(),NG(),Nde()),RL}var l3={},u3;function IG(){if(u3)return l3;u3=1;var t=wt();return t("asyncDispose"),l3}var c3={},d3;function Tde(){if(d3)return c3;d3=1;var t=wt();return t("asyncIterator"),c3}var h3={},f3;function RG(){if(f3)return h3;f3=1;var t=wt();return t("dispose"),h3}var p3={},m3;function Ide(){if(m3)return p3;m3=1;var t=wt();return t("hasInstance"),p3}var v3={},g3;function Rde(){if(g3)return v3;g3=1;var t=wt();return t("isConcatSpreadable"),v3}var y3={},b3;function jG(){if(b3)return y3;b3=1;var t=wt();return t("iterator"),y3}var w3={},x3;function jde(){if(x3)return w3;x3=1;var t=wt();return t("match"),w3}var _3={},S3;function $de(){if(S3)return _3;S3=1;var t=wt();return t("matchAll"),_3}var E3={},O3;function kde(){if(O3)return E3;O3=1;var t=wt();return t("replace"),E3}var P3={},C3;function Dde(){if(C3)return P3;C3=1;var t=wt();return t("search"),P3}var N3={},T3;function qde(){if(T3)return N3;T3=1;var t=wt();return t("species"),N3}var I3={},R3;function Mde(){if(R3)return I3;R3=1;var t=wt();return t("split"),I3}var j3={},$3;function $G(){if($3)return j3;$3=1;var t=wt(),e=OG();return t("toPrimitive"),e(),j3}var k3={},D3;function Ade(){if(D3)return k3;D3=1;var t=bn(),e=wt(),r=Lo();return e("toStringTag"),r(t("Symbol"),"Symbol"),k3}var q3={},M3;function Fde(){if(M3)return q3;M3=1;var t=wt();return t("unscopables"),q3}var A3={},F3;function Lde(){if(F3)return A3;F3=1;var t=ft(),e=Lo();return e(t.JSON,"JSON",!0),A3}var yx,L3;function Bde(){if(L3)return yx;L3=1,EG(),TG(),IG(),Tde(),RG(),Ide(),Rde(),jG(),jde(),$de(),kde(),Dde(),qde(),Mde(),$G(),Ade(),Fde(),Lde();var t=Ge();return yx=t.Symbol,yx}var B3={},bx,z3;function ON(){return z3||(z3=1,bx=function(){}),bx}var wx,U3;function Vu(){return U3||(U3=1,wx={}),wx}var xx,W3;function zde(){if(W3)return xx;W3=1;var t=$t(),e=gr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return xx={EXISTS:i,PROPER:s,CONFIGURABLE:a},xx}var _x,V3;function kG(){if(V3)return _x;V3=1;var t=De();return _x=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),_x}var Sx,H3;function wm(){if(H3)return Sx;H3=1;var t=gr(),e=or(),r=wn(),n=gm(),i=kG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Sx=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},Sx}var Ex,K3;function DG(){if(K3)return Ex;K3=1;var t=De(),e=or(),r=lr(),n=dh(),i=wm(),s=hh(),a=Ut(),o=Fu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Ex={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},Ex}var Ox,G3;function Ude(){if(G3)return Ox;G3=1;var t=DG().IteratorPrototype,e=dh(),r=sh(),n=Lo(),i=Vu(),s=function(){return this};return Ox=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},Ox}var Px,Y3;function Wde(){if(Y3)return Px;Y3=1;var t=Le(),e=vs();return Px=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Px}var Cx,Q3;function Vde(){if(Q3)return Cx;Q3=1;var t=lr();return Cx=function(e){return t(e)||e===null},Cx}var Nx,X3;function Hde(){if(X3)return Nx;X3=1;var t=Vde(),e=String,r=TypeError;return Nx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},Nx}var Tx,J3;function Kde(){if(J3)return Tx;J3=1;var t=Wde(),e=lr(),r=ms(),n=Hde();return Tx=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),Tx}var Ix,Z3;function PN(){if(Z3)return Ix;Z3=1;var t=ye(),e=an(),r=Fu(),n=zde(),i=or(),s=Ude(),a=wm(),o=Kde(),l=Lo(),u=Bu(),d=hh(),h=Ut(),f=Vu(),p=DG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return Ix=function(O,S,P,C,I,N,T){s(P,S,C);var q=function(me){if(me===I&&V)return V;if(!g&&me&&me in K)return K[me];switch(me){case x:return function(){return new P(this,me)};case w:return function(){return new P(this,me)};case _:return function(){return new P(this,me)}}return function(){return new P(this)}},z=S+" Iterator",Z=!1,K=O.prototype,L=K[v]||K["@@iterator"]||I&&K[I],V=!g&&L||q(I),U=S==="Array"&&K.entries||L,W,J,he;if(U&&(W=a(U.call(new O)),W!==Object.prototype&&W.next&&(!r&&a(W)!==b&&(o?o(W,b):i(W[v])||d(W,v,E)),l(W,z,!0,!0),r&&(f[z]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(K,"name",w):(Z=!0,V=function(){return e(L,this)})),I)if(J={values:q(w),keys:N?V:q(x),entries:q(_)},T)for(he in J)(g||Z||!(he in K))&&d(K,he,J[he]);else t({target:S,proto:!0,forced:g||Z},J);return(!r||T)&&K[v]!==V&&d(K,v,V,{name:I}),f[S]=V,J},Ix}var Rx,e5;function CN(){return e5||(e5=1,Rx=function(t,e){return{value:t,done:e}}),Rx}var jx,t5;function Hu(){if(t5)return jx;t5=1;var t=li(),e=ON(),r=Vu(),n=Bo(),i=Fn().f,s=PN(),a=CN(),o=Fu(),l=$t(),u="Array Iterator",d=n.set,h=n.getterFor(u);jx=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return jx}var $x,r5;function Gde(){return r5||(r5=1,$x={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),$x}var n5;function Ku(){if(n5)return B3;n5=1,Hu();var t=Gde(),e=ft(),r=Lo(),n=Vu();for(var i in t)r(e[i],i),n[i]=n.Array;return B3}var kx,i5;function qG(){if(i5)return kx;i5=1;var t=Bde();return Ku(),kx=t,kx}var Dx,s5;function Yde(){return s5||(s5=1,Dx=qG()),Dx}var Qde=Yde(),Xde=Oe(Qde),a5={},o5;function Jde(){if(o5)return a5;o5=1;var t=ye(),e=Fo(),r=SG(),n=lr(),i=pm(),s=gs(),a=li(),o=vm(),l=Ut(),u=ch(),d=Uu(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),a5}var qx,l5;function Zde(){if(l5)return qx;l5=1,Jde();var t=yr();return qx=t("Array","slice"),qx}var Mx,u5;function ehe(){if(u5)return Mx;u5=1;var t=zt(),e=Zde(),r=Array.prototype;return Mx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Mx}var Ax,c5;function the(){if(c5)return Ax;c5=1;var t=ehe();return Ax=t,Ax}var Fx,d5;function rhe(){return d5||(d5=1,Fx=the()),Fx}var nhe=rhe(),bi=Oe(nhe),Lx,h5;function ihe(){if(h5)return Lx;h5=1;var t=bn(),e=Le(),r=ym(),n=mm(),i=Ti(),s=e([].concat);return Lx=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Lx}var f5={},p5;function she(){if(p5)return f5;p5=1;var t=ye(),e=Fo();return t({target:"Array",stat:!0},{isArray:e}),f5}var Bx,m5;function ahe(){if(m5)return Bx;m5=1,she();var t=Ge();return Bx=t.Array.isArray,Bx}var zx,v5;function ohe(){if(v5)return zx;v5=1;var t=ahe();return zx=t,zx}var Ux,g5;function lhe(){return g5||(g5=1,Ux=ohe()),Ux}var uhe=lhe(),Nt=Oe(uhe),y5={},b5;function che(){if(b5)return y5;b5=1;var t=ye(),e=wa().map,r=ch(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),y5}var Wx,w5;function dhe(){if(w5)return Wx;w5=1,che();var t=yr();return Wx=t("Array","map"),Wx}var Vx,x5;function hhe(){if(x5)return Vx;x5=1;var t=zt(),e=dhe(),r=Array.prototype;return Vx=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Vx}var Hx,_5;function fhe(){if(_5)return Hx;_5=1;var t=hhe();return Hx=t,Hx}var Kx,S5;function phe(){return S5||(S5=1,Kx=fhe()),Kx}var mhe=phe(),cu=Oe(mhe),E5={},O5;function vhe(){if(O5)return E5;O5=1;var t=ye(),e=wn(),r=uh(),n=De(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),E5}var Gx,P5;function ghe(){if(P5)return Gx;P5=1,vhe();var t=Ge();return Gx=t.Object.keys,Gx}var Yx,C5;function yhe(){if(C5)return Yx;C5=1;var t=ghe();return Yx=t,Yx}var Qx,N5;function bhe(){return N5||(N5=1,Qx=yhe()),Qx}var whe=bhe(),Et=Oe(whe),T5={},I5;function xhe(){if(I5)return T5;I5=1;var t=ye(),e=Le(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),T5}var Xx,R5;function _he(){if(R5)return Xx;R5=1,xhe();var t=Ge();return Xx=t.Date.now,Xx}var Jx,j5;function She(){if(j5)return Jx;j5=1;var t=_he();return Jx=t,Jx}var Zx,$5;function Ehe(){return $5||($5=1,Zx=She()),Zx}var Ohe=Ehe(),dp=Oe(Ohe),k5={},e_,D5;function Gu(){if(D5)return e_;D5=1;var t=De();return e_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},e_}var t_,q5;function Phe(){if(q5)return t_;q5=1;var t=wa().forEach,e=Gu(),r=e("forEach");return t_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},t_}var M5;function Che(){if(M5)return k5;M5=1;var t=ye(),e=Phe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),k5}var r_,A5;function Nhe(){if(A5)return r_;A5=1,Che();var t=yr();return r_=t("Array","forEach"),r_}var n_,F5;function The(){if(F5)return n_;F5=1;var t=Nhe();return n_=t,n_}var i_,L5;function Ihe(){if(L5)return i_;L5=1;var t=Wu(),e=gr(),r=zt(),n=The(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return i_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},i_}var s_,B5;function Rhe(){return B5||(B5=1,s_=Ihe()),s_}var jhe=Rhe(),Ze=Oe(jhe),z5={},U5;function $he(){if(U5)return z5;U5=1;var t=ye(),e=Le(),r=Fo(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),z5}var a_,W5;function khe(){if(W5)return a_;W5=1,$he();var t=yr();return a_=t("Array","reverse"),a_}var o_,V5;function Dhe(){if(V5)return o_;V5=1;var t=zt(),e=khe(),r=Array.prototype;return o_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},o_}var l_,H5;function qhe(){if(H5)return l_;H5=1;var t=Dhe();return l_=t,l_}var u_,K5;function Mhe(){return K5||(K5=1,u_=qhe()),u_}var Ahe=Mhe(),to=Oe(Ahe),G5={},c_,Y5;function Fhe(){if(Y5)return c_;Y5=1;var t=$t(),e=Fo(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return c_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},c_}var d_,Q5;function MG(){if(Q5)return d_;Q5=1;var t=Au(),e=TypeError;return d_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},d_}var X5;function Lhe(){if(X5)return G5;X5=1;var t=ye(),e=wn(),r=pm(),n=zu(),i=gs(),s=Fhe(),a=_G(),o=xN(),l=vm(),u=MG(),d=ch(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),G5}var h_,J5;function Bhe(){if(J5)return h_;J5=1,Lhe();var t=yr();return h_=t("Array","splice"),h_}var f_,Z5;function zhe(){if(Z5)return f_;Z5=1;var t=zt(),e=Bhe(),r=Array.prototype;return f_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},f_}var p_,eB;function Uhe(){if(eB)return p_;eB=1;var t=zhe();return p_=t,p_}var m_,tB;function Whe(){return tB||(tB=1,m_=Uhe()),m_}var Vhe=Whe(),Qi=Oe(Vhe),rB={},nB;function Hhe(){if(nB)return rB;nB=1;var t=ye(),e=gN().includes,r=De(),n=ON(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),rB}var v_,iB;function Khe(){if(iB)return v_;iB=1,Hhe();var t=yr();return v_=t("Array","includes"),v_}var sB={},g_,aB;function Ghe(){if(aB)return g_;aB=1;var t=lr(),e=Ni(),r=Ut(),n=r("match");return g_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},g_}var y_,oB;function Yhe(){if(oB)return y_;oB=1;var t=Ghe(),e=TypeError;return y_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},y_}var b_,lB;function Qhe(){if(lB)return b_;lB=1;var t=Ut(),e=t("match");return b_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},b_}var uB;function Xhe(){if(uB)return sB;uB=1;var t=ye(),e=Le(),r=Yhe(),n=ms(),i=Ln(),s=Qhe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),sB}var w_,cB;function Jhe(){if(cB)return w_;cB=1,Xhe();var t=yr();return w_=t("String","includes"),w_}var x_,dB;function Zhe(){if(dB)return x_;dB=1;var t=zt(),e=Khe(),r=Jhe(),n=Array.prototype,i=String.prototype;return x_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},x_}var __,hB;function efe(){if(hB)return __;hB=1;var t=Zhe();return __=t,__}var S_,fB;function tfe(){return fB||(fB=1,S_=efe()),S_}var rfe=tfe(),ta=Oe(rfe),pB={},mB;function nfe(){if(mB)return pB;mB=1;var t=ye(),e=De(),r=wn(),n=wm(),i=kG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),pB}var E_,vB;function ife(){if(vB)return E_;vB=1,nfe();var t=Ge();return E_=t.Object.getPrototypeOf,E_}var O_,gB;function sfe(){if(gB)return O_;gB=1;var t=ife();return O_=t,O_}var P_,yB;function afe(){return yB||(yB=1,P_=sfe()),P_}var ofe=afe(),bB=Oe(ofe),C_,wB;function lfe(){if(wB)return C_;wB=1,EG();var t=yr();return C_=t("Array","concat"),C_}var N_,xB;function ufe(){if(xB)return N_;xB=1;var t=zt(),e=lfe(),r=Array.prototype;return N_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},N_}var T_,_B;function cfe(){if(_B)return T_;_B=1;var t=ufe();return T_=t,T_}var I_,SB;function dfe(){return SB||(SB=1,I_=cfe()),I_}var hfe=dfe(),ffe=Oe(hfe),EB={},OB;function pfe(){if(OB)return EB;OB=1;var t=ye(),e=wa().filter,r=ch(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),EB}var R_,PB;function mfe(){if(PB)return R_;PB=1,pfe();var t=yr();return R_=t("Array","filter"),R_}var j_,CB;function vfe(){if(CB)return j_;CB=1;var t=zt(),e=mfe(),r=Array.prototype;return j_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},j_}var $_,NB;function gfe(){if(NB)return $_;NB=1;var t=vfe();return $_=t,$_}var k_,TB;function yfe(){return TB||(TB=1,k_=gfe()),k_}var bfe=yfe(),Kr=Oe(bfe),IB={},D_,RB;function wfe(){if(RB)return D_;RB=1;var t=$t(),e=De(),r=Le(),n=wm(),i=uh(),s=li(),a=um().f,o=r(a),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=u&&n(p)===null,b=m.length,g=0,v=[],x;b>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return D_={entries:d(!0),values:d(!1)},D_}var jB;function xfe(){if(jB)return IB;jB=1;var t=ye(),e=wfe().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),IB}var q_,$B;function _fe(){if($B)return q_;$B=1,xfe();var t=Ge();return q_=t.Object.values,q_}var M_,kB;function Sfe(){if(kB)return M_;kB=1;var t=_fe();return M_=t,M_}var A_,DB;function Efe(){return DB||(DB=1,A_=Sfe()),A_}var Ofe=Efe(),Pfe=Oe(Ofe),qB={},F_,MB;function NN(){return MB||(MB=1,F_=`	
\v\f\r \u2028\u2029\uFEFF`),F_}var L_,AB;function AG(){if(AB)return L_;AB=1;var t=Le(),e=ms(),r=Ln(),n=NN(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(u){var d=r(e(u));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return L_={start:o(1),end:o(2),trim:o(3)},L_}var B_,FB;function Cfe(){if(FB)return B_;FB=1;var t=ft(),e=De(),r=Le(),n=Ln(),i=AG().trim,s=NN(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return B_=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(u,y)?16:10))}:a,B_}var LB;function Nfe(){if(LB)return qB;LB=1;var t=ye(),e=Cfe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),qB}var z_,BB;function Tfe(){if(BB)return z_;BB=1,Nfe();var t=Ge();return z_=t.parseInt,z_}var U_,zB;function Ife(){if(zB)return U_;zB=1;var t=Tfe();return U_=t,U_}var W_,UB;function Rfe(){return UB||(UB=1,W_=Ife()),W_}var jfe=Rfe(),Xn=Oe(jfe),WB={},VB;function $fe(){if(VB)return WB;VB=1;var t=ye(),e=fN(),r=gN().indexOf,n=Gu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),WB}var V_,HB;function kfe(){if(HB)return V_;HB=1,$fe();var t=yr();return V_=t("Array","indexOf"),V_}var H_,KB;function Dfe(){if(KB)return H_;KB=1;var t=zt(),e=kfe(),r=Array.prototype;return H_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},H_}var K_,GB;function qfe(){if(GB)return K_;GB=1;var t=Dfe();return K_=t,K_}var G_,YB;function Mfe(){return YB||(YB=1,G_=qfe()),G_}var Afe=Mfe(),Ve=Oe(Afe),QB={},XB;function Ffe(){if(XB)return QB;XB=1;var t=ye(),e=$t(),r=dh();return t({target:"Object",stat:!0,sham:!e},{create:r}),QB}var Y_,JB;function Lfe(){if(JB)return Y_;JB=1,Ffe();var t=Ge(),e=t.Object;return Y_=function(n,i){return e.create(n,i)},Y_}var Q_,ZB;function Bfe(){if(ZB)return Q_;ZB=1;var t=Lfe();return Q_=t,Q_}var X_,ez;function zfe(){return ez||(ez=1,X_=Bfe()),X_}var Ufe=zfe(),ro=Oe(Ufe),tz={},J_,rz;function Wfe(){if(rz)return J_;rz=1;var t=zu(),e=Ln(),r=ms(),n=RangeError;return J_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},J_}var Z_,nz;function Vfe(){if(nz)return Z_;nz=1;var t=Le(),e=vG(),r=Ln(),n=Wfe(),i=ms(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return Z_={start:l(!1),end:l(!0)},Z_}var eS,iz;function Hfe(){if(iz)return eS;iz=1;var t=Le(),e=De(),r=Vfe().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return eS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,eS}var sz;function Kfe(){if(sz)return tz;sz=1;var t=ye(),e=an(),r=wn(),n=hG(),i=Hfe(),s=Ni(),a=De(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),tz}var tS,az;function Gfe(){if(az)return tS;az=1,Kfe(),NG();var t=Ge(),e=lm();return t.JSON||(t.JSON={stringify:JSON.stringify}),tS=function(n,i,s){return e(t.JSON.stringify,null,arguments)},tS}var rS,oz;function Yfe(){if(oz)return rS;oz=1;var t=Gfe();return rS=t,rS}var nS,lz;function Qfe(){return lz||(lz=1,nS=Yfe()),nS}var Xfe=Qfe(),fh=Oe(Xfe),uz={},cz={},iS,dz;function FG(){if(dz)return iS;dz=1;var t=ft(),e=qu(),r=Ni(),n=function(i){return e.slice(0,i.length)===i};return iS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),iS}var sS,hz;function Jfe(){if(hz)return sS;hz=1;var t=TypeError;return sS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},sS}var aS,fz;function LG(){if(fz)return aS;fz=1;var t=ft(),e=lm(),r=or(),n=FG(),i=qu(),s=Uu(),a=Jfe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return aS=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},aS}var pz;function Zfe(){if(pz)return cz;pz=1;var t=ye(),e=ft(),r=LG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),cz}var mz={},vz;function epe(){if(vz)return mz;vz=1;var t=ye(),e=ft(),r=LG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),mz}var gz;function BG(){return gz||(gz=1,Zfe(),epe()),uz}var oS,yz;function tpe(){if(yz)return oS;yz=1,BG();var t=Ge();return oS=t.setTimeout,oS}var lS,bz;function rpe(){return bz||(bz=1,lS=tpe()),lS}var npe=rpe(),Xi=Oe(npe),wz={},uS,xz;function ipe(){if(xz)return uS;xz=1;var t=wn(),e=pm(),r=gs();return uS=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),u=o>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>l;)s[l++]=i;return s},uS}var _z;function spe(){if(_z)return wz;_z=1;var t=ye(),e=ipe(),r=ON();return t({target:"Array",proto:!0},{fill:e}),r("fill"),wz}var cS,Sz;function ape(){if(Sz)return cS;Sz=1,spe();var t=yr();return cS=t("Array","fill"),cS}var dS,Ez;function ope(){if(Ez)return dS;Ez=1;var t=zt(),e=ape(),r=Array.prototype;return dS=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},dS}var hS,Oz;function lpe(){if(Oz)return hS;Oz=1;var t=ope();return hS=t,hS}var fS,Pz;function upe(){return Pz||(Pz=1,fS=lpe()),fS}var cpe=upe(),ph=Oe(cpe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function si(){return si=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},si.apply(this,arguments)}function Bn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Xh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var pP;typeof Object.assign!="function"?pP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:pP=Object.assign;var So=pP,Cz=["","webkit","Moz","MS","ms","o"],dpe=typeof document>"u"?{style:{}}:document.createElement("div"),hpe="function",xl=Math.round,Eo=Math.abs,TN=Date.now;function xm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Cz.length;){if(r=Cz[s],n=r?r+i:e,n in t)return n;s++}}var Ji;typeof window>"u"?Ji={}:Ji=window;var zG=xm(dpe.style,"touchAction"),UG=zG!==void 0;function fpe(){if(!UG)return!1;var t={},e=Ji.CSS&&Ji.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Ji.CSS.supports("touch-action",r):!0}),t}var WG="compute",VG="auto",mP="manipulation",no="none",md="pan-x",vd="pan-y",Jh=fpe(),ppe=/mobile|tablet|ip(ad|hone|od)|android/i,HG="ontouchstart"in Ji,mpe=xm(Ji,"PointerEvent")!==void 0,vpe=HG&&ppe.test(navigator.userAgent),mh="touch",gpe="pen",IN="mouse",ype="kinect",bpe=25,Ar=1,zo=2,Ft=4,tn=8,hp=1,vh=2,gh=4,yh=8,du=16,Pi=vh|gh,io=yh|du,KG=Pi|io,GG=["x","y"],fp=["clientX","clientY"];function Zi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function _m(t,e){return typeof t===hpe?t.apply(e&&e[0]||void 0,e):t}function Aa(t,e){return t.indexOf(e)>-1}function wpe(t){if(Aa(t,no))return no;var e=Aa(t,md),r=Aa(t,vd);return e&&r?no:e||r?e?md:vd:Aa(t,mP)?mP:VG}var YG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===WG&&(n=this.compute()),UG&&this.manager.element.style&&Jh[n]&&(this.manager.element.style[zG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Zi(this.manager.recognizers,function(i){_m(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),wpe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Aa(a,no)&&!Jh[no],l=Aa(a,vd)&&!Jh[vd],u=Aa(a,md)&&!Jh[md];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&Pi||u&&s&io))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function RN(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function QG(t){var e=t.length;if(e===1)return{x:xl(t[0].clientX),y:xl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:xl(r/e),y:xl(n/e)}}function Nz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:xl(t.pointers[r].clientX),clientY:xl(t.pointers[r].clientY)},r++;return{timeStamp:TN(),pointers:e,center:QG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function pp(t,e,r){r||(r=GG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function vP(t,e,r){r||(r=GG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function XG(t,e){return t===e?hp:Eo(t)>=Eo(e)?t<0?vh:gh:e<0?yh:du}function xpe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Ar||s.eventType===Ft)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function JG(t,e,r){return{x:e/t||0,y:r/t||0}}function _pe(t,e){return pp(e[0],e[1],fp)/pp(t[0],t[1],fp)}function Spe(t,e){return vP(e[1],e[0],fp)+vP(t[1],t[0],fp)}function Epe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==tn&&(n>bpe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=JG(n,l,u);s=d.x,a=d.y,i=Eo(d.x)>Eo(d.y)?d.x:d.y,o=XG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Ope(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Nz(e)),i>1&&!r.firstMultiple?r.firstMultiple=Nz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=QG(n);e.timeStamp=TN(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=vP(o,l),e.distance=pp(o,l),xpe(r,e),e.offsetDirection=XG(e.deltaX,e.deltaY);var u=JG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=Eo(u.x)>Eo(u.y)?u.x:u.y,e.scale=a?_pe(a.pointers,n):1,e.rotation=a?Spe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Epe(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,RN(f,d)&&(d=f),e.target=d}function Ppe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Ar&&n-i===0,a=e&(Ft|tn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Ope(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function gd(t){return t.trim().split(/\s+/g)}function Dc(t,e,r){Zi(gd(e),function(n){t.addEventListener(n,r,!1)})}function qc(t,e,r){Zi(gd(e),function(n){t.removeEventListener(n,r,!1)})}function Tz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Yu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){_m(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Dc(this.element,this.evEl,this.domHandler),this.evTarget&&Dc(this.target,this.evTarget,this.domHandler),this.evWin&&Dc(Tz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&qc(this.element,this.evEl,this.domHandler),this.evTarget&&qc(this.target,this.evTarget,this.domHandler),this.evWin&&qc(Tz(this.element),this.evWin,this.domHandler)},t}();function Oo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Cpe={pointerdown:Ar,pointermove:zo,pointerup:Ft,pointercancel:tn,pointerout:tn},Npe={2:mh,3:gpe,4:IN,5:ype},ZG="pointerdown",eY="pointermove pointerup pointercancel";Ji.MSPointerEvent&&!Ji.PointerEvent&&(ZG="MSPointerDown",eY="MSPointerMove MSPointerUp MSPointerCancel");var tY=function(t){Bn(e,t);function e(){var n,i=e.prototype;return i.evEl=ZG,i.evWin=eY,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Cpe[o],u=Npe[i.pointerType]||i.pointerType,d=u===mh,h=Oo(s,i.pointerId,"pointerId");l&Ar&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Ft|tn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Yu);function yd(t){return Array.prototype.slice.call(t,0)}function jN(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Oo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Tpe={touchstart:Ar,touchmove:zo,touchend:Ft,touchcancel:tn},Ipe="touchstart touchmove touchend touchcancel",$N=function(t){Bn(e,t);function e(){var n;return e.prototype.evTarget=Ipe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Tpe[i.type],a=Rpe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:mh,srcEvent:i})},e}(Yu);function Rpe(t,e){var r=yd(t.touches),n=this.targetIds;if(e&(Ar|zo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=yd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return RN(u.target,l)}),e===Ar)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Ft|tn)&&delete n[a[i].identifier],i++;if(o.length)return[jN(s.concat(o),"identifier",!0),o]}var jpe={mousedown:Ar,mousemove:zo,mouseup:Ft},$pe="mousedown",kpe="mousemove mouseup",kN=function(t){Bn(e,t);function e(){var n,i=e.prototype;return i.evEl=$pe,i.evWin=kpe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=jpe[i.type];s&Ar&&i.button===0&&(this.pressed=!0),s&zo&&i.which!==1&&(s=Ft),this.pressed&&(s&Ft&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:IN,srcEvent:i}))},e}(Yu),Dpe=2500,Iz=25;function Rz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Dpe)}}function qpe(t,e){t&Ar?(this.primaryTouch=e.changedPointers[0].identifier,Rz.call(this,e)):t&(Ft|tn)&&Rz.call(this,e)}function Mpe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=Iz&&a<=Iz)return!0}return!1}var rY=function(){var t=function(e){Bn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===mh,h=u.pointerType===IN;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)qpe.call(Xh(Xh(a)),l,u);else if(h&&Mpe.call(Xh(Xh(a)),u))return;a.callback(o,l,u)}},a.touch=new $N(a.manager,a.handler),a.mouse=new kN(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Yu);return t}();function Ape(t){var e,r=t.options.inputClass;return r?e=r:mpe?e=tY:vpe?e=$N:HG?e=rY:e=kN,new e(t,Ppe)}function _l(t,e,r){return Array.isArray(t)?(Zi(t,r[e],r),!0):!1}var wf=1,$n=2,hu=4,ra=8,es=ra,bd=16,xi=32,Fpe=1;function Lpe(){return Fpe++}function Zh(t,e){var r=e.manager;return r?r.get(t):t}function jz(t){return t&bd?"cancel":t&ra?"end":t&hu?"move":t&$n?"start":""}var bh=function(){function t(r){r===void 0&&(r={}),this.options=si({enable:!0},r),this.id=Lpe(),this.manager=null,this.state=wf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return So(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(_l(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Zh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return _l(n,"dropRecognizeWith",this)?this:(n=Zh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(_l(n,"requireFailure",this))return this;var i=this.requireFail;return n=Zh(n,this),Oo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(_l(n,"dropRequireFailure",this))return this;n=Zh(n,this);var i=Oo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ra&&a(i.options.event+jz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ra&&a(i.options.event+jz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=xi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(xi|wf)))return!1;n++}return!0},e.recognize=function(n){var i=So({},n);if(!_m(this.options.enable,[this,i])){this.reset(),this.state=xi;return}this.state&(es|bd|xi)&&(this.state=wf),this.state=this.process(i),this.state&($n|hu|ra|bd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),gP=function(t){Bn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,si({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[mP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&Ar&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Ft)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||pp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=es,s.tryEmit()},a.interval),$n):es}return xi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=xi},this.options.interval),xi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===es&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(bh),fu=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,si({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&($n|hu),l=this.attrTest(i);return o&&(a&tn||!l)?s|bd:o||l?a&Ft?s|ra:s&$n?s|hu:$n:xi},e}(bh);function nY(t){return t===du?"down":t===yh?"up":t===vh?"left":t===gh?"right":""}var DN=function(t){Bn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,si({event:"pan",threshold:10,pointers:1,direction:KG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Pi&&s.push(vd),i&io&&s.push(md),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&Pi?(l=u===0?hp:u<0?vh:gh,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?hp:d<0?yh:du,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return fu.prototype.attrTest.call(this,i)&&(this.state&$n||!(this.state&$n)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=nY(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(fu),iY=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,si({event:"swipe",threshold:10,velocity:.3,direction:Pi|io,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return DN.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Pi|io)?a=i.overallVelocity:s&Pi?a=i.overallVelocityX:s&io&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Eo(a)>this.options.velocity&&i.eventType&Ft},r.emit=function(i){var s=nY(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(fu),sY=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,si({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[no]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&$n)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(fu),aY=function(t){Bn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,si({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[no]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&$n)},e}(fu),oY=function(t){Bn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,si({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[VG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Ft|tn)&&!u)this.reset();else if(i.eventType&Ar)this.reset(),this._timer=setTimeout(function(){s.state=es,s.tryEmit()},a.time);else if(i.eventType&Ft)return es;return xi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===es&&(i&&i.eventType&Ft?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=TN(),this.manager.emit(this.options.event,this._input)))},e}(bh),lY={domEvents:!1,touchAction:WG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},$z=[[aY,{enable:!1}],[sY,{enable:!1},["rotate"]],[iY,{direction:Pi}],[DN,{direction:Pi},["swipe"]],[gP],[gP,{event:"doubletap",taps:2},["tap"]],[oY]],Bpe=1,kz=2;function Dz(t,e){var r=t.element;if(r.style){var n;Zi(t.options.cssProps,function(i,s){n=xm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function zpe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var qz=function(){function t(r,n){var i=this;this.options=So({},lY,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Ape(this),this.touchAction=new YG(this,this.options.touchAction),Dz(this,!0),Zi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return So(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?kz:Bpe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&es)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==kz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&($n|hu|ra)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof bh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(_l(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(_l(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Oo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Zi(gd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Zi(gd(n),function(a){i?s[a]&&s[a].splice(Oo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&zpe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&Dz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Upe={touchstart:Ar,touchmove:zo,touchend:Ft,touchcancel:tn},Wpe="touchstart",Vpe="touchstart touchmove touchend touchcancel",Hpe=function(t){Bn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Wpe,i.evWin=Vpe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Upe[i.type];if(s===Ar&&(this.started=!0),!!this.started){var a=Kpe.call(this,i,s);s&(Ft|tn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:mh,srcEvent:i})}},e}(Yu);function Kpe(t,e){var r=yd(t.touches),n=yd(t.changedTouches);return e&(Ft|tn)&&(r=jN(r.concat(n),"identifier",!0)),[r,n]}function uY(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var cY=uY(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Gpe=uY(function(t,e){return cY(t,e,!0)},"merge","Use `assign`.");function Ype(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&So(i,r)}function Mz(t,e){return function(){return t.apply(e,arguments)}}var dY=function(){var t=function(r,n){return n===void 0&&(n={}),new qz(r,si({recognizers:$z.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=KG,t.DIRECTION_DOWN=du,t.DIRECTION_LEFT=vh,t.DIRECTION_RIGHT=gh,t.DIRECTION_UP=yh,t.DIRECTION_HORIZONTAL=Pi,t.DIRECTION_VERTICAL=io,t.DIRECTION_NONE=hp,t.DIRECTION_DOWN=du,t.INPUT_START=Ar,t.INPUT_MOVE=zo,t.INPUT_END=Ft,t.INPUT_CANCEL=tn,t.STATE_POSSIBLE=wf,t.STATE_BEGAN=$n,t.STATE_CHANGED=hu,t.STATE_ENDED=ra,t.STATE_RECOGNIZED=es,t.STATE_CANCELLED=bd,t.STATE_FAILED=xi,t.Manager=qz,t.Input=Yu,t.TouchAction=YG,t.TouchInput=$N,t.MouseInput=kN,t.PointerEventInput=tY,t.TouchMouseInput=rY,t.SingleTouchInput=Hpe,t.Recognizer=bh,t.AttrRecognizer=fu,t.Tap=gP,t.Pan=DN,t.Swipe=iY,t.Pinch=sY,t.Rotate=aY,t.Press=oY,t.on=Dc,t.off=qc,t.each=Zi,t.merge=Gpe,t.extend=cY,t.bindFn=Mz,t.assign=So,t.inherit=Ype,t.bindFn=Mz,t.prefixed=xm,t.toArray=yd,t.inArray=Oo,t.uniqueArray=jN,t.splitStr=gd,t.boolOrFn=_m,t.hasParent=RN,t.addEventListeners=Dc,t.removeEventListeners=qc,t.defaults=So({},lY,{preset:$z}),t}();dY.defaults;Xde("DELETE");function Sm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Qpe(e.length?e:[dp()])}function Qpe(t){let[e,r,n]=Xpe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Xpe(){const t=Jpe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Jpe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function Zpe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const qN=typeof window<"u"?window.Hammer||dY:function(){return Zpe()};function _i(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=qN(this._dom.overlay);r.on("tap",X(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ze(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{eme(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}xG(_i.prototype);_i.current=null;_i.prototype.destroy=function(){this.deactivate();for(const r of to(t=Qi(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};_i.prototype.activate=function(){_i.current&&_i.current.deactivate(),_i.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};_i.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};_i.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function eme(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const tme=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,rme=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,nme=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,ime=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Es(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Es(e),t.removeChild(e))}}function Tl(t){return t instanceof String||typeof t=="string"}function Az(t){return typeof t=="object"&&t!==null}function Po(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function hY(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")Po(t,e,n,r);else{const i=t[n],s=e[n];Az(i)&&Az(s)&&hY(i,s,r)}}function Qu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Nt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?it(e[s],r[s],!1,n):Po(e,r,s,n);else{if(Nt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");Po(e,r,s,n)}}return e}function mp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Nt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!ta(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?it(e[i],r[i]):Po(e,r,i,n);else if(Nt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else Po(e,r,i,n);return e}function it(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&bB(e[s])===Object.prototype)t[s]===void 0?t[s]=it({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&bB(t[s])===Object.prototype?it(t[s],e[s],r):Po(t,e,s,n);else if(Nt(e[s])){var i;t[s]=bi(i=e[s]).call(i)}else Po(t,e,s,n);return t}function vp(t,e){return[...t,e]}function sme(t){return bi(t).call(t)}function ame(t){return t.getBoundingClientRect().left}function ome(t){return t.getBoundingClientRect().top}function je(t,e){if(Nt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function MN(t){let e;switch(t.length){case 3:case 4:return e=rme.exec(t),e?{r:Xn(e[1]+e[1],16),g:Xn(e[2]+e[2],16),b:Xn(e[3]+e[3],16)}:null;case 6:case 7:return e=tme.exec(t),e?{r:Xn(e[1],16),g:Xn(e[2],16),b:Xn(e[3],16)}:null;default:return null}}function Tn(t,e){if(ta(t).call(t,"rgba"))return t;if(ta(t).call(t,"rgb")){const r=t.substr(Ve(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=MN(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function fY(t,e,r){var n;return"#"+bi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function yP(t,e){if(Tl(t)){let n=t;if(mY(n)){var r;const i=cu(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Xn(s)});n=fY(i[0],i[1],i[2])}if(pY(n)===!0){const i=lme(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=bP(a.h,a.s,a.v),l=bP(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Tl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Tl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function wc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function xf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),u=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=u,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function bP(t,e,r){const n=xf(t,e,r);return fY(n.r,n.g,n.b)}function lme(t){const e=MN(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return wc(e.r,e.g,e.b)}function pY(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function mY(t){return nme.test(t)}function ume(t){return ime.test(t)}function na(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=ro(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=na(t[r]));return e}function Pn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=ro(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const cme={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function Os(t,e){let r;Nt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const dme={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let hme=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return dme[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Tl(e)===!0){if(mY(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(ume(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(pY(e)===!0){const s=MN(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+fh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=At({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Xi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=At({},e)),this.color=e;const n=wc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=wc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=xf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=wc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),ph(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=X(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=X(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=X(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=X(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new qN(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=xf(a*u,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,u=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(u)*d+s,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=wc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=xf(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function wP(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(wP(...bi(e).call(e,1))),n}}let fme=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},At(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new hme(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Nt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Kr(e)!==void 0&&(this.options.filter=Kr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Kr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Kr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ve(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ze(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(wP("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ve(e).call(e,r)!==-1&&(s=Ve(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let u="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,u="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Xi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Xi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Kr(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],u=vp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Nt(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(u);if(Nt(l))this._handleArray(l,d,u);else if(typeof l=="string")this._makeTextInput(l,d,u);else if(typeof l=="boolean")this._makeCheckbox(l,d,u);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=vp(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,u,!0);this._makeItem(u,p),a=this._handleObject(l,u)||a}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(o,u,!0);this._makeItem(u,h),a=this._handleObject(l,u)||a}}else console.error("dont know how to handle",l,o,u)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(wP("pre","const options = "+fh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},pme=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Xn(e),this.y=Xn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,u?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},fc=!1,Fz;const xP="background: #FFeeee; color: #dd0000";let mme=class xt{static validate(e,r,n){fc=!1,Fz=r;let i=r;return n!==void 0&&(i=r[n]),xt.parse(e,i,[]),fc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&xt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){xt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=xt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),xt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+xt.printLocation(a,e),xP)},l=xt.getType(r[e]),u=s[l];u!==void 0?xt.getType(u)==="array"&&Ve(u).call(u,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+xt.print(u)+' not "'+r[e]+'". '),fc=!0):l==="object"&&i!=="__any__"&&(a=vp(a,e),xt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+xt.print(Et(s))+". Received ["+l+'] "'+r[e]+'"'),fc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Nt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=xt.findInOptions(e,r,n,!1),s=xt.findInOptions(e,Fz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+xt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+xt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+xt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+xt.printLocation(i.path,e):l=". Did you mean one of these: "+xt.print(Et(r))+xt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,xP),fc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=xt.findInOptions(e,r[h],vp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,u=p.indexMatch)}else{var d;Ve(d=h.toLowerCase()).call(d,l)!==-1&&(u=h),f=xt.levenshteinDistance(e,h),s>f&&(a=h,o=sme(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return fh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const vme=_i,gme=fme,Il=qN,yme=pme,vY=xP,bme=mme;function wme(t){return zs=t,Eme()}var gY={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},AN=ro(gY);AN.color="color.color";AN.style="dashes";var jr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Lz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},zs="",pu=0,Ie="",xe="",Vr=jr.NULL;function xme(){pu=0,Ie=zs.charAt(0)}function Zt(){pu++,Ie=zs.charAt(pu)}function rl(){return zs.charAt(pu+1)}function Bz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function ua(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function _me(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function yY(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=ua(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ve(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=ua(i.attr,e.attr))}function Sme(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=ua({},t.edge);e.attr=ua(r,e.attr)}}function bY(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=ua({},t.edge)),s.attr=ua(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function st(){for(Vr=jr.NULL,xe="";Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)Zt();do{var t=!1;if(Ie==="#"){for(var e=pu-1;zs.charAt(e)===" "||zs.charAt(e)==="	";)e--;if(zs.charAt(e)===`
`||zs.charAt(e)===""){for(;Ie!=""&&Ie!=`
`;)Zt();t=!0}}if(Ie==="/"&&rl()==="/"){for(;Ie!=""&&Ie!=`
`;)Zt();t=!0}if(Ie==="/"&&rl()==="*"){for(;Ie!="";)if(Ie==="*"&&rl()==="/"){Zt(),Zt();break}else Zt();t=!0}for(;Ie===" "||Ie==="	"||Ie===`
`||Ie==="\r";)Zt()}while(t);if(Ie===""){Vr=jr.DELIMITER;return}var r=Ie+rl();if(Lz[r]){Vr=jr.DELIMITER,xe=r,Zt(),Zt();return}if(Lz[Ie]){Vr=jr.DELIMITER,xe=Ie,Zt();return}if(Bz(Ie)||Ie==="-"){for(xe+=Ie,Zt();Bz(Ie);)xe+=Ie,Zt();xe==="false"?xe=!1:xe==="true"?xe=!0:isNaN(Number(xe))||(xe=Number(xe)),Vr=jr.IDENTIFIER;return}if(Ie==='"'){for(Zt();Ie!=""&&(Ie!='"'||Ie==='"'&&rl()==='"');)Ie==='"'?(xe+=Ie,Zt()):Ie==="\\"&&rl()==="n"?(xe+=`
`,Zt()):xe+=Ie,Zt();if(Ie!='"')throw $r('End of string " expected');Zt(),Vr=jr.IDENTIFIER;return}for(Vr=jr.UNKNOWN;Ie!="";)xe+=Ie,Zt();throw new SyntaxError('Syntax error in part "'+SY(xe,30)+'"')}function Eme(){var t={};if(xme(),st(),xe==="strict"&&(t.strict=!0,st()),(xe==="graph"||xe==="digraph")&&(t.type=xe,st()),Vr===jr.IDENTIFIER&&(t.id=xe,st()),xe!="{")throw $r("Angle bracket { expected");if(st(),wY(t),xe!="}")throw $r("Angle bracket } expected");if(st(),xe!=="")throw $r("End of file expected");return st(),delete t.node,delete t.edge,delete t.graph,t}function wY(t){for(;xe!==""&&xe!="}";)Ome(t),xe===";"&&st()}function Ome(t){var e=xY(t);if(e){_Y(t,e);return}var r=Pme(t);if(!r){if(Vr!=jr.IDENTIFIER)throw $r("Identifier expected");var n=xe;if(st(),xe==="="){if(st(),Vr!=jr.IDENTIFIER)throw $r("Identifier expected");t[n]=xe,st()}else Cme(t,n)}}function xY(t){var e=null;if(xe==="subgraph"&&(e={},e.type="subgraph",st(),Vr===jr.IDENTIFIER&&(e.id=xe,st())),xe==="{"){if(st(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,wY(e),xe!="}")throw $r("Angle bracket } expected");st(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Pme(t){return xe==="node"?(st(),t.node=Mc(),"node"):xe==="edge"?(st(),t.edge=Mc(),"edge"):xe==="graph"?(st(),t.graph=Mc(),"graph"):null}function Cme(t,e){var r={id:e},n=Mc();n&&(r.attr=n),yY(t,r),_Y(t,e)}function _Y(t,e){for(;xe==="->"||xe==="--";){var r,n=xe;st();var i=xY(t);if(i)r=i;else{if(Vr!=jr.IDENTIFIER)throw $r("Identifier or subgraph expected");r=xe,yY(t,{id:r}),st()}var s=Mc(),a=bY(t,e,r,n,s);Sme(t,a),e=r}}function Mc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;xe==="[";){for(st(),e={};xe!==""&&xe!="]";){if(Vr!=jr.IDENTIFIER)throw $r("Attribute name expected");var a=xe;if(st(),xe!="=")throw $r("Equal sign = expected");if(st(),Vr!=jr.IDENTIFIER)throw $r("Attribute value expected");var o=xe;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),st(),xe==","&&st()}if(xe!="]")throw $r("Bracket ] expected");st()}if(ta(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw $r("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var d=i[u.dir].value;if(!ta(s).call(s,"arrows"))if(d==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw $r('Invalid dir type "'+d+'"');var h,f;if(d==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},Qi(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(d==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw $r('Invalid dir type "'+d+'"');Qi(i).call(i,u.dir,1)}var m;if(ta(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)_me(i[t].attr,i[t].name,i[t].value);return e}function $r(t){return new SyntaxError(t+', got "'+SY(xe,30)+'" (char '+pu+")")}function SY(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Nme(t,e,r){Nt(t)?Ze(t).call(t,function(n){Nt(e)?Ze(e).call(e,function(i){r(n,i)}):r(n,e)}):Nt(e)?Ze(e).call(e,function(n){r(t,n)}):r(t,e)}function pS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function zz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Nt(i)?Ze(i).call(i,function(s){pS(r,s,t[n])}):typeof i=="string"?pS(r,i,t[n]):pS(r,n,t[n])}return r}function Tme(t){var e=wme(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Ze(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};ua(o,zz(a.attr,gY)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return ua(o,zz(a.attr,AN)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};Ze(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Ze(u=a.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if(Nme(o,l,function(h,f){var p=bY(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;Ze(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Ime(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=cu(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:cu(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const Rme={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},jme={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},$me={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},kme={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Dme={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},qme={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Mme={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Ame={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Fme={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Lme={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},Bme={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var zme=Object.freeze({__proto__:null,cn:Ame,cs:Bme,de:jme,en:Rme,es:$me,fr:Lme,it:kme,nl:Dme,pt:qme,ru:Mme,uk:Fme});function Ume(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(ffe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Wme{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,u,s],[5*u,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Vme{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Wme;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Uz={},Wz={},mS={exports:{}},vS,Vz;function Hme(){if(Vz)return vS;Vz=1;var t=De();return vS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),vS}var gS,Hz;function Kme(){if(Hz)return gS;Hz=1;var t=De(),e=lr(),r=Ni(),n=Hme(),i=Object.isExtensible,s=t(function(){});return gS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,gS}var yS,Kz;function EY(){if(Kz)return yS;Kz=1;var t=De();return yS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),yS}var Gz;function Em(){if(Gz)return mS.exports;Gz=1;var t=ye(),e=Le(),r=lh(),n=lr(),i=gr(),s=Fn().f,a=ym(),o=SN(),l=Kme(),u=dm(),d=EY(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=mS.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,mS.exports}var bS,Yz;function Gme(){if(Yz)return bS;Yz=1;var t=Ut(),e=Vu(),r=t("iterator"),n=Array.prototype;return bS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},bS}var wS,Qz;function OY(){if(Qz)return wS;Qz=1;var t=Wu(),e=pN(),r=Du(),n=Vu(),i=Ut(),s=i("iterator");return wS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},wS}var xS,Xz;function Yme(){if(Xz)return xS;Xz=1;var t=an(),e=vs(),r=Ti(),n=Au(),i=OY(),s=TypeError;return xS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},xS}var _S,Jz;function FN(){if(Jz)return _S;Jz=1;var t=an(),e=Ti(),r=pN();return _S=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},_S}var SS,Zz;function Om(){if(Zz)return SS;Zz=1;var t=fm(),e=an(),r=Ti(),n=Au(),i=Gme(),s=gs(),a=zt(),o=Yme(),l=OY(),u=FN(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return SS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,N,T=function(z){return E&&u(E,"normal"),new h(!0,z)},q=function(z){return g?(r(z),w?_(z[0],z[1],T):_(z[0],z[1])):w?_(z,T):_(z)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(N=e(I,E)).done;){try{C=q(N.value)}catch(z){u(E,"throw",z)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},SS}var ES,e6;function LN(){if(e6)return ES;e6=1;var t=zt(),e=TypeError;return ES=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},ES}var OS,t6;function BN(){if(t6)return OS;t6=1;var t=ye(),e=ft(),r=Em(),n=De(),i=Bu(),s=Om(),a=LN(),o=or(),l=lr(),u=Du(),d=Lo(),h=Fn().f,f=wa().forEach,p=$t(),m=Bo(),y=m.set,b=m.getterFor;return OS=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(T,q){y(a(T,I),{type:g,collection:new O}),u(q)||s(q,T[E],{that:T,AS_ENTRIES:w})});var I=C.prototype,N=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(T){var q=T==="add"||T==="set";T in S&&!(_&&T==="clear")&&i(I,T,function(z,Z){var K=N(this).collection;if(!q&&_&&!l(z))return T==="get"?void 0:!1;var L=K[T](z===0?0:z,Z);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return N(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},OS}var PS,r6;function zN(){if(r6)return PS;r6=1;var t=hh();return PS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},PS}var CS,n6;function Qme(){if(n6)return CS;n6=1;var t=bn(),e=EN(),r=Ut(),n=$t(),i=r("species");return CS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},CS}var NS,i6;function PY(){if(i6)return NS;i6=1;var t=dh(),e=EN(),r=zN(),n=fm(),i=LN(),s=Du(),a=Om(),o=PN(),l=CN(),u=Qme(),d=$t(),h=Em().fastKey,f=Bo(),p=f.set,m=f.getterFor;return NS={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),N=O(S,P),T,q;return N?N.value=C:(I.last=N={index:q=h(P,!0),key:P,value:C,previous:T=I.last,next:null,removed:!1},I.first||(I.first=N),T&&(T.next=N),d?I.size++:S.size++,q!=="F"&&(I.index[q]=N)),S},O=function(S,P){var C=_(S),I=h(P),N;if(I!=="F")return C.index[I];for(N=C.first;N;N=N.next)if(N.key===P)return N};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var N=I.next,T=I.previous;delete C.index[I.index],I.removed=!0,T&&(T.next=N),N&&(N.previous=T),C.first===I&&(C.first=N),C.last===I&&(C.last=T),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),N;N=N?N.next:C.first;)for(I(N.value,N.key,this);N&&N.removed;)N=N.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},NS}var s6;function Xme(){if(s6)return Wz;s6=1;var t=BN(),e=PY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),Wz}var a6;function Jme(){return a6||(a6=1,Xme()),Uz}var o6={},TS,l6;function CY(){return l6||(l6=1,TS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),TS}var IS,u6;function Zme(){if(u6)return IS;u6=1;var t=bn(),e=CY(),r=t("Map");return IS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},IS}var c6;function eve(){if(c6)return o6;c6=1;var t=ye(),e=Le(),r=vs(),n=ms(),i=Om(),s=Zme(),a=Fu(),o=De(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),o6}var d6={},RS,h6;function tve(){if(h6)return RS;h6=1;var t=Le(),e=zu(),r=Ln(),n=ms(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return RS={codeAt:o(!1),charAt:o(!0)},RS}var f6;function UN(){if(f6)return d6;f6=1;var t=tve().charAt,e=Ln(),r=Bo(),n=PN(),i=CN(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),d6}var jS,p6;function rve(){if(p6)return jS;p6=1,Hu(),Jme(),eve(),UN();var t=Ge();return jS=t.Map,jS}var $S,m6;function nve(){if(m6)return $S;m6=1;var t=rve();return Ku(),$S=t,$S}var kS,v6;function ive(){return v6||(v6=1,kS=nve()),kS}var sve=ive(),WN=Oe(sve);class ave{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},At(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ve(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new WN,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var g6={},y6;function ove(){if(y6)return g6;y6=1;var t=ye();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),g6}var DS,b6;function lve(){if(b6)return DS;b6=1,ove();var t=Ge();return DS=t.Number.isNaN,DS}var qS,w6;function uve(){if(w6)return qS;w6=1;var t=lve();return qS=t,qS}var MS,x6;function cve(){return x6||(x6=1,MS=uve()),MS}var dve=cve(),_P=Oe(dve),_6={},AS,S6;function hve(){if(S6)return AS;S6=1;var t=ft(),e=t.isFinite;return AS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},AS}var E6;function fve(){if(E6)return _6;E6=1;var t=ye(),e=hve();return t({target:"Number",stat:!0},{isFinite:e}),_6}var FS,O6;function pve(){if(O6)return FS;O6=1,fve();var t=Ge();return FS=t.Number.isFinite,FS}var LS,P6;function mve(){if(P6)return LS;P6=1;var t=pve();return LS=t,LS}var BS,C6;function vve(){return C6||(C6=1,BS=mve()),BS}var gve=vve(),Fa=Oe(gve),N6={},T6;function yve(){if(T6)return N6;T6=1;var t=ye(),e=wa().some,r=Gu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),N6}var zS,I6;function bve(){if(I6)return zS;I6=1,yve();var t=yr();return zS=t("Array","some"),zS}var US,R6;function wve(){if(R6)return US;R6=1;var t=zt(),e=bve(),r=Array.prototype;return US=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},US}var WS,j6;function xve(){if(j6)return WS;j6=1;var t=wve();return WS=t,WS}var VS,$6;function _ve(){return $6||($6=1,VS=xve()),VS}var Sve=_ve(),Eve=Oe(Sve),HS={exports:{}},k6={},D6;function Ove(){if(D6)return k6;D6=1;var t=ye(),e=$t(),r=Fn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),k6}var q6;function Pve(){if(q6)return HS.exports;q6=1,Ove();var t=Ge(),e=t.Object,r=HS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),HS.exports}var KS,M6;function NY(){if(M6)return KS;M6=1;var t=Pve();return KS=t,KS}var GS,A6;function Cve(){if(A6)return GS;A6=1;var t=NY();return GS=t,GS}var YS,F6;function Nve(){if(F6)return YS;F6=1;var t=Cve();return YS=t,YS}var QS,L6;function Tve(){return L6||(L6=1,QS=Nve()),QS}var Ive=Tve(),Rve=Oe(Ive),B6={},z6;function jve(){if(z6)return B6;z6=1;var t=Ut(),e=Fn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),B6}var U6={},W6;function $ve(){return W6||(W6=1,IG()),U6}var V6={},H6;function kve(){return H6||(H6=1,RG()),V6}var K6={},G6;function Dve(){if(G6)return K6;G6=1;var t=wt();return t("metadata"),K6}var XS,Y6;function qve(){if(Y6)return XS;Y6=1;var t=qG();return jve(),$ve(),kve(),Dve(),XS=t,XS}var Q6={},JS,X6;function TY(){if(X6)return JS;X6=1;var t=bn(),e=Le(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return JS=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},JS}var J6;function Mve(){if(J6)return Q6;J6=1;var t=ye(),e=TY();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),Q6}var Z6={},ZS,e8;function IY(){if(e8)return ZS;e8=1;for(var t=Lu(),e=bn(),r=Le(),n=oh(),i=Ut(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return ZS=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},ZS}var t8;function Ave(){if(t8)return Z6;t8=1;var t=ye(),e=IY();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),Z6}var r8={},n8;function Fve(){if(n8)return r8;n8=1;var t=wt();return t("customMatcher"),r8}var i8={},s8;function Lve(){if(s8)return i8;s8=1;var t=wt();return t("observable"),i8}var a8={},o8;function Bve(){if(o8)return a8;o8=1;var t=ye(),e=TY();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),a8}var l8={},u8;function zve(){if(u8)return l8;u8=1;var t=ye(),e=IY();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),l8}var c8={},d8;function Uve(){if(d8)return c8;d8=1;var t=wt();return t("matcher"),c8}var h8={},f8;function Wve(){if(f8)return h8;f8=1;var t=wt();return t("metadataKey"),h8}var p8={},m8;function Vve(){if(m8)return p8;m8=1;var t=wt();return t("patternMatch"),p8}var v8={},g8;function Hve(){if(g8)return v8;g8=1;var t=wt();return t("replaceAll"),v8}var eE,y8;function Kve(){if(y8)return eE;y8=1;var t=qve();return Mve(),Ave(),Fve(),Lve(),Bve(),zve(),Uve(),Wve(),Vve(),Hve(),eE=t,eE}var tE,b8;function Gve(){return b8||(b8=1,tE=Kve()),tE}var Yve=Gve(),ef=Oe(Yve),rE,w8;function Qve(){if(w8)return rE;w8=1,Hu(),UN(),jG();var t=bm();return rE=t.f("iterator"),rE}var nE,x8;function Xve(){if(x8)return nE;x8=1;var t=Qve();return Ku(),nE=t,nE}var iE,_8;function Jve(){if(_8)return iE;_8=1;var t=Xve();return iE=t,iE}var sE,S8;function Zve(){if(S8)return sE;S8=1;var t=Jve();return sE=t,sE}var aE,E8;function ege(){return E8||(E8=1,aE=Zve()),aE}var tge=ege(),rge=Oe(tge);function wd(t){"@babel/helpers - typeof";return wd=typeof ef=="function"&&typeof rge=="symbol"?function(e){return typeof e}:function(e){return e&&typeof ef=="function"&&e.constructor===ef&&e!==ef.prototype?"symbol":typeof e},wd(t)}var oE,O8;function nge(){if(O8)return oE;O8=1,$G();var t=bm();return oE=t.f("toPrimitive"),oE}var lE,P8;function ige(){if(P8)return lE;P8=1;var t=nge();return lE=t,lE}var uE,C8;function sge(){if(C8)return uE;C8=1;var t=ige();return uE=t,uE}var cE,N8;function age(){if(N8)return cE;N8=1;var t=sge();return cE=t,cE}var dE,T8;function oge(){return T8||(T8=1,dE=age()),dE}var lge=oge(),uge=Oe(lge);function cge(t,e){if(wd(t)!="object"||!t)return t;var r=t[uge];if(r!==void 0){var n=r.call(t,e);if(wd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function dge(t){var e=cge(t,"string");return wd(e)=="symbol"?e:e+""}function Wi(t,e,r){return(e=dge(e))in t?Rve(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var I8={},hE,R8;function hge(){if(R8)return hE;R8=1;var t=ft(),e=De(),r=Le(),n=Ln(),i=AG().trim,s=NN(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,u=l&&l.iterator,d=1/o(s+"-0")!==-1/0||u&&!e(function(){o(Object(u))});return hE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,hE}var j8;function fge(){if(j8)return I8;j8=1;var t=ye(),e=hge();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),I8}var fE,$8;function pge(){if($8)return fE;$8=1,fge();var t=Ge();return fE=t.parseFloat,fE}var pE,k8;function mge(){if(k8)return pE;k8=1;var t=pge();return pE=t,pE}var mE,D8;function vge(){return D8||(D8=1,mE=mge()),mE}var gge=vge(),RY=Oe(gge),q8={},M8;function yge(){if(M8)return q8;M8=1;var t=ye(),e=De(),r=SN().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),q8}var vE,A8;function bge(){if(A8)return vE;A8=1,yge();var t=Ge(),e=t.Object;return vE=function(n){return e.getOwnPropertyNames(n)},vE}var gE,F8;function wge(){if(F8)return gE;F8=1;var t=bge();return gE=t,gE}var yE,L8;function xge(){return L8||(L8=1,yE=wge()),yE}var _ge=xge(),Sge=Oe(_ge),bE,B8;function Ege(){if(B8)return bE;B8=1,TG();var t=Ge();return bE=t.Object.getOwnPropertySymbols,bE}var wE,z8;function Oge(){if(z8)return wE;z8=1;var t=Ege();return wE=t,wE}var xE,U8;function Pge(){return U8||(U8=1,xE=Oge()),xE}var Cge=Pge(),ca=Oe(Cge),_E={exports:{}},W8={},V8;function Nge(){if(V8)return W8;V8=1;var t=ye(),e=De(),r=li(),n=hm().f,i=$t(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),W8}var H8;function Tge(){if(H8)return _E.exports;H8=1,Nge();var t=Ge(),e=t.Object,r=_E.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),_E.exports}var SE,K8;function Ige(){if(K8)return SE;K8=1;var t=Tge();return SE=t,SE}var EE,G8;function Rge(){return G8||(G8=1,EE=Ige()),EE}var jge=Rge(),xa=Oe(jge),Y8={},Q8;function $ge(){if(Q8)return Y8;Q8=1;var t=ye(),e=$t(),r=ihe(),n=li(),i=hm(),s=vm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),Y8}var OE,X8;function kge(){if(X8)return OE;X8=1,$ge();var t=Ge();return OE=t.Object.getOwnPropertyDescriptors,OE}var PE,J8;function Dge(){if(J8)return PE;J8=1;var t=kge();return PE=t,PE}var CE,Z8;function qge(){return Z8||(Z8=1,CE=Dge()),CE}var Mge=qge(),da=Oe(Mge),NE={exports:{}},eU={},tU;function Age(){if(tU)return eU;tU=1;var t=ye(),e=$t(),r=_N().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),eU}var rU;function Fge(){if(rU)return NE.exports;rU=1,Age();var t=Ge(),e=t.Object,r=NE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),NE.exports}var TE,nU;function Lge(){if(nU)return TE;nU=1;var t=Fge();return TE=t,TE}var IE,iU;function Bge(){return iU||(iU=1,IE=Lge()),IE}var zge=Bge(),Pm=Oe(zge),RE,sU;function Uge(){return sU||(sU=1,RE=NY()),RE}var Wge=Uge(),Cm=Oe(Wge);function VN(t,e){const r=["node","edge","label"];let n=!0;const i=Os(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ve(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=Os(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function SP(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function gp(t){return typeof t=="string"&&t!==""}function jY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var jE,aU;function Vge(){if(aU)return jE;aU=1,Hu();var t=yr();return jE=t("Array","values"),jE}var $E,oU;function Hge(){if(oU)return $E;oU=1;var t=Vge();return $E=t,$E}var kE,lU;function Kge(){if(lU)return kE;lU=1,Ku();var t=Wu(),e=gr(),r=zt(),n=Hge(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return kE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},kE}var DE,uU;function Gge(){return uU||(uU=1,DE=Kge()),DE}var Yge=Gge(),$Y=Oe(Yge);class Qge{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=At({},$Y(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};At(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const Xge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class cU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=Xge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class Jge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let u=0;return a!==""&&(u=this.ctx.measureText(a).width),{width:u,values:l}};this.lines=new Qge(s)}process(e){if(!gp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.splitStringIntoLines(u,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new cU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new cU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(bi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(bi(a).call(a,0,o),r),i[0]=bi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=bi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=bi(i).call(i,a)}}}}const pc=["bold","ital","boldital","mono"];class Rl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),gp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(je(pc,r=>{this.fontOptions[r]={}}),Rl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}je(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=Os(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=Os(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=Os(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=Os(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=Os(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=Os(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),it(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=VN("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Rl.parseFontString(s,i)&&(i=s),je(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ve(pc).call(pc,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Rl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<pc.length;++n){const i=pc[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);je(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let u=0;u<o.blocks.length;u++){const d=o.blocks[u];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Tn(i,a),s=Tn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,d){return u==="normal"?d==="mod"?"":l[d]:l[u][d]!==void 0?l[u][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new Jge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class Uo{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),ph(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let Zge=class extends Uo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),yG(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class HN extends Uo{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),bN(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let eye=class extends HN{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class tye extends HN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class _a extends Uo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),gde(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function dU(t,e){var r=Et(t);if(ca){var n=ca(t);e&&(n=Kr(n).call(n,function(i){return xa(t,i).enumerable})),r.push.apply(r,n)}return r}function rye(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=dU(Object(i),!0)).call(r,function(s){Wi(t,s,i[s])}):da?Pm(t,da(i)):Ze(n=dU(Object(i))).call(n,function(s){Cm(t,s,xa(i,s))})}return t}class nye extends _a{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:rye({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class iye extends Uo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),bG(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let sye=class extends _a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class aye extends _a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class hU extends Uo{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),fP(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class oye extends Uo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let lye=class extends HN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Tn(f,a.opacity),p=Tn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),ph(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class uye extends _a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class cye extends _a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class dye extends _a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class hye extends Uo{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let fye=class extends _a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class pye extends _a{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function fU(t,e){var r=Et(t);if(ca){var n=ca(t);e&&(n=Kr(n).call(n,function(i){return xa(t,i).enumerable})),r.push.apply(r,n)}return r}function pU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=fU(Object(i),!0)).call(r,function(s){Wi(t,s,i[s])}):da?Pm(t,da(i)):Ze(n=fU(Object(i))).call(n,function(s){Cm(t,s,xa(i,s))})}return t}class dt{constructor(e,r,n,i,s,a){this.options=na(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Rl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ve(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ve(r=this.edges).call(r,e);if(n!=-1){var i;Qi(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");dt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Xn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Xn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=RY(e.value)),dt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=VN("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&dt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(dt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Kr(i=Sge(r)).call(i,u=>r[u]!=null);l.push("font"),mp(l,e,o),e.color=yP(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(mp(["color","fixed","shadow"],e,r,n),dt.checkMass(r),e.opacity!==void 0&&(dt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(dt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!dt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),Pn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=yP(r.color);hY(e.color,o)}else n===!0&&r.color===null&&(e.color=na(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=na(i.font)),dt.updateGroupOptions(e,r,s),r.scaling!==void 0&&Pn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Tn(e.borderColor,r),e.color=Tn(e.color,r),e.shadowColor=Tn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),dt.updateGroupOptions(this.options,pU(pU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new Zge(this.options,this.body,this.labelModule);break;case"circle":this.shape=new eye(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new tye(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new nye(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new iye(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new sye(this.options,this.body,this.labelModule);break;case"dot":this.shape=new aye(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new hU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new oye(this.options,this.body,this.labelModule);break;case"image":this.shape=new lye(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new uye(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new cye(this.options,this.body,this.labelModule);break;case"star":this.shape=new dye(this.options,this.body,this.labelModule);break;case"text":this.shape=new hye(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new fye(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new pye(this.options,this.body,this.labelModule);break;default:this.shape=new hU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&SP(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),SP(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",vY),e.mass=1}}}class mye{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=X(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,u){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(u-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=na(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",X(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",X(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{je(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(dt.parseOptions(this.options,e),e.opacity!==void 0&&(_P(e.opacity)||!Fa(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Et(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(cG("id",e))this.body.data.nodes=e;else if(Nt(e))this.body.data.nodes=new uu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new uu;else throw new TypeError("Array or DataSet expected");if(n&&je(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;je(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const u=r[a];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[o]=l)}!s&&n!==void 0&&(s=Eve(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:dt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;je(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Nt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Xi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var mU={},vU;function vye(){if(vU)return mU;vU=1;var t=ye(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,u=0,d=arguments.length,h=0,f,p;u<d;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),mU}var qE,gU;function gye(){if(gU)return qE;gU=1,vye();var t=Ge();return qE=t.Math.hypot,qE}var ME,yU;function yye(){if(yU)return ME;yU=1;var t=gye();return ME=t,ME}var AE,bU;function bye(){return bU||(bU=1,AE=yye()),AE}var wye=bye(),xye=Oe(wye);class Rt{static transform(e,r){Nt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],u=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*u,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let _ye=class extends Rt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class Sye extends Rt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class Eye{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class Oye{static draw(e,r){const n={x:-.4,y:0};Rt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Pye{static draw(e,r){const n={x:-.3,y:0};Rt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Cye{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class Nye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class Tye{static draw(e,r){const n={x:-.4,y:0};return Rt.transform(n,r),bN(e,n.x,n.y,r.length*.4),!0}}class Iye{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class Rye{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class jye{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class $ye{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Rt.transform(n,r),Rt.drawPath(e,n),!0}}class kY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return _ye.draw(e,r);case"circle":return Tye.draw(e,r);case"box":return Rye.draw(e,r);case"crow":return Eye.draw(e,r);case"curve":return Oye.draw(e,r);case"diamond":return jye.draw(e,r);case"inv_curve":return Pye.draw(e,r);case"triangle":return Cye.draw(e,r);case"inv_triangle":return Nye.draw(e,r);case"bar":return Iye.draw(e,r);case"vee":return $ye.draw(e,r);case"arrow":default:return Sye.draw(e,r)}}}function wU(t,e){var r=Et(t);if(ca){var n=ca(t);e&&(n=Kr(n).call(n,function(i){return xa(t,i).enumerable})),r.push.apply(r,n)}return r}function xU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=wU(Object(i),!0)).call(r,function(s){Wi(t,s,i[s])}):da?Pm(t,da(i)):Ze(n=wU(Object(i))).call(n,function(s){Cm(t,s,xa(i,s))})}return t}class DY{constructor(e,r,n){Wi(this,"color",{}),Wi(this,"colorDirty",!0),Wi(this,"hoverWidth",1.5),Wi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Nt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)wG(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=bi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=jY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,u=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<u);return xU(xU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Tn(this.from.options.color.border,r.opacity),s=Tn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Tn(this.to.options.color.border,r.opacity):Tn(this.from.options.color.border,r.opacity)}else return Tn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,u]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,u=o*o+l*l;let d=((s-e)*o+(a-r)*l)/u;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,u,d,h,f,p;const m=a.width;r==="from"?(u=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(u=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(u=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(u!=d){const x=xye(u.x-d.x,u.y-d.y),w=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(u.y-d.y,u.x-d.x),l=this._findBorderPosition(u,e);else{const _=(h?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,kY.draw(e,s)&&(this.enableShadow(e,r),ph(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Nt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function _U(t,e){var r=Et(t);if(ca){var n=ca(t);e&&(n=Kr(n).call(n,function(i){return xa(t,i).enumerable})),r.push.apply(r,n)}return r}function SU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ze(r=_U(Object(i),!0)).call(r,function(s){Wi(t,s,i[s])}):da?Pm(t,da(i)):Ze(n=_U(Object(i))).call(n,function(s){Cm(t,s,xa(i,s))})}return t}class KN extends DY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,u=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(u.y-d.y,u.x-d.x),y=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return SU(SU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,u,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(u=this._getDistanceToLine(m,y,f,p,s,a),l=u<l?u:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class EU extends KN{constructor(e,r,n){super(e,r,n),Wi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class OU extends KN{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class kye extends KN{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let u=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,b,s,a);u=g<u?g:u}d=y,h=b}return u}}class PU extends kye{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class CU extends DY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),u=e.distanceToBorder(r,s),d=(l-u)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class ia{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=na(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Rl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;ia.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=RY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=VN("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(Qu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(Fa(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(Fa(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),gp(r.label)?e.label=r.label:gp(e.label)||(e.label=void 0),Pn(e,r,"smooth",i),Pn(e,r,"shadow",i),Pn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=ro(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),Pn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=ro(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ve(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ve(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ve(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")Pn(e.arrows,r.arrows,"to",i.arrows),Pn(e.arrows,r.arrows,"middle",i.arrows),Pn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+fh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=ro(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Tl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)it(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(Tl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let u=!1;o.color!==void 0&&(l.color=o.color,u=!0),o.highlight!==void 0&&(l.highlight=o.highlight,u=!0),o.hover!==void 0&&(l.hover=o.hover,u=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=na(i.color));n===!0&&r.font===null&&(e.font=na(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof EU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof PU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof OU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof CU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new EU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new PU(this.options,this.body,this.labelModule):this.edgeType=new OU(this.options,this.body,this.labelModule):this.edgeType=new CU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=jY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();SP(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Dye{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=X(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const u=1/(a-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},it(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],u=e.body.data.edges.get(o);if(u!=null){const d=u.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",X(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",X(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{je(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){ia.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(cG("id",e))this.body.data.edges=e;else if(Nt(e))this.body.data.edges=new uu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new uu;else throw new TypeError("Array or DataSet expected");if(n&&je(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){je(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;je(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){je(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new ia(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];je(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Ze(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class qY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Sm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const u=Math.abs(o-s)-Math.abs(l-a);u>0?(a-=.5*u,l+=.5*u):(s+=.5*u,o-=.5*u);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class qye{constructor(e,r,n){this._rng=Sm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=u[d[y]];for(let b=y+1;b<d.length;b++)l=u[d[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class Mye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const u=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const y=d*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class FE{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,u=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class Aye{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<h.length;w++)r=u[h[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,g+=p[_].y}const v=b/f.length,x=g/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class _f{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const u=a[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Fye extends qY{constructor(e,r,n){super(e,r,n),this._rng=Sm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,u=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class Lye extends _f{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class Bye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},At(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,mp(["stabilization"],this.options,e),Pn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||_P(r.x))&&(r.x=0),(typeof r.y!="number"||_P(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Fye(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new Lye(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new qye(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new _f(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Mye(this.body,this.physicsBody,e),this.edgesSolver=new Aye(this.body,this.physicsBody,e),this.gravitySolver=new _f(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new qY(this.body,this.physicsBody,e),this.edgesSolver=new FE(this.body,this.physicsBody,e),this.gravitySolver=new _f(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=X(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=dp();this.physicsTick(),(dp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Xi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Et(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Xi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Xi(X(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),d=3*u,h=bP((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,kY.draw(e,{type:"arrow",point:f,angle:p,length:d}),ph(e).call(e)}}}const dr=[];for(let t=0;t<256;++t)dr.push((t+256).toString(16).slice(1));function zye(t,e=0){return(dr[t[e+0]]+dr[t[e+1]]+dr[t[e+2]]+dr[t[e+3]]+"-"+dr[t[e+4]]+dr[t[e+5]]+"-"+dr[t[e+6]]+dr[t[e+7]]+"-"+dr[t[e+8]]+dr[t[e+9]]+"-"+dr[t[e+10]]+dr[t[e+11]]+dr[t[e+12]]+dr[t[e+13]]+dr[t[e+14]]+dr[t[e+15]]).toLowerCase()}let LE;const Uye=new Uint8Array(16);function Wye(){if(!LE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");LE=crypto.getRandomValues.bind(crypto)}return LE(Uye)}const Vye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var NU={randomUUID:Vye};function Hye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Wye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,zye(n)}function Ac(t,e,r){return NU.randomUUID&&!t?NU.randomUUID():Hye(t)}class kr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(it(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):it(n,e.options,!0),n}}class Kye extends dt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],je(r.edges,n=>{delete this.containedEdges[n.id]}),je(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},je(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},je(r.edges,n=>{je(this.edges,i=>{var s,a;const o=Ve(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(je(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Qi(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Gye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},At(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};je(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,je(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let u=0;u<this.body.nodeIndices.length;u++){const d={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=kr.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Et(d).length>0&&Et(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in d)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,u=kr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=kr.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=cu(n=Et(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ve(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,u,d;const h=Et(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,u=s.fromId,d=u):(l=s.toId,u=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Et(e).length==0||Et(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=it({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=kr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=kr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Ac());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const u=this.body.functions.createNode(a,Kye);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Et(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ve(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else je(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const u=[];for(let d=0;d<i.edges.length;d++)u.push(i.edges[d]);for(let d=0;d<u.length;d++){const h=u[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),to(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return to(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(o);else for(let d=0;d<u.length;++d){const h=u[d];Ve(r).call(r,u)!==-1||Ve(n).call(n,u)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=kr.cloneOptions(n,"edge");it(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Ac(),s!==void 0&&it(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof ia){const s=r,a={};a[s.id]=s,r=a}if(e instanceof dt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return je(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{je(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];je(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){je(l.containedEdges,(u,d)=>{!u.endPointsValid()&&!n[d]&&(n[d]=d)})}),je(this.body.edges,(l,u)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;je(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[u]=u)}),i(l=>{je(n,u=>{delete l.containedEdges[u],je(l.edges,(d,h)=>{if(d.id===u){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),je(n,l=>{delete this.clusteredEdges[l]}),je(n,l=>{delete this.body.edges[l]});const s=Et(this.body.edges);je(s,l=>{const u=this.body.edges[l],d=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(d!==this._isClusteredEdge(u.id))if(d){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let a=!1,o=!0;for(;o;){const l=[];i(function(u){const d=Et(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Yye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},At(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Xi(()=>{var r;this.zooming=!1,X(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",X(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&Qu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(X(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:d.y,right:d.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var BE,TU;function Qye(){if(TU)return BE;TU=1,BG();var t=Ge();return BE=t.setInterval,BE}var zE,IU;function Xye(){return IU||(IU=1,zE=Qye()),zE}var Jye=Xye(),Zye=Oe(Jye);function yp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function MY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class ebe{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},At(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",X(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&Qu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=Zye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=X(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Ze(e=to(r=Qi(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ve(e).call(e,"%")!==-1||Ve(e).call(e,"px")!==-1)return e;if(Ve(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Il(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Il.DIRECTION_ALL}),yp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Il(this.frame),MY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function tbe(t,e){const r=At({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Nt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class rbe{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",X(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",X(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=tbe(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=kr.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=kr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=kr.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:kr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!Fa(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!Fa(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!Fa(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!Fa(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=X(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=X(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=cme[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=X(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function RU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){u(d,"keydown")},l=function(d){u(d,"keyup")},u=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class nbe{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Il(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;yp(o,X(n=this._fit).call(n,this))}else{var i;yp(o,X(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Il(this.canvas.frame);MY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=X(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=RU({container:window,preventDefault:!0}):this.keycharm=RU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S;X(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),X(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),X(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),X(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),X(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),X(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),X(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),X(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),X(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),X(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),X(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),X(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),X(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),X(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),X(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class ibe{constructor(e,r,n){var i,s,a,o,l,u,d,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new nbe(e,r),this.body.eventListeners.onTap=X(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=X(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=X(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=X(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=X(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=X(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=X(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=X(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=X(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=X(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=X(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=X(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=X(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},At(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(mp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),Pn(this.options,e,"keyboard"),e.tooltip&&(At(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=yP(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-ame(this.canvas.frame.canvas),y:e.y-ome(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ve(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=At({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ze(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Kr(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Ze(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Ze(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Xi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,u=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new yme(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var jU={},$U={},kU;function sbe(){if(kU)return $U;kU=1;var t=BN(),e=PY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),$U}var DU;function abe(){return DU||(DU=1,sbe()),jU}var qU={},UE,MU;function Wo(){if(MU)return UE;MU=1;var t=Au(),e=TypeError;return UE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},UE}var WE,AU;function Vo(){if(AU)return WE;AU=1;var t=bn(),e=CY(),r=t("Set"),n=r.prototype;return WE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},WE}var VE,FU;function Ho(){if(FU)return VE;FU=1;var t=an();return VE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},VE}var HE,LU;function wh(){if(LU)return HE;LU=1;var t=Ho();return HE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},HE}var KE,BU;function GN(){if(BU)return KE;BU=1;var t=Vo(),e=wh(),r=t.Set,n=t.add;return KE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},KE}var GE,zU;function xh(){return zU||(zU=1,GE=function(t){return t.size}),GE}var YE,UU;function obe(){return UU||(UU=1,YE=function(t){return{iterator:t,next:t.next,done:!1}}),YE}var QE,WU;function Ko(){if(WU)return QE;WU=1;var t=vs(),e=Ti(),r=an(),n=zu(),i=obe(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},QE=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},QE}var XE,VU;function lbe(){if(VU)return XE;VU=1;var t=Wo(),e=Vo(),r=GN(),n=xh(),i=Ko(),s=wh(),a=Ho(),o=e.has,l=e.remove;return XE=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},XE}var JE,HU;function Go(){return HU||(HU=1,JE=function(){return!1}),JE}var KU;function ube(){if(KU)return qU;KU=1;var t=ye(),e=lbe(),r=De(),n=Go(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),qU}var GU={},ZE,YU;function cbe(){if(YU)return ZE;YU=1;var t=Wo(),e=Vo(),r=xh(),n=Ko(),i=wh(),s=Ho(),a=e.Set,o=e.add,l=e.has;return ZE=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},ZE}var QU;function dbe(){if(QU)return GU;QU=1;var t=ye(),e=De(),r=cbe(),n=Go(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),GU}var XU={},eO,JU;function hbe(){if(JU)return eO;JU=1;var t=Wo(),e=Vo().has,r=xh(),n=Ko(),i=wh(),s=Ho(),a=FN();return eO=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},eO}var ZU;function fbe(){if(ZU)return XU;ZU=1;var t=ye(),e=hbe(),r=Go(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),XU}var eW={},tO,tW;function pbe(){if(tW)return tO;tW=1;var t=Wo(),e=xh(),r=wh(),n=Ko();return tO=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},tO}var rW;function mbe(){if(rW)return eW;rW=1;var t=ye(),e=pbe(),r=Go(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),eW}var nW={},rO,iW;function vbe(){if(iW)return rO;iW=1;var t=Wo(),e=Vo().has,r=xh(),n=Ko(),i=Ho(),s=FN();return rO=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},rO}var sW;function gbe(){if(sW)return nW;sW=1;var t=ye(),e=vbe(),r=Go(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),nW}var aW={},nO,oW;function ybe(){if(oW)return nO;oW=1;var t=Wo(),e=Vo(),r=GN(),n=Ko(),i=Ho(),s=e.add,a=e.has,o=e.remove;return nO=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},nO}var iO,lW;function AY(){return lW||(lW=1,iO=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),iO}var uW;function bbe(){if(uW)return aW;uW=1;var t=ye(),e=ybe(),r=AY(),n=Go(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),aW}var cW={},sO,dW;function wbe(){if(dW)return sO;dW=1;var t=Wo(),e=Vo().add,r=GN(),n=Ko(),i=Ho();return sO=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},sO}var hW;function xbe(){if(hW)return cW;hW=1;var t=ye(),e=wbe(),r=AY(),n=Go(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),cW}var aO,fW;function _be(){if(fW)return aO;fW=1,Hu(),abe(),ube(),dbe(),fbe(),mbe(),gbe(),bbe(),xbe(),UN();var t=Ge();return aO=t.Set,aO}var oO,pW;function Sbe(){if(pW)return oO;pW=1;var t=_be();return Ku(),oO=t,oO}var lO,mW;function Ebe(){return mW||(mW=1,lO=Sbe()),lO}var Obe=Ebe(),Ns=Oe(Obe),vW={},gW={},uO,yW;function Pbe(){if(yW)return uO;yW=1;var t=Le(),e=zN(),r=Em().getWeakData,n=LN(),i=Ti(),s=Du(),a=lr(),o=Om(),l=wa(),u=gr(),d=Bo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&y(this.entries,_,1),!!~_}},uO={getConstructor:function(w,_,E,O){var S=w(function(N,T){n(N,P),h(N,{type:_,id:b++,frozen:null}),s(T)||o(T,N[O],{that:N,AS_ENTRIES:E})}),P=S.prototype,C=f(_),I=function(N,T,q){var z=C(N),Z=r(i(T),!0);return Z===!0?g(z).set(T,q):Z[z.id]=q,N};return e(P,{delete:function(N){var T=C(this);if(!a(N))return!1;var q=r(N);return q===!0?g(T).delete(N):q&&u(q,T.id)&&delete q[T.id]},has:function(T){var q=C(this);if(!a(T))return!1;var z=r(T);return z===!0?g(q).has(T):z&&u(z,q.id)}}),e(P,E?{get:function(T){var q=C(this);if(a(T)){var z=r(T);if(z===!0)return g(q).get(T);if(z)return z[q.id]}},set:function(T,q){return I(this,T,q)}}:{add:function(T){return I(this,T,!0)}}),S}},uO}var bW;function Cbe(){if(bW)return gW;bW=1;var t=EY(),e=ft(),r=Le(),n=zN(),i=Em(),s=BN(),a=Pbe(),o=lr(),l=Bo().enforce,u=De(),d=PG(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(N){return function(){return N(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var N=b([]);return O(new _,N,1),!m(N)})};if(d)if(v){x=a.getConstructor(w,"WeakMap",!0),i.enable();var P=r(E.delete),C=r(E.has),I=r(E.get);n(E,{delete:function(N){if(o(N)&&!p(N)){var T=l(this);return T.frozen||(T.frozen=new x),P(this,N)||T.frozen.delete(N)}return P(this,N)},has:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,T)||q.frozen.has(T)}return C(this,T)},get:function(T){if(o(T)&&!p(T)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,T)?I(this,T):q.frozen.get(T)}return I(this,T)},set:function(T,q){if(o(T)&&!p(T)){var z=l(this);z.frozen||(z.frozen=new x),C(this,T)?O(this,T,q):z.frozen.set(T,q)}else O(this,T,q);return this}})}else S()&&n(E,{set:function(T,q){var z;return f(T)&&(m(T)?z=b:y(T)&&(z=g)),O(this,T,q),z&&z(T),this}});return gW}var wW;function Nbe(){return wW||(wW=1,Cbe()),vW}var cO,xW;function Tbe(){if(xW)return cO;xW=1,Hu(),Nbe();var t=Ge();return cO=t.WeakMap,cO}var dO,_W;function Ibe(){if(_W)return dO;_W=1;var t=Tbe();return Ku(),dO=t,dO}var hO,SW;function Rbe(){return SW||(SW=1,hO=Ibe()),hO}var jbe=Rbe(),_h=Oe(jbe);function Fc(t,e,r){$be(t,e),e.set(t,r)}function $be(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function EP(t,e,r){return t.set(FY(t,e),r),r}function nt(t,e){return t.get(FY(t,e))}function FY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function EW(t,e){const r=new Ns;for(const n of e)t.has(n)||r.add(n);return r}var nl=new _h,Wn=new _h;class OW{constructor(){Fc(this,nl,new Ns),Fc(this,Wn,new Ns)}get size(){return nt(Wn,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)nt(Wn,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)nt(Wn,this).delete(i)}clear(){nt(Wn,this).clear()}getSelection(){return[...nt(Wn,this)]}getChanges(){return{added:[...EW(nt(nl,this),nt(Wn,this))],deleted:[...EW(nt(Wn,this),nt(nl,this))],previous:[...new Ns(nt(nl,this))],current:[...new Ns(nt(Wn,this))]}}commit(){const e=this.getChanges();EP(nl,this,nt(Wn,this)),EP(Wn,this,new Ns(nt(nl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var Ea=new _h,Oa=new _h,fO=new _h;class kbe{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Fc(this,Ea,new OW),Fc(this,Oa,new OW),Fc(this,fO,void 0),EP(fO,this,e)}get sizeNodes(){return nt(Ea,this).size}get sizeEdges(){return nt(Oa,this).size}getNodes(){return nt(Ea,this).getSelection()}getEdges(){return nt(Oa,this).getSelection()}addNodes(){nt(Ea,this).add(...arguments)}addEdges(){nt(Oa,this).add(...arguments)}deleteNodes(e){nt(Ea,this).delete(e)}deleteEdges(e){nt(Oa,this).delete(e)}clear(){nt(Ea,this).clear(),nt(Oa,this).clear()}commit(){const e={nodes:nt(Ea,this).commit(),edges:nt(Oa,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return nt(fO,this).call(this,e,...n),e}}class Dbe{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new kbe,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},At(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&Qu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof dt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],u=a[l];if(u.connected){const d=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof dt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof dt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof dt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof dt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof dt&&n.id!=s||n instanceof ia)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof ia&&n.id!=s||n instanceof dt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Et(this.hoverObj.edges).length,a=Et(this.hoverObj.nodes).length,o=n instanceof ia&&s===0&&a===0,l=n instanceof dt&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof dt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return cu(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return cu(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var PW={},pO,CW;function qbe(){if(CW)return pO;CW=1;var t=Uu(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return pO=r,pO}var mO,NW;function Mbe(){if(NW)return mO;NW=1;var t=qu(),e=t.match(/firefox\/(\d+)/i);return mO=!!e&&+e[1],mO}var vO,TW;function Abe(){if(TW)return vO;TW=1;var t=qu();return vO=/MSIE|Trident/.test(t),vO}var gO,IW;function Fbe(){if(IW)return gO;IW=1;var t=qu(),e=t.match(/AppleWebKit\/(\d+)\./);return gO=!!e&&+e[1],gO}var RW;function Lbe(){if(RW)return PW;RW=1;var t=ye(),e=Le(),r=vs(),n=wn(),i=gs(),s=MG(),a=Ln(),o=De(),l=qbe(),u=Gu(),d=Mbe(),h=Abe(),f=ah(),p=Fbe(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(N,T){return T.v-N.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),N,T;for(T=0;T<I;T++)T in P&&b(C,P[T]);for(l(C,E(S)),N=i(C),T=0;T<N;)P[T]=C[T++];for(;T<I;)s(P,T++);return P}}),PW}var yO,jW;function Bbe(){if(jW)return yO;jW=1,Lbe();var t=yr();return yO=t("Array","sort"),yO}var bO,$W;function zbe(){if($W)return bO;$W=1;var t=zt(),e=Bbe(),r=Array.prototype;return bO=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},bO}var wO,kW;function Ube(){if(kW)return wO;kW=1;var t=zbe();return wO=t,wO}var xO,DW;function Wbe(){return DW||(DW=1,xO=Ube()),xO}var Vbe=Wbe(),jl=Oe(Vbe),qW={},_O,MW;function Hbe(){if(MW)return _O;MW=1;var t=vs(),e=wn(),r=cm(),n=gs(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return _O={left:a(!1),right:a(!0)},_O}var SO,AW;function Kbe(){if(AW)return SO;AW=1;var t=FG();return SO=t==="NODE",SO}var FW;function Gbe(){if(FW)return qW;FW=1;var t=ye(),e=Hbe().left,r=Gu(),n=ah(),i=Kbe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),qW}var EO,LW;function Ybe(){if(LW)return EO;LW=1,Gbe();var t=yr();return EO=t("Array","reduce"),EO}var OO,BW;function Qbe(){if(BW)return OO;BW=1;var t=zt(),e=Ybe(),r=Array.prototype;return OO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},OO}var PO,zW;function Xbe(){if(zW)return PO;zW=1;var t=Qbe();return PO=t,PO}var CO,UW;function Jbe(){return UW||(UW=1,CO=Xbe()),CO}var Zbe=Jbe(),LY=Oe(Zbe);class BY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class e0e extends BY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){jl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class t0e extends BY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){jl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var WW={},VW;function r0e(){if(VW)return WW;VW=1;var t=ye(),e=wa().every,r=Gu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),WW}var NO,HW;function n0e(){if(HW)return NO;HW=1,r0e();var t=yr();return NO=t("Array","every"),NO}var TO,KW;function i0e(){if(KW)return TO;KW=1;var t=zt(),e=n0e(),r=Array.prototype;return TO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},TO}var IO,GW;function s0e(){if(GW)return IO;GW=1;var t=i0e();return IO=t,IO}var RO,YW;function a0e(){return YW||(YW=1,RO=s0e()),RO}var o0e=a0e(),zY=Oe(o0e);function l0e(t,e){const r=new Ns;return Ze(t).call(t,n=>{var i;Ze(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Ze(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function u0e(t){return UY(e=>{var r,n;return zY(r=Kr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function c0e(t){return UY(e=>{var r,n;return zY(r=Kr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function UY(t,e,r,n){var i;const s=ro(null),a=LY(i=[...$Y(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var u,d;if(!n.has(h))continue;const b=s[y.id]+l;if(Ze(u=Kr(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const v=g[o],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(g[r]))}),m>a)return l0e(n,s);++m}}return s}class d0e{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new WN;let n=0;const i=jl(e=[...new Ns(Pfe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Et(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class h0e{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+dp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},At(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(Qu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),Pn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),it(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Sm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(u==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*o,u.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=kr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=kr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new d0e;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const w=g[x].max-g[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===g&&this.direction.shift(w,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let w=0;w<x.length;w++)o(this.body.nodes[x[w]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],P=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[I,N]=e._getSpaceAroundNode(S,g);x=Math.min(I,x),w=Math.min(N,w),P<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,x,w]},u=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},d=(g,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const P=O[S],C=O[S+1];w.hasSameParent(P,C)&&w.inSameSubNetwork(P,C)&&g(P,C,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},P={};o(g,S),o(v,P);const C=u(g,v),I=l(S,C),N=l(P,C),T=I[1],q=N[0],z=N[2];if(Math.abs(T-q)>O){let K=T-q+O;K<-z+O&&(K=-z+O),K<0&&(e._shiftBlock(v.id,K),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let z=0;z<w.length;z++){const Z=w[z];if(Z.toId!=Z.fromId){const K=Z.toId==x?Z.from:Z.to;O[w[z].id]=K,this.hierarchical.levels[K.id]<_&&S.push(Z)}}const P=(z,Z)=>{let K=0;for(let L=0;L<Z.length;L++)if(O[Z[L].id]!==void 0){const V=this.direction.getPosition(O[Z[L].id])-z;K+=V/Math.sqrt(V*V+E)}return K},C=(z,Z)=>{let K=0;for(let L=0;L<Z.length;L++)if(O[Z[L].id]!==void 0){const V=this.direction.getPosition(O[Z[L].id])-z;K-=E*Math.pow(V*V+E,-1.5)}return K},I=(z,Z)=>{let K=this.direction.getPosition(v);const L={};for(let V=0;V<z;V++){const U=P(K,Z),W=C(K,Z),J=40,he=Math.max(-J,Math.min(J,Math.round(U/W)));if(K=K-he,L[K]!==void 0)break;L[K]=V}return K},N=z=>{const Z=this.direction.getPosition(v);if(n[v.id]===void 0){const J={};o(v,J),n[v.id]=J}const K=l(n[v.id]),L=K[2],V=K[3],U=z-Z;let W=0;U>0?W=Math.min(U,V-this.options.hierarchical.nodeSpacing):U<0&&(W=-Math.min(-U,L-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(v.id,W),r=!0)},T=z=>{const Z=this.direction.getPosition(v),[K,L]=this._getSpaceAroundNode(v),V=z-Z;let U=Z;V>0?U=Math.min(Z+(L-this.options.hierarchical.nodeSpacing),z):V<0&&(U=Math.max(Z-(K-this.options.hierarchical.nodeSpacing),z)),U!==Z&&(this.direction.setPosition(v,U),r=!0)};let q=I(g,S);N(q),q=I(g,w),T(q)},p=g=>{let v=this.hierarchical.getLevels();v=to(v).call(v);for(let x=0;x<g;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=to(v).call(v);for(let x=0;x<g&&(r=!1,d(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=to(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=Math.min(u,h-a)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[u,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Et(e[n]);i=this._indexArrayToNodes(i),jl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,u,n),this._validatePositionAndContinue(o,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);jl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return je(e.edges,n=>{var i;Ve(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;je(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return je(e,i=>{n.push(Number(i))}),jl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;je(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(kr.cloneOptions(i,"node"),kr.cloneOptions(s,"node"),kr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=LY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new WN);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=c0e(r):this.hierarchical.levels=u0e(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const d=l[u];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new e0e(this):this.direction=new t0e(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class f0e{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},At(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",X(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",X(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,it(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,X(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",X(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,X(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",X(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=it({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,X(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",X(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",X(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",X(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",X(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",X(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,X(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",X(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",X(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",X(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",X(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const d=a.edgeType.findBorderPositions(u);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=it({},this.options.controlNodeStyle);n.id="targetNode"+Ac(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Es(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,X(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Es(this.editModeDiv),Es(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Qi(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Es(this.manipulationDiv),Es(this.editModeDiv),Es(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,X(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,X(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+fh(Et(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Il(e,{});yp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ve(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;Qi(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ve(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;Qi(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=At({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=At({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Ac(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ve(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ve(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Ac(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ne="string",Q="boolean",A="number",xc="array",pe="object",WY="dom",p0e="any",jO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],$O={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:ne,undefined:"undefined"},chosen:{label:{boolean:Q,function:"function"},node:{boolean:Q,function:"function"},__type__:{object:pe,boolean:Q}},color:{border:{string:ne},background:{string:ne},highlight:{border:{string:ne},background:{string:ne},__type__:{object:pe,string:ne}},hover:{border:{string:ne},background:{string:ne},__type__:{object:pe,string:ne}},__type__:{object:pe,string:ne}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:Q},y:{boolean:Q},__type__:{object:pe,boolean:Q}},font:{align:{string:ne},color:{string:ne},size:{number:A},face:{string:ne},background:{string:ne},strokeWidth:{number:A},strokeColor:{string:ne},vadjust:{number:A},multi:{boolean:Q,string:ne},bold:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},boldital:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},ital:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},mono:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},__type__:{object:pe,string:ne}},group:{string:ne,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:ne},__type__:{object:pe,boolean:Q,number:A}},hidden:{boolean:Q},icon:{face:{string:ne},code:{string:ne},size:{number:A},color:{string:ne},weight:{string:ne,number:A},__type__:{object:pe}},id:{string:ne,number:A},image:{selected:{string:ne,undefined:"undefined"},unselected:{string:ne,undefined:"undefined"},__type__:{object:pe,string:ne}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:pe,number:A}},label:{string:ne,undefined:"undefined"},labelHighlightBold:{boolean:Q},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:pe,number:A}},mass:{number:A},physics:{boolean:Q},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Q},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:pe,boolean:Q}},customScalingFunction:{function:"function"},__type__:{object:pe}},shadow:{enabled:{boolean:Q},color:{string:ne},size:{number:A},x:{number:A},y:{number:A},__type__:{object:pe,boolean:Q}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:Q,array:xc},borderRadius:{number:A},interpolation:{boolean:Q},useImageSize:{boolean:Q},useBorderWithImage:{boolean:Q},coordinateOrigin:{string:["center","top-left"]},__type__:{object:pe}},size:{number:A},title:{string:ne,dom:WY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:pe,boolean:Q,number:A}},x:{number:A},y:{number:A},__type__:{object:pe}},m0e={configure:{enabled:{boolean:Q},filter:{boolean:Q,string:ne,array:xc,function:"function"},container:{dom:WY},showButton:{boolean:Q},__type__:{object:pe,boolean:Q,string:ne,array:xc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:Q},scaleFactor:{number:A},type:{string:jO},imageHeight:{number:A},imageWidth:{number:A},src:{string:ne},__type__:{object:pe,boolean:Q}},middle:{enabled:{boolean:Q},scaleFactor:{number:A},type:{string:jO},imageWidth:{number:A},imageHeight:{number:A},src:{string:ne},__type__:{object:pe,boolean:Q}},from:{enabled:{boolean:Q},scaleFactor:{number:A},type:{string:jO},imageWidth:{number:A},imageHeight:{number:A},src:{string:ne},__type__:{object:pe,boolean:Q}},__type__:{string:["from","to","middle"],object:pe}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:pe,number:A}},arrowStrikethrough:{boolean:Q},background:{enabled:{boolean:Q},color:{string:ne},size:{number:A},dashes:{boolean:Q,array:xc},__type__:{object:pe,boolean:Q}},chosen:{label:{boolean:Q,function:"function"},edge:{boolean:Q,function:"function"},__type__:{object:pe,boolean:Q}},color:{color:{string:ne},highlight:{string:ne},hover:{string:ne},inherit:{string:["from","to","both"],boolean:Q},opacity:{number:A},__type__:{object:pe,string:ne}},dashes:{boolean:Q,array:xc},font:{color:{string:ne},size:{number:A},face:{string:ne},background:{string:ne},strokeWidth:{number:A},strokeColor:{string:ne},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:Q,string:ne},bold:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},boldital:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},ital:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},mono:{color:{string:ne},size:{number:A},face:{string:ne},mod:{string:ne},vadjust:{number:A},__type__:{object:pe,string:ne}},__type__:{object:pe,string:ne}},hidden:{boolean:Q},hoverWidth:{function:"function",number:A},label:{string:ne,undefined:"undefined"},labelHighlightBold:{boolean:Q},length:{number:A,undefined:"undefined"},physics:{boolean:Q},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:Q},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:pe,boolean:Q}},customScalingFunction:{function:"function"},__type__:{object:pe}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:Q},__type__:{object:pe}},shadow:{enabled:{boolean:Q},color:{string:ne},size:{number:A},x:{number:A},y:{number:A},__type__:{object:pe,boolean:Q}},smooth:{enabled:{boolean:Q},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:Q},__type__:{object:pe,boolean:Q}},title:{string:ne,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:pe,boolean:Q,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:pe}},groups:{useDefaultGroups:{boolean:Q},__any__:$O,__type__:{object:pe}},interaction:{dragNodes:{boolean:Q},dragView:{boolean:Q},hideEdgesOnDrag:{boolean:Q},hideEdgesOnZoom:{boolean:Q},hideNodesOnDrag:{boolean:Q},hover:{boolean:Q},keyboard:{enabled:{boolean:Q},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:pe}},bindToWindow:{boolean:Q},autoFocus:{boolean:Q},__type__:{object:pe,boolean:Q}},multiselect:{boolean:Q},navigationButtons:{boolean:Q},selectable:{boolean:Q},selectConnectedEdges:{boolean:Q},hoverConnectedEdges:{boolean:Q},tooltipDelay:{number:A},zoomView:{boolean:Q},zoomSpeed:{number:A},__type__:{object:pe}},layout:{randomSeed:{undefined:"undefined",number:A,string:ne},improvedLayout:{boolean:Q},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:Q},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:Q},edgeMinimization:{boolean:Q},parentCentralization:{boolean:Q},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:pe,boolean:Q}},__type__:{object:pe}},manipulation:{enabled:{boolean:Q},initiallyActive:{boolean:Q},addNode:{boolean:Q,function:"function"},addEdge:{boolean:Q,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:pe,boolean:Q,function:"function"}},deleteNode:{boolean:Q,function:"function"},deleteEdge:{boolean:Q,function:"function"},controlNodeStyle:$O,__type__:{object:pe,boolean:Q}},nodes:$O,physics:{enabled:{boolean:Q},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:pe}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:Q},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:Q},fit:{boolean:Q},__type__:{object:pe,boolean:Q}},timestep:{number:A},adaptiveTimestep:{boolean:Q},wind:{x:{number:A},y:{number:A},__type__:{object:pe}},__type__:{object:pe,boolean:Q}},autoResize:{boolean:Q},clickToUse:{boolean:Q},locale:{string:ne},locales:{__any__:{any:p0e},__type__:{object:pe}},height:{string:ne},width:{string:ne},__type__:{object:pe}},VY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},v0e=(t,e,r)=>{var n;return!!(ta(t).call(t,"physics")&&ta(n=VY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class g0e{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],u={};i[l]=u;for(let d=0;d<r.length;d++)u[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],u=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,y[h]=b}}}return i}}class y0e{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new g0e}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<u;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(u);i<d&&(i=d,s=u,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const u=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],P=f[_],C=1/((u-E)**2+(d-O)**2)**1.5;a+=S*(1-P*(d-O)**2*C),o+=S*(P*(u-E)*(d-O)*C),l+=S*(1-P*(u-E)**2*C)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let u=n;u<e.length;u++){const d=e[u];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][u],o+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let u=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),x=s[f]*(o-b-a[f]*(o-b)*v),w=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,w],u+=x,d+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-y}}this.E_sums[e]=[u,d]}}function de(t,e,r){var n,i,s,a;if(!(this instanceof de))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:zme,clickToUse:!1},At(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:X(n=this.on).call(n,this),off:X(i=this.off).call(i,this),emit:X(s=this.emit).call(s,this),once:X(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Vme(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new ave,this.canvas=new ebe(this.body),this.selectionHandler=new Dbe(this.body,this.canvas),this.interactionHandler=new ibe(this.body,this.canvas,this.selectionHandler),this.view=new rbe(this.body,this.canvas),this.renderer=new Yye(this.body,this.canvas),this.physics=new Bye(this.body),this.layoutEngine=new h0e(this.body),this.clustering=new Gye(this.body),this.manipulation=new f0e(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new mye(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Dye(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new y0e(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}xG(de.prototype);de.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(bme.validate(t,m0e)===!0&&console.error("%cErrors have been found in the supplied options object.",vY),Qu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Ume(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new gme(this,this.body.container,VY,this.canvas.pixelRatio,v0e)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};it(n.nodes,this.nodesHandler.options),it(n.edges,this.edgesHandler.options),it(n.layout,this.layoutEngine.options),it(n.interaction,this.selectionHandler.options),it(n.interaction,this.renderer.options),it(n.interaction,this.interactionHandler.options),it(n.manipulation,this.manipulation.options),it(n.physics,this.physics.options),it(n.global,this.canvas.options),it(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new vme(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};de.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};de.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};de.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Tme(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Ime(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};de.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Es(this.body.container)};de.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};de.prototype.isActive=function(){return!this.activator||this.activator.active};de.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};de.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};de.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};de.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};de.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};de.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};de.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};de.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};de.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};de.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};de.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};de.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};de.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};de.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};de.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};de.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};de.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};de.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};de.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};de.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};de.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};de.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};de.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};de.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};de.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};de.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};de.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};de.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};de.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};de.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};de.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};de.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};de.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};de.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};de.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};de.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};de.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};de.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};de.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};de.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};de.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};de.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};de.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};de.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};de.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};de.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};de.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};de.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};de.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};de.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};de.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};de.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function b0e({graphData:t,startPersonId:e,onNodeClick:r}){const n=k.useRef(null),i=k.useRef(null),s=rn(),a=k.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);k.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new uu(t.nodes),h=new uu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new de(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const w=y[v],_=y[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):c.jsxs("div",{className:"relative w-full h-full",children:[c.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[c.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:c.jsx(ere,{className:"w-4 h-4"})}),c.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:c.jsx(tre,{className:"w-4 h-4"})}),c.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:c.jsx(x9,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),c.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const w0e=["parent","child","spouse","lover","partner"];function x0e(t){return w0e.includes(t==null?void 0:t.toLowerCase())}function _0e(t){return(t==null?void 0:t.toLowerCase())==="parent"}function S0e(t){return(t==null?void 0:t.toLowerCase())==="child"}function E0e(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function O0e(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,w,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=h.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),P=E.getFullYear();g=`${O}-${S}-${P}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const u=a.get(t);for(u&&n.set(t,l(u,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!x0e(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===g)){const x=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(_0e(x))i.push({from:y,to:h,type:"parent-child"});else if(S0e(x))i.push({from:h,to:y,type:"parent-child"});else if(E0e(x)){const[w,_]=h<y?[h,y]:[y,h];i.push({from:w,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function P0e(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,x,w;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=o.get(b.from))==null||x.push(b.to),(w=o.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,d=[{id:e,generation:0}];for(l.set(e,0),u.add(e);d.length>0;){const{id:b,generation:g}=d.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const x=a.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const w=o.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):g?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function C0e(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var u,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((u=a.relationship_type)==null?void 0:u.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function N0e(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function T0e(){var p,m;const{id:t}=ds(),e=rn(),r=parseInt(t,10),{data:n,isLoading:i}=_u(t),{data:s=[],isLoading:a}=Vp(),{data:o=[]}=ct({queryKey:["relationship-types"],queryFn:async()=>(await Fe.getRelationshipTypes()).data}),l=k.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=Xf({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Yt.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=k.useMemo(()=>{const y={};return u.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[u,l]);gn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=k.useMemo(()=>{if(!n||!s.length)return null;try{const y=C0e(s);o.length>0&&N0e(y,o);const b=O0e(r,s,y);return!b||b.nodes.length===0?null:P0e(b,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?c.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(qn,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),c.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),c.jsx("div",{className:"card p-6",children:c.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?c.jsx(b0e,{graphData:h,startPersonId:r,onNodeClick:f}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),c.jsx(ce,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function I0e(){const{loginUrl:t,isLoggedIn:e}=IC();return T9(),k.useEffect(()=>{e||(window.location.href=t)},[e,t]),c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function R0e({children:t}){const{data:e,isLoading:r}=ct({queryKey:["current-user"],queryFn:async()=>(await Yt.getCurrentUser()).data});return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e!=null&&e.is_admin?t:e&&!e.is_approved?c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsx("div",{className:"max-w-md w-full mx-4",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:c.jsx(po,{className:"w-8 h-8 text-yellow-600"})})}),c.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),c.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):t}function j0e({children:t}){const{isLoggedIn:e,isLoading:r}=IC();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?c.jsx(R0e,{children:t}):c.jsx(TH,{to:"/login",replace:!0})}function $0e(){return c.jsxs(mI,{children:[c.jsx(Ye,{path:"/login",element:c.jsx(I0e,{})}),c.jsx(Ye,{path:"/*",element:c.jsx(j0e,{children:c.jsx(ure,{children:c.jsxs(mI,{children:[c.jsx(Ye,{path:"/",element:c.jsx(yne,{})}),c.jsx(Ye,{path:"/people",element:c.jsx(Pne,{})}),c.jsx(Ye,{path:"/people/new",element:c.jsx(xR,{})}),c.jsx(Ye,{path:"/people/:personId/contact/new",element:c.jsx(SR,{})}),c.jsx(Ye,{path:"/people/:personId/contact/:index/edit",element:c.jsx(SR,{})}),c.jsx(Ye,{path:"/people/:personId/work-history/new",element:c.jsx(_R,{})}),c.jsx(Ye,{path:"/people/:personId/work-history/:index/edit",element:c.jsx(_R,{})}),c.jsx(Ye,{path:"/people/:personId/relationship/new",element:c.jsx(ER,{})}),c.jsx(Ye,{path:"/people/:personId/relationship/:index/edit",element:c.jsx(ER,{})}),c.jsx(Ye,{path:"/people/:id/family-tree",element:c.jsx(T0e,{})}),c.jsx(Ye,{path:"/people/:id/edit",element:c.jsx(xR,{})}),c.jsx(Ye,{path:"/people/:id",element:c.jsx(zne,{})}),c.jsx(Ye,{path:"/companies",element:c.jsx(fie,{})}),c.jsx(Ye,{path:"/companies/new",element:c.jsx(OR,{})}),c.jsx(Ye,{path:"/companies/:id",element:c.jsx(pie,{})}),c.jsx(Ye,{path:"/companies/:id/edit",element:c.jsx(OR,{})}),c.jsx(Ye,{path:"/dates",element:c.jsx(gie,{})}),c.jsx(Ye,{path:"/dates/new",element:c.jsx(PR,{})}),c.jsx(Ye,{path:"/dates/:id/edit",element:c.jsx(PR,{})}),c.jsx(Ye,{path:"/settings",element:c.jsx(bie,{})}),c.jsx(Ye,{path:"/settings/relationship-types",element:c.jsx(wie,{})}),c.jsx(Ye,{path:"/settings/import",element:c.jsx(Oie,{})}),c.jsx(Ye,{path:"/settings/export",element:c.jsx(Pie,{})}),c.jsx(Ye,{path:"/settings/user-approval",element:c.jsx(Cie,{})}),c.jsx(Ye,{path:"*",element:c.jsx(TH,{to:"/",replace:!0})})]})})})})]})}const k0e=new JZ({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),kO=document.getElementById("root");if(!kO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{DO.createRoot(kO).render(c.jsx(Se.StrictMode,{children:c.jsx(ZZ,{client:k0e,children:c.jsx(wZ,{children:c.jsx($0e,{})})})}))}catch(t){console.error("Error mounting React app:",t),kO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
