var nP=t=>{throw TypeError(t)};var nv=(t,e,r)=>e.has(t)||nP("Cannot "+r);var R=(t,e,r)=>(nv(t,e,"read from private field"),r?r.call(t):e.get(t)),ge=(t,e,r)=>e.has(t)?nP("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(nv(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),Te=(t,e,r)=>(nv(t,e,"access private method"),r);var Kh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function uX(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function cX(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var aW={exports:{}},Vp={},oW={exports:{}},We={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kd=Symbol.for("react.element"),dX=Symbol.for("react.portal"),hX=Symbol.for("react.fragment"),fX=Symbol.for("react.strict_mode"),pX=Symbol.for("react.profiler"),mX=Symbol.for("react.provider"),vX=Symbol.for("react.context"),gX=Symbol.for("react.forward_ref"),yX=Symbol.for("react.suspense"),bX=Symbol.for("react.memo"),xX=Symbol.for("react.lazy"),iP=Symbol.iterator;function wX(t){return t===null||typeof t!="object"?null:(t=iP&&t[iP]||t["@@iterator"],typeof t=="function"?t:null)}var lW={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},uW=Object.assign,cW={};function Iu(t,e,r){this.props=t,this.context=e,this.refs=cW,this.updater=r||lW}Iu.prototype.isReactComponent={};Iu.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};Iu.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function dW(){}dW.prototype=Iu.prototype;function oC(t,e,r){this.props=t,this.context=e,this.refs=cW,this.updater=r||lW}var lC=oC.prototype=new dW;lC.constructor=oC;uW(lC,Iu.prototype);lC.isPureReactComponent=!0;var sP=Array.isArray,hW=Object.prototype.hasOwnProperty,uC={current:null},fW={key:!0,ref:!0,__self:!0,__source:!0};function pW(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)hW.call(e,n)&&!fW.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var u=Array(o),c=0;c<o;c++)u[c]=arguments[c+2];i.children=u}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:Kd,type:t,key:s,ref:a,props:i,_owner:uC.current}}function _X(t,e){return{$$typeof:Kd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function cC(t){return typeof t=="object"&&t!==null&&t.$$typeof===Kd}function SX(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var aP=/\/+/g;function iv(t,e){return typeof t=="object"&&t!==null&&t.key!=null?SX(""+t.key):e.toString(36)}function Nf(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case Kd:case dX:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+iv(a,0):n,sP(i)?(r="",t!=null&&(r=t.replace(aP,"$&/")+"/"),Nf(i,e,r,"",function(c){return c})):i!=null&&(cC(i)&&(i=_X(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(aP,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",sP(t))for(var o=0;o<t.length;o++){s=t[o];var u=n+iv(s,o);a+=Nf(s,e,r,u,i)}else if(u=wX(t),typeof u=="function")for(t=u.call(t),o=0;!(s=t.next()).done;)s=s.value,u=n+iv(s,o++),a+=Nf(s,e,r,u,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function Gh(t,e,r){if(t==null)return t;var n=[],i=0;return Nf(t,n,"","",function(s){return e.call(r,s,i++)}),n}function EX(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var Gr={current:null},jf={transition:null},NX={ReactCurrentDispatcher:Gr,ReactCurrentBatchConfig:jf,ReactCurrentOwner:uC};function mW(){throw Error("act(...) is not supported in production builds of React.")}We.Children={map:Gh,forEach:function(t,e,r){Gh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return Gh(t,function(){e++}),e},toArray:function(t){return Gh(t,function(e){return e})||[]},only:function(t){if(!cC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};We.Component=Iu;We.Fragment=hX;We.Profiler=pX;We.PureComponent=oC;We.StrictMode=fX;We.Suspense=yX;We.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=NX;We.act=mW;We.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=uW({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=uC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(u in e)hW.call(e,u)&&!fW.hasOwnProperty(u)&&(n[u]=e[u]===void 0&&o!==void 0?o[u]:e[u])}var u=arguments.length-2;if(u===1)n.children=r;else if(1<u){o=Array(u);for(var c=0;c<u;c++)o[c]=arguments[c+2];n.children=o}return{$$typeof:Kd,type:t.type,key:i,ref:s,props:n,_owner:a}};We.createContext=function(t){return t={$$typeof:vX,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:mX,_context:t},t.Consumer=t};We.createElement=pW;We.createFactory=function(t){var e=pW.bind(null,t);return e.type=t,e};We.createRef=function(){return{current:null}};We.forwardRef=function(t){return{$$typeof:gX,render:t}};We.isValidElement=cC;We.lazy=function(t){return{$$typeof:xX,_payload:{_status:-1,_result:t},_init:EX}};We.memo=function(t,e){return{$$typeof:bX,type:t,compare:e===void 0?null:e}};We.startTransition=function(t){var e=jf.transition;jf.transition={};try{t()}finally{jf.transition=e}};We.unstable_act=mW;We.useCallback=function(t,e){return Gr.current.useCallback(t,e)};We.useContext=function(t){return Gr.current.useContext(t)};We.useDebugValue=function(){};We.useDeferredValue=function(t){return Gr.current.useDeferredValue(t)};We.useEffect=function(t,e){return Gr.current.useEffect(t,e)};We.useId=function(){return Gr.current.useId()};We.useImperativeHandle=function(t,e,r){return Gr.current.useImperativeHandle(t,e,r)};We.useInsertionEffect=function(t,e){return Gr.current.useInsertionEffect(t,e)};We.useLayoutEffect=function(t,e){return Gr.current.useLayoutEffect(t,e)};We.useMemo=function(t,e){return Gr.current.useMemo(t,e)};We.useReducer=function(t,e,r){return Gr.current.useReducer(t,e,r)};We.useRef=function(t){return Gr.current.useRef(t)};We.useState=function(t){return Gr.current.useState(t)};We.useSyncExternalStore=function(t,e,r){return Gr.current.useSyncExternalStore(t,e,r)};We.useTransition=function(){return Gr.current.useTransition()};We.version="18.3.1";oW.exports=We;var T=oW.exports;const Me=cX(T),jX=uX({__proto__:null,default:Me},[T]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var CX=T,OX=Symbol.for("react.element"),TX=Symbol.for("react.fragment"),PX=Object.prototype.hasOwnProperty,IX=CX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,RX={key:!0,ref:!0,__self:!0,__source:!0};function vW(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)PX.call(e,n)&&!RX.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:OX,type:t,key:s,ref:a,props:i,_owner:IX.current}}Vp.Fragment=TX;Vp.jsx=vW;Vp.jsxs=vW;aW.exports=Vp;var l=aW.exports,fN={},gW={exports:{}},Cn={},yW={exports:{}},bW={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(A,H){var B=A.length;A.push(H);e:for(;0<B;){var V=B-1>>>1,G=A[V];if(0<i(G,H))A[V]=H,A[B]=G,B=V;else break e}}function r(A){return A.length===0?null:A[0]}function n(A){if(A.length===0)return null;var H=A[0],B=A.pop();if(B!==H){A[0]=B;e:for(var V=0,G=A.length,fe=G>>>1;V<fe;){var me=2*(V+1)-1,$e=A[me],xe=me+1,je=A[xe];if(0>i($e,B))xe<G&&0>i(je,$e)?(A[V]=je,A[xe]=B,V=xe):(A[V]=$e,A[me]=B,V=me);else if(xe<G&&0>i(je,B))A[V]=je,A[xe]=B,V=xe;else break e}}return H}function i(A,H){var B=A.sortIndex-H.sortIndex;return B!==0?B:A.id-H.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var u=[],c=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,x=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function w(A){for(var H=r(c);H!==null;){if(H.callback===null)n(c);else if(H.startTime<=A)n(c),H.sortIndex=H.expirationTime,e(u,H);else break;H=r(c)}}function b(A){if(y=!1,w(A),!m)if(r(u)!==null)m=!0,z(_);else{var H=r(c);H!==null&&W(b,H.startTime-A)}}function _(A,H){m=!1,y&&(y=!1,g(E),E=-1),p=!0;var B=f;try{for(w(H),h=r(u);h!==null&&(!(h.expirationTime>H)||A&&!I());){var V=h.callback;if(typeof V=="function"){h.callback=null,f=h.priorityLevel;var G=V(h.expirationTime<=H);H=t.unstable_now(),typeof G=="function"?h.callback=G:h===r(u)&&n(u),w(H)}else n(u);h=r(u)}if(h!==null)var fe=!0;else{var me=r(c);me!==null&&W(b,me.startTime-H),fe=!1}return fe}finally{h=null,f=B,p=!1}}var S=!1,N=null,E=-1,C=5,O=-1;function I(){return!(t.unstable_now()-O<C)}function j(){if(N!==null){var A=t.unstable_now();O=A;var H=!0;try{H=N(!0,A)}finally{H?P():(S=!1,N=null)}}else S=!1}var P;if(typeof v=="function")P=function(){v(j)};else if(typeof MessageChannel<"u"){var D=new MessageChannel,M=D.port2;D.port1.onmessage=j,P=function(){M.postMessage(null)}}else P=function(){x(j,0)};function z(A){N=A,S||(S=!0,P())}function W(A,H){E=x(function(){A(t.unstable_now())},H)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(A){A.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,z(_))},t.unstable_forceFrameRate=function(A){0>A||125<A?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<A?Math.floor(1e3/A):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(u)},t.unstable_next=function(A){switch(f){case 1:case 2:case 3:var H=3;break;default:H=f}var B=f;f=H;try{return A()}finally{f=B}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(A,H){switch(A){case 1:case 2:case 3:case 4:case 5:break;default:A=3}var B=f;f=A;try{return H()}finally{f=B}},t.unstable_scheduleCallback=function(A,H,B){var V=t.unstable_now();switch(typeof B=="object"&&B!==null?(B=B.delay,B=typeof B=="number"&&0<B?V+B:V):B=V,A){case 1:var G=-1;break;case 2:G=250;break;case 5:G=1073741823;break;case 4:G=1e4;break;default:G=5e3}return G=B+G,A={id:d++,callback:H,priorityLevel:A,startTime:B,expirationTime:G,sortIndex:-1},B>V?(A.sortIndex=B,e(c,A),r(u)===null&&A===r(c)&&(y?(g(E),E=-1):y=!0,W(b,B-V))):(A.sortIndex=G,e(u,A),m||p||(m=!0,z(_))),A},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(A){var H=f;return function(){var B=f;f=H;try{return A.apply(this,arguments)}finally{f=B}}}})(bW);yW.exports=bW;var $X=yW.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var kX=T,Nn=$X;function ee(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var xW=new Set,sd={};function zo(t,e){uu(t,e),uu(t+"Capture",e)}function uu(t,e){for(sd[t]=e,t=0;t<e.length;t++)xW.add(e[t])}var fs=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),pN=Object.prototype.hasOwnProperty,DX=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,oP={},lP={};function MX(t){return pN.call(lP,t)?!0:pN.call(oP,t)?!1:DX.test(t)?lP[t]=!0:(oP[t]=!0,!1)}function qX(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function AX(t,e,r,n){if(e===null||typeof e>"u"||qX(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Yr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var Nr={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Nr[t]=new Yr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Nr[e]=new Yr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Nr[t]=new Yr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Nr[t]=new Yr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Nr[t]=new Yr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Nr[t]=new Yr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Nr[t]=new Yr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Nr[t]=new Yr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Nr[t]=new Yr(t,5,!1,t.toLowerCase(),null,!1,!1)});var dC=/[\-:]([a-z])/g;function hC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(dC,hC);Nr[e]=new Yr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(dC,hC);Nr[e]=new Yr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(dC,hC);Nr[e]=new Yr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Nr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!1,!1)});Nr.xlinkHref=new Yr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Nr[t]=new Yr(t,1,!1,t.toLowerCase(),null,!0,!0)});function fC(t,e,r,n){var i=Nr.hasOwnProperty(e)?Nr[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(AX(e,r,i,n)&&(r=null),n||i===null?MX(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var bs=kX.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yh=Symbol.for("react.element"),bl=Symbol.for("react.portal"),xl=Symbol.for("react.fragment"),pC=Symbol.for("react.strict_mode"),mN=Symbol.for("react.profiler"),wW=Symbol.for("react.provider"),_W=Symbol.for("react.context"),mC=Symbol.for("react.forward_ref"),vN=Symbol.for("react.suspense"),gN=Symbol.for("react.suspense_list"),vC=Symbol.for("react.memo"),ks=Symbol.for("react.lazy"),SW=Symbol.for("react.offscreen"),uP=Symbol.iterator;function gc(t){return t===null||typeof t!="object"?null:(t=uP&&t[uP]||t["@@iterator"],typeof t=="function"?t:null)}var $t=Object.assign,sv;function kc(t){if(sv===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);sv=e&&e[1]||""}return`
`+sv+t}var av=!1;function ov(t,e){if(!t||av)return"";av=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var n=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){n=c}t.call(e.prototype)}else{try{throw Error()}catch(c){n=c}t()}}catch(c){if(c&&n&&typeof c.stack=="string"){for(var i=c.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var u=`
`+i[a].replace(" at new "," at ");return t.displayName&&u.includes("<anonymous>")&&(u=u.replace("<anonymous>",t.displayName)),u}while(1<=a&&0<=o);break}}}finally{av=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?kc(t):""}function FX(t){switch(t.tag){case 5:return kc(t.type);case 16:return kc("Lazy");case 13:return kc("Suspense");case 19:return kc("SuspenseList");case 0:case 2:case 15:return t=ov(t.type,!1),t;case 11:return t=ov(t.type.render,!1),t;case 1:return t=ov(t.type,!0),t;default:return""}}function yN(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case xl:return"Fragment";case bl:return"Portal";case mN:return"Profiler";case pC:return"StrictMode";case vN:return"Suspense";case gN:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _W:return(t.displayName||"Context")+".Consumer";case wW:return(t._context.displayName||"Context")+".Provider";case mC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case vC:return e=t.displayName||null,e!==null?e:yN(t.type)||"Memo";case ks:e=t._payload,t=t._init;try{return yN(t(e))}catch{}}return null}function LX(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return yN(e);case 8:return e===pC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function ya(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function EW(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function BX(t){var e=EW(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Qh(t){t._valueTracker||(t._valueTracker=BX(t))}function NW(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=EW(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function Kf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function bN(t,e){var r=e.checked;return $t({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function cP(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=ya(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function jW(t,e){e=e.checked,e!=null&&fC(t,"checked",e,!1)}function xN(t,e){jW(t,e);var r=ya(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?wN(t,e.type,r):e.hasOwnProperty("defaultValue")&&wN(t,e.type,ya(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function dP(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function wN(t,e,r){(e!=="number"||Kf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var Dc=Array.isArray;function ql(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+ya(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function _N(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(ee(91));return $t({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function hP(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(ee(92));if(Dc(r)){if(1<r.length)throw Error(ee(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:ya(r)}}function CW(t,e){var r=ya(e.value),n=ya(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function fP(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function OW(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function SN(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?OW(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Xh,TW=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Xh=Xh||document.createElement("div"),Xh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Xh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function ad(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var Bc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},zX=["Webkit","ms","Moz","O"];Object.keys(Bc).forEach(function(t){zX.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Bc[e]=Bc[t]})});function PW(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||Bc.hasOwnProperty(t)&&Bc[t]?(""+e).trim():e+"px"}function IW(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=PW(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var UX=$t({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function EN(t,e){if(e){if(UX[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(ee(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(ee(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(ee(61))}if(e.style!=null&&typeof e.style!="object")throw Error(ee(62))}}function NN(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var jN=null;function gC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var CN=null,Al=null,Fl=null;function pP(t){if(t=Qd(t)){if(typeof CN!="function")throw Error(ee(280));var e=t.stateNode;e&&(e=Qp(e),CN(t.stateNode,t.type,e))}}function RW(t){Al?Fl?Fl.push(t):Fl=[t]:Al=t}function $W(){if(Al){var t=Al,e=Fl;if(Fl=Al=null,pP(t),e)for(t=0;t<e.length;t++)pP(e[t])}}function kW(t,e){return t(e)}function DW(){}var lv=!1;function MW(t,e,r){if(lv)return t(e,r);lv=!0;try{return kW(t,e,r)}finally{lv=!1,(Al!==null||Fl!==null)&&(DW(),$W())}}function od(t,e){var r=t.stateNode;if(r===null)return null;var n=Qp(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(ee(231,e,typeof r));return r}var ON=!1;if(fs)try{var yc={};Object.defineProperty(yc,"passive",{get:function(){ON=!0}}),window.addEventListener("test",yc,yc),window.removeEventListener("test",yc,yc)}catch{ON=!1}function WX(t,e,r,n,i,s,a,o,u){var c=Array.prototype.slice.call(arguments,3);try{e.apply(r,c)}catch(d){this.onError(d)}}var zc=!1,Gf=null,Yf=!1,TN=null,VX={onError:function(t){zc=!0,Gf=t}};function HX(t,e,r,n,i,s,a,o,u){zc=!1,Gf=null,WX.apply(VX,arguments)}function KX(t,e,r,n,i,s,a,o,u){if(HX.apply(this,arguments),zc){if(zc){var c=Gf;zc=!1,Gf=null}else throw Error(ee(198));Yf||(Yf=!0,TN=c)}}function Uo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function qW(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function mP(t){if(Uo(t)!==t)throw Error(ee(188))}function GX(t){var e=t.alternate;if(!e){if(e=Uo(t),e===null)throw Error(ee(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return mP(i),t;if(s===n)return mP(i),e;s=s.sibling}throw Error(ee(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(ee(189))}}if(r.alternate!==n)throw Error(ee(190))}if(r.tag!==3)throw Error(ee(188));return r.stateNode.current===r?t:e}function AW(t){return t=GX(t),t!==null?FW(t):null}function FW(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=FW(t);if(e!==null)return e;t=t.sibling}return null}var LW=Nn.unstable_scheduleCallback,vP=Nn.unstable_cancelCallback,YX=Nn.unstable_shouldYield,QX=Nn.unstable_requestPaint,Ht=Nn.unstable_now,XX=Nn.unstable_getCurrentPriorityLevel,yC=Nn.unstable_ImmediatePriority,BW=Nn.unstable_UserBlockingPriority,Qf=Nn.unstable_NormalPriority,JX=Nn.unstable_LowPriority,zW=Nn.unstable_IdlePriority,Hp=null,Ri=null;function ZX(t){if(Ri&&typeof Ri.onCommitFiberRoot=="function")try{Ri.onCommitFiberRoot(Hp,t,void 0,(t.current.flags&128)===128)}catch{}}var di=Math.clz32?Math.clz32:rJ,eJ=Math.log,tJ=Math.LN2;function rJ(t){return t>>>=0,t===0?32:31-(eJ(t)/tJ|0)|0}var Jh=64,Zh=4194304;function Mc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=Mc(o):(s&=a,s!==0&&(n=Mc(s)))}else a=r&~i,a!==0?n=Mc(a):s!==0&&(n=Mc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-di(e),i=1<<r,n|=t[r],e&=~i;return n}function nJ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function iJ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-di(s),o=1<<a,u=i[a];u===-1?(!(o&r)||o&n)&&(i[a]=nJ(o,e)):u<=e&&(t.expiredLanes|=o),s&=~o}}function PN(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function UW(){var t=Jh;return Jh<<=1,!(Jh&4194240)&&(Jh=64),t}function uv(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function Gd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-di(e),t[e]=r}function sJ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-di(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function bC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-di(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var lt=0;function WW(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var VW,xC,HW,KW,GW,IN=!1,ef=[],ta=null,ra=null,na=null,ld=new Map,ud=new Map,As=[],aJ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function gP(t,e){switch(t){case"focusin":case"focusout":ta=null;break;case"dragenter":case"dragleave":ra=null;break;case"mouseover":case"mouseout":na=null;break;case"pointerover":case"pointerout":ld.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":ud.delete(e.pointerId)}}function bc(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=Qd(e),e!==null&&xC(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function oJ(t,e,r,n,i){switch(e){case"focusin":return ta=bc(ta,t,e,r,n,i),!0;case"dragenter":return ra=bc(ra,t,e,r,n,i),!0;case"mouseover":return na=bc(na,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return ld.set(s,bc(ld.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,ud.set(s,bc(ud.get(s)||null,t,e,r,n,i)),!0}return!1}function YW(t){var e=Va(t.target);if(e!==null){var r=Uo(e);if(r!==null){if(e=r.tag,e===13){if(e=qW(r),e!==null){t.blockedOn=e,GW(t.priority,function(){HW(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Cf(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=RN(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);jN=n,r.target.dispatchEvent(n),jN=null}else return e=Qd(r),e!==null&&xC(e),t.blockedOn=r,!1;e.shift()}return!0}function yP(t,e,r){Cf(t)&&r.delete(e)}function lJ(){IN=!1,ta!==null&&Cf(ta)&&(ta=null),ra!==null&&Cf(ra)&&(ra=null),na!==null&&Cf(na)&&(na=null),ld.forEach(yP),ud.forEach(yP)}function xc(t,e){t.blockedOn===e&&(t.blockedOn=null,IN||(IN=!0,Nn.unstable_scheduleCallback(Nn.unstable_NormalPriority,lJ)))}function cd(t){function e(i){return xc(i,t)}if(0<ef.length){xc(ef[0],t);for(var r=1;r<ef.length;r++){var n=ef[r];n.blockedOn===t&&(n.blockedOn=null)}}for(ta!==null&&xc(ta,t),ra!==null&&xc(ra,t),na!==null&&xc(na,t),ld.forEach(e),ud.forEach(e),r=0;r<As.length;r++)n=As[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<As.length&&(r=As[0],r.blockedOn===null);)YW(r),r.blockedOn===null&&As.shift()}var Ll=bs.ReactCurrentBatchConfig,Jf=!0;function uJ(t,e,r,n){var i=lt,s=Ll.transition;Ll.transition=null;try{lt=1,wC(t,e,r,n)}finally{lt=i,Ll.transition=s}}function cJ(t,e,r,n){var i=lt,s=Ll.transition;Ll.transition=null;try{lt=4,wC(t,e,r,n)}finally{lt=i,Ll.transition=s}}function wC(t,e,r,n){if(Jf){var i=RN(t,e,r,n);if(i===null)bv(t,e,n,Zf,r),gP(t,n);else if(oJ(i,t,e,r,n))n.stopPropagation();else if(gP(t,n),e&4&&-1<aJ.indexOf(t)){for(;i!==null;){var s=Qd(i);if(s!==null&&VW(s),s=RN(t,e,r,n),s===null&&bv(t,e,n,Zf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else bv(t,e,n,null,r)}}var Zf=null;function RN(t,e,r,n){if(Zf=null,t=gC(n),t=Va(t),t!==null)if(e=Uo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=qW(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Zf=t,null}function QW(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(XX()){case yC:return 1;case BW:return 4;case Qf:case JX:return 16;case zW:return 536870912;default:return 16}default:return 16}}var Xs=null,_C=null,Of=null;function XW(){if(Of)return Of;var t,e=_C,r=e.length,n,i="value"in Xs?Xs.value:Xs.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Of=i.slice(t,1<n?1-n:void 0)}function Tf(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function tf(){return!0}function bP(){return!1}function On(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?tf:bP,this.isPropagationStopped=bP,this}return $t(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=tf)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=tf)},persist:function(){},isPersistent:tf}),e}var Ru={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},SC=On(Ru),Yd=$t({},Ru,{view:0,detail:0}),dJ=On(Yd),cv,dv,wc,Kp=$t({},Yd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:EC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==wc&&(wc&&t.type==="mousemove"?(cv=t.screenX-wc.screenX,dv=t.screenY-wc.screenY):dv=cv=0,wc=t),cv)},movementY:function(t){return"movementY"in t?t.movementY:dv}}),xP=On(Kp),hJ=$t({},Kp,{dataTransfer:0}),fJ=On(hJ),pJ=$t({},Yd,{relatedTarget:0}),hv=On(pJ),mJ=$t({},Ru,{animationName:0,elapsedTime:0,pseudoElement:0}),vJ=On(mJ),gJ=$t({},Ru,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),yJ=On(gJ),bJ=$t({},Ru,{data:0}),wP=On(bJ),xJ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},wJ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},_J={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function SJ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=_J[t])?!!e[t]:!1}function EC(){return SJ}var EJ=$t({},Yd,{key:function(t){if(t.key){var e=xJ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Tf(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?wJ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:EC,charCode:function(t){return t.type==="keypress"?Tf(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Tf(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),NJ=On(EJ),jJ=$t({},Kp,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),_P=On(jJ),CJ=$t({},Yd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:EC}),OJ=On(CJ),TJ=$t({},Ru,{propertyName:0,elapsedTime:0,pseudoElement:0}),PJ=On(TJ),IJ=$t({},Kp,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),RJ=On(IJ),$J=[9,13,27,32],NC=fs&&"CompositionEvent"in window,Uc=null;fs&&"documentMode"in document&&(Uc=document.documentMode);var kJ=fs&&"TextEvent"in window&&!Uc,JW=fs&&(!NC||Uc&&8<Uc&&11>=Uc),SP=" ",EP=!1;function ZW(t,e){switch(t){case"keyup":return $J.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function eV(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var wl=!1;function DJ(t,e){switch(t){case"compositionend":return eV(e);case"keypress":return e.which!==32?null:(EP=!0,SP);case"textInput":return t=e.data,t===SP&&EP?null:t;default:return null}}function MJ(t,e){if(wl)return t==="compositionend"||!NC&&ZW(t,e)?(t=XW(),Of=_C=Xs=null,wl=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return JW&&e.locale!=="ko"?null:e.data;default:return null}}var qJ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function NP(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!qJ[t.type]:e==="textarea"}function tV(t,e,r,n){RW(n),e=ep(e,"onChange"),0<e.length&&(r=new SC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var Wc=null,dd=null;function AJ(t){hV(t,0)}function Gp(t){var e=El(t);if(NW(e))return t}function FJ(t,e){if(t==="change")return e}var rV=!1;if(fs){var fv;if(fs){var pv="oninput"in document;if(!pv){var jP=document.createElement("div");jP.setAttribute("oninput","return;"),pv=typeof jP.oninput=="function"}fv=pv}else fv=!1;rV=fv&&(!document.documentMode||9<document.documentMode)}function CP(){Wc&&(Wc.detachEvent("onpropertychange",nV),dd=Wc=null)}function nV(t){if(t.propertyName==="value"&&Gp(dd)){var e=[];tV(e,dd,t,gC(t)),MW(AJ,e)}}function LJ(t,e,r){t==="focusin"?(CP(),Wc=e,dd=r,Wc.attachEvent("onpropertychange",nV)):t==="focusout"&&CP()}function BJ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Gp(dd)}function zJ(t,e){if(t==="click")return Gp(e)}function UJ(t,e){if(t==="input"||t==="change")return Gp(e)}function WJ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var fi=typeof Object.is=="function"?Object.is:WJ;function hd(t,e){if(fi(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!pN.call(e,i)||!fi(t[i],e[i]))return!1}return!0}function OP(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function TP(t,e){var r=OP(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=OP(r)}}function iV(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?iV(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sV(){for(var t=window,e=Kf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=Kf(t.document)}return e}function jC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function VJ(t){var e=sV(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&iV(r.ownerDocument.documentElement,r)){if(n!==null&&jC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=TP(r,s);var a=TP(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var HJ=fs&&"documentMode"in document&&11>=document.documentMode,_l=null,$N=null,Vc=null,kN=!1;function PP(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;kN||_l==null||_l!==Kf(n)||(n=_l,"selectionStart"in n&&jC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),Vc&&hd(Vc,n)||(Vc=n,n=ep($N,"onSelect"),0<n.length&&(e=new SC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=_l)))}function rf(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Sl={animationend:rf("Animation","AnimationEnd"),animationiteration:rf("Animation","AnimationIteration"),animationstart:rf("Animation","AnimationStart"),transitionend:rf("Transition","TransitionEnd")},mv={},aV={};fs&&(aV=document.createElement("div").style,"AnimationEvent"in window||(delete Sl.animationend.animation,delete Sl.animationiteration.animation,delete Sl.animationstart.animation),"TransitionEvent"in window||delete Sl.transitionend.transition);function Yp(t){if(mv[t])return mv[t];if(!Sl[t])return t;var e=Sl[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in aV)return mv[t]=e[r];return t}var oV=Yp("animationend"),lV=Yp("animationiteration"),uV=Yp("animationstart"),cV=Yp("transitionend"),dV=new Map,IP="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Na(t,e){dV.set(t,e),zo(e,[t])}for(var vv=0;vv<IP.length;vv++){var gv=IP[vv],KJ=gv.toLowerCase(),GJ=gv[0].toUpperCase()+gv.slice(1);Na(KJ,"on"+GJ)}Na(oV,"onAnimationEnd");Na(lV,"onAnimationIteration");Na(uV,"onAnimationStart");Na("dblclick","onDoubleClick");Na("focusin","onFocus");Na("focusout","onBlur");Na(cV,"onTransitionEnd");uu("onMouseEnter",["mouseout","mouseover"]);uu("onMouseLeave",["mouseout","mouseover"]);uu("onPointerEnter",["pointerout","pointerover"]);uu("onPointerLeave",["pointerout","pointerover"]);zo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));zo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));zo("onBeforeInput",["compositionend","keypress","textInput","paste"]);zo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));zo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var qc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),YJ=new Set("cancel close invalid load scroll toggle".split(" ").concat(qc));function RP(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,KX(n,e,void 0,t),t.currentTarget=null}function hV(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],u=o.instance,c=o.currentTarget;if(o=o.listener,u!==s&&i.isPropagationStopped())break e;RP(i,o,c),s=u}else for(a=0;a<n.length;a++){if(o=n[a],u=o.instance,c=o.currentTarget,o=o.listener,u!==s&&i.isPropagationStopped())break e;RP(i,o,c),s=u}}}if(Yf)throw t=TN,Yf=!1,TN=null,t}function wt(t,e){var r=e[FN];r===void 0&&(r=e[FN]=new Set);var n=t+"__bubble";r.has(n)||(fV(e,t,2,!1),r.add(n))}function yv(t,e,r){var n=0;e&&(n|=4),fV(r,t,n,e)}var nf="_reactListening"+Math.random().toString(36).slice(2);function fd(t){if(!t[nf]){t[nf]=!0,xW.forEach(function(r){r!=="selectionchange"&&(YJ.has(r)||yv(r,!1,t),yv(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[nf]||(e[nf]=!0,yv("selectionchange",!1,e))}}function fV(t,e,r,n){switch(QW(e)){case 1:var i=uJ;break;case 4:i=cJ;break;default:i=wC}r=i.bind(null,e,r,t),i=void 0,!ON||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function bv(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var u=a.tag;if((u===3||u===4)&&(u=a.stateNode.containerInfo,u===i||u.nodeType===8&&u.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Va(o),a===null)return;if(u=a.tag,u===5||u===6){n=s=a;continue e}o=o.parentNode}}n=n.return}MW(function(){var c=s,d=gC(r),h=[];e:{var f=dV.get(t);if(f!==void 0){var p=SC,m=t;switch(t){case"keypress":if(Tf(r)===0)break e;case"keydown":case"keyup":p=NJ;break;case"focusin":m="focus",p=hv;break;case"focusout":m="blur",p=hv;break;case"beforeblur":case"afterblur":p=hv;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=xP;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=fJ;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=OJ;break;case oV:case lV:case uV:p=vJ;break;case cV:p=PJ;break;case"scroll":p=dJ;break;case"wheel":p=RJ;break;case"copy":case"cut":case"paste":p=yJ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=_P}var y=(e&4)!==0,x=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=c,w;v!==null;){w=v;var b=w.stateNode;if(w.tag===5&&b!==null&&(w=b,g!==null&&(b=od(v,g),b!=null&&y.push(pd(v,b,w)))),x)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==jN&&(m=r.relatedTarget||r.fromElement)&&(Va(m)||m[ps]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=c,m=m?Va(m):null,m!==null&&(x=Uo(m),m!==x||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=c),p!==m)){if(y=xP,b="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=_P,b="onPointerLeave",g="onPointerEnter",v="pointer"),x=p==null?f:El(p),w=m==null?f:El(m),f=new y(b,v+"leave",p,r,d),f.target=x,f.relatedTarget=w,b=null,Va(d)===c&&(y=new y(g,v+"enter",m,r,d),y.target=w,y.relatedTarget=x,b=y),x=b,p&&m)t:{for(y=p,g=m,v=0,w=y;w;w=hl(w))v++;for(w=0,b=g;b;b=hl(b))w++;for(;0<v-w;)y=hl(y),v--;for(;0<w-v;)g=hl(g),w--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=hl(y),g=hl(g)}y=null}else y=null;p!==null&&$P(h,f,p,y,!1),m!==null&&x!==null&&$P(h,x,m,y,!0)}}e:{if(f=c?El(c):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=FJ;else if(NP(f))if(rV)_=UJ;else{_=BJ;var S=LJ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=zJ);if(_&&(_=_(t,c))){tV(h,_,r,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&wN(f,"number",f.value)}switch(S=c?El(c):window,t){case"focusin":(NP(S)||S.contentEditable==="true")&&(_l=S,$N=c,Vc=null);break;case"focusout":Vc=$N=_l=null;break;case"mousedown":kN=!0;break;case"contextmenu":case"mouseup":case"dragend":kN=!1,PP(h,r,d);break;case"selectionchange":if(HJ)break;case"keydown":case"keyup":PP(h,r,d)}var N;if(NC)e:{switch(t){case"compositionstart":var E="onCompositionStart";break e;case"compositionend":E="onCompositionEnd";break e;case"compositionupdate":E="onCompositionUpdate";break e}E=void 0}else wl?ZW(t,r)&&(E="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(E="onCompositionStart");E&&(JW&&r.locale!=="ko"&&(wl||E!=="onCompositionStart"?E==="onCompositionEnd"&&wl&&(N=XW()):(Xs=d,_C="value"in Xs?Xs.value:Xs.textContent,wl=!0)),S=ep(c,E),0<S.length&&(E=new wP(E,t,null,r,d),h.push({event:E,listeners:S}),N?E.data=N:(N=eV(r),N!==null&&(E.data=N)))),(N=kJ?DJ(t,r):MJ(t,r))&&(c=ep(c,"onBeforeInput"),0<c.length&&(d=new wP("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:c}),d.data=N))}hV(h,e)})}function pd(t,e,r){return{instance:t,listener:e,currentTarget:r}}function ep(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=od(t,r),s!=null&&n.unshift(pd(t,s,i)),s=od(t,e),s!=null&&n.push(pd(t,s,i))),t=t.return}return n}function hl(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function $P(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,u=o.alternate,c=o.stateNode;if(u!==null&&u===n)break;o.tag===5&&c!==null&&(o=c,i?(u=od(r,s),u!=null&&a.unshift(pd(r,u,o))):i||(u=od(r,s),u!=null&&a.push(pd(r,u,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var QJ=/\r\n?/g,XJ=/\u0000|\uFFFD/g;function kP(t){return(typeof t=="string"?t:""+t).replace(QJ,`
`).replace(XJ,"")}function sf(t,e,r){if(e=kP(e),kP(t)!==e&&r)throw Error(ee(425))}function tp(){}var DN=null,MN=null;function qN(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var AN=typeof setTimeout=="function"?setTimeout:void 0,JJ=typeof clearTimeout=="function"?clearTimeout:void 0,DP=typeof Promise=="function"?Promise:void 0,ZJ=typeof queueMicrotask=="function"?queueMicrotask:typeof DP<"u"?function(t){return DP.resolve(null).then(t).catch(eZ)}:AN;function eZ(t){setTimeout(function(){throw t})}function xv(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),cd(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);cd(e)}function ia(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function MP(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var $u=Math.random().toString(36).slice(2),Ci="__reactFiber$"+$u,md="__reactProps$"+$u,ps="__reactContainer$"+$u,FN="__reactEvents$"+$u,tZ="__reactListeners$"+$u,rZ="__reactHandles$"+$u;function Va(t){var e=t[Ci];if(e)return e;for(var r=t.parentNode;r;){if(e=r[ps]||r[Ci]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=MP(t);t!==null;){if(r=t[Ci])return r;t=MP(t)}return e}t=r,r=t.parentNode}return null}function Qd(t){return t=t[Ci]||t[ps],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function El(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(ee(33))}function Qp(t){return t[md]||null}var LN=[],Nl=-1;function ja(t){return{current:t}}function St(t){0>Nl||(t.current=LN[Nl],LN[Nl]=null,Nl--)}function xt(t,e){Nl++,LN[Nl]=t.current,t.current=e}var ba={},Dr=ja(ba),ln=ja(!1),_o=ba;function cu(t,e){var r=t.type.contextTypes;if(!r)return ba;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function un(t){return t=t.childContextTypes,t!=null}function rp(){St(ln),St(Dr)}function qP(t,e,r){if(Dr.current!==ba)throw Error(ee(168));xt(Dr,e),xt(ln,r)}function pV(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(ee(108,LX(t)||"Unknown",i));return $t({},r,n)}function np(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ba,_o=Dr.current,xt(Dr,t),xt(ln,ln.current),!0}function AP(t,e,r){var n=t.stateNode;if(!n)throw Error(ee(169));r?(t=pV(t,e,_o),n.__reactInternalMemoizedMergedChildContext=t,St(ln),St(Dr),xt(Dr,t)):St(ln),xt(ln,r)}var Gi=null,Xp=!1,wv=!1;function mV(t){Gi===null?Gi=[t]:Gi.push(t)}function nZ(t){Xp=!0,mV(t)}function Ca(){if(!wv&&Gi!==null){wv=!0;var t=0,e=lt;try{var r=Gi;for(lt=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Gi=null,Xp=!1}catch(i){throw Gi!==null&&(Gi=Gi.slice(t+1)),LW(yC,Ca),i}finally{lt=e,wv=!1}}return null}var jl=[],Cl=0,ip=null,sp=0,An=[],Fn=0,So=null,Zi=1,es="";function Ba(t,e){jl[Cl++]=sp,jl[Cl++]=ip,ip=t,sp=e}function vV(t,e,r){An[Fn++]=Zi,An[Fn++]=es,An[Fn++]=So,So=t;var n=Zi;t=es;var i=32-di(n)-1;n&=~(1<<i),r+=1;var s=32-di(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,Zi=1<<32-di(e)+i|r<<i|n,es=s+t}else Zi=1<<s|r<<i|n,es=t}function CC(t){t.return!==null&&(Ba(t,1),vV(t,1,0))}function OC(t){for(;t===ip;)ip=jl[--Cl],jl[Cl]=null,sp=jl[--Cl],jl[Cl]=null;for(;t===So;)So=An[--Fn],An[Fn]=null,es=An[--Fn],An[Fn]=null,Zi=An[--Fn],An[Fn]=null}var En=null,Sn=null,Ct=!1,ai=null;function gV(t,e){var r=zn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function FP(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,Sn=ia(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,Sn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=So!==null?{id:Zi,overflow:es}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=zn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,En=t,Sn=null,!0):!1;default:return!1}}function BN(t){return(t.mode&1)!==0&&(t.flags&128)===0}function zN(t){if(Ct){var e=Sn;if(e){var r=e;if(!FP(t,e)){if(BN(t))throw Error(ee(418));e=ia(r.nextSibling);var n=En;e&&FP(t,e)?gV(n,r):(t.flags=t.flags&-4097|2,Ct=!1,En=t)}}else{if(BN(t))throw Error(ee(418));t.flags=t.flags&-4097|2,Ct=!1,En=t}}}function LP(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function af(t){if(t!==En)return!1;if(!Ct)return LP(t),Ct=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!qN(t.type,t.memoizedProps)),e&&(e=Sn)){if(BN(t))throw yV(),Error(ee(418));for(;e;)gV(t,e),e=ia(e.nextSibling)}if(LP(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(ee(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){Sn=ia(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}Sn=null}}else Sn=En?ia(t.stateNode.nextSibling):null;return!0}function yV(){for(var t=Sn;t;)t=ia(t.nextSibling)}function du(){Sn=En=null,Ct=!1}function TC(t){ai===null?ai=[t]:ai.push(t)}var iZ=bs.ReactCurrentBatchConfig;function _c(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(ee(309));var n=r.stateNode}if(!n)throw Error(ee(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(ee(284));if(!r._owner)throw Error(ee(290,t))}return t}function of(t,e){throw t=Object.prototype.toString.call(e),Error(ee(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function BP(t){var e=t._init;return e(t._payload)}function bV(t){function e(g,v){if(t){var w=g.deletions;w===null?(g.deletions=[v],g.flags|=16):w.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=la(g,v),g.index=0,g.sibling=null,g}function s(g,v,w){return g.index=w,t?(w=g.alternate,w!==null?(w=w.index,w<v?(g.flags|=2,v):w):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,w,b){return v===null||v.tag!==6?(v=Ov(w,g.mode,b),v.return=g,v):(v=i(v,w),v.return=g,v)}function u(g,v,w,b){var _=w.type;return _===xl?d(g,v,w.props.children,b,w.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ks&&BP(_)===v.type)?(b=i(v,w.props),b.ref=_c(g,v,w),b.return=g,b):(b=Mf(w.type,w.key,w.props,null,g.mode,b),b.ref=_c(g,v,w),b.return=g,b)}function c(g,v,w,b){return v===null||v.tag!==4||v.stateNode.containerInfo!==w.containerInfo||v.stateNode.implementation!==w.implementation?(v=Tv(w,g.mode,b),v.return=g,v):(v=i(v,w.children||[]),v.return=g,v)}function d(g,v,w,b,_){return v===null||v.tag!==7?(v=fo(w,g.mode,b,_),v.return=g,v):(v=i(v,w),v.return=g,v)}function h(g,v,w){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Ov(""+v,g.mode,w),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case Yh:return w=Mf(v.type,v.key,v.props,null,g.mode,w),w.ref=_c(g,null,v),w.return=g,w;case bl:return v=Tv(v,g.mode,w),v.return=g,v;case ks:var b=v._init;return h(g,b(v._payload),w)}if(Dc(v)||gc(v))return v=fo(v,g.mode,w,null),v.return=g,v;of(g,v)}return null}function f(g,v,w,b){var _=v!==null?v.key:null;if(typeof w=="string"&&w!==""||typeof w=="number")return _!==null?null:o(g,v,""+w,b);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yh:return w.key===_?u(g,v,w,b):null;case bl:return w.key===_?c(g,v,w,b):null;case ks:return _=w._init,f(g,v,_(w._payload),b)}if(Dc(w)||gc(w))return _!==null?null:d(g,v,w,b,null);of(g,w)}return null}function p(g,v,w,b,_){if(typeof b=="string"&&b!==""||typeof b=="number")return g=g.get(w)||null,o(v,g,""+b,_);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case Yh:return g=g.get(b.key===null?w:b.key)||null,u(v,g,b,_);case bl:return g=g.get(b.key===null?w:b.key)||null,c(v,g,b,_);case ks:var S=b._init;return p(g,v,w,S(b._payload),_)}if(Dc(b)||gc(b))return g=g.get(w)||null,d(v,g,b,_,null);of(v,b)}return null}function m(g,v,w,b){for(var _=null,S=null,N=v,E=v=0,C=null;N!==null&&E<w.length;E++){N.index>E?(C=N,N=null):C=N.sibling;var O=f(g,N,w[E],b);if(O===null){N===null&&(N=C);break}t&&N&&O.alternate===null&&e(g,N),v=s(O,v,E),S===null?_=O:S.sibling=O,S=O,N=C}if(E===w.length)return r(g,N),Ct&&Ba(g,E),_;if(N===null){for(;E<w.length;E++)N=h(g,w[E],b),N!==null&&(v=s(N,v,E),S===null?_=N:S.sibling=N,S=N);return Ct&&Ba(g,E),_}for(N=n(g,N);E<w.length;E++)C=p(N,g,E,w[E],b),C!==null&&(t&&C.alternate!==null&&N.delete(C.key===null?E:C.key),v=s(C,v,E),S===null?_=C:S.sibling=C,S=C);return t&&N.forEach(function(I){return e(g,I)}),Ct&&Ba(g,E),_}function y(g,v,w,b){var _=gc(w);if(typeof _!="function")throw Error(ee(150));if(w=_.call(w),w==null)throw Error(ee(151));for(var S=_=null,N=v,E=v=0,C=null,O=w.next();N!==null&&!O.done;E++,O=w.next()){N.index>E?(C=N,N=null):C=N.sibling;var I=f(g,N,O.value,b);if(I===null){N===null&&(N=C);break}t&&N&&I.alternate===null&&e(g,N),v=s(I,v,E),S===null?_=I:S.sibling=I,S=I,N=C}if(O.done)return r(g,N),Ct&&Ba(g,E),_;if(N===null){for(;!O.done;E++,O=w.next())O=h(g,O.value,b),O!==null&&(v=s(O,v,E),S===null?_=O:S.sibling=O,S=O);return Ct&&Ba(g,E),_}for(N=n(g,N);!O.done;E++,O=w.next())O=p(N,g,E,O.value,b),O!==null&&(t&&O.alternate!==null&&N.delete(O.key===null?E:O.key),v=s(O,v,E),S===null?_=O:S.sibling=O,S=O);return t&&N.forEach(function(j){return e(g,j)}),Ct&&Ba(g,E),_}function x(g,v,w,b){if(typeof w=="object"&&w!==null&&w.type===xl&&w.key===null&&(w=w.props.children),typeof w=="object"&&w!==null){switch(w.$$typeof){case Yh:e:{for(var _=w.key,S=v;S!==null;){if(S.key===_){if(_=w.type,_===xl){if(S.tag===7){r(g,S.sibling),v=i(S,w.props.children),v.return=g,g=v;break e}}else if(S.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ks&&BP(_)===S.type){r(g,S.sibling),v=i(S,w.props),v.ref=_c(g,S,w),v.return=g,g=v;break e}r(g,S);break}else e(g,S);S=S.sibling}w.type===xl?(v=fo(w.props.children,g.mode,b,w.key),v.return=g,g=v):(b=Mf(w.type,w.key,w.props,null,g.mode,b),b.ref=_c(g,v,w),b.return=g,g=b)}return a(g);case bl:e:{for(S=w.key;v!==null;){if(v.key===S)if(v.tag===4&&v.stateNode.containerInfo===w.containerInfo&&v.stateNode.implementation===w.implementation){r(g,v.sibling),v=i(v,w.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=Tv(w,g.mode,b),v.return=g,g=v}return a(g);case ks:return S=w._init,x(g,v,S(w._payload),b)}if(Dc(w))return m(g,v,w,b);if(gc(w))return y(g,v,w,b);of(g,w)}return typeof w=="string"&&w!==""||typeof w=="number"?(w=""+w,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,w),v.return=g,g=v):(r(g,v),v=Ov(w,g.mode,b),v.return=g,g=v),a(g)):r(g,v)}return x}var hu=bV(!0),xV=bV(!1),ap=ja(null),op=null,Ol=null,PC=null;function IC(){PC=Ol=op=null}function RC(t){var e=ap.current;St(ap),t._currentValue=e}function UN(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function Bl(t,e){op=t,PC=Ol=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(an=!0),t.firstContext=null)}function Hn(t){var e=t._currentValue;if(PC!==t)if(t={context:t,memoizedValue:e,next:null},Ol===null){if(op===null)throw Error(ee(308));Ol=t,op.dependencies={lanes:0,firstContext:t}}else Ol=Ol.next=t;return e}var Ha=null;function $C(t){Ha===null?Ha=[t]:Ha.push(t)}function wV(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,$C(e)):(r.next=i.next,i.next=r),e.interleaved=r,ms(t,n)}function ms(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var Ds=!1;function kC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _V(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ns(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function sa(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,et&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,ms(t,r)}return i=n.interleaved,i===null?(e.next=e,$C(n)):(e.next=i.next,i.next=e),n.interleaved=e,ms(t,r)}function Pf(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}function zP(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function lp(t,e,r,n){var i=t.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var u=o,c=u.next;u.next=null,a===null?s=c:a.next=c,a=u;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=c:o.next=c,d.lastBaseUpdate=u))}if(s!==null){var h=i.baseState;a=0,d=c=u=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=$t({},h,f);break e;case 2:Ds=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(c=d=p,u=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(u=h),i.baseState=u,i.firstBaseUpdate=c,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);No|=a,t.lanes=a,t.memoizedState=h}}function UP(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(ee(191,i));i.call(n)}}}var Xd={},$i=ja(Xd),vd=ja(Xd),gd=ja(Xd);function Ka(t){if(t===Xd)throw Error(ee(174));return t}function DC(t,e){switch(xt(gd,e),xt(vd,t),xt($i,Xd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:SN(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=SN(e,t)}St($i),xt($i,e)}function fu(){St($i),St(vd),St(gd)}function SV(t){Ka(gd.current);var e=Ka($i.current),r=SN(e,t.type);e!==r&&(xt(vd,t),xt($i,r))}function MC(t){vd.current===t&&(St($i),St(vd))}var Pt=ja(0);function up(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var _v=[];function qC(){for(var t=0;t<_v.length;t++)_v[t]._workInProgressVersionPrimary=null;_v.length=0}var If=bs.ReactCurrentDispatcher,Sv=bs.ReactCurrentBatchConfig,Eo=0,It=null,or=null,fr=null,cp=!1,Hc=!1,yd=0,sZ=0;function Pr(){throw Error(ee(321))}function AC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!fi(t[r],e[r]))return!1;return!0}function FC(t,e,r,n,i,s){if(Eo=s,It=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,If.current=t===null||t.memoizedState===null?uZ:cZ,t=r(n,i),Hc){s=0;do{if(Hc=!1,yd=0,25<=s)throw Error(ee(301));s+=1,fr=or=null,e.updateQueue=null,If.current=dZ,t=r(n,i)}while(Hc)}if(If.current=dp,e=or!==null&&or.next!==null,Eo=0,fr=or=It=null,cp=!1,e)throw Error(ee(300));return t}function LC(){var t=yd!==0;return yd=0,t}function _i(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return fr===null?It.memoizedState=fr=t:fr=fr.next=t,fr}function Kn(){if(or===null){var t=It.alternate;t=t!==null?t.memoizedState:null}else t=or.next;var e=fr===null?It.memoizedState:fr.next;if(e!==null)fr=e,or=t;else{if(t===null)throw Error(ee(310));or=t,t={memoizedState:or.memoizedState,baseState:or.baseState,baseQueue:or.baseQueue,queue:or.queue,next:null},fr===null?It.memoizedState=fr=t:fr=fr.next=t}return fr}function bd(t,e){return typeof e=="function"?e(t):e}function Ev(t){var e=Kn(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=or,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,u=null,c=s;do{var d=c.lane;if((Eo&d)===d)u!==null&&(u=u.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),n=c.hasEagerState?c.eagerState:t(n,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};u===null?(o=u=h,a=n):u=u.next=h,It.lanes|=d,No|=d}c=c.next}while(c!==null&&c!==s);u===null?a=n:u.next=o,fi(n,e.memoizedState)||(an=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=u,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,It.lanes|=s,No|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function Nv(t){var e=Kn(),r=e.queue;if(r===null)throw Error(ee(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);fi(s,e.memoizedState)||(an=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function EV(){}function NV(t,e){var r=It,n=Kn(),i=e(),s=!fi(n.memoizedState,i);if(s&&(n.memoizedState=i,an=!0),n=n.queue,BC(OV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||fr!==null&&fr.memoizedState.tag&1){if(r.flags|=2048,xd(9,CV.bind(null,r,n,i,e),void 0,null),pr===null)throw Error(ee(349));Eo&30||jV(r,e,i)}return i}function jV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function CV(t,e,r,n){e.value=r,e.getSnapshot=n,TV(e)&&PV(t)}function OV(t,e,r){return r(function(){TV(e)&&PV(t)})}function TV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!fi(t,r)}catch{return!0}}function PV(t){var e=ms(t,1);e!==null&&hi(e,t,1,-1)}function WP(t){var e=_i();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:bd,lastRenderedState:t},e.queue=t,t=t.dispatch=lZ.bind(null,It,t),[e.memoizedState,t]}function xd(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=It.updateQueue,e===null?(e={lastEffect:null,stores:null},It.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function IV(){return Kn().memoizedState}function Rf(t,e,r,n){var i=_i();It.flags|=t,i.memoizedState=xd(1|e,r,void 0,n===void 0?null:n)}function Jp(t,e,r,n){var i=Kn();n=n===void 0?null:n;var s=void 0;if(or!==null){var a=or.memoizedState;if(s=a.destroy,n!==null&&AC(n,a.deps)){i.memoizedState=xd(e,r,s,n);return}}It.flags|=t,i.memoizedState=xd(1|e,r,s,n)}function VP(t,e){return Rf(8390656,8,t,e)}function BC(t,e){return Jp(2048,8,t,e)}function RV(t,e){return Jp(4,2,t,e)}function $V(t,e){return Jp(4,4,t,e)}function kV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function DV(t,e,r){return r=r!=null?r.concat([t]):null,Jp(4,4,kV.bind(null,e,t),r)}function zC(){}function MV(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function qV(t,e){var r=Kn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&AC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function AV(t,e,r){return Eo&21?(fi(r,e)||(r=UW(),It.lanes|=r,No|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,an=!0),t.memoizedState=r)}function aZ(t,e){var r=lt;lt=r!==0&&4>r?r:4,t(!0);var n=Sv.transition;Sv.transition={};try{t(!1),e()}finally{lt=r,Sv.transition=n}}function FV(){return Kn().memoizedState}function oZ(t,e,r){var n=oa(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},LV(t))BV(e,r);else if(r=wV(t,e,r,n),r!==null){var i=Vr();hi(r,t,n,i),zV(r,e,n)}}function lZ(t,e,r){var n=oa(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(LV(t))BV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,fi(o,a)){var u=e.interleaved;u===null?(i.next=i,$C(e)):(i.next=u.next,u.next=i),e.interleaved=i;return}}catch{}finally{}r=wV(t,e,i,n),r!==null&&(i=Vr(),hi(r,t,n,i),zV(r,e,n))}}function LV(t){var e=t.alternate;return t===It||e!==null&&e===It}function BV(t,e){Hc=cp=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function zV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,bC(t,r)}}var dp={readContext:Hn,useCallback:Pr,useContext:Pr,useEffect:Pr,useImperativeHandle:Pr,useInsertionEffect:Pr,useLayoutEffect:Pr,useMemo:Pr,useReducer:Pr,useRef:Pr,useState:Pr,useDebugValue:Pr,useDeferredValue:Pr,useTransition:Pr,useMutableSource:Pr,useSyncExternalStore:Pr,useId:Pr,unstable_isNewReconciler:!1},uZ={readContext:Hn,useCallback:function(t,e){return _i().memoizedState=[t,e===void 0?null:e],t},useContext:Hn,useEffect:VP,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Rf(4194308,4,kV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Rf(4194308,4,t,e)},useInsertionEffect:function(t,e){return Rf(4,2,t,e)},useMemo:function(t,e){var r=_i();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=_i();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=oZ.bind(null,It,t),[n.memoizedState,t]},useRef:function(t){var e=_i();return t={current:t},e.memoizedState=t},useState:WP,useDebugValue:zC,useDeferredValue:function(t){return _i().memoizedState=t},useTransition:function(){var t=WP(!1),e=t[0];return t=aZ.bind(null,t[1]),_i().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=It,i=_i();if(Ct){if(r===void 0)throw Error(ee(407));r=r()}else{if(r=e(),pr===null)throw Error(ee(349));Eo&30||jV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,VP(OV.bind(null,n,s,t),[t]),n.flags|=2048,xd(9,CV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=_i(),e=pr.identifierPrefix;if(Ct){var r=es,n=Zi;r=(n&~(1<<32-di(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=yd++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=sZ++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},cZ={readContext:Hn,useCallback:MV,useContext:Hn,useEffect:BC,useImperativeHandle:DV,useInsertionEffect:RV,useLayoutEffect:$V,useMemo:qV,useReducer:Ev,useRef:IV,useState:function(){return Ev(bd)},useDebugValue:zC,useDeferredValue:function(t){var e=Kn();return AV(e,or.memoizedState,t)},useTransition:function(){var t=Ev(bd)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:EV,useSyncExternalStore:NV,useId:FV,unstable_isNewReconciler:!1},dZ={readContext:Hn,useCallback:MV,useContext:Hn,useEffect:BC,useImperativeHandle:DV,useInsertionEffect:RV,useLayoutEffect:$V,useMemo:qV,useReducer:Nv,useRef:IV,useState:function(){return Nv(bd)},useDebugValue:zC,useDeferredValue:function(t){var e=Kn();return or===null?e.memoizedState=t:AV(e,or.memoizedState,t)},useTransition:function(){var t=Nv(bd)[0],e=Kn().memoizedState;return[t,e]},useMutableSource:EV,useSyncExternalStore:NV,useId:FV,unstable_isNewReconciler:!1};function ri(t,e){if(t&&t.defaultProps){e=$t({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function WN(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:$t({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var Zp={isMounted:function(t){return(t=t._reactInternals)?Uo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=oa(t),s=ns(n,i);s.payload=e,r!=null&&(s.callback=r),e=sa(t,s,i),e!==null&&(hi(e,t,i,n),Pf(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Vr(),i=oa(t),s=ns(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=sa(t,s,i),e!==null&&(hi(e,t,i,n),Pf(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Vr(),n=oa(t),i=ns(r,n);i.tag=2,e!=null&&(i.callback=e),e=sa(t,i,n),e!==null&&(hi(e,t,n,r),Pf(e,t,n))}};function HP(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!hd(r,n)||!hd(i,s):!0}function UV(t,e,r){var n=!1,i=ba,s=e.contextType;return typeof s=="object"&&s!==null?s=Hn(s):(i=un(e)?_o:Dr.current,n=e.contextTypes,s=(n=n!=null)?cu(t,i):ba),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Zp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function KP(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&Zp.enqueueReplaceState(e,e.state,null)}function VN(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},kC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=Hn(s):(s=un(e)?_o:Dr.current,i.context=cu(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(WN(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&Zp.enqueueReplaceState(i,i.state,null),lp(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function pu(t,e){try{var r="",n=e;do r+=FX(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function jv(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function HN(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var hZ=typeof WeakMap=="function"?WeakMap:Map;function WV(t,e,r){r=ns(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){fp||(fp=!0,rj=n),HN(t,e)},r}function VV(t,e,r){r=ns(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){HN(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){HN(t,e),typeof n!="function"&&(aa===null?aa=new Set([this]):aa.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function GP(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new hZ;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=jZ.bind(null,t,e,r),e.then(t,t))}function YP(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function QP(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=ns(-1,1),e.tag=2,sa(r,e,1))),r.lanes|=1),t)}var fZ=bs.ReactCurrentOwner,an=!1;function Lr(t,e,r,n){e.child=t===null?xV(e,null,r,n):hu(e,t.child,r,n)}function XP(t,e,r,n,i){r=r.render;var s=e.ref;return Bl(e,i),n=FC(t,e,r,n,s,i),r=LC(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(Ct&&r&&CC(e),e.flags|=1,Lr(t,e,n,i),e.child)}function JP(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!QC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,HV(t,e,s,n,i)):(t=Mf(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:hd,r(a,n)&&t.ref===e.ref)return vs(t,e,i)}return e.flags|=1,t=la(s,n),t.ref=e.ref,t.return=e,e.child=t}function HV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(hd(s,n)&&t.ref===e.ref)if(an=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(an=!0);else return e.lanes=t.lanes,vs(t,e,i)}return KN(t,e,r,n,i)}function KV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},xt(Pl,xn),xn|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,xt(Pl,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,xt(Pl,xn),xn|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,xt(Pl,xn),xn|=n;return Lr(t,e,i,r),e.child}function GV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function KN(t,e,r,n,i){var s=un(r)?_o:Dr.current;return s=cu(e,s),Bl(e,i),r=FC(t,e,r,n,s,i),n=LC(),t!==null&&!an?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,vs(t,e,i)):(Ct&&n&&CC(e),e.flags|=1,Lr(t,e,r,i),e.child)}function ZP(t,e,r,n,i){if(un(r)){var s=!0;np(e)}else s=!1;if(Bl(e,i),e.stateNode===null)$f(t,e),UV(e,r,n),VN(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var u=a.context,c=r.contextType;typeof c=="object"&&c!==null?c=Hn(c):(c=un(r)?_o:Dr.current,c=cu(e,c));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||u!==c)&&KP(e,a,n,c),Ds=!1;var f=e.memoizedState;a.state=f,lp(e,n,a,i),u=e.memoizedState,o!==n||f!==u||ln.current||Ds?(typeof d=="function"&&(WN(e,r,d,n),u=e.memoizedState),(o=Ds||HP(e,r,o,n,f,u,c))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=u),a.props=n,a.state=u,a.context=c,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,_V(t,e),o=e.memoizedProps,c=e.type===e.elementType?o:ri(e.type,o),a.props=c,h=e.pendingProps,f=a.context,u=r.contextType,typeof u=="object"&&u!==null?u=Hn(u):(u=un(r)?_o:Dr.current,u=cu(e,u));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==u)&&KP(e,a,n,u),Ds=!1,f=e.memoizedState,a.state=f,lp(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||ln.current||Ds?(typeof p=="function"&&(WN(e,r,p,n),m=e.memoizedState),(c=Ds||HP(e,r,c,n,f,m,u)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,u),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,u)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=u,n=c):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return GN(t,e,r,n,s,i)}function GN(t,e,r,n,i,s){GV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&AP(e,r,!1),vs(t,e,s);n=e.stateNode,fZ.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=hu(e,t.child,null,s),e.child=hu(e,null,o,s)):Lr(t,e,o,s),e.memoizedState=n.state,i&&AP(e,r,!0),e.child}function YV(t){var e=t.stateNode;e.pendingContext?qP(t,e.pendingContext,e.pendingContext!==e.context):e.context&&qP(t,e.context,!1),DC(t,e.containerInfo)}function eI(t,e,r,n,i){return du(),TC(i),e.flags|=256,Lr(t,e,r,n),e.child}var YN={dehydrated:null,treeContext:null,retryLane:0};function QN(t){return{baseLanes:t,cachePool:null,transitions:null}}function QV(t,e,r){var n=e.pendingProps,i=Pt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),xt(Pt,i&1),t===null)return zN(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=rm(a,n,0,null),t=fo(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=QN(r),e.memoizedState=YN,t):UC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return pZ(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var u={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=u,e.deletions=null):(n=la(i,u),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=la(o,s):(s=fo(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?QN(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=YN,n}return s=t.child,t=s.sibling,n=la(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function UC(t,e){return e=rm({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function lf(t,e,r,n){return n!==null&&TC(n),hu(e,t.child,null,r),t=UC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function pZ(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=jv(Error(ee(422))),lf(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=rm({mode:"visible",children:n.children},i,0,null),s=fo(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&hu(e,t.child,null,a),e.child.memoizedState=QN(a),e.memoizedState=YN,s);if(!(e.mode&1))return lf(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(ee(419)),n=jv(s,n,void 0),lf(t,e,a,n)}if(o=(a&t.childLanes)!==0,an||o){if(n=pr,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,ms(t,i),hi(n,t,i,-1))}return YC(),n=jv(Error(ee(421))),lf(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=CZ.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,Sn=ia(i.nextSibling),En=e,Ct=!0,ai=null,t!==null&&(An[Fn++]=Zi,An[Fn++]=es,An[Fn++]=So,Zi=t.id,es=t.overflow,So=e),e=UC(e,n.children),e.flags|=4096,e)}function tI(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),UN(t.return,e,r)}function Cv(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function XV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Lr(t,e,n.children,r),n=Pt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&tI(t,r,e);else if(t.tag===19)tI(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(xt(Pt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&up(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),Cv(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&up(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}Cv(e,!0,r,null,s);break;case"together":Cv(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function $f(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function vs(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),No|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(ee(153));if(e.child!==null){for(t=e.child,r=la(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=la(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function mZ(t,e,r){switch(e.tag){case 3:YV(e),du();break;case 5:SV(e);break;case 1:un(e.type)&&np(e);break;case 4:DC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;xt(ap,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(xt(Pt,Pt.current&1),e.flags|=128,null):r&e.child.childLanes?QV(t,e,r):(xt(Pt,Pt.current&1),t=vs(t,e,r),t!==null?t.sibling:null);xt(Pt,Pt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return XV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),xt(Pt,Pt.current),n)break;return null;case 22:case 23:return e.lanes=0,KV(t,e,r)}return vs(t,e,r)}var JV,XN,ZV,eH;JV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};XN=function(){};ZV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Ka($i.current);var s=null;switch(r){case"input":i=bN(t,i),n=bN(t,n),s=[];break;case"select":i=$t({},i,{value:void 0}),n=$t({},n,{value:void 0}),s=[];break;case"textarea":i=_N(t,i),n=_N(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=tp)}EN(r,n);var a;r=null;for(c in i)if(!n.hasOwnProperty(c)&&i.hasOwnProperty(c)&&i[c]!=null)if(c==="style"){var o=i[c];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(sd.hasOwnProperty(c)?s||(s=[]):(s=s||[]).push(c,null));for(c in n){var u=n[c];if(o=i!=null?i[c]:void 0,n.hasOwnProperty(c)&&u!==o&&(u!=null||o!=null))if(c==="style")if(o){for(a in o)!o.hasOwnProperty(a)||u&&u.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in u)u.hasOwnProperty(a)&&o[a]!==u[a]&&(r||(r={}),r[a]=u[a])}else r||(s||(s=[]),s.push(c,r)),r=u;else c==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,o=o?o.__html:void 0,u!=null&&o!==u&&(s=s||[]).push(c,u)):c==="children"?typeof u!="string"&&typeof u!="number"||(s=s||[]).push(c,""+u):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(sd.hasOwnProperty(c)?(u!=null&&c==="onScroll"&&wt("scroll",t),s||o===u||(s=[])):(s=s||[]).push(c,u))}r&&(s=s||[]).push("style",r);var c=s;(e.updateQueue=c)&&(e.flags|=4)}};eH=function(t,e,r,n){r!==n&&(e.flags|=4)};function Sc(t,e){if(!Ct)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function Ir(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function vZ(t,e,r){var n=e.pendingProps;switch(OC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ir(e),null;case 1:return un(e.type)&&rp(),Ir(e),null;case 3:return n=e.stateNode,fu(),St(ln),St(Dr),qC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(af(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,ai!==null&&(sj(ai),ai=null))),XN(t,e),Ir(e),null;case 5:MC(e);var i=Ka(gd.current);if(r=e.type,t!==null&&e.stateNode!=null)ZV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(ee(166));return Ir(e),null}if(t=Ka($i.current),af(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[Ci]=e,n[md]=s,t=(e.mode&1)!==0,r){case"dialog":wt("cancel",n),wt("close",n);break;case"iframe":case"object":case"embed":wt("load",n);break;case"video":case"audio":for(i=0;i<qc.length;i++)wt(qc[i],n);break;case"source":wt("error",n);break;case"img":case"image":case"link":wt("error",n),wt("load",n);break;case"details":wt("toggle",n);break;case"input":cP(n,s),wt("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},wt("invalid",n);break;case"textarea":hP(n,s),wt("invalid",n)}EN(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&sf(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&sf(n.textContent,o,t),i=["children",""+o]):sd.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&wt("scroll",n)}switch(r){case"input":Qh(n),dP(n,s,!0);break;case"textarea":Qh(n),fP(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=tp)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=OW(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[Ci]=e,t[md]=n,JV(t,e,!1,!1),e.stateNode=t;e:{switch(a=NN(r,n),r){case"dialog":wt("cancel",t),wt("close",t),i=n;break;case"iframe":case"object":case"embed":wt("load",t),i=n;break;case"video":case"audio":for(i=0;i<qc.length;i++)wt(qc[i],t);i=n;break;case"source":wt("error",t),i=n;break;case"img":case"image":case"link":wt("error",t),wt("load",t),i=n;break;case"details":wt("toggle",t),i=n;break;case"input":cP(t,n),i=bN(t,n),wt("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=$t({},n,{value:void 0}),wt("invalid",t);break;case"textarea":hP(t,n),i=_N(t,n),wt("invalid",t);break;default:i=n}EN(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var u=o[s];s==="style"?IW(t,u):s==="dangerouslySetInnerHTML"?(u=u?u.__html:void 0,u!=null&&TW(t,u)):s==="children"?typeof u=="string"?(r!=="textarea"||u!=="")&&ad(t,u):typeof u=="number"&&ad(t,""+u):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(sd.hasOwnProperty(s)?u!=null&&s==="onScroll"&&wt("scroll",t):u!=null&&fC(t,s,u,a))}switch(r){case"input":Qh(t),dP(t,n,!1);break;case"textarea":Qh(t),fP(t);break;case"option":n.value!=null&&t.setAttribute("value",""+ya(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?ql(t,!!n.multiple,s,!1):n.defaultValue!=null&&ql(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=tp)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ir(e),null;case 6:if(t&&e.stateNode!=null)eH(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(ee(166));if(r=Ka(gd.current),Ka($i.current),af(e)){if(n=e.stateNode,r=e.memoizedProps,n[Ci]=e,(s=n.nodeValue!==r)&&(t=En,t!==null))switch(t.tag){case 3:sf(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&sf(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[Ci]=e,e.stateNode=n}return Ir(e),null;case 13:if(St(Pt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ct&&Sn!==null&&e.mode&1&&!(e.flags&128))yV(),du(),e.flags|=98560,s=!1;else if(s=af(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(ee(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(ee(317));s[Ci]=e}else du(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ir(e),s=!1}else ai!==null&&(sj(ai),ai=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||Pt.current&1?lr===0&&(lr=3):YC())),e.updateQueue!==null&&(e.flags|=4),Ir(e),null);case 4:return fu(),XN(t,e),t===null&&fd(e.stateNode.containerInfo),Ir(e),null;case 10:return RC(e.type._context),Ir(e),null;case 17:return un(e.type)&&rp(),Ir(e),null;case 19:if(St(Pt),s=e.memoizedState,s===null)return Ir(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Sc(s,!1);else{if(lr!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=up(t),a!==null){for(e.flags|=128,Sc(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return xt(Pt,Pt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ht()>mu&&(e.flags|=128,n=!0,Sc(s,!1),e.lanes=4194304)}else{if(!n)if(t=up(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Sc(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!Ct)return Ir(e),null}else 2*Ht()-s.renderingStartTime>mu&&r!==1073741824&&(e.flags|=128,n=!0,Sc(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ht(),e.sibling=null,r=Pt.current,xt(Pt,n?r&1|2:r&1),e):(Ir(e),null);case 22:case 23:return GC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?xn&1073741824&&(Ir(e),e.subtreeFlags&6&&(e.flags|=8192)):Ir(e),null;case 24:return null;case 25:return null}throw Error(ee(156,e.tag))}function gZ(t,e){switch(OC(e),e.tag){case 1:return un(e.type)&&rp(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return fu(),St(ln),St(Dr),qC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return MC(e),null;case 13:if(St(Pt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(ee(340));du()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return St(Pt),null;case 4:return fu(),null;case 10:return RC(e.type._context),null;case 22:case 23:return GC(),null;case 24:return null;default:return null}}var uf=!1,$r=!1,yZ=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Tl(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){Lt(t,e,n)}else r.current=null}function JN(t,e,r){try{r()}catch(n){Lt(t,e,n)}}var rI=!1;function bZ(t,e){if(DN=Jf,t=sV(),jC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,u=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(u=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++c===i&&(o=a),f===s&&++d===n&&(u=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||u===-1?null:{start:o,end:u}}else r=null}r=r||{start:0,end:0}}else r=null;for(MN={focusedElem:t,selectionRange:r},Jf=!1,ye=e;ye!==null;)if(e=ye,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ye=t;else for(;ye!==null;){e=ye;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,x=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:ri(e.type,y),x);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var w=e.stateNode.containerInfo;w.nodeType===1?w.textContent="":w.nodeType===9&&w.documentElement&&w.removeChild(w.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(ee(163))}}catch(b){Lt(e,e.return,b)}if(t=e.sibling,t!==null){t.return=e.return,ye=t;break}ye=e.return}return m=rI,rI=!1,m}function Kc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&JN(e,r,s)}i=i.next}while(i!==n)}}function em(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function ZN(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function tH(t){var e=t.alternate;e!==null&&(t.alternate=null,tH(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Ci],delete e[md],delete e[FN],delete e[tZ],delete e[rZ])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function rH(t){return t.tag===5||t.tag===3||t.tag===4}function nI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||rH(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function ej(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=tp));else if(n!==4&&(t=t.child,t!==null))for(ej(t,e,r),t=t.sibling;t!==null;)ej(t,e,r),t=t.sibling}function tj(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(tj(t,e,r),t=t.sibling;t!==null;)tj(t,e,r),t=t.sibling}var Sr=null,si=!1;function Ps(t,e,r){for(r=r.child;r!==null;)nH(t,e,r),r=r.sibling}function nH(t,e,r){if(Ri&&typeof Ri.onCommitFiberUnmount=="function")try{Ri.onCommitFiberUnmount(Hp,r)}catch{}switch(r.tag){case 5:$r||Tl(r,e);case 6:var n=Sr,i=si;Sr=null,Ps(t,e,r),Sr=n,si=i,Sr!==null&&(si?(t=Sr,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):Sr.removeChild(r.stateNode));break;case 18:Sr!==null&&(si?(t=Sr,r=r.stateNode,t.nodeType===8?xv(t.parentNode,r):t.nodeType===1&&xv(t,r),cd(t)):xv(Sr,r.stateNode));break;case 4:n=Sr,i=si,Sr=r.stateNode.containerInfo,si=!0,Ps(t,e,r),Sr=n,si=i;break;case 0:case 11:case 14:case 15:if(!$r&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&JN(r,e,a),i=i.next}while(i!==n)}Ps(t,e,r);break;case 1:if(!$r&&(Tl(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){Lt(r,e,o)}Ps(t,e,r);break;case 21:Ps(t,e,r);break;case 22:r.mode&1?($r=(n=$r)||r.memoizedState!==null,Ps(t,e,r),$r=n):Ps(t,e,r);break;default:Ps(t,e,r)}}function iI(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new yZ),e.forEach(function(n){var i=OZ.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function ei(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:Sr=o.stateNode,si=!1;break e;case 3:Sr=o.stateNode.containerInfo,si=!0;break e;case 4:Sr=o.stateNode.containerInfo,si=!0;break e}o=o.return}if(Sr===null)throw Error(ee(160));nH(s,a,i),Sr=null,si=!1;var u=i.alternate;u!==null&&(u.return=null),i.return=null}catch(c){Lt(i,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)iH(e,t),e=e.sibling}function iH(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(ei(e,t),xi(t),n&4){try{Kc(3,t,t.return),em(3,t)}catch(y){Lt(t,t.return,y)}try{Kc(5,t,t.return)}catch(y){Lt(t,t.return,y)}}break;case 1:ei(e,t),xi(t),n&512&&r!==null&&Tl(r,r.return);break;case 5:if(ei(e,t),xi(t),n&512&&r!==null&&Tl(r,r.return),t.flags&32){var i=t.stateNode;try{ad(i,"")}catch(y){Lt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,u=t.updateQueue;if(t.updateQueue=null,u!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&jW(i,s),NN(o,a);var c=NN(o,s);for(a=0;a<u.length;a+=2){var d=u[a],h=u[a+1];d==="style"?IW(i,h):d==="dangerouslySetInnerHTML"?TW(i,h):d==="children"?ad(i,h):fC(i,d,h,c)}switch(o){case"input":xN(i,s);break;case"textarea":CW(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?ql(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?ql(i,!!s.multiple,s.defaultValue,!0):ql(i,!!s.multiple,s.multiple?[]:"",!1))}i[md]=s}catch(y){Lt(t,t.return,y)}}break;case 6:if(ei(e,t),xi(t),n&4){if(t.stateNode===null)throw Error(ee(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){Lt(t,t.return,y)}}break;case 3:if(ei(e,t),xi(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{cd(e.containerInfo)}catch(y){Lt(t,t.return,y)}break;case 4:ei(e,t),xi(t);break;case 13:ei(e,t),xi(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(HC=Ht())),n&4&&iI(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?($r=(c=$r)||d,ei(e,t),$r=c):ei(e,t),xi(t),n&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(ye=t,d=t.child;d!==null;){for(h=ye=d;ye!==null;){switch(f=ye,p=f.child,f.tag){case 0:case 11:case 14:case 15:Kc(4,f,f.return);break;case 1:Tl(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){Lt(n,r,y)}}break;case 5:Tl(f,f.return);break;case 22:if(f.memoizedState!==null){aI(h);continue}}p!==null?(p.return=f,ye=p):aI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,c?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,u=h.memoizedProps.style,a=u!=null&&u.hasOwnProperty("display")?u.display:null,o.style.display=PW("display",a))}catch(y){Lt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(y){Lt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:ei(e,t),xi(t),n&4&&iI(t);break;case 21:break;default:ei(e,t),xi(t)}}function xi(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if(rH(r)){var n=r;break e}r=r.return}throw Error(ee(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(ad(i,""),n.flags&=-33);var s=nI(t);tj(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=nI(t);ej(t,o,a);break;default:throw Error(ee(161))}}catch(u){Lt(t,t.return,u)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function xZ(t,e,r){ye=t,sH(t)}function sH(t,e,r){for(var n=(t.mode&1)!==0;ye!==null;){var i=ye,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||uf;if(!a){var o=i.alternate,u=o!==null&&o.memoizedState!==null||$r;o=uf;var c=$r;if(uf=a,($r=u)&&!c)for(ye=i;ye!==null;)a=ye,u=a.child,a.tag===22&&a.memoizedState!==null?oI(i):u!==null?(u.return=a,ye=u):oI(i);for(;s!==null;)ye=s,sH(s),s=s.sibling;ye=i,uf=o,$r=c}sI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ye=s):sI(t)}}function sI(t){for(;ye!==null;){var e=ye;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:$r||em(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!$r)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:ri(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&UP(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}UP(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var u=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":u.autoFocus&&r.focus();break;case"img":u.src&&(r.src=u.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&cd(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(ee(163))}$r||e.flags&512&&ZN(e)}catch(f){Lt(e,e.return,f)}}if(e===t){ye=null;break}if(r=e.sibling,r!==null){r.return=e.return,ye=r;break}ye=e.return}}function aI(t){for(;ye!==null;){var e=ye;if(e===t){ye=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ye=r;break}ye=e.return}}function oI(t){for(;ye!==null;){var e=ye;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{em(4,e)}catch(u){Lt(e,r,u)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(u){Lt(e,i,u)}}var s=e.return;try{ZN(e)}catch(u){Lt(e,s,u)}break;case 5:var a=e.return;try{ZN(e)}catch(u){Lt(e,a,u)}}}catch(u){Lt(e,e.return,u)}if(e===t){ye=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ye=o;break}ye=e.return}}var wZ=Math.ceil,hp=bs.ReactCurrentDispatcher,WC=bs.ReactCurrentOwner,Un=bs.ReactCurrentBatchConfig,et=0,pr=null,Xt=null,Er=0,xn=0,Pl=ja(0),lr=0,wd=null,No=0,tm=0,VC=0,Gc=null,rn=null,HC=0,mu=1/0,Ki=null,fp=!1,rj=null,aa=null,cf=!1,Js=null,pp=0,Yc=0,nj=null,kf=-1,Df=0;function Vr(){return et&6?Ht():kf!==-1?kf:kf=Ht()}function oa(t){return t.mode&1?et&2&&Er!==0?Er&-Er:iZ.transition!==null?(Df===0&&(Df=UW()),Df):(t=lt,t!==0||(t=window.event,t=t===void 0?16:QW(t.type)),t):1}function hi(t,e,r,n){if(50<Yc)throw Yc=0,nj=null,Error(ee(185));Gd(t,r,n),(!(et&2)||t!==pr)&&(t===pr&&(!(et&2)&&(tm|=r),lr===4&&Fs(t,Er)),cn(t,n),r===1&&et===0&&!(e.mode&1)&&(mu=Ht()+500,Xp&&Ca()))}function cn(t,e){var r=t.callbackNode;iJ(t,e);var n=Xf(t,t===pr?Er:0);if(n===0)r!==null&&vP(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&vP(r),e===1)t.tag===0?nZ(lI.bind(null,t)):mV(lI.bind(null,t)),ZJ(function(){!(et&6)&&Ca()}),r=null;else{switch(WW(n)){case 1:r=yC;break;case 4:r=BW;break;case 16:r=Qf;break;case 536870912:r=zW;break;default:r=Qf}r=fH(r,aH.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function aH(t,e){if(kf=-1,Df=0,et&6)throw Error(ee(327));var r=t.callbackNode;if(zl()&&t.callbackNode!==r)return null;var n=Xf(t,t===pr?Er:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=mp(t,n);else{e=n;var i=et;et|=2;var s=lH();(pr!==t||Er!==e)&&(Ki=null,mu=Ht()+500,ho(t,e));do try{EZ();break}catch(o){oH(t,o)}while(!0);IC(),hp.current=s,et=i,Xt!==null?e=0:(pr=null,Er=0,e=lr)}if(e!==0){if(e===2&&(i=PN(t),i!==0&&(n=i,e=ij(t,i))),e===1)throw r=wd,ho(t,0),Fs(t,n),cn(t,Ht()),r;if(e===6)Fs(t,n);else{if(i=t.current.alternate,!(n&30)&&!_Z(i)&&(e=mp(t,n),e===2&&(s=PN(t),s!==0&&(n=s,e=ij(t,s))),e===1))throw r=wd,ho(t,0),Fs(t,n),cn(t,Ht()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(ee(345));case 2:za(t,rn,Ki);break;case 3:if(Fs(t,n),(n&130023424)===n&&(e=HC+500-Ht(),10<e)){if(Xf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Vr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=AN(za.bind(null,t,rn,Ki),e);break}za(t,rn,Ki);break;case 4:if(Fs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-di(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Ht()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*wZ(n/1960))-n,10<n){t.timeoutHandle=AN(za.bind(null,t,rn,Ki),n);break}za(t,rn,Ki);break;case 5:za(t,rn,Ki);break;default:throw Error(ee(329))}}}return cn(t,Ht()),t.callbackNode===r?aH.bind(null,t):null}function ij(t,e){var r=Gc;return t.current.memoizedState.isDehydrated&&(ho(t,e).flags|=256),t=mp(t,e),t!==2&&(e=rn,rn=r,e!==null&&sj(e)),t}function sj(t){rn===null?rn=t:rn.push.apply(rn,t)}function _Z(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!fi(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Fs(t,e){for(e&=~VC,e&=~tm,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-di(e),n=1<<r;t[r]=-1,e&=~n}}function lI(t){if(et&6)throw Error(ee(327));zl();var e=Xf(t,0);if(!(e&1))return cn(t,Ht()),null;var r=mp(t,e);if(t.tag!==0&&r===2){var n=PN(t);n!==0&&(e=n,r=ij(t,n))}if(r===1)throw r=wd,ho(t,0),Fs(t,e),cn(t,Ht()),r;if(r===6)throw Error(ee(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,za(t,rn,Ki),cn(t,Ht()),null}function KC(t,e){var r=et;et|=1;try{return t(e)}finally{et=r,et===0&&(mu=Ht()+500,Xp&&Ca())}}function jo(t){Js!==null&&Js.tag===0&&!(et&6)&&zl();var e=et;et|=1;var r=Un.transition,n=lt;try{if(Un.transition=null,lt=1,t)return t()}finally{lt=n,Un.transition=r,et=e,!(et&6)&&Ca()}}function GC(){xn=Pl.current,St(Pl)}function ho(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,JJ(r)),Xt!==null)for(r=Xt.return;r!==null;){var n=r;switch(OC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&rp();break;case 3:fu(),St(ln),St(Dr),qC();break;case 5:MC(n);break;case 4:fu();break;case 13:St(Pt);break;case 19:St(Pt);break;case 10:RC(n.type._context);break;case 22:case 23:GC()}r=r.return}if(pr=t,Xt=t=la(t.current,null),Er=xn=e,lr=0,wd=null,VC=tm=No=0,rn=Gc=null,Ha!==null){for(e=0;e<Ha.length;e++)if(r=Ha[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ha=null}return t}function oH(t,e){do{var r=Xt;try{if(IC(),If.current=dp,cp){for(var n=It.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}cp=!1}if(Eo=0,fr=or=It=null,Hc=!1,yd=0,WC.current=null,r===null||r.return===null){lr=1,wd=e,Xt=null;break}e:{var s=t,a=r.return,o=r,u=e;if(e=Er,o.flags|=32768,u!==null&&typeof u=="object"&&typeof u.then=="function"){var c=u,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=YP(a);if(p!==null){p.flags&=-257,QP(p,a,o,s,e),p.mode&1&&GP(s,c,e),e=p,u=c;var m=e.updateQueue;if(m===null){var y=new Set;y.add(u),e.updateQueue=y}else m.add(u);break e}else{if(!(e&1)){GP(s,c,e),YC();break e}u=Error(ee(426))}}else if(Ct&&o.mode&1){var x=YP(a);if(x!==null){!(x.flags&65536)&&(x.flags|=256),QP(x,a,o,s,e),TC(pu(u,o));break e}}s=u=pu(u,o),lr!==4&&(lr=2),Gc===null?Gc=[s]:Gc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=WV(s,u,e);zP(s,g);break e;case 1:o=u;var v=s.type,w=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||w!==null&&typeof w.componentDidCatch=="function"&&(aa===null||!aa.has(w)))){s.flags|=65536,e&=-e,s.lanes|=e;var b=VV(s,o,e);zP(s,b);break e}}s=s.return}while(s!==null)}cH(r)}catch(_){e=_,Xt===r&&r!==null&&(Xt=r=r.return);continue}break}while(!0)}function lH(){var t=hp.current;return hp.current=dp,t===null?dp:t}function YC(){(lr===0||lr===3||lr===2)&&(lr=4),pr===null||!(No&268435455)&&!(tm&268435455)||Fs(pr,Er)}function mp(t,e){var r=et;et|=2;var n=lH();(pr!==t||Er!==e)&&(Ki=null,ho(t,e));do try{SZ();break}catch(i){oH(t,i)}while(!0);if(IC(),et=r,hp.current=n,Xt!==null)throw Error(ee(261));return pr=null,Er=0,lr}function SZ(){for(;Xt!==null;)uH(Xt)}function EZ(){for(;Xt!==null&&!YX();)uH(Xt)}function uH(t){var e=hH(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?cH(t):Xt=e,WC.current=null}function cH(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=gZ(r,e),r!==null){r.flags&=32767,Xt=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{lr=6,Xt=null;return}}else if(r=vZ(r,e,xn),r!==null){Xt=r;return}if(e=e.sibling,e!==null){Xt=e;return}Xt=e=t}while(e!==null);lr===0&&(lr=5)}function za(t,e,r){var n=lt,i=Un.transition;try{Un.transition=null,lt=1,NZ(t,e,r,n)}finally{Un.transition=i,lt=n}return null}function NZ(t,e,r,n){do zl();while(Js!==null);if(et&6)throw Error(ee(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(ee(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(sJ(t,s),t===pr&&(Xt=pr=null,Er=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||cf||(cf=!0,fH(Qf,function(){return zl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Un.transition,Un.transition=null;var a=lt;lt=1;var o=et;et|=4,WC.current=null,bZ(t,r),iH(r,t),VJ(MN),Jf=!!DN,MN=DN=null,t.current=r,xZ(r),QX(),et=o,lt=a,Un.transition=s}else t.current=r;if(cf&&(cf=!1,Js=t,pp=i),s=t.pendingLanes,s===0&&(aa=null),ZX(r.stateNode),cn(t,Ht()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(fp)throw fp=!1,t=rj,rj=null,t;return pp&1&&t.tag!==0&&zl(),s=t.pendingLanes,s&1?t===nj?Yc++:(Yc=0,nj=t):Yc=0,Ca(),null}function zl(){if(Js!==null){var t=WW(pp),e=Un.transition,r=lt;try{if(Un.transition=null,lt=16>t?16:t,Js===null)var n=!1;else{if(t=Js,Js=null,pp=0,et&6)throw Error(ee(331));var i=et;for(et|=4,ye=t.current;ye!==null;){var s=ye,a=s.child;if(ye.flags&16){var o=s.deletions;if(o!==null){for(var u=0;u<o.length;u++){var c=o[u];for(ye=c;ye!==null;){var d=ye;switch(d.tag){case 0:case 11:case 15:Kc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ye=h;else for(;ye!==null;){d=ye;var f=d.sibling,p=d.return;if(tH(d),d===c){ye=null;break}if(f!==null){f.return=p,ye=f;break}ye=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var x=y.sibling;y.sibling=null,y=x}while(y!==null)}}ye=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ye=a;else e:for(;ye!==null;){if(s=ye,s.flags&2048)switch(s.tag){case 0:case 11:case 15:Kc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ye=g;break e}ye=s.return}}var v=t.current;for(ye=v;ye!==null;){a=ye;var w=a.child;if(a.subtreeFlags&2064&&w!==null)w.return=a,ye=w;else e:for(a=v;ye!==null;){if(o=ye,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:em(9,o)}}catch(_){Lt(o,o.return,_)}if(o===a){ye=null;break e}var b=o.sibling;if(b!==null){b.return=o.return,ye=b;break e}ye=o.return}}if(et=i,Ca(),Ri&&typeof Ri.onPostCommitFiberRoot=="function")try{Ri.onPostCommitFiberRoot(Hp,t)}catch{}n=!0}return n}finally{lt=r,Un.transition=e}}return!1}function uI(t,e,r){e=pu(r,e),e=WV(t,e,1),t=sa(t,e,1),e=Vr(),t!==null&&(Gd(t,1,e),cn(t,e))}function Lt(t,e,r){if(t.tag===3)uI(t,t,r);else for(;e!==null;){if(e.tag===3){uI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(aa===null||!aa.has(n))){t=pu(r,t),t=VV(e,t,1),e=sa(e,t,1),t=Vr(),e!==null&&(Gd(e,1,t),cn(e,t));break}}e=e.return}}function jZ(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Vr(),t.pingedLanes|=t.suspendedLanes&r,pr===t&&(Er&r)===r&&(lr===4||lr===3&&(Er&130023424)===Er&&500>Ht()-HC?ho(t,0):VC|=r),cn(t,e)}function dH(t,e){e===0&&(t.mode&1?(e=Zh,Zh<<=1,!(Zh&130023424)&&(Zh=4194304)):e=1);var r=Vr();t=ms(t,e),t!==null&&(Gd(t,e,r),cn(t,r))}function CZ(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),dH(t,r)}function OZ(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(ee(314))}n!==null&&n.delete(e),dH(t,r)}var hH;hH=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||ln.current)an=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return an=!1,mZ(t,e,r);an=!!(t.flags&131072)}else an=!1,Ct&&e.flags&1048576&&vV(e,sp,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;$f(t,e),t=e.pendingProps;var i=cu(e,Dr.current);Bl(e,r),i=FC(null,e,n,t,i,r);var s=LC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,un(n)?(s=!0,np(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,kC(e),i.updater=Zp,e.stateNode=i,i._reactInternals=e,VN(e,n,t,r),e=GN(null,e,n,!0,s,r)):(e.tag=0,Ct&&s&&CC(e),Lr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch($f(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=PZ(n),t=ri(n,t),i){case 0:e=KN(null,e,n,t,r);break e;case 1:e=ZP(null,e,n,t,r);break e;case 11:e=XP(null,e,n,t,r);break e;case 14:e=JP(null,e,n,ri(n.type,t),r);break e}throw Error(ee(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),KN(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),ZP(t,e,n,i,r);case 3:e:{if(YV(e),t===null)throw Error(ee(387));n=e.pendingProps,s=e.memoizedState,i=s.element,_V(t,e),lp(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=pu(Error(ee(423)),e),e=eI(t,e,n,r,i);break e}else if(n!==i){i=pu(Error(ee(424)),e),e=eI(t,e,n,r,i);break e}else for(Sn=ia(e.stateNode.containerInfo.firstChild),En=e,Ct=!0,ai=null,r=xV(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(du(),n===i){e=vs(t,e,r);break e}Lr(t,e,n,r)}e=e.child}return e;case 5:return SV(e),t===null&&zN(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,qN(n,i)?a=null:s!==null&&qN(n,s)&&(e.flags|=32),GV(t,e),Lr(t,e,a,r),e.child;case 6:return t===null&&zN(e),null;case 13:return QV(t,e,r);case 4:return DC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=hu(e,null,n,r):Lr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),XP(t,e,n,i,r);case 7:return Lr(t,e,e.pendingProps,r),e.child;case 8:return Lr(t,e,e.pendingProps.children,r),e.child;case 12:return Lr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,xt(ap,n._currentValue),n._currentValue=a,s!==null)if(fi(s.value,a)){if(s.children===i.children&&!ln.current){e=vs(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var u=o.firstContext;u!==null;){if(u.context===n){if(s.tag===1){u=ns(-1,r&-r),u.tag=2;var c=s.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?u.next=u:(u.next=d.next,d.next=u),c.pending=u}}s.lanes|=r,u=s.alternate,u!==null&&(u.lanes|=r),UN(s.return,r,e),o.lanes|=r;break}u=u.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(ee(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),UN(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Lr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,Bl(e,r),i=Hn(i),n=n(i),e.flags|=1,Lr(t,e,n,r),e.child;case 14:return n=e.type,i=ri(n,e.pendingProps),i=ri(n.type,i),JP(t,e,n,i,r);case 15:return HV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:ri(n,i),$f(t,e),e.tag=1,un(n)?(t=!0,np(e)):t=!1,Bl(e,r),UV(e,n,i),VN(e,n,i,r),GN(null,e,n,!0,t,r);case 19:return XV(t,e,r);case 22:return KV(t,e,r)}throw Error(ee(156,e.tag))};function fH(t,e){return LW(t,e)}function TZ(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function zn(t,e,r,n){return new TZ(t,e,r,n)}function QC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function PZ(t){if(typeof t=="function")return QC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===mC)return 11;if(t===vC)return 14}return 2}function la(t,e){var r=t.alternate;return r===null?(r=zn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Mf(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")QC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case xl:return fo(r.children,i,s,e);case pC:a=8,i|=8;break;case mN:return t=zn(12,r,e,i|2),t.elementType=mN,t.lanes=s,t;case vN:return t=zn(13,r,e,i),t.elementType=vN,t.lanes=s,t;case gN:return t=zn(19,r,e,i),t.elementType=gN,t.lanes=s,t;case SW:return rm(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case wW:a=10;break e;case _W:a=9;break e;case mC:a=11;break e;case vC:a=14;break e;case ks:a=16,n=null;break e}throw Error(ee(130,t==null?t:typeof t,""))}return e=zn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function fo(t,e,r,n){return t=zn(7,t,n,e),t.lanes=r,t}function rm(t,e,r,n){return t=zn(22,t,n,e),t.elementType=SW,t.lanes=r,t.stateNode={isHidden:!1},t}function Ov(t,e,r){return t=zn(6,t,null,e),t.lanes=r,t}function Tv(t,e,r){return e=zn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function IZ(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=uv(0),this.expirationTimes=uv(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=uv(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function XC(t,e,r,n,i,s,a,o,u){return t=new IZ(t,e,r,o,u),e===1?(e=1,s===!0&&(e|=8)):e=0,s=zn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},kC(s),t}function RZ(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:bl,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function pH(t){if(!t)return ba;t=t._reactInternals;e:{if(Uo(t)!==t||t.tag!==1)throw Error(ee(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(un(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(ee(171))}if(t.tag===1){var r=t.type;if(un(r))return pV(t,r,e)}return e}function mH(t,e,r,n,i,s,a,o,u){return t=XC(r,n,!0,t,i,s,a,o,u),t.context=pH(null),r=t.current,n=Vr(),i=oa(r),s=ns(n,i),s.callback=e??null,sa(r,s,i),t.current.lanes=i,Gd(t,i,n),cn(t,n),t}function nm(t,e,r,n){var i=e.current,s=Vr(),a=oa(i);return r=pH(r),e.context===null?e.context=r:e.pendingContext=r,e=ns(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=sa(i,e,a),t!==null&&(hi(t,i,a,s),Pf(t,i,a)),a}function vp(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function cI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function JC(t,e){cI(t,e),(t=t.alternate)&&cI(t,e)}function $Z(){return null}var vH=typeof reportError=="function"?reportError:function(t){console.error(t)};function ZC(t){this._internalRoot=t}im.prototype.render=ZC.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(ee(409));nm(t,e,null,null)};im.prototype.unmount=ZC.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;jo(function(){nm(null,t,null,null)}),e[ps]=null}};function im(t){this._internalRoot=t}im.prototype.unstable_scheduleHydration=function(t){if(t){var e=KW();t={blockedOn:null,target:t,priority:e};for(var r=0;r<As.length&&e!==0&&e<As[r].priority;r++);As.splice(r,0,t),r===0&&YW(t)}};function eO(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function sm(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function dI(){}function kZ(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var c=vp(a);s.call(c)}}var a=mH(e,n,t,0,null,!1,!1,"",dI);return t._reactRootContainer=a,t[ps]=a.current,fd(t.nodeType===8?t.parentNode:t),jo(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var c=vp(u);o.call(c)}}var u=XC(t,0,!1,null,null,!1,!1,"",dI);return t._reactRootContainer=u,t[ps]=u.current,fd(t.nodeType===8?t.parentNode:t),jo(function(){nm(e,u,r,n)}),u}function am(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var u=vp(a);o.call(u)}}nm(e,a,t,i)}else a=kZ(r,e,t,i,n);return vp(a)}VW=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=Mc(e.pendingLanes);r!==0&&(bC(e,r|1),cn(e,Ht()),!(et&6)&&(mu=Ht()+500,Ca()))}break;case 13:jo(function(){var n=ms(t,1);if(n!==null){var i=Vr();hi(n,t,1,i)}}),JC(t,1)}};xC=function(t){if(t.tag===13){var e=ms(t,134217728);if(e!==null){var r=Vr();hi(e,t,134217728,r)}JC(t,134217728)}};HW=function(t){if(t.tag===13){var e=oa(t),r=ms(t,e);if(r!==null){var n=Vr();hi(r,t,e,n)}JC(t,e)}};KW=function(){return lt};GW=function(t,e){var r=lt;try{return lt=t,e()}finally{lt=r}};CN=function(t,e,r){switch(e){case"input":if(xN(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=Qp(n);if(!i)throw Error(ee(90));NW(n),xN(n,i)}}}break;case"textarea":CW(t,r);break;case"select":e=r.value,e!=null&&ql(t,!!r.multiple,e,!1)}};kW=KC;DW=jo;var DZ={usingClientEntryPoint:!1,Events:[Qd,El,Qp,RW,$W,KC]},Ec={findFiberByHostInstance:Va,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},MZ={bundleType:Ec.bundleType,version:Ec.version,rendererPackageName:Ec.rendererPackageName,rendererConfig:Ec.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:bs.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=AW(t),t===null?null:t.stateNode},findFiberByHostInstance:Ec.findFiberByHostInstance||$Z,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var df=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!df.isDisabled&&df.supportsFiber)try{Hp=df.inject(MZ),Ri=df}catch{}}Cn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=DZ;Cn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!eO(e))throw Error(ee(200));return RZ(t,e,null,r)};Cn.createRoot=function(t,e){if(!eO(t))throw Error(ee(299));var r=!1,n="",i=vH;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=XC(t,1,!1,null,null,r,!1,n,i),t[ps]=e.current,fd(t.nodeType===8?t.parentNode:t),new ZC(e)};Cn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(ee(188)):(t=Object.keys(t).join(","),Error(ee(268,t)));return t=AW(e),t=t===null?null:t.stateNode,t};Cn.flushSync=function(t){return jo(t)};Cn.hydrate=function(t,e,r){if(!sm(e))throw Error(ee(200));return am(null,t,e,!0,r)};Cn.hydrateRoot=function(t,e,r){if(!eO(t))throw Error(ee(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=vH;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=mH(e,null,t,1,r??null,i,!1,s,a),t[ps]=e.current,fd(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new im(e)};Cn.render=function(t,e,r){if(!sm(e))throw Error(ee(200));return am(null,t,e,!1,r)};Cn.unmountComponentAtNode=function(t){if(!sm(t))throw Error(ee(40));return t._reactRootContainer?(jo(function(){am(null,null,t,!1,function(){t._reactRootContainer=null,t[ps]=null})}),!0):!1};Cn.unstable_batchedUpdates=KC;Cn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!sm(r))throw Error(ee(200));if(t==null||t._reactInternals===void 0)throw Error(ee(38));return am(t,e,r,!1,n)};Cn.version="18.3.1-next-f1338f8080-20240426";function gH(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gH)}catch(t){console.error(t)}}gH(),gW.exports=Cn;var qZ=gW.exports,hI=qZ;fN.createRoot=hI.createRoot,fN.hydrateRoot=hI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function _d(){return _d=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},_d.apply(this,arguments)}var Zs;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zs||(Zs={}));const fI="popstate";function AZ(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return aj("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:gp(i)}return LZ(e,r,null,t)}function Rt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function tO(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function FZ(){return Math.random().toString(36).substr(2,8)}function pI(t,e){return{usr:t.state,key:t.key,idx:e}}function aj(t,e,r,n){return r===void 0&&(r=null),_d({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ku(e):e,{state:r,key:e&&e.key||n||FZ()})}function gp(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function ku(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function LZ(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Zs.Pop,u=null,c=d();c==null&&(c=0,a.replaceState(_d({},a.state,{idx:c}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Zs.Pop;let x=d(),g=x==null?null:x-c;c=x,u&&u({action:o,location:y.location,delta:g})}function f(x,g){o=Zs.Push;let v=aj(y.location,x,g);c=d()+1;let w=pI(v,c),b=y.createHref(v);try{a.pushState(w,"",b)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(b)}s&&u&&u({action:o,location:y.location,delta:1})}function p(x,g){o=Zs.Replace;let v=aj(y.location,x,g);c=d();let w=pI(v,c),b=y.createHref(v);a.replaceState(w,"",b),s&&u&&u({action:o,location:y.location,delta:0})}function m(x){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof x=="string"?x:gp(x);return v=v.replace(/ $/,"%20"),Rt(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(x){if(u)throw new Error("A history only accepts one active listener");return i.addEventListener(fI,h),u=x,()=>{i.removeEventListener(fI,h),u=null}},createHref(x){return e(i,x)},createURL:m,encodeLocation(x){let g=m(x);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(x){return a.go(x)}};return y}var mI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(mI||(mI={}));function BZ(t,e,r){return r===void 0&&(r="/"),zZ(t,e,r)}function zZ(t,e,r,n){let i=typeof e=="string"?ku(e):e,s=vu(i.pathname||"/",r);if(s==null)return null;let a=yH(t);UZ(a);let o=null;for(let u=0;o==null&&u<a.length;++u){let c=eee(s);o=JZ(a[u],c)}return o}function yH(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let u={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};u.relativePath.startsWith("/")&&(Rt(u.relativePath.startsWith(n),'Absolute route path "'+u.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),u.relativePath=u.relativePath.slice(n.length));let c=ua([n,u.relativePath]),d=r.concat(u);s.children&&s.children.length>0&&(Rt(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),yH(s.children,e,d,c)),!(s.path==null&&!s.index)&&e.push({path:c,score:QZ(c,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let u of bH(s.path))i(s,a,u)}),e}function bH(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=bH(n.join("/")),o=[];return o.push(...a.map(u=>u===""?s:[s,u].join("/"))),i&&o.push(...a),o.map(u=>t.startsWith("/")&&u===""?"/":u)}function UZ(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:XZ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const WZ=/^:[\w-]+$/,VZ=3,HZ=2,KZ=1,GZ=10,YZ=-2,vI=t=>t==="*";function QZ(t,e){let r=t.split("/"),n=r.length;return r.some(vI)&&(n+=YZ),e&&(n+=HZ),r.filter(i=>!vI(i)).reduce((i,s)=>i+(WZ.test(s)?VZ:s===""?KZ:GZ),n)}function XZ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function JZ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let u=n[o],c=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=oj({path:u.relativePath,caseSensitive:u.caseSensitive,end:c},d),f=u.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:ua([s,h.pathname]),pathnameBase:see(ua([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=ua([s,h.pathnameBase]))}return a}function oj(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=ZZ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((c,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?c[f]=void 0:c[f]=(m||"").replace(/%2F/g,"/"),c},{}),pathname:s,pathnameBase:a,pattern:t}}function ZZ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),tO(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,u)=>(n.push({paramName:o,isOptional:u!=null}),u?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function eee(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return tO(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function vu(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const tee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ree=t=>tee.test(t);function nee(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?ku(t):t,s;if(r)if(ree(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),tO(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=gI(r.substring(1),"/"):s=gI(r,e)}else s=e;return{pathname:s,search:aee(n),hash:oee(i)}}function gI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Pv(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function iee(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function rO(t,e){let r=iee(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function nO(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=ku(t):(i=_d({},t),Rt(!i.pathname||!i.pathname.includes("?"),Pv("?","pathname","search",i)),Rt(!i.pathname||!i.pathname.includes("#"),Pv("#","pathname","hash",i)),Rt(!i.search||!i.search.includes("#"),Pv("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let u=nee(i,o),c=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!u.pathname.endsWith("/")&&(c||d)&&(u.pathname+="/"),u}const ua=t=>t.join("/").replace(/\/\/+/g,"/"),see=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),aee=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,oee=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function lee(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const xH=["post","put","patch","delete"];new Set(xH);const uee=["get",...xH];new Set(uee);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Sd(){return Sd=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Sd.apply(this,arguments)}const om=T.createContext(null),wH=T.createContext(null),xs=T.createContext(null),lm=T.createContext(null),ws=T.createContext({outlet:null,matches:[],isDataRoute:!1}),_H=T.createContext(null);function cee(t,e){let{relative:r}=e===void 0?{}:e;Du()||Rt(!1);let{basename:n,navigator:i}=T.useContext(xs),{hash:s,pathname:a,search:o}=um(t,{relative:r}),u=a;return n!=="/"&&(u=a==="/"?n:ua([n,a])),i.createHref({pathname:u,search:o,hash:s})}function Du(){return T.useContext(lm)!=null}function _s(){return Du()||Rt(!1),T.useContext(lm).location}function SH(t){T.useContext(xs).static||T.useLayoutEffect(t)}function Qr(){let{isDataRoute:t}=T.useContext(ws);return t?See():dee()}function dee(){Du()||Rt(!1);let t=T.useContext(om),{basename:e,future:r,navigator:n}=T.useContext(xs),{matches:i}=T.useContext(ws),{pathname:s}=_s(),a=JSON.stringify(rO(i,r.v7_relativeSplatPath)),o=T.useRef(!1);return SH(()=>{o.current=!0}),T.useCallback(function(c,d){if(d===void 0&&(d={}),!o.current)return;if(typeof c=="number"){n.go(c);return}let h=nO(c,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:ua([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function Ss(){let{matches:t}=T.useContext(ws),e=t[t.length-1];return e?e.params:{}}function um(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=T.useContext(xs),{matches:i}=T.useContext(ws),{pathname:s}=_s(),a=JSON.stringify(rO(i,n.v7_relativeSplatPath));return T.useMemo(()=>nO(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function hee(t,e){return fee(t,e)}function fee(t,e,r,n){Du()||Rt(!1);let{navigator:i}=T.useContext(xs),{matches:s}=T.useContext(ws),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let u=a?a.pathnameBase:"/";a&&a.route;let c=_s(),d;if(e){var h;let x=typeof e=="string"?ku(e):e;u==="/"||(h=x.pathname)!=null&&h.startsWith(u)||Rt(!1),d=x}else d=c;let f=d.pathname||"/",p=f;if(u!=="/"){let x=u.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(x.length).join("/")}let m=BZ(t,{pathname:p}),y=yee(m&&m.map(x=>Object.assign({},x,{params:Object.assign({},o,x.params),pathname:ua([u,i.encodeLocation?i.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?u:ua([u,i.encodeLocation?i.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),s,r,n);return e&&y?T.createElement(lm.Provider,{value:{location:Sd({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Zs.Pop}},y):y}function pee(){let t=_ee(),e=lee(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return T.createElement(T.Fragment,null,T.createElement("h2",null,"Unexpected Application Error!"),T.createElement("h3",{style:{fontStyle:"italic"}},e),r?T.createElement("pre",{style:i},r):null,null)}const mee=T.createElement(pee,null);class vee extends T.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?T.createElement(ws.Provider,{value:this.props.routeContext},T.createElement(_H.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function gee(t){let{routeContext:e,match:r,children:n}=t,i=T.useContext(om);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),T.createElement(ws.Provider,{value:e},n)}function yee(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||Rt(!1),a=a.slice(0,Math.min(a.length,d+1))}let u=!1,c=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){u=!0,c>=0?a=a.slice(0,c+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,x=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||mee,u&&(c<0&&f===0?(Eee("route-fallback"),m=!0,x=null):c===f&&(m=!0,x=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let w;return p?w=y:m?w=x:h.route.Component?w=T.createElement(h.route.Component,null):h.route.element?w=h.route.element:w=d,T.createElement(gee,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:w})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?T.createElement(vee,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var EH=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(EH||{}),NH=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(NH||{});function bee(t){let e=T.useContext(om);return e||Rt(!1),e}function xee(t){let e=T.useContext(wH);return e||Rt(!1),e}function wee(t){let e=T.useContext(ws);return e||Rt(!1),e}function jH(t){let e=wee(),r=e.matches[e.matches.length-1];return r.route.id||Rt(!1),r.route.id}function _ee(){var t;let e=T.useContext(_H),r=xee(),n=jH();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function See(){let{router:t}=bee(EH.UseNavigateStable),e=jH(NH.UseNavigateStable),r=T.useRef(!1);return SH(()=>{r.current=!0}),T.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Sd({fromRouteId:e},s)))},[t,e])}const yI={};function Eee(t,e,r){yI[t]||(yI[t]=!0)}function Nee(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function CH(t){let{to:e,replace:r,state:n,relative:i}=t;Du()||Rt(!1);let{future:s,static:a}=T.useContext(xs),{matches:o}=T.useContext(ws),{pathname:u}=_s(),c=Qr(),d=nO(e,rO(o,s.v7_relativeSplatPath),u,i==="path"),h=JSON.stringify(d);return T.useEffect(()=>c(JSON.parse(h),{replace:r,state:n,relative:i}),[c,h,i,r,n]),null}function st(t){Rt(!1)}function jee(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Zs.Pop,navigator:s,static:a=!1,future:o}=t;Du()&&Rt(!1);let u=e.replace(/^\/*/,"/"),c=T.useMemo(()=>({basename:u,navigator:s,static:a,future:Sd({v7_relativeSplatPath:!1},o)}),[u,o,s,a]);typeof n=="string"&&(n=ku(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=T.useMemo(()=>{let x=vu(d,u);return x==null?null:{location:{pathname:x,search:h,hash:f,state:p,key:m},navigationType:i}},[u,d,h,f,p,m,i]);return y==null?null:T.createElement(xs.Provider,{value:c},T.createElement(lm.Provider,{children:r,value:y}))}function bI(t){let{children:e,location:r}=t;return hee(lj(e),r)}new Promise(()=>{});function lj(t,e){e===void 0&&(e=[]);let r=[];return T.Children.forEach(t,(n,i)=>{if(!T.isValidElement(n))return;let s=[...e,i];if(n.type===T.Fragment){r.push.apply(r,lj(n.props.children,s));return}n.type!==st&&Rt(!1),!n.props.index||!n.props.children||Rt(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=lj(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function yp(){return yp=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},yp.apply(this,arguments)}function OH(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function Cee(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Oee(t,e){return t.button===0&&(!e||e==="_self")&&!Cee(t)}function uj(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function Tee(t,e){let r=uj(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const Pee=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Iee=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],Ree="6";try{window.__reactRouterVersion=Ree}catch{}const $ee=T.createContext({isTransitioning:!1}),kee="startTransition",xI=jX[kee];function Dee(t){let{basename:e,children:r,future:n,window:i}=t,s=T.useRef();s.current==null&&(s.current=AZ({window:i,v5Compat:!0}));let a=s.current,[o,u]=T.useState({action:a.action,location:a.location}),{v7_startTransition:c}=n||{},d=T.useCallback(h=>{c&&xI?xI(()=>u(h)):u(h)},[u,c]);return T.useLayoutEffect(()=>a.listen(d),[a,d]),T.useEffect(()=>Nee(n),[n]),T.createElement(jee,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const Mee=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",qee=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ce=T.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:u,to:c,preventScrollReset:d,viewTransition:h}=e,f=OH(e,Pee),{basename:p}=T.useContext(xs),m,y=!1;if(typeof c=="string"&&qee.test(c)&&(m=c,Mee))try{let w=new URL(window.location.href),b=c.startsWith("//")?new URL(w.protocol+c):new URL(c),_=vu(b.pathname,p);b.origin===w.origin&&_!=null?c=_+b.search+b.hash:y=!0}catch{}let x=cee(c,{relative:i}),g=Lee(c,{replace:a,state:o,target:u,preventScrollReset:d,relative:i,viewTransition:h});function v(w){n&&n(w),w.defaultPrevented||g(w)}return T.createElement("a",yp({},f,{href:m||x,onClick:y||s?n:v,ref:r,target:u}))}),Aee=T.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:u,viewTransition:c,children:d}=e,h=OH(e,Iee),f=um(u,{relative:h.relative}),p=_s(),m=T.useContext(wH),{navigator:y,basename:x}=T.useContext(xs),g=m!=null&&Bee(f)&&c===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,w=p.pathname,b=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(w=w.toLowerCase(),b=b?b.toLowerCase():null,v=v.toLowerCase()),b&&x&&(b=vu(b,x)||b);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let S=w===v||!a&&w.startsWith(v)&&w.charAt(_)==="/",N=b!=null&&(b===v||!a&&b.startsWith(v)&&b.charAt(v.length)==="/"),E={isActive:S,isPending:N,isTransitioning:g},C=S?n:void 0,O;typeof s=="function"?O=s(E):O=[s,S?"active":null,N?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(E):o;return T.createElement(ce,yp({},h,{"aria-current":C,className:O,ref:r,style:I,to:u,viewTransition:c}),typeof d=="function"?d(E):d)});var cj;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(cj||(cj={}));var wI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(wI||(wI={}));function Fee(t){let e=T.useContext(om);return e||Rt(!1),e}function Lee(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,u=Qr(),c=_s(),d=um(t,{relative:a});return T.useCallback(h=>{if(Oee(h,r)){h.preventDefault();let f=n!==void 0?n:gp(c)===gp(d);u(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[c,u,d,n,i,r,t,s,a,o])}function iO(t){let e=T.useRef(uj(t)),r=T.useRef(!1),n=_s(),i=T.useMemo(()=>Tee(n.search,r.current?null:e.current),[n.search]),s=Qr(),a=T.useCallback((o,u)=>{const c=uj(typeof o=="function"?o(i):o);r.current=!0,s("?"+c,u)},[s,i]);return[i,a]}function Bee(t,e){e===void 0&&(e={});let r=T.useContext($ee);r==null&&Rt(!1);let{basename:n}=Fee(cj.useViewTransitionState),i=um(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=vu(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=vu(r.nextLocation.pathname,n)||r.nextLocation.pathname;return oj(i.pathname,a)!=null||oj(i.pathname,s)!=null}var Wo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},zee={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Bs,aC,G9,Uee=(G9=class{constructor(){ge(this,Bs,zee);ge(this,aC,!1)}setTimeoutProvider(t){ie(this,Bs,t)}setTimeout(t,e){return R(this,Bs).setTimeout(t,e)}clearTimeout(t){R(this,Bs).clearTimeout(t)}setInterval(t,e){return R(this,Bs).setInterval(t,e)}clearInterval(t){R(this,Bs).clearInterval(t)}},Bs=new WeakMap,aC=new WeakMap,G9),Ga=new Uee;function Wee(t){setTimeout(t,0)}var Co=typeof window>"u"||"Deno"in globalThis;function Rr(){}function Vee(t,e){return typeof t=="function"?t(e):t}function dj(t){return typeof t=="number"&&t>=0&&t!==1/0}function TH(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ca(t,e){return typeof t=="function"?t(e):t}function Mn(t,e){return typeof t=="function"?t(e):t}function _I(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==sO(a,e.options))return!1}else if(!Ed(e.queryKey,a))return!1}if(r!=="all"){const u=e.isActive();if(r==="active"&&!u||r==="inactive"&&u)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function SI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(Oo(e.options.mutationKey)!==Oo(s))return!1}else if(!Ed(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function sO(t,e){return((e==null?void 0:e.queryKeyHashFn)||Oo)(t)}function Oo(t){return JSON.stringify(t,(e,r)=>hj(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Ed(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Ed(t[r],e[r])):!1}var Hee=Object.prototype.hasOwnProperty;function aO(t,e){if(t===e)return t;const r=EI(t)&&EI(e);if(!r&&!(hj(t)&&hj(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let u=0;for(let c=0;c<a;c++){const d=r?c:s[c],h=t[d],f=e[d];if(h===f){o[d]=h,(r?c<i:Hee.call(t,d))&&u++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=aO(h,f);o[d]=p,p===h&&u++}return i===a&&u===i?t:o}function Nd(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function EI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function hj(t){if(!NI(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!NI(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function NI(t){return Object.prototype.toString.call(t)==="[object Object]"}function Kee(t){return new Promise(e=>{Ga.setTimeout(e,t)})}function fj(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?aO(t,e):e}function Gee(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function Yee(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var oO=Symbol();function PH(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===oO?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function lO(t,e){return typeof t=="function"?t(...e):!!t}function Qee(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var ro,zs,Gl,Y9,Xee=(Y9=class extends Wo{constructor(){super();ge(this,ro);ge(this,zs);ge(this,Gl);ie(this,Gl,e=>{if(!Co&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,zs)||this.setEventListener(R(this,Gl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,zs))==null||e.call(this),ie(this,zs,void 0))}setEventListener(e){var r;ie(this,Gl,e),(r=R(this,zs))==null||r.call(this),ie(this,zs,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,ro)!==e&&(ie(this,ro,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,ro)=="boolean"?R(this,ro):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},ro=new WeakMap,zs=new WeakMap,Gl=new WeakMap,Y9),uO=new Xee;function pj(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var Jee=Wee;function Zee(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=Jee;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(u=>{r(u)})})})};return{batch:o=>{let u;e++;try{u=o()}finally{e--,e||a()}return u},batchCalls:o=>(...u)=>{s(()=>{o(...u)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var Ut=Zee(),Yl,Us,Ql,Q9,ete=(Q9=class extends Wo{constructor(){super();ge(this,Yl,!0);ge(this,Us);ge(this,Ql);ie(this,Ql,e=>{if(!Co&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Us)||this.setEventListener(R(this,Ql))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Us))==null||e.call(this),ie(this,Us,void 0))}setEventListener(e){var r;ie(this,Ql,e),(r=R(this,Us))==null||r.call(this),ie(this,Us,e(this.setOnline.bind(this)))}setOnline(e){R(this,Yl)!==e&&(ie(this,Yl,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,Yl)}},Yl=new WeakMap,Us=new WeakMap,Ql=new WeakMap,Q9),bp=new ete;function tte(t){return Math.min(1e3*2**t,3e4)}function IH(t){return(t??"online")==="online"?bp.isOnline():!0}var mj=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function RH(t){let e=!1,r=0,n;const i=pj(),s=()=>i.status!=="pending",a=y=>{var x;if(!s()){const g=new mj(y);f(g),(x=t.onCancel)==null||x.call(t,g)}},o=()=>{e=!0},u=()=>{e=!1},c=()=>uO.isFocused()&&(t.networkMode==="always"||bp.isOnline())&&t.canRun(),d=()=>IH(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var x;n=g=>{(s()||c())&&y(g)},(x=t.onPause)==null||x.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const x=r===0?t.initialPromise:void 0;try{y=x??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var S;if(s())return;const v=t.retry??(Co?0:3),w=t.retryDelay??tte,b=typeof w=="function"?w(r,g):w,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(S=t.onFail)==null||S.call(t,r,g),Kee(b).then(()=>c()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:u,canStart:d,start:()=>(d()?m():p().then(m),i)}}var no,X9,$H=(X9=class{constructor(){ge(this,no)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),dj(this.gcTime)&&ie(this,no,Ga.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Co?1/0:5*60*1e3))}clearGcTimeout(){R(this,no)&&(Ga.clearTimeout(R(this,no)),ie(this,no,void 0))}},no=new WeakMap,X9),io,Xl,kn,so,hr,Fd,ao,ni,Hi,J9,rte=(J9=class extends $H{constructor(e){super();ge(this,ni);ge(this,io);ge(this,Xl);ge(this,kn);ge(this,so);ge(this,hr);ge(this,Fd);ge(this,ao);ie(this,ao,!1),ie(this,Fd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,so,e.client),ie(this,kn,R(this,so).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,io,CI(this.options)),this.state=e.state??R(this,io),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,hr))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,Fd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=CI(this.options);r.data!==void 0&&(this.setState(jI(r.data,r.dataUpdatedAt)),ie(this,io,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,kn).remove(this)}setData(e,r){const n=fj(this.state.data,e,this.options);return Te(this,ni,Hi).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){Te(this,ni,Hi).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,hr))==null?void 0:n.promise;return(i=R(this,hr))==null||i.cancel(e),r?r.then(Rr).catch(Rr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,io))}isActive(){return this.observers.some(e=>Mn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===oO||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>ca(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!TH(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,hr))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,hr))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,kn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,hr)&&(R(this,ao)?R(this,hr).cancel({revert:!0}):R(this,hr).cancelRetry()),this.scheduleGc()),R(this,kn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Te(this,ni,Hi).call(this,{type:"invalidate"})}async fetch(e,r){var u,c,d,h,f,p,m,y,x,g,v,w;if(this.state.fetchStatus!=="idle"&&((u=R(this,hr))==null?void 0:u.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,hr))return R(this,hr).continueRetry(),R(this,hr).promise}if(e&&this.setOptions(e),!this.options.queryFn){const b=this.observers.find(_=>_.options.queryFn);b&&this.setOptions(b.options)}const n=new AbortController,i=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(ie(this,ao,!0),n.signal)})},s=()=>{const b=PH(this.options,r),S=(()=>{const N={client:R(this,so),queryKey:this.queryKey,meta:this.meta};return i(N),N})();return ie(this,ao,!1),this.options.persister?this.options.persister(b,S,this):b(S)},o=(()=>{const b={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,so),state:this.state,fetchFn:s};return i(b),b})();(c=this.options.behavior)==null||c.onFetch(o,this),ie(this,Xl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&Te(this,ni,Hi).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,hr,RH({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:b=>{b instanceof mj&&b.revert&&this.setState({...R(this,Xl),fetchStatus:"idle"}),n.abort()},onFail:(b,_)=>{Te(this,ni,Hi).call(this,{type:"failed",failureCount:b,error:_})},onPause:()=>{Te(this,ni,Hi).call(this,{type:"pause"})},onContinue:()=>{Te(this,ni,Hi).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const b=await R(this,hr).start();if(b===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(b),(p=(f=R(this,kn).config).onSuccess)==null||p.call(f,b,this),(y=(m=R(this,kn).config).onSettled)==null||y.call(m,b,this.state.error,this),b}catch(b){if(b instanceof mj){if(b.silent)return R(this,hr).promise;if(b.revert){if(this.state.data===void 0)throw b;return this.state.data}}throw Te(this,ni,Hi).call(this,{type:"error",error:b}),(g=(x=R(this,kn).config).onError)==null||g.call(x,b,this),(w=(v=R(this,kn).config).onSettled)==null||w.call(v,this.state.data,b,this),b}finally{this.scheduleGc()}}},io=new WeakMap,Xl=new WeakMap,kn=new WeakMap,so=new WeakMap,hr=new WeakMap,Fd=new WeakMap,ao=new WeakMap,ni=new WeakSet,Hi=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...kH(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...jI(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Xl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),Ut.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,kn).notify({query:this,type:"updated",action:e})})},J9);function kH(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:IH(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function jI(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function CI(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Jr,Ye,Ld,qr,oo,Jl,Yi,Ws,Bd,Zl,eu,lo,uo,Vs,tu,nt,Ac,vj,gj,yj,bj,xj,wj,_j,DH,Z9,cO=(Z9=class extends Wo{constructor(e,r){super();ge(this,nt);ge(this,Jr);ge(this,Ye);ge(this,Ld);ge(this,qr);ge(this,oo);ge(this,Jl);ge(this,Yi);ge(this,Ws);ge(this,Bd);ge(this,Zl);ge(this,eu);ge(this,lo);ge(this,uo);ge(this,Vs);ge(this,tu,new Set);this.options=r,ie(this,Jr,e),ie(this,Ws,null),ie(this,Yi,pj()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Ye).addObserver(this),OI(R(this,Ye),this.options)?Te(this,nt,Ac).call(this):this.updateResult(),Te(this,nt,bj).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return Sj(R(this,Ye),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return Sj(R(this,Ye),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,Te(this,nt,xj).call(this),Te(this,nt,wj).call(this),R(this,Ye).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Ye);if(this.options=R(this,Jr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof Mn(this.options.enabled,R(this,Ye))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");Te(this,nt,_j).call(this),R(this,Ye).setOptions(this.options),r._defaulted&&!Nd(this.options,r)&&R(this,Jr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Ye),observer:this});const i=this.hasListeners();i&&TI(R(this,Ye),n,this.options,r)&&Te(this,nt,Ac).call(this),this.updateResult(),i&&(R(this,Ye)!==n||Mn(this.options.enabled,R(this,Ye))!==Mn(r.enabled,R(this,Ye))||ca(this.options.staleTime,R(this,Ye))!==ca(r.staleTime,R(this,Ye)))&&Te(this,nt,vj).call(this);const s=Te(this,nt,gj).call(this);i&&(R(this,Ye)!==n||Mn(this.options.enabled,R(this,Ye))!==Mn(r.enabled,R(this,Ye))||s!==R(this,Vs))&&Te(this,nt,yj).call(this,s)}getOptimisticResult(e){const r=R(this,Jr).getQueryCache().build(R(this,Jr),e),n=this.createResult(r,e);return ite(this,n)&&(ie(this,qr,n),ie(this,Jl,this.options),ie(this,oo,R(this,Ye).state)),n}getCurrentResult(){return R(this,qr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Yi).status==="pending"&&R(this,Yi).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,tu).add(e)}getCurrentQuery(){return R(this,Ye)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Jr).defaultQueryOptions(e),n=R(this,Jr).getQueryCache().build(R(this,Jr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return Te(this,nt,Ac).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,qr)))}createResult(e,r){var C;const n=R(this,Ye),i=this.options,s=R(this,qr),a=R(this,oo),o=R(this,Jl),c=e!==n?e.state:R(this,Ld),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const O=this.hasListeners(),I=!O&&OI(e,r),j=O&&TI(e,n,r,i);(I||j)&&(h={...h,...kH(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:x}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&x==="pending"){let O;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(O=s.data,g=!0):O=typeof r.placeholderData=="function"?r.placeholderData((C=R(this,eu))==null?void 0:C.state.data,R(this,eu)):r.placeholderData,O!==void 0&&(x="success",p=fj(s==null?void 0:s.data,O,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,Bd))p=R(this,Zl);else try{ie(this,Bd,r.select),p=r.select(p),p=fj(s==null?void 0:s.data,p,r),ie(this,Zl,p),ie(this,Ws,null)}catch(O){ie(this,Ws,O)}R(this,Ws)&&(m=R(this,Ws),p=R(this,Zl),y=Date.now(),x="error");const v=h.fetchStatus==="fetching",w=x==="pending",b=x==="error",_=w&&v,S=p!==void 0,E={status:x,fetchStatus:h.fetchStatus,isPending:w,isSuccess:x==="success",isError:b,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>c.dataUpdateCount||h.errorUpdateCount>c.errorUpdateCount,isFetching:v,isRefetching:v&&!w,isLoadingError:b&&!S,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:b&&S,isStale:dO(e,r),refetch:this.refetch,promise:R(this,Yi),isEnabled:Mn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const O=P=>{E.status==="error"?P.reject(E.error):E.data!==void 0&&P.resolve(E.data)},I=()=>{const P=ie(this,Yi,E.promise=pj());O(P)},j=R(this,Yi);switch(j.status){case"pending":e.queryHash===n.queryHash&&O(j);break;case"fulfilled":(E.status==="error"||E.data!==j.value)&&I();break;case"rejected":(E.status!=="error"||E.error!==j.reason)&&I();break}}return E}updateResult(){const e=R(this,qr),r=this.createResult(R(this,Ye),this.options);if(ie(this,oo,R(this,Ye).state),ie(this,Jl,this.options),R(this,oo).data!==void 0&&ie(this,eu,R(this,Ye)),Nd(r,e))return;ie(this,qr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,tu).size)return!0;const a=new Set(s??R(this,tu));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,qr)).some(o=>{const u=o;return R(this,qr)[u]!==e[u]&&a.has(u)})};Te(this,nt,DH).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&Te(this,nt,bj).call(this)}},Jr=new WeakMap,Ye=new WeakMap,Ld=new WeakMap,qr=new WeakMap,oo=new WeakMap,Jl=new WeakMap,Yi=new WeakMap,Ws=new WeakMap,Bd=new WeakMap,Zl=new WeakMap,eu=new WeakMap,lo=new WeakMap,uo=new WeakMap,Vs=new WeakMap,tu=new WeakMap,nt=new WeakSet,Ac=function(e){Te(this,nt,_j).call(this);let r=R(this,Ye).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(Rr)),r},vj=function(){Te(this,nt,xj).call(this);const e=ca(this.options.staleTime,R(this,Ye));if(Co||R(this,qr).isStale||!dj(e))return;const n=TH(R(this,qr).dataUpdatedAt,e)+1;ie(this,lo,Ga.setTimeout(()=>{R(this,qr).isStale||this.updateResult()},n))},gj=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Ye)):this.options.refetchInterval)??!1},yj=function(e){Te(this,nt,wj).call(this),ie(this,Vs,e),!(Co||Mn(this.options.enabled,R(this,Ye))===!1||!dj(R(this,Vs))||R(this,Vs)===0)&&ie(this,uo,Ga.setInterval(()=>{(this.options.refetchIntervalInBackground||uO.isFocused())&&Te(this,nt,Ac).call(this)},R(this,Vs)))},bj=function(){Te(this,nt,vj).call(this),Te(this,nt,yj).call(this,Te(this,nt,gj).call(this))},xj=function(){R(this,lo)&&(Ga.clearTimeout(R(this,lo)),ie(this,lo,void 0))},wj=function(){R(this,uo)&&(Ga.clearInterval(R(this,uo)),ie(this,uo,void 0))},_j=function(){const e=R(this,Jr).getQueryCache().build(R(this,Jr),this.options);if(e===R(this,Ye))return;const r=R(this,Ye);ie(this,Ye,e),ie(this,Ld,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},DH=function(e){Ut.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,qr))}),R(this,Jr).getQueryCache().notify({query:R(this,Ye),type:"observerResultsUpdated"})})},Z9);function nte(t,e){return Mn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function OI(t,e){return nte(t,e)||t.state.data!==void 0&&Sj(t,e,e.refetchOnMount)}function Sj(t,e,r){if(Mn(e.enabled,t)!==!1&&ca(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&dO(t,e)}return!1}function TI(t,e,r,n){return(t!==e||Mn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&dO(t,r)}function dO(t,e){return Mn(e.enabled,t)!==!1&&t.isStaleByTime(ca(e.staleTime,t))}function ite(t,e){return!Nd(t.getCurrentResult(),e)}function PI(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},u=0;const c=async()=>{let y=!1;const x=w=>{Qee(w,()=>e.signal,()=>y=!0)},g=PH(e.options,e.fetchOptions),v=async(w,b,_)=>{if(y)return Promise.reject();if(b==null&&w.pages.length)return Promise.resolve(w);const N=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:b,direction:_?"backward":"forward",meta:e.options.meta};return x(I),I})(),E=await g(N),{maxPages:C}=e.options,O=_?Yee:Gee;return{pages:O(w.pages,E,C),pageParams:O(w.pageParams,b,C)}};if(i&&s.length){const w=i==="backward",b=w?ste:II,_={pages:s,pageParams:a},S=b(n,_);o=await v(_,S,w)}else{const w=t??s.length;do{const b=u===0?a[0]??n.initialPageParam:II(n,o);if(u>0&&b==null)break;o=await v(o,b),u++}while(u<w)}return o};e.options.persister?e.fetchFn=()=>{var y,x;return(x=(y=e.options).persister)==null?void 0:x.call(y,c,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=c}}}function II(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function ste(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var zd,Ei,Ar,co,Ni,$s,eW,ate=(eW=class extends $H{constructor(e){super();ge(this,Ni);ge(this,zd);ge(this,Ei);ge(this,Ar);ge(this,co);ie(this,zd,e.client),this.mutationId=e.mutationId,ie(this,Ar,e.mutationCache),ie(this,Ei,[]),this.state=e.state||MH(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,Ei).includes(e)||(R(this,Ei).push(e),this.clearGcTimeout(),R(this,Ar).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,Ei,R(this,Ei).filter(r=>r!==e)),this.scheduleGc(),R(this,Ar).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,Ei).length||(this.state.status==="pending"?this.scheduleGc():R(this,Ar).remove(this))}continue(){var e;return((e=R(this,co))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,u,c,d,h,f,p,m,y,x,g,v,w,b,_,S,N,E,C;const r=()=>{Te(this,Ni,$s).call(this,{type:"continue"})},n={client:R(this,zd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,co,RH({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(O,I)=>{Te(this,Ni,$s).call(this,{type:"failed",failureCount:O,error:I})},onPause:()=>{Te(this,Ni,$s).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Ar).canRun(this)}));const i=this.state.status==="pending",s=!R(this,co).canStart();try{if(i)r();else{Te(this,Ni,$s).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Ar).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((c=(u=this.options).onMutate)==null?void 0:c.call(u,e,n));I!==this.state.context&&Te(this,Ni,$s).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const O=await R(this,co).start();return await((h=(d=R(this,Ar).config).onSuccess)==null?void 0:h.call(d,O,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,O,e,this.state.context,n)),await((y=(m=R(this,Ar).config).onSettled)==null?void 0:y.call(m,O,null,this.state.variables,this.state.context,this,n)),await((g=(x=this.options).onSettled)==null?void 0:g.call(x,O,null,e,this.state.context,n)),Te(this,Ni,$s).call(this,{type:"success",data:O}),O}catch(O){try{await((w=(v=R(this,Ar).config).onError)==null?void 0:w.call(v,O,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(b=this.options).onError)==null?void 0:_.call(b,O,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((N=(S=R(this,Ar).config).onSettled)==null?void 0:N.call(S,void 0,O,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((C=(E=this.options).onSettled)==null?void 0:C.call(E,void 0,O,e,this.state.context,n))}catch(I){Promise.reject(I)}throw Te(this,Ni,$s).call(this,{type:"error",error:O}),O}finally{R(this,Ar).runNext(this)}}},zd=new WeakMap,Ei=new WeakMap,Ar=new WeakMap,co=new WeakMap,Ni=new WeakSet,$s=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Ut.batch(()=>{R(this,Ei).forEach(n=>{n.onMutationUpdate(e)}),R(this,Ar).notify({mutation:this,type:"updated",action:e})})},eW);function MH(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Qi,ii,Ud,tW,ote=(tW=class extends Wo{constructor(e={}){super();ge(this,Qi);ge(this,ii);ge(this,Ud);this.config=e,ie(this,Qi,new Set),ie(this,ii,new Map),ie(this,Ud,0)}build(e,r,n){const i=new ate({client:e,mutationCache:this,mutationId:++Kh(this,Ud)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Qi).add(e);const r=hf(e);if(typeof r=="string"){const n=R(this,ii).get(r);n?n.push(e):R(this,ii).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Qi).delete(e)){const r=hf(e);if(typeof r=="string"){const n=R(this,ii).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,ii).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=hf(e);if(typeof r=="string"){const n=R(this,ii).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=hf(e);if(typeof r=="string"){const i=(n=R(this,ii).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Ut.batch(()=>{R(this,Qi).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Qi).clear(),R(this,ii).clear()})}getAll(){return Array.from(R(this,Qi))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>SI(r,n))}findAll(e={}){return this.getAll().filter(r=>SI(e,r))}notify(e){Ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return Ut.batch(()=>Promise.all(e.map(r=>r.continue().catch(Rr))))}},Qi=new WeakMap,ii=new WeakMap,Ud=new WeakMap,tW);function hf(t){var e;return(e=t.options.scope)==null?void 0:e.id}var Xi,Hs,Zr,Ji,hs,qf,Ej,rW,lte=(rW=class extends Wo{constructor(e,r){super();ge(this,hs);ge(this,Xi);ge(this,Hs);ge(this,Zr);ge(this,Ji);ie(this,Xi,e),this.setOptions(r),this.bindMethods(),Te(this,hs,qf).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,Xi).defaultMutationOptions(e),Nd(this.options,r)||R(this,Xi).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Zr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&Oo(r.mutationKey)!==Oo(this.options.mutationKey)?this.reset():((n=R(this,Zr))==null?void 0:n.state.status)==="pending"&&R(this,Zr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Zr))==null||e.removeObserver(this)}onMutationUpdate(e){Te(this,hs,qf).call(this),Te(this,hs,Ej).call(this,e)}getCurrentResult(){return R(this,Hs)}reset(){var e;(e=R(this,Zr))==null||e.removeObserver(this),ie(this,Zr,void 0),Te(this,hs,qf).call(this),Te(this,hs,Ej).call(this)}mutate(e,r){var n;return ie(this,Ji,r),(n=R(this,Zr))==null||n.removeObserver(this),ie(this,Zr,R(this,Xi).getMutationCache().build(R(this,Xi),this.options)),R(this,Zr).addObserver(this),R(this,Zr).execute(e)}},Xi=new WeakMap,Hs=new WeakMap,Zr=new WeakMap,Ji=new WeakMap,hs=new WeakSet,qf=function(){var r;const e=((r=R(this,Zr))==null?void 0:r.state)??MH();ie(this,Hs,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},Ej=function(e){Ut.batch(()=>{var r,n,i,s,a,o,u,c;if(R(this,Ji)&&this.hasListeners()){const d=R(this,Hs).variables,h=R(this,Hs).context,f={client:R(this,Xi),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,Ji)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,Ji)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,Ji)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(c=(u=R(this,Ji)).onSettled)==null||c.call(u,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Hs))})})},rW);function RI(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function ute(t,e,r){const n=t.slice(0);return n[e]=r,n}var ru,bn,nu,iu,Dn,Ks,Wd,Vd,Hd,jr,Nj,jj,Cj,Oj,Tj,nW,cte=(nW=class extends Wo{constructor(e,r,n){super();ge(this,jr);ge(this,ru);ge(this,bn);ge(this,nu);ge(this,iu);ge(this,Dn);ge(this,Ks);ge(this,Wd);ge(this,Vd);ge(this,Hd,[]);ie(this,ru,e),ie(this,iu,n),ie(this,nu,[]),ie(this,Dn,[]),ie(this,bn,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,Dn).forEach(e=>{e.subscribe(r=>{Te(this,jr,Oj).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,Dn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,nu,e),ie(this,iu,r),Ut.batch(()=>{const n=R(this,Dn),i=Te(this,jr,Cj).call(this,R(this,nu));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,u=s.some((h,f)=>h!==n[f]),c=o||u,d=c?!0:a.some((h,f)=>{const p=R(this,bn)[f];return!p||!Nd(h,p)});!c&&!d||(c&&(ie(this,Hd,i),ie(this,Dn,s)),ie(this,bn,a),this.hasListeners()&&(c&&(RI(n,s).forEach(h=>{h.destroy()}),RI(s,n).forEach(h=>{h.subscribe(f=>{Te(this,jr,Oj).call(this,h,f)})})),Te(this,jr,Tj).call(this)))})}getCurrentResult(){return R(this,bn)}getQueries(){return R(this,Dn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,Dn)}getOptimisticResult(e,r){const n=Te(this,jr,Cj).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>Te(this,jr,jj).call(this,s??i,r),()=>Te(this,jr,Nj).call(this,i,n)]}},ru=new WeakMap,bn=new WeakMap,nu=new WeakMap,iu=new WeakMap,Dn=new WeakMap,Ks=new WeakMap,Wd=new WeakMap,Vd=new WeakMap,Hd=new WeakMap,jr=new WeakSet,Nj=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},jj=function(e,r){return r?((!R(this,Ks)||R(this,bn)!==R(this,Vd)||r!==R(this,Wd))&&(ie(this,Wd,r),ie(this,Vd,R(this,bn)),ie(this,Ks,aO(R(this,Ks),r(e)))),R(this,Ks)):e},Cj=function(e){const r=new Map;R(this,Dn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var u;const s=R(this,ru).defaultQueryOptions(i),o=((u=r.get(s.queryHash))==null?void 0:u.shift())??new cO(R(this,ru),s);n.push({defaultedQueryOptions:s,observer:o})}),n},Oj=function(e,r){const n=R(this,Dn).indexOf(e);n!==-1&&(ie(this,bn,ute(R(this,bn),n,r)),Te(this,jr,Tj).call(this))},Tj=function(){var e;if(this.hasListeners()){const r=R(this,Ks),n=Te(this,jr,Nj).call(this,R(this,bn),R(this,Hd)),i=Te(this,jr,jj).call(this,n,(e=R(this,iu))==null?void 0:e.combine);r!==i&&Ut.batch(()=>{this.listeners.forEach(s=>{s(R(this,bn))})})}},nW),ji,iW,dte=(iW=class extends Wo{constructor(e={}){super();ge(this,ji);this.config=e,ie(this,ji,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??sO(i,r);let a=this.get(s);return a||(a=new rte({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,ji).has(e.queryHash)||(R(this,ji).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,ji).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,ji).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Ut.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,ji).get(e)}getAll(){return[...R(this,ji).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>_I(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>_I(e,n)):r}notify(e){Ut.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Ut.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},ji=new WeakMap,iW),At,Gs,Ys,su,au,Qs,ou,lu,sW,hte=(sW=class{constructor(t={}){ge(this,At);ge(this,Gs);ge(this,Ys);ge(this,su);ge(this,au);ge(this,Qs);ge(this,ou);ge(this,lu);ie(this,At,t.queryCache||new dte),ie(this,Gs,t.mutationCache||new ote),ie(this,Ys,t.defaultOptions||{}),ie(this,su,new Map),ie(this,au,new Map),ie(this,Qs,0)}mount(){Kh(this,Qs)._++,R(this,Qs)===1&&(ie(this,ou,uO.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,At).onFocus())})),ie(this,lu,bp.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,At).onOnline())})))}unmount(){var t,e;Kh(this,Qs)._--,R(this,Qs)===0&&((t=R(this,ou))==null||t.call(this),ie(this,ou,void 0),(e=R(this,lu))==null||e.call(this),ie(this,lu,void 0))}isFetching(t){return R(this,At).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Gs).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,At).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,At).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(ca(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,At).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,At).get(n.queryHash),s=i==null?void 0:i.state.data,a=Vee(e,s);if(a!==void 0)return R(this,At).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return Ut.batch(()=>R(this,At).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,At).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,At);Ut.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,At);return Ut.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=Ut.batch(()=>R(this,At).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(Rr).catch(Rr)}invalidateQueries(t,e={}){return Ut.batch(()=>(R(this,At).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=Ut.batch(()=>R(this,At).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(Rr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(Rr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,At).build(this,e);return r.isStaleByTime(ca(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Rr).catch(Rr)}fetchInfiniteQuery(t){return t.behavior=PI(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Rr).catch(Rr)}ensureInfiniteQueryData(t){return t.behavior=PI(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return bp.isOnline()?R(this,Gs).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,At)}getMutationCache(){return R(this,Gs)}getDefaultOptions(){return R(this,Ys)}setDefaultOptions(t){ie(this,Ys,t)}setQueryDefaults(t,e){R(this,su).set(Oo(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,su).values()],r={};return e.forEach(n=>{Ed(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,au).set(Oo(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,au).values()],r={};return e.forEach(n=>{Ed(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Ys).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=sO(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===oO&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Ys).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,At).clear(),R(this,Gs).clear()}},At=new WeakMap,Gs=new WeakMap,Ys=new WeakMap,su=new WeakMap,au=new WeakMap,Qs=new WeakMap,ou=new WeakMap,lu=new WeakMap,sW),qH=T.createContext(void 0),ut=t=>{const e=T.useContext(qH);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},fte=({client:t,children:e})=>(T.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(qH.Provider,{value:t,children:e})),AH=T.createContext(!1),FH=()=>T.useContext(AH);AH.Provider;function pte(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var mte=T.createContext(pte()),LH=()=>T.useContext(mte),BH=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?lO(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},zH=t=>{T.useEffect(()=>{t.clearReset()},[t])},UH=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||lO(r,[t.error,n])),WH=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},VH=(t,e)=>t.isLoading&&t.isFetching&&!e,Pj=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,xp=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function wp({queries:t,...e},r){const n=ut(),i=FH(),s=LH(),a=T.useMemo(()=>t.map(y=>{const x=n.defaultQueryOptions(y);return x._optimisticResults=i?"isRestoring":"optimistic",x}),[t,n,i]);a.forEach(y=>{WH(y);const x=n.getQueryCache().get(y.queryHash);BH(y,s,x)}),zH(s);const[o]=T.useState(()=>new cte(n,a,e)),[u,c,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;T.useSyncExternalStore(T.useCallback(y=>h?o.subscribe(Ut.batchCalls(y)):Rr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),T.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=u.some((y,x)=>Pj(a[x],y))?u.flatMap((y,x)=>{const g=a[x];if(g){const v=new cO(n,g);if(Pj(g,y))return xp(g,v,s);VH(y,i)&&xp(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=u.find((y,x)=>{const g=a[x];return g&&UH({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return c(d())}function vte(t,e,r){var f,p,m,y;const n=FH(),i=LH(),s=ut(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",WH(a),BH(a,i,o),zH(i);const u=!s.getQueryCache().get(a.queryHash),[c]=T.useState(()=>new e(s,a)),d=c.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if(T.useSyncExternalStore(T.useCallback(x=>{const g=h?c.subscribe(Ut.batchCalls(x)):Rr;return c.updateResult(),g},[c,h]),()=>c.getCurrentResult(),()=>c.getCurrentResult()),T.useEffect(()=>{c.setOptions(a)},[a,c]),Pj(a,d))throw xp(a,c,i);if(UH({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!Co&&VH(d,n)){const x=u?xp(a,c,i):o==null?void 0:o.promise;x==null||x.catch(Rr).finally(()=>{c.updateResult()})}return a.notifyOnChangeProps?d:c.trackResult(d)}function Ze(t,e){return vte(t,cO)}function rt(t,e){const r=ut(),[n]=T.useState(()=>new lte(r,t));T.useEffect(()=>{n.setOptions(t)},[n,t]);const i=T.useSyncExternalStore(T.useCallback(a=>n.subscribe(Ut.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=T.useCallback((a,o)=>{n.mutate(a,o).catch(Rr)},[n]);if(i.error&&lO(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function hO(){const t=window.prmConfig||{};return T.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}function HH(t,e){return function(){return t.apply(e,arguments)}}const{toString:gte}=Object.prototype,{getPrototypeOf:fO}=Object,{iterator:cm,toStringTag:KH}=Symbol,dm=(t=>e=>{const r=gte.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),vi=t=>(t=t.toLowerCase(),e=>dm(e)===t),hm=t=>e=>typeof e===t,{isArray:Mu}=Array,gu=hm("undefined");function Jd(t){return t!==null&&!gu(t)&&t.constructor!==null&&!gu(t.constructor)&&dn(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const GH=vi("ArrayBuffer");function yte(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&GH(t.buffer),e}const bte=hm("string"),dn=hm("function"),YH=hm("number"),Zd=t=>t!==null&&typeof t=="object",xte=t=>t===!0||t===!1,Af=t=>{if(dm(t)!=="object")return!1;const e=fO(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(KH in t)&&!(cm in t)},wte=t=>{if(!Zd(t)||Jd(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},_te=vi("Date"),Ste=vi("File"),Ete=vi("Blob"),Nte=vi("FileList"),jte=t=>Zd(t)&&dn(t.pipe),Cte=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||dn(t.append)&&((e=dm(t))==="formdata"||e==="object"&&dn(t.toString)&&t.toString()==="[object FormData]"))},Ote=vi("URLSearchParams"),[Tte,Pte,Ite,Rte]=["ReadableStream","Request","Response","Headers"].map(vi),$te=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function eh(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),Mu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Jd(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function QH(t,e){if(Jd(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ya=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,XH=t=>!gu(t)&&t!==Ya;function Ij(){const{caseless:t,skipUndefined:e}=XH(this)&&this||{},r={},n=(i,s)=>{const a=t&&QH(r,s)||s;Af(r[a])&&Af(i)?r[a]=Ij(r[a],i):Af(i)?r[a]=Ij({},i):Mu(i)?r[a]=i.slice():(!e||!gu(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&eh(arguments[i],n);return r}const kte=(t,e,r,{allOwnKeys:n}={})=>(eh(e,(i,s)=>{r&&dn(i)?t[s]=HH(i,r):t[s]=i},{allOwnKeys:n}),t),Dte=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),Mte=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},qte=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&fO(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},Ate=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},Fte=t=>{if(!t)return null;if(Mu(t))return t;let e=t.length;if(!YH(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},Lte=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&fO(Uint8Array)),Bte=(t,e)=>{const n=(t&&t[cm]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},zte=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Ute=vi("HTMLFormElement"),Wte=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),$I=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Vte=vi("RegExp"),JH=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};eh(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Hte=t=>{JH(t,(e,r)=>{if(dn(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(dn(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Kte=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return Mu(t)?n(t):n(String(t).split(e)),r},Gte=()=>{},Yte=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function Qte(t){return!!(t&&dn(t.append)&&t[KH]==="FormData"&&t[cm])}const Xte=t=>{const e=new Array(10),r=(n,i)=>{if(Zd(n)){if(e.indexOf(n)>=0)return;if(Jd(n))return n;if(!("toJSON"in n)){e[i]=n;const s=Mu(n)?[]:{};return eh(n,(a,o)=>{const u=r(a,i+1);!gu(u)&&(s[o]=u)}),e[i]=void 0,s}}return n};return r(t,0)},Jte=vi("AsyncFunction"),Zte=t=>t&&(Zd(t)||dn(t))&&dn(t.then)&&dn(t.catch),ZH=((t,e)=>t?setImmediate:e?((r,n)=>(Ya.addEventListener("message",({source:i,data:s})=>{i===Ya&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ya.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",dn(Ya.postMessage)),ere=typeof queueMicrotask<"u"?queueMicrotask.bind(Ya):typeof process<"u"&&process.nextTick||ZH,tre=t=>t!=null&&dn(t[cm]),F={isArray:Mu,isArrayBuffer:GH,isBuffer:Jd,isFormData:Cte,isArrayBufferView:yte,isString:bte,isNumber:YH,isBoolean:xte,isObject:Zd,isPlainObject:Af,isEmptyObject:wte,isReadableStream:Tte,isRequest:Pte,isResponse:Ite,isHeaders:Rte,isUndefined:gu,isDate:_te,isFile:Ste,isBlob:Ete,isRegExp:Vte,isFunction:dn,isStream:jte,isURLSearchParams:Ote,isTypedArray:Lte,isFileList:Nte,forEach:eh,merge:Ij,extend:kte,trim:$te,stripBOM:Dte,inherits:Mte,toFlatObject:qte,kindOf:dm,kindOfTest:vi,endsWith:Ate,toArray:Fte,forEachEntry:Bte,matchAll:zte,isHTMLForm:Ute,hasOwnProperty:$I,hasOwnProp:$I,reduceDescriptors:JH,freezeMethods:Hte,toObjectSet:Kte,toCamelCase:Wte,noop:Gte,toFiniteNumber:Yte,findKey:QH,global:Ya,isContextDefined:XH,isSpecCompliantForm:Qte,toJSONObject:Xte,isAsyncFn:Jte,isThenable:Zte,setImmediate:ZH,asap:ere,isIterable:tre};function qe(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}F.inherits(qe,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:F.toJSONObject(this.config),code:this.code,status:this.status}}});const eK=qe.prototype,tK={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{tK[t]={value:t}});Object.defineProperties(qe,tK);Object.defineProperty(eK,"isAxiosError",{value:!0});qe.from=(t,e,r,n,i,s)=>{const a=Object.create(eK);F.toFlatObject(t,a,function(d){return d!==Error.prototype},c=>c!=="isAxiosError");const o=t&&t.message?t.message:"Error",u=e==null&&t?t.code:e;return qe.call(a,o,u,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const rre=null;function Rj(t){return F.isPlainObject(t)||F.isArray(t)}function rK(t){return F.endsWith(t,"[]")?t.slice(0,-2):t}function kI(t,e,r){return t?t.concat(e).map(function(i,s){return i=rK(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function nre(t){return F.isArray(t)&&!t.some(Rj)}const ire=F.toFlatObject(F,{},null,function(e){return/^is[A-Z]/.test(e)});function fm(t,e,r){if(!F.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=F.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,x){return!F.isUndefined(x[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,u=(r.Blob||typeof Blob<"u"&&Blob)&&F.isSpecCompliantForm(e);if(!F.isFunction(i))throw new TypeError("visitor must be a function");function c(m){if(m===null)return"";if(F.isDate(m))return m.toISOString();if(F.isBoolean(m))return m.toString();if(!u&&F.isBlob(m))throw new qe("Blob is not supported. Use a Buffer instead.");return F.isArrayBuffer(m)||F.isTypedArray(m)?u&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,x){let g=m;if(m&&!x&&typeof m=="object"){if(F.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(F.isArray(m)&&nre(m)||(F.isFileList(m)||F.endsWith(y,"[]"))&&(g=F.toArray(m)))return y=rK(y),g.forEach(function(w,b){!(F.isUndefined(w)||w===null)&&e.append(a===!0?kI([y],b,s):a===null?y:y+"[]",c(w))}),!1}return Rj(m)?!0:(e.append(kI(x,y,s),c(m)),!1)}const h=[],f=Object.assign(ire,{defaultVisitor:d,convertValue:c,isVisitable:Rj});function p(m,y){if(!F.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),F.forEach(m,function(g,v){(!(F.isUndefined(g)||g===null)&&i.call(e,g,F.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!F.isObject(t))throw new TypeError("data must be an object");return p(t),e}function DI(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function pO(t,e){this._pairs=[],t&&fm(t,this,e)}const nK=pO.prototype;nK.append=function(e,r){this._pairs.push([e,r])};nK.toString=function(e){const r=e?function(n){return e.call(this,n,DI)}:DI;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function sre(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function iK(t,e,r){if(!e)return t;const n=r&&r.encode||sre;F.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=F.isURLSearchParams(e)?e.toString():new pO(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class MI{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){F.forEach(this.handlers,function(n){n!==null&&e(n)})}}const sK={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},are=typeof URLSearchParams<"u"?URLSearchParams:pO,ore=typeof FormData<"u"?FormData:null,lre=typeof Blob<"u"?Blob:null,ure={isBrowser:!0,classes:{URLSearchParams:are,FormData:ore,Blob:lre},protocols:["http","https","file","blob","url","data"]},mO=typeof window<"u"&&typeof document<"u",$j=typeof navigator=="object"&&navigator||void 0,cre=mO&&(!$j||["ReactNative","NativeScript","NS"].indexOf($j.product)<0),dre=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",hre=mO&&window.location.href||"http://localhost",fre=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:mO,hasStandardBrowserEnv:cre,hasStandardBrowserWebWorkerEnv:dre,navigator:$j,origin:hre},Symbol.toStringTag,{value:"Module"})),kr={...fre,...ure};function pre(t,e){return fm(t,new kr.classes.URLSearchParams,{visitor:function(r,n,i,s){return kr.isNode&&F.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function mre(t){return F.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function vre(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function aK(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),u=s>=r.length;return a=!a&&F.isArray(i)?i.length:a,u?(F.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!F.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&F.isArray(i[a])&&(i[a]=vre(i[a])),!o)}if(F.isFormData(t)&&F.isFunction(t.entries)){const r={};return F.forEachEntry(t,(n,i)=>{e(mre(n),i,r,0)}),r}return null}function gre(t,e,r){if(F.isString(t))try{return(e||JSON.parse)(t),F.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const th={transitional:sK,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=F.isObject(e);if(s&&F.isHTMLForm(e)&&(e=new FormData(e)),F.isFormData(e))return i?JSON.stringify(aK(e)):e;if(F.isArrayBuffer(e)||F.isBuffer(e)||F.isStream(e)||F.isFile(e)||F.isBlob(e)||F.isReadableStream(e))return e;if(F.isArrayBufferView(e))return e.buffer;if(F.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return pre(e,this.formSerializer).toString();if((o=F.isFileList(e))||n.indexOf("multipart/form-data")>-1){const u=this.env&&this.env.FormData;return fm(o?{"files[]":e}:e,u&&new u,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),gre(e)):e}],transformResponse:[function(e){const r=this.transitional||th.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(F.isResponse(e)||F.isReadableStream(e))return e;if(e&&F.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?qe.from(o,qe.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:kr.classes.FormData,Blob:kr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};F.forEach(["delete","get","head","post","put","patch"],t=>{th.headers[t]={}});const yre=F.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),bre=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&yre[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},qI=Symbol("internals");function Nc(t){return t&&String(t).trim().toLowerCase()}function Ff(t){return t===!1||t==null?t:F.isArray(t)?t.map(Ff):String(t)}function xre(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const wre=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Iv(t,e,r,n,i){if(F.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!F.isString(e)){if(F.isString(n))return e.indexOf(n)!==-1;if(F.isRegExp(n))return n.test(e)}}function _re(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function Sre(t,e){const r=F.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let hn=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,u,c){const d=Nc(u);if(!d)throw new Error("header name must be a non-empty string");const h=F.findKey(i,d);(!h||i[h]===void 0||c===!0||c===void 0&&i[h]!==!1)&&(i[h||u]=Ff(o))}const a=(o,u)=>F.forEach(o,(c,d)=>s(c,d,u));if(F.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(F.isString(e)&&(e=e.trim())&&!wre(e))a(bre(e),r);else if(F.isObject(e)&&F.isIterable(e)){let o={},u,c;for(const d of e){if(!F.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[c=d[0]]=(u=o[c])?F.isArray(u)?[...u,d[1]]:[u,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Nc(e),e){const n=F.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return xre(i);if(F.isFunction(r))return r.call(this,i,n);if(F.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Nc(e),e){const n=F.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Iv(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Nc(a),a){const o=F.findKey(n,a);o&&(!r||Iv(n,n[o],o,r))&&(delete n[o],i=!0)}}return F.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Iv(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return F.forEach(this,(i,s)=>{const a=F.findKey(n,s);if(a){r[a]=Ff(i),delete r[s];return}const o=e?_re(s):String(s).trim();o!==s&&delete r[s],r[o]=Ff(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return F.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&F.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[qI]=this[qI]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Nc(a);n[o]||(Sre(i,a),n[o]=!0)}return F.isArray(e)?e.forEach(s):s(e),this}};hn.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);F.reduceDescriptors(hn.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});F.freezeMethods(hn);function Rv(t,e){const r=this||th,n=e||r,i=hn.from(n.headers);let s=n.data;return F.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function oK(t){return!!(t&&t.__CANCEL__)}function qu(t,e,r){qe.call(this,t??"canceled",qe.ERR_CANCELED,e,r),this.name="CanceledError"}F.inherits(qu,qe,{__CANCEL__:!0});function lK(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new qe("Request failed with status code "+r.status,[qe.ERR_BAD_REQUEST,qe.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function Ere(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function Nre(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(u){const c=Date.now(),d=n[s];a||(a=c),r[i]=u,n[i]=c;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),c-a<e)return;const p=d&&c-d;return p?Math.round(f*1e3/p):void 0}}function jre(t,e){let r=0,n=1e3/e,i,s;const a=(c,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...c)};return[(...c)=>{const d=Date.now(),h=d-r;h>=n?a(c,d):(i=c,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const _p=(t,e,r=3)=>{let n=0;const i=Nre(50,250);return jre(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,u=a-n,c=i(u),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:u,rate:c||void 0,estimated:c&&o&&d?(o-a)/c:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},AI=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},FI=t=>(...e)=>F.asap(()=>t(...e)),Cre=kr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,kr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(kr.origin),kr.navigator&&/(msie|trident)/i.test(kr.navigator.userAgent)):()=>!0,Ore=kr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];F.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),F.isString(n)&&o.push(`path=${n}`),F.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),F.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function Tre(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function Pre(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function uK(t,e,r){let n=!Tre(e);return t&&(n||r==!1)?Pre(t,e):e}const LI=t=>t instanceof hn?{...t}:t;function To(t,e){e=e||{};const r={};function n(c,d,h,f){return F.isPlainObject(c)&&F.isPlainObject(d)?F.merge.call({caseless:f},c,d):F.isPlainObject(d)?F.merge({},d):F.isArray(d)?d.slice():d}function i(c,d,h,f){if(F.isUndefined(d)){if(!F.isUndefined(c))return n(void 0,c,h,f)}else return n(c,d,h,f)}function s(c,d){if(!F.isUndefined(d))return n(void 0,d)}function a(c,d){if(F.isUndefined(d)){if(!F.isUndefined(c))return n(void 0,c)}else return n(void 0,d)}function o(c,d,h){if(h in e)return n(c,d);if(h in t)return n(void 0,c)}const u={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(c,d,h)=>i(LI(c),LI(d),h,!0)};return F.forEach(Object.keys({...t,...e}),function(d){const h=u[d]||i,f=h(t[d],e[d],d);F.isUndefined(f)&&h!==o||(r[d]=f)}),r}const cK=t=>{const e=To({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=hn.from(a),e.url=iK(uK(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),F.isFormData(r)){if(kr.hasStandardBrowserEnv||kr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(F.isFunction(r.getHeaders)){const u=r.getHeaders(),c=["content-type","content-length"];Object.entries(u).forEach(([d,h])=>{c.includes(d.toLowerCase())&&a.set(d,h)})}}if(kr.hasStandardBrowserEnv&&(n&&F.isFunction(n)&&(n=n(e)),n||n!==!1&&Cre(e.url))){const u=i&&s&&Ore.read(s);u&&a.set(i,u)}return e},Ire=typeof XMLHttpRequest<"u",Rre=Ire&&function(t){return new Promise(function(r,n){const i=cK(t);let s=i.data;const a=hn.from(i.headers).normalize();let{responseType:o,onUploadProgress:u,onDownloadProgress:c}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let x=new XMLHttpRequest;x.open(i.method.toUpperCase(),i.url,!0),x.timeout=i.timeout;function g(){if(!x)return;const w=hn.from("getAllResponseHeaders"in x&&x.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?x.responseText:x.response,status:x.status,statusText:x.statusText,headers:w,config:t,request:x};lK(function(N){r(N),y()},function(N){n(N),y()},_),x=null}"onloadend"in x?x.onloadend=g:x.onreadystatechange=function(){!x||x.readyState!==4||x.status===0&&!(x.responseURL&&x.responseURL.indexOf("file:")===0)||setTimeout(g)},x.onabort=function(){x&&(n(new qe("Request aborted",qe.ECONNABORTED,t,x)),x=null)},x.onerror=function(b){const _=b&&b.message?b.message:"Network Error",S=new qe(_,qe.ERR_NETWORK,t,x);S.event=b||null,n(S),x=null},x.ontimeout=function(){let b=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||sK;i.timeoutErrorMessage&&(b=i.timeoutErrorMessage),n(new qe(b,_.clarifyTimeoutError?qe.ETIMEDOUT:qe.ECONNABORTED,t,x)),x=null},s===void 0&&a.setContentType(null),"setRequestHeader"in x&&F.forEach(a.toJSON(),function(b,_){x.setRequestHeader(_,b)}),F.isUndefined(i.withCredentials)||(x.withCredentials=!!i.withCredentials),o&&o!=="json"&&(x.responseType=i.responseType),c&&([f,m]=_p(c,!0),x.addEventListener("progress",f)),u&&x.upload&&([h,p]=_p(u),x.upload.addEventListener("progress",h),x.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=w=>{x&&(n(!w||w.type?new qu(null,t,x):w),x.abort(),x=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=Ere(i.url);if(v&&kr.protocols.indexOf(v)===-1){n(new qe("Unsupported protocol "+v+":",qe.ERR_BAD_REQUEST,t));return}x.send(s||null)})},$re=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(c){if(!i){i=!0,o();const d=c instanceof Error?c:this.reason;n.abort(d instanceof qe?d:new qu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new qe(`timeout ${e} of ms exceeded`,qe.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(c=>{c.unsubscribe?c.unsubscribe(s):c.removeEventListener("abort",s)}),t=null)};t.forEach(c=>c.addEventListener("abort",s));const{signal:u}=n;return u.unsubscribe=()=>F.asap(o),u}},kre=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},Dre=async function*(t,e){for await(const r of Mre(t))yield*kre(r,e)},Mre=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},BI=(t,e,r,n)=>{const i=Dre(t,e);let s=0,a,o=u=>{a||(a=!0,n&&n(u))};return new ReadableStream({async pull(u){try{const{done:c,value:d}=await i.next();if(c){o(),u.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}u.enqueue(new Uint8Array(d))}catch(c){throw o(c),c}},cancel(u){return o(u),i.return()}},{highWaterMark:2})},zI=64*1024,{isFunction:ff}=F,qre=(({Request:t,Response:e})=>({Request:t,Response:e}))(F.global),{ReadableStream:UI,TextEncoder:WI}=F.global,VI=(t,...e)=>{try{return!!t(...e)}catch{return!1}},Are=t=>{t=F.merge.call({skipUndefined:!0},qre,t);const{fetch:e,Request:r,Response:n}=t,i=e?ff(e):typeof fetch=="function",s=ff(r),a=ff(n);if(!i)return!1;const o=i&&ff(UI),u=i&&(typeof WI=="function"?(m=>y=>m.encode(y))(new WI):async m=>new Uint8Array(await new r(m).arrayBuffer())),c=s&&o&&VI(()=>{let m=!1;const y=new r(kr.origin,{body:new UI,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&VI(()=>F.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,x)=>{let g=y&&y[m];if(g)return g.call(y);throw new qe(`Response type '${m}' is not supported`,qe.ERR_NOT_SUPPORT,x)})});const f=async m=>{if(m==null)return 0;if(F.isBlob(m))return m.size;if(F.isSpecCompliantForm(m))return(await new r(kr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(F.isArrayBufferView(m)||F.isArrayBuffer(m))return m.byteLength;if(F.isURLSearchParams(m)&&(m=m+""),F.isString(m))return(await u(m)).byteLength},p=async(m,y)=>{const x=F.toFiniteNumber(m.getContentLength());return x??f(y)};return async m=>{let{url:y,method:x,data:g,signal:v,cancelToken:w,timeout:b,onDownloadProgress:_,onUploadProgress:S,responseType:N,headers:E,withCredentials:C="same-origin",fetchOptions:O}=cK(m),I=e||fetch;N=N?(N+"").toLowerCase():"text";let j=$re([v,w&&w.toAbortSignal()],b),P=null;const D=j&&j.unsubscribe&&(()=>{j.unsubscribe()});let M;try{if(S&&c&&x!=="get"&&x!=="head"&&(M=await p(E,g))!==0){let V=new r(y,{method:"POST",body:g,duplex:"half"}),G;if(F.isFormData(g)&&(G=V.headers.get("content-type"))&&E.setContentType(G),V.body){const[fe,me]=AI(M,_p(FI(S)));g=BI(V.body,zI,fe,me)}}F.isString(C)||(C=C?"include":"omit");const z=s&&"credentials"in r.prototype,W={...O,signal:j,method:x.toUpperCase(),headers:E.normalize().toJSON(),body:g,duplex:"half",credentials:z?C:void 0};P=s&&new r(y,W);let A=await(s?I(P,O):I(y,W));const H=d&&(N==="stream"||N==="response");if(d&&(_||H&&D)){const V={};["status","statusText","headers"].forEach($e=>{V[$e]=A[$e]});const G=F.toFiniteNumber(A.headers.get("content-length")),[fe,me]=_&&AI(G,_p(FI(_),!0))||[];A=new n(BI(A.body,zI,fe,()=>{me&&me(),D&&D()}),V)}N=N||"text";let B=await h[F.findKey(h,N)||"text"](A,m);return!H&&D&&D(),await new Promise((V,G)=>{lK(V,G,{data:B,headers:hn.from(A.headers),status:A.status,statusText:A.statusText,config:m,request:P})})}catch(z){throw D&&D(),z&&z.name==="TypeError"&&/Load failed|fetch/i.test(z.message)?Object.assign(new qe("Network Error",qe.ERR_NETWORK,m,P),{cause:z.cause||z}):qe.from(z,z&&z.code,m,P)}}},Fre=new Map,dK=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,u,c,d=Fre;for(;o--;)u=s[o],c=d.get(u),c===void 0&&d.set(u,c=o?new Map:Are(e)),d=c;return c};dK();const vO={http:rre,xhr:Rre,fetch:{get:dK}};F.forEach(vO,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const HI=t=>`- ${t}`,Lre=t=>F.isFunction(t)||t===null||t===!1;function Bre(t,e){t=F.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!Lre(n)&&(i=vO[(o=String(n)).toLowerCase()],i===void 0))throw new qe(`Unknown adapter '${o}'`);if(i&&(F.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([u,c])=>`adapter ${u} `+(c===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(HI).join(`
`):" "+HI(a[0]):"as no adapter specified";throw new qe("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const hK={getAdapter:Bre,adapters:vO};function $v(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new qu(null,t)}function KI(t){return $v(t),t.headers=hn.from(t.headers),t.data=Rv.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),hK.getAdapter(t.adapter||th.adapter,t)(t).then(function(n){return $v(t),n.data=Rv.call(t,t.transformResponse,n),n.headers=hn.from(n.headers),n},function(n){return oK(n)||($v(t),n&&n.response&&(n.response.data=Rv.call(t,t.transformResponse,n.response),n.response.headers=hn.from(n.response.headers))),Promise.reject(n)})}const fK="1.13.2",pm={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{pm[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const GI={};pm.transitional=function(e,r,n){function i(s,a){return"[Axios v"+fK+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new qe(i(a," has been removed"+(r?" in "+r:"")),qe.ERR_DEPRECATED);return r&&!GI[a]&&(GI[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};pm.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function zre(t,e,r){if(typeof t!="object")throw new qe("options must be an object",qe.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],u=o===void 0||a(o,s,t);if(u!==!0)throw new qe("option "+s+" must be "+u,qe.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new qe("Unknown option "+s,qe.ERR_BAD_OPTION)}}const Lf={assertOptions:zre,validators:pm},wi=Lf.validators;let po=class{constructor(e){this.defaults=e||{},this.interceptors={request:new MI,response:new MI}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=To(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&Lf.assertOptions(n,{silentJSONParsing:wi.transitional(wi.boolean),forcedJSONParsing:wi.transitional(wi.boolean),clarifyTimeoutError:wi.transitional(wi.boolean)},!1),i!=null&&(F.isFunction(i)?r.paramsSerializer={serialize:i}:Lf.assertOptions(i,{encode:wi.function,serialize:wi.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),Lf.assertOptions(r,{baseUrl:wi.spelling("baseURL"),withXsrfToken:wi.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&F.merge(s.common,s[r.method]);s&&F.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=hn.concat(a,s);const o=[];let u=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(u=u&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const c=[];this.interceptors.response.forEach(function(y){c.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!u){const m=[KI.bind(this),void 0];for(m.unshift(...o),m.push(...c),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(x){y.call(this,x);break}}try{d=KI.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=c.length;h<f;)d=d.then(c[h++],c[h++]);return d}getUri(e){e=To(this.defaults,e);const r=uK(e.baseURL,e.url,e.allowAbsoluteUrls);return iK(r,e.params,e.paramsSerializer)}};F.forEach(["delete","get","head","options"],function(e){po.prototype[e]=function(r,n){return this.request(To(n||{},{method:e,url:r,data:(n||{}).data}))}});F.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(To(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}po.prototype[e]=r(),po.prototype[e+"Form"]=r(!0)});let Ure=class pK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new qu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new pK(function(i){e=i}),cancel:e}}};function Wre(t){return function(r){return t.apply(null,r)}}function Vre(t){return F.isObject(t)&&t.isAxiosError===!0}const kj={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(kj).forEach(([t,e])=>{kj[e]=t});function mK(t){const e=new po(t),r=HH(po.prototype.request,e);return F.extend(r,po.prototype,e,{allOwnKeys:!0}),F.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return mK(To(t,i))},r}const Gt=mK(th);Gt.Axios=po;Gt.CanceledError=qu;Gt.CancelToken=Ure;Gt.isCancel=oK;Gt.VERSION=fK;Gt.toFormData=fm;Gt.AxiosError=qe;Gt.Cancel=Gt.CanceledError;Gt.all=function(e){return Promise.all(e)};Gt.spread=Wre;Gt.isAxiosError=Vre;Gt.mergeConfig=To;Gt.AxiosHeaders=hn;Gt.formToJSON=t=>aK(F.isHTMLForm(t)?new FormData(t):t);Gt.getAdapter=hK.getAdapter;Gt.HttpStatusCode=kj;Gt.default=Gt;const{Axios:Fxe,AxiosError:Lxe,CanceledError:Bxe,isCancel:zxe,CancelToken:Uxe,VERSION:Wxe,all:Vxe,Cancel:Hxe,isAxiosError:Kxe,spread:Gxe,toFormData:Yxe,AxiosHeaders:Qxe,HttpStatusCode:Xxe,formToJSON:Jxe,getAdapter:Zxe,mergeConfig:ewe}=Gt,Dj=window.prmConfig||{},ue=Gt.create({baseURL:Dj.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":Dj.nonce||""}});ue.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});ue.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=Dj.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Ae={getPeople:t=>ue.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>ue.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>ue.post("/wp/v2/people",t),updatePerson:(t,e)=>ue.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>ue.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>ue.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>ue.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>ue.post("/wp/v2/companies",t),updateCompany:(t,e)=>ue.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>ue.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>ue.get("/wp/v2/important-dates",{params:t}),getDate:t=>ue.get(`/wp/v2/important-dates/${t}`),createDate:t=>ue.post("/wp/v2/important-dates",t),updateDate:(t,e)=>ue.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>ue.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>ue.get("/wp/v2/person_label"),getCompanyLabels:()=>ue.get("/wp/v2/company_label"),getRelationshipTypes:()=>ue.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>ue.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>ue.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>ue.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>ue.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>ue.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),ue.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},ke={getDashboard:()=>ue.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>ue.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>ue.get("/prm/v1/user/me"),getUsers:()=>ue.get("/prm/v1/users"),approveUser:t=>ue.post(`/prm/v1/users/${t}/approve`),denyUser:t=>ue.post(`/prm/v1/users/${t}/deny`),deleteUser:t=>ue.delete(`/prm/v1/users/${t}`),search:t=>ue.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>ue.get("/prm/v1/reminders",{params:{days_ahead:t}}),triggerReminders:()=>ue.post("/prm/v1/reminders/trigger"),rescheduleCronJobs:()=>ue.post("/prm/v1/reminders/reschedule-cron"),getNotificationChannels:()=>ue.get("/prm/v1/user/notification-channels"),updateNotificationChannels:t=>ue.post("/prm/v1/user/notification-channels",{channels:t}),updateSlackWebhook:t=>ue.post("/prm/v1/user/slack-webhook",{webhook:t}),updateNotificationTime:t=>ue.post("/prm/v1/user/notification-time",{time:t}),getSlackStatus:()=>ue.get("/prm/v1/user/slack-status"),disconnectSlack:()=>ue.post("/prm/v1/slack/disconnect"),getSlackChannels:()=>ue.get("/prm/v1/slack/channels"),getSlackTargets:()=>ue.get("/prm/v1/slack/targets"),updateSlackTargets:t=>ue.post("/prm/v1/slack/targets",{targets:t}),getPersonDates:t=>ue.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>ue.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>ue.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>ue.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>ue.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>ue.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>ue.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>ue.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>ue.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>ue.delete(`/prm/v1/activities/${t}`),getAllTodos:(t=!1)=>ue.get("/prm/v1/todos",{params:{completed:t}}),getInvestments:t=>ue.get(`/prm/v1/investments/${t}`),getPersonTodos:t=>ue.get(`/prm/v1/people/${t}/todos`),createTodo:(t,e)=>ue.post(`/prm/v1/people/${t}/todos`,e),updateTodo:(t,e)=>ue.put(`/prm/v1/todos/${t}`,e),deleteTodo:t=>ue.delete(`/prm/v1/todos/${t}`),getCompanyPeople:t=>ue.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>ue.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),ue.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),ue.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var Hre={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kre=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),be=(t,e)=>{const r=T.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:u,...c},d)=>T.createElement("svg",{ref:d,...Hre,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${Kre(t)}`,o].join(" "),...c},[...e.map(([h,f])=>T.createElement(h,f)),...Array.isArray(u)?u:[u]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=be("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gre=be("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yre=be("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jn=be("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kv=be("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Qre=be("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ur=be("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const vK=be("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const da=be("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Bf=be("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YI=be("CheckCircle2",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yu=be("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mj=be("CheckSquare2",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ki=be("CheckSquare",[["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}],["path",{d:"M21 12v7a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11",key:"1jnkn4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QI=be("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sp=be("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qj=be("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xre=be("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gK=be("Coffee",[["path",{d:"M17 8h1a4 4 0 1 1 0 8h-1",key:"jx4kbh"}],["path",{d:"M3 8h14v9a4 4 0 0 1-4 4H7a4 4 0 0 1-4-4Z",key:"1bxrl0"}],["line",{x1:"6",x2:"6",y1:"2",y2:"4",key:"1cr9l3"}],["line",{x1:"10",x2:"10",y1:"2",y2:"4",key:"170wym"}],["line",{x1:"14",x2:"14",y1:"2",y2:"4",key:"1c5f70"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jre=be("Command",[["path",{d:"M15 6v12a3 3 0 1 0 3-3H6a3 3 0 1 0 3 3V6a3 3 0 1 0-3 3h12a3 3 0 1 0-3-3",key:"11bfej"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zre=be("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Aj=be("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rh=be("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gO=be("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const mm=be("FileText",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["line",{x1:"16",x2:"8",y1:"13",y2:"13",key:"14keom"}],["line",{x1:"16",x2:"8",y1:"17",y2:"17",key:"17nazh"}],["line",{x1:"10",x2:"8",y1:"9",y2:"9",key:"1a5vjj"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Fj=be("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ene=be("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XI=be("GitBranch",[["line",{x1:"6",x2:"6",y1:"3",y2:"15",key:"17qcm7"}],["circle",{cx:"18",cy:"6",r:"3",key:"1h7g24"}],["circle",{cx:"6",cy:"18",r:"3",key:"fqmcym"}],["path",{d:"M18 9a9 9 0 0 1-9 9",key:"n2h4wq"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zf=be("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tne=be("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rne=be("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yK=be("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bK=be("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Po=be("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nne=be("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const yO=be("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ine=be("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sne=be("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xK=be("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ane=be("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=be("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bO=be("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vt=be("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const one=be("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wK=be("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xa=be("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Io=be("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _K=be("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SK=be("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lne=be("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const EK=be("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NK=be("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bu=be("Square",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const xu=be("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jK=be("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ln=be("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ep=be("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ro=be("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const une=be("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=be("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Di=be("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CK=be("Utensils",[["path",{d:"M3 2v7c0 1.1.9 2 2 2h4a2 2 0 0 0 2-2V2",key:"cjf0a3"}],["path",{d:"M7 2v20",key:"1473qp"}],["path",{d:"M21 15V2v0a5 5 0 0 0-5 5v6c0 1.1.9 2 2 2h3Zm0 0v7",key:"1ogz0v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JI=be("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mr=be("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cne=be("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dne=be("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),wu="Caelis";function mn(t){T.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||wu;document.title=`${t} - ${r}`}},[t])}function hne(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function OK(t=null){const e=_s();T.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=hne(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New person":s.endsWith("/edit")?r="Edit person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Organizations":s==="/companies/new"?r="New organization":s.endsWith("/edit")?r="Edit organization":a?r="Organization":r="Organizations":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Events":s==="/dates/new"?r="New date":s.endsWith("/edit")?r="Edit date":r="Events":s.startsWith("/settings")?r="Settings":r=wu}const n=((i=window.prmConfig)==null?void 0:i.siteName)||wu;document.title=`${r} - ${n}`},[e.pathname,t])}function fne(){return Ze({queryKey:["dashboard"],queryFn:async()=>(await ke.getDashboard()).data})}function pne(t=30){return Ze({queryKey:["reminders",t],queryFn:async()=>(await ke.getReminders(t)).data})}function TK(t=!1){return Ze({queryKey:["todos",t],queryFn:async()=>(await ke.getAllTodos(t)).data})}function PK(){const t=ut();return rt({mutationFn:({todoId:e,data:r})=>ke.updateTodo(e,r),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function mne(){const t=ut();return rt({mutationFn:e=>ke.deleteTodo(e),onSuccess:()=>{t.invalidateQueries({queryKey:["todos"]}),t.invalidateQueries({queryKey:["dashboard"]})}})}function vne(t){const e=typeof t=="string"?t:"",r=e.length>=2;return Ze({queryKey:["search",e],queryFn:async()=>r?(await ke.search(e)).data:{people:[],companies:[]},enabled:r})}function on(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Ft(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return on(e)}function mo(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return on(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return on(e)}function Qa(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const _t={all:["people"],lists:()=>[..._t.all,"list"],list:t=>[..._t.lists(),t],details:()=>[..._t.all,"detail"],detail:t=>[..._t.details(),t],timeline:t=>[..._t.detail(t),"timeline"],dates:t=>[..._t.detail(t),"dates"]};function IK(t){var i,s,a,o,u,c,d,h,f,p,m,y,x,g,v,w,b;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(c=(u=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:u[0])==null?void 0:c.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((x=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:x.map(_=>_.name))||[],n=on(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((w=t.acf)==null?void 0:w.last_name)||"",is_favorite:((b=t.acf)==null?void 0:b.is_favorite)||!1,thumbnail:e,labels:r}}function Vo(t={}){return Ze({queryKey:_t.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Ae.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(IK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function Au(t){return Ze({queryKey:_t.detail(t),queryFn:async()=>{const e=await Ae.getPerson(t,{_embed:!0});return IK(e.data)},enabled:!!t})}function gne(t){return Ze({queryKey:_t.timeline(t),queryFn:async()=>(await ke.getPersonTimeline(t)).data,enabled:!!t})}function yne(t){return Ze({queryKey:_t.dates(t),queryFn:async()=>(await ke.getPersonDates(t)).data,enabled:!!t})}function bne(){const t=ut();return rt({mutationFn:e=>Ae.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:_t.lists()})}})}function nh(){const t=ut();return rt({mutationFn:({id:e,data:r})=>Ae.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:_t.detail(r)}),t.invalidateQueries({queryKey:_t.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:_t.detail(o)})})}})}function xne(){const t=ut();return rt({mutationFn:e=>Ae.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:_t.lists()}),t.invalidateQueries({queryKey:_t.details()})}})}function wne(){const t=ut();return rt({mutationFn:({personId:e,content:r})=>ke.createNote(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function _ne(){const t=ut();return rt({mutationFn:({noteId:e,personId:r})=>ke.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function xO(){const t=ut();return rt({mutationFn:({personId:e,data:r})=>ke.createActivity(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function Sne(){const t=ut();return rt({mutationFn:({activityId:e,personId:r})=>ke.deleteActivity(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:_t.timeline(r)})}})}function RK(){const t=ut();return rt({mutationFn:({personId:e,data:r})=>ke.createTodo(e,r),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:_t.timeline(r)})}})}function Ene(){const t=ut();return rt({mutationFn:({todoId:e,data:r,personId:n})=>ke.updateTodo(e,r),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:_t.timeline(r)})}})}function Nne(){const t=ut();return rt({mutationFn:({todoId:e,personId:r})=>ke.deleteTodo(e),onSuccess:(e,{personId:r})=>{r&&t.invalidateQueries({queryKey:_t.timeline(r)})}})}function jne(){const t=ut();return rt({mutationFn:({dateId:e,personId:r})=>Ae.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:_t.dates(r)}),t.invalidateQueries({queryKey:_t.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function $K({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(""),[u,c]=T.useState(!1),[d,h]=T.useState(""),{data:f=[],isLoading:p}=Vo(),m=RK(),y=ut(),x=T.useMemo(()=>{const S=d.toLowerCase().trim();let N=f;return S&&(N=f.filter(E=>{var C,O,I;return((C=E.name)==null?void 0:C.toLowerCase().includes(S))||((O=E.first_name)==null?void 0:O.toLowerCase().includes(S))||((I=E.last_name)==null?void 0:I.toLowerCase().includes(S))})),[...N].sort((E,C)=>(E.name||"").localeCompare(C.name||""))},[f,d]),g=T.useMemo(()=>f.find(S=>S.id===parseInt(a)),[f,a]),v=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{t&&(n(""),s(v()),o(""),h(""),c(!1))},[t]),!t)return null;const w=async S=>{if(S.preventDefault(),!(!r.trim()||!a))try{await m.mutateAsync({personId:parseInt(a),data:{content:r.trim(),due_date:i||null,is_completed:!1}}),y.invalidateQueries({queryKey:["todos"]}),e()}catch(N){console.error("Failed to create todo:",N)}},b=()=>{e()},_=S=>{if(!S)return"";try{return new Date(S).toISOString().split("T")[0]}catch{return""}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add todo"}),l.jsx("button",{onClick:b,className:"text-gray-400 hover:text-gray-600",disabled:m.isPending,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:w,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:["Person ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsxs("div",{className:"relative",children:[l.jsxs("button",{type:"button",onClick:()=>c(!u),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:m.isPending,children:[g?l.jsxs("div",{className:"flex items-center gap-2",children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-6 h-6 rounded-full object-cover"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(wa,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-gray-900",children:g.name})]}):l.jsx("span",{className:"text-gray-400",children:"Select a person..."}),l.jsx(Sp,{className:`w-4 h-4 text-gray-400 transition-transform ${u?"rotate-180":""}`})]}),u&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(Io,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:d,onChange:S=>h(S.target.value),placeholder:"Search people...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsx("div",{className:"overflow-y-auto max-h-48",children:p?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):x.length>0?x.map(S=>l.jsxs("button",{type:"button",onClick:()=>{o(String(S.id)),c(!1),h("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${a===String(S.id)?"bg-primary-50":""}`,children:[S.thumbnail?l.jsx("img",{src:S.thumbnail,alt:S.name,className:"w-6 h-6 rounded-full object-cover"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(wa,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-900 truncate",children:S.name})]},S.id)):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No people found"})})]})]})]}),l.jsxs("div",{className:"mb-4",children:[l.jsxs("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:["Description ",l.jsx("span",{className:"text-red-500",children:"*"})]}),l.jsx("textarea",{id:"todo-content",value:r,onChange:S=>n(S.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:m.isPending})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),l.jsx("input",{id:"todo-due-date",type:"date",value:_(i),onChange:S=>s(S.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:m.isPending})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:b,className:"btn-secondary",disabled:m.isPending,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:m.isPending||!r.trim()||!a,children:m.isPending?"Adding...":"Add todo"})]})]})]})})}const Cne=[{name:"Dashboard",href:"/",icon:rne},{name:"People",href:"/people",icon:Di},{name:"Organizations",href:"/companies",icon:ur},{name:"Dates",href:"/dates",icon:da},{name:"Todos",href:"/todos",icon:ki},{name:"Settings",href:"/settings",icon:_K}];function ZI({mobile:t=!1,onClose:e}){const{logoutUrl:r}=hO();return l.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[l.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[l.jsxs(ce,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[l.jsx(EK,{className:"w-5 h-5"}),wu]}),t&&l.jsx("button",{onClick:e,className:"p-2 -mr-2",children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:Cne.map(n=>l.jsxs(Aee,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[l.jsx(n.icon,{className:"w-5 h-5 mr-3"}),n.name]},n.name))}),l.jsx("div",{className:"p-4 border-t border-gray-200",children:l.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(nne,{className:"w-5 h-5 mr-3"}),"Log Out"]})})]})}function One(){var a;const[t,e]=T.useState(!1),r=T.useRef(null),{data:n,isLoading:i}=Ze({queryKey:["current-user"],queryFn:async()=>(await ke.getCurrentUser()).data});if(T.useEffect(()=>{const o=u=>{r.current&&!r.current.contains(u.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return l.jsx("div",{className:"flex items-center ml-auto",children:l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return l.jsxs("div",{className:"relative ml-auto",ref:r,children:[l.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?l.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),l.jsx(Sp,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[l.jsx(wa,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&l.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[l.jsx(_K,{className:"w-4 h-4 mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function Tne({isOpen:t,onClose:e}){const[r,n]=T.useState(""),[i,s]=T.useState(0),a=Qr(),o=T.useRef(null),u=r.trim(),{data:c,isLoading:d}=vne(u),h=c||{people:[],companies:[]},f=[...(h.people||[]).map(g=>({...g,type:"person"})),...(h.companies||[]).map(g=>({...g,type:"company"}))],p=f.length>0,m=r.trim().length>=2;T.useEffect(()=>{t&&(n(""),s(0),setTimeout(()=>{var g;return(g=o.current)==null?void 0:g.focus()},50))},[t]),T.useEffect(()=>{s(0)},[c]);const y=g=>{if(g.key==="Escape"){e();return}if(!(!m||!p)){if(g.key==="ArrowDown")g.preventDefault(),s(v=>Math.min(v+1,f.length-1));else if(g.key==="ArrowUp")g.preventDefault(),s(v=>Math.max(v-1,0));else if(g.key==="Enter"){g.preventDefault();const v=f[i];v&&x(v.type,v.id)}}},x=(g,v)=>{e(),g==="person"?a(`/people/${v}`):g==="company"&&a(`/companies/${v}`)};return t?l.jsxs("div",{className:"fixed inset-0 z-50 overflow-y-auto",children:[l.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm",onClick:e}),l.jsx("div",{className:"relative min-h-screen flex items-start justify-center pt-[15vh] px-4",children:l.jsxs("div",{className:"relative w-full max-w-xl bg-white rounded-xl shadow-2xl overflow-hidden",children:[l.jsxs("div",{className:"flex items-center px-4 border-b border-gray-200",children:[l.jsx(Io,{className:"w-5 h-5 text-gray-400 flex-shrink-0"}),l.jsx("input",{ref:o,type:"text",value:r,onChange:g=>n(g.target.value),onKeyDown:y,placeholder:"Search people & organizations...",className:"flex-1 px-4 py-4 text-lg outline-none placeholder:text-gray-400",autoComplete:"off"}),l.jsxs("div",{className:"flex items-center gap-1 text-xs text-gray-400",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-gray-500 font-mono",children:"esc"}),l.jsx("span",{children:"to close"})]})]}),l.jsx("div",{className:"max-h-96 overflow-y-auto",children:m?d?l.jsxs("div",{className:"px-4 py-8 text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto"}),l.jsx("p",{className:"mt-3 text-sm text-gray-500",children:"Searching..."})]}):p?l.jsxs("div",{className:"py-2",children:[h.people&&h.people.length>0&&l.jsxs("div",{className:"px-2",children:[l.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"People"}),h.people.map((g,v)=>{const b=i===v;return l.jsxs("button",{onClick:()=>x("person",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded-full object-cover"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx(wa,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]}),h.companies&&h.companies.length>0&&l.jsxs("div",{className:"px-2 mt-2",children:[l.jsx("div",{className:"px-3 py-2 text-xs font-semibold text-gray-500 uppercase tracking-wide",children:"Organizations"}),h.companies.map((g,v)=>{var _;const w=(((_=h.people)==null?void 0:_.length)||0)+v,b=i===w;return l.jsxs("button",{onClick:()=>x("company",g.id),className:`w-full flex items-center gap-3 px-3 py-2.5 rounded-lg transition-colors text-left ${b?"bg-primary-50 text-primary-900":"hover:bg-gray-50"}`,children:[g.thumbnail?l.jsx("img",{src:g.thumbnail,alt:g.name,className:"w-8 h-8 rounded object-contain bg-white"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm font-medium flex-1 truncate",children:g.name}),b&&l.jsx("kbd",{className:"px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:""})]},g.id)})]})]}):l.jsx("div",{className:"px-4 py-8 text-center text-gray-500",children:l.jsxs("p",{className:"text-sm",children:['No results found for "',r,'"']})}):l.jsxs("div",{className:"px-4 py-8 text-center text-gray-500",children:[l.jsx(Io,{className:"w-12 h-12 mx-auto mb-3 text-gray-300"}),l.jsx("p",{className:"text-sm",children:"Type at least 2 characters to search"})]})}),l.jsx("div",{className:"px-4 py-3 bg-gray-50 border-t border-gray-200 flex items-center justify-between text-xs text-gray-500",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("span",{children:"to navigate"})]}),l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("kbd",{className:"px-1.5 py-0.5 bg-white border border-gray-200 rounded font-mono",children:""}),l.jsx("span",{children:"to select"})]})]})})]})})]}):null}function Pne({onAddTodo:t}){const[e,r]=T.useState(!1),n=T.useRef(null),i=Qr();T.useEffect(()=>{const o=u=>{n.current&&!n.current.contains(u.target)&&r(!1)};if(e)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[e]);const s=o=>{r(!1),i(o)},a=()=>{r(!1),t()};return l.jsxs("div",{className:"relative",ref:n,children:[l.jsx("button",{onClick:()=>r(!e),className:"flex items-center justify-center w-9 h-9 rounded-lg bg-primary-600 hover:bg-primary-700 text-white transition-colors","aria-label":"Quick add",title:"Quick add",children:l.jsx(Vt,{className:"w-5 h-5"})}),e&&l.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"py-1",children:[l.jsxs("button",{onClick:()=>s("/people/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(wa,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Person"]}),l.jsxs("button",{onClick:()=>s("/companies/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(ur,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Organization"]}),l.jsxs("button",{onClick:a,className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(ki,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Todo"]}),l.jsxs("button",{onClick:()=>s("/dates/new"),className:"w-full flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors text-left",children:[l.jsx(da,{className:"w-4 h-4 mr-3 text-gray-400"}),"New Date"]})]})})]})}function Ine({onMenuClick:t,onAddTodo:e,onOpenSearch:r}){const n=_s(),i=()=>{const s=n.pathname;return s==="/"?"Dashboard":s.startsWith("/people")?"People":s.startsWith("/companies")?"Organizations":s.startsWith("/dates")?"Important Dates":s.startsWith("/todos")?"Todos":s.startsWith("/settings")?"Settings":""};return l.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[l.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:l.jsx(sne,{className:"w-5 h-5"})}),l.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:i()}),l.jsx("div",{className:"flex-1"}),l.jsxs("button",{onClick:r,className:"flex items-center gap-2 px-3 py-1.5 rounded-lg border border-gray-200 hover:bg-gray-50 text-gray-500 transition-colors","aria-label":"Search",title:"Search (K)",children:[l.jsx(Io,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden sm:inline text-sm",children:"Search..."}),l.jsxs("kbd",{className:"hidden sm:flex items-center gap-0.5 px-1.5 py-0.5 bg-gray-100 rounded text-xs text-gray-500 font-mono",children:[l.jsx(Jre,{className:"w-3 h-3"}),"K"]})]}),l.jsx("div",{className:"ml-2",children:l.jsx(Pne,{onAddTodo:e})}),l.jsx("div",{className:"ml-2",children:l.jsx(One,{})})]})}function Rne({children:t}){const[e,r]=T.useState(!1),[n,i]=T.useState(!1),[s,a]=T.useState(!1);return OK(),T.useEffect(()=>{const o=u=>{(u.metaKey||u.ctrlKey)&&u.key==="k"&&(u.preventDefault(),a(!0))};return document.addEventListener("keydown",o),()=>document.removeEventListener("keydown",o)},[]),l.jsxs("div",{className:"flex h-screen bg-gray-50",children:[l.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:l.jsx(ZI,{})}),e&&l.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[l.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),l.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:l.jsx(ZI,{mobile:!0,onClose:()=>r(!1)})})]}),l.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[l.jsx(Ine,{onMenuClick:()=>r(!0),onAddTodo:()=>i(!0),onOpenSearch:()=>a(!0)}),l.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]}),l.jsx(Tne,{isOpen:s,onClose:()=>a(!1)}),l.jsx($K,{isOpen:n,onClose:()=>i(!1)})]})}function Je(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function ys(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}function $ne(t,e){const r=Je(t);return isNaN(e)?ys(t,NaN):(e&&r.setDate(r.getDate()+e),r)}const kK=6048e5,kne=864e5,DK=6e4,MK=36e5,pf=43200,eR=1440;let Dne={};function ih(){return Dne}function $o(t,e){var o,u,c,d;const r=ih(),n=(e==null?void 0:e.weekStartsOn)??((u=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:u.weekStartsOn)??r.weekStartsOn??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.weekStartsOn)??0,i=Je(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Np(t){return $o(t,{weekStartsOn:1})}function qK(t){const e=Je(t),r=e.getFullYear(),n=ys(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Np(n),s=ys(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Np(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function jp(t){const e=Je(t);return e.setHours(0,0,0,0),e}function Cp(t){const e=Je(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Mne(t,e){const r=jp(t),n=jp(e),i=+r-Cp(r),s=+n-Cp(n);return Math.round((i-s)/kne)}function qne(t){const e=qK(t),r=ys(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Np(r)}function Ul(t,e){const r=Je(t),n=Je(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function vm(t){return ys(t,Date.now())}function AK(t,e){const r=jp(t),n=jp(e);return+r==+n}function Ane(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Fne(t){if(!Ane(t)&&typeof t!="number")return!1;const e=Je(t);return!isNaN(Number(e))}function Lne(t,e){const r=Je(t),n=Je(e),i=r.getFullYear()-n.getFullYear(),s=r.getMonth()-n.getMonth();return i*12+s}function Bne(t,e){const r=Je(t),n=Je(e);return r.getFullYear()-n.getFullYear()}function zne(t){return e=>{const n=(t?Math[t]:Math.trunc)(e);return n===0?0:n}}function Une(t,e){return+Je(t)-+Je(e)}function Wne(t){const e=Je(t);return e.setHours(23,59,59,999),e}function Vne(t){const e=Je(t),r=e.getMonth();return e.setFullYear(e.getFullYear(),r+1,0),e.setHours(23,59,59,999),e}function Hne(t){const e=Je(t);return+Wne(e)==+Vne(e)}function Kne(t,e){const r=Je(t),n=Je(e),i=Ul(r,n),s=Math.abs(Lne(r,n));let a;if(s<1)a=0;else{r.getMonth()===1&&r.getDate()>27&&r.setDate(30),r.setMonth(r.getMonth()-i*s);let o=Ul(r,n)===-i;Hne(Je(t))&&s===1&&Ul(t,n)===1&&(o=!1),a=i*(s-Number(o))}return a===0?0:a}function Gne(t,e,r){const n=Une(t,e)/1e3;return zne(r==null?void 0:r.roundingMethod)(n)}function Dv(t,e){const r=Je(t),n=Je(e),i=Ul(r,n),s=Math.abs(Bne(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=Ul(r,n)===-i,o=i*(s-+a);return o===0?0:o}function Yne(t){const e=Je(t),r=ys(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Qne={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Xne=(t,e,r)=>{let n;const i=Qne[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Mv(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Jne={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Zne={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},eie={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},tie={date:Mv({formats:Jne,defaultWidth:"full"}),time:Mv({formats:Zne,defaultWidth:"full"}),dateTime:Mv({formats:eie,defaultWidth:"full"})},rie={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},nie=(t,e,r,n)=>rie[t];function jc(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const iie={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},sie={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},aie={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},oie={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},lie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},uie={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},cie=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},die={ordinalNumber:cie,era:jc({values:iie,defaultWidth:"wide"}),quarter:jc({values:sie,defaultWidth:"wide",argumentCallback:t=>t-1}),month:jc({values:aie,defaultWidth:"wide"}),day:jc({values:oie,defaultWidth:"wide"}),dayPeriod:jc({values:lie,defaultWidth:"wide",formattingValues:uie,defaultFormattingWidth:"wide"})};function Cc(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],u=Array.isArray(o)?fie(o,h=>h.test(a)):hie(o,h=>h.test(a));let c;c=t.valueCallback?t.valueCallback(u):u,c=r.valueCallback?r.valueCallback(c):c;const d=e.slice(a.length);return{value:c,rest:d}}}function hie(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function fie(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function pie(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const mie=/^(\d+)(th|st|nd|rd)?/i,vie=/\d+/i,gie={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},yie={any:[/^b/i,/^(a|c)/i]},bie={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},xie={any:[/1/i,/2/i,/3/i,/4/i]},wie={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},_ie={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},Sie={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},Eie={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},Nie={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},jie={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},Cie={ordinalNumber:pie({matchPattern:mie,parsePattern:vie,valueCallback:t=>parseInt(t,10)}),era:Cc({matchPatterns:gie,defaultMatchWidth:"wide",parsePatterns:yie,defaultParseWidth:"any"}),quarter:Cc({matchPatterns:bie,defaultMatchWidth:"wide",parsePatterns:xie,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Cc({matchPatterns:wie,defaultMatchWidth:"wide",parsePatterns:_ie,defaultParseWidth:"any"}),day:Cc({matchPatterns:Sie,defaultMatchWidth:"wide",parsePatterns:Eie,defaultParseWidth:"any"}),dayPeriod:Cc({matchPatterns:Nie,defaultMatchWidth:"any",parsePatterns:jie,defaultParseWidth:"any"})},FK={code:"en-US",formatDistance:Xne,formatLong:tie,formatRelative:nie,localize:die,match:Cie,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Oie(t){const e=Je(t);return Mne(e,Yne(e))+1}function Tie(t){const e=Je(t),r=+Np(e)-+qne(e);return Math.round(r/kK)+1}function LK(t,e){var d,h,f,p;const r=Je(t),n=r.getFullYear(),i=ih(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=ys(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=$o(a,e),u=ys(t,0);u.setFullYear(n,0,s),u.setHours(0,0,0,0);const c=$o(u,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=c.getTime()?n:n-1}function Pie(t,e){var o,u,c,d;const r=ih(),n=(e==null?void 0:e.firstWeekContainsDate)??((u=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:u.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(c=r.locale)==null?void 0:c.options)==null?void 0:d.firstWeekContainsDate)??1,i=LK(t,e),s=ys(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),$o(s,e)}function Iie(t,e){const r=Je(t),n=+$o(r,e)-+Pie(r,e);return Math.round(n/kK)+1}function at(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const Is={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return at(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):at(r+1,2)},d(t,e){return at(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return at(t.getHours()%12||12,e.length)},H(t,e){return at(t.getHours(),e.length)},m(t,e){return at(t.getMinutes(),e.length)},s(t,e){return at(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return at(i,e.length)}},fl={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},tR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return Is.y(t,e)},Y:function(t,e,r,n){const i=LK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return at(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):at(s,e.length)},R:function(t,e){const r=qK(t);return at(r,e.length)},u:function(t,e){const r=t.getFullYear();return at(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return at(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return at(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return Is.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return at(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Iie(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):at(i,e.length)},I:function(t,e,r){const n=Tie(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):at(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):Is.d(t,e)},D:function(t,e,r){const n=Oie(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):at(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return at(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return at(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return at(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=fl.noon:n===0?i=fl.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=fl.evening:n>=12?i=fl.afternoon:n>=4?i=fl.morning:i=fl.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return Is.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):Is.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):at(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):Is.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):Is.s(t,e)},S:function(t,e){return Is.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return nR(n);case"XXXX":case"XX":return Ua(n);case"XXXXX":case"XXX":default:return Ua(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return nR(n);case"xxxx":case"xx":return Ua(n);case"xxxxx":case"xxx":default:return Ua(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+rR(n,":");case"OOOO":default:return"GMT"+Ua(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+rR(n,":");case"zzzz":default:return"GMT"+Ua(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return at(n,e.length)},T:function(t,e,r){const n=t.getTime();return at(n,e.length)}};function rR(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+at(s,2)}function nR(t,e){return t%60===0?(t>0?"-":"+")+at(Math.abs(t)/60,2):Ua(t,e)}function Ua(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=at(Math.trunc(n/60),2),s=at(n%60,2);return r+i+e+s}const iR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},BK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Rie=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return iR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",iR(n,e)).replace("{{time}}",BK(i,e))},$ie={p:BK,P:Rie},kie=/^D+$/,Die=/^Y+$/,Mie=["D","DD","YY","YYYY"];function qie(t){return kie.test(t)}function Aie(t){return Die.test(t)}function Fie(t,e,r){const n=Lie(t,e,r);if(console.warn(n),Mie.includes(t))throw new RangeError(n)}function Lie(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const Bie=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,zie=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Uie=/^'([^]*?)'?$/,Wie=/''/g,Vie=/[a-zA-Z]/;function nn(t,e,r){var d,h,f,p;const n=ih(),i=n.locale??FK,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=Je(t);if(!Fne(o))throw new RangeError("Invalid time value");let u=e.match(zie).map(m=>{const y=m[0];if(y==="p"||y==="P"){const x=$ie[y];return x(m,i.formatLong)}return m}).join("").match(Bie).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:Hie(m)};if(tR[y])return{isToken:!0,value:m};if(y.match(Vie))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(u=i.localize.preprocessor(o,u));const c={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return u.map(m=>{if(!m.isToken)return m.value;const y=m.value;(Aie(y)||qie(y))&&Fie(y,e,String(t));const x=tR[y[0]];return x(o,y,i.localize,c)}).join("")}function Hie(t){const e=t.match(Uie);return e?e[1].replace(Wie,"'"):t}function Kie(t,e,r){const n=ih(),i=(r==null?void 0:r.locale)??n.locale??FK,s=2520,a=Ul(t,e);if(isNaN(a))throw new RangeError("Invalid time value");const o=Object.assign({},r,{addSuffix:r==null?void 0:r.addSuffix,comparison:a});let u,c;a>0?(u=Je(e),c=Je(t)):(u=Je(t),c=Je(e));const d=Gne(c,u),h=(Cp(c)-Cp(u))/1e3,f=Math.round((d-h)/60);let p;if(f<2)return r!=null&&r.includeSeconds?d<5?i.formatDistance("lessThanXSeconds",5,o):d<10?i.formatDistance("lessThanXSeconds",10,o):d<20?i.formatDistance("lessThanXSeconds",20,o):d<40?i.formatDistance("halfAMinute",0,o):d<60?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",1,o):f===0?i.formatDistance("lessThanXMinutes",1,o):i.formatDistance("xMinutes",f,o);if(f<45)return i.formatDistance("xMinutes",f,o);if(f<90)return i.formatDistance("aboutXHours",1,o);if(f<eR){const m=Math.round(f/60);return i.formatDistance("aboutXHours",m,o)}else{if(f<s)return i.formatDistance("xDays",1,o);if(f<pf){const m=Math.round(f/eR);return i.formatDistance("xDays",m,o)}else if(f<pf*2)return p=Math.round(f/pf),i.formatDistance("aboutXMonths",p,o)}if(p=Kne(c,u),p<12){const m=Math.round(f/pf);return i.formatDistance("xMonths",m,o)}else{const m=p%12,y=Math.trunc(p/12);return m<3?i.formatDistance("aboutXYears",y,o):m<9?i.formatDistance("overXYears",y,o):i.formatDistance("almostXYears",y+1,o)}}function Gie(t,e){return Kie(t,vm(t),e)}function Yie(t,e){const r=Je(t),n=Je(e);return r.getTime()>n.getTime()}function Qie(t,e,r){const n=$o(t,r),i=$o(e,r);return+n==+i}function Xie(t,e){return Qie(t,vm(t),e)}function zK(t){return AK(t,vm(t))}function UK(t,e){return $ne(t,-e)}function WK(t){return AK(t,UK(vm(t),1))}function jd(t,e){const n=tse(t);let i;if(n.date){const u=rse(n.date,2);i=nse(u.restDateString,u.year)}if(!i||isNaN(i.getTime()))return new Date(NaN);const s=i.getTime();let a=0,o;if(n.time&&(a=ise(n.time),isNaN(a)))return new Date(NaN);if(n.timezone){if(o=sse(n.timezone),isNaN(o))return new Date(NaN)}else{const u=new Date(s+a),c=new Date(0);return c.setFullYear(u.getUTCFullYear(),u.getUTCMonth(),u.getUTCDate()),c.setHours(u.getUTCHours(),u.getUTCMinutes(),u.getUTCSeconds(),u.getUTCMilliseconds()),c}return new Date(s+a+o)}const mf={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},Jie=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,Zie=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ese=/^([+-])(\d{2})(?::?(\d{2}))?$/;function tse(t){const e={},r=t.split(mf.dateTimeDelimiter);let n;if(r.length>2)return e;if(/:/.test(r[0])?n=r[0]:(e.date=r[0],n=r[1],mf.timeZoneDelimiter.test(e.date)&&(e.date=t.split(mf.timeZoneDelimiter)[0],n=t.substr(e.date.length,t.length))),n){const i=mf.timezone.exec(n);i?(e.time=n.replace(i[1],""),e.timezone=i[1]):e.time=n}return e}function rse(t,e){const r=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),n=t.match(r);if(!n)return{year:NaN,restDateString:""};const i=n[1]?parseInt(n[1]):null,s=n[2]?parseInt(n[2]):null;return{year:s===null?i:s*100,restDateString:t.slice((n[1]||n[2]).length)}}function nse(t,e){if(e===null)return new Date(NaN);const r=t.match(Jie);if(!r)return new Date(NaN);const n=!!r[4],i=Oc(r[1]),s=Oc(r[2])-1,a=Oc(r[3]),o=Oc(r[4]),u=Oc(r[5])-1;if(n)return cse(e,o,u)?ase(e,o,u):new Date(NaN);{const c=new Date(0);return!lse(e,s,a)||!use(e,i)?new Date(NaN):(c.setUTCFullYear(e,s,Math.max(i,a)),c)}}function Oc(t){return t?parseInt(t):1}function ise(t){const e=t.match(Zie);if(!e)return NaN;const r=qv(e[1]),n=qv(e[2]),i=qv(e[3]);return dse(r,n,i)?r*MK+n*DK+i*1e3:NaN}function qv(t){return t&&parseFloat(t.replace(",","."))||0}function sse(t){if(t==="Z")return 0;const e=t.match(ese);if(!e)return 0;const r=e[1]==="+"?-1:1,n=parseInt(e[2]),i=e[3]&&parseInt(e[3])||0;return hse(n,i)?r*(n*MK+i*DK):NaN}function ase(t,e,r){const n=new Date(0);n.setUTCFullYear(t,0,4);const i=n.getUTCDay()||7,s=(e-1)*7+r+1-i;return n.setUTCDate(n.getUTCDate()+s),n}const ose=[31,null,31,30,31,30,31,31,30,31,30,31];function VK(t){return t%400===0||t%4===0&&t%100!==0}function lse(t,e,r){return e>=0&&e<=11&&r>=1&&r<=(ose[e]||(VK(t)?29:28))}function use(t,e){return e>=1&&e<=(VK(t)?366:365)}function cse(t,e,r){return e>=1&&e<=53&&r>=0&&r<=6}function dse(t,e,r){return t===24?e===0&&r===0:r>=0&&r<60&&e>=0&&e<60&&t>=0&&t<25}function hse(t,e){return e>=0&&e<=59}function fse(t){if(!t||t.length===0)return{todos:[],today:[],yesterday:[],thisWeek:[],older:[]};const e={todos:[],today:[],yesterday:[],thisWeek:[],older:[]};return t.forEach(r=>{if(r.type==="todo"){e.todos.push(r);return}const n=jd(r.created),i=r.activity_date?jd(r.activity_date):n;zK(i)?e.today.push(r):WK(i)?e.yesterday.push(r):Xie(i)?e.thisWeek.push(r):e.older.push(r)}),e.todos.sort((r,n)=>{if(r.is_completed&&!n.is_completed)return 1;if(!r.is_completed&&n.is_completed)return-1;if(!r.is_completed&&!n.is_completed){if(r.due_date&&n.due_date)return new Date(r.due_date)-new Date(n.due_date);if(r.due_date&&!n.due_date)return-1;if(!r.due_date&&n.due_date)return 1}return new Date(n.created)-new Date(r.created)}),e}function pse(t){if(!t)return"";try{const e=jd(t),r=Gie(e,{addSuffix:!0});return zK(e)?r:WK(e)?"Yesterday":nn(e,"MMM d, yyyy")}catch{return t}}function mse(t){return{call:"Phone",email:"Mail",chat:"MessageCircle",meeting:"Users",coffee:"Coffee",lunch:"Utensils",note:"FileText"}[t]||"Circle"}function vse(t){return{call:"Phone call",email:"Email",chat:"Chat",meeting:"Meeting",coffee:"Coffee",lunch:"Lunch",note:"Note"}[t]||t||"Activity"}function sh(t){if(!t.due_date||t.is_completed)return!1;try{const e=jd(t.due_date),r=new Date;return r.setHours(0,0,0,0),e.setHours(0,0,0,0),e<r}catch{return!1}}function gse(t){const e=[];return t.is_completed?e.push("opacity-60","line-through"):sh(t)&&e.push("text-red-600","font-medium"),e.join(" ")}function wO({isOpen:t,onClose:e,todo:r,onComplete:n,onCompleteAsActivity:i}){return!t||!r?null:l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Complete todo"}),l.jsx("button",{onClick:e,className:"text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("div",{className:"p-4",children:[l.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:['"',r.content,'"']}),l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"How would you like to complete this todo?"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs("button",{onClick:n,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 rounded-lg hover:border-primary-300 hover:bg-primary-50 transition-colors text-left",children:[l.jsx(ki,{className:"w-5 h-5 text-primary-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Just complete"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Mark the todo as done"})]})]}),l.jsxs("button",{onClick:i,className:"w-full flex items-center justify-center gap-2 px-4 py-3 border-2 border-gray-200 rounded-lg hover:border-blue-300 hover:bg-blue-50 transition-colors text-left",children:[l.jsx(mm,{className:"w-5 h-5 text-blue-600 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium text-gray-900",children:"Complete & log activity"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Record this as an activity on the timeline"})]})]})]})]}),l.jsx("div",{className:"flex justify-end p-4 border-t bg-gray-50 rounded-b-lg",children:l.jsx("button",{type:"button",onClick:e,className:"btn-secondary",children:"Cancel"})})]})})}const Av=[{id:"call",label:"Phone call",icon:bO},{id:"email",label:"Email",icon:yO},{id:"chat",label:"Chat",icon:xK},{id:"meeting",label:"Meeting",icon:Di},{id:"coffee",label:"Coffee",icon:gK},{id:"lunch",label:"Lunch",icon:CK},{id:"note",label:"Other",icon:mm}];function _O({isOpen:t,onClose:e,onSubmit:r,isLoading:n,personId:i,initialData:s=null}){const[a,o]=T.useState("call"),[u,c]=T.useState(""),[d,h]=T.useState(""),[f,p]=T.useState([]),[m,y]=T.useState(!1),[x,g]=T.useState(""),{data:v}=Vo();if(T.useEffect(()=>{if(t){const j=new Date().toISOString().split("T")[0];s?(c(s.activity_date||j),h(s.content||""),p(s.participants||[]),o(s.activity_type||"note")):(c(j),h(""),p([]),o("call"))}},[t,s]),!t)return null;const w=(v||[]).filter(j=>j.id.toString()!==(i==null?void 0:i.toString())),b=w.filter(j=>{var P;return(P=j.name)==null?void 0:P.toLowerCase().includes(x.toLowerCase())}),_=j=>{j.preventDefault(),d.trim()&&(r({activity_type:a,activity_date:u||null,content:d.trim(),participants:f}),h(""),p([]),c(new Date().toISOString().split("T")[0]))},S=()=>{h(""),p([]),c(""),y(!1),g(""),e()},N=j=>{p(P=>P.includes(j)?P.filter(D=>D!==j):[...P,j])},E=j=>{p(P=>P.filter(D=>D!==j))},C=()=>w.filter(j=>f.includes(j.id)),O=j=>{if(!j)return"";try{return new Date(j).toISOString().split("T")[0]}catch{return""}};return(Av.find(j=>j.id===a)||Av[0]).icon,l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4 max-h-[90vh] overflow-y-auto",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b sticky top-0 bg-white z-10",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add activity"}),l.jsx("button",{onClick:S,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:_,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Activity type"}),l.jsx("div",{className:"grid grid-cols-3 gap-2",children:Av.map(j=>{const P=j.icon,D=a===j.id;return l.jsxs("button",{type:"button",onClick:()=>o(j.id),className:`flex flex-col items-center justify-center p-3 border-2 rounded-lg transition-colors ${D?"border-primary-600 bg-primary-50 text-primary-700":"border-gray-200 hover:border-gray-300 text-gray-700"}`,disabled:n,children:[l.jsx(P,{className:"w-5 h-5 mb-1"}),l.jsx("span",{className:"text-xs",children:j.label})]},j.id)})})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"activity-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Date"}),l.jsx("input",{id:"activity-date",type:"date",value:O(u),onChange:j=>c(j.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"activity-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"activity-content",value:d,onChange:j=>h(j.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What happened?",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{className:"block text-sm font-medium text-gray-700 mb-2",children:"Participants (optional)"}),C().length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:C().map(j=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-700 rounded-full text-sm",children:[j.name,l.jsx("button",{type:"button",onClick:()=>E(j.id),className:"hover:text-primary-900",disabled:n,children:l.jsx(Mr,{className:"w-3 h-3"})})]},j.id))}),l.jsxs("div",{className:"relative",children:[l.jsx("button",{type:"button",onClick:()=>y(!m),className:"w-full px-3 py-2 border border-gray-300 rounded-md text-left text-sm text-gray-500 hover:border-gray-400",disabled:n,children:f.length===0?"Add participants...":"Add more participants..."}),m&&l.jsxs("div",{className:"absolute z-20 w-full mt-1 bg-white border border-gray-300 rounded-md shadow-lg max-h-60 overflow-y-auto",children:[l.jsx("div",{className:"p-2 border-b",children:l.jsx("input",{type:"text",placeholder:"Search people...",value:x,onChange:j=>g(j.target.value),className:"w-full px-2 py-1 text-sm border border-gray-300 rounded",autoFocus:!0})}),l.jsx("div",{className:"max-h-48 overflow-y-auto",children:b.length===0?l.jsx("div",{className:"p-3 text-sm text-gray-500 text-center",children:"No people found"}):b.map(j=>{var D;const P=f.includes(j.id);return l.jsxs("button",{type:"button",onClick:()=>N(j.id),className:`w-full px-3 py-2 text-left text-sm hover:bg-gray-50 flex items-center gap-2 ${P?"bg-primary-50":""}`,children:[l.jsx("input",{type:"checkbox",checked:P,onChange:()=>{},className:"mr-1"}),j.thumbnail?l.jsx("img",{src:j.thumbnail,alt:j.name,className:"w-6 h-6 rounded-full"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:((D=j.first_name)==null?void 0:D[0])||"?"})}),l.jsx("span",{children:j.name})]},j.id)})})]})]})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:S,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!d.trim(),children:n?"Adding...":"Add activity"})]})]})]})})}function Rs({title:t,value:e,icon:r,href:n}){return l.jsx(ce,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),l.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function sR({person:t,hideStar:e=!1}){var r,n;return l.jsxs(ce,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):l.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:((r=t.first_name)==null?void 0:r[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((n=t.labels)==null?void 0:n.length)>0&&l.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&!e&&l.jsx(xu,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function yse({reminder:t}){var o,u,c,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((u=(o=t.related_people)==null?void 0:o[0])==null?void 0:u.name)||t.title,i=(d=(c=t.related_people)==null?void 0:c[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=l.jsxs(l.Fragment,{children:[l.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),l.jsx("p",{className:"text-xs text-gray-500",children:nn(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&l.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?l.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):l.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:l.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?l.jsx(ce,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):l.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function bse({todo:t,onToggle:e}){var n;const r=sh(t);return l.jsxs(ce,{to:`/people/${t.person_id}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors group",children:[l.jsx("button",{onClick:i=>{i.preventDefault(),i.stopPropagation(),e(t)},className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?l.jsx(ki,{className:"w-5 h-5 text-primary-600"}):l.jsx(bu,{className:`w-5 h-5 ${r?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm font-medium ${t.is_completed?"line-through text-gray-400":r?"text-red-600":"text-gray-900"}`,children:t.content}),l.jsxs("div",{className:"flex items-center gap-2 mt-1",children:[t.person_thumbnail?l.jsx("img",{src:t.person_thumbnail,alt:t.person_name,loading:"lazy",className:"w-5 h-5 rounded-full object-cover"}):l.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:(n=t.person_name)==null?void 0:n[0]})}),l.jsx("span",{className:"text-xs text-gray-500 truncate",children:t.person_name})]})]}),t.due_date&&l.jsxs("div",{className:`ml-3 text-xs text-right flex-shrink-0 ${r&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:[l.jsx("div",{children:nn(new Date(t.due_date),"MMM d")}),r&&!t.is_completed&&l.jsx("div",{className:"text-red-600",children:"overdue"})]})]})}function xse(){return l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:l.jsx(EK,{className:"w-12 h-12 text-primary-600"})})}),l.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",wu,"!"]}),l.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, organization, or important date. Your dashboard will populate as you add more information."}),l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[l.jsxs(ce,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[l.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),l.jsxs(ce,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[l.jsx(Vt,{className:"w-5 h-5 mr-2"}),"Add Your First Organization"]})]})]})}function wse(){var C,O,I;const{data:t,isLoading:e,error:r}=fne(),{data:n}=TK(!1),i=PK(),s=xO(),[a,o]=T.useState(null),[u,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState(null),m=j=>{if(!j.is_completed){o(j),c(!0);return}i.mutate({todoId:j.id,data:{content:j.content,due_date:j.due_date,is_completed:!1}})},y=()=>{a&&(i.mutate({todoId:a.id,data:{content:a.content,due_date:a.due_date,is_completed:!0}}),c(!1),o(null))},x=()=>{if(!a)return;const j=new Date().toISOString().split("T")[0];p({content:a.content,activity_date:j,activity_type:"note",participants:[]}),c(!1),h(!0)},g=async j=>{if(a)try{await s.mutateAsync({personId:a.person_id,data:j}),await i.mutateAsync({todoId:a.id,data:{content:a.content,due_date:a.due_date,is_completed:!0}}),h(!1),o(null),p(null)}catch(P){console.error("Failed to create activity:",P),alert("Failed to create activity. Please try again.")}};if(e)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const j=((C=r==null?void 0:r.response)==null?void 0:C.status)>=500||!(r!=null&&r.response);return l.jsx("div",{className:"card p-8 text-center",children:l.jsx("div",{className:"text-red-600 mb-2",children:j?l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):l.jsxs(l.Fragment,{children:[l.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),l.jsx("p",{className:"text-sm text-gray-600",children:((I=(O=r==null?void 0:r.response)==null?void 0:O.data)==null?void 0:I.message)||"An error occurred while loading your data."})]})})})}const{stats:v,recent_people:w,upcoming_reminders:b,favorites:_}=t||{};if(((v==null?void 0:v.total_people)||0)+((v==null?void 0:v.total_companies)||0)+((v==null?void 0:v.total_dates)||0)===0)return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Rs,{title:"Total people",value:0,icon:Di,href:"/people"}),l.jsx(Rs,{title:"Organizations",value:0,icon:ur,href:"/companies"}),l.jsx(Rs,{title:"Events",value:0,icon:da,href:"/dates"}),l.jsx(Rs,{title:"Open todos",value:0,icon:ki,href:"/todos"})]}),l.jsx(xse,{})]});const E=(n==null?void 0:n.slice(0,5))||[];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-4",children:[l.jsx(Rs,{title:"Total people",value:(v==null?void 0:v.total_people)||0,icon:Di,href:"/people"}),l.jsx(Rs,{title:"Organizations",value:(v==null?void 0:v.total_companies)||0,icon:ur,href:"/companies"}),l.jsx(Rs,{title:"Events",value:(v==null?void 0:v.total_dates)||0,icon:da,href:"/dates"}),l.jsx(Rs,{title:"Open todos",value:(v==null?void 0:v.open_todos_count)||0,icon:ki,href:"/todos"})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(da,{className:"w-5 h-5 mr-2 text-gray-500"}),"Upcoming reminders"]}),l.jsxs(ce,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all reminders",l.jsx(kv,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(b==null?void 0:b.length)>0?b.map(j=>l.jsx(yse,{reminder:j},j.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(ki,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos"]}),l.jsxs(ce,{to:"/todos",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all todos",l.jsx(kv,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:E.length>0?E.map(j=>l.jsx(bse,{todo:j,onToggle:m},j.id)):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No open todos"})})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(xu,{className:"w-5 h-5 mr-2 text-yellow-500 fill-current"}),"Favorites"]})}),(_==null?void 0:_.length)>0?l.jsx("div",{className:"divide-y divide-gray-100",children:_.slice(0,5).map(j=>l.jsx(sR,{person:j,hideStar:!0},j.id))}):l.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No favorites yet"})]}),l.jsxs("div",{className:"card",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2 text-gray-500"}),"Recently edited people"]}),l.jsxs(ce,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all people",l.jsx(kv,{className:"w-4 h-4 ml-1"})]})]}),l.jsx("div",{className:"divide-y divide-gray-100",children:(w==null?void 0:w.length)>0?w.map(j=>l.jsx(sR,{person:j},j.id)):l.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",l.jsx(ce,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),l.jsx(wO,{isOpen:u,onClose:()=>{c(!1),o(null)},todo:a,onComplete:y,onCompleteAsActivity:x}),l.jsx(_O,{isOpen:d,onClose:()=>{h(!1),o(null),p(null)},onSubmit:g,isLoading:s.isPending,personId:a==null?void 0:a.person_id,initialData:f})]})}function aR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function _se({person:t,companyName:e,isDeceased:r}){var n,i;return l.jsx(ce,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):l.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsxs("div",{className:"flex items-center",children:[l.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&l.jsx(xu,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&l.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&l.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>l.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Sse(){const[t,e]=T.useState(!1),[r,n]=T.useState(!1),[i,s]=T.useState([]),[a,o]=T.useState("first_name"),[u,c]=T.useState("asc"),d=T.useRef(null),h=T.useRef(null),{data:f,isLoading:p,error:m}=Vo(),{data:y}=Ze({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),x=(y==null?void 0:y.map(j=>j.name))||[];T.useEffect(()=>{const j=P=>{h.current&&!h.current.contains(P.target)&&d.current&&!d.current.contains(P.target)&&e(!1)};return document.addEventListener("mousedown",j),()=>{document.removeEventListener("mousedown",j)}},[]);const g=T.useMemo(()=>{if(!f)return[];let j=[...f];return r&&(j=j.filter(P=>P.is_favorite)),i.length>0&&(j=j.filter(P=>{const D=P.labels||[];return i.some(M=>D.includes(M))})),j.sort((P,D)=>{var A,H,B,V,G,fe,me,$e;let M,z;if(a==="first_name"?(M=(((A=P.acf)==null?void 0:A.first_name)||P.first_name||"").toLowerCase(),z=(((H=D.acf)==null?void 0:H.first_name)||D.first_name||"").toLowerCase()):(M=(((B=P.acf)==null?void 0:B.last_name)||P.last_name||"").toLowerCase(),z=(((V=D.acf)==null?void 0:V.last_name)||D.last_name||"").toLowerCase()),M===z){const xe=a==="first_name"?(((G=P.acf)==null?void 0:G.last_name)||P.last_name||"").toLowerCase():(((fe=P.acf)==null?void 0:fe.first_name)||P.first_name||"").toLowerCase(),je=a==="first_name"?(((me=D.acf)==null?void 0:me.last_name)||D.last_name||"").toLowerCase():((($e=D.acf)==null?void 0:$e.first_name)||D.first_name||"").toLowerCase(),Fe=xe.localeCompare(je);return u==="asc"?Fe:-Fe}const W=M.localeCompare(z);return u==="asc"?W:-W})},[f,r,i,a,u]),v=r||i.length>0,w=j=>{s(P=>P.includes(j)?P.filter(D=>D!==j):[...P,j])},b=()=>{n(!1),s([])},_=T.useMemo(()=>{if(!g)return[];const j=g.map(P=>aR(P)).filter(Boolean);return[...new Set(j)]},[g]),{data:S}=Ze({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Ae.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),N=T.useMemo(()=>{const j={};return S&&S.forEach(P=>{j[P.id]=Ft(P)}),j},[S]),E=T.useMemo(()=>{const j={};return g.forEach(P=>{const D=aR(P);D&&N[D]&&(j[P.id]=N[D])}),j},[g,N]),C=T.useMemo(()=>g.map(j=>j.id).filter(Boolean),[g]),O=wp({queries:C.map(j=>({queryKey:["person-dates",j],queryFn:async()=>(await ke.getPersonDates(j)).data,enabled:!!j}))}),I=T.useMemo(()=>{const j={};return O.forEach((P,D)=>{if(P.data&&C[D]){const M=C[D],z=P.data.some(W=>{const A=Array.isArray(W.date_type)?W.date_type[0]:W.date_type;return(A==null?void 0:A.toLowerCase())==="died"});j[M]=z}}),j},[O,C]);return l.jsxs("div",{className:"space-y-4",children:[l.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:l.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[l.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[l.jsxs("select",{value:a,onChange:j=>o(j.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[l.jsx("option",{value:"first_name",children:"First name"}),l.jsx("option",{value:"last_name",children:"Last name"})]}),l.jsx("div",{className:"h-4 w-px bg-gray-300"}),l.jsx("button",{onClick:()=>c(u==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${u==="asc"?"descending":"ascending"}`,children:u==="asc"?l.jsx(Qre,{className:"w-4 h-4 text-gray-600"}):l.jsx(Yre,{className:"w-4 h-4 text-gray-600"})})]}),l.jsxs("div",{className:"relative",ref:d,children:[l.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[l.jsx(Fj,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&l.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&l.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:l.jsxs("div",{className:"p-4 space-y-4",children:[l.jsx("div",{children:l.jsxs("label",{className:"flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:r,onChange:j=>n(j.target.checked),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&l.jsx(QI,{className:"w-3 h-3 text-white"})}),l.jsxs("div",{className:"flex items-center",children:[l.jsx(xu,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),l.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),x.length>0&&l.jsxs("div",{children:[l.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),l.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:x.map(j=>l.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[l.jsx("input",{type:"checkbox",checked:i.includes(j),onChange:()=>w(j),className:"sr-only"}),l.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(j)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(j)&&l.jsx(QI,{className:"w-3 h-3 text-white"})}),l.jsx("span",{className:"text-sm text-gray-700",children:j})]},j))})]}),v&&l.jsx("button",{onClick:b,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&l.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[l.jsx(xu,{className:"w-3 h-3"}),"Favorites",l.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:l.jsx(Mr,{className:"w-3 h-3"})})]}),i.map(j=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[j,l.jsx("button",{onClick:()=>w(j),className:"hover:text-gray-600",children:l.jsx(Mr,{className:"w-3 h-3"})})]},j))]}),l.jsxs(ce,{to:"/people/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]})}),p&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Vt,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),l.jsxs(ce,{to:"/people/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(j=>l.jsx(_se,{person:j,companyName:E[j.id],isDeceased:I[j.id]||!1},j.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(Fj,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),l.jsx("button",{onClick:b,className:"btn-secondary",children:"Clear filters"})]})]})}const Ese="#0285FF",Nse=T.forwardRef(function({title:e="Bluesky",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Ese),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M12 10.8c-1.087-2.114-4.046-6.053-6.798-7.995C2.566.944 1.561 1.266.902 1.565.139 1.908 0 3.08 0 3.768c0 .69.378 5.65.624 6.479.815 2.736 3.713 3.66 6.383 3.364.136-.02.275-.039.415-.056-.138.022-.276.04-.415.056-3.912.58-7.387 2.005-2.83 7.078 5.013 5.19 6.87-1.113 7.823-4.308.953 3.195 2.05 9.271 7.733 4.308 4.267-4.308 1.172-6.498-2.74-7.078a8.741 8.741 0 0 1-.415-.056c.14.017.279.036.415.056 2.67.297 5.568-.628 6.383-3.364.246-.828.624-5.79.624-6.478 0-.69-.139-1.861-.902-2.206-.659-.298-1.664-.62-4.3 1.24C16.046 4.748 13.087 8.687 12 10.8Z"})]})}),jse="#0866FF",Cse=T.forwardRef(function({title:e="Facebook",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=jse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M9.101 23.691v-7.98H6.627v-3.667h2.474v-1.58c0-4.085 1.848-5.978 5.858-5.978.401 0 .955.042 1.468.103a8.68 8.68 0 0 1 1.141.195v3.325a8.623 8.623 0 0 0-.653-.036 26.805 26.805 0 0 0-.733-.009c-.707 0-1.259.096-1.675.309a1.686 1.686 0 0 0-.679.622c-.258.42-.374.995-.374 1.752v1.297h3.919l-.386 2.103-.287 1.564h-3.246v8.245C19.396 23.238 24 18.179 24 12.044c0-6.627-5.373-12-12-12s-12 5.373-12 12c0 5.628 3.874 10.35 9.101 11.647Z"})]})}),Ose="#FF0069",Tse=T.forwardRef(function({title:e="Instagram",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Ose),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M7.0301.084c-1.2768.0602-2.1487.264-2.911.5634-.7888.3075-1.4575.72-2.1228 1.3877-.6652.6677-1.075 1.3368-1.3802 2.127-.2954.7638-.4956 1.6365-.552 2.914-.0564 1.2775-.0689 1.6882-.0626 4.947.0062 3.2586.0206 3.6671.0825 4.9473.061 1.2765.264 2.1482.5635 2.9107.308.7889.72 1.4573 1.388 2.1228.6679.6655 1.3365 1.0743 2.1285 1.38.7632.295 1.6361.4961 2.9134.552 1.2773.056 1.6884.069 4.9462.0627 3.2578-.0062 3.668-.0207 4.9478-.0814 1.28-.0607 2.147-.2652 2.9098-.5633.7889-.3086 1.4578-.72 2.1228-1.3881.665-.6682 1.0745-1.3378 1.3795-2.1284.2957-.7632.4966-1.636.552-2.9124.056-1.2809.0692-1.6898.063-4.948-.0063-3.2583-.021-3.6668-.0817-4.9465-.0607-1.2797-.264-2.1487-.5633-2.9117-.3084-.7889-.72-1.4568-1.3876-2.1228C21.2982 1.33 20.628.9208 19.8378.6165 19.074.321 18.2017.1197 16.9244.0645 15.6471.0093 15.236-.005 11.977.0014 8.718.0076 8.31.0215 7.0301.0839m.1402 21.6932c-1.17-.0509-1.8053-.2453-2.2287-.408-.5606-.216-.96-.4771-1.3819-.895-.422-.4178-.6811-.8186-.9-1.378-.1644-.4234-.3624-1.058-.4171-2.228-.0595-1.2645-.072-1.6442-.079-4.848-.007-3.2037.0053-3.583.0607-4.848.05-1.169.2456-1.805.408-2.2282.216-.5613.4762-.96.895-1.3816.4188-.4217.8184-.6814 1.3783-.9003.423-.1651 1.0575-.3614 2.227-.4171 1.2655-.06 1.6447-.072 4.848-.079 3.2033-.007 3.5835.005 4.8495.0608 1.169.0508 1.8053.2445 2.228.408.5608.216.96.4754 1.3816.895.4217.4194.6816.8176.9005 1.3787.1653.4217.3617 1.056.4169 2.2263.0602 1.2655.0739 1.645.0796 4.848.0058 3.203-.0055 3.5834-.061 4.848-.051 1.17-.245 1.8055-.408 2.2294-.216.5604-.4763.96-.8954 1.3814-.419.4215-.8181.6811-1.3783.9-.4224.1649-1.0577.3617-2.2262.4174-1.2656.0595-1.6448.072-4.8493.079-3.2045.007-3.5825-.006-4.848-.0608M16.953 5.5864A1.44 1.44 0 1 0 18.39 4.144a1.44 1.44 0 0 0-1.437 1.4424M5.8385 12.012c.0067 3.4032 2.7706 6.1557 6.173 6.1493 3.4026-.0065 6.157-2.7701 6.1506-6.1733-.0065-3.4032-2.771-6.1565-6.174-6.1498-3.403.0067-6.156 2.771-6.1496 6.1738M8 12.0077a4 4 0 1 1 4.008 3.9921A3.9996 3.9996 0 0 1 8 12.0077"})]})}),Pse="#000000",Ise=T.forwardRef(function({title:e="Threads",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Pse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M12.186 24h-.007c-3.581-.024-6.334-1.205-8.184-3.509C2.35 18.44 1.5 15.586 1.472 12.01v-.017c.03-3.579.879-6.43 2.525-8.482C5.845 1.205 8.6.024 12.18 0h.014c2.746.02 5.043.725 6.826 2.098 1.677 1.29 2.858 3.13 3.509 5.467l-2.04.569c-1.104-3.96-3.898-5.984-8.304-6.015-2.91.022-5.11.936-6.54 2.717C4.307 6.504 3.616 8.914 3.589 12c.027 3.086.718 5.496 2.057 7.164 1.43 1.783 3.631 2.698 6.54 2.717 2.623-.02 4.358-.631 5.8-2.045 1.647-1.613 1.618-3.593 1.09-4.798-.31-.71-.873-1.3-1.634-1.75-.192 1.352-.622 2.446-1.284 3.272-.886 1.102-2.14 1.704-3.73 1.79-1.202.065-2.361-.218-3.259-.801-1.063-.689-1.685-1.74-1.752-2.964-.065-1.19.408-2.285 1.33-3.082.88-.76 2.119-1.207 3.583-1.291a13.853 13.853 0 0 1 3.02.142c-.126-.742-.375-1.332-.75-1.757-.513-.586-1.308-.883-2.359-.89h-.029c-.844 0-1.992.232-2.721 1.32L7.734 7.847c.98-1.454 2.568-2.256 4.478-2.256h.044c3.194.02 5.097 1.975 5.287 5.388.108.046.216.094.321.142 1.49.7 2.58 1.761 3.154 3.07.797 1.82.871 4.79-1.548 7.158-1.85 1.81-4.094 2.628-7.277 2.65Zm1.003-11.69c-.242 0-.487.007-.739.021-1.836.103-2.98.946-2.916 2.143.067 1.256 1.452 1.839 2.784 1.767 1.224-.065 2.818-.543 3.086-3.71a10.5 10.5 0 0 0-2.215-.221z"})]})}),Rse="#000000",$se=T.forwardRef(function({title:e="X",color:r="currentColor",size:n=24,...i},s){return r==="default"&&(r=Rse),l.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",width:n,height:n,fill:r,viewBox:"0 0 24 24",ref:s,...i,children:[l.jsx("title",{children:e}),l.jsx("path",{d:"M18.901 1.153h3.68l-8.04 9.19L24 22.846h-7.406l-5.8-7.584-6.638 7.584H.474l8.6-9.83L0 1.154h7.594l5.243 6.932ZM17.61 20.644h2.039L6.486 3.24H4.298Z"})]})}),kse={Phone:bO,Mail:yO,Users:Di,Coffee:gK,Utensils:CK,FileText:mm,Circle:qj};function Dse({timeline:t,onEdit:e,onDelete:r,onToggleTodo:n,personId:i,allPeople:s=[]}){const a=T.useMemo(()=>fse(t||[]),[t]),o=f=>s.find(p=>p.id.toString()===f.toString()),u=f=>{if(f.type==="todo")return f.is_completed?Mj:bu;if(f.type==="activity"&&f.activity_type){const p=mse(f.activity_type);return kse[p]||qj}return f.type==="note"?mm:qj},c=f=>{const p=u(f),m=f.type==="todo",y=f.type==="activity";f.type;const x=f.activity_date||f.created,g=pse(x),v=gse(f),w=m&&sh(f);return l.jsxs("div",{className:`relative ${m?"pl-0":"pl-8"} pb-6 group`,children:[!m&&l.jsx("div",{className:"absolute left-0 top-1",children:l.jsx("div",{className:`w-4 h-4 rounded-full border-2 ${y?"bg-blue-500 border-blue-500":"bg-gray-400 border-gray-400"}`})}),l.jsx("div",{className:`${v}`,children:l.jsxs("div",{className:"flex items-start justify-between",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[!m&&l.jsxs("div",{className:"flex items-center gap-2 mb-1",children:[l.jsx(p,{className:`w-4 h-4 flex-shrink-0 ${y?"text-blue-600":"text-gray-500"}`}),y&&f.activity_type&&l.jsx("span",{className:"text-xs font-medium text-gray-600",children:vse(f.activity_type)}),l.jsx("span",{className:"text-xs text-gray-400",children:""}),l.jsx("span",{className:"text-xs text-gray-500",children:g})]}),l.jsxs("div",{className:"flex items-start gap-2",children:[m&&l.jsx("button",{onClick:()=>n&&n(f),className:"mt-0.5 flex-shrink-0",title:f.is_completed?"Mark as incomplete":"Mark as complete",children:f.is_completed?l.jsx(Mj,{className:`w-5 h-5 ${w?"text-red-600":"text-primary-600"}`}):l.jsx(bu,{className:`w-5 h-5 ${w?"text-red-600":"text-gray-400"}`})}),l.jsx("p",{className:`text-sm flex-1 ${f.is_completed?"line-through opacity-60":""}`,children:f.content})]}),y&&f.participants&&f.participants.length>0&&l.jsxs("div",{className:"mt-2 flex flex-wrap items-center gap-2",children:[l.jsx("span",{className:"text-xs text-gray-500",children:"With:"}),f.participants.map(b=>{const _=o(b);return _?l.jsxs(ce,{to:`/people/${b}`,className:"inline-flex items-center gap-1 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[l.jsx(bK,{className:"w-3 h-3"}),_.name]},b):null})]}),m&&f.due_date&&l.jsx("div",{className:"mt-2",children:l.jsxs("span",{className:`text-xs ${w?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",nn(new Date(f.due_date),"MMM d, yyyy"),w&&" (overdue)"]})})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[e&&l.jsx("button",{onClick:()=>e(f),className:"p-1 hover:bg-gray-100 rounded",title:"Edit",children:l.jsx(Wa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),r&&l.jsx("button",{onClick:()=>r(f),className:"p-1 hover:bg-red-50 rounded",title:"Delete",children:l.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})})]},f.id)},d=(f,p)=>!p||p.length===0?null:l.jsxs("div",{className:"mb-6",children:[l.jsx("h3",{className:"text-sm font-semibold text-gray-700 mb-3 uppercase tracking-wide",children:f}),l.jsx("div",{className:"relative pl-4 border-l-2 border-gray-200",children:p.map(c)})]});return a.today.length>0||a.yesterday.length>0||a.thisWeek.length>0||a.older.length>0?l.jsxs("div",{className:"space-y-6",children:[d("Today",a.today),d("Yesterday",a.yesterday),d("This week",a.thisWeek),d("Older",a.older)]}):l.jsx("div",{className:"text-center py-8",children:l.jsx("p",{className:"text-sm text-gray-500",children:"No timeline items yet."})})}function Mse({isOpen:t,onClose:e,onSubmit:r,isLoading:n}){const[i,s]=T.useState("");if(!t)return null;const a=u=>{u.preventDefault(),i.trim()&&(r(i),s(""))},o=()=>{s(""),e()};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Add note"}),l.jsx("button",{onClick:o,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:a,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"note-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Note"}),l.jsx("textarea",{id:"note-content",value:i,onChange:u=>s(u.target.value),rows:6,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"Enter your note...",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:o,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!i.trim(),children:n?"Adding...":"Add note"})]})]})]})})}function HK({isOpen:t,onClose:e,onSubmit:r,isLoading:n,todo:i=null}){const[s,a]=T.useState(""),[o,u]=T.useState(""),[c,d]=T.useState(!1),h=()=>new Date().toISOString().split("T")[0];if(T.useEffect(()=>{i?(a(i.content||""),u(i.due_date||""),d(i.is_completed||!1)):(a(""),u(h()),d(!1))},[i,t]),!t)return null;const f=y=>{y.preventDefault(),s.trim()&&(r({content:s.trim(),due_date:o||null,is_completed:c}),i||(a(""),u(h()),d(!1)))},p=()=>{i||(a(""),u(h()),d(!1)),e()},m=y=>{if(!y)return"";try{return new Date(y).toISOString().split("T")[0]}catch{return""}};return l.jsx("div",{className:"fixed inset-0 z-50 flex items-center justify-center bg-black bg-opacity-50",children:l.jsxs("div",{className:"bg-white rounded-lg shadow-xl w-full max-w-md mx-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-4 border-b",children:[l.jsx("h2",{className:"text-lg font-semibold",children:i?"Edit todo":"Add todo"}),l.jsx("button",{onClick:p,className:"text-gray-400 hover:text-gray-600",disabled:n,children:l.jsx(Mr,{className:"w-5 h-5"})})]}),l.jsxs("form",{onSubmit:f,className:"p-4",children:[l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-content",className:"block text-sm font-medium text-gray-700 mb-2",children:"Description"}),l.jsx("textarea",{id:"todo-content",value:s,onChange:y=>a(y.target.value),rows:4,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",placeholder:"What needs to be done?",disabled:n,autoFocus:!0})]}),l.jsxs("div",{className:"mb-4",children:[l.jsx("label",{htmlFor:"todo-due-date",className:"block text-sm font-medium text-gray-700 mb-2",children:"Due date (optional)"}),l.jsx("input",{id:"todo-due-date",type:"date",value:m(o),onChange:y=>u(y.target.value||""),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:n})]}),i&&l.jsx("div",{className:"mb-4",children:l.jsxs("label",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",checked:c,onChange:y=>d(y.target.checked),className:"mr-2",disabled:n}),l.jsx("span",{className:"text-sm text-gray-700",children:"Completed"})]})}),l.jsxs("div",{className:"flex justify-end gap-2",children:[l.jsx("button",{type:"button",onClick:p,className:"btn-secondary",disabled:n,children:"Cancel"}),l.jsx("button",{type:"submit",className:"btn-primary",disabled:n||!s.trim(),children:n?i?"Saving...":"Adding...":i?"Save":"Add todo"})]})]})]})})}function Wi(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function qse(t){return t?t.replace(/[^\d+]/g,""):""}function oR(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function Ase(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function Fse(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",u=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Wi(u)}`),s.push(`N:${Wi(o)};${Wi(a)};;;`),i.nickname&&s.push(`NICKNAME:${Wi(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Wi(h.contact_value),p=h.contact_label?Wi(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",x=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=qse(h.contact_value);g&&s.push(`${x}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const w=h.contact_type==="linkedin"?"PROFILE":"WORK",b=p?`URL;TYPE=${w},${p.toUpperCase()}`:`URL;TYPE=${w}`;s.push(`${b}:${Wi(v)}`);break}});const{title:c,org:d}=Ase(i.work_history,r);if(d&&s.push(`ORG:${Wi(d)}`),c&&s.push(`TITLE:${Wi(c)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=oR(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=oR(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function Lse(t,e={}){const{filename:r,...n}=e,i=Fse(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}const Bse=({className:t})=>l.jsx("svg",{className:t,viewBox:"0 0 382 382",xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",children:l.jsx("path",{d:`M347.445,0H34.555C15.471,0,0,15.471,0,34.555v312.889C0,366.529,15.471,382,34.555,382h312.889
      C366.529,382,382,366.529,382,347.444V34.555C382,15.471,366.529,0,347.445,0z M118.207,329.844c0,5.554-4.502,10.056-10.056,10.056
      H65.345c-5.554,0-10.056-4.502-10.056-10.056V150.403c0-5.554,4.502-10.056,10.056-10.056h42.806
      c5.554,0,10.056,4.502,10.056,10.056V329.844z M86.748,123.432c-22.459,0-40.666-18.207-40.666-40.666S64.289,42.1,86.748,42.1
      s40.666,18.207,40.666,40.666S109.208,123.432,86.748,123.432z M341.91,330.654c0,5.106-4.14,9.246-9.246,9.246H286.73
      c-5.106,0-9.246-4.14-9.246-9.246v-84.168c0-12.556,3.683-55.021-32.813-55.021c-28.309,0-34.051,29.066-35.204,42.11v97.079
      c0,5.106-4.139,9.246-9.246,9.246h-44.426c-5.106,0-9.246-4.14-9.246-9.246V149.593c0-5.106,4.14-9.246,9.246-9.246h44.426
      c5.106,0,9.246,4.14,9.246,9.246v15.655c10.497-15.753,26.097-27.912,59.312-27.912c73.552,0,73.131,68.716,73.131,106.472
      L341.91,330.654L341.91,330.654z`})});function vf(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function zse(){var FT,LT,BT,zT,UT,WT,VT,HT,KT,GT,YT,QT,XT,JT;const{id:t}=Ss(),e=Qr(),r=ut(),{data:n,isLoading:i,error:s}=Au(t),{data:a}=gne(t),{data:o}=yne(t),u=xne(),c=_ne(),d=jne(),h=nh(),f=wne(),p=xO(),m=RK(),y=Ene(),x=Sne(),g=Nne(),{data:v}=Vo(),{data:w=[]}=Ze({queryKey:["investments",t],queryFn:async()=>(await ke.getInvestments(t)).data,enabled:!!t}),[b,_]=T.useState(!1),[S,N]=T.useState(""),[E,C]=T.useState(!1),O=T.useRef(null),[I,j]=T.useState(!1),[P,D]=T.useState(!1),[M,z]=T.useState(!1),[W,A]=T.useState(null),[H,B]=T.useState(null),[V,G]=T.useState(!1),[fe,me]=T.useState(null),{data:$e}=Ze({queryKey:["person-labels"],queryFn:async()=>(await Ae.getPersonLabels()).data}),xe=$e||[],je=(n==null?void 0:n.labels)||[],Fe=((zT=(BT=(LT=(FT=n==null?void 0:n._embedded)==null?void 0:FT["wp:term"])==null?void 0:LT.flat())==null?void 0:BT.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:zT.map(k=>k.id))||[],tt=xe.filter(k=>!je.includes(k.name));mn((n==null?void 0:n.name)||((UT=n==null?void 0:n.title)==null?void 0:UT.rendered)||(n==null?void 0:n.title)||"Person");const Et=o==null?void 0:o.find(k=>{const J=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(J==null?void 0:J.toLowerCase())==="birthday"}),ht=Et!=null&&Et.date_value?new Date(Et.date_value):null,Y=o==null?void 0:o.find(k=>{const J=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(J==null?void 0:J.toLowerCase())==="died"}),Se=Y!=null&&Y.date_value?new Date(Y.date_value):null,Re=!!Se,Be=ht?Dv(Re?Se:new Date,ht):null,Mt=o?[...o].sort((k,J)=>{const Q=k.date_value?new Date(k.date_value):new Date(0),Pe=J.date_value?new Date(J.date_value):new Date(0);return Q-Pe}):[],Ce=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await u.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},Ue=k=>{if(!k)return"";let J=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const Q=J.startsWith("+");return J=J.replace(/\D/g,""),Q?`+${J}`:J},Nt=async k=>{var Pe;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const J=[...((Pe=n.acf)==null?void 0:Pe.contact_info)||[]];J.splice(k,1);const Q=Qa(n.acf,{contact_info:J});await h.mutateAsync({id:t,data:{acf:Q}})},Tt=async k=>{var qa,Zn,zi,pc,ZT,eP;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const J=(Zn=(qa=n.acf)==null?void 0:qa.relationships)==null?void 0:Zn[k];if(!J)return;const Q=J.related_person,Pe=J.relationship_type;let He=!0;Q&&Pe&&(He=window.confirm("Do you also want to delete the inverse relationship from the other person?"));let it=null;if(!He&&Q&&Pe)try{const[bi,Hh]=await Promise.all([Ae.getPerson(Q,{_embed:!0}),Ae.getRelationshipTypes()]),rv={};Hh.data.forEach(mc=>{rv[mc.id]=mc});const $n=rv[Pe],Aa=(zi=$n==null?void 0:$n.acf)==null?void 0:zi.inverse_relationship_type;if(Aa){const vc=(((pc=bi.data.acf)==null?void 0:pc.relationships)||[]).find(Ui=>{var tP,rP;const oX=typeof Ui.related_person=="object"?(tP=Ui.related_person)==null?void 0:tP.ID:Ui.related_person,lX=typeof Ui.relationship_type=="object"?(rP=Ui.relationship_type)==null?void 0:rP.term_id:Ui.relationship_type;return oX===parseInt(t)&&lX===Aa});vc&&(it={related_person:parseInt(t),relationship_type:Aa,relationship_label:vc.relationship_label||""})}}catch(bi){console.error("Failed to fetch inverse relationship:",bi)}const ft=[...((ZT=n.acf)==null?void 0:ZT.relationships)||[]];ft.splice(k,1);const dl=Qa(n.acf,{relationships:ft});if(await h.mutateAsync({id:t,data:{acf:dl}}),!He&&it&&Q){await new Promise(bi=>setTimeout(bi,500));try{const bi=await Ae.getPerson(Q,{_embed:!0}),Hh=((eP=bi.data.acf)==null?void 0:eP.relationships)||[];if(!Hh.some($n=>{var vc,Ui;const Aa=typeof $n.related_person=="object"?(vc=$n.related_person)==null?void 0:vc.ID:$n.related_person,mc=typeof $n.relationship_type=="object"?(Ui=$n.relationship_type)==null?void 0:Ui.term_id:$n.relationship_type;return Aa===it.related_person&&mc===it.relationship_type})){const $n=[...Hh,it],Aa=Qa(bi.data.acf,{relationships:$n});await Ae.updatePerson(Q,{acf:Aa})}}catch(bi){console.error("Failed to restore inverse relationship:",bi)}}r.invalidateQueries({queryKey:["person",t]}),Q&&r.invalidateQueries({queryKey:["person",Q]}),r.invalidateQueries({queryKey:["people"]})},$=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},q=async k=>{window.confirm("Are you sure you want to delete this note?")&&await c.mutateAsync({noteId:k,personId:t})},L=async k=>{try{await f.mutateAsync({personId:t,content:k}),j(!1)}catch(J){console.error("Failed to create note:",J),alert("Failed to create note. Please try again.")}},se=async k=>{try{await p.mutateAsync({personId:t,data:k}),H&&(await y.mutateAsync({todoId:H.id,data:{content:H.content,due_date:H.due_date,is_completed:!0},personId:t}),B(null),me(null)),D(!1)}catch(J){console.error("Failed to create activity:",J),alert("Failed to create activity. Please try again.")}},Z=async k=>{try{await m.mutateAsync({personId:t,data:k}),z(!1),A(null)}catch(J){console.error("Failed to create todo:",J),alert("Failed to create todo. Please try again.")}},X=async k=>{if(W)try{await y.mutateAsync({todoId:W.id,data:k,personId:t}),z(!1),A(null)}catch(J){console.error("Failed to update todo:",J),alert("Failed to update todo. Please try again.")}},K=async k=>{if(!k.is_completed){B(k),G(!0);return}try{await y.mutateAsync({todoId:k.id,data:{content:k.content,due_date:k.due_date,is_completed:!1},personId:t})}catch(J){console.error("Failed to toggle todo:",J),alert("Failed to update todo. Please try again.")}},oe=async()=>{if(H)try{await y.mutateAsync({todoId:H.id,data:{content:H.content,due_date:H.due_date,is_completed:!0},personId:t}),G(!1),B(null)}catch(k){console.error("Failed to complete todo:",k),alert("Failed to complete todo. Please try again.")}},pe=()=>{if(!H)return;const k=new Date().toISOString().split("T")[0];me({content:H.content,activity_date:k,activity_type:"note",participants:[]}),G(!1),D(!0)},Xe=async k=>{window.confirm("Are you sure you want to delete this activity?")&&await x.mutateAsync({activityId:k,personId:t})},ve=async k=>{window.confirm("Are you sure you want to delete this todo?")&&await g.mutateAsync({todoId:k,personId:t})},ne=k=>{k.type==="todo"&&(A(k),z(!0))},de=k=>{k.type==="note"?q(k.id):k.type==="activity"?Xe(k.id):k.type==="todo"&&ve(k.id)},le=async k=>{var Pe;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const J=[...((Pe=n.acf)==null?void 0:Pe.work_history)||[]];J.splice(k,1);const Q=Qa(n.acf,{work_history:J});await h.mutateAsync({id:t,data:{acf:Q}})},_e=async k=>{var Pe,He,it;const J=(it=(He=(Pe=n==null?void 0:n._embedded)==null?void 0:Pe["wp:term"])==null?void 0:He.flat())==null?void 0:it.find(ft=>(ft==null?void 0:ft.taxonomy)==="person_label"&&(ft==null?void 0:ft.name)===k);if(!J)return;const Q=Fe.filter(ft=>ft!==J.id);await h.mutateAsync({id:t,data:{person_label:Q}})},Ve=async()=>{if(!S)return;const k=xe.find(Q=>Q.id.toString()===S);if(!k)return;const J=[...Fe,k.id];await h.mutateAsync({id:t,data:{person_label:J}}),N(""),_(!1)},Rn=async k=>{var Q;const J=(Q=k.target.files)==null?void 0:Q[0];if(J){if(!J.type.startsWith("image/")){alert("Please select an image file");return}if(J.size>5*1024*1024){alert("Image size must be less than 5MB");return}C(!0);try{await ke.uploadPersonPhoto(t,J),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(Pe){console.error("Failed to upload photo:",Pe),alert("Failed to upload photo. Please try again.")}finally{C(!1),O.current&&(O.current.value="")}}},Bi=()=>{if(n)try{Lse(n,{companyMap:ev,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},fc=((VT=(WT=n==null?void 0:n.acf)==null?void 0:WT.work_history)==null?void 0:VT.map(k=>k.company).filter(Boolean))||[],rX=wp({queries:fc.map(k=>({queryKey:["company",k],queryFn:async()=>(await Ae.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),Ma=((KT=(HT=n==null?void 0:n.acf)==null?void 0:HT.relationships)==null?void 0:KT.map(k=>k.related_person).filter(Boolean))||[],Uh=wp({queries:Ma.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await ke.getPersonDates(k)).data,enabled:!!k}))}),Zm=T.useMemo(()=>{const k={};return Uh.forEach((J,Q)=>{if(J.data&&Ma[Q]){const Pe=Ma[Q],He=J.data.find(it=>{const ft=Array.isArray(it.date_type)?it.date_type[0]:it.date_type;return(ft==null?void 0:ft.toLowerCase())==="birthday"});if(He!=null&&He.date_value){const it=new Date(He.date_value);k[Pe]=Dv(new Date,it)}else k[Pe]=-1}}),k},[Uh,Ma]),nX=T.useMemo(()=>{const k={};return Uh.forEach((J,Q)=>{if(J.data&&Ma[Q]){const Pe=Ma[Q],He=J.data.some(it=>{const ft=Array.isArray(it.date_type)?it.date_type[0]:it.date_type;return(ft==null?void 0:ft.toLowerCase())==="died"});k[Pe]=He}}),k},[Uh,Ma]),Wh=T.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((J,Q)=>{const Pe=Zm[J.related_person]??-1,He=Zm[Q.related_person]??-1;return Pe===-1&&He===-1?0:Pe===-1?1:He===-1?-1:He-Pe}):[]},[(GT=n==null?void 0:n.acf)==null?void 0:GT.relationships,Zm]),ev={};rX.forEach((k,J)=>{var Q,Pe,He,it,ft,dl,qa,Zn,zi;if(k.data){const pc=fc[J];ev[pc]={name:Ft(k.data),logo:((He=(Pe=(Q=k.data._embedded)==null?void 0:Q["wp:featuredmedia"])==null?void 0:Pe[0])==null?void 0:He.source_url)||((zi=(Zn=(qa=(dl=(ft=(it=k.data._embedded)==null?void 0:it["wp:featuredmedia"])==null?void 0:ft[0])==null?void 0:dl.media_details)==null?void 0:qa.sizes)==null?void 0:Zn.thumbnail)==null?void 0:zi.source_url)||null}}});const Vh=T.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((J,Q)=>({...J,originalIndex:Q})).sort((J,Q)=>{if(J.is_current&&!Q.is_current)return-1;if(!J.is_current&&Q.is_current)return 1;const Pe=J.start_date?new Date(J.start_date):new Date(0);return(Q.start_date?new Date(Q.start_date):new Date(0))-Pe}):[]},[(YT=n==null?void 0:n.acf)==null?void 0:YT.work_history]),MT=T.useMemo(()=>a?a.filter(J=>J.type==="todo").sort((J,Q)=>{if(J.is_completed&&!Q.is_completed)return 1;if(!J.is_completed&&Q.is_completed)return-1;if(!J.is_completed&&!Q.is_completed){if(J.due_date&&Q.due_date)return new Date(J.due_date)-new Date(Q.due_date);if(J.due_date&&!Q.due_date)return-1;if(!J.due_date&&Q.due_date)return 1}return new Date(Q.created)-new Date(J.created)}):[],[a]);if(T.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]});if(n.status==="trash")return null;const Tr=n.acf||{},tv=["facebook","linkedin","instagram","twitter","bluesky","threads","website"],iX=((QT=Tr.contact_info)==null?void 0:QT.filter(k=>tv.includes(k.contact_type)))||[],qT={linkedin:1,twitter:2,bluesky:3,threads:4,instagram:5,facebook:6,website:7},AT=[...iX].sort((k,J)=>{const Q=qT[k.contact_type]||99,Pe=qT[J.contact_type]||99;return Q-Pe}),sX=k=>{switch(k){case"facebook":return Cse;case"linkedin":return Bse;case"instagram":return Tse;case"twitter":return $se;case"bluesky":return Nse;case"threads":return Ise;case"website":return zf;default:return zf}},aX=k=>{switch(k){case"facebook":return"text-[#1877F2]";case"linkedin":return"text-[#0077B7]";case"instagram":return"text-[#E4405F]";case"twitter":return"text-[#1DA1F2]";case"bluesky":return"text-[#00A8E8]";case"threads":return"text-[#000000]";case"website":return"text-gray-600";default:return"text-gray-600"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ce,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to people"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:Bi,className:"btn-secondary",children:[l.jsx(Aj,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),l.jsxs(ce,{to:`/people/${t}/edit`,className:"btn-secondary",children:[l.jsx(NK,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),l.jsxs("button",{onClick:Ce,className:"btn-danger",children:[l.jsx(Ln,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),l.jsxs("div",{className:"card p-6 relative",children:[l.jsx("div",{className:"absolute top-4 right-4",children:l.jsx(ce,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View family tree"})}),l.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative group",children:[n.thumbnail?l.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-28 h-28 rounded-full object-cover"}):l.jsx("div",{className:"w-28 h-28 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((XT=n.first_name)==null?void 0:XT[0])||"?"})}),l.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=O.current)==null?void 0:k.click()},children:E?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),l.jsx("input",{ref:O,type:"file",accept:"image/*",onChange:Rn,className:"hidden",disabled:E})]}),l.jsxs("div",{className:"flex-1 space-y-3",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,Re&&l.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&l.jsx(xu,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),Tr.nickname&&l.jsxs("p",{className:"text-gray-500",children:['"',Tr.nickname,'"']}),Re&&Se&&Be!==null&&l.jsxs("p",{className:"text-gray-500 text-sm",children:[vf(Tr.gender)&&l.jsx("span",{className:"mr-1",children:vf(Tr.gender)}),"Died ",nn(Se,"MMMM d, yyyy")," at age ",Be]}),!Re&&Be!==null&&l.jsxs("p",{className:"text-gray-500 text-sm",children:[vf(Tr.gender)&&l.jsx("span",{className:"mr-1",children:vf(Tr.gender)}),Be," years old"]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,J)=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,l.jsx("button",{onClick:()=>_e(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:l.jsx(Mr,{className:"w-3 h-3"})})]},J)),b?l.jsxs("div",{className:"inline-flex items-center gap-2",children:[l.jsxs("select",{value:S,onChange:k=>N(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:tt.length===0,children:[l.jsx("option",{value:"",children:"Select a label..."}),tt.map(k=>l.jsx("option",{value:k.id,children:k.name},k.id))]}),l.jsx("button",{onClick:Ve,disabled:!S,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),l.jsx("button",{onClick:()=>{_(!1),N("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):tt.length>0&&l.jsxs("button",{onClick:()=>_(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[l.jsx(Vt,{className:"w-3 h-3 mr-1"}),"Add label"]})]}),AT.length>0&&l.jsx("div",{className:"flex items-center gap-3 mt-4",children:AT.map((k,J)=>{const Q=sX(k.contact_type),Pe=aX(k.contact_type);let He=k.contact_value;return He.match(/^https?:\/\//i)||(He=`https://${He}`),l.jsx("a",{href:He,target:"_blank",rel:"noopener noreferrer",className:`flex-shrink-0 hover:opacity-80 transition-opacity ${Pe}`,title:`${k.contact_type.charAt(0).toUpperCase()+k.contact_type.slice(1)}: ${k.contact_value}`,children:l.jsx(Q,{className:"w-5 h-5"})},J)})})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[l.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!Re&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Contact information"}),l.jsxs(ce,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((JT=Tr.contact_info)==null?void 0:JT.filter(k=>!tv.includes(k.contact_type)).length)>0?l.jsx("div",{className:"space-y-2",children:(()=>{const k={email:1,phone:2,mobile:2,address:3,other:4};return Tr.contact_info.filter(Q=>!tv.includes(Q.contact_type)).map((Q,Pe)=>({...Q,originalIndex:Pe})).sort((Q,Pe)=>{const He=k[Q.contact_type]||99,it=k[Pe.contact_type]||99;return He!==it?He-it:Q.originalIndex-Pe.originalIndex}).map((Q,Pe)=>{Tr.contact_info.indexOf(Q);const He=Q.contact_type==="email"?yO:Q.contact_type==="phone"||Q.contact_type==="mobile"?bO:Q.contact_type==="address"?ine:zf,it=Q.contact_type==="email",ft=Q.contact_type==="phone"||Q.contact_type==="mobile",dl=Q.contact_type==="mobile",qa=Q.contact_type==="address";let Zn=null,zi=null;return it?Zn=`mailto:${Q.contact_value}`:ft?Zn=`tel:${Ue(Q.contact_value)}`:qa&&(Zn=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(Q.contact_value)}`,zi="_blank"),l.jsx("div",{className:"group",children:l.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[l.jsx(He,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),l.jsxs("div",{className:"flex-1 min-w-0 flex items-center gap-2",children:[l.jsxs("span",{className:"text-sm text-gray-500",children:[Q.contact_label||Q.contact_type,": "]}),Zn?l.jsx("a",{href:Zn,target:zi||void 0,rel:zi==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:Q.contact_value}):l.jsx("span",{children:Q.contact_value}),dl&&l.jsx("a",{href:`https://wa.me/${Ue(Q.contact_value)}`,target:"_blank",rel:"noopener noreferrer",className:"flex-shrink-0 hover:opacity-80 transition-opacity",title:"Open WhatsApp",children:l.jsx(xK,{className:"w-4 h-4 text-[#25D366]"})})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(ce,{to:`/people/${t}/contact/${Q.originalIndex}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:l.jsx(Wa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>Nt(Q.originalIndex),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:l.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},Q.originalIndex)})})()}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Events"}),l.jsxs(ce,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),Mt.length>0?l.jsx("div",{className:"space-y-3",children:Mt.map(k=>{const J=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,Q=(J==null?void 0:J.toLowerCase())||"",Pe=Q.includes("died"),He=Q.includes("wedding")||Q.includes("marriage")?tne:Q.includes("birthday")?ene:da;return l.jsxs("div",{className:"flex items-start group",children:[l.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:Pe?l.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):l.jsx(He,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"text-sm font-medium",children:k.title}),l.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&nn(new Date(k.date_value),"MMMM d, yyyy")}),J&&l.jsx("p",{className:"text-xs text-gray-400 capitalize",children:J})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[l.jsx(ce,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:l.jsx(Wa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>$(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:l.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Work history"}),l.jsxs(ce,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add work history"})]})]}),(Vh==null?void 0:Vh.length)>0?l.jsx("div",{className:"space-y-4",children:Vh.map((k,J)=>{const Q=k.company?ev[k.company]:null,Pe=k.originalIndex;return l.jsxs("div",{className:"flex items-start group",children:[Q!=null&&Q.logo?l.jsx("img",{src:Q.logo,alt:Q.name,className:"w-20 h-20 rounded-lg object-contain bg-white mr-3 flex-shrink-0"}):l.jsx("div",{className:"w-20 h-20 bg-white rounded-lg flex items-center justify-center mr-3 flex-shrink-0 border border-gray-200",children:l.jsx(ur,{className:"w-10 h-10 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&Q&&l.jsx(ce,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:Q.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&nn(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?nn(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&l.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(ce,{to:`/people/${t}/work-history/${Pe}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:l.jsx(Wa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>le(Pe),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:l.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},Pe)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),w.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Ep,{className:"w-5 h-5 mr-2"}),"Investments"]}),l.jsx("div",{className:"space-y-3",children:w.map(k=>l.jsxs(ce,{to:`/companies/${k.id}`,className:"flex items-center p-2 rounded-lg hover:bg-gray-50 transition-colors group",children:[k.thumbnail?l.jsx("img",{src:k.thumbnail,alt:k.name,className:"w-12 h-12 rounded-lg object-contain bg-white border border-gray-200"}):l.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(ur,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium group-hover:text-primary-600",children:k.name}),k.industry&&l.jsx("p",{className:"text-xs text-gray-500",children:k.industry})]})]},k.id))})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("h2",{className:"font-semibold",children:"Timeline"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>j(!0),className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Note"})]}),l.jsxs("button",{onClick:()=>D(!0),className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Activity"})]})]})]}),l.jsx(Dse,{timeline:a||[],onEdit:ne,onDelete:de,onToggleTodo:K,personId:t,allPeople:v||[]})]}),l.jsx(Mse,{isOpen:I,onClose:()=>j(!1),onSubmit:L,isLoading:f.isPending}),l.jsx(_O,{isOpen:P,onClose:()=>{D(!1),B(null),me(null)},onSubmit:se,isLoading:p.isPending,personId:t,initialData:fe}),l.jsx(wO,{isOpen:V,onClose:()=>{G(!1),B(null)},todo:H,onComplete:oe,onCompleteAsActivity:pe}),l.jsx(HK,{isOpen:M,onClose:()=>{z(!1),A(null)},onSubmit:W?X:Z,isLoading:W?y.isPending:m.isPending,todo:W})]}),l.jsxs("div",{className:"space-y-6",children:[(Tr.how_we_met||Tr.met_date)&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-3",children:"How we met"}),Tr.met_date&&l.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[l.jsx(da,{className:"w-4 h-4 inline mr-1"}),nn(new Date(Tr.met_date),"MMMM d, yyyy")]}),Tr.how_we_met&&l.jsx("p",{className:"text-sm",children:Tr.how_we_met})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Todos"}),l.jsxs("button",{onClick:()=>{A(null),z(!0)},className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add todo"})]})]}),MT.length>0?l.jsx("div",{className:"space-y-2",children:MT.map(k=>{const J=sh(k);return l.jsxs("div",{className:"flex items-start p-2 rounded hover:bg-gray-50 group",children:[l.jsx("button",{onClick:()=>K(k),className:"mt-0.5 mr-2 flex-shrink-0",title:k.is_completed?"Mark as incomplete":"Mark as complete",children:k.is_completed?l.jsx(Mj,{className:"w-5 h-5 text-primary-600"}):l.jsx(bu,{className:`w-5 h-5 ${J?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${k.is_completed?"line-through text-gray-400":J?"text-red-600":""}`,children:k.content}),k.due_date&&l.jsxs("p",{className:`text-xs mt-0.5 ${J&&!k.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",nn(new Date(k.due_date),"MMM d, yyyy"),J&&!k.is_completed&&" (overdue)"]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>{A(k),z(!0)},className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:l.jsx(Wa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>ve(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:l.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No todos yet."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-3",children:[l.jsx("h2",{className:"font-semibold",children:"Relationships"}),l.jsxs(ce,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-1"}),l.jsx("span",{className:"hidden md:inline",children:"Add relationship"})]})]}),(Wh==null?void 0:Wh.length)>0?l.jsx("div",{className:"space-y-2",children:Wh.map((k,J)=>{var Pe,He,it;const Q=((He=(Pe=n==null?void 0:n.acf)==null?void 0:Pe.relationships)==null?void 0:He.findIndex(ft=>ft.related_person===k.related_person&&ft.relationship_type===k.relationship_type))??J;return l.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[l.jsxs(ce,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?l.jsx("img",{src:k.person_thumbnail,alt:on(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:l.jsx("span",{className:"text-xs font-medium text-gray-500",children:((it=on(k.person_name))==null?void 0:it[0])||"?"})}),l.jsxs("div",{children:[l.jsxs("p",{className:"text-sm font-medium",children:[on(k.person_name)||`Person #${k.related_person}`,nX[k.related_person]&&l.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),l.jsx("p",{className:"text-xs text-gray-500",children:on(k.relationship_name||k.relationship_label)})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx(ce,{to:`/people/${t}/relationship/${Q}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:l.jsx(Wa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>Tt(Q),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:l.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},J)})}):l.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var ah=t=>t.type==="checkbox",Xa=t=>t instanceof Date,en=t=>t==null;const KK=t=>typeof t=="object";var Jt=t=>!en(t)&&!Array.isArray(t)&&KK(t)&&!Xa(t),GK=t=>Jt(t)&&t.target?ah(t.target)?t.target.checked:t.target.value:t,Use=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,YK=(t,e)=>t.has(Use(e)),Wse=t=>{const e=t.constructor&&t.constructor.prototype;return Jt(e)&&e.hasOwnProperty("isPrototypeOf")},SO=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function ar(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(SO&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(Jt(t)&&Wse(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=ar(t[i]));return n}var gm=t=>/^\w*$/.test(t),zt=t=>t===void 0,EO=t=>Array.isArray(t)?t.filter(Boolean):[],NO=t=>EO(t.replace(/["|']|\]/g,"").split(/\.|\[/)),he=(t,e,r)=>{if(!e||!Jt(t))return r;const n=(gm(e)?[e]:NO(e)).reduce((i,s)=>en(i)?i:i[s],t);return zt(n)||n===t?zt(t[e])?r:t[e]:n},wn=t=>typeof t=="boolean",Wr=t=>typeof t=="function",vt=(t,e,r)=>{let n=-1;const i=gm(e)?[e]:NO(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let u=r;if(n!==a){const c=t[o];u=Jt(c)||Array.isArray(c)?c:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=u,t=t[o]}};const Op={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},ui={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Vi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},QK=Me.createContext(null);QK.displayName="HookFormContext";const jO=()=>Me.useContext(QK);var XK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==ui.all&&(e._proxyFormState[a]=!n||ui.all),r&&(r[a]=!0),t[a]}});return i};const CO=typeof window<"u"?Me.useLayoutEffect:Me.useEffect;function Vse(t){const e=jO(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Me.useState(r._formState),u=Me.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return CO(()=>r._subscribe({name:i,formState:u.current,exact:s,callback:c=>{!n&&o({...r._formState,...c})}}),[i,n,s]),Me.useEffect(()=>{u.current.isValid&&r._setValid(!0)},[r]),Me.useMemo(()=>XK(a,r,u.current,!1),[a,r])}var _n=t=>typeof t=="string",Lj=(t,e,r,n,i)=>_n(t)?(n&&e.watch.add(t),he(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),he(r,s))):(n&&(e.watchAll=!0),r),Bj=t=>en(t)||!KK(t);function ci(t,e,r=new WeakSet){if(Bj(t)||Bj(e))return Object.is(t,e);if(Xa(t)&&Xa(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Xa(a)&&Xa(o)||Jt(a)&&Jt(o)||Array.isArray(a)&&Array.isArray(o)?!ci(a,o,r):!Object.is(a,o))return!1}}return!0}function Hse(t){const e=jO(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},u=Me.useRef(i),c=Me.useRef(o),d=Me.useRef(void 0),h=Me.useRef(r),f=Me.useRef(n);c.current=o;const[p,m]=Me.useState(()=>{const b=r._getWatch(n,u.current);return c.current?c.current(b):b}),y=Me.useCallback(b=>{const _=Lj(n,r._names,b||r._formValues,!1,u.current);return c.current?c.current(_):_},[r._formValues,r._names,n]),x=Me.useCallback(b=>{if(!s){const _=Lj(n,r._names,b||r._formValues,!1,u.current);if(c.current){const S=c.current(_);ci(S,d.current)||(m(S),d.current=S)}else m(_)}},[r._formValues,r._names,s,n]);CO(()=>((h.current!==r||!ci(f.current,n))&&(h.current=r,f.current=n,x()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:b=>{x(b.values)}})),[r,a,n,x]),Me.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,w=Me.useMemo(()=>{if(s)return null;const b=!g&&!ci(v,n);return g||b?y():null},[s,g,n,v,y]);return w!==null?w:p}function Kse(t){const e=jO(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,u=YK(i._names.array,r),c=Me.useMemo(()=>he(i._formValues,r,he(i._defaultValues,r,a)),[i,r,a]),d=Hse({control:i,name:r,defaultValue:c,exact:o}),h=Vse({control:i,name:r,exact:o}),f=Me.useRef(t),p=Me.useRef(void 0),m=Me.useRef(i.register(r,{...t.rules,value:d,...wn(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Me.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!he(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!he(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!he(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!he(h.validatingFields,r)},error:{enumerable:!0,get:()=>he(h.errors,r)}}),[h,r]),x=Me.useCallback(b=>m.current.onChange({target:{value:GK(b),name:r},type:Op.CHANGE}),[r]),g=Me.useCallback(()=>m.current.onBlur({target:{value:he(i._formValues,r),name:r},type:Op.BLUR}),[r,i._formValues]),v=Me.useCallback(b=>{const _=he(i._fields,r);_&&_._f&&b&&(_._f.ref={focus:()=>Wr(b.focus)&&b.focus(),select:()=>Wr(b.select)&&b.select(),setCustomValidity:S=>Wr(b.setCustomValidity)&&b.setCustomValidity(S),reportValidity:()=>Wr(b.reportValidity)&&b.reportValidity()})},[i._fields,r]),w=Me.useMemo(()=>({name:r,value:d,...wn(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:x,onBlur:g,ref:v}),[r,n,h.disabled,x,g,v,d]);return Me.useEffect(()=>{const b=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!u&&i.unregister(_),i.register(r,{...f.current.rules,...wn(f.current.disabled)?{disabled:f.current.disabled}:{}});const S=(N,E)=>{const C=he(i._fields,N);C&&C._f&&(C._f.mount=E)};if(S(r,!0),b){const N=ar(he(i._options.defaultValues,r,f.current.defaultValue));vt(i._defaultValues,r,N),zt(he(i._formValues,r))&&vt(i._formValues,r,N)}return!u&&i.register(r),p.current=r,()=>{(u?b&&!i._state.action:b)?i.unregister(r):S(r,!1)}},[r,i,u,s]),Me.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Me.useMemo(()=>({field:w,formState:h,fieldState:y}),[w,h,y])}const Tp=t=>t.render(Kse(t));var Gse=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},Qc=t=>Array.isArray(t)?t:[t],lR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function JK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&Jt(i)&&s){const a=JK(i,s);Jt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Fr=t=>Jt(t)&&!Object.keys(t).length,OO=t=>t.type==="file",Pp=t=>{if(!SO)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},ZK=t=>t.type==="select-multiple",TO=t=>t.type==="radio",Yse=t=>TO(t)||ah(t),Fv=t=>Pp(t)&&t.isConnected;function Qse(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=zt(t)?n++:t[e[n++]];return t}function Xse(t){for(const e in t)if(t.hasOwnProperty(e)&&!zt(t[e]))return!1;return!0}function Qt(t,e){const r=Array.isArray(e)?e:gm(e)?[e]:NO(e),n=r.length===1?t:Qse(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(Jt(n)&&Fr(n)||Array.isArray(n)&&Xse(n))&&Qt(t,r.slice(0,-1)),t}var Jse=t=>{for(const e in t)if(Wr(t[e]))return!0;return!1};function eG(t){return Array.isArray(t)||Jt(t)&&!Jse(t)}function zj(t,e={}){for(const r in t){const n=t[r];eG(n)?(e[r]=Array.isArray(n)?[]:{},zj(n,e[r])):zt(n)||(e[r]=!0)}return e}function yl(t,e,r){r||(r=zj(e));for(const n in t){const i=t[n];if(eG(i))zt(e)||Bj(r[n])?r[n]=zj(i,Array.isArray(i)?[]:{}):yl(i,en(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!ci(i,s)}}return r}const uR={value:!1,isValid:!1},cR={value:!0,isValid:!0};var tG=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!zt(t[0].attributes.value)?zt(t[0].value)||t[0].value===""?cR:{value:t[0].value,isValid:!0}:cR:uR}return uR},rG=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>zt(t)?t:e?t===""?NaN:t&&+t:r&&_n(t)?new Date(t):n?n(t):t;const dR={isValid:!1,value:null};var nG=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,dR):dR;function hR(t){const e=t.ref;return OO(e)?e.files:TO(e)?nG(t.refs).value:ZK(e)?[...e.selectedOptions].map(({value:r})=>r):ah(e)?tG(t.refs).value:rG(zt(e.value)?t.ref.value:e.value,t)}var Zse=(t,e,r,n)=>{const i={};for(const s of t){const a=he(e,s);a&&vt(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Ip=t=>t instanceof RegExp,Tc=t=>zt(t)?t:Ip(t)?t.source:Jt(t)?Ip(t.value)?t.value.source:t.value:t,fR=t=>({isOnSubmit:!t||t===ui.onSubmit,isOnBlur:t===ui.onBlur,isOnChange:t===ui.onChange,isOnAll:t===ui.all,isOnTouch:t===ui.onTouched});const pR="AsyncFunction";var eae=t=>!!t&&!!t.validate&&!!(Wr(t.validate)&&t.validate.constructor.name===pR||Jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===pR)),tae=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),mR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const Xc=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=he(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(Xc(o,e))break}else if(Jt(o)&&Xc(o,e))break}}};function vR(t,e,r){const n=he(t,r);if(n||gm(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=he(e,s),o=he(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var rae=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Fr(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||ui.all))},nae=(t,e,r)=>!t||!e||t===e||Qc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),iae=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,sae=(t,e)=>!EO(he(t,e)).length&&Qt(t,e),aae=(t,e,r)=>{const n=Qc(he(t,r));return vt(n,"root",e[r]),vt(t,r,n),t};function gR(t,e,r="validate"){if(_n(t)||Array.isArray(t)&&t.every(_n)||wn(t)&&!t)return{type:r,message:_n(t)?t:"",ref:e}}var pl=t=>Jt(t)&&!Ip(t)?t:{value:t,message:""},yR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:u,maxLength:c,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:x,mount:g}=t._f,v=he(r,y);if(!g||e.has(y))return{};const w=o?o[0]:a,b=j=>{i&&w.reportValidity&&(w.setCustomValidity(wn(j)?"":j||""),w.reportValidity())},_={},S=TO(a),N=ah(a),E=S||N,C=(x||OO(a))&&zt(a.value)&&zt(v)||Pp(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,O=Gse.bind(null,y,n,_),I=(j,P,D,M=Vi.maxLength,z=Vi.minLength)=>{const W=j?P:D;_[y]={type:j?M:z,message:W,ref:a,...O(j?M:z,W)}};if(s?!Array.isArray(v)||!v.length:u&&(!E&&(C||en(v))||wn(v)&&!v||N&&!tG(o).isValid||S&&!nG(o).isValid)){const{value:j,message:P}=_n(u)?{value:!!u,message:u}:pl(u);if(j&&(_[y]={type:Vi.required,message:P,ref:w,...O(Vi.required,P)},!n))return b(P),_}if(!C&&(!en(h)||!en(f))){let j,P;const D=pl(f),M=pl(h);if(!en(v)&&!isNaN(v)){const z=a.valueAsNumber||v&&+v;en(D.value)||(j=z>D.value),en(M.value)||(P=z<M.value)}else{const z=a.valueAsDate||new Date(v),W=B=>new Date(new Date().toDateString()+" "+B),A=a.type=="time",H=a.type=="week";_n(D.value)&&v&&(j=A?W(v)>W(D.value):H?v>D.value:z>new Date(D.value)),_n(M.value)&&v&&(P=A?W(v)<W(M.value):H?v<M.value:z<new Date(M.value))}if((j||P)&&(I(!!j,D.message,M.message,Vi.max,Vi.min),!n))return b(_[y].message),_}if((c||d)&&!C&&(_n(v)||s&&Array.isArray(v))){const j=pl(c),P=pl(d),D=!en(j.value)&&v.length>+j.value,M=!en(P.value)&&v.length<+P.value;if((D||M)&&(I(D,j.message,P.message),!n))return b(_[y].message),_}if(p&&!C&&_n(v)){const{value:j,message:P}=pl(p);if(Ip(j)&&!v.match(j)&&(_[y]={type:Vi.pattern,message:P,ref:a,...O(Vi.pattern,P)},!n))return b(P),_}if(m){if(Wr(m)){const j=await m(v,r),P=gR(j,w);if(P&&(_[y]={...P,...O(Vi.validate,P.message)},!n))return b(P.message),_}else if(Jt(m)){let j={};for(const P in m){if(!Fr(j)&&!n)break;const D=gR(await m[P](v,r),w,P);D&&(j={...D,...O(P,D.message)},b(D.message),n&&(_[y]=j))}if(!Fr(j)&&(_[y]={ref:w,...j},!n))return _}}return b(!0),_};const oae={mode:ui.onSubmit,reValidateMode:ui.onChange,shouldFocusError:!0};function lae(t={}){let e={...oae,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Wr(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=Jt(e.defaultValues)||Jt(e.values)?ar(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:ar(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},u,c=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:lR(),state:lR()},m=e.criteriaMode===ui.all,y=$=>q=>{clearTimeout(c),c=setTimeout($,q)},x=async $=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||$)){let q;e.resolver?(q=Fr((await E()).errors),g()):q=await O(n,!0),q!==r.isValid&&p.state.next({isValid:q})}},g=($,q)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&(($||Array.from(o.mount)).forEach(L=>{L&&(q?vt(r.validatingFields,L,q):Qt(r.validatingFields,L))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Fr(r.validatingFields)}))},v=($,q=[],L,se,Z=!0,X=!0)=>{if(se&&L&&!e.disabled){if(a.action=!0,X&&Array.isArray(he(n,$))){const K=L(he(n,$),se.argA,se.argB);Z&&vt(n,$,K)}if(X&&Array.isArray(he(r.errors,$))){const K=L(he(r.errors,$),se.argA,se.argB);Z&&vt(r.errors,$,K),sae(r.errors,$)}if((h.touchedFields||f.touchedFields)&&X&&Array.isArray(he(r.touchedFields,$))){const K=L(he(r.touchedFields,$),se.argA,se.argB);Z&&vt(r.touchedFields,$,K)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=yl(i,s)),p.state.next({name:$,isDirty:j($,q),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else vt(s,$,q)},w=($,q)=>{vt(r.errors,$,q),p.state.next({errors:r.errors})},b=$=>{r.errors=$,p.state.next({errors:r.errors,isValid:!1})},_=($,q,L,se)=>{const Z=he(n,$);if(Z){const X=he(s,$,zt(L)?he(i,$):L);zt(X)||se&&se.defaultChecked||q?vt(s,$,q?X:hR(Z._f)):M($,X),a.mount&&!a.action&&x()}},S=($,q,L,se,Z)=>{let X=!1,K=!1;const oe={name:$};if(!e.disabled){if(!L||se){(h.isDirty||f.isDirty)&&(K=r.isDirty,r.isDirty=oe.isDirty=j(),X=K!==oe.isDirty);const pe=ci(he(i,$),q);K=!!he(r.dirtyFields,$),pe?Qt(r.dirtyFields,$):vt(r.dirtyFields,$,!0),oe.dirtyFields=r.dirtyFields,X=X||(h.dirtyFields||f.dirtyFields)&&K!==!pe}if(L){const pe=he(r.touchedFields,$);pe||(vt(r.touchedFields,$,L),oe.touchedFields=r.touchedFields,X=X||(h.touchedFields||f.touchedFields)&&pe!==L)}X&&Z&&p.state.next(oe)}return X?oe:{}},N=($,q,L,se)=>{const Z=he(r.errors,$),X=(h.isValid||f.isValid)&&wn(q)&&r.isValid!==q;if(e.delayError&&L?(u=y(()=>w($,L)),u(e.delayError)):(clearTimeout(c),u=null,L?vt(r.errors,$,L):Qt(r.errors,$)),(L?!ci(Z,L):Z)||!Fr(se)||X){const K={...se,...X&&wn(q)?{isValid:q}:{},errors:r.errors,name:$};r={...r,...K},p.state.next(K)}},E=async $=>(g($,!0),await e.resolver(s,e.context,Zse($||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),C=async $=>{const{errors:q}=await E($);if(g($),$)for(const L of $){const se=he(q,L);se?vt(r.errors,L,se):Qt(r.errors,L)}else r.errors=q;return q},O=async($,q,L={valid:!0})=>{for(const se in $){const Z=$[se];if(Z){const{_f:X,...K}=Z;if(X){const oe=o.array.has(X.name),pe=Z._f&&eae(Z._f);pe&&h.validatingFields&&g([X.name],!0);const Xe=await yR(Z,o.disabled,s,m,e.shouldUseNativeValidation&&!q,oe);if(pe&&h.validatingFields&&g([X.name]),Xe[X.name]&&(L.valid=!1,q))break;!q&&(he(Xe,X.name)?oe?aae(r.errors,Xe,X.name):vt(r.errors,X.name,Xe[X.name]):Qt(r.errors,X.name))}!Fr(K)&&await O(K,q,L)}}return L.valid},I=()=>{for(const $ of o.unMount){const q=he(n,$);q&&(q._f.refs?q._f.refs.every(L=>!Fv(L)):!Fv(q._f.ref))&&Fe($)}o.unMount=new Set},j=($,q)=>!e.disabled&&($&&q&&vt(s,$,q),!ci(V(),i)),P=($,q,L)=>Lj($,o,{...a.mount?s:zt(q)?i:_n($)?{[$]:q}:q},L,q),D=$=>EO(he(a.mount?s:i,$,e.shouldUnregister?he(i,$,[]):[])),M=($,q,L={})=>{const se=he(n,$);let Z=q;if(se){const X=se._f;X&&(!X.disabled&&vt(s,$,rG(q,X)),Z=Pp(X.ref)&&en(q)?"":q,ZK(X.ref)?[...X.ref.options].forEach(K=>K.selected=Z.includes(K.value)):X.refs?ah(X.ref)?X.refs.forEach(K=>{(!K.defaultChecked||!K.disabled)&&(Array.isArray(Z)?K.checked=!!Z.find(oe=>oe===K.value):K.checked=Z===K.value||!!Z)}):X.refs.forEach(K=>K.checked=K.value===Z):OO(X.ref)?X.ref.value="":(X.ref.value=Z,X.ref.type||p.state.next({name:$,values:ar(s)})))}(L.shouldDirty||L.shouldTouch)&&S($,Z,L.shouldTouch,L.shouldDirty,!0),L.shouldValidate&&B($)},z=($,q,L)=>{for(const se in q){if(!q.hasOwnProperty(se))return;const Z=q[se],X=$+"."+se,K=he(n,X);(o.array.has($)||Jt(Z)||K&&!K._f)&&!Xa(Z)?z(X,Z,L):M(X,Z,L)}},W=($,q,L={})=>{const se=he(n,$),Z=o.array.has($),X=ar(q);vt(s,$,X),Z?(p.array.next({name:$,values:ar(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&L.shouldDirty&&p.state.next({name:$,dirtyFields:yl(i,s),isDirty:j($,X)})):se&&!se._f&&!en(X)?z($,X,L):M($,X,L),mR($,o)&&p.state.next({...r,name:$}),p.state.next({name:a.mount?$:void 0,values:ar(s)})},A=async $=>{a.mount=!0;const q=$.target;let L=q.name,se=!0;const Z=he(n,L),X=pe=>{se=Number.isNaN(pe)||Xa(pe)&&isNaN(pe.getTime())||ci(pe,he(s,L,pe))},K=fR(e.mode),oe=fR(e.reValidateMode);if(Z){let pe,Xe;const ve=q.type?hR(Z._f):GK($),ne=$.type===Op.BLUR||$.type===Op.FOCUS_OUT,de=!tae(Z._f)&&!e.resolver&&!he(r.errors,L)&&!Z._f.deps||iae(ne,he(r.touchedFields,L),r.isSubmitted,oe,K),le=mR(L,o,ne);vt(s,L,ve),ne?(!q||!q.readOnly)&&(Z._f.onBlur&&Z._f.onBlur($),u&&u(0)):Z._f.onChange&&Z._f.onChange($);const _e=S(L,ve,ne),Ve=!Fr(_e)||le;if(!ne&&p.state.next({name:L,type:$.type,values:ar(s)}),de)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?ne&&x():ne||x()),Ve&&p.state.next({name:L,...le?{}:_e});if(!ne&&le&&p.state.next({...r}),e.resolver){const{errors:Rn}=await E([L]);if(g([L]),X(ve),se){const Bi=vR(r.errors,n,L),fc=vR(Rn,n,Bi.name||L);pe=fc.error,L=fc.name,Xe=Fr(Rn)}}else g([L],!0),pe=(await yR(Z,o.disabled,s,m,e.shouldUseNativeValidation))[L],g([L]),X(ve),se&&(pe?Xe=!1:(h.isValid||f.isValid)&&(Xe=await O(n,!0)));se&&(Z._f.deps&&(!Array.isArray(Z._f.deps)||Z._f.deps.length>0)&&B(Z._f.deps),N(L,Xe,pe,_e))}},H=($,q)=>{if(he(r.errors,q)&&$.focus)return $.focus(),1},B=async($,q={})=>{let L,se;const Z=Qc($);if(e.resolver){const X=await C(zt($)?$:Z);L=Fr(X),se=$?!Z.some(K=>he(X,K)):L}else $?(se=(await Promise.all(Z.map(async X=>{const K=he(n,X);return await O(K&&K._f?{[X]:K}:K)}))).every(Boolean),!(!se&&!r.isValid)&&x()):se=L=await O(n);return p.state.next({...!_n($)||(h.isValid||f.isValid)&&L!==r.isValid?{}:{name:$},...e.resolver||!$?{isValid:L}:{},errors:r.errors}),q.shouldFocus&&!se&&Xc(n,H,$?Z:o.mount),se},V=($,q)=>{let L={...a.mount?s:i};return q&&(L=JK(q.dirtyFields?r.dirtyFields:r.touchedFields,L)),zt($)?L:_n($)?he(L,$):$.map(se=>he(L,se))},G=($,q)=>({invalid:!!he((q||r).errors,$),isDirty:!!he((q||r).dirtyFields,$),error:he((q||r).errors,$),isValidating:!!he(r.validatingFields,$),isTouched:!!he((q||r).touchedFields,$)}),fe=$=>{$&&Qc($).forEach(q=>Qt(r.errors,q)),p.state.next({errors:$?r.errors:{}})},me=($,q,L)=>{const se=(he(n,$,{_f:{}})._f||{}).ref,Z=he(r.errors,$)||{},{ref:X,message:K,type:oe,...pe}=Z;vt(r.errors,$,{...pe,...q,ref:se}),p.state.next({name:$,errors:r.errors,isValid:!1}),L&&L.shouldFocus&&se&&se.focus&&se.focus()},$e=($,q)=>Wr($)?p.state.subscribe({next:L=>"values"in L&&$(P(void 0,q),L)}):P($,q,!0),xe=$=>p.state.subscribe({next:q=>{nae($.name,q.name,$.exact)&&rae(q,$.formState||h,Ue,$.reRenderRoot)&&$.callback({values:{...s},...r,...q,defaultValues:i})}}).unsubscribe,je=$=>(a.mount=!0,f={...f,...$.formState},xe({...$,formState:{...d,...$.formState}})),Fe=($,q={})=>{for(const L of $?Qc($):o.mount)o.mount.delete(L),o.array.delete(L),q.keepValue||(Qt(n,L),Qt(s,L)),!q.keepError&&Qt(r.errors,L),!q.keepDirty&&Qt(r.dirtyFields,L),!q.keepTouched&&Qt(r.touchedFields,L),!q.keepIsValidating&&Qt(r.validatingFields,L),!e.shouldUnregister&&!q.keepDefaultValue&&Qt(i,L);p.state.next({values:ar(s)}),p.state.next({...r,...q.keepDirty?{isDirty:j()}:{}}),!q.keepIsValid&&x()},tt=({disabled:$,name:q})=>{(wn($)&&a.mount||$||o.disabled.has(q))&&($?o.disabled.add(q):o.disabled.delete(q))},Et=($,q={})=>{let L=he(n,$);const se=wn(q.disabled)||wn(e.disabled);return vt(n,$,{...L||{},_f:{...L&&L._f?L._f:{ref:{name:$}},name:$,mount:!0,...q}}),o.mount.add($),L?tt({disabled:wn(q.disabled)?q.disabled:e.disabled,name:$}):_($,!0,q.value),{...se?{disabled:q.disabled||e.disabled}:{},...e.progressive?{required:!!q.required,min:Tc(q.min),max:Tc(q.max),minLength:Tc(q.minLength),maxLength:Tc(q.maxLength),pattern:Tc(q.pattern)}:{},name:$,onChange:A,onBlur:A,ref:Z=>{if(Z){Et($,q),L=he(n,$);const X=zt(Z.value)&&Z.querySelectorAll&&Z.querySelectorAll("input,select,textarea")[0]||Z,K=Yse(X),oe=L._f.refs||[];if(K?oe.find(pe=>pe===X):X===L._f.ref)return;vt(n,$,{_f:{...L._f,...K?{refs:[...oe.filter(Fv),X,...Array.isArray(he(i,$))?[{}]:[]],ref:{type:X.type,name:$}}:{ref:X}}}),_($,!1,void 0,X)}else L=he(n,$,{}),L._f&&(L._f.mount=!1),(e.shouldUnregister||q.shouldUnregister)&&!(YK(o.array,$)&&a.action)&&o.unMount.add($)}}},ht=()=>e.shouldFocusError&&Xc(n,H,o.mount),Y=$=>{wn($)&&(p.state.next({disabled:$}),Xc(n,(q,L)=>{const se=he(n,L);se&&(q.disabled=se._f.disabled||$,Array.isArray(se._f.refs)&&se._f.refs.forEach(Z=>{Z.disabled=se._f.disabled||$}))},0,!1))},Se=($,q)=>async L=>{let se;L&&(L.preventDefault&&L.preventDefault(),L.persist&&L.persist());let Z=ar(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:X,values:K}=await E();g(),r.errors=X,Z=ar(K)}else await O(n);if(o.disabled.size)for(const X of o.disabled)Qt(Z,X);if(Qt(r.errors,"root"),Fr(r.errors)){p.state.next({errors:{}});try{await $(Z,L)}catch(X){se=X}}else q&&await q({...r.errors},L),ht(),setTimeout(ht);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Fr(r.errors)&&!se,submitCount:r.submitCount+1,errors:r.errors}),se)throw se},Re=($,q={})=>{he(n,$)&&(zt(q.defaultValue)?W($,ar(he(i,$))):(W($,q.defaultValue),vt(i,$,ar(q.defaultValue))),q.keepTouched||Qt(r.touchedFields,$),q.keepDirty||(Qt(r.dirtyFields,$),r.isDirty=q.defaultValue?j($,ar(he(i,$))):j()),q.keepError||(Qt(r.errors,$),h.isValid&&x()),p.state.next({...r}))},Be=($,q={})=>{const L=$?ar($):i,se=ar(L),Z=Fr($),X=Z?i:se;if(q.keepDefaultValues||(i=L),!q.keepValues){if(q.keepDirtyValues){const K=new Set([...o.mount,...Object.keys(yl(i,s))]);for(const oe of Array.from(K))he(r.dirtyFields,oe)?vt(X,oe,he(s,oe)):W(oe,he(X,oe))}else{if(SO&&zt($))for(const K of o.mount){const oe=he(n,K);if(oe&&oe._f){const pe=Array.isArray(oe._f.refs)?oe._f.refs[0]:oe._f.ref;if(Pp(pe)){const Xe=pe.closest("form");if(Xe){Xe.reset();break}}}}if(q.keepFieldsRef)for(const K of o.mount)W(K,he(X,K));else n={}}s=e.shouldUnregister?q.keepDefaultValues?ar(i):{}:ar(X),p.array.next({values:{...X}}),p.state.next({values:{...X}})}o={mount:q.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!q.keepIsValid||!!q.keepDirtyValues||!e.shouldUnregister&&!Fr(X),a.watch=!!e.shouldUnregister,a.keepIsValid=!!q.keepIsValid,a.action=!1,q.keepErrors||(r.errors={}),p.state.next({submitCount:q.keepSubmitCount?r.submitCount:0,isDirty:Z?!1:q.keepDirty?r.isDirty:!!(q.keepDefaultValues&&!ci($,i)),isSubmitted:q.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:Z?{}:q.keepDirtyValues?q.keepDefaultValues&&s?yl(i,s):r.dirtyFields:q.keepDefaultValues&&$?yl(i,$):q.keepDirty?r.dirtyFields:{},touchedFields:q.keepTouched?r.touchedFields:{},errors:q.keepErrors?r.errors:{},isSubmitSuccessful:q.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Mt=($,q)=>Be(Wr($)?$(s):$,{...e.resetOptions,...q}),Ce=($,q={})=>{const L=he(n,$),se=L&&L._f;if(se){const Z=se.refs?se.refs[0]:se.ref;Z.focus&&setTimeout(()=>{Z.focus(),q.shouldSelect&&Wr(Z.select)&&Z.select()})}},Ue=$=>{r={...r,...$}},Tt={control:{register:Et,unregister:Fe,getFieldState:G,handleSubmit:Se,setError:me,_subscribe:xe,_runSchema:E,_updateIsValidating:g,_focusError:ht,_getWatch:P,_getDirty:j,_setValid:x,_setFieldArray:v,_setDisabledField:tt,_setErrors:b,_getFieldArray:D,_reset:Be,_resetDefaultValues:()=>Wr(e.defaultValues)&&e.defaultValues().then($=>{Mt($,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:Y,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state($){a=$},get _defaultValues(){return i},get _names(){return o},set _names($){o=$},get _formState(){return r},get _options(){return e},set _options($){e={...e,...$}}},subscribe:je,trigger:B,register:Et,handleSubmit:Se,watch:$e,setValue:W,getValues:V,reset:Mt,resetField:Re,clearErrors:fe,unregister:Fe,setError:me,setFocus:Ce,getFieldState:G};return{...Tt,formControl:Tt}}function Fu(t={}){const e=Me.useRef(void 0),r=Me.useRef(void 0),[n,i]=Me.useState({isDirty:!1,isValidating:!1,isLoading:Wr(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Wr(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Wr(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=lae(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,CO(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Me.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Me.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Me.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Me.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Me.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Me.useEffect(()=>{var a;t.values&&!ci(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Me.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=XK(n,s),e.current}function bR(){var D;const{id:t}=Ss(),e=Qr(),[r]=iO(),n=!!t,i=r.get("returnTo"),s=r.get("sourcePersonId"),{data:a,isLoading:o}=Au(t),u=bne(),c=nh(),{data:d=[]}=Ze({queryKey:["date-types"],queryFn:async()=>(await Ae.getDateTypes()).data}),h=d.find(M=>M.slug==="birthday"||M.name.toLowerCase()==="birthday"),[f,p]=T.useState(!1),[m,y]=T.useState(null),[x,g]=T.useState(null),v=rt({mutationFn:async M=>{const z=new FormData;return z.append("file",M),(await ue.post("/prm/v1/import/vcard/parse",z,{headers:{"Content-Type":"multipart/form-data"}})).data}}),{register:w,handleSubmit:b,reset:_,formState:{errors:S,isSubmitting:N}}=Fu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});T.useEffect(()=>{var M,z,W,A,H,B,V,G;if(a){const fe=(z=(M=a.acf)==null?void 0:M.contact_info)==null?void 0:z.find($e=>$e.contact_type==="email"),me=(fe==null?void 0:fe.contact_value)||"";_({first_name:((W=a.acf)==null?void 0:W.first_name)||"",last_name:((A=a.acf)==null?void 0:A.last_name)||"",nickname:((H=a.acf)==null?void 0:H.nickname)||"",gender:((B=a.acf)==null?void 0:B.gender)||"",email:me,how_we_met:((V=a.acf)==null?void 0:V.how_we_met)||"",is_favorite:((G=a.acf)==null?void 0:G.is_favorite)||!1,birthday:""})}},[a,_]),mn(n&&a?`Edit ${((D=a.title)==null?void 0:D.rendered)||a.title||"person"}`:"New person");const E=T.useCallback(M=>{M.preventDefault(),M.stopPropagation(),M.type==="dragenter"||M.type==="dragover"?p(!0):M.type==="dragleave"&&p(!1)},[]),C=T.useCallback(M=>{M.preventDefault(),M.stopPropagation(),p(!1),g(null),M.dataTransfer.files&&M.dataTransfer.files[0]&&O(M.dataTransfer.files[0])},[]),O=M=>{const z=M.name.split(".").pop().toLowerCase();if(z!=="vcf"&&z!=="vcard"){g("Please select a vCard file (.vcf)");return}y(M),v.mutate(M,{onSuccess:W=>{_({first_name:W.first_name||"",last_name:W.last_name||"",nickname:W.nickname||"",gender:"",email:W.email||"",how_we_met:W.note||"",is_favorite:!1,birthday:W.birthday||""}),W.contact_count>1&&g(`Note: File contains ${W.contact_count} contacts. Only the first contact was loaded.`)},onError:W=>{var A,H;g(((H=(A=W.response)==null?void 0:A.data)==null?void 0:H.message)||"Failed to parse vCard file"),y(null)}})},I=M=>{g(null),M.target.files&&M.target.files[0]&&O(M.target.files[0])},j=()=>{y(null),g(null),v.reset()},P=async M=>{try{const W=`${M.first_name||""} ${M.last_name||""}`.trim()||"Unnamed Person",A={title:W,status:"publish",acf:{first_name:M.first_name,last_name:M.last_name,nickname:M.nickname,gender:M.gender||null,how_we_met:M.how_we_met,is_favorite:M.is_favorite}};if(!n&&M.email&&(A.acf.contact_info=[{contact_type:"email",contact_value:M.email,contact_label:""}]),n)A.title=W,await c.mutateAsync({id:t,data:A}),e(`/people/${t}`);else{const B=(await u.mutateAsync(A)).data.id;if(M.email)try{await ke.sideloadGravatar(B,M.email)}catch(V){console.error("Failed to load Gravatar:",V)}if(M.birthday&&h)try{const V=M.first_name||"Person";await Ae.createDate({title:`${V}'s Birthday`,status:"publish",date_type:[h.id],acf:{date_value:M.birthday,is_recurring:!0,related_people:[B],reminder_days_before:7}})}catch(V){console.error("Failed to create birthday:",V)}e(i==="relationship"&&s?`/people/${s}/relationship/new?newPersonId=${B}`:`/people/${B}`)}}catch(z){console.error("Failed to save person:",z)}};return n&&o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:i==="relationship"&&s?l.jsxs(ce,{to:`/people/${s}/relationship/new`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to add relationship"})]}):l.jsxs(ce,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to people"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit person":"Add new person"}),!n&&l.jsxs("div",{className:"mb-6",children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-4 text-center transition-colors ${f?"border-primary-500 bg-primary-50":m&&!x?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:E,onDragLeave:E,onDragOver:E,onDrop:C,children:[l.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:I,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),v.isPending?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-primary-600"}),l.jsx("span",{className:"text-sm text-gray-600",children:"Parsing vCard..."})]}):m&&!x?l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx(rh,{className:"h-5 w-5 text-green-600"}),l.jsxs("span",{className:"text-sm text-green-700",children:["Loaded from ",m.name]}),l.jsx("button",{type:"button",onClick:M=>{M.preventDefault(),M.stopPropagation(),j()},className:"ml-2 p-1 hover:bg-green-100 rounded",children:l.jsx(Mr,{className:"h-4 w-4 text-green-600"})})]}):l.jsxs("div",{className:"flex items-center justify-center gap-2 py-2",children:[l.jsx(Ro,{className:"h-5 w-5 text-gray-400"}),l.jsxs("span",{className:"text-sm text-gray-600",children:["Drop a vCard file here to import, or ",l.jsx("span",{className:"text-primary-600",children:"browse"})]})]})]}),x&&l.jsxs("div",{className:"mt-2 flex items-start gap-2 text-sm text-amber-700 bg-amber-50 rounded-lg p-2",children:[l.jsx(gs,{className:"h-4 w-4 mt-0.5 flex-shrink-0"}),l.jsx("span",{children:x})]})]}),l.jsxs("form",{onSubmit:b(P),className:"space-y-6",children:[l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"First name *"}),l.jsx("input",{...w("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),S.first_name&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:S.first_name.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Last name"}),l.jsx("input",{...w("last_name"),className:"input",placeholder:"Doe"})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Nickname"}),l.jsx("input",{...w("nickname"),className:"input",placeholder:"Johnny"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Gender"}),l.jsxs("select",{...w("gender"),className:"input",children:[l.jsx("option",{value:"",children:"Select gender..."}),l.jsx("option",{value:"male",children:"Male"}),l.jsx("option",{value:"female",children:"Female"}),l.jsx("option",{value:"non_binary",children:"Non-binary"}),l.jsx("option",{value:"other",children:"Other"}),l.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Email"}),l.jsx("input",{type:"email",...w("email"),className:"input",placeholder:"john@example.com"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Birthday"}),l.jsx("input",{type:"date",...w("birthday"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"How we met"}),l.jsx("textarea",{...w("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...w("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[i==="relationship"&&s?l.jsx(ce,{to:`/people/${s}/relationship/new`,className:"btn-secondary",children:"Cancel"}):l.jsx(ce,{to:"/people",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:N,children:[N?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create person"]})]})]})]})]})}function uae({value:t,onChange:e,companies:r,isLoading:n}){return l.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[l.jsx("option",{value:"",children:"Select an organization..."}),r.map(i=>{var s;return l.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function xR(){var v,w;const{personId:t,index:e}=Ss(),r=Qr();ut();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=Au(t),o=nh(),{data:u=[],isLoading:c}=Ze({queryKey:["companies","all"],queryFn:async()=>(await Ae.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:x}}=Fu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});T.useEffect(()=>{var b;if(s&&i){const S=(((b=s.acf)==null?void 0:b.work_history)||[])[n];S&&f({company:S.company||null,job_title:S.job_title||"",description:S.description||"",start_date:S.start_date||"",end_date:S.end_date||"",is_current:S.is_current||!1})}},[s,n,i,f]),mn(i?`Edit work history - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"person"}`:`Add work history - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"person"}`);const g=async b=>{var _;try{const S=[...((_=s.acf)==null?void 0:_.work_history)||[]],N={company:b.company||null,job_title:b.job_title||"",description:b.description||"",start_date:b.start_date||"",end_date:b.end_date||"",is_current:b.is_current||!1};i?S[n]=N:S.push(N);const E=Qa(s.acf,{work_history:S});await o.mutateAsync({id:t,data:{acf:E}}),r(`/people/${t}`)}catch(S){console.error("Failed to save work history:",S)}};return p("is_current"),a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit work history":"Add work history"}),l.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Organization"}),l.jsx(Tp,{name:"company",control:m,render:({field:b})=>l.jsx(uae,{value:b.value,onChange:b.onChange,companies:u,isLoading:c})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Job title"}),l.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Description"}),l.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),l.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Start date"}),l.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"End date"}),l.jsx("input",{type:"date",...d("end_date"),className:"input"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:x,children:[x?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Add work history"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}const cae=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"bluesky",label:"Bluesky"},{value:"threads",label:"Threads"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function wR(){var y,x;const{personId:t,index:e}=Ss(),r=Qr(),n=ut(),i=parseInt(e,10),s=!isNaN(i),{data:a,isLoading:o}=Au(t),u=nh(),{register:c,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=Fu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});T.useEffect(()=>{var g;if(a&&s){const w=(((g=a.acf)==null?void 0:g.contact_info)||[])[i];w&&h({contact_type:w.contact_type||"",contact_label:w.contact_label||"",contact_value:w.contact_value||""})}},[a,i,s,h]),mn(s?`Edit contact detail - ${((y=a==null?void 0:a.title)==null?void 0:y.rendered)||(a==null?void 0:a.title)||"person"}`:`Add contact detail - ${((x=a==null?void 0:a.title)==null?void 0:x.rendered)||(a==null?void 0:a.title)||"person"}`);const m=async g=>{var v,w,b,_;try{const S=[...((v=a.acf)==null?void 0:v.contact_info)||[]],N={contact_type:g.contact_type||"",contact_label:g.contact_label||"",contact_value:g.contact_value||""};s?S[i]=N:S.push(N);const E=Qa(a.acf,{contact_info:S});if(await u.mutateAsync({id:t,data:{acf:E}}),!s&&g.contact_type==="email"&&g.contact_value&&!(a.featured_media>0||((_=(b=(w=a._embedded)==null?void 0:w["wp:featuredmedia"])==null?void 0:b[0])==null?void 0:_.source_url)||a.thumbnail))try{await ke.sideloadGravatar(t,g.contact_value),n.invalidateQueries({queryKey:["person",t]})}catch(O){console.log("No Gravatar found or failed to load:",O)}r(`/people/${t}`)}catch(S){console.error("Failed to save contact detail:",S)}};return o?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):a?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:s?"Edit contact detail":"Add contact detail"}),l.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Contact type *"}),l.jsxs("select",{...c("contact_type",{required:"Please select a contact type"}),className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),cae.map(g=>l.jsx("option",{value:g.value,children:g.label},g.value))]}),f.contact_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...c("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Value *"}),l.jsx("input",{...c("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),f.contact_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.contact_value.message})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),s?"Save changes":"Add contact detail"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function dae({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=T.useState(""),[o,u]=T.useState(!1),c=T.useRef(null),d=T.useRef(null),h=T.useMemo(()=>r.filter(v=>v.id!==i).sort((v,w)=>{var S,N;const b=(v.first_name||((S=v.acf)==null?void 0:S.first_name)||"").toLowerCase(),_=(w.first_name||((N=w.acf)==null?void 0:N.first_name)||"").toLowerCase();return b<_?-1:b>_?1:0}),[r,i]),f=T.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var S,N;const w=mo(v).toLowerCase(),b=(v.first_name||((S=v.acf)==null?void 0:S.first_name)||"").toLowerCase(),_=(v.last_name||((N=v.acf)==null?void 0:N.last_name)||"").toLowerCase();return w.includes(g)||b.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=T.useMemo(()=>h.find(g=>g.id===t),[h,t]);T.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&c.current&&!c.current.contains(v.target)&&u(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),u(!1)},y=()=>{e(null),a(""),u(!1)},x=p?mo(p):"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:p&&!o?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>u(!0),children:[l.jsx("span",{children:x}),l.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:c,type:"text",value:s,onChange:g=>{a(g.target.value),u(!0)},onFocus:()=>u(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&l.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>l.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:mo(g)},g.id)):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function _R(){var S,N;const{personId:t,index:e}=Ss(),r=Qr(),[n]=iO(),i=ut(),s=parseInt(e,10),a=!isNaN(s),{data:o,isLoading:u}=Au(t),c=nh(),{data:d=[],isLoading:h}=Vo(),{data:f=[],isLoading:p}=Ze({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),{register:m,handleSubmit:y,reset:x,control:g,setValue:v,formState:{errors:w,isSubmitting:b}}=Fu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});T.useEffect(()=>{const E=n.get("newPersonId");if(E&&!a&&!h){const C=parseInt(E,10);if(!isNaN(C))if(d.some(I=>I.id===C)){v("related_person",C);const I=new URLSearchParams(n);I.delete("newPersonId"),r({search:I.toString()},{replace:!0})}else(async()=>{try{await i.invalidateQueries({queryKey:["people"]});const{data:j=[]}=await i.refetchQueries({queryKey:["people"]});j.some(M=>M.id===C)&&v("related_person",C);const D=new URLSearchParams(n);D.delete("newPersonId"),r({search:D.toString()},{replace:!0})}catch(j){console.error("Failed to load new person:",j);const P=new URLSearchParams(n);P.delete("newPersonId"),r({search:P.toString()},{replace:!0})}})()}},[n,a,h,d,v,r,i]),T.useEffect(()=>{var E;if(o&&a){const O=(((E=o.acf)==null?void 0:E.relationships)||[])[s];O&&x({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[o,s,a,x]),mn(a?`Edit relationship - ${((S=o==null?void 0:o.title)==null?void 0:S.rendered)||(o==null?void 0:o.title)||"person"}`:`Add relationship - ${((N=o==null?void 0:o.title)==null?void 0:N.rendered)||(o==null?void 0:o.title)||"person"}`);const _=async E=>{var C;try{const O=[...((C=o.acf)==null?void 0:C.relationships)||[]],I={related_person:E.related_person||null,relationship_type:E.relationship_type||null,relationship_label:E.relationship_label||""};a?O[s]=I:O.push(I);const j=Qa(o.acf,{relationships:O});await c.mutateAsync({id:t,data:{acf:j}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return u?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):o?l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to person"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:a?"Edit relationship":"Add relationship"}),l.jsxs("form",{onSubmit:y(_),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related person *"}),l.jsx(Tp,{name:"related_person",control:g,rules:{required:"Please select a person"},render:({field:E})=>l.jsx(dae,{value:E.value,onChange:E.onChange,people:d,isLoading:h,excludePersonId:parseInt(t,10)})}),w.related_person&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:w.related_person.message}),!a&&l.jsx("div",{className:"mt-2",children:l.jsxs(ce,{to:`/people/new?returnTo=relationship&sourcePersonId=${t}`,className:"inline-flex items-center gap-1 text-sm text-primary-600 hover:text-primary-700",children:[l.jsx(Vt,{className:"w-4 h-4"}),"Add new person"]})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Relationship type"}),l.jsxs("select",{...m("relationship_type",{setValueAs:E=>E?parseInt(E,10):null}),className:"input",disabled:p,children:[l.jsx("option",{value:"",children:"Select a type..."}),f.map(E=>l.jsx("option",{value:E.id,children:E.name},E.id))]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Custom label"}),l.jsx("input",{...m("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ce,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):l.jsx(xa,{className:"w-4 h-4 mr-2"}),a?"Save changes":"Add relationship"]})]})]})]})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load person."}),l.jsx(ce,{to:"/people",className:"btn-secondary mt-4",children:"Back to people"})]})}function hae({company:t}){var e,r,n,i,s;return l.jsx(ce,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:l.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?l.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Ft(t),className:"w-12 h-12 rounded-lg object-contain bg-white"}):l.jsx("div",{className:"w-12 h-12 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(ur,{className:"w-6 h-6 text-gray-400"})}),l.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[l.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Ft(t)}),((i=t.acf)==null?void 0:i.industry)&&l.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&l.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function fae(){const[t,e]=T.useState(""),{data:r,isLoading:n,error:i}=Ze({queryKey:["companies",t],queryFn:async()=>(await Ae.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=T.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const u=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),c=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return u.localeCompare(c)}):[],[r]);return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-md",children:[l.jsx(Io,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"search",placeholder:"Search organizations...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),l.jsxs(ce,{to:"/companies/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),n&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load organizations."})}),!n&&!i&&(s==null?void 0:s.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:l.jsx(ur,{className:"w-6 h-6 text-gray-400"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No organizations found"}),l.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first organization."}),!t&&l.jsxs(ce,{to:"/companies/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add organization"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>l.jsx(hae,{company:a},a.id))})]})}function pae(){var y,x,g,v,w,b,_;const{id:t}=Ss(),e=Qr(),r=ut(),{data:n,isLoading:i,error:s}=Ze({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data}),{data:a}=Ze({queryKey:["company-people",t],queryFn:async()=>(await ke.getCompanyPeople(t)).data}),{data:o}=Ze({queryKey:["company",n==null?void 0:n.parent],queryFn:async()=>(await Ae.getCompany(n.parent,{_embed:!0})).data,enabled:!!(n!=null&&n.parent)}),{data:u=[]}=Ze({queryKey:["company-children",t],queryFn:async()=>(await Ae.getCompanies({parent:t,per_page:100,_embed:!0})).data}),c=((y=n==null?void 0:n.acf)==null?void 0:y.investors)||[],{data:d=[]}=Ze({queryKey:["company-investors",t,c],queryFn:async()=>{if(!c.length)return[];const[S,N]=await Promise.all([Ae.getPeople({per_page:100,include:c.join(","),_embed:!0}),Ae.getCompanies({per_page:100,include:c.join(","),_embed:!0})]),E=(S.data||[]).map(I=>{var j,P,D,M;return{id:I.id,type:"person",name:on(((j=I.title)==null?void 0:j.rendered)||""),thumbnail:(M=(D=(P=I._embedded)==null?void 0:P["wp:featuredmedia"])==null?void 0:D[0])==null?void 0:M.source_url}}),C=(N.data||[]).map(I=>{var j,P,D;return{id:I.id,type:"company",name:Ft(I),thumbnail:(D=(P=(j=I._embedded)==null?void 0:j["wp:featuredmedia"])==null?void 0:P[0])==null?void 0:D.source_url}}),O=[...E,...C];return c.map(I=>O.find(j=>j.id===I)).filter(Boolean)},enabled:c.length>0}),{data:h=[]}=Ze({queryKey:["investments",t],queryFn:async()=>(await ke.getInvestments(t)).data,enabled:!!t}),f=rt({mutationFn:()=>Ae.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});mn(Ft(n)||"Organization"),T.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const p=async()=>{if(window.confirm("Are you sure you want to delete this organization?"))try{await f.mutateAsync()}catch(S){console.error("Failed to delete company:",S),alert("Failed to delete organization. Please try again.")}};if(i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600",children:"Failed to load organization."}),l.jsx(ce,{to:"/companies",className:"btn-secondary mt-4",children:"Back to organizations"})]});if(n.status==="trash")return null;const m=n.acf||{};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ce,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs(ce,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[l.jsx(NK,{className:"w-4 h-4 mr-2"}),"Edit"]}),l.jsxs("button",{onClick:p,className:"btn-danger",children:[l.jsx(Ln,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),l.jsx("div",{className:"card p-6",children:l.jsxs("div",{className:"flex items-center gap-4",children:[(v=(g=(x=n._embedded)==null?void 0:x["wp:featuredmedia"])==null?void 0:g[0])!=null&&v.source_url?l.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Ft(n),className:"w-24 h-24 rounded-lg object-contain bg-white"}):l.jsx("div",{className:"w-24 h-24 bg-white rounded-lg flex items-center justify-center border border-gray-200",children:l.jsx(ur,{className:"w-12 h-12 text-gray-400"})}),l.jsxs("div",{children:[o&&l.jsxs(ce,{to:`/companies/${o.id}`,className:"text-sm text-primary-600 hover:underline flex items-center mb-1",children:[l.jsx(XI,{className:"w-3 h-3 mr-1"}),"Subsidiary of ",Ft(o)]}),l.jsx("h1",{className:"text-2xl font-bold",children:Ft(n)}),m.industry&&l.jsx("p",{className:"text-gray-500",children:m.industry}),m.website&&l.jsxs("a",{href:m.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[l.jsx(zf,{className:"w-4 h-4 mr-1"}),m.website]})]})]})}),u.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(XI,{className:"w-5 h-5 mr-2"}),"Subsidiaries"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:u.map(S=>{var N,E,C,O;return l.jsxs(ce,{to:`/companies/${S.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[(C=(E=(N=S._embedded)==null?void 0:N["wp:featuredmedia"])==null?void 0:E[0])!=null&&C.source_url?l.jsx("img",{src:S._embedded["wp:featuredmedia"][0].source_url,alt:Ft(S),className:"w-10 h-10 rounded object-contain bg-white"}):l.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:Ft(S)}),((O=S.acf)==null?void 0:O.industry)&&l.jsx("p",{className:"text-xs text-gray-500",children:S.acf.industry})]})]},S.id)})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2"}),"Current employees"]}),((w=a==null?void 0:a.current)==null?void 0:w.length)>0?l.jsx("div",{className:"space-y-2",children:a.current.map(S=>{var N;return l.jsxs(ce,{to:`/people/${S.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[S.thumbnail?l.jsx("img",{src:S.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:((N=S.name)==null?void 0:N[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium",children:S.name}),S.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:S.job_title})]})]},S.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Di,{className:"w-5 h-5 mr-2"}),"Former employees"]}),((b=a==null?void 0:a.former)==null?void 0:b.length)>0?l.jsx("div",{className:"space-y-2",children:a.former.map(S=>{var N;return l.jsxs(ce,{to:`/people/${S.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[S.thumbnail?l.jsx("img",{src:S.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):l.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:l.jsx("span",{className:"text-xs text-gray-500",children:((N=S.name)==null?void 0:N[0])||"?"})}),l.jsxs("div",{className:"ml-2",children:[l.jsx("p",{className:"text-sm font-medium text-gray-700",children:S.name}),S.job_title&&l.jsx("p",{className:"text-xs text-gray-500",children:S.job_title})]})]},S.id)})}):l.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),d.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Ep,{className:"w-5 h-5 mr-2"}),"Investors"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:d.map(S=>{const N=S.type==="person",E=N?`/people/${S.id}`:`/companies/${S.id}`;return l.jsxs(ce,{to:E,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[S.thumbnail?l.jsx("img",{src:S.thumbnail,alt:S.name,loading:"lazy",className:`w-10 h-10 object-cover ${N?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-10 h-10 bg-gray-100 flex items-center justify-center ${N?"rounded-full":"rounded"}`,children:N?l.jsx(wa,{className:"w-5 h-5 text-gray-400"}):l.jsx(ur,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:S.name}),l.jsx("p",{className:"text-xs text-gray-500",children:N?"Person":"Organization"})]})]},`${S.type}-${S.id}`)})})]}),h.length>0&&l.jsxs("div",{className:"card p-6",children:[l.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[l.jsx(Ep,{className:"w-5 h-5 mr-2"}),"Invested in"]}),l.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-3",children:h.map(S=>l.jsxs(ce,{to:`/companies/${S.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 border border-gray-200",children:[S.thumbnail?l.jsx("img",{src:S.thumbnail,alt:S.name,loading:"lazy",className:"w-10 h-10 object-contain rounded"}):l.jsx("div",{className:"w-10 h-10 bg-gray-100 flex items-center justify-center rounded",children:l.jsx(ur,{className:"w-5 h-5 text-gray-400"})}),l.jsxs("div",{className:"ml-3",children:[l.jsx("p",{className:"text-sm font-medium",children:S.name}),S.industry&&l.jsx("p",{className:"text-xs text-gray-500",children:S.industry})]})]},S.id))})]}),((_=m.contact_info)==null?void 0:_.length)>0&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"font-semibold mb-4",children:"Contact information"}),l.jsx("div",{className:"space-y-3",children:m.contact_info.map((S,N)=>l.jsxs("div",{children:[l.jsxs("span",{className:"text-sm text-gray-500",children:[S.contact_label||S.contact_type,":"]}),l.jsx("span",{className:"ml-2",children:S.contact_value})]},N))})]})]})}function SR(){var fe,me,$e,xe,je,Fe,tt,Et,ht;const{id:t}=Ss(),e=Qr(),r=ut(),n=!!t,{data:i,isLoading:s}=Ze({queryKey:["company",t],queryFn:async()=>(await Ae.getCompany(t,{_embed:!0})).data,enabled:n}),{data:a=[],isLoading:o}=Ze({queryKey:["companies","all"],queryFn:async()=>(await Ae.getCompanies({per_page:100,_embed:!0})).data}),{data:u=[],isLoading:c}=Ze({queryKey:["people","all"],queryFn:async()=>(await Ae.getPeople({per_page:100,_embed:!0})).data}),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[m,y]=T.useState(""),[x,g]=T.useState(""),[v,w]=T.useState(!1),[b,_]=T.useState(""),[S,N]=T.useState([]),E=T.useRef(null),C=T.useRef(null),O=T.useRef(null),I=T.useMemo(()=>{const Y=m.toLowerCase().trim();let Se=a.filter(Re=>!(n&&Re.id===parseInt(t)||n&&Re.parent===parseInt(t)));return Y&&(Se=Se.filter(Re=>{var Be;return(Be=Ft(Re))==null?void 0:Be.toLowerCase().includes(Y)})),[...Se].sort((Re,Be)=>(Ft(Re)||"").localeCompare(Ft(Be)||""))},[a,m,t,n]),j=T.useMemo(()=>a.find(Y=>Y.id===parseInt(x)),[a,x]),P=T.useMemo(()=>{const Y=b.toLowerCase().trim(),Se=u.map(Ce=>{var Ue,Nt,Tt,$;return{id:Ce.id,type:"person",name:on(((Ue=Ce.title)==null?void 0:Ue.rendered)||""),thumbnail:($=(Tt=(Nt=Ce._embedded)==null?void 0:Nt["wp:featuredmedia"])==null?void 0:Tt[0])==null?void 0:$.source_url}}),Re=a.filter(Ce=>!n||Ce.id!==parseInt(t)).map(Ce=>{var Ue,Nt,Tt;return{id:Ce.id,type:"company",name:Ft(Ce),thumbnail:(Tt=(Nt=(Ue=Ce._embedded)==null?void 0:Ue["wp:featuredmedia"])==null?void 0:Nt[0])==null?void 0:Tt.source_url}});let Be=[...Se,...Re];Y&&(Be=Be.filter(Ce=>{var Ue;return(Ue=Ce.name)==null?void 0:Ue.toLowerCase().includes(Y)}));const Mt=S.map(Ce=>`${Ce.type}-${Ce.id}`);return Be=Be.filter(Ce=>!Mt.includes(`${Ce.type}-${Ce.id}`)),Be.sort((Ce,Ue)=>(Ce.name||"").localeCompare(Ue.name||""))},[u,a,b,S,t,n]);T.useEffect(()=>{const Y=Se=>{C.current&&!C.current.contains(Se.target)&&p(!1)};if(f)return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[f]),T.useEffect(()=>{const Y=Se=>{O.current&&!O.current.contains(Se.target)&&w(!1)};if(v)return document.addEventListener("mousedown",Y),()=>document.removeEventListener("mousedown",Y)},[v]);const D=rt({mutationFn:Y=>Ae.createCompany(Y),onSuccess:Y=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${Y.data.id}`)}}),M=rt({mutationFn:Y=>Ae.updateCompany(t,Y),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),z=async Y=>{var Re;const Se=(Re=Y.target.files)==null?void 0:Re[0];if(Se){if(!Se.type.startsWith("image/")){alert("Please select an image file");return}if(Se.size>5*1024*1024){alert("Image size must be less than 5MB");return}h(!0);try{await ke.uploadCompanyLogo(t,Se),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(Be){console.error("Failed to upload logo:",Be),alert("Failed to upload logo. Please try again.")}finally{h(!1),E.current&&(E.current.value="")}}},{register:W,handleSubmit:A,reset:H,formState:{errors:B,isSubmitting:V}}=Fu();T.useEffect(()=>{var Y,Se,Re;i&&(H({title:on(((Y=i.title)==null?void 0:Y.rendered)||""),website:((Se=i.acf)==null?void 0:Se.website)||"",industry:((Re=i.acf)==null?void 0:Re.industry)||""}),i.parent&&g(String(i.parent)))},[i,H]),T.useEffect(()=>{var Y,Se;if(((Se=(Y=i==null?void 0:i.acf)==null?void 0:Y.investors)==null?void 0:Se.length)>0&&u.length>0&&a.length>0){const Be=i.acf.investors.map(Mt=>{var Nt,Tt,$,q,L,se,Z;const Ce=u.find(X=>X.id===Mt);if(Ce)return{id:Ce.id,type:"person",name:on(((Nt=Ce.title)==null?void 0:Nt.rendered)||""),thumbnail:(q=($=(Tt=Ce._embedded)==null?void 0:Tt["wp:featuredmedia"])==null?void 0:$[0])==null?void 0:q.source_url};const Ue=a.find(X=>X.id===Mt);return Ue?{id:Ue.id,type:"company",name:Ft(Ue),thumbnail:(Z=(se=(L=Ue._embedded)==null?void 0:L["wp:featuredmedia"])==null?void 0:se[0])==null?void 0:Z.source_url}:null}).filter(Boolean);N(Be)}},[i,u,a]),mn(n&&i?`Edit ${Ft(i)||"organization"}`:"New organization");const G=async Y=>{const Se=S.map(Be=>Be.id),Re={title:Y.title,status:"publish",parent:x?parseInt(x):0,acf:{website:Y.website,industry:Y.industry,investors:Se}};n?M.mutate(Re):D.mutate(Re)};return n&&s?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ce,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to organizations"})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit organization":"Add new organization"}),l.jsxs("form",{onSubmit:A(G),className:"space-y-6",children:[n&&l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Logo"}),l.jsxs("div",{className:"flex items-center gap-4",children:[($e=(me=(fe=i==null?void 0:i._embedded)==null?void 0:fe["wp:featuredmedia"])==null?void 0:me[0])!=null&&$e.source_url?l.jsxs("div",{className:"relative group",children:[l.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Ft(i)||"Organization logo",className:"w-20 h-20 rounded-lg object-contain bg-white"}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var Y;return(Y=E.current)==null?void 0:Y.click()},children:d?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):l.jsxs("div",{className:"relative group",children:[l.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:l.jsx(Bf,{className:"w-8 h-8 text-gray-400"})}),l.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var Y;return(Y=E.current)==null?void 0:Y.click()},children:d?l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):l.jsx(Bf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),l.jsxs("div",{children:[l.jsx("button",{type:"button",onClick:()=>{var Y;return(Y=E.current)==null?void 0:Y.click()},className:"btn-secondary text-sm",disabled:d,children:(Fe=(je=(xe=i==null?void 0:i._embedded)==null?void 0:xe["wp:featuredmedia"])==null?void 0:je[0])!=null&&Fe.source_url?"Change logo":"Upload logo"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),l.jsx("input",{ref:E,type:"file",accept:"image/*",onChange:z,className:"hidden",disabled:d})]})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Organization name *"}),l.jsx("input",{...W("title",{required:"Organization name is required"}),className:"input",placeholder:"Acme Inc."}),B.title&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:B.title.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Website"}),l.jsx("input",{...W("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Industry"}),l.jsx("input",{...W("industry"),className:"input",placeholder:"Technology"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Parent organization"}),l.jsxs("div",{className:"relative",ref:C,children:[l.jsxs("button",{type:"button",onClick:()=>p(!f),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o,children:[j?l.jsxs("div",{className:"flex items-center gap-2",children:[(ht=(Et=(tt=j._embedded)==null?void 0:tt["wp:featuredmedia"])==null?void 0:Et[0])!=null&&ht.source_url?l.jsx("img",{src:j._embedded["wp:featuredmedia"][0].source_url,alt:Ft(j),className:"w-6 h-6 rounded object-contain bg-white"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-gray-900",children:Ft(j)})]}):l.jsx("span",{className:"text-gray-400",children:"No parent organization"}),l.jsx(Sp,{className:`w-4 h-4 text-gray-400 transition-transform ${f?"rotate-180":""}`})]}),f&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(Io,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:m,onChange:Y=>y(Y.target.value),placeholder:"Search organizations...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsxs("div",{className:"overflow-y-auto max-h-48",children:[l.jsx("button",{type:"button",onClick:()=>{g(""),p(!1),y("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${x?"":"bg-primary-50"}`,children:l.jsx("span",{className:"text-sm text-gray-500 italic",children:"No parent organization"})}),o?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):I.length>0?I.map(Y=>{var Se,Re,Be;return l.jsxs("button",{type:"button",onClick:()=>{g(String(Y.id)),p(!1),y("")},className:`w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors ${x===String(Y.id)?"bg-primary-50":""}`,children:[(Be=(Re=(Se=Y._embedded)==null?void 0:Se["wp:featuredmedia"])==null?void 0:Re[0])!=null&&Be.source_url?l.jsx("img",{src:Y._embedded["wp:featuredmedia"][0].source_url,alt:Ft(Y),className:"w-6 h-6 rounded object-contain bg-white"}):l.jsx("div",{className:"w-6 h-6 bg-gray-200 rounded flex items-center justify-center",children:l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-900 truncate",children:Ft(Y)})]},Y.id)}):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"No organizations found"})]})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select if this organization is a subsidiary or division of another"})]}),l.jsxs("div",{children:[l.jsxs("label",{className:"label flex items-center",children:[l.jsx(Ep,{className:"w-4 h-4 mr-2"}),"Investors"]}),S.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2 mb-2",children:S.map(Y=>l.jsxs("div",{className:"flex items-center gap-1.5 bg-gray-100 rounded-full pl-1 pr-2 py-1",children:[Y.thumbnail?l.jsx("img",{src:Y.thumbnail,alt:Y.name,className:`w-5 h-5 object-cover ${Y.type==="person"?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-5 h-5 bg-gray-300 flex items-center justify-center ${Y.type==="person"?"rounded-full":"rounded"}`,children:Y.type==="person"?l.jsx(wa,{className:"w-3 h-3 text-gray-500"}):l.jsx(ur,{className:"w-3 h-3 text-gray-500"})}),l.jsx("span",{className:"text-sm text-gray-700",children:Y.name}),l.jsx("button",{type:"button",onClick:()=>N(Se=>Se.filter(Re=>!(Re.id===Y.id&&Re.type===Y.type))),className:"ml-1 text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-3.5 h-3.5"})})]},`${Y.type}-${Y.id}`))}),l.jsxs("div",{className:"relative",ref:O,children:[l.jsxs("button",{type:"button",onClick:()=>w(!v),className:"w-full flex items-center justify-between px-3 py-2 border border-gray-300 rounded-md bg-white text-left focus:outline-none focus:ring-2 focus:ring-primary-500 focus:border-transparent",disabled:o||c,children:[l.jsx("span",{className:"text-gray-400",children:"Add investor..."}),l.jsx(Sp,{className:`w-4 h-4 text-gray-400 transition-transform ${v?"rotate-180":""}`})]}),v&&l.jsxs("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-60 overflow-hidden",children:[l.jsx("div",{className:"p-2 border-b border-gray-100",children:l.jsxs("div",{className:"relative",children:[l.jsx(Io,{className:"absolute left-2 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),l.jsx("input",{type:"text",value:b,onChange:Y=>_(Y.target.value),placeholder:"Search people and organizations...",className:"w-full pl-8 pr-3 py-1.5 text-sm border border-gray-200 rounded focus:outline-none focus:ring-1 focus:ring-primary-500",autoFocus:!0})]})}),l.jsx("div",{className:"overflow-y-auto max-h-48",children:o||c?l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:"Loading..."}):P.length>0?P.map(Y=>l.jsxs("button",{type:"button",onClick:()=>{N(Se=>[...Se,Y]),_("")},className:"w-full flex items-center gap-2 px-3 py-2 text-left hover:bg-gray-50 transition-colors",children:[Y.thumbnail?l.jsx("img",{src:Y.thumbnail,alt:Y.name,className:`w-6 h-6 object-cover ${Y.type==="person"?"rounded-full":"rounded"}`}):l.jsx("div",{className:`w-6 h-6 bg-gray-200 flex items-center justify-center ${Y.type==="person"?"rounded-full":"rounded"}`,children:Y.type==="person"?l.jsx(wa,{className:"w-4 h-4 text-gray-500"}):l.jsx(ur,{className:"w-4 h-4 text-gray-500"})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("span",{className:"text-sm text-gray-900 truncate block",children:Y.name}),l.jsx("span",{className:"text-xs text-gray-500",children:Y.type==="person"?"Person":"Organization"})]})]},`${Y.type}-${Y.id}`)):l.jsx("div",{className:"p-3 text-center text-gray-500 text-sm",children:b?"No results found":"No people or organizations available"})})]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Select people or organizations that have invested in this company"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ce,{to:"/companies",className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:V,children:[l.jsx(xa,{className:"w-4 h-4 mr-2"}),n?"Save changes":"Create organization"]})]})]})]})]})}function mae({person:t,dateType:e}){var r;return l.jsx("div",{className:"flex items-center gap-3 py-2",children:l.jsxs(ce,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?l.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),l.jsx("span",{className:"font-medium truncate",children:t.name}),l.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function vae({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,u;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((u=s.related_people)==null?void 0:u.length)>0?s.related_people.forEach(c=>{i.push({person:c,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),l.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:l.jsxs("div",{className:"flex items-start gap-4",children:[l.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:l.jsx("span",{className:"text-2xl font-bold leading-none",children:nn(new Date(e.next_occurrence),"d")})}),l.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>l.jsx(mae,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function gae(){const{data:t,isLoading:e,error:r}=pne(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=nn(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const u=nn(new Date(a),"MMMM yyyy");return s[u]||(s[u]=[]),s[u].push(o),s},{});return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),l.jsxs(ce,{to:"/dates/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),e&&l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&l.jsx("div",{className:"card p-6 text-center",children:l.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&l.jsxs("div",{className:"card p-12 text-center",children:[l.jsx(da,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),l.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),l.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),l.jsxs(ce,{to:"/dates/new",className:"btn-primary",children:[l.jsx(Vt,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Add date"})]})]}),Object.entries(i).map(([s,a])=>l.jsxs("div",{children:[l.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),l.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>l.jsx(vae,{dates:o},o[0].next_occurrence))})]},s))]})}function yae({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=T.useState(""),a=T.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>mo(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=T.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),u=d=>{t.includes(d)||e([...t,d]),s("")},c=d=>{e(t.filter(h=>h!==d))};return l.jsxs("div",{className:"space-y-2",children:[o.length>0&&l.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>l.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[mo(d),l.jsx("button",{type:"button",onClick:()=>c(d.id),className:"hover:text-primary-600",children:l.jsx(Mr,{className:"w-3 h-3"})})]},d.id))}),l.jsxs("div",{className:"relative",children:[l.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&l.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>l.jsx("button",{type:"button",onClick:()=>u(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:mo(d)},d.id)):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function ER(){var H;const{id:t}=Ss(),[e]=iO(),r=Qr(),n=ut(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:u}=Ze({queryKey:["important-date",t],queryFn:async()=>(await Ae.getDate(t)).data,enabled:i}),c=T.useMemo(()=>{var V;if(!((V=o==null?void 0:o.acf)!=null&&V.related_people))return[];const B=o.acf.related_people;return Array.isArray(B)?B.map(G=>parseInt(typeof G=="object"&&G!==null?G.ID||G.id||G.post_id:G,10)).filter(G=>!isNaN(G)&&G>0):[]},[o]),{data:d=[],isLoading:h}=Vo({orderby:"title",order:"asc"}),{data:f=[]}=Ze({queryKey:["people","specific",c],queryFn:async()=>{const B=c.map(G=>Ae.getPerson(G,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(B)).filter(Boolean)},enabled:c.length>0}),p=T.useMemo(()=>{const B=new Map;return d.forEach(V=>B.set(V.id,V)),f.forEach(V=>{var fe,me,$e,xe,je,Fe,tt,Et,ht,Y,Se,Re,Be,Mt,Ce,Ue;const G={...V,id:V.id,name:mo(V),first_name:((fe=V.acf)==null?void 0:fe.first_name)||"",last_name:((me=V.acf)==null?void 0:me.last_name)||"",is_favorite:(($e=V.acf)==null?void 0:$e.is_favorite)||!1,thumbnail:((Fe=(je=(xe=V._embedded)==null?void 0:xe["wp:featuredmedia"])==null?void 0:je[0])==null?void 0:Fe.source_url)||((Re=(Se=(Y=(ht=(Et=(tt=V._embedded)==null?void 0:tt["wp:featuredmedia"])==null?void 0:Et[0])==null?void 0:ht.media_details)==null?void 0:Y.sizes)==null?void 0:Se.thumbnail)==null?void 0:Re.source_url)||null,labels:((Ue=(Ce=(Mt=(Be=V._embedded)==null?void 0:Be["wp:term"])==null?void 0:Mt.flat())==null?void 0:Ce.filter(Nt=>(Nt==null?void 0:Nt.taxonomy)==="person_label"))==null?void 0:Ue.map(Nt=>Nt.name))||[]};B.set(G.id,G)}),Array.from(B.values())},[d,f]),{data:m=[]}=Ze({queryKey:["date-types"],queryFn:async()=>((await Ae.getDateTypes()).data||[]).sort((G,fe)=>{const me=G.name||"",$e=fe.name||"";return me.localeCompare($e)})}),y=rt({mutationFn:B=>Ae.createDate(B),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),x=rt({mutationFn:B=>Ae.updateDate(t,B),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const B=b("related_people");(B==null?void 0:B.length)>0?r(`/people/${B[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:w,watch:b,setValue:_,control:S,formState:{errors:N,isSubmitting:E}}=Fu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0}}),C=b("related_people"),O=b("date_type"),I=b("title");T.useEffect(()=>{var G;if((!I||["'s Birthday","Wedding of "].some(fe=>I.endsWith(fe)||I.startsWith(fe)))&&(C==null?void 0:C.length)>0&&O){const fe=m.find(je=>je.id===parseInt(O)),me=(fe==null?void 0:fe.name)||"",$e=((G=fe==null?void 0:fe.slug)==null?void 0:G.toLowerCase())||me.toLowerCase(),xe=C.map(je=>{var tt,Et,ht;const Fe=p.find(Y=>Y.id===je);return Fe?on(((tt=Fe.acf)==null?void 0:tt.first_name)||((ht=(Et=Fe.title)==null?void 0:Et.rendered)==null?void 0:ht.split(" ")[0])||""):null}).filter(Boolean);if(xe.length>0&&me){let je;$e==="wedding"?xe.length>=2?je=`Wedding of ${xe[0]} & ${xe[1]}`:je=`Wedding of ${xe[0]}`:je=`${xe[0]}'s ${me}`,_("title",je)}}},[C,O,p,m,_,I]);const[j,P]=T.useState(!1);T.useEffect(()=>{var V,G,fe,me,$e;if(j&&!i)return;const B=c.length===0||f.length>0;if(o&&p.length>0&&B){let xe=[];const je=(V=o.acf)==null?void 0:V.related_people;je&&(Array.isArray(je)?xe=je.map(tt=>parseInt(typeof tt=="object"&&tt!==null?tt.ID||tt.id||tt.post_id:tt,10)).filter(tt=>!isNaN(tt)&&tt>0):typeof je=="number"&&(xe=[je]));let Fe="";((G=o.date_type)==null?void 0:G.length)>0&&(Fe=o.date_type[0].toString()),w({title:on(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((me=o.acf)==null?void 0:me.date_value)||"",date_type:Fe,related_people:xe,is_recurring:(($e=o.acf)==null?void 0:$e.is_recurring)??!0}),P(!0)}else if(!i&&p.length>0&&m.length>0){const xe={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0};if(s&&(xe.related_people=[parseInt(s)]),a){const je=m.find(Fe=>Fe.slug===a||Fe.name.toLowerCase()===a.toLowerCase());je&&(xe.date_type=je.id.toString())}w(xe),P(!0)}},[o,w,i,s,a,m,p,c,f,j]),mn(i&&o?`Edit ${((H=o.title)==null?void 0:H.rendered)||o.title||"date"}`:"New date");const D=async B=>{const V={title:B.title,status:"publish",date_type:B.date_type?[parseInt(B.date_type)]:[],acf:{date_value:B.date_value,related_people:B.related_people,is_recurring:B.is_recurring}};i?x.mutate(V):y.mutate(V)};if(i&&u)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const M=b("related_people"),z=i&&(M==null?void 0:M.length)>0?M[0]:s,W=z?`/people/${z}`:"/dates",A=z?"Back to person":"Back to dates";return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs(ce,{to:W,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:A})]})}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit date":"Add new date"}),l.jsxs("form",{onSubmit:v(D),className:"space-y-6",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Related people"}),l.jsx(Tp,{name:"related_people",control:S,render:({field:B})=>l.jsx(yae,{value:B.value,onChange:B.onChange,people:p,isLoading:h})})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date type *"}),l.jsx(Tp,{name:"date_type",control:S,rules:{required:"Please select a date type"},render:({field:B})=>{const V=B.value?String(B.value):"";return l.jsxs("select",{value:V,onChange:G=>{const fe=G.target.value;B.onChange(fe)},onBlur:B.onBlur,name:B.name,ref:B.ref,className:"input",children:[l.jsx("option",{value:"",children:"Select a type..."}),m.map(G=>l.jsx("option",{value:String(G.id),children:G.name},G.id))]})}}),N.date_type&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_type.message})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Label"}),l.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Date *"}),l.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),N.date_value&&l.jsx("p",{className:"text-sm text-red-600 mt-1",children:N.date_value.message})]}),l.jsxs("div",{className:"flex items-center",children:[l.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),l.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),l.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[l.jsx(ce,{to:W,className:"btn-secondary",children:"Cancel"}),l.jsxs("button",{type:"submit",className:"btn-primary",disabled:E,children:[l.jsx(xa,{className:"w-4 h-4 mr-2"}),i?"Save changes":"Create date"]})]})]})]})]})}function bae(){mn("Todos");const[t,e]=T.useState(!1),[r,n]=T.useState(null),[i,s]=T.useState(!1),[a,o]=T.useState(!1),[u,c]=T.useState(null),[d,h]=T.useState(!1),[f,p]=T.useState(!1),[m,y]=T.useState(null),{data:x,isLoading:g}=TK(!0),v=PK(),w=mne(),b=xO(),_=T.useMemo(()=>UK(new Date,3),[]),{incompleteTodos:S,recentlyCompletedTodos:N,olderCompletedTodos:E}=T.useMemo(()=>{if(!x)return{incompleteTodos:[],recentlyCompletedTodos:[],olderCompletedTodos:[]};const z=[],W=[],A=[];return x.forEach(H=>{if(!H.is_completed)z.push(H);else try{const B=jd(H.created);Yie(B,_)?W.push(H):A.push(H)}catch{A.push(H)}}),{incompleteTodos:z,recentlyCompletedTodos:W,olderCompletedTodos:A}},[x,_]),C=z=>{if(!z.is_completed){c(z),h(!0);return}v.mutate({todoId:z.id,data:{content:z.content,due_date:z.due_date,is_completed:!1}})},O=()=>{u&&(v.mutate({todoId:u.id,data:{content:u.content,due_date:u.due_date,is_completed:!0}}),h(!1),c(null))},I=()=>{if(!u)return;const z=new Date().toISOString().split("T")[0];y({content:u.content,activity_date:z,activity_type:"note",participants:[]}),h(!1),p(!0)},j=async z=>{if(u)try{await b.mutateAsync({personId:u.person_id,data:z}),await v.mutateAsync({todoId:u.id,data:{content:u.content,due_date:u.due_date,is_completed:!0}}),p(!1),c(null),y(null)}catch(W){console.error("Failed to create activity:",W),alert("Failed to create activity. Please try again.")}},P=async z=>{r&&(await v.mutateAsync({todoId:r.id,data:z}),s(!1),n(null))},D=async z=>{window.confirm("Are you sure you want to delete this todo?")&&await w.mutateAsync(z)};if(g)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const M=[...N,...E];return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Todos"}),l.jsxs("div",{className:"flex items-center gap-2",children:[E.length>0&&l.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary text-sm flex items-center gap-2 ${t?"bg-primary-50 border-primary-300":""}`,children:[l.jsx(Fj,{className:"w-4 h-4"}),t?"Hide older":"Show all completed"]}),l.jsxs("button",{onClick:()=>o(!0),className:"btn-primary text-sm flex items-center gap-2",children:[l.jsx(Vt,{className:"w-4 h-4"}),"Add todo"]})]})]}),l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(bu,{className:"w-5 h-5 mr-2 text-gray-500"}),"Open todos (",S.length,")"]})}),S.length>0?l.jsx("div",{className:"divide-y divide-gray-100",children:S.map(z=>l.jsx(Lv,{todo:z,onToggle:C,onEdit:W=>{n(W),s(!0)},onDelete:D},z.id))}):l.jsxs("div",{className:"p-8 text-center",children:[l.jsx(ki,{className:"w-12 h-12 text-gray-300 mx-auto mb-3"}),l.jsx("p",{className:"text-gray-500",children:"No open todos"}),l.jsx("p",{className:"text-sm text-gray-400 mt-1",children:"Create todos from a person's detail page"})]})]}),N.length>0&&!t&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(Xre,{className:"w-5 h-5 mr-2 text-primary-600"}),"Recently completed (",N.length,")"]})}),l.jsx("div",{className:"divide-y divide-gray-100",children:N.map(z=>l.jsx(Lv,{todo:z,onToggle:C,onEdit:W=>{n(W),s(!0)},onDelete:D},z.id))})]}),t&&M.length>0&&l.jsxs("div",{className:"card",children:[l.jsx("div",{className:"p-4 border-b border-gray-200",children:l.jsxs("h2",{className:"font-semibold flex items-center",children:[l.jsx(ki,{className:"w-5 h-5 mr-2 text-primary-600"}),"All completed todos (",M.length,")"]})}),l.jsx("div",{className:"divide-y divide-gray-100",children:M.map(z=>l.jsx(Lv,{todo:z,onToggle:C,onEdit:W=>{n(W),s(!0)},onDelete:D},z.id))})]}),l.jsx(HK,{isOpen:i,onClose:()=>{s(!1),n(null)},onSubmit:P,isLoading:v.isPending,todo:r}),l.jsx($K,{isOpen:a,onClose:()=>o(!1)}),l.jsx(wO,{isOpen:d,onClose:()=>{h(!1),c(null)},todo:u,onComplete:O,onCompleteAsActivity:I}),l.jsx(_O,{isOpen:f,onClose:()=>{p(!1),c(null),y(null)},onSubmit:j,isLoading:b.isPending,personId:u==null?void 0:u.person_id,initialData:m})]})}function Lv({todo:t,onToggle:e,onEdit:r,onDelete:n}){var s;const i=sh(t);return l.jsxs("div",{className:"flex items-start p-4 hover:bg-gray-50 transition-colors group",children:[l.jsx("button",{onClick:()=>e(t),className:"mt-0.5 mr-3 flex-shrink-0",title:t.is_completed?"Mark as incomplete":"Mark as complete",children:t.is_completed?l.jsx(ki,{className:"w-5 h-5 text-primary-600"}):l.jsx(bu,{className:`w-5 h-5 ${i?"text-red-600":"text-gray-400"}`})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:`text-sm ${t.is_completed?"line-through text-gray-400":i?"text-red-600 font-medium":"text-gray-900"}`,children:t.content}),l.jsxs("div",{className:"flex flex-wrap items-center gap-3 mt-2",children:[l.jsxs(ce,{to:`/people/${t.person_id}`,className:"flex items-center gap-2 text-xs text-primary-600 hover:text-primary-700 hover:underline",children:[t.person_thumbnail?l.jsx("img",{src:t.person_thumbnail,alt:t.person_name,className:"w-5 h-5 rounded-full object-cover"}):l.jsx("div",{className:"w-5 h-5 bg-gray-200 rounded-full flex items-center justify-center",children:l.jsx("span",{className:"text-xs text-gray-500",children:(s=t.person_name)==null?void 0:s[0]})}),t.person_name]}),t.due_date&&l.jsxs("span",{className:`text-xs ${i&&!t.is_completed?"text-red-600 font-medium":"text-gray-500"}`,children:["Due: ",nn(new Date(t.due_date),"MMM d, yyyy"),i&&!t.is_completed&&" (overdue)"]})]})]}),l.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[l.jsx("button",{onClick:()=>r(t),className:"p-1 hover:bg-gray-100 rounded",title:"Edit todo",children:l.jsx(Wa,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),l.jsx("button",{onClick:()=>n(t.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete todo",children:l.jsx(Ln,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})}function xae(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=T.useState(""),[i,s]=T.useState(""),[a,o]=T.useState(!0),[u,c]=T.useState(!1),[d,h]=T.useState(!1),[f,p]=T.useState([]),[m,y]=T.useState(""),[x,g]=T.useState(!1),[v,w]=T.useState(""),[b,_]=T.useState("09:00"),[S,N]=T.useState(!0),[E,C]=T.useState(!1),[O,I]=T.useState(!1),[j,P]=T.useState(!1),[D,M]=T.useState(""),[z,W]=T.useState(!1),[A,H]=T.useState([]),[B,V]=T.useState([]),[G,fe]=T.useState([]),[me,$e]=T.useState(!1),[xe,je]=T.useState(!1),[Fe,tt]=T.useState(!1),[Et,ht]=T.useState(""),[Y,Se]=T.useState(!1),[Re,Be]=T.useState("");T.useEffect(()=>{(async()=>{try{const oe=await ue.get("/prm/v1/user/ical-url");n(oe.data.url),s(oe.data.webcal_url)}catch(oe){console.error("Failed to fetch iCal URL:",oe)}finally{o(!1)}})()},[]);const Mt=async()=>{$e(!0);try{const[K,oe]=await Promise.all([ke.getSlackChannels(),ke.getSlackTargets()]);H(K.data.channels||[]),V(K.data.users||[]),fe(oe.data.targets||[])}catch(K){console.error("Failed to fetch Slack data:",K),M("Failed to load Slack channels and users. Please try refreshing the page.")}finally{$e(!1)}};T.useEffect(()=>{(async()=>{try{const oe=await ke.getNotificationChannels();p(oe.data.channels||["email"]),y(oe.data.slack_webhook||""),_(oe.data.notification_time||"09:00");const pe=await ke.getSlackStatus(),Xe=pe.data.connected||!1;g(Xe),w(pe.data.workspace_name||""),Xe&&await Mt()}catch(oe){console.error("Failed to fetch notification channels:",oe)}finally{N(!1)}})()},[]),T.useEffect(()=>{x&&Mt()},[x]),T.useEffect(()=>{const K=new URLSearchParams(window.location.search),oe=K.get("slack_connected"),pe=K.get("slack_error");oe==="1"?(M("Slack connected successfully!"),ke.getSlackStatus().then(Xe=>{g(Xe.data.connected||!1),w(Xe.data.workspace_name||"")}),window.history.replaceState({},"",window.location.pathname)):pe&&(M(`Slack connection failed: ${pe}`),window.history.replaceState({},"",window.location.pathname))},[]);const Ce=async()=>{var K,oe;try{const pe=await ue.get("/prm/v1/slack/oauth/authorize");window.location.href=pe.data.oauth_url}catch(pe){console.error("Failed to get Slack OAuth URL:",pe),alert(((oe=(K=pe.response)==null?void 0:K.data)==null?void 0:oe.message)||"Failed to connect Slack")}},Ue=async()=>{var K,oe;if(confirm("Are you sure you want to disconnect Slack? You will stop receiving Slack notifications.")){W(!0);try{await ke.disconnectSlack(),g(!1),w(""),H([]),V([]),fe([]),M("Slack disconnected successfully"),f.includes("slack")&&await L("slack")}catch(pe){console.error("Failed to disconnect Slack:",pe),alert(((oe=(K=pe.response)==null?void 0:K.data)==null?void 0:oe.message)||"Failed to disconnect Slack")}finally{W(!1)}}},Nt=K=>{const oe=G.includes(K)?G.filter(pe=>pe!==K):[...G,K];fe(oe)},Tt=async()=>{var K,oe;je(!0);try{await ke.updateSlackTargets(G),M("Notification targets saved successfully"),setTimeout(()=>M(""),3e3)}catch(pe){console.error("Failed to save Slack targets:",pe),alert(((oe=(K=pe.response)==null?void 0:K.data)==null?void 0:oe.message)||"Failed to save notification targets")}finally{je(!1)}},$=async()=>{try{await navigator.clipboard.writeText(r),c(!0),setTimeout(()=>c(!1),2e3)}catch(K){console.error("Failed to copy:",K)}},q=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const K=await ue.post("/prm/v1/user/regenerate-ical-token");n(K.data.url),s(K.data.webcal_url)}catch(K){console.error("Failed to regenerate token:",K)}finally{h(!1)}}},L=async K=>{var pe,Xe;const oe=f.includes(K)?f.filter(ve=>ve!==K):[...f,K];C(!0);try{await ke.updateNotificationChannels(oe),p(oe)}catch(ve){console.error("Failed to update notification channels:",ve),alert(((Xe=(pe=ve.response)==null?void 0:pe.data)==null?void 0:Xe.message)||"Failed to update notification channels")}finally{C(!1)}},se=async K=>{var le,_e;const[oe,pe]=K.split(":").map(Number),Xe=Math.round(pe/5)*5,ve=Xe===60?(oe+1)%24:oe,ne=Xe===60?0:Xe,de=`${String(ve).padStart(2,"0")}:${String(ne).padStart(2,"0")}`;_(de),P(!0);try{await ke.updateNotificationTime(de)}catch(Ve){console.error("Failed to update notification time:",Ve),alert(((_e=(le=Ve.response)==null?void 0:le.data)==null?void 0:_e.message)||"Failed to update notification time");const Rn=await ke.getNotificationChannels();_(Rn.data.notification_time||"09:00")}finally{P(!1)}},Z=async()=>{var K,oe;if(confirm("This will send reminder emails for all reminders due today. Continue?")){tt(!0),ht("");try{const pe=await ke.triggerReminders();ht(pe.data.message||"Reminders triggered successfully.")}catch(pe){console.error("Failed to trigger reminders:",pe),ht(((oe=(K=pe.response)==null?void 0:K.data)==null?void 0:oe.message)||"Failed to trigger reminders. Please check server logs.")}finally{tt(!1)}}},X=async()=>{var K,oe;if(confirm("This will reschedule all user reminder cron jobs based on their notification time preferences. Continue?")){Se(!0),Be("");try{const pe=await ke.rescheduleCronJobs();Be(pe.data.message||"Cron jobs rescheduled successfully.")}catch(pe){console.error("Failed to reschedule cron jobs:",pe),Be(((oe=(K=pe.response)==null?void 0:K.data)==null?void 0:oe.message)||"Failed to reschedule cron jobs. Please check server logs.")}finally{Se(!1)}}};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:K=>K.target.select()}),l.jsx("button",{onClick:$,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:u?l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),l.jsxs("div",{className:"flex flex-wrap gap-2",children:[l.jsx("a",{href:i,className:"btn-primary",children:l.jsxs("span",{className:"flex items-center gap-1",children:[l.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:l.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),l.jsx("button",{onClick:q,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),l.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(ce,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Import Data"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]}),l.jsxs(ce,{to:"/settings/export",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Export Data"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Export all contacts as vCard or Google Contacts CSV"})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Notifications"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose how you want to receive daily reminders about your important dates."}),S?l.jsxs("div",{className:"animate-pulse",children:[l.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),l.jsx("div",{className:"h-10 bg-gray-200 rounded"})]}):l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Email"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Receive daily digest emails"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.includes("email"),onChange:()=>L("email"),disabled:E,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),l.jsxs("div",{className:"flex items-center justify-between p-3 rounded-lg border border-gray-200",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:"Slack"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Receive notifications in Slack"})]}),l.jsxs("label",{className:"relative inline-flex items-center cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:f.includes("slack"),onChange:()=>L("slack"),disabled:E||!x,className:"sr-only peer"}),l.jsx("div",{className:"w-11 h-6 bg-gray-200 peer-focus:outline-none peer-focus:ring-4 peer-focus:ring-primary-300 rounded-full peer peer-checked:after:translate-x-full peer-checked:after:border-white after:content-[''] after:absolute after:top-[2px] after:left-[2px] after:bg-white after:border-gray-300 after:border after:rounded-full after:h-5 after:w-5 after:transition-all peer-checked:bg-primary-600"})]})]}),l.jsx("div",{children:x?l.jsxs("div",{className:"space-y-3",children:[l.jsx("div",{className:"p-3 bg-green-50 border border-green-200 rounded-lg",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium text-green-900",children:"Connected to Slack"}),v&&l.jsxs("p",{className:"text-sm text-green-700",children:["Workspace: ",v]})]}),l.jsx("button",{onClick:Ue,disabled:z,className:"btn-secondary text-sm",children:z?"Disconnecting...":"Disconnect"})]})}),D&&l.jsx("p",{className:`text-sm ${D.includes("successfully")||D.includes("disconnected")?"text-green-600":"text-red-600"}`,children:D}),f.includes("slack")&&l.jsxs("div",{className:"mt-4 p-4 border border-gray-200 rounded-lg",children:[l.jsx("h3",{className:"font-medium mb-3",children:"Notification targets"}),l.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Choose where to send Slack notifications. You can select multiple channels and users."}),me?l.jsx("p",{className:"text-sm text-gray-500",children:"Loading channels and users..."}):l.jsxs(l.Fragment,{children:[A.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:"Channels"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:A.map(K=>l.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:G.includes(K.id),onChange:()=>Nt(K.id),className:"mr-2 cursor-pointer"}),l.jsx("span",{className:"text-sm",children:K.name})]},K.id))})]}),B.length>0&&l.jsxs("div",{className:"mb-4",children:[l.jsx("h4",{className:"text-sm font-medium mb-2",children:"Direct messages"}),l.jsx("div",{className:"space-y-2 max-h-48 overflow-y-auto",children:B.map(K=>l.jsxs("label",{className:"flex items-center p-2 hover:bg-gray-50 rounded cursor-pointer",children:[l.jsx("input",{type:"checkbox",checked:G.includes(K.id),onChange:()=>Nt(K.id),className:"mr-2 cursor-pointer"}),l.jsxs("span",{className:"text-sm",children:[K.name,K.is_me&&l.jsx("span",{className:"text-gray-500 ml-1",children:"(you)"})]})]},K.id))})]}),A.length===0&&B.length===0&&!me&&l.jsx("p",{className:"text-sm text-gray-500 mb-4",children:"No channels or users found. Make sure the Slack app has the necessary permissions."}),l.jsx("button",{onClick:Tt,disabled:xe,className:"btn-primary text-sm mt-4",children:xe?"Saving...":"Save targets"})]})]})]}):l.jsxs("div",{className:"space-y-3",children:[l.jsx("button",{onClick:Ce,className:"btn-primary w-full",disabled:z,children:"Connect Slack"}),D&&l.jsx("p",{className:`text-sm ${D.includes("successfully")?"text-green-600":"text-red-600"}`,children:D}),l.jsx("p",{className:"text-xs text-gray-500",children:"Connect your Slack workspace to receive daily reminder notifications. You'll be able to message channels or receive direct messages."})]})}),m&&!x&&l.jsx("div",{className:"p-3 bg-yellow-50 border border-yellow-200 rounded-lg",children:l.jsxs("p",{className:"text-sm text-yellow-800",children:[l.jsx("strong",{children:"Legacy webhook detected."})," Please connect via OAuth for better functionality. Your webhook will continue to work until you connect via OAuth."]})}),l.jsxs("div",{children:[l.jsx("label",{className:"label mb-1",children:"Notification Time (UTC)"}),l.jsx("input",{type:"time",value:b,onChange:K=>se(K.target.value),className:"input",disabled:j,step:"300"}),b&&l.jsxs("div",{className:"mt-2 p-2 bg-gray-50 rounded text-sm",children:[l.jsxs("p",{className:"text-gray-700",children:[l.jsx("span",{className:"font-medium",children:"UTC:"})," ",b]}),l.jsxs("p",{className:"text-gray-700 mt-1",children:[l.jsxs("span",{className:"font-medium",children:["Your time (",Intl.DateTimeFormat().resolvedOptions().timeZone,"):"]})," ",(()=>{try{const[K,oe]=b.split(":"),pe=new Date;return pe.setUTCHours(parseInt(K),parseInt(oe),0,0),pe.toLocaleTimeString("en-US",{hour:"2-digit",minute:"2-digit",hour12:!1})}catch{return b}})()]})]}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Choose the UTC time when you want to receive your daily reminder digest. Reminders are sent within a 1-hour window of your selected time."})]})]})]}),e&&l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(ce,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"Relationship Types"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]}),l.jsxs(ce,{to:"/settings/user-approval",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[l.jsx("p",{className:"font-medium",children:"User Approval"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Approve or deny access for new users"})]}),l.jsxs("button",{onClick:Z,disabled:Fe,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("p",{className:"font-medium",children:"Trigger reminders"}),l.jsx("p",{className:"text-sm text-gray-500",children:Fe?"Sending...":"Manually send reminders for today"}),Et&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:Et})]}),l.jsxs("button",{onClick:X,disabled:Y,className:"w-full text-left p-3 rounded-lg border border-gray-200 hover:bg-gray-50 disabled:opacity-50 disabled:cursor-not-allowed",children:[l.jsx("p",{className:"font-medium",children:"Reschedule cron jobs"}),l.jsx("p",{className:"text-sm text-gray-500",children:Y?"Rescheduling...":"Reschedule all user reminder cron jobs"}),Re&&l.jsx("p",{className:"text-sm text-green-600 mt-1",children:Re})]})]})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),l.jsxs("p",{className:"text-sm text-gray-600",children:[wu," v",t.version||"1.0.0",l.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function NR({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=T.useState(""),[a,o]=T.useState(!1),u=T.useRef(null),c=T.useRef(null),d=T.useMemo(()=>r.sort((x,g)=>{const v=(x.name||"").toLowerCase(),w=(g.name||"").toLowerCase();return v<w?-1:v>w?1:0}),[r]),h=T.useMemo(()=>{if(!i)return d.slice(0,10);const x=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(x)).slice(0,10)},[d,i]),f=T.useMemo(()=>d.find(x=>x.id===parseInt(t,10)),[d,t]);T.useEffect(()=>{const x=g=>{c.current&&!c.current.contains(g.target)&&u.current&&!u.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",x),()=>document.removeEventListener("mousedown",x)},[]);const p=x=>{e(x?x.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"relative",children:f&&!a?l.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[l.jsx("span",{children:y}),l.jsx("button",{type:"button",onClick:x=>{x.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:l.jsx(Mr,{className:"w-4 h-4"})})]}):l.jsx("input",{ref:u,type:"text",value:i,onChange:x=>{s(x.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&l.jsx("div",{ref:c,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?l.jsxs(l.Fragment,{children:[l.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:l.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(x=>l.jsx("button",{type:"button",onClick:()=>p(x.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===x.id.toString()?"bg-primary-50":""}`,children:x.name},x.id))]}):l.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function wae(){mn("Relationship Types - Settings");const t=ut();if(!((window.prmConfig||{}).isAdmin||!1))return l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx(SK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),l.jsx(ce,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=Ze({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),[s,a]=T.useState(null),[o,u]=T.useState(""),[c,d]=T.useState(""),[h,f]=T.useState(""),[p,m]=T.useState(""),[y,x]=T.useState(!1),g=rt({mutationFn:async({id:I,name:j,inverseId:P})=>{const D={name:j};return P&&(D.acf={inverse_relationship_type:parseInt(P,10)}),Ae.updateRelationshipType(I,D)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),u(""),d("")}}),v=rt({mutationFn:async({name:I,inverseId:j})=>{const P={name:I};return j&&(P.acf={inverse_relationship_type:parseInt(j,10)}),Ae.createRelationshipType(P)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),x(!1)}}),w=rt({mutationFn:I=>Ae.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),b=rt({mutationFn:()=>Ae.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return l.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&b.mutate()},disabled:b.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[b.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):l.jsx(wK,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const S=I=>{var P;a(I.id),u(I.name);const j=(P=I.acf)==null?void 0:P.inverse_relationship_type;d(j?j.toString():"")},N=()=>{a(null),u(""),d("")},E=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:c||null})},C=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},O=(I,j)=>{window.confirm(`Are you sure you want to delete "${j}"? This cannot be undone.`)&&w.mutate(I)};return i?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):l.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:l.jsxs("div",{className:"card p-6",children:[l.jsxs("div",{className:"flex items-center justify-between mb-6",children:[l.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),l.jsx("div",{className:"flex gap-2",children:!y&&l.jsxs(l.Fragment,{children:[l.jsx(_,{}),l.jsxs("button",{onClick:()=>x(!0),className:"btn-primary flex items-center gap-2",children:[l.jsx(Vt,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&l.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[l.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(NR,{value:p,onChange:m,relationshipTypes:n}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:C,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(xa,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Save"})]}),l.jsx("button",{onClick:()=>{x(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),l.jsx("div",{className:"space-y-2",children:n.length===0?l.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var z,W;const j=s===I.id,P=(z=I.acf)==null?void 0:z.inverse_relationship_type,D=typeof P=="object"&&(P!=null&&P.ID)?P.ID:typeof P=="object"&&(P!=null&&P.id)?P.id:P,M=D?n.find(A=>A.id===D):null;return l.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:j?l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Name *"}),l.jsx("input",{type:"text",value:o,onChange:A=>u(A.target.value),className:"input"})]}),l.jsxs("div",{children:[l.jsx("label",{className:"label",children:"Inverse Relationship Type"}),l.jsx(NR,{value:c,onChange:d,relationshipTypes:n,currentTypeId:I.id}),l.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:E,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?l.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):l.jsx(xa,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Save"})]}),l.jsxs("button",{onClick:N,className:"btn-secondary flex items-center gap-2",children:[l.jsx(Mr,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex-1",children:[l.jsx("div",{className:"font-medium",children:I.name}),M&&l.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",l.jsx("span",{className:"font-medium",children:M.name})]}),!M&&((W=I.acf)==null?void 0:W.inverse_relationship_type)===null&&l.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsx("button",{onClick:()=>S(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:l.jsx(ane,{className:"w-4 h-4"})}),l.jsx("button",{onClick:()=>O(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:l.jsx(Ln,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function _ae(){var g,v,w;const[t,e]=T.useState(null),[r,n]=T.useState(""),[i,s]=T.useState(!1),[a,o]=T.useState(null),u=ut(),c=rt({mutationFn:async b=>{const _=new FormData;return _.append("file",b),(await ue.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:b=>{o(b)},onError:b=>{var _,S;o({valid:!1,error:((S=(_=b.response)==null?void 0:_.data)==null?void 0:S.message)||"Failed to validate file"})}}),d=rt({mutationFn:async({file:b,monicaUrl:_})=>{const S=new FormData;return S.append("file",b),S.append("monica_url",_),(await ue.post("/prm/v1/import/monica",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["people"]}),u.invalidateQueries({queryKey:["companies"]}),u.invalidateQueries({queryKey:["dates"]}),u.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),b.type==="dragenter"||b.type==="dragover"?s(!0):b.type==="dragleave"&&s(!1)},[]),f=T.useCallback(b=>{b.preventDefault(),b.stopPropagation(),s(!1),b.dataTransfer.files&&b.dataTransfer.files[0]&&m(b.dataTransfer.files[0])},[]),p=b=>{b.target.files&&b.target.files[0]&&m(b.target.files[0])},m=b=>{if(!b.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(b),o(null),d.reset(),c.mutate(b)},y=()=>{if(!r.trim()){o(b=>({...b,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},x=()=>{e(null),n(""),o(null),c.reset(),d.reset()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),l.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),l.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),l.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((b,_)=>l.jsx("li",{children:b},_))})]})]}),l.jsx("button",{onClick:x,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[l.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Po,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(rh,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Ro,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&l.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[l.jsxs("p",{children:["Export format: ",a.version]}),l.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),l.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),l.jsxs("p",{children:["Notes: ",a.summary.notes]}),l.jsxs("p",{children:["Dates: ",a.summary.reminders]}),l.jsxs("p",{children:["Photos: ",a.summary.photos]}),l.jsxs("p",{children:["Organizations: ",a.summary.companies_count]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"space-y-2",children:[l.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),l.jsxs("div",{className:"relative",children:[l.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:l.jsx(bK,{className:"h-4 w-4 text-gray-400"})}),l.jsx("input",{type:"url",id:"monica-url",value:r,onChange:b=>n(b.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&l.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),l.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Po,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ro,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((w=(v=d.error.response)==null?void 0:v.data)==null?void 0:w.message)||"An error occurred during import"})]})]})})]})]})}function Sae(){var y,x,g;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),a=ut(),o=rt({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ue.post("/prm/v1/import/vcard/validate",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var w,b;s({valid:!1,error:((b=(w=v.response)==null?void 0:w.data)==null?void 0:b.message)||"Failed to validate file"})}}),u=rt({mutationFn:async v=>{const w=new FormData;return w.append("file",v),(await ue.post("/prm/v1/import/vcard",w,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),c=T.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=T.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const w=v.name.split(".").pop().toLowerCase();if(w!=="vcf"&&w!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),u.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&u.mutate(t)},m=()=>{e(null),s(null),o.reset(),u.reset()};return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),u.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",u.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",u.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped: ",u.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Photos imported: ",u.data.stats.photos_imported]}),l.jsxs("p",{children:["Organizations created: ",u.data.stats.companies_created]}),l.jsxs("p",{children:["Birthdays created: ",u.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",u.data.stats.notes_created]}),((y=u.data.stats.errors)==null?void 0:y.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:u.data.stats.errors.map((v,w)=>l.jsx("li",{children:v},w))})]})]}),l.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:c,onDragLeave:c,onDragOver:c,onDrop:d,children:[l.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Po,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(rh,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Ro,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&l.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Di,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(ur,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(vK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(yK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(jK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:p,disabled:u.isPending,className:"btn-primary flex items-center gap-2",children:u.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Po,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ro,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:m,disabled:u.isPending,className:"btn-secondary",children:"Cancel"})]}),u.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(x=u.error.response)==null?void 0:x.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Eae(){var b,_,S;const[t,e]=T.useState(null),[r,n]=T.useState(!1),[i,s]=T.useState(null),[a,o]=T.useState({}),u=ut(),c=rt({mutationFn:async N=>{const E=new FormData;return E.append("file",N),(await ue.post("/prm/v1/import/google-contacts/validate",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:N=>{var E;if(s(N),((E=N.duplicates)==null?void 0:E.length)>0){const C={};N.duplicates.forEach(O=>{C[O.index]="merge"}),o(C)}},onError:N=>{var E,C;s({valid:!1,error:((C=(E=N.response)==null?void 0:E.data)==null?void 0:C.message)||"Failed to validate file"})}}),d=rt({mutationFn:async({file:N,decisions:E})=>{const C=new FormData;return C.append("file",N),C.append("decisions",JSON.stringify(E)),(await ue.post("/prm/v1/import/google-contacts",C,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{u.invalidateQueries({queryKey:["people"]}),u.invalidateQueries({queryKey:["companies"]}),u.invalidateQueries({queryKey:["dates"]}),u.invalidateQueries({queryKey:["dashboard"]})}}),h=T.useCallback(N=>{N.preventDefault(),N.stopPropagation(),N.type==="dragenter"||N.type==="dragover"?n(!0):N.type==="dragleave"&&n(!1)},[]),f=T.useCallback(N=>{N.preventDefault(),N.stopPropagation(),n(!1),N.dataTransfer.files&&N.dataTransfer.files[0]&&m(N.dataTransfer.files[0])},[]),p=N=>{N.target.files&&N.target.files[0]&&m(N.target.files[0])},m=N=>{if(!N.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(N),s(null),o({}),d.reset(),c.mutate(N)},y=(N,E)=>{o(C=>({...C,[N]:E}))},x=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),c.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],w=v.length>0;return l.jsxs("div",{className:"space-y-4",children:[l.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),l.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),l.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[l.jsxs("li",{children:["Go to ",l.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),l.jsx("li",{children:'Click "Export" in the left sidebar'}),l.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?l.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),l.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[l.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),l.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),l.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),l.jsxs("p",{children:["Organizations created: ",d.data.stats.companies_created]}),l.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),l.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),l.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((b=d.data.stats.errors)==null?void 0:b.length)>0&&l.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[l.jsx("p",{className:"font-medium",children:"Errors:"}),l.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((N,E)=>l.jsx("li",{children:N},E))})]})]}),l.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):l.jsxs(l.Fragment,{children:[l.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[l.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),c.isPending?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Po,{className:"h-8 w-8 text-primary-600 animate-spin"}),l.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(gO,{className:"h-8 w-8 text-green-600"}),l.jsx("p",{className:"font-medium text-gray-900",children:t.name}),l.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):l.jsxs("div",{className:"flex flex-col items-center gap-2",children:[l.jsx(Ro,{className:"h-8 w-8 text-gray-400"}),l.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&l.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(yu,{className:"h-5 w-5 text-green-600 mt-0.5"}),l.jsxs("div",{className:"flex-1",children:[l.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),l.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(Di,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(ur,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.companies_count," organizations"]})]}),i.summary.birthdays>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(vK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(jK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&l.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[l.jsx(yK,{className:"h-4 w-4"}),l.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&w&&l.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(Gre,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),l.jsxs("div",{className:"flex-1",children:[l.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),l.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),l.jsx("div",{className:"mt-4 space-y-4",children:v.map(N=>l.jsx(Nae,{duplicate:N,decision:a[N.index]||"merge",onDecision:E=>y(N.index,E)},N.index))})]})]})}),(i==null?void 0:i.valid)&&l.jsxs("div",{className:"flex gap-3",children:[l.jsx("button",{onClick:x,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?l.jsxs(l.Fragment,{children:[l.jsx(Po,{className:"h-4 w-4 animate-spin"}),l.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):l.jsxs(l.Fragment,{children:[l.jsx(Ro,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),l.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&l.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx(gs,{className:"h-5 w-5 text-red-600 mt-0.5"}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),l.jsx("p",{className:"text-sm text-red-700 mt-1",children:((S=(_=d.error.response)==null?void 0:_.data)==null?void 0:S.message)||"An error occurred during import"})]})]})})]})]})}function Nae({duplicate:t,decision:e,onDecision:r}){var n,i;return l.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),l.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&l.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),l.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:l.jsx("span",{className:"text-lg",children:""})}),l.jsxs("div",{className:"flex-1 min-w-0",children:[l.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),l.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?l.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):l.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:l.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),l.jsxs("div",{className:"min-w-0",children:[l.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&l.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&l.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),l.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[l.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(one,{className:"h-4 w-4"}),"Update existing"]}),l.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(une,{className:"h-4 w-4"}),"Create new"]}),l.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[l.jsx(lne,{className:"h-4 w-4"}),"Skip"]})]})]})}const jR=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:rh,component:Sae},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:gO,component:Eae},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:Zre,component:_ae}];function jae(){var n;mn("Import - Settings");const[t,e]=T.useState("vcard"),r=(n=jR.find(i=>i.id===t))==null?void 0:n.component;return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"Import Contacts"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),l.jsx("div",{className:"border-b border-gray-200 mb-6",children:l.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:jR.map(i=>{const s=i.icon,a=t===i.id;return l.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[l.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),l.jsxs("div",{className:"text-left",children:[l.jsx("span",{className:"block",children:i.name}),l.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&l.jsx(r,{})]})]})}function Cae(){mn("Export Data - Settings");const t=e=>{e==="vcard"?window.location.href="/wp-json/prm/v1/export/vcard":e==="google-csv"&&(window.location.href="/wp-json/prm/v1/export/google-csv")};return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"Export Data"})]}),l.jsxs("div",{className:"card p-6",children:[l.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Export all your contacts in a format compatible with other contact management systems."}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("button",{onClick:()=>t("vcard"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(rh,{className:"w-6 h-6 text-primary-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Export as vCard (.vcf)"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Compatible with Apple Contacts, Outlook, Android, and most contact apps"})]}),l.jsx(Aj,{className:"w-5 h-5 text-gray-400"})]}),l.jsxs("button",{onClick:()=>t("google-csv"),className:"w-full p-4 rounded-lg border border-gray-200 hover:bg-gray-50 text-left flex items-center gap-4",children:[l.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:l.jsx(gO,{className:"w-6 h-6 text-primary-600"})}),l.jsxs("div",{className:"flex-1",children:[l.jsx("p",{className:"font-medium",children:"Export as Google Contacts CSV"}),l.jsx("p",{className:"text-sm text-gray-500",children:"Import directly into Google Contacts or other CSV-compatible systems"})]}),l.jsx(Aj,{className:"w-5 h-5 text-gray-400"})]})]})]})]})}function Oae(){mn("User Approval - Settings");const t=ut();if(!((window.prmConfig||{}).isAdmin||!1))return l.jsx("div",{className:"max-w-2xl mx-auto",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx(SK,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),l.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage user approvals. This feature is only available to administrators."}),l.jsx(ce,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=Ze({queryKey:["users"],queryFn:async()=>(await ke.getUsers()).data}),s=rt({mutationFn:p=>ke.approveUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),a=rt({mutationFn:p=>ke.denyUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),o=rt({mutationFn:p=>ke.deleteUser(p),onSuccess:()=>{t.invalidateQueries({queryKey:["users"]})}}),u=p=>{window.confirm("Are you sure you want to approve this user?")&&s.mutate(p)},c=p=>{window.confirm("Are you sure you want to deny this user? They will not be able to access the system.")&&a.mutate(p)},d=(p,m)=>{window.confirm(`Are you sure you want to delete ${m}? This will permanently delete their account and all their related data (people, organizations, dates). This action cannot be undone.`)&&o.mutate(p)};if(i)return l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx(Po,{className:"w-8 h-8 animate-spin text-primary-600"})});const h=n.filter(p=>!p.is_approved),f=n.filter(p=>p.is_approved);return l.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ce,{to:"/settings",className:"btn-secondary flex items-center gap-2",children:[l.jsx(jn,{className:"w-4 h-4"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Settings"})]}),l.jsx("h1",{className:"text-2xl font-semibold",children:"User Approval"})]}),l.jsxs("div",{className:"space-y-6",children:[h.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Pending Approval"}),l.jsx("div",{className:"space-y-3",children:h.map(p=>l.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:p.name}),l.jsx("p",{className:"text-sm text-gray-500",children:p.email}),l.jsxs("p",{className:"text-xs text-gray-400",children:["Registered: ",new Date(p.registered).toLocaleDateString()]})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>u(p.id),disabled:s.isPending||o.isPending,className:"btn-primary flex items-center gap-2",children:[l.jsx(YI,{className:"w-4 h-4"}),"Approve"]}),l.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[l.jsx(JI,{className:"w-4 h-4"}),"Deny"]}),l.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:s.isPending||a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[l.jsx(Ln,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),f.length>0&&l.jsxs("div",{children:[l.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Approved Users"}),l.jsx("div",{className:"space-y-3",children:f.map(p=>l.jsxs("div",{className:"card p-4 flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"font-medium flex items-center gap-2",children:[p.name,l.jsx(YI,{className:"w-4 h-4 text-green-600"})]}),l.jsx("p",{className:"text-sm text-gray-500",children:p.email})]}),l.jsxs("div",{className:"flex gap-2",children:[l.jsxs("button",{onClick:()=>c(p.id),disabled:a.isPending||o.isPending,className:"btn-secondary flex items-center gap-2",children:[l.jsx(JI,{className:"w-4 h-4"}),"Revoke Access"]}),l.jsxs("button",{onClick:()=>d(p.id,p.name),disabled:a.isPending||o.isPending,className:"btn-danger flex items-center gap-2",children:[l.jsx(Ln,{className:"w-4 h-4"}),"Delete"]})]})]},p.id))})]}),n.length===0&&l.jsx("div",{className:"card p-8 text-center",children:l.jsx("p",{className:"text-gray-600",children:"No Caelis users found."})})]})]})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var CR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Bv={exports:{}},OR={},Pc,TR;function rr(){if(TR)return Pc;TR=1;var t=function(e){return e&&e.Math===Math&&e};return Pc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof CR=="object"&&CR)||t(typeof Pc=="object"&&Pc)||function(){return this}()||Function("return this")(),Pc}var zv,PR;function ct(){return PR||(PR=1,zv=function(t){try{return!!t()}catch{return!0}}),zv}var Uv,IR;function oh(){if(IR)return Uv;IR=1;var t=ct();return Uv=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Uv}var Wv,RR;function ym(){if(RR)return Wv;RR=1;var t=oh(),e=Function.prototype,r=e.apply,n=e.call;return Wv=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Wv}var Vv,$R;function mt(){if($R)return Vv;$R=1;var t=oh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Vv=t?n:function(i){return function(){return r.apply(i,arguments)}},Vv}var Hv,kR;function Es(){if(kR)return Hv;kR=1;var t=mt(),e=t({}.toString),r=t("".slice);return Hv=function(n){return r(e(n),8,-1)},Hv}var Kv,DR;function iG(){if(DR)return Kv;DR=1;var t=Es(),e=mt();return Kv=function(r){if(t(r)==="Function")return e(r)},Kv}var Gv,MR;function mr(){if(MR)return Gv;MR=1;var t=typeof document=="object"&&document.all;return Gv=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Gv}var Yv={},Qv,qR;function nr(){if(qR)return Qv;qR=1;var t=ct();return Qv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),Qv}var Xv,AR;function vn(){if(AR)return Xv;AR=1;var t=oh(),e=Function.prototype.call;return Xv=t?e.bind(e):function(){return e.apply(e,arguments)},Xv}var Jv={},FR;function PO(){if(FR)return Jv;FR=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return Jv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,Jv}var Zv,LR;function lh(){return LR||(LR=1,Zv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),Zv}var eg,BR;function bm(){if(BR)return eg;BR=1;var t=mt(),e=ct(),r=Es(),n=Object,i=t("".split);return eg=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,eg}var tg,zR;function uh(){return zR||(zR=1,tg=function(t){return t==null}),tg}var rg,UR;function Ho(){if(UR)return rg;UR=1;var t=uh(),e=TypeError;return rg=function(r){if(t(r))throw new e("Can't call method on "+r);return r},rg}var ng,WR;function Ai(){if(WR)return ng;WR=1;var t=bm(),e=Ho();return ng=function(r){return t(e(r))},ng}var ig,VR;function Xr(){if(VR)return ig;VR=1;var t=mr();return ig=function(e){return typeof e=="object"?e!==null:t(e)},ig}var sg,HR;function cr(){return HR||(HR=1,sg={}),sg}var ag,KR;function Tn(){if(KR)return ag;KR=1;var t=cr(),e=rr(),r=mr(),n=function(i){return r(i)?i:void 0};return ag=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},ag}var og,GR;function vr(){if(GR)return og;GR=1;var t=mt();return og=t({}.isPrototypeOf),og}var lg,YR;function Lu(){if(YR)return lg;YR=1;var t=rr(),e=t.navigator,r=e&&e.userAgent;return lg=r?String(r):"",lg}var ug,QR;function ch(){if(QR)return ug;QR=1;var t=rr(),e=Lu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),ug=o,ug}var cg,XR;function Bu(){if(XR)return cg;XR=1;var t=ch(),e=ct(),r=rr(),n=r.String;return cg=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),cg}var dg,JR;function sG(){if(JR)return dg;JR=1;var t=Bu();return dg=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",dg}var hg,ZR;function dh(){if(ZR)return hg;ZR=1;var t=Tn(),e=mr(),r=vr(),n=sG(),i=Object;return hg=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},hg}var fg,e$;function zu(){if(e$)return fg;e$=1;var t=String;return fg=function(e){try{return t(e)}catch{return"Object"}},fg}var pg,t$;function Ns(){if(t$)return pg;t$=1;var t=mr(),e=zu(),r=TypeError;return pg=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},pg}var mg,r$;function IO(){if(r$)return mg;r$=1;var t=Ns(),e=uh();return mg=function(r,n){var i=r[n];return e(i)?void 0:t(i)},mg}var vg,n$;function Tae(){if(n$)return vg;n$=1;var t=vn(),e=mr(),r=Xr(),n=TypeError;return vg=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},vg}var gg={exports:{}},yg,i$;function Uu(){return i$||(i$=1,yg=!0),yg}var bg,s$;function Pae(){if(s$)return bg;s$=1;var t=rr(),e=Object.defineProperty;return bg=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},bg}var a$;function RO(){if(a$)return gg.exports;a$=1;var t=Uu(),e=rr(),r=Pae(),n="__core-js_shared__",i=gg.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),gg.exports}var xg,o$;function Wu(){if(o$)return xg;o$=1;var t=RO();return xg=function(e,r){return t[e]||(t[e]=r||{})},xg}var wg,l$;function gi(){if(l$)return wg;l$=1;var t=Ho(),e=Object;return wg=function(r){return e(t(r))},wg}var _g,u$;function gr(){if(u$)return _g;u$=1;var t=mt(),e=gi(),r=t({}.hasOwnProperty);return _g=Object.hasOwn||function(i,s){return r(e(i),s)},_g}var Sg,c$;function xm(){if(c$)return Sg;c$=1;var t=mt(),e=0,r=Math.random(),n=t(1.1.toString);return Sg=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Sg}var Eg,d$;function yr(){if(d$)return Eg;d$=1;var t=rr(),e=Wu(),r=gr(),n=xm(),i=Bu(),s=sG(),a=t.Symbol,o=e("wks"),u=s?a.for||a:a&&a.withoutSetter||n;return Eg=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:u("Symbol."+c)),o[c]},Eg}var Ng,h$;function aG(){if(h$)return Ng;h$=1;var t=vn(),e=Xr(),r=dh(),n=IO(),i=Tae(),s=yr(),a=TypeError,o=s("toPrimitive");return Ng=function(u,c){if(!e(u)||r(u))return u;var d=n(u,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,u,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(u,c)},Ng}var jg,f$;function $O(){if(f$)return jg;f$=1;var t=aG(),e=dh();return jg=function(r){var n=t(r,"string");return e(n)?n:n+""},jg}var Cg,p$;function oG(){if(p$)return Cg;p$=1;var t=rr(),e=Xr(),r=t.document,n=e(r)&&e(r.createElement);return Cg=function(i){return n?r.createElement(i):{}},Cg}var Og,m$;function lG(){if(m$)return Og;m$=1;var t=nr(),e=ct(),r=oG();return Og=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Og}var v$;function wm(){if(v$)return Yv;v$=1;var t=nr(),e=vn(),r=PO(),n=lh(),i=Ai(),s=$O(),a=gr(),o=lG(),u=Object.getOwnPropertyDescriptor;return Yv.f=t?u:function(d,h){if(d=i(d),h=s(h),o)try{return u(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},Yv}var Tg,g$;function Iae(){if(g$)return Tg;g$=1;var t=ct(),e=mr(),r=/#|\.prototype\./,n=function(u,c){var d=s[i(u)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(u){return String(u).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Tg=n,Tg}var Pg,y$;function _m(){if(y$)return Pg;y$=1;var t=iG(),e=Ns(),r=oh(),n=t(t.bind);return Pg=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Pg}var Ig={},Rg,b$;function uG(){if(b$)return Rg;b$=1;var t=nr(),e=ct();return Rg=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Rg}var $g,x$;function js(){if(x$)return $g;x$=1;var t=Xr(),e=String,r=TypeError;return $g=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},$g}var w$;function Gn(){if(w$)return Ig;w$=1;var t=nr(),e=lG(),r=uG(),n=js(),i=$O(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return Ig.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:u in m?m[u]:y[u],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Ig}var kg,_$;function Vu(){if(_$)return kg;_$=1;var t=nr(),e=Gn(),r=lh();return kg=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},kg}var Dg,S$;function De(){if(S$)return Dg;S$=1;var t=rr(),e=ym(),r=iG(),n=mr(),i=wm().f,s=Iae(),a=cr(),o=_m(),u=Vu(),c=gr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Dg=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||u(a,p,{})[p],w=v.prototype,b,_,S,N,E,C,O,I,j;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),C=v[N],_&&(h.dontCallGetSet?(j=i(g,N),O=j&&j.value):O=g[N]),E=_&&O?O:f[N],!(!b&&!x&&typeof C==typeof E)&&(h.bind&&_?I=o(E,t):h.wrap&&_?I=d(E):x&&n(E)?I=r(E):I=E,(h.sham||E&&E.sham||C&&C.sham)&&u(I,"sham",!0),u(v,N,I),x&&(S=p+"Prototype",c(a,S)||u(a,S,{}),u(a[S],N,E),h.real&&w&&(b||!w[N])&&u(w,N,E)))},Dg}var E$;function Rae(){if(E$)return OR;E$=1;var t=De(),e=nr(),r=Gn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),OR}var N$;function $ae(){if(N$)return Bv.exports;N$=1,Rae();var t=cr(),e=t.Object,r=Bv.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Bv.exports}var Mg,j$;function cG(){if(j$)return Mg;j$=1;var t=$ae();return Mg=t,Mg}var qg,C$;function kae(){if(C$)return qg;C$=1;var t=cG();return qg=t,qg}var Ag,O$;function Dae(){if(O$)return Ag;O$=1;var t=kae();return Ag=t,Ag}var Fg,T$;function Mae(){return T$||(T$=1,Fg=Dae()),Fg}var qae=Mae(),Aae=Ke(qae),P$={},Lg,I$;function Ko(){if(I$)return Lg;I$=1;var t=Es();return Lg=Array.isArray||function(r){return t(r)==="Array"},Lg}var Bg,R$;function Fae(){if(R$)return Bg;R$=1;var t=Math.ceil,e=Math.floor;return Bg=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Bg}var zg,$$;function Hu(){if($$)return zg;$$=1;var t=Fae();return zg=function(e){var r=+e;return r!==r||r===0?0:t(r)},zg}var Ug,k$;function dG(){if(k$)return Ug;k$=1;var t=Hu(),e=Math.min;return Ug=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Ug}var Wg,D$;function Oa(){if(D$)return Wg;D$=1;var t=dG();return Wg=function(e){return t(e.length)},Wg}var Vg,M$;function hG(){if(M$)return Vg;M$=1;var t=TypeError,e=9007199254740991;return Vg=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Vg}var Hg,q$;function Sm(){if(q$)return Hg;q$=1;var t=nr(),e=Gn(),r=lh();return Hg=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Hg}var Kg,A$;function kO(){if(A$)return Kg;A$=1;var t=yr(),e=t("toStringTag"),r={};return r[e]="z",Kg=String(r)==="[object z]",Kg}var Gg,F$;function Ta(){if(F$)return Gg;F$=1;var t=kO(),e=mr(),r=Es(),n=yr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(u,c){try{return u[c]}catch{}};return Gg=t?r:function(u){var c,d,h;return u===void 0?"Undefined":u===null?"Null":typeof(d=o(c=s(u),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Gg}var Yg,L$;function Lae(){if(L$)return Yg;L$=1;var t=mt(),e=mr(),r=RO(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Yg=r.inspectSource,Yg}var Qg,B$;function fG(){if(B$)return Qg;B$=1;var t=mt(),e=ct(),r=mr(),n=Ta(),i=Tn(),s=Lae(),a=function(){},o=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,s(m))}catch{return!0}};return f.sham=!0,Qg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Qg}var Xg,z$;function Bae(){if(z$)return Xg;z$=1;var t=Ko(),e=fG(),r=Xr(),n=yr(),i=n("species"),s=Array;return Xg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Xg}var Jg,U$;function DO(){if(U$)return Jg;U$=1;var t=Bae();return Jg=function(e,r){return new(t(e))(r===0?0:r)},Jg}var Zg,W$;function hh(){if(W$)return Zg;W$=1;var t=ct(),e=yr(),r=ch(),n=e("species");return Zg=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Zg}var V$;function pG(){if(V$)return P$;V$=1;var t=De(),e=ct(),r=Ko(),n=Xr(),i=gi(),s=Oa(),a=hG(),o=Sm(),u=DO(),c=hh(),d=yr(),h=ch(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=u(v,0),b=0,_,S,N,E,C;for(_=-1,N=arguments.length;_<N;_++)if(C=_===-1?v:arguments[_],m(C))for(E=s(C),a(b+E),S=0;S<E;S++,b++)S in C&&o(w,b,C[S]);else a(b+1),o(w,b++,C);return w.length=b,w}}),P$}var H$={},K$={},ey,G$;function Pa(){if(G$)return ey;G$=1;var t=Ta(),e=String;return ey=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},ey}var ty={},ry,Y$;function MO(){if(Y$)return ry;Y$=1;var t=Hu(),e=Math.max,r=Math.min;return ry=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},ry}var ny,Q$;function zae(){if(Q$)return ny;Q$=1;var t=Ai(),e=MO(),r=Oa(),n=function(i){return function(s,a,o){var u=t(s),c=r(u);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=u[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in u)&&u[d]===a)return i||d||0;return!i&&-1}};return ny={includes:n(!0),indexOf:n(!1)},ny}var iy,X$;function fh(){return X$||(X$=1,iy={}),iy}var sy,J$;function mG(){if(J$)return sy;J$=1;var t=mt(),e=gr(),r=Ai(),n=zae().indexOf,i=fh(),s=t([].push);return sy=function(a,o){var u=r(a),c=0,d=[],h;for(h in u)!e(i,h)&&e(u,h)&&s(d,h);for(;o.length>c;)e(u,h=o[c++])&&(~n(d,h)||s(d,h));return d},sy}var ay,Z$;function qO(){return Z$||(Z$=1,ay=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),ay}var oy,ek;function Em(){if(ek)return oy;ek=1;var t=mG(),e=qO();return oy=Object.keys||function(n){return t(n,e)},oy}var tk;function AO(){if(tk)return ty;tk=1;var t=nr(),e=uG(),r=Gn(),n=js(),i=Ai(),s=Em();return ty.f=t&&!e?Object.defineProperties:function(o,u){n(o);for(var c=i(u),d=s(u),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},ty}var ly,rk;function Uae(){if(rk)return ly;rk=1;var t=Tn();return ly=t("document","documentElement"),ly}var uy,nk;function Nm(){if(nk)return uy;nk=1;var t=Wu(),e=xm(),r=t("keys");return uy=function(n){return r[n]||(r[n]=e(n))},uy}var cy,ik;function ph(){if(ik)return cy;ik=1;var t=js(),e=AO(),r=qO(),n=fh(),i=Uae(),s=oG(),a=Nm(),o=">",u="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return u+d+o+v+u+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,cy=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},cy}var dy={},sk;function jm(){if(sk)return dy;sk=1;var t=mG(),e=qO(),r=e.concat("length","prototype");return dy.f=Object.getOwnPropertyNames||function(i){return t(i,r)},dy}var hy={},fy,ak;function Ku(){if(ak)return fy;ak=1;var t=mt();return fy=t([].slice),fy}var ok;function vG(){if(ok)return hy;ok=1;var t=Es(),e=Ai(),r=jm().f,n=Ku(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return hy.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},hy}var py={},lk;function Cm(){return lk||(lk=1,py.f=Object.getOwnPropertySymbols),py}var my,uk;function mh(){if(uk)return my;uk=1;var t=Vu();return my=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},my}var vy,ck;function FO(){if(ck)return vy;ck=1;var t=Gn();return vy=function(e,r,n){return t.f(e,r,n)},vy}var gy={},dk;function Om(){if(dk)return gy;dk=1;var t=yr();return gy.f=t,gy}var yy,hk;function kt(){if(hk)return yy;hk=1;var t=cr(),e=gr(),r=Om(),n=Gn().f;return yy=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},yy}var by,fk;function gG(){if(fk)return by;fk=1;var t=vn(),e=Tn(),r=yr(),n=mh();return by=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(u){return t(a,this)},{arity:1})},by}var xy,pk;function Wae(){if(pk)return xy;pk=1;var t=kO(),e=Ta();return xy=t?{}.toString:function(){return"[object "+e(this)+"]"},xy}var wy,mk;function Go(){if(mk)return wy;mk=1;var t=kO(),e=Gn().f,r=Vu(),n=gr(),i=Wae(),s=yr(),a=s("toStringTag");return wy=function(o,u,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:u}),d&&!t&&r(h,"toString",i))},wy}var _y,vk;function Vae(){if(vk)return _y;vk=1;var t=rr(),e=mr(),r=t.WeakMap;return _y=e(r)&&/native code/.test(String(r)),_y}var Sy,gk;function vh(){if(gk)return Sy;gk=1;var t=Vae(),e=rr(),r=Xr(),n=Vu(),i=gr(),s=RO(),a=Nm(),o=fh(),u="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(u);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(u);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Sy={set:h,get:f,has:p,enforce:m,getterFor:y},Sy}var Ey,yk;function Gu(){if(yk)return Ey;yk=1;var t=_m(),e=mt(),r=bm(),n=gi(),i=Oa(),s=DO(),a=e([].push),o=function(u){var c=u===1,d=u===2,h=u===3,f=u===4,p=u===6,m=u===7,y=u===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),S=i(_),N=t(g,v),E=0,C=w||s,O=c?C(x,S):d||m?C(x,0):void 0,I,j;S>E;E++)if((y||E in _)&&(I=_[E],j=N(I,E,b),u))if(c)O[E]=j;else if(j)switch(u){case 3:return!0;case 5:return I;case 6:return E;case 2:a(O,I)}else switch(u){case 4:return!1;case 7:a(O,I)}return p?-1:h||f?f:O}};return Ey={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Ey}var bk;function Hae(){if(bk)return K$;bk=1;var t=De(),e=rr(),r=vn(),n=mt(),i=Uu(),s=nr(),a=Bu(),o=ct(),u=gr(),c=vr(),d=js(),h=Ai(),f=$O(),p=Pa(),m=lh(),y=ph(),x=Em(),g=jm(),v=vG(),w=Cm(),b=wm(),_=Gn(),S=AO(),N=PO(),E=mh(),C=FO(),O=Wu(),I=Nm(),j=fh(),P=xm(),D=yr(),M=Om(),z=kt(),W=gG(),A=Go(),H=vh(),B=Gu().forEach,V=I("hidden"),G="Symbol",fe="prototype",me=H.set,$e=H.getterFor(G),xe=Object[fe],je=e.Symbol,Fe=je&&je[fe],tt=e.RangeError,Et=e.TypeError,ht=e.QObject,Y=b.f,Se=_.f,Re=v.f,Be=N.f,Mt=n([].push),Ce=O("symbols"),Ue=O("op-symbols"),Nt=O("wks"),Tt=!ht||!ht[fe]||!ht[fe].findChild,$=function(ve,ne,de){var le=Y(xe,ne);le&&delete xe[ne],Se(ve,ne,de),le&&ve!==xe&&Se(xe,ne,le)},q=s&&o(function(){return y(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a!==7})?$:Se,L=function(ve,ne){var de=Ce[ve]=y(Fe);return me(de,{type:G,tag:ve,description:ne}),s||(de.description=ne),de},se=function(ne,de,le){ne===xe&&se(Ue,de,le),d(ne);var _e=f(de);return d(le),u(Ce,_e)?(le.enumerable?(u(ne,V)&&ne[V][_e]&&(ne[V][_e]=!1),le=y(le,{enumerable:m(0,!1)})):(u(ne,V)||Se(ne,V,m(1,y(null))),ne[V][_e]=!0),q(ne,_e,le)):Se(ne,_e,le)},Z=function(ne,de){d(ne);var le=h(de),_e=x(le).concat(Xe(le));return B(_e,function(Ve){(!s||r(K,le,Ve))&&se(ne,Ve,le[Ve])}),ne},X=function(ne,de){return de===void 0?y(ne):Z(y(ne),de)},K=function(ne){var de=f(ne),le=r(Be,this,de);return this===xe&&u(Ce,de)&&!u(Ue,de)?!1:le||!u(this,de)||!u(Ce,de)||u(this,V)&&this[V][de]?le:!0},oe=function(ne,de){var le=h(ne),_e=f(de);if(!(le===xe&&u(Ce,_e)&&!u(Ue,_e))){var Ve=Y(le,_e);return Ve&&u(Ce,_e)&&!(u(le,V)&&le[V][_e])&&(Ve.enumerable=!0),Ve}},pe=function(ne){var de=Re(h(ne)),le=[];return B(de,function(_e){!u(Ce,_e)&&!u(j,_e)&&Mt(le,_e)}),le},Xe=function(ve){var ne=ve===xe,de=Re(ne?Ue:h(ve)),le=[];return B(de,function(_e){u(Ce,_e)&&(!ne||u(xe,_e))&&Mt(le,Ce[_e])}),le};return a||(je=function(){if(c(Fe,this))throw new Et("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),de=P(ne),le=function(_e){var Ve=this===void 0?e:this;Ve===xe&&r(le,Ue,_e),u(Ve,V)&&u(Ve[V],de)&&(Ve[V][de]=!1);var Rn=m(1,_e);try{q(Ve,de,Rn)}catch(Bi){if(!(Bi instanceof tt))throw Bi;$(Ve,de,Rn)}};return s&&Tt&&q(xe,de,{configurable:!0,set:le}),L(de,ne)},Fe=je[fe],E(Fe,"toString",function(){return $e(this).tag}),E(je,"withoutSetter",function(ve){return L(P(ve),ve)}),N.f=K,_.f=se,S.f=Z,b.f=oe,g.f=v.f=pe,w.f=Xe,M.f=function(ve){return L(D(ve),ve)},s&&(C(Fe,"description",{configurable:!0,get:function(){return $e(this).description}}),i||E(xe,"propertyIsEnumerable",K,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:je}),B(x(Nt),function(ve){z(ve)}),t({target:G,stat:!0,forced:!a},{useSetter:function(){Tt=!0},useSimple:function(){Tt=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:Z,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),W(),A(je,G),j[V]=!0,K$}var xk={},Ny,wk;function yG(){if(wk)return Ny;wk=1;var t=Bu();return Ny=t&&!!Symbol.for&&!!Symbol.keyFor,Ny}var _k;function Kae(){if(_k)return xk;_k=1;var t=De(),e=Tn(),r=gr(),n=Pa(),i=Wu(),s=yG(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(u){var c=n(u);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),xk}var Sk={},Ek;function Gae(){if(Ek)return Sk;Ek=1;var t=De(),e=gr(),r=dh(),n=zu(),i=Wu(),s=yG(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!r(u))throw new TypeError(n(u)+" is not a symbol");if(e(a,u))return a[u]}}),Sk}var Nk={},jy,jk;function Yae(){if(jk)return jy;jk=1;var t=mt(),e=Ko(),r=mr(),n=Es(),i=Pa(),s=t([].push);return jy=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,u=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(u,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(u,i(d))}var h=u.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(u[y]===p)return m}}},jy}var Ck;function bG(){if(Ck)return Nk;Ck=1;var t=De(),e=Tn(),r=ym(),n=vn(),i=mt(),s=ct(),a=mr(),o=dh(),u=Ku(),c=Yae(),d=Bu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var C=e("Symbol")("stringify detection");return f([C])!=="[null]"||f({a:C})!=="{}"||f(Object(C))!=="{}"}),S=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(C,O){var I=u(arguments),j=c(O);if(!(!a(j)&&(C===void 0||o(C))))return I[1]=function(P,D){if(a(j)&&(D=n(j,this,h(P),D)),!o(D))return D},r(f,null,I)},E=function(C,O,I){var j=m(I,O-1),P=m(I,O+1);return p(w,C)&&!p(b,P)||p(b,C)&&!p(w,j)?"\\u"+g(y(C,0),16):C};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||S},{stringify:function(O,I,j){var P=u(arguments),D=r(_?N:f,null,P);return S&&typeof D=="string"?x(D,v,E):D}}),Nk}var Ok={},Tk;function Qae(){if(Tk)return Ok;Tk=1;var t=De(),e=Bu(),r=ct(),n=Cm(),i=gi(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var u=n.f;return u?u(i(o)):[]}}),Ok}var Pk;function xG(){return Pk||(Pk=1,Hae(),Kae(),Gae(),bG(),Qae()),H$}var Ik={},Rk;function wG(){if(Rk)return Ik;Rk=1;var t=kt();return t("asyncDispose"),Ik}var $k={},kk;function Xae(){if(kk)return $k;kk=1;var t=kt();return t("asyncIterator"),$k}var Dk={},Mk;function _G(){if(Mk)return Dk;Mk=1;var t=kt();return t("dispose"),Dk}var qk={},Ak;function Jae(){if(Ak)return qk;Ak=1;var t=kt();return t("hasInstance"),qk}var Fk={},Lk;function Zae(){if(Lk)return Fk;Lk=1;var t=kt();return t("isConcatSpreadable"),Fk}var Bk={},zk;function SG(){if(zk)return Bk;zk=1;var t=kt();return t("iterator"),Bk}var Uk={},Wk;function eoe(){if(Wk)return Uk;Wk=1;var t=kt();return t("match"),Uk}var Vk={},Hk;function toe(){if(Hk)return Vk;Hk=1;var t=kt();return t("matchAll"),Vk}var Kk={},Gk;function roe(){if(Gk)return Kk;Gk=1;var t=kt();return t("replace"),Kk}var Yk={},Qk;function noe(){if(Qk)return Yk;Qk=1;var t=kt();return t("search"),Yk}var Xk={},Jk;function ioe(){if(Jk)return Xk;Jk=1;var t=kt();return t("species"),Xk}var Zk={},eD;function soe(){if(eD)return Zk;eD=1;var t=kt();return t("split"),Zk}var tD={},rD;function EG(){if(rD)return tD;rD=1;var t=kt(),e=gG();return t("toPrimitive"),e(),tD}var nD={},iD;function aoe(){if(iD)return nD;iD=1;var t=Tn(),e=kt(),r=Go();return e("toStringTag"),r(t("Symbol"),"Symbol"),nD}var sD={},aD;function ooe(){if(aD)return sD;aD=1;var t=kt();return t("unscopables"),sD}var oD={},lD;function loe(){if(lD)return oD;lD=1;var t=rr(),e=Go();return e(t.JSON,"JSON",!0),oD}var Cy,uD;function uoe(){if(uD)return Cy;uD=1,pG(),xG(),wG(),Xae(),_G(),Jae(),Zae(),SG(),eoe(),toe(),roe(),noe(),ioe(),soe(),EG(),aoe(),ooe(),loe();var t=cr();return Cy=t.Symbol,Cy}var cD={},Oy,dD;function coe(){return dD||(dD=1,Oy=function(){}),Oy}var Ty,hD;function Yu(){return hD||(hD=1,Ty={}),Ty}var Py,fD;function doe(){if(fD)return Py;fD=1;var t=nr(),e=gr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Py={EXISTS:i,PROPER:s,CONFIGURABLE:a},Py}var Iy,pD;function hoe(){if(pD)return Iy;pD=1;var t=ct();return Iy=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),Iy}var Ry,mD;function NG(){if(mD)return Ry;mD=1;var t=gr(),e=mr(),r=gi(),n=Nm(),i=hoe(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Ry=i?a.getPrototypeOf:function(u){var c=r(u);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},Ry}var $y,vD;function jG(){if(vD)return $y;vD=1;var t=ct(),e=mr(),r=Xr(),n=ph(),i=NG(),s=mh(),a=yr(),o=Uu(),u=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[u].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[u])||s(d,u,function(){return this}),$y={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},$y}var ky,gD;function foe(){if(gD)return ky;gD=1;var t=jG().IteratorPrototype,e=ph(),r=lh(),n=Go(),i=Yu(),s=function(){return this};return ky=function(a,o,u,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,u)}),n(a,d,!1,!0),i[d]=s,a},ky}var Dy,yD;function poe(){if(yD)return Dy;yD=1;var t=mt(),e=Ns();return Dy=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Dy}var My,bD;function moe(){if(bD)return My;bD=1;var t=Xr();return My=function(e){return t(e)||e===null},My}var qy,xD;function voe(){if(xD)return qy;xD=1;var t=moe(),e=String,r=TypeError;return qy=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},qy}var Ay,wD;function goe(){if(wD)return Ay;wD=1;var t=poe(),e=Xr(),r=Ho(),n=voe();return Ay=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(u,c){return r(u),n(c),e(u)&&(i?a(u,c):u.__proto__=c),u}}():void 0),Ay}var Fy,_D;function LO(){if(_D)return Fy;_D=1;var t=De(),e=vn(),r=Uu(),n=doe(),i=mr(),s=foe(),a=NG(),o=goe(),u=Go(),c=Vu(),d=mh(),h=yr(),f=Yu(),p=jG(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",S=function(){return this};return Fy=function(N,E,C,O,I,j,P){s(C,E,O);var D=function(me){if(me===I&&H)return H;if(!g&&me&&me in W)return W[me];switch(me){case w:return function(){return new C(this,me)};case b:return function(){return new C(this,me)};case _:return function(){return new C(this,me)}}return function(){return new C(this)}},M=E+" Iterator",z=!1,W=N.prototype,A=W[v]||W["@@iterator"]||I&&W[I],H=!g&&A||D(I),B=E==="Array"&&W.entries||A,V,G,fe;if(B&&(V=a(B.call(new N)),V!==Object.prototype&&V.next&&(!r&&a(V)!==x&&(o?o(V,x):i(V[v])||d(V,v,S)),u(V,M,!0,!0),r&&(f[M]=S))),m&&I===b&&A&&A.name!==b&&(!r&&y?c(W,"name",b):(z=!0,H=function(){return e(A,this)})),I)if(G={values:D(b),keys:j?H:D(w),entries:D(_)},P)for(fe in G)(g||z||!(fe in W))&&d(W,fe,G[fe]);else t({target:E,proto:!0,forced:g||z},G);return(!r||P)&&W[v]!==H&&d(W,v,H,{name:I}),f[E]=H,G},Fy}var Ly,SD;function BO(){return SD||(SD=1,Ly=function(t,e){return{value:t,done:e}}),Ly}var By,ED;function Ia(){if(ED)return By;ED=1;var t=Ai(),e=coe(),r=Yu(),n=vh(),i=Gn().f,s=LO(),a=BO(),o=Uu(),u=nr(),c="Array Iterator",d=n.set,h=n.getterFor(c);By=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&u&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return By}var zy,ND;function yoe(){return ND||(ND=1,zy={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),zy}var jD;function Ra(){if(jD)return cD;jD=1,Ia();var t=yoe(),e=rr(),r=Go(),n=Yu();for(var i in t)r(e[i],i),n[i]=n.Array;return cD}var Uy,CD;function CG(){if(CD)return Uy;CD=1;var t=uoe();return Ra(),Uy=t,Uy}var OD={},TD;function boe(){if(TD)return OD;TD=1;var t=yr(),e=Gn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),OD}var PD={},ID;function xoe(){return ID||(ID=1,wG()),PD}var RD={},$D;function woe(){return $D||($D=1,_G()),RD}var kD={},DD;function _oe(){if(DD)return kD;DD=1;var t=kt();return t("metadata"),kD}var Wy,MD;function Soe(){if(MD)return Wy;MD=1;var t=CG();return boe(),xoe(),woe(),_oe(),Wy=t,Wy}var qD={},Vy,AD;function OG(){if(AD)return Vy;AD=1;var t=Tn(),e=mt(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Vy=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Vy}var FD;function Eoe(){if(FD)return qD;FD=1;var t=De(),e=OG();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),qD}var LD={},Hy,BD;function TG(){if(BD)return Hy;BD=1;for(var t=Wu(),e=Tn(),r=mt(),n=dh(),i=yr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),u=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return Hy=function(y){if(a&&a(y))return!0;try{for(var x=u(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},Hy}var zD;function Noe(){if(zD)return LD;zD=1;var t=De(),e=TG();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),LD}var UD={},WD;function joe(){if(WD)return UD;WD=1;var t=kt();return t("customMatcher"),UD}var VD={},HD;function Coe(){if(HD)return VD;HD=1;var t=kt();return t("observable"),VD}var KD={},GD;function Ooe(){if(GD)return KD;GD=1;var t=De(),e=OG();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),KD}var YD={},QD;function Toe(){if(QD)return YD;QD=1;var t=De(),e=TG();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),YD}var XD={},JD;function Poe(){if(JD)return XD;JD=1;var t=kt();return t("matcher"),XD}var ZD={},eM;function Ioe(){if(eM)return ZD;eM=1;var t=kt();return t("metadataKey"),ZD}var tM={},rM;function Roe(){if(rM)return tM;rM=1;var t=kt();return t("patternMatch"),tM}var nM={},iM;function $oe(){if(iM)return nM;iM=1;var t=kt();return t("replaceAll"),nM}var Ky,sM;function koe(){if(sM)return Ky;sM=1;var t=Soe();return Eoe(),Noe(),joe(),Coe(),Ooe(),Toe(),Poe(),Ioe(),Roe(),$oe(),Ky=t,Ky}var Gy,aM;function Doe(){return aM||(aM=1,Gy=koe()),Gy}var Moe=Doe(),gf=Ke(Moe),oM={},Yy,lM;function qoe(){if(lM)return Yy;lM=1;var t=mt(),e=Hu(),r=Pa(),n=Ho(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(u){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?u?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?u?i(h,f):m:u?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return Yy={codeAt:o(!1),charAt:o(!0)},Yy}var uM;function Tm(){if(uM)return oM;uM=1;var t=qoe().charAt,e=Pa(),r=vh(),n=LO(),i=BO(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(u){a(this,{type:s,string:e(u),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),oM}var Qy,cM;function Aoe(){if(cM)return Qy;cM=1,Ia(),Tm(),SG();var t=Om();return Qy=t.f("iterator"),Qy}var Xy,dM;function PG(){if(dM)return Xy;dM=1;var t=Aoe();return Ra(),Xy=t,Xy}var Jy,hM;function Foe(){if(hM)return Jy;hM=1;var t=PG();return Jy=t,Jy}var Zy,fM;function Loe(){if(fM)return Zy;fM=1;var t=Foe();return Zy=t,Zy}var e0,pM;function Boe(){return pM||(pM=1,e0=Loe()),e0}var zoe=Boe(),Uoe=Ke(zoe);function Cd(t){"@babel/helpers - typeof";return Cd=typeof gf=="function"&&typeof Uoe=="symbol"?function(e){return typeof e}:function(e){return e&&typeof gf=="function"&&e.constructor===gf&&e!==gf.prototype?"symbol":typeof e},Cd(t)}var t0,mM;function Woe(){if(mM)return t0;mM=1,EG();var t=Om();return t0=t.f("toPrimitive"),t0}var r0,vM;function Voe(){if(vM)return r0;vM=1;var t=Woe();return r0=t,r0}var n0,gM;function Hoe(){if(gM)return n0;gM=1;var t=Voe();return n0=t,n0}var i0,yM;function Koe(){if(yM)return i0;yM=1;var t=Hoe();return i0=t,i0}var s0,bM;function Goe(){return bM||(bM=1,s0=Koe()),s0}var Yoe=Goe(),Qoe=Ke(Yoe);function Xoe(t,e){if(Cd(t)!="object"||!t)return t;var r=t[Qoe];if(r!==void 0){var n=r.call(t,e);if(Cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Joe(t){var e=Xoe(t,"string");return Cd(e)=="symbol"?e:e+""}function ha(t,e,r){return(e=Joe(e))in t?Aae(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var xM={},a0,wM;function Zoe(){if(wM)return a0;wM=1;var t=mt(),e=Ns(),r=Xr(),n=gr(),i=Ku(),s=oh(),a=Function,o=t([].concat),u=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+u(m,",")+")")}return c[f](h,p)};return a0=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},a0}var _M;function ele(){if(_M)return xM;_M=1;var t=De(),e=Zoe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),xM}var o0,SM;function gn(){if(SM)return o0;SM=1;var t=rr(),e=cr();return o0=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},o0}var l0,EM;function tle(){if(EM)return l0;EM=1,ele();var t=gn();return l0=t("Function","bind"),l0}var u0,NM;function rle(){if(NM)return u0;NM=1;var t=vr(),e=tle(),r=Function.prototype;return u0=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},u0}var c0,jM;function nle(){if(jM)return c0;jM=1;var t=rle();return c0=t,c0}var d0,CM;function ile(){return CM||(CM=1,d0=nle()),d0}var sle=ile(),IG=Ke(sle),OM={},h0,TM;function ale(){if(TM)return h0;TM=1;var t=Ns(),e=gi(),r=bm(),n=Oa(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(u,c,d,h){var f=e(u),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return h0={left:a(!1),right:a(!0)},h0}var f0,PM;function Pm(){if(PM)return f0;PM=1;var t=ct();return f0=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},f0}var p0,IM;function RG(){if(IM)return p0;IM=1;var t=rr(),e=Lu(),r=Es(),n=function(i){return e.slice(0,i.length)===i};return p0=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),p0}var m0,RM;function ole(){if(RM)return m0;RM=1;var t=RG();return m0=t==="NODE",m0}var $M;function lle(){if($M)return OM;$M=1;var t=De(),e=ale().left,r=Pm(),n=ch(),i=ole(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(u){var c=arguments.length;return e(this,u,c,c>1?arguments[1]:void 0)}}),OM}var v0,kM;function ule(){if(kM)return v0;kM=1,lle();var t=gn();return v0=t("Array","reduce"),v0}var g0,DM;function cle(){if(DM)return g0;DM=1;var t=vr(),e=ule(),r=Array.prototype;return g0=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},g0}var y0,MM;function dle(){if(MM)return y0;MM=1;var t=cle();return y0=t,y0}var b0,qM;function hle(){return qM||(qM=1,b0=dle()),b0}var fle=hle(),ple=Ke(fle),AM={},FM;function mle(){if(FM)return AM;FM=1;var t=De(),e=Gu().filter,r=hh(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),AM}var x0,LM;function vle(){if(LM)return x0;LM=1,mle();var t=gn();return x0=t("Array","filter"),x0}var w0,BM;function gle(){if(BM)return w0;BM=1;var t=vr(),e=vle(),r=Array.prototype;return w0=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},w0}var _0,zM;function yle(){if(zM)return _0;zM=1;var t=gle();return _0=t,_0}var S0,UM;function ble(){return UM||(UM=1,S0=yle()),S0}var xle=ble(),Il=Ke(xle),WM={},VM;function wle(){if(VM)return WM;VM=1;var t=De(),e=Gu().map,r=hh(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),WM}var E0,HM;function _le(){if(HM)return E0;HM=1,wle();var t=gn();return E0=t("Array","map"),E0}var N0,KM;function Sle(){if(KM)return N0;KM=1;var t=vr(),e=_le(),r=Array.prototype;return N0=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},N0}var j0,GM;function Ele(){if(GM)return j0;GM=1;var t=Sle();return j0=t,j0}var C0,YM;function Nle(){return YM||(YM=1,C0=Ele()),C0}var jle=Nle(),oi=Ke(jle),O0,QM;function Cle(){return QM||(QM=1,O0=CG()),O0}var Ole=Cle(),Tle=Ke(Ole),XM={},JM;function Ple(){if(JM)return XM;JM=1;var t=De(),e=Ko(),r=fG(),n=Xr(),i=MO(),s=Oa(),a=Ai(),o=Sm(),u=yr(),c=hh(),d=Ku(),h=c("slice"),f=u("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),S,N,E;if(e(v)&&(S=v.constructor,r(S)&&(S===p||e(S.prototype))?S=void 0:n(S)&&(S=S[f],S===null&&(S=void 0)),S===p||S===void 0))return d(v,b,_);for(N=new(S===void 0?p:S)(m(_-b,0)),E=0;b<_;b++,E++)b in v&&o(N,E,v[b]);return N.length=E,N}}),XM}var T0,ZM;function Ile(){if(ZM)return T0;ZM=1,Ple();var t=gn();return T0=t("Array","slice"),T0}var P0,eq;function Rle(){if(eq)return P0;eq=1;var t=vr(),e=Ile(),r=Array.prototype;return P0=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},P0}var I0,tq;function $le(){if(tq)return I0;tq=1;var t=Rle();return I0=t,I0}var R0,rq;function kle(){return rq||(rq=1,R0=$le()),R0}var Dle=kle(),Mle=Ke(Dle),nq={},$0,iq;function $G(){if(iq)return $0;iq=1;var t=Tn(),e=mt(),r=jm(),n=Cm(),i=js(),s=e([].concat);return $0=t("Reflect","ownKeys")||function(o){var u=r.f(i(o)),c=n.f;return c?s(u,c(o)):u},$0}var sq;function qle(){if(sq)return nq;sq=1;var t=De(),e=$G();return t({target:"Reflect",stat:!0},{ownKeys:e}),nq}var k0,aq;function Ale(){if(aq)return k0;aq=1,qle();var t=cr();return k0=t.Reflect.ownKeys,k0}var D0,oq;function Fle(){if(oq)return D0;oq=1;var t=Ale();return D0=t,D0}var M0,lq;function Lle(){return lq||(lq=1,M0=Fle()),M0}var Ble=Lle(),zle=Ke(Ble),uq={},cq;function Ule(){if(cq)return uq;cq=1;var t=De(),e=Ko();return t({target:"Array",stat:!0},{isArray:e}),uq}var q0,dq;function Wle(){if(dq)return q0;dq=1,Ule();var t=cr();return q0=t.Array.isArray,q0}var A0,hq;function Vle(){if(hq)return A0;hq=1;var t=Wle();return A0=t,A0}var F0,fq;function Hle(){return fq||(fq=1,F0=Vle()),F0}var Kle=Hle(),Si=Ke(Kle),pq={},mq;function Gle(){if(mq)return pq;mq=1;var t=De(),e=gi(),r=Em(),n=ct(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),pq}var L0,vq;function Yle(){if(vq)return L0;vq=1,Gle();var t=cr();return L0=t.Object.keys,L0}var B0,gq;function Qle(){if(gq)return B0;gq=1;var t=Yle();return B0=t,B0}var z0,yq;function Xle(){return yq||(yq=1,z0=Qle()),z0}var Jle=Xle(),zO=Ke(Jle),bq={},U0,xq;function Zle(){if(xq)return U0;xq=1;var t=Gu().forEach,e=Pm(),r=e("forEach");return U0=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},U0}var wq;function eue(){if(wq)return bq;wq=1;var t=De(),e=Zle();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),bq}var W0,_q;function tue(){if(_q)return W0;_q=1,eue();var t=gn();return W0=t("Array","forEach"),W0}var V0,Sq;function rue(){if(Sq)return V0;Sq=1;var t=tue();return V0=t,V0}var H0,Eq;function nue(){if(Eq)return H0;Eq=1;var t=Ta(),e=gr(),r=vr(),n=rue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return H0=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},H0}var K0,Nq;function iue(){return Nq||(Nq=1,K0=nue()),K0}var sue=iue(),ko=Ke(sue),jq={},Cq;function aue(){if(Cq)return jq;Cq=1;var t=De(),e=mt(),r=Ko(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),jq}var G0,Oq;function oue(){if(Oq)return G0;Oq=1,aue();var t=gn();return G0=t("Array","reverse"),G0}var Y0,Tq;function lue(){if(Tq)return Y0;Tq=1;var t=vr(),e=oue(),r=Array.prototype;return Y0=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Y0}var Q0,Pq;function uue(){if(Pq)return Q0;Pq=1;var t=lue();return Q0=t,Q0}var X0,Iq;function cue(){return Iq||(Iq=1,X0=uue()),X0}var due=cue(),hue=Ke(due),Rq={},J0,$q;function fue(){if($q)return J0;$q=1;var t=nr(),e=Ko(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return J0=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},J0}var Z0,kq;function kG(){if(kq)return Z0;kq=1;var t=zu(),e=TypeError;return Z0=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Z0}var Dq;function pue(){if(Dq)return Rq;Dq=1;var t=De(),e=gi(),r=MO(),n=Hu(),i=Oa(),s=fue(),a=hG(),o=DO(),u=Sm(),c=kG(),d=hh(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,S,N,E,C,O;for(b===0?_=S=0:b===1?(_=0,S=v-w):(_=b-2,S=p(f(n(x),0),v-w)),a(v+_-S),N=o(g,S),E=0;E<S;E++)C=w+E,C in g&&u(N,E,g[C]);if(N.length=S,_<S){for(E=w;E<v-S;E++)C=E+S,O=E+_,C in g?g[O]=g[C]:c(g,O);for(E=v;E>v-S+_;E--)c(g,E-1)}else if(_>S)for(E=v-S;E>w;E--)C=E+S-1,O=E+_-1,C in g?g[O]=g[C]:c(g,O);for(E=0;E<_;E++)g[E+w]=arguments[E+2];return s(g,v-S+_),N}}),Rq}var eb,Mq;function mue(){if(Mq)return eb;Mq=1,pue();var t=gn();return eb=t("Array","splice"),eb}var tb,qq;function vue(){if(qq)return tb;qq=1;var t=vr(),e=mue(),r=Array.prototype;return tb=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},tb}var rb,Aq;function gue(){if(Aq)return rb;Aq=1;var t=vue();return rb=t,rb}var nb,Fq;function yue(){return Fq||(Fq=1,nb=gue()),nb}var bue=yue(),DG=Ke(bue),Lq={},ib,Bq;function xue(){if(Bq)return ib;Bq=1;var t=nr(),e=mt(),r=vn(),n=ct(),i=Em(),s=Cm(),a=PO(),o=gi(),u=bm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return ib=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=u(arguments[g++]),_=v?h(i(b),v(b)):i(b),S=_.length,N=0,E;S>N;)E=_[N++],(!t||r(w,b,E))&&(y[E]=b[E]);return y}:c,ib}var zq;function wue(){if(zq)return Lq;zq=1;var t=De(),e=xue();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),Lq}var sb,Uq;function _ue(){if(Uq)return sb;Uq=1,wue();var t=cr();return sb=t.Object.assign,sb}var ab,Wq;function Sue(){if(Wq)return ab;Wq=1;var t=_ue();return ab=t,ab}var ob,Vq;function Eue(){return Vq||(Vq=1,ob=Sue()),ob}var Nue=Eue(),jue=Ke(Nue),lb,Hq;function Cue(){if(Hq)return lb;Hq=1,pG();var t=gn();return lb=t("Array","concat"),lb}var ub,Kq;function Oue(){if(Kq)return ub;Kq=1;var t=vr(),e=Cue(),r=Array.prototype;return ub=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},ub}var cb,Gq;function Tue(){if(Gq)return cb;Gq=1;var t=Oue();return cb=t,cb}var db,Yq;function Pue(){return Yq||(Yq=1,db=Tue()),db}var Iue=Pue(),Rue=Ke(Iue),Qq={},Xq;function $ue(){if(Xq)return Qq;Xq=1;var t=De(),e=nr(),r=ph();return t({target:"Object",stat:!0,sham:!e},{create:r}),Qq}var hb,Jq;function kue(){if(Jq)return hb;Jq=1,$ue();var t=cr(),e=t.Object;return hb=function(n,i){return e.create(n,i)},hb}var fb,Zq;function Due(){if(Zq)return fb;Zq=1;var t=kue();return fb=t,fb}var pb,eA;function Mue(){return eA||(eA=1,pb=Due()),pb}var que=Mue(),Aue=Ke(que),tA={},mb,rA;function Fue(){if(rA)return mb;rA=1;var t=Hu(),e=Pa(),r=Ho(),n=RangeError;return mb=function(s){var a=e(r(this)),o="",u=t(s);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(a+=a))u&1&&(o+=a);return o},mb}var vb,nA;function Lue(){if(nA)return vb;nA=1;var t=mt(),e=dG(),r=Pa(),n=Fue(),i=Ho(),s=t(n),a=t("".slice),o=Math.ceil,u=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return vb={start:u(!1),end:u(!0)},vb}var gb,iA;function Bue(){if(iA)return gb;iA=1;var t=mt(),e=ct(),r=Lue().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,u=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return gb=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(u(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,gb}var sA;function zue(){if(sA)return tA;sA=1;var t=De(),e=vn(),r=gi(),n=aG(),i=Bue(),s=Es(),a=ct(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),tA}var yb,aA;function Uue(){if(aA)return yb;aA=1,zue(),bG();var t=cr(),e=ym();return t.JSON||(t.JSON={stringify:JSON.stringify}),yb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},yb}var bb,oA;function Wue(){if(oA)return bb;oA=1;var t=Uue();return bb=t,bb}var xb,lA;function Vue(){return lA||(lA=1,xb=Wue()),xb}var Hue=Vue(),Kue=Ke(Hue),uA={},cA={},wb,dA;function Gue(){if(dA)return wb;dA=1;var t=TypeError;return wb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},wb}var _b,hA;function MG(){if(hA)return _b;hA=1;var t=rr(),e=ym(),r=mr(),n=RG(),i=Lu(),s=Ku(),a=Gue(),o=t.Function,u=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return _b=function(c,d){var h=d?2:1;return u?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},_b}var fA;function Yue(){if(fA)return cA;fA=1;var t=De(),e=rr(),r=MG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),cA}var pA={},mA;function Que(){if(mA)return pA;mA=1;var t=De(),e=rr(),r=MG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),pA}var vA;function Xue(){return vA||(vA=1,Yue(),Que()),uA}var Sb,gA;function Jue(){if(gA)return Sb;gA=1,Xue();var t=cr();return Sb=t.setTimeout,Sb}var Eb,yA;function Zue(){return yA||(yA=1,Eb=Jue()),Eb}var ece=Zue(),tce=Ke(ece),Nb={exports:{}},bA;function rce(){return bA||(bA=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Nb)),Nb.exports}var nce=rce(),ice=Ke(nce);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function pi(){return pi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},pi.apply(this,arguments)}function Yn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function yf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Uj;typeof Object.assign!="function"?Uj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Uj=Object.assign;var Do=Uj,xA=["","webkit","Moz","MS","ms","o"],sce=typeof document>"u"?{style:{}}:document.createElement("div"),ace="function",Rl=Math.round,Mo=Math.abs,UO=Date.now;function Im(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<xA.length;){if(r=xA[s],n=r?r+i:e,n in t)return n;s++}}var is;typeof window>"u"?is={}:is=window;var qG=Im(sce.style,"touchAction"),AG=qG!==void 0;function oce(){if(!AG)return!1;var t={},e=is.CSS&&is.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?is.CSS.supports("touch-action",r):!0}),t}var FG="compute",LG="auto",Wj="manipulation",vo="none",Od="pan-x",Td="pan-y",bf=oce(),lce=/mobile|tablet|ip(ad|hone|od)|android/i,BG="ontouchstart"in is,uce=Im(is,"PointerEvent")!==void 0,cce=BG&&lce.test(navigator.userAgent),gh="touch",dce="pen",WO="mouse",hce="kinect",fce=25,Hr=1,Yo=2,Zt=4,fn=8,Rp=1,yh=2,bh=4,xh=8,_u=16,Mi=yh|bh,go=xh|_u,zG=Mi|go,UG=["x","y"],$p=["clientX","clientY"];function ss(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Rm(t,e){return typeof t===ace?t.apply(e&&e[0]||void 0,e):t}function Ja(t,e){return t.indexOf(e)>-1}function pce(t){if(Ja(t,vo))return vo;var e=Ja(t,Od),r=Ja(t,Td);return e&&r?vo:e||r?e?Od:Td:Ja(t,Wj)?Wj:LG}var WG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===FG&&(n=this.compute()),AG&&this.manager.element.style&&bf[n]&&(this.manager.element.style[qG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return ss(this.manager.recognizers,function(i){Rm(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),pce(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ja(a,vo)&&!bf[vo],u=Ja(a,Td)&&!bf[Td],c=Ja(a,Od)&&!bf[Od];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&u)&&(o||u&&s&Mi||c&&s&go))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function VO(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function VG(t){var e=t.length;if(e===1)return{x:Rl(t[0].clientX),y:Rl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Rl(r/e),y:Rl(n/e)}}function wA(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Rl(t.pointers[r].clientX),clientY:Rl(t.pointers[r].clientY)},r++;return{timeStamp:UO(),pointers:e,center:VG(e),deltaX:t.deltaX,deltaY:t.deltaY}}function kp(t,e,r){r||(r=UG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Vj(t,e,r){r||(r=UG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function HG(t,e){return t===e?Rp:Mo(t)>=Mo(e)?t<0?yh:bh:e<0?xh:_u}function mce(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Hr||s.eventType===Zt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function KG(t,e,r){return{x:e/t||0,y:r/t||0}}function vce(t,e){return kp(e[0],e[1],$p)/kp(t[0],t[1],$p)}function gce(t,e){return Vj(e[1],e[0],$p)+Vj(t[1],t[0],$p)}function yce(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==fn&&(n>fce||r.velocity===void 0)){var u=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=KG(n,u,c);s=d.x,a=d.y,i=Mo(d.x)>Mo(d.y)?d.x:d.y,o=HG(u,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function bce(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=wA(e)),i>1&&!r.firstMultiple?r.firstMultiple=wA(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,u=e.center=VG(n);e.timeStamp=UO(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Vj(o,u),e.distance=kp(o,u),mce(r,e),e.offsetDirection=HG(e.deltaX,e.deltaY);var c=KG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Mo(c.x)>Mo(c.y)?c.x:c.y,e.scale=a?vce(a.pointers,n):1,e.rotation=a?gce(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,yce(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,VO(f,d)&&(d=f),e.target=d}function xce(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Hr&&n-i===0,a=e&(Zt|fn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,bce(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Pd(t){return t.trim().split(/\s+/g)}function Jc(t,e,r){ss(Pd(e),function(n){t.addEventListener(n,r,!1)})}function Zc(t,e,r){ss(Pd(e),function(n){t.removeEventListener(n,r,!1)})}function _A(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Qu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Rm(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Jc(this.element,this.evEl,this.domHandler),this.evTarget&&Jc(this.target,this.evTarget,this.domHandler),this.evWin&&Jc(_A(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Zc(this.element,this.evEl,this.domHandler),this.evTarget&&Zc(this.target,this.evTarget,this.domHandler),this.evWin&&Zc(_A(this.element),this.evWin,this.domHandler)},t}();function qo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var wce={pointerdown:Hr,pointermove:Yo,pointerup:Zt,pointercancel:fn,pointerout:fn},_ce={2:gh,3:dce,4:WO,5:hce},GG="pointerdown",YG="pointermove pointerup pointercancel";is.MSPointerEvent&&!is.PointerEvent&&(GG="MSPointerDown",YG="MSPointerMove MSPointerUp MSPointerCancel");var QG=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evEl=GG,i.evWin=YG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),u=wce[o],c=_ce[i.pointerType]||i.pointerType,d=c===gh,h=qo(s,i.pointerId,"pointerId");u&Hr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):u&(Zt|fn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(Qu);function Id(t){return Array.prototype.slice.call(t,0)}function HO(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];qo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,u){return o[e]>u[e]}):n=n.sort()),n}var Sce={touchstart:Hr,touchmove:Yo,touchend:Zt,touchcancel:fn},Ece="touchstart touchmove touchend touchcancel",KO=function(t){Yn(e,t);function e(){var n;return e.prototype.evTarget=Ece,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Sce[i.type],a=Nce.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:gh,srcEvent:i})},e}(Qu);function Nce(t,e){var r=Id(t.touches),n=this.targetIds;if(e&(Hr|Yo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Id(t.changedTouches),o=[],u=this.target;if(s=r.filter(function(c){return VO(c.target,u)}),e===Hr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Zt|fn)&&delete n[a[i].identifier],i++;if(o.length)return[HO(s.concat(o),"identifier",!0),o]}var jce={mousedown:Hr,mousemove:Yo,mouseup:Zt},Cce="mousedown",Oce="mousemove mouseup",GO=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evEl=Cce,i.evWin=Oce,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=jce[i.type];s&Hr&&i.button===0&&(this.pressed=!0),s&Yo&&i.which!==1&&(s=Zt),this.pressed&&(s&Zt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:WO,srcEvent:i}))},e}(Qu),Tce=2500,SA=25;function EA(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Tce)}}function Pce(t,e){t&Hr?(this.primaryTouch=e.changedPointers[0].identifier,EA.call(this,e)):t&(Zt|fn)&&EA.call(this,e)}function Ice(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=SA&&a<=SA)return!0}return!1}var XG=function(){var t=function(e){Yn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,u,c){var d=c.pointerType===gh,h=c.pointerType===WO;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)Pce.call(yf(yf(a)),u,c);else if(h&&Ice.call(yf(yf(a)),c))return;a.callback(o,u,c)}},a.touch=new KO(a.manager,a.handler),a.mouse=new GO(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Qu);return t}();function Rce(t){var e,r=t.options.inputClass;return r?e=r:uce?e=QG:cce?e=KO:BG?e=XG:e=GO,new e(t,xce)}function $l(t,e,r){return Array.isArray(t)?(ss(t,r[e],r),!0):!1}var Uf=1,Wn=2,Su=4,fa=8,as=fa,Rd=16,Ti=32,$ce=1;function kce(){return $ce++}function xf(t,e){var r=e.manager;return r?r.get(t):t}function NA(t){return t&Rd?"cancel":t&fa?"end":t&Su?"move":t&Wn?"start":""}var wh=function(){function t(r){r===void 0&&(r={}),this.options=pi({enable:!0},r),this.id=kce(),this.manager=null,this.state=Uf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Do(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if($l(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=xf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return $l(n,"dropRecognizeWith",this)?this:(n=xf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if($l(n,"requireFailure",this))return this;var i=this.requireFail;return n=xf(n,this),qo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if($l(n,"dropRequireFailure",this))return this;n=xf(n,this);var i=qo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<fa&&a(i.options.event+NA(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=fa&&a(i.options.event+NA(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Ti},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Ti|Uf)))return!1;n++}return!0},e.recognize=function(n){var i=Do({},n);if(!Rm(this.options.enable,[this,i])){this.reset(),this.state=Ti;return}this.state&(as|Rd|Ti)&&(this.state=Uf),this.state=this.process(i),this.state&(Wn|Su|fa|Rd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Hj=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Wj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Hr&&this.count===0)return this.failTimeout();if(u&&c&&o){if(i.eventType!==Zt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||kp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.interval),Wn):as}return Ti},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Ti},this.options.interval),Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===as&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(wh),Eu=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Wn|Su),u=this.attrTest(i);return o&&(a&fn||!u)?s|Rd:o||u?a&Zt?s|fa:s&Wn?s|Su:Wn:Ti},e}(wh);function JG(t){return t===_u?"down":t===xh?"up":t===yh?"left":t===bh?"right":""}var YO=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"pan",threshold:10,pointers:1,direction:zG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&Mi&&s.push(Td),i&go&&s.push(Od),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,u=i.direction,c=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&Mi?(u=c===0?Rp:c<0?yh:bh,a=c!==this.pX,o=Math.abs(i.deltaX)):(u=d===0?Rp:d<0?xh:_u,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=u,a&&o>s.threshold&&u&s.direction},r.attrTest=function(i){return Eu.prototype.attrTest.call(this,i)&&(this.state&Wn||!(this.state&Wn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=JG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Eu),ZG=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"swipe",threshold:10,velocity:.3,direction:Mi|go,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return YO.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(Mi|go)?a=i.overallVelocity:s&Mi?a=i.overallVelocityX:s&go&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Mo(a)>this.options.velocity&&i.eventType&Zt},r.emit=function(i){var s=JG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Eu),eY=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[vo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Wn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Eu),tY=function(t){Yn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,pi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[vo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Wn)},e}(Eu),rY=function(t){Yn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,pi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[LG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!u||!o||i.eventType&(Zt|fn)&&!c)this.reset();else if(i.eventType&Hr)this.reset(),this._timer=setTimeout(function(){s.state=as,s.tryEmit()},a.time);else if(i.eventType&Zt)return as;return Ti},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===as&&(i&&i.eventType&Zt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=UO(),this.manager.emit(this.options.event,this._input)))},e}(wh),nY={domEvents:!1,touchAction:FG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},jA=[[tY,{enable:!1}],[eY,{enable:!1},["rotate"]],[ZG,{direction:Mi}],[YO,{direction:Mi},["swipe"]],[Hj],[Hj,{event:"doubletap",taps:2},["tap"]],[rY]],Dce=1,CA=2;function OA(t,e){var r=t.element;if(r.style){var n;ss(t.options.cssProps,function(i,s){n=Im(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Mce(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var TA=function(){function t(r,n){var i=this;this.options=Do({},nY,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Rce(this),this.touchAction=new WG(this,this.options.touchAction),OA(this,!0),ss(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Do(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?CA:Dce},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&as)&&(i.curRecognizer=null,o=null);for(var u=0;u<a.length;)s=a[u],i.stopped!==CA&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Wn|Su|fa)&&(i.curRecognizer=s,o=s),u++}},e.get=function(n){if(n instanceof wh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if($l(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if($l(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=qo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return ss(Pd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return ss(Pd(n),function(a){i?s[a]&&s[a].splice(qo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Mce(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&OA(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),qce={touchstart:Hr,touchmove:Yo,touchend:Zt,touchcancel:fn},Ace="touchstart",Fce="touchstart touchmove touchend touchcancel",Lce=function(t){Yn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Ace,i.evWin=Fce,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=qce[i.type];if(s===Hr&&(this.started=!0),!!this.started){var a=Bce.call(this,i,s);s&(Zt|fn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:gh,srcEvent:i})}},e}(Qu);function Bce(t,e){var r=Id(t.touches),n=Id(t.changedTouches);return e&(Zt|fn)&&(r=HO(r.concat(n),"identifier",!0)),[r,n]}function iY(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var sY=iY(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),zce=iY(function(t,e){return sY(t,e,!0)},"merge","Use `assign`.");function Uce(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Do(i,r)}function PA(t,e){return function(){return t.apply(e,arguments)}}var Wce=function(){var t=function(r,n){return n===void 0&&(n={}),new TA(r,pi({recognizers:jA.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=zG,t.DIRECTION_DOWN=_u,t.DIRECTION_LEFT=yh,t.DIRECTION_RIGHT=bh,t.DIRECTION_UP=xh,t.DIRECTION_HORIZONTAL=Mi,t.DIRECTION_VERTICAL=go,t.DIRECTION_NONE=Rp,t.DIRECTION_DOWN=_u,t.INPUT_START=Hr,t.INPUT_MOVE=Yo,t.INPUT_END=Zt,t.INPUT_CANCEL=fn,t.STATE_POSSIBLE=Uf,t.STATE_BEGAN=Wn,t.STATE_CHANGED=Su,t.STATE_ENDED=fa,t.STATE_RECOGNIZED=as,t.STATE_CANCELLED=Rd,t.STATE_FAILED=Ti,t.Manager=TA,t.Input=Qu,t.TouchAction=WG,t.TouchInput=KO,t.MouseInput=GO,t.PointerEventInput=QG,t.TouchMouseInput=XG,t.SingleTouchInput=Lce,t.Recognizer=wh,t.AttrRecognizer=Eu,t.Tap=Hj,t.Pan=YO,t.Swipe=ZG,t.Pinch=eY,t.Rotate=tY,t.Press=rY,t.on=Jc,t.off=Zc,t.each=ss,t.merge=zce,t.extend=sY,t.bindFn=PA,t.assign=Do,t.inherit=Uce,t.bindFn=PA,t.prefixed=Im,t.toArray=Id,t.inArray=qo,t.uniqueArray=HO,t.splitStr=Pd,t.boolOrFn=Rm,t.hasParent=VO,t.addEventListeners=Jc,t.removeEventListeners=Zc,t.defaults=Do({},nY,{preset:jA}),t}();const aY=Tle("DELETE");function Vce(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return oY({},t,...r)}function oY(){const t=Dp(...arguments);return uY(t),t}function Dp(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Dp(oY(e[0],e[1]),...Mle(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of zle(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===aY?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!Si(n[s])&&!Si(i[s])?n[s]=Dp(n[s],i[s]):n[s]=lY(i[s]));return n}function lY(t){return Si(t)?oi(t).call(t,e=>lY(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Dp({},t):t}function uY(t){for(const e of zO(t))t[e]===aY?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&uY(t[e])}function Hce(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const Kce=typeof window<"u"?window.Hammer||Wce:function(){return Hce()};function ts(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=Kce(this._dom.overlay);r.on("tap",IG(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];ko(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{Gce(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}ice(ts.prototype);ts.current=null;ts.prototype.destroy=function(){this.deactivate();for(const r of hue(t=DG(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};ts.prototype.activate=function(){ts.current&&ts.current.deactivate(),ts.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};ts.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};ts.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function Gce(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var jb,IA;function Yce(){if(IA)return jb;IA=1,xG();var t=cr();return jb=t.Object.getOwnPropertySymbols,jb}var Cb,RA;function Qce(){if(RA)return Cb;RA=1;var t=Yce();return Cb=t,Cb}var Ob,$A;function Xce(){return $A||($A=1,Ob=Qce()),Ob}var Jce=Xce(),kA=Ke(Jce),Tb={exports:{}},DA={},MA;function Zce(){if(MA)return DA;MA=1;var t=De(),e=ct(),r=Ai(),n=wm().f,i=nr(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,u){return n(r(o),u)}}),DA}var qA;function ede(){if(qA)return Tb.exports;qA=1,Zce();var t=cr(),e=t.Object,r=Tb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),Tb.exports}var Pb,AA;function tde(){if(AA)return Pb;AA=1;var t=ede();return Pb=t,Pb}var Ib,FA;function rde(){return FA||(FA=1,Ib=tde()),Ib}var nde=rde(),cY=Ke(nde),LA={},BA;function ide(){if(BA)return LA;BA=1;var t=De(),e=nr(),r=$G(),n=Ai(),i=wm(),s=Sm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var u=n(o),c=i.f,d=r(u),h={},f=0,p,m;d.length>f;)m=c(u,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),LA}var Rb,zA;function sde(){if(zA)return Rb;zA=1,ide();var t=cr();return Rb=t.Object.getOwnPropertyDescriptors,Rb}var $b,UA;function ade(){if(UA)return $b;UA=1;var t=sde();return $b=t,$b}var kb,WA;function ode(){return WA||(WA=1,kb=ade()),kb}var lde=ode(),VA=Ke(lde),Db={exports:{}},HA={},KA;function ude(){if(KA)return HA;KA=1;var t=De(),e=nr(),r=AO().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),HA}var GA;function cde(){if(GA)return Db.exports;GA=1,ude();var t=cr(),e=t.Object,r=Db.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Db.exports}var Mb,YA;function dde(){if(YA)return Mb;YA=1;var t=cde();return Mb=t,Mb}var qb,QA;function hde(){return QA||(QA=1,qb=dde()),qb}var fde=hde(),pde=Ke(fde),Ab,XA;function mde(){return XA||(XA=1,Ab=cG()),Ab}var vde=mde(),gde=Ke(vde),JA={},ZA={},Fb={exports:{}},Lb,eF;function yde(){if(eF)return Lb;eF=1;var t=ct();return Lb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Lb}var Bb,tF;function bde(){if(tF)return Bb;tF=1;var t=ct(),e=Xr(),r=Es(),n=yde(),i=Object.isExtensible,s=t(function(){});return Bb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Bb}var zb,rF;function xde(){if(rF)return zb;rF=1;var t=ct();return zb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),zb}var nF;function dY(){if(nF)return Fb.exports;nF=1;var t=De(),e=mt(),r=fh(),n=Xr(),i=gr(),s=Gn().f,a=jm(),o=vG(),u=bde(),c=xm(),d=xde(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!u(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!u(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&u(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),S={};S[f]=1,b(S).length&&(a.f=function(N){for(var E=b(N),C=0,O=E.length;C<O;C++)if(E[C]===f){_(E,C,1);break}return E},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=Fb.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,Fb.exports}var Ub,iF;function wde(){if(iF)return Ub;iF=1;var t=yr(),e=Yu(),r=t("iterator"),n=Array.prototype;return Ub=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Ub}var Wb,sF;function hY(){if(sF)return Wb;sF=1;var t=Ta(),e=IO(),r=uh(),n=Yu(),i=yr(),s=i("iterator");return Wb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Wb}var Vb,aF;function fY(){if(aF)return Vb;aF=1;var t=vn(),e=Ns(),r=js(),n=zu(),i=hY(),s=TypeError;return Vb=function(a,o){var u=arguments.length<2?i(a):o;if(e(u))return r(t(u,a));throw new s(n(a)+" is not iterable")},Vb}var Hb,oF;function QO(){if(oF)return Hb;oF=1;var t=vn(),e=js(),r=IO();return Hb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(u){o=!0,a=u}if(i==="throw")throw s;if(o)throw a;return e(a),s},Hb}var Kb,lF;function XO(){if(lF)return Kb;lF=1;var t=_m(),e=vn(),r=js(),n=zu(),i=wde(),s=Oa(),a=vr(),o=fY(),u=hY(),c=QO(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Kb=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),S,N,E,C,O,I,j,P=function(M){return S&&c(S,"normal"),new h(!0,M)},D=function(M){return g?(r(M),b?_(M[0],M[1],P):_(M[0],M[1])):b?_(M,P):_(M)};if(v)S=p.iterator;else if(w)S=p;else{if(N=u(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(E=0,C=s(p);C>E;E++)if(O=D(p[E]),O&&a(f,O))return O;return new h(!1)}S=o(p,N)}for(I=v?p.next:S.next;!(j=e(I,S)).done;){try{O=D(j.value)}catch(M){c(S,"throw",M)}if(typeof O=="object"&&O&&a(f,O))return O}return new h(!1)},Kb}var Gb,uF;function pY(){if(uF)return Gb;uF=1;var t=vr(),e=TypeError;return Gb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Gb}var Yb,cF;function mY(){if(cF)return Yb;cF=1;var t=De(),e=rr(),r=dY(),n=ct(),i=Vu(),s=XO(),a=pY(),o=mr(),u=Xr(),c=uh(),d=Go(),h=Gn().f,f=Gu().forEach,p=nr(),m=vh(),y=m.set,x=m.getterFor;return Yb=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,S=b?"set":"add",N=e[g],E=N&&N.prototype,C={},O;if(!p||!o(N)||!(_||E.forEach&&!n(function(){new N().entries().next()})))O=w.getConstructor(v,g,b,S),r.enable();else{O=v(function(P,D){y(a(P,I),{type:g,collection:new N}),c(D)||s(D,P[S],{that:P,AS_ENTRIES:b})});var I=O.prototype,j=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var D=P==="add"||P==="set";P in E&&!(_&&P==="clear")&&i(I,P,function(M,z){var W=j(this).collection;if(!D&&_&&!u(M))return P==="get"?void 0:!1;var A=W[P](M===0?0:M,z);return D?this:A})}),_||h(I,"size",{configurable:!0,get:function(){return j(this).collection.size}})}return d(O,g,!1,!0),C[g]=O,t({global:!0,forced:!0},C),_||w.setStrong(O,g,b),O},Yb}var Qb,dF;function _de(){if(dF)return Qb;dF=1;var t=mh();return Qb=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},Qb}var Xb,hF;function Sde(){if(hF)return Xb;hF=1;var t=Tn(),e=FO(),r=yr(),n=nr(),i=r("species");return Xb=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},Xb}var Jb,fF;function vY(){if(fF)return Jb;fF=1;var t=ph(),e=FO(),r=_de(),n=_m(),i=pY(),s=uh(),a=XO(),o=LO(),u=BO(),c=Sde(),d=nr(),h=dY().fastKey,f=vh(),p=f.set,m=f.getterFor;return Jb={getConstructor:function(y,x,g,v){var w=y(function(E,C){i(E,b),p(E,{type:x,index:t(null),first:null,last:null,size:0}),d||(E.size=0),s(C)||a(C,E[v],{that:E,AS_ENTRIES:g})}),b=w.prototype,_=m(x),S=function(E,C,O){var I=_(E),j=N(E,C),P,D;return j?j.value=O:(I.last=j={index:D=h(C,!0),key:C,value:O,previous:P=I.last,next:null,removed:!1},I.first||(I.first=j),P&&(P.next=j),d?I.size++:E.size++,D!=="F"&&(I.index[D]=j)),E},N=function(E,C){var O=_(E),I=h(C),j;if(I!=="F")return O.index[I];for(j=O.first;j;j=j.next)if(j.key===C)return j};return r(b,{clear:function(){for(var C=this,O=_(C),I=O.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;O.first=O.last=null,O.index=t(null),d?O.size=0:C.size=0},delete:function(E){var C=this,O=_(C),I=N(C,E);if(I){var j=I.next,P=I.previous;delete O.index[I.index],I.removed=!0,P&&(P.next=j),j&&(j.previous=P),O.first===I&&(O.first=j),O.last===I&&(O.last=P),d?O.size--:C.size--}return!!I},forEach:function(C){for(var O=_(this),I=n(C,arguments.length>1?arguments[1]:void 0),j;j=j?j.next:O.first;)for(I(j.value,j.key,this);j&&j.removed;)j=j.previous},has:function(C){return!!N(this,C)}}),r(b,g?{get:function(C){var O=N(this,C);return O&&O.value},set:function(C,O){return S(this,C===0?0:C,O)}}:{add:function(C){return S(this,C=C===0?0:C,C)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,S){p(this,{type:v,target:_,state:w(_),kind:S,last:null})},function(){for(var _=b(this),S=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,u(void 0,!0)):u(S==="keys"?N.key:S==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},Jb}var pF;function Ede(){if(pF)return ZA;pF=1;var t=mY(),e=vY();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),ZA}var mF;function Nde(){return mF||(mF=1,Ede()),JA}var vF={},Zb,gF;function gY(){return gF||(gF=1,Zb=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),Zb}var e1,yF;function jde(){if(yF)return e1;yF=1;var t=Tn(),e=gY(),r=t("Map");return e1={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},e1}var bF;function Cde(){if(bF)return vF;bF=1;var t=De(),e=mt(),r=Ns(),n=Ho(),i=XO(),s=jde(),a=Uu(),o=ct(),u=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return u.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new u,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),vF}var t1,xF;function Ode(){if(xF)return t1;xF=1,Ia(),Nde(),Cde(),Tm();var t=cr();return t1=t.Map,t1}var r1,wF;function Tde(){if(wF)return r1;wF=1;var t=Ode();return Ra(),r1=t,r1}var n1,_F;function Pde(){return _F||(_F=1,n1=Tde()),n1}var Ide=Pde(),yY=Ke(Ide),SF={},EF;function Rde(){if(EF)return SF;EF=1;var t=De(),e=Gu().some,r=Pm(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),SF}var i1,NF;function $de(){if(NF)return i1;NF=1,Rde();var t=gn();return i1=t("Array","some"),i1}var s1,jF;function kde(){if(jF)return s1;jF=1;var t=vr(),e=$de(),r=Array.prototype;return s1=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},s1}var a1,CF;function Dde(){if(CF)return a1;CF=1;var t=kde();return a1=t,a1}var o1,OF;function Mde(){return OF||(OF=1,o1=Dde()),o1}var qde=Mde(),Ade=Ke(qde),l1,TF;function Fde(){if(TF)return l1;TF=1,Ia();var t=gn();return l1=t("Array","keys"),l1}var u1,PF;function Lde(){if(PF)return u1;PF=1;var t=Fde();return u1=t,u1}var c1,IF;function Bde(){if(IF)return c1;IF=1,Ra();var t=Ta(),e=gr(),r=vr(),n=Lde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return c1=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},c1}var d1,RF;function zde(){return RF||(RF=1,d1=Bde()),d1}var Ude=zde(),ml=Ke(Ude),$F={},h1,kF;function Wde(){if(kF)return h1;kF=1;var t=Ku(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,u;a<s;){for(u=a,o=n[a];u&&i(n[u-1],o)>0;)n[u]=n[--u];u!==a++&&(n[u]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return h1=r,h1}var f1,DF;function Vde(){if(DF)return f1;DF=1;var t=Lu(),e=t.match(/firefox\/(\d+)/i);return f1=!!e&&+e[1],f1}var p1,MF;function Hde(){if(MF)return p1;MF=1;var t=Lu();return p1=/MSIE|Trident/.test(t),p1}var m1,qF;function Kde(){if(qF)return m1;qF=1;var t=Lu(),e=t.match(/AppleWebKit\/(\d+)\./);return m1=!!e&&+e[1],m1}var AF;function Gde(){if(AF)return $F;AF=1;var t=De(),e=mt(),r=Ns(),n=gi(),i=Oa(),s=kG(),a=Pa(),o=ct(),u=Wde(),c=Pm(),d=Vde(),h=Hde(),f=ch(),p=Kde(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",E,C,O,I;for(E=65;E<76;E++){switch(C=String.fromCharCode(E),E){case 66:case 69:case 70:case 72:O=3;break;case 68:case 71:O=4;break;default:O=2}for(I=0;I<47;I++)m.push({k:C+I,v:O})}for(m.sort(function(j,P){return P.v-j.v}),I=0;I<m.length;I++)C=m[I].k.charAt(0),N.charAt(N.length-1)!==C&&(N+=C);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,S=function(N){return function(E,C){return C===void 0?-1:E===void 0?1:N!==void 0?+N(E,C)||0:a(E)>a(C)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(E){E!==void 0&&r(E);var C=n(this);if(b)return E===void 0?y(C):y(C,E);var O=[],I=i(C),j,P;for(P=0;P<I;P++)P in C&&x(O,C[P]);for(u(O,S(E)),j=i(O),P=0;P<j;)C[P]=O[P++];for(;P<I;)s(C,P++);return C}}),$F}var v1,FF;function Yde(){if(FF)return v1;FF=1,Gde();var t=gn();return v1=t("Array","sort"),v1}var g1,LF;function Qde(){if(LF)return g1;LF=1;var t=vr(),e=Yde(),r=Array.prototype;return g1=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},g1}var y1,BF;function Xde(){if(BF)return y1;BF=1;var t=Qde();return y1=t,y1}var b1,zF;function Jde(){return zF||(zF=1,b1=Xde()),b1}var Zde=Jde(),Kj=Ke(Zde),x1,UF;function ehe(){if(UF)return x1;UF=1,Ia();var t=gn();return x1=t("Array","values"),x1}var w1,WF;function the(){if(WF)return w1;WF=1;var t=ehe();return w1=t,w1}var _1,VF;function rhe(){if(VF)return _1;VF=1,Ra();var t=Ta(),e=gr(),r=vr(),n=the(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return _1=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},_1}var S1,HF;function nhe(){return HF||(HF=1,S1=rhe()),S1}var ihe=nhe(),KF=Ke(ihe),E1,GF;function she(){return GF||(GF=1,E1=PG()),E1}var ahe=she(),kl=Ke(ahe),N1,YF;function ohe(){if(YF)return N1;YF=1,Ia();var t=gn();return N1=t("Array","entries"),N1}var j1,QF;function lhe(){if(QF)return j1;QF=1;var t=ohe();return j1=t,j1}var C1,XF;function uhe(){if(XF)return C1;XF=1,Ra();var t=Ta(),e=gr(),r=vr(),n=lhe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return C1=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},C1}var O1,JF;function che(){return JF||(JF=1,O1=uhe()),O1}var dhe=che(),hhe=Ke(dhe);const wr=[];for(let t=0;t<256;++t)wr.push((t+256).toString(16).slice(1));function fhe(t,e=0){return(wr[t[e+0]]+wr[t[e+1]]+wr[t[e+2]]+wr[t[e+3]]+"-"+wr[t[e+4]]+wr[t[e+5]]+"-"+wr[t[e+6]]+wr[t[e+7]]+"-"+wr[t[e+8]]+wr[t[e+9]]+"-"+wr[t[e+10]]+wr[t[e+11]]+wr[t[e+12]]+wr[t[e+13]]+wr[t[e+14]]+wr[t[e+15]]).toLowerCase()}let T1;const phe=new Uint8Array(16);function mhe(){if(!T1){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");T1=crypto.getRandomValues.bind(crypto)}return T1(phe)}const vhe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var ZF={randomUUID:vhe};function ghe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??mhe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,fhe(n)}function yhe(t,e,r){return ZF.randomUUID&&!t?ZF.randomUUID():ghe(t)}function e4(t){return typeof t=="string"||typeof t=="number"}class JO{constructor(e){ha(this,"_queue",[]),ha(this,"_timeout",null),ha(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new JO(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=tce(()=>{this.flush()},this.delay))}flush(){var e,r;ko(e=DG(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Mp{constructor(){ha(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),ha(this,"subscribe",Mp.prototype.on),ha(this,"unsubscribe",Mp.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");ko(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=Il(n=this._subscribers[e]).call(n,i=>i!==r)}}var t4={},r4={},n4;function bhe(){if(n4)return r4;n4=1;var t=mY(),e=vY();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),r4}var i4;function xhe(){return i4||(i4=1,bhe()),t4}var s4={},P1,a4;function Qo(){if(a4)return P1;a4=1;var t=zu(),e=TypeError;return P1=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},P1}var I1,o4;function Xo(){if(o4)return I1;o4=1;var t=Tn(),e=gY(),r=t("Set"),n=r.prototype;return I1={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},I1}var R1,l4;function Jo(){if(l4)return R1;l4=1;var t=vn();return R1=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},R1}var $1,u4;function _h(){if(u4)return $1;u4=1;var t=Jo();return $1=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},$1}var k1,c4;function ZO(){if(c4)return k1;c4=1;var t=Xo(),e=_h(),r=t.Set,n=t.add;return k1=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},k1}var D1,d4;function Sh(){return d4||(d4=1,D1=function(t){return t.size}),D1}var M1,h4;function whe(){return h4||(h4=1,M1=function(t){return{iterator:t,next:t.next,done:!1}}),M1}var q1,f4;function Zo(){if(f4)return q1;f4=1;var t=Ns(),e=js(),r=vn(),n=Hu(),i=whe(),s="Invalid size",a=RangeError,o=TypeError,u=Math.max,c=function(d,h){this.set=d,this.size=u(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},q1=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},q1}var A1,p4;function _he(){if(p4)return A1;p4=1;var t=Qo(),e=Xo(),r=ZO(),n=Sh(),i=Zo(),s=_h(),a=Jo(),o=e.has,u=e.remove;return A1=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&u(p,m)}):a(f.getIterator(),function(m){o(p,m)&&u(p,m)}),p},A1}var F1,m4;function el(){return m4||(m4=1,F1=function(){return!1}),F1}var v4;function She(){if(v4)return s4;v4=1;var t=De(),e=_he(),r=ct(),n=el(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var c=u++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),s4}var g4={},L1,y4;function Ehe(){if(y4)return L1;y4=1;var t=Qo(),e=Xo(),r=Sh(),n=Zo(),i=_h(),s=Jo(),a=e.Set,o=e.add,u=e.has;return L1=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){u(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},L1}var b4;function Nhe(){if(b4)return g4;b4=1;var t=De(),e=ct(),r=Ehe(),n=el(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),g4}var x4={},B1,w4;function jhe(){if(w4)return B1;w4=1;var t=Qo(),e=Xo().has,r=Sh(),n=Zo(),i=_h(),s=Jo(),a=QO();return B1=function(u){var c=t(this),d=n(u);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},B1}var _4;function Che(){if(_4)return x4;_4=1;var t=De(),e=jhe(),r=el(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),x4}var S4={},z1,E4;function Ohe(){if(E4)return z1;E4=1;var t=Qo(),e=Sh(),r=_h(),n=Zo();return z1=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(u){if(!o.includes(u))return!1},!0)!==!1},z1}var N4;function The(){if(N4)return S4;N4=1;var t=De(),e=Ohe(),r=el(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),S4}var j4={},U1,C4;function Phe(){if(C4)return U1;C4=1;var t=Qo(),e=Xo().has,r=Sh(),n=Zo(),i=Jo(),s=QO();return U1=function(o){var u=t(this),c=n(o);if(r(u)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(u,h))return s(d,"normal",!1)})!==!1},U1}var O4;function Ihe(){if(O4)return j4;O4=1;var t=De(),e=Phe(),r=el(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),j4}var T4={},W1,P4;function Rhe(){if(P4)return W1;P4=1;var t=Qo(),e=Xo(),r=ZO(),n=Zo(),i=Jo(),s=e.add,a=e.has,o=e.remove;return W1=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},W1}var V1,I4;function bY(){return I4||(I4=1,V1=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),V1}var R4;function $he(){if(R4)return T4;R4=1;var t=De(),e=Rhe(),r=bY(),n=el(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),T4}var $4={},H1,k4;function khe(){if(k4)return H1;k4=1;var t=Qo(),e=Xo().add,r=ZO(),n=Zo(),i=Jo();return H1=function(a){var o=t(this),u=n(a).getIterator(),c=r(o);return i(u,function(d){e(c,d)}),c},H1}var D4;function Dhe(){if(D4)return $4;D4=1;var t=De(),e=khe(),r=bY(),n=el(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),$4}var K1,M4;function Mhe(){if(M4)return K1;M4=1,Ia(),xhe(),She(),Nhe(),Che(),The(),Ihe(),$he(),Dhe(),Tm();var t=cr();return K1=t.Set,K1}var G1,q4;function qhe(){if(q4)return G1;q4=1;var t=Mhe();return Ra(),G1=t,G1}var Y1,A4;function Ahe(){return A4||(A4=1,Y1=qhe()),Y1}var Fhe=Ahe(),Q1=Ke(Fhe),X1,F4;function Lhe(){if(F4)return X1;F4=1,Ia(),Tm();var t=fY();return X1=t,X1}var J1,L4;function Bhe(){if(L4)return J1;L4=1;var t=Lhe();return Ra(),J1=t,J1}var Z1,B4;function zhe(){if(B4)return Z1;B4=1;var t=Bhe();return Z1=t,Z1}var ex,z4;function Uhe(){if(z4)return ex;z4=1;var t=zhe();return ex=t,ex}var tx,U4;function Whe(){return U4||(U4=1,tx=Uhe()),tx}var rx,W4;function Vhe(){return W4||(W4=1,rx=Whe()),rx}var Hhe=Vhe(),nx=Ke(Hhe);class Za{constructor(e){this._pairs=e}*[kl](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return oi(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return oi(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Aue(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new yY(this._pairs)}toIdSet(){return new Q1(this.toIdArray())}toItemSet(){return new Q1(this.toItemArray())}cache(){return new Za([...this._pairs])}distinct(e){const r=new Q1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Za({*[kl](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Za({*[kl](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=nx(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,u=e(o,a);u>s&&(s=u,i=o)}return i}min(e){const r=nx(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,u=e(o,a);u<s&&(s=u,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Za({[kl]:()=>{var r;return nx(Kj(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,u]=i;return e(a,u,s,o)}))}})}}function V4(t,e){var r=zO(t);if(kA){var n=kA(t);e&&(n=Il(n).call(n,function(i){return cY(t,i).enumerable})),r.push.apply(r,n)}return r}function H4(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?ko(r=V4(Object(i),!0)).call(r,function(s){ha(t,s,i[s])}):VA?pde(t,VA(i)):ko(n=V4(Object(i))).call(n,function(s){gde(t,s,cY(i,s))})}return t}function Khe(t,e){return t[e]==null&&(t[e]=yhe()),t}class Nu extends Mp{get idProp(){return this._idProp}constructor(e,r){super(),ha(this,"_queue",null),e&&!Si(e)&&(r=e,e=[]),this._options=r||{},this._data=new yY,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=JO.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(Si(e)){const s=oi(e).call(e,a=>a[this._idProp]);if(Ade(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,u=c=>{const d=c[o];if(d!=null&&this._data.has(d)){const h=c,f=jue({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(c);n.push(h)}};if(Si(e))for(let c=0,d=e.length;c<d;c++)e[c]&&typeof e[c]=="object"?u(e[c]):console.warn("Ignoring input item, which is not an object at index "+c);else if(e&&typeof e=="object")u(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const c={items:i,oldData:s,data:a};this._trigger("update",c,r)}return Rue(n).call(n,i)}updateOnly(e,r){var n;Si(e)||(e=[e]);const i=oi(n=oi(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const u=a[this._idProp],c=Vce(a,o);return this._data.set(u,c),{id:u,oldData:a,updatedData:c}});if(i.length){const s={items:oi(i).call(i,a=>a.id),oldData:oi(i).call(i,a=>a.oldData),data:oi(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;e4(e)?(n=e,s=r):Si(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&Il(s),u=[];let c,d,h;if(n!=null)c=this._data.get(n),c&&o&&!o(c)&&(c=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)c=this._data.get(i[p]),c!=null&&(!o||o(c))&&u.push(c);else{var f;d=[...ml(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],c=this._data.get(h),c!=null&&(!o||o(c))&&u.push(c)}if(s&&s.order&&n==null&&this._sort(u,s.order),s&&s.fields){const p=s.fields;if(n!=null&&c!=null)c=this._filterFields(c,p);else for(let m=0,y=u.length;m<y;m++)u[m]=this._filterFields(u[m],p)}if(a=="Object"){const p={};for(let m=0,y=u.length;m<y;m++){const x=u[m],g=x[this._idProp];p[g]=x}return p}else return n!=null?c??null:u}getIds(e){const r=this._data,n=e&&Il(e),i=e&&e.order,s=[...ml(r).call(r)],a=[];if(n)if(i){const o=[];for(let u=0,c=s.length;u<c;u++){const d=s[u],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let u=0,c=o.length;u<c;u++)a.push(o[u][this._idProp])}else for(let o=0,u=s.length;o<u;o++){const c=s[o],d=this._data.get(c);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let u=0,c=s.length;u<c;u++){const d=s[u];o.push(r.get(d))}this._sort(o,i);for(let u=0,c=o.length;u<c;u++)a.push(o[u][this._idProp])}else for(let o=0,u=s.length;o<u;o++){const c=s[o],d=r.get(c);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&Il(r),i=this._data,s=[...ml(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,u=a.length;o<u;o++){const c=a[o],d=c[this._idProp];e(c,d)}}else for(let a=0,o=s.length;a<o;a++){const u=s[a],c=this._data.get(u);c!=null&&(!n||n(c))&&e(c,u)}}map(e,r){const n=r&&Il(r),i=[],s=this._data,a=[...ml(s).call(s)];for(let o=0,u=a.length;o<u;o++){const c=a[o],d=this._data.get(c);d!=null&&(!n||n(d))&&i.push(e(d,c))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&ple(n=Si(r)?r:zO(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;Kj(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")Kj(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=Si(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const u=this._remove(s[a]);if(u){const c=u[this._idProp];c!=null&&(n.push(c),i.push(u))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(e4(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...ml(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of KF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of KF(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...ml(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const u=n[a],d=r.get(u)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=Khe(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+Kue(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,H4(H4({},n),e)),r}stream(e){if(e){const n=this._data;return new Za({*[kl](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Za({[kl]:IG(r=hhe(this._data)).call(r,this._data)})}}}function Ghe(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof ko(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof oi(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function xY(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof ko(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof oi(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&Ghe(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var K4=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ie(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var G4={},Ic,Y4;function Ot(){if(Y4)return Ic;Y4=1;var t=function(e){return e&&e.Math===Math&&e};return Ic=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof K4=="object"&&K4)||t(typeof Ic=="object"&&Ic)||function(){return this}()||Function("return this")(),Ic}var ix,Q4;function Ge(){return Q4||(Q4=1,ix=function(t){try{return!!t()}catch{return!0}}),ix}var sx,X4;function Eh(){if(X4)return sx;X4=1;var t=Ge();return sx=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),sx}var ax,J4;function $m(){if(J4)return ax;J4=1;var t=Eh(),e=Function.prototype,r=e.apply,n=e.call;return ax=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),ax}var ox,Z4;function Qe(){if(Z4)return ox;Z4=1;var t=Eh(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return ox=t?n:function(i){return function(){return r.apply(i,arguments)}},ox}var lx,e5;function Fi(){if(e5)return lx;e5=1;var t=Qe(),e=t({}.toString),r=t("".slice);return lx=function(n){return r(e(n),8,-1)},lx}var ux,t5;function eT(){if(t5)return ux;t5=1;var t=Fi(),e=Qe();return ux=function(r){if(t(r)==="Function")return e(r)},ux}var cx,r5;function br(){if(r5)return cx;r5=1;var t=typeof document=="object"&&document.all;return cx=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},cx}var dx={},hx,n5;function Yt(){if(n5)return hx;n5=1;var t=Ge();return hx=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),hx}var fx,i5;function yn(){if(i5)return fx;i5=1;var t=Eh(),e=Function.prototype.call;return fx=t?e.bind(e):function(){return e.apply(e,arguments)},fx}var px={},s5;function km(){if(s5)return px;s5=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return px.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,px}var mx,a5;function Nh(){return a5||(a5=1,mx=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),mx}var vx,o5;function Dm(){if(o5)return vx;o5=1;var t=Qe(),e=Ge(),r=Fi(),n=Object,i=t("".split);return vx=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,vx}var gx,l5;function Xu(){return l5||(l5=1,gx=function(t){return t==null}),gx}var yx,u5;function Cs(){if(u5)return yx;u5=1;var t=Xu(),e=TypeError;return yx=function(r){if(t(r))throw new e("Can't call method on "+r);return r},yx}var bx,c5;function yi(){if(c5)return bx;c5=1;var t=Dm(),e=Cs();return bx=function(r){return t(e(r))},bx}var xx,d5;function xr(){if(d5)return xx;d5=1;var t=br();return xx=function(e){return typeof e=="object"?e!==null:t(e)},xx}var wx,h5;function dt(){return h5||(h5=1,wx={}),wx}var _x,f5;function Pn(){if(f5)return _x;f5=1;var t=dt(),e=Ot(),r=br(),n=function(i){return r(i)?i:void 0};return _x=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},_x}var Sx,p5;function ir(){if(p5)return Sx;p5=1;var t=Qe();return Sx=t({}.isPrototypeOf),Sx}var Ex,m5;function Ju(){if(m5)return Ex;m5=1;var t=Ot(),e=t.navigator,r=e&&e.userAgent;return Ex=r?String(r):"",Ex}var Nx,v5;function jh(){if(v5)return Nx;v5=1;var t=Ot(),e=Ju(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),Nx=o,Nx}var jx,g5;function Zu(){if(g5)return jx;g5=1;var t=jh(),e=Ge(),r=Ot(),n=r.String;return jx=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),jx}var Cx,y5;function wY(){if(y5)return Cx;y5=1;var t=Zu();return Cx=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",Cx}var Ox,b5;function Ch(){if(b5)return Ox;b5=1;var t=Pn(),e=br(),r=ir(),n=wY(),i=Object;return Ox=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},Ox}var Tx,x5;function ec(){if(x5)return Tx;x5=1;var t=String;return Tx=function(e){try{return t(e)}catch{return"Object"}},Tx}var Px,w5;function Os(){if(w5)return Px;w5=1;var t=br(),e=ec(),r=TypeError;return Px=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},Px}var Ix,_5;function tT(){if(_5)return Ix;_5=1;var t=Os(),e=Xu();return Ix=function(r,n){var i=r[n];return e(i)?void 0:t(i)},Ix}var Rx,S5;function Yhe(){if(S5)return Rx;S5=1;var t=yn(),e=br(),r=xr(),n=TypeError;return Rx=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},Rx}var $x={exports:{}},kx,E5;function tc(){return E5||(E5=1,kx=!0),kx}var Dx,N5;function Qhe(){if(N5)return Dx;N5=1;var t=Ot(),e=Object.defineProperty;return Dx=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Dx}var j5;function rT(){if(j5)return $x.exports;j5=1;var t=tc(),e=Ot(),r=Qhe(),n="__core-js_shared__",i=$x.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),$x.exports}var Mx,C5;function rc(){if(C5)return Mx;C5=1;var t=rT();return Mx=function(e,r){return t[e]||(t[e]=r||{})},Mx}var qx,O5;function In(){if(O5)return qx;O5=1;var t=Cs(),e=Object;return qx=function(r){return e(t(r))},qx}var Ax,T5;function Cr(){if(T5)return Ax;T5=1;var t=Qe(),e=In(),r=t({}.hasOwnProperty);return Ax=Object.hasOwn||function(i,s){return r(e(i),s)},Ax}var Fx,P5;function Mm(){if(P5)return Fx;P5=1;var t=Qe(),e=0,r=Math.random(),n=t(1.1.toString);return Fx=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Fx}var Lx,I5;function sr(){if(I5)return Lx;I5=1;var t=Ot(),e=rc(),r=Cr(),n=Mm(),i=Zu(),s=wY(),a=t.Symbol,o=e("wks"),u=s?a.for||a:a&&a.withoutSetter||n;return Lx=function(c){return r(o,c)||(o[c]=i&&r(a,c)?a[c]:u("Symbol."+c)),o[c]},Lx}var Bx,R5;function _Y(){if(R5)return Bx;R5=1;var t=yn(),e=xr(),r=Ch(),n=tT(),i=Yhe(),s=sr(),a=TypeError,o=s("toPrimitive");return Bx=function(u,c){if(!e(u)||r(u))return u;var d=n(u,o),h;if(d){if(c===void 0&&(c="default"),h=t(d,u,c),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return c===void 0&&(c="number"),i(u,c)},Bx}var zx,$5;function nT(){if($5)return zx;$5=1;var t=_Y(),e=Ch();return zx=function(r){var n=t(r,"string");return e(n)?n:n+""},zx}var Ux,k5;function SY(){if(k5)return Ux;k5=1;var t=Ot(),e=xr(),r=t.document,n=e(r)&&e(r.createElement);return Ux=function(i){return n?r.createElement(i):{}},Ux}var Wx,D5;function EY(){if(D5)return Wx;D5=1;var t=Yt(),e=Ge(),r=SY();return Wx=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Wx}var M5;function qm(){if(M5)return dx;M5=1;var t=Yt(),e=yn(),r=km(),n=Nh(),i=yi(),s=nT(),a=Cr(),o=EY(),u=Object.getOwnPropertyDescriptor;return dx.f=t?u:function(d,h){if(d=i(d),h=s(h),o)try{return u(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},dx}var Vx,q5;function Xhe(){if(q5)return Vx;q5=1;var t=Ge(),e=br(),r=/#|\.prototype\./,n=function(u,c){var d=s[i(u)];return d===o?!0:d===a?!1:e(c)?t(c):!!c},i=n.normalize=function(u){return String(u).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Vx=n,Vx}var Hx,A5;function Am(){if(A5)return Hx;A5=1;var t=eT(),e=Os(),r=Eh(),n=t(t.bind);return Hx=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Hx}var Kx={},Gx,F5;function NY(){if(F5)return Gx;F5=1;var t=Yt(),e=Ge();return Gx=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Gx}var Yx,L5;function Li(){if(L5)return Yx;L5=1;var t=xr(),e=String,r=TypeError;return Yx=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Yx}var B5;function Qn(){if(B5)return Kx;B5=1;var t=Yt(),e=EY(),r=NY(),n=Li(),i=nT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,u="enumerable",c="configurable",d="writable";return Kx.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:c in m?m[c]:y[c],enumerable:u in m?m[u]:y[u],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},Kx}var Qx,z5;function nc(){if(z5)return Qx;z5=1;var t=Yt(),e=Qn(),r=Nh();return Qx=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Qx}var Xx,U5;function Ne(){if(U5)return Xx;U5=1;var t=Ot(),e=$m(),r=eT(),n=br(),i=qm().f,s=Xhe(),a=dt(),o=Am(),u=nc(),c=Cr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Xx=function(h,f){var p=h.target,m=h.global,y=h.stat,x=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||u(a,p,{})[p],w=v.prototype,b,_,S,N,E,C,O,I,j;for(N in f)b=s(m?N:p+(y?".":"#")+N,h.forced),_=!b&&g&&c(g,N),C=v[N],_&&(h.dontCallGetSet?(j=i(g,N),O=j&&j.value):O=g[N]),E=_&&O?O:f[N],!(!b&&!x&&typeof C==typeof E)&&(h.bind&&_?I=o(E,t):h.wrap&&_?I=d(E):x&&n(E)?I=r(E):I=E,(h.sham||E&&E.sham||C&&C.sham)&&u(I,"sham",!0),u(v,N,I),x&&(S=p+"Prototype",c(a,S)||u(a,S,{}),u(a[S],N,E),h.real&&w&&(b||!w[N])&&u(w,N,E)))},Xx}var Jx,W5;function Jhe(){if(W5)return Jx;W5=1;var t=Math.ceil,e=Math.floor;return Jx=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Jx}var Zx,V5;function ic(){if(V5)return Zx;V5=1;var t=Jhe();return Zx=function(e){var r=+e;return r!==r||r===0?0:t(r)},Zx}var ew,H5;function Fm(){if(H5)return ew;H5=1;var t=ic(),e=Math.max,r=Math.min;return ew=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},ew}var tw,K5;function jY(){if(K5)return tw;K5=1;var t=ic(),e=Math.min;return tw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},tw}var rw,G5;function Ts(){if(G5)return rw;G5=1;var t=jY();return rw=function(e){return t(e.length)},rw}var nw,Y5;function iT(){if(Y5)return nw;Y5=1;var t=yi(),e=Fm(),r=Ts(),n=function(i){return function(s,a,o){var u=t(s),c=r(u);if(c===0)return!i&&-1;var d=e(o,c),h;if(i&&a!==a){for(;c>d;)if(h=u[d++],h!==h)return!0}else for(;c>d;d++)if((i||d in u)&&u[d]===a)return i||d||0;return!i&&-1}};return nw={includes:n(!0),indexOf:n(!1)},nw}var iw,Q5;function Oh(){return Q5||(Q5=1,iw={}),iw}var sw,X5;function CY(){if(X5)return sw;X5=1;var t=Qe(),e=Cr(),r=yi(),n=iT().indexOf,i=Oh(),s=t([].push);return sw=function(a,o){var u=r(a),c=0,d=[],h;for(h in u)!e(i,h)&&e(u,h)&&s(d,h);for(;o.length>c;)e(u,h=o[c++])&&(~n(d,h)||s(d,h));return d},sw}var aw,J5;function sT(){return J5||(J5=1,aw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),aw}var ow,Z5;function Th(){if(Z5)return ow;Z5=1;var t=CY(),e=sT();return ow=Object.keys||function(n){return t(n,e)},ow}var lw={},e3;function Lm(){return e3||(e3=1,lw.f=Object.getOwnPropertySymbols),lw}var uw,t3;function Zhe(){if(t3)return uw;t3=1;var t=Yt(),e=Qe(),r=yn(),n=Ge(),i=Th(),s=Lm(),a=km(),o=In(),u=Dm(),c=Object.assign,d=Object.defineProperty,h=e([].concat);return uw=!c||n(function(){if(t&&c({b:1},c(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(x){p[x]=x}),c({},f)[m]!==7||i(c({},p)).join("")!==y})?function(p,m){for(var y=o(p),x=arguments.length,g=1,v=s.f,w=a.f;x>g;)for(var b=u(arguments[g++]),_=v?h(i(b),v(b)):i(b),S=_.length,N=0,E;S>N;)E=_[N++],(!t||r(w,b,E))&&(y[E]=b[E]);return y}:c,uw}var r3;function efe(){if(r3)return G4;r3=1;var t=Ne(),e=Zhe();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),G4}var cw,n3;function tfe(){if(n3)return cw;n3=1,efe();var t=dt();return cw=t.Object.assign,cw}var dw,i3;function rfe(){if(i3)return dw;i3=1;var t=tfe();return dw=t,dw}var hw,s3;function nfe(){return s3||(s3=1,hw=rfe()),hw}var ife=nfe(),er=Ie(ife),a3={},fw,o3;function sc(){if(o3)return fw;o3=1;var t=Qe();return fw=t([].slice),fw}var pw,l3;function sfe(){if(l3)return pw;l3=1;var t=Qe(),e=Os(),r=xr(),n=Cr(),i=sc(),s=Eh(),a=Function,o=t([].concat),u=t([].join),c={},d=function(h,f,p){if(!n(c,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";c[f]=a("C,a","return new C("+u(m,",")+")")}return c[f](h,p)};return pw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),x=function(){var v=o(y,i(arguments));return this instanceof x?d(p,v.length,v):p.apply(f,v)};return r(m)&&(x.prototype=m),x},pw}var u3;function afe(){if(u3)return a3;u3=1;var t=Ne(),e=sfe();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),a3}var mw,c3;function Or(){if(c3)return mw;c3=1;var t=Ot(),e=dt();return mw=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},mw}var vw,d3;function ofe(){if(d3)return vw;d3=1,afe();var t=Or();return vw=t("Function","bind"),vw}var gw,h3;function lfe(){if(h3)return gw;h3=1;var t=ir(),e=ofe(),r=Function.prototype;return gw=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},gw}var yw,f3;function ufe(){if(f3)return yw;f3=1;var t=lfe();return yw=t,yw}var bw,p3;function cfe(){return p3||(p3=1,bw=ufe()),bw}var dfe=cfe(),re=Ie(dfe);function aT(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function hfe(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function ffe(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function pfe(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function mfe(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function vfe(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function OY(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function Gj(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,u=e+n,c=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,u,h-o,u,h),t.bezierCurveTo(u,h+o,d+a,c,d,c),t.bezierCurveTo(d-a,c,e,h+o,e,h),t.closePath()}function TY(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,u=.5522848,c=a/2*u,d=o/2*u,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),x=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+c,f,p,f),t.bezierCurveTo(p-c,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-c,r,p,r),t.bezierCurveTo(p+c,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+c,x,p,x),t.bezierCurveTo(p-c,x,e,y+d,e,y),t.lineTo(e,m)}function PY(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,u=i-r,c=u/o;let d=Math.sqrt(o*o+u*u),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+c*c)),p=o<0?-p:p,e+=p,r+=c*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function gfe(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const m3={circle:aT,dashedLine:PY,database:TY,diamond:vfe,ellipse:Gj,ellipse_vis:Gj,hexagon:gfe,roundRect:OY,square:hfe,star:mfe,triangle:ffe,triangleDown:pfe};function yfe(t){return Object.prototype.hasOwnProperty.call(m3,t)?m3[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var xw={exports:{}},v3;function bfe(){return v3||(v3=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(xw)),xw.exports}var xfe=bfe(),IY=Ie(xfe),g3={},ww,y3;function tl(){if(y3)return ww;y3=1;var t=Fi();return ww=Array.isArray||function(r){return t(r)==="Array"},ww}var _w,b3;function RY(){if(b3)return _w;b3=1;var t=TypeError,e=9007199254740991;return _w=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},_w}var Sw,x3;function Bm(){if(x3)return Sw;x3=1;var t=Yt(),e=Qn(),r=Nh();return Sw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Sw}var Ew,w3;function oT(){if(w3)return Ew;w3=1;var t=sr(),e=t("toStringTag"),r={};return r[e]="z",Ew=String(r)==="[object z]",Ew}var Nw,_3;function ac(){if(_3)return Nw;_3=1;var t=oT(),e=br(),r=Fi(),n=sr(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(u,c){try{return u[c]}catch{}};return Nw=t?r:function(u){var c,d,h;return u===void 0?"Undefined":u===null?"Null":typeof(d=o(c=s(u),i))=="string"?d:a?r(c):(h=r(c))==="Object"&&e(c.callee)?"Arguments":h},Nw}var jw,S3;function wfe(){if(S3)return jw;S3=1;var t=Qe(),e=br(),r=rT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),jw=r.inspectSource,jw}var Cw,E3;function $Y(){if(E3)return Cw;E3=1;var t=Qe(),e=Ge(),r=br(),n=ac(),i=Pn(),s=wfe(),a=function(){},o=i("Reflect","construct"),u=/^\s*(?:class|function)\b/,c=t(u.exec),d=!u.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!c(u,s(m))}catch{return!0}};return f.sham=!0,Cw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,Cw}var Ow,N3;function _fe(){if(N3)return Ow;N3=1;var t=tl(),e=$Y(),r=xr(),n=sr(),i=n("species"),s=Array;return Ow=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},Ow}var Tw,j3;function lT(){if(j3)return Tw;j3=1;var t=_fe();return Tw=function(e,r){return new(t(e))(r===0?0:r)},Tw}var Pw,C3;function Ph(){if(C3)return Pw;C3=1;var t=Ge(),e=sr(),r=jh(),n=e("species");return Pw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Pw}var O3;function kY(){if(O3)return g3;O3=1;var t=Ne(),e=Ge(),r=tl(),n=xr(),i=In(),s=Ts(),a=RY(),o=Bm(),u=lT(),c=Ph(),d=sr(),h=jh(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var x=[];return x[f]=!1,x.concat()[0]!==x}),m=function(x){if(!n(x))return!1;var g=x[f];return g!==void 0?!!g:r(x)},y=!p||!c("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),w=u(v,0),b=0,_,S,N,E,C;for(_=-1,N=arguments.length;_<N;_++)if(C=_===-1?v:arguments[_],m(C))for(E=s(C),a(b+E),S=0;S<E;S++,b++)S in C&&o(w,b,C[S]);else a(b+1),o(w,b++,C);return w.length=b,w}}),g3}var T3={},P3={},Iw,I3;function Xn(){if(I3)return Iw;I3=1;var t=ac(),e=String;return Iw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},Iw}var Rw={},R3;function uT(){if(R3)return Rw;R3=1;var t=Yt(),e=NY(),r=Qn(),n=Li(),i=yi(),s=Th();return Rw.f=t&&!e?Object.defineProperties:function(o,u){n(o);for(var c=i(u),d=s(u),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],c[p]);return o},Rw}var $w,$3;function Sfe(){if($3)return $w;$3=1;var t=Pn();return $w=t("document","documentElement"),$w}var kw,k3;function zm(){if(k3)return kw;k3=1;var t=rc(),e=Mm(),r=t("keys");return kw=function(n){return r[n]||(r[n]=e(n))},kw}var Dw,D3;function Ih(){if(D3)return Dw;D3=1;var t=Li(),e=uT(),r=sT(),n=Oh(),i=Sfe(),s=SY(),a=zm(),o=">",u="<",c="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return u+d+o+v+u+"/"+d+o},m=function(v){v.write(p("")),v.close();var w=v.parentWindow.Object;return v=null,w},y=function(){var v=s("iframe"),w="java"+d+":",b;return v.style.display="none",i.appendChild(v),v.src=String(w),b=v.contentWindow.document,b.open(),b.write(p("document.F=Object")),b.close(),b.F},x,g=function(){try{x=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&x?m(x):y():m(x);for(var v=r.length;v--;)delete g[c][r[v]];return g()};return n[h]=!0,Dw=Object.create||function(w,b){var _;return w!==null?(f[c]=t(w),_=new f,f[c]=null,_[h]=w):_=g(),b===void 0?_:e.f(_,b)},Dw}var Mw={},M3;function Um(){if(M3)return Mw;M3=1;var t=CY(),e=sT(),r=e.concat("length","prototype");return Mw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Mw}var qw={},q3;function cT(){if(q3)return qw;q3=1;var t=Fi(),e=yi(),r=Um().f,n=sc(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return qw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},qw}var Aw,A3;function Rh(){if(A3)return Aw;A3=1;var t=nc();return Aw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Aw}var Fw,F3;function dT(){if(F3)return Fw;F3=1;var t=Qn();return Fw=function(e,r,n){return t.f(e,r,n)},Fw}var Lw={},L3;function Wm(){if(L3)return Lw;L3=1;var t=sr();return Lw.f=t,Lw}var Bw,B3;function Dt(){if(B3)return Bw;B3=1;var t=dt(),e=Cr(),r=Wm(),n=Qn().f;return Bw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Bw}var zw,z3;function DY(){if(z3)return zw;z3=1;var t=yn(),e=Pn(),r=sr(),n=Rh();return zw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(u){return t(a,this)},{arity:1})},zw}var Uw,U3;function Efe(){if(U3)return Uw;U3=1;var t=oT(),e=ac();return Uw=t?{}.toString:function(){return"[object "+e(this)+"]"},Uw}var Ww,W3;function rl(){if(W3)return Ww;W3=1;var t=oT(),e=Qn().f,r=nc(),n=Cr(),i=Efe(),s=sr(),a=s("toStringTag");return Ww=function(o,u,c,d){var h=c?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:u}),d&&!t&&r(h,"toString",i))},Ww}var Vw,V3;function MY(){if(V3)return Vw;V3=1;var t=Ot(),e=br(),r=t.WeakMap;return Vw=e(r)&&/native code/.test(String(r)),Vw}var Hw,H3;function nl(){if(H3)return Hw;H3=1;var t=MY(),e=Ot(),r=xr(),n=nc(),i=Cr(),s=rT(),a=zm(),o=Oh(),u="Object already initialized",c=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(w){var b;if(!r(w)||(b=f(w)).type!==v)throw new c("Incompatible receiver, "+v+" required");return b}};if(t||s.state){var x=s.state||(s.state=new d);x.get=x.get,x.has=x.has,x.set=x.set,h=function(v,w){if(x.has(v))throw new c(u);return w.facade=v,x.set(v,w),w},f=function(v){return x.get(v)||{}},p=function(v){return x.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,w){if(i(v,g))throw new c(u);return w.facade=v,n(v,g,w),w},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Hw={set:h,get:f,has:p,enforce:m,getterFor:y},Hw}var Kw,K3;function $a(){if(K3)return Kw;K3=1;var t=Am(),e=Qe(),r=Dm(),n=In(),i=Ts(),s=lT(),a=e([].push),o=function(u){var c=u===1,d=u===2,h=u===3,f=u===4,p=u===6,m=u===7,y=u===5||p;return function(x,g,v,w){for(var b=n(x),_=r(b),S=i(_),N=t(g,v),E=0,C=w||s,O=c?C(x,S):d||m?C(x,0):void 0,I,j;S>E;E++)if((y||E in _)&&(I=_[E],j=N(I,E,b),u))if(c)O[E]=j;else if(j)switch(u){case 3:return!0;case 5:return I;case 6:return E;case 2:a(O,I)}else switch(u){case 4:return!1;case 7:a(O,I)}return p?-1:h||f?f:O}};return Kw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Kw}var G3;function Nfe(){if(G3)return P3;G3=1;var t=Ne(),e=Ot(),r=yn(),n=Qe(),i=tc(),s=Yt(),a=Zu(),o=Ge(),u=Cr(),c=ir(),d=Li(),h=yi(),f=nT(),p=Xn(),m=Nh(),y=Ih(),x=Th(),g=Um(),v=cT(),w=Lm(),b=qm(),_=Qn(),S=uT(),N=km(),E=Rh(),C=dT(),O=rc(),I=zm(),j=Oh(),P=Mm(),D=sr(),M=Wm(),z=Dt(),W=DY(),A=rl(),H=nl(),B=$a().forEach,V=I("hidden"),G="Symbol",fe="prototype",me=H.set,$e=H.getterFor(G),xe=Object[fe],je=e.Symbol,Fe=je&&je[fe],tt=e.RangeError,Et=e.TypeError,ht=e.QObject,Y=b.f,Se=_.f,Re=v.f,Be=N.f,Mt=n([].push),Ce=O("symbols"),Ue=O("op-symbols"),Nt=O("wks"),Tt=!ht||!ht[fe]||!ht[fe].findChild,$=function(ve,ne,de){var le=Y(xe,ne);le&&delete xe[ne],Se(ve,ne,de),le&&ve!==xe&&Se(xe,ne,le)},q=s&&o(function(){return y(Se({},"a",{get:function(){return Se(this,"a",{value:7}).a}})).a!==7})?$:Se,L=function(ve,ne){var de=Ce[ve]=y(Fe);return me(de,{type:G,tag:ve,description:ne}),s||(de.description=ne),de},se=function(ne,de,le){ne===xe&&se(Ue,de,le),d(ne);var _e=f(de);return d(le),u(Ce,_e)?(le.enumerable?(u(ne,V)&&ne[V][_e]&&(ne[V][_e]=!1),le=y(le,{enumerable:m(0,!1)})):(u(ne,V)||Se(ne,V,m(1,y(null))),ne[V][_e]=!0),q(ne,_e,le)):Se(ne,_e,le)},Z=function(ne,de){d(ne);var le=h(de),_e=x(le).concat(Xe(le));return B(_e,function(Ve){(!s||r(K,le,Ve))&&se(ne,Ve,le[Ve])}),ne},X=function(ne,de){return de===void 0?y(ne):Z(y(ne),de)},K=function(ne){var de=f(ne),le=r(Be,this,de);return this===xe&&u(Ce,de)&&!u(Ue,de)?!1:le||!u(this,de)||!u(Ce,de)||u(this,V)&&this[V][de]?le:!0},oe=function(ne,de){var le=h(ne),_e=f(de);if(!(le===xe&&u(Ce,_e)&&!u(Ue,_e))){var Ve=Y(le,_e);return Ve&&u(Ce,_e)&&!(u(le,V)&&le[V][_e])&&(Ve.enumerable=!0),Ve}},pe=function(ne){var de=Re(h(ne)),le=[];return B(de,function(_e){!u(Ce,_e)&&!u(j,_e)&&Mt(le,_e)}),le},Xe=function(ve){var ne=ve===xe,de=Re(ne?Ue:h(ve)),le=[];return B(de,function(_e){u(Ce,_e)&&(!ne||u(xe,_e))&&Mt(le,Ce[_e])}),le};return a||(je=function(){if(c(Fe,this))throw new Et("Symbol is not a constructor");var ne=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),de=P(ne),le=function(_e){var Ve=this===void 0?e:this;Ve===xe&&r(le,Ue,_e),u(Ve,V)&&u(Ve[V],de)&&(Ve[V][de]=!1);var Rn=m(1,_e);try{q(Ve,de,Rn)}catch(Bi){if(!(Bi instanceof tt))throw Bi;$(Ve,de,Rn)}};return s&&Tt&&q(xe,de,{configurable:!0,set:le}),L(de,ne)},Fe=je[fe],E(Fe,"toString",function(){return $e(this).tag}),E(je,"withoutSetter",function(ve){return L(P(ve),ve)}),N.f=K,_.f=se,S.f=Z,b.f=oe,g.f=v.f=pe,w.f=Xe,M.f=function(ve){return L(D(ve),ve)},s&&(C(Fe,"description",{configurable:!0,get:function(){return $e(this).description}}),i||E(xe,"propertyIsEnumerable",K,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:je}),B(x(Nt),function(ve){z(ve)}),t({target:G,stat:!0,forced:!a},{useSetter:function(){Tt=!0},useSimple:function(){Tt=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:X,defineProperty:se,defineProperties:Z,getOwnPropertyDescriptor:oe}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:pe}),W(),A(je,G),j[V]=!0,P3}var Y3={},Gw,Q3;function qY(){if(Q3)return Gw;Q3=1;var t=Zu();return Gw=t&&!!Symbol.for&&!!Symbol.keyFor,Gw}var X3;function jfe(){if(X3)return Y3;X3=1;var t=Ne(),e=Pn(),r=Cr(),n=Xn(),i=rc(),s=qY(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(u){var c=n(u);if(r(a,c))return a[c];var d=e("Symbol")(c);return a[c]=d,o[d]=c,d}}),Y3}var J3={},Z3;function Cfe(){if(Z3)return J3;Z3=1;var t=Ne(),e=Cr(),r=Ch(),n=ec(),i=rc(),s=qY(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(u){if(!r(u))throw new TypeError(n(u)+" is not a symbol");if(e(a,u))return a[u]}}),J3}var eL={},Yw,tL;function Ofe(){if(tL)return Yw;tL=1;var t=Qe(),e=tl(),r=br(),n=Fi(),i=Xn(),s=t([].push);return Yw=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,u=[],c=0;c<o;c++){var d=a[c];typeof d=="string"?s(u,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(u,i(d))}var h=u.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(u[y]===p)return m}}},Yw}var rL;function AY(){if(rL)return eL;rL=1;var t=Ne(),e=Pn(),r=$m(),n=yn(),i=Qe(),s=Ge(),a=br(),o=Ch(),u=sc(),c=Ofe(),d=Zu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),x=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,w=/^[\uD800-\uDBFF]$/,b=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var C=e("Symbol")("stringify detection");return f([C])!=="[null]"||f({a:C})!=="{}"||f(Object(C))!=="{}"}),S=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),N=function(C,O){var I=u(arguments),j=c(O);if(!(!a(j)&&(C===void 0||o(C))))return I[1]=function(P,D){if(a(j)&&(D=n(j,this,h(P),D)),!o(D))return D},r(f,null,I)},E=function(C,O,I){var j=m(I,O-1),P=m(I,O+1);return p(w,C)&&!p(b,P)||p(b,C)&&!p(w,j)?"\\u"+g(y(C,0),16):C};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||S},{stringify:function(O,I,j){var P=u(arguments),D=r(_?N:f,null,P);return S&&typeof D=="string"?x(D,v,E):D}}),eL}var nL={},iL;function Tfe(){if(iL)return nL;iL=1;var t=Ne(),e=Zu(),r=Ge(),n=Lm(),i=In(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var u=n.f;return u?u(i(o)):[]}}),nL}var sL;function FY(){return sL||(sL=1,Nfe(),jfe(),Cfe(),AY(),Tfe()),T3}var aL={},oL;function LY(){if(oL)return aL;oL=1;var t=Dt();return t("asyncDispose"),aL}var lL={},uL;function Pfe(){if(uL)return lL;uL=1;var t=Dt();return t("asyncIterator"),lL}var cL={},dL;function BY(){if(dL)return cL;dL=1;var t=Dt();return t("dispose"),cL}var hL={},fL;function Ife(){if(fL)return hL;fL=1;var t=Dt();return t("hasInstance"),hL}var pL={},mL;function Rfe(){if(mL)return pL;mL=1;var t=Dt();return t("isConcatSpreadable"),pL}var vL={},gL;function zY(){if(gL)return vL;gL=1;var t=Dt();return t("iterator"),vL}var yL={},bL;function $fe(){if(bL)return yL;bL=1;var t=Dt();return t("match"),yL}var xL={},wL;function kfe(){if(wL)return xL;wL=1;var t=Dt();return t("matchAll"),xL}var _L={},SL;function Dfe(){if(SL)return _L;SL=1;var t=Dt();return t("replace"),_L}var EL={},NL;function Mfe(){if(NL)return EL;NL=1;var t=Dt();return t("search"),EL}var jL={},CL;function qfe(){if(CL)return jL;CL=1;var t=Dt();return t("species"),jL}var OL={},TL;function Afe(){if(TL)return OL;TL=1;var t=Dt();return t("split"),OL}var PL={},IL;function UY(){if(IL)return PL;IL=1;var t=Dt(),e=DY();return t("toPrimitive"),e(),PL}var RL={},$L;function Ffe(){if($L)return RL;$L=1;var t=Pn(),e=Dt(),r=rl();return e("toStringTag"),r(t("Symbol"),"Symbol"),RL}var kL={},DL;function Lfe(){if(DL)return kL;DL=1;var t=Dt();return t("unscopables"),kL}var ML={},qL;function Bfe(){if(qL)return ML;qL=1;var t=Ot(),e=rl();return e(t.JSON,"JSON",!0),ML}var Qw,AL;function zfe(){if(AL)return Qw;AL=1,kY(),FY(),LY(),Pfe(),BY(),Ife(),Rfe(),zY(),$fe(),kfe(),Dfe(),Mfe(),qfe(),Afe(),UY(),Ffe(),Lfe(),Bfe();var t=dt();return Qw=t.Symbol,Qw}var FL={},Xw,LL;function hT(){return LL||(LL=1,Xw=function(){}),Xw}var Jw,BL;function oc(){return BL||(BL=1,Jw={}),Jw}var Zw,zL;function Ufe(){if(zL)return Zw;zL=1;var t=Yt(),e=Cr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Zw={EXISTS:i,PROPER:s,CONFIGURABLE:a},Zw}var e_,UL;function WY(){if(UL)return e_;UL=1;var t=Ge();return e_=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),e_}var t_,WL;function Vm(){if(WL)return t_;WL=1;var t=Cr(),e=br(),r=In(),n=zm(),i=WY(),s=n("IE_PROTO"),a=Object,o=a.prototype;return t_=i?a.getPrototypeOf:function(u){var c=r(u);if(t(c,s))return c[s];var d=c.constructor;return e(d)&&c instanceof d?d.prototype:c instanceof a?o:null},t_}var r_,VL;function VY(){if(VL)return r_;VL=1;var t=Ge(),e=br(),r=xr(),n=Ih(),i=Vm(),s=Rh(),a=sr(),o=tc(),u=a("iterator"),c=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):c=!0);var p=!r(d)||t(function(){var m={};return d[u].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[u])||s(d,u,function(){return this}),r_={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:c},r_}var n_,HL;function Wfe(){if(HL)return n_;HL=1;var t=VY().IteratorPrototype,e=Ih(),r=Nh(),n=rl(),i=oc(),s=function(){return this};return n_=function(a,o,u,c){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!c,u)}),n(a,d,!1,!0),i[d]=s,a},n_}var i_,KL;function Vfe(){if(KL)return i_;KL=1;var t=Qe(),e=Os();return i_=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},i_}var s_,GL;function Hfe(){if(GL)return s_;GL=1;var t=xr();return s_=function(e){return t(e)||e===null},s_}var a_,YL;function Kfe(){if(YL)return a_;YL=1;var t=Hfe(),e=String,r=TypeError;return a_=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},a_}var o_,QL;function Gfe(){if(QL)return o_;QL=1;var t=Vfe(),e=xr(),r=Cs(),n=Kfe();return o_=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(u,c){return r(u),n(c),e(u)&&(i?a(u,c):u.__proto__=c),u}}():void 0),o_}var l_,XL;function fT(){if(XL)return l_;XL=1;var t=Ne(),e=yn(),r=tc(),n=Ufe(),i=br(),s=Wfe(),a=Vm(),o=Gfe(),u=rl(),c=nc(),d=Rh(),h=sr(),f=oc(),p=VY(),m=n.PROPER,y=n.CONFIGURABLE,x=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),w="keys",b="values",_="entries",S=function(){return this};return l_=function(N,E,C,O,I,j,P){s(C,E,O);var D=function(me){if(me===I&&H)return H;if(!g&&me&&me in W)return W[me];switch(me){case w:return function(){return new C(this,me)};case b:return function(){return new C(this,me)};case _:return function(){return new C(this,me)}}return function(){return new C(this)}},M=E+" Iterator",z=!1,W=N.prototype,A=W[v]||W["@@iterator"]||I&&W[I],H=!g&&A||D(I),B=E==="Array"&&W.entries||A,V,G,fe;if(B&&(V=a(B.call(new N)),V!==Object.prototype&&V.next&&(!r&&a(V)!==x&&(o?o(V,x):i(V[v])||d(V,v,S)),u(V,M,!0,!0),r&&(f[M]=S))),m&&I===b&&A&&A.name!==b&&(!r&&y?c(W,"name",b):(z=!0,H=function(){return e(A,this)})),I)if(G={values:D(b),keys:j?H:D(w),entries:D(_)},P)for(fe in G)(g||z||!(fe in W))&&d(W,fe,G[fe]);else t({target:E,proto:!0,forced:g||z},G);return(!r||P)&&W[v]!==H&&d(W,v,H,{name:I}),f[E]=H,G},l_}var u_,JL;function pT(){return JL||(JL=1,u_=function(t,e){return{value:t,done:e}}),u_}var c_,ZL;function lc(){if(ZL)return c_;ZL=1;var t=yi(),e=hT(),r=oc(),n=nl(),i=Qn().f,s=fT(),a=pT(),o=tc(),u=Yt(),c="Array Iterator",d=n.set,h=n.getterFor(c);c_=s(Array,"Array",function(p,m){d(this,{type:c,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&u&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return c_}var d_,e6;function Yfe(){return e6||(e6=1,d_={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),d_}var t6;function uc(){if(t6)return FL;t6=1,lc();var t=Yfe(),e=Ot(),r=rl(),n=oc();for(var i in t)r(e[i],i),n[i]=n.Array;return FL}var h_,r6;function HY(){if(r6)return h_;r6=1;var t=zfe();return uc(),h_=t,h_}var f_,n6;function Qfe(){return n6||(n6=1,f_=HY()),f_}var Xfe=Qfe(),Jfe=Ie(Xfe),i6={},s6;function Zfe(){if(s6)return i6;s6=1;var t=Ne(),e=tl(),r=$Y(),n=xr(),i=Fm(),s=Ts(),a=yi(),o=Bm(),u=sr(),c=Ph(),d=sc(),h=c("slice"),f=u("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(x,g){var v=a(this),w=s(v),b=i(x,w),_=i(g===void 0?w:g,w),S,N,E;if(e(v)&&(S=v.constructor,r(S)&&(S===p||e(S.prototype))?S=void 0:n(S)&&(S=S[f],S===null&&(S=void 0)),S===p||S===void 0))return d(v,b,_);for(N=new(S===void 0?p:S)(m(_-b,0)),E=0;b<_;b++,E++)b in v&&o(N,E,v[b]);return N.length=E,N}}),i6}var p_,a6;function epe(){if(a6)return p_;a6=1,Zfe();var t=Or();return p_=t("Array","slice"),p_}var m_,o6;function tpe(){if(o6)return m_;o6=1;var t=ir(),e=epe(),r=Array.prototype;return m_=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},m_}var v_,l6;function rpe(){if(l6)return v_;l6=1;var t=tpe();return v_=t,v_}var g_,u6;function npe(){return u6||(u6=1,g_=rpe()),g_}var ipe=npe(),Oi=Ie(ipe),y_,c6;function spe(){if(c6)return y_;c6=1;var t=Pn(),e=Qe(),r=Um(),n=Lm(),i=Li(),s=e([].concat);return y_=t("Reflect","ownKeys")||function(o){var u=r.f(i(o)),c=n.f;return c?s(u,c(o)):u},y_}var d6={},h6;function ape(){if(h6)return d6;h6=1;var t=Ne(),e=tl();return t({target:"Array",stat:!0},{isArray:e}),d6}var b_,f6;function ope(){if(f6)return b_;f6=1,ape();var t=dt();return b_=t.Array.isArray,b_}var x_,p6;function lpe(){if(p6)return x_;p6=1;var t=ope();return x_=t,x_}var w_,m6;function upe(){return m6||(m6=1,w_=lpe()),w_}var cpe=upe(),Wt=Ie(cpe),v6={},g6;function dpe(){if(g6)return v6;g6=1;var t=Ne(),e=$a().map,r=Ph(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),v6}var __,y6;function hpe(){if(y6)return __;y6=1,dpe();var t=Or();return __=t("Array","map"),__}var S_,b6;function fpe(){if(b6)return S_;b6=1;var t=ir(),e=hpe(),r=Array.prototype;return S_=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},S_}var E_,x6;function ppe(){if(x6)return E_;x6=1;var t=fpe();return E_=t,E_}var N_,w6;function mpe(){return w6||(w6=1,N_=ppe()),N_}var vpe=mpe(),ju=Ie(vpe),_6={},S6;function gpe(){if(S6)return _6;S6=1;var t=Ne(),e=In(),r=Th(),n=Ge(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),_6}var j_,E6;function ype(){if(E6)return j_;E6=1,gpe();var t=dt();return j_=t.Object.keys,j_}var C_,N6;function bpe(){if(N6)return C_;N6=1;var t=ype();return C_=t,C_}var O_,j6;function xpe(){return j6||(j6=1,O_=bpe()),O_}var wpe=xpe(),Bt=Ie(wpe),C6={},O6;function _pe(){if(O6)return C6;O6=1;var t=Ne(),e=Qe(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),C6}var T_,T6;function Spe(){if(T6)return T_;T6=1,_pe();var t=dt();return T_=t.Date.now,T_}var P_,P6;function Epe(){if(P6)return P_;P6=1;var t=Spe();return P_=t,P_}var I_,I6;function Npe(){return I6||(I6=1,I_=Epe()),I_}var jpe=Npe(),qp=Ie(jpe),R6={},R_,$6;function cc(){if($6)return R_;$6=1;var t=Ge();return R_=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},R_}var $_,k6;function Cpe(){if(k6)return $_;k6=1;var t=$a().forEach,e=cc(),r=e("forEach");return $_=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},$_}var D6;function Ope(){if(D6)return R6;D6=1;var t=Ne(),e=Cpe();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),R6}var k_,M6;function Tpe(){if(M6)return k_;M6=1,Ope();var t=Or();return k_=t("Array","forEach"),k_}var D_,q6;function Ppe(){if(q6)return D_;q6=1;var t=Tpe();return D_=t,D_}var M_,A6;function Ipe(){if(A6)return M_;A6=1;var t=ac(),e=Cr(),r=ir(),n=Ppe(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return M_=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},M_}var q_,F6;function Rpe(){return F6||(F6=1,q_=Ipe()),q_}var $pe=Rpe(),pt=Ie($pe),L6={},B6;function kpe(){if(B6)return L6;B6=1;var t=Ne(),e=Qe(),r=tl(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),L6}var A_,z6;function Dpe(){if(z6)return A_;z6=1,kpe();var t=Or();return A_=t("Array","reverse"),A_}var F_,U6;function Mpe(){if(U6)return F_;U6=1;var t=ir(),e=Dpe(),r=Array.prototype;return F_=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},F_}var L_,W6;function qpe(){if(W6)return L_;W6=1;var t=Mpe();return L_=t,L_}var B_,V6;function Ape(){return V6||(V6=1,B_=qpe()),B_}var Fpe=Ape(),yo=Ie(Fpe),H6={},z_,K6;function Lpe(){if(K6)return z_;K6=1;var t=Yt(),e=tl(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return z_=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},z_}var U_,G6;function KY(){if(G6)return U_;G6=1;var t=ec(),e=TypeError;return U_=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},U_}var Y6;function Bpe(){if(Y6)return H6;Y6=1;var t=Ne(),e=In(),r=Fm(),n=ic(),i=Ts(),s=Lpe(),a=RY(),o=lT(),u=Bm(),c=KY(),d=Ph(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,x){var g=e(this),v=i(g),w=r(y,v),b=arguments.length,_,S,N,E,C,O;for(b===0?_=S=0:b===1?(_=0,S=v-w):(_=b-2,S=p(f(n(x),0),v-w)),a(v+_-S),N=o(g,S),E=0;E<S;E++)C=w+E,C in g&&u(N,E,g[C]);if(N.length=S,_<S){for(E=w;E<v-S;E++)C=E+S,O=E+_,C in g?g[O]=g[C]:c(g,O);for(E=v;E>v-S+_;E--)c(g,E-1)}else if(_>S)for(E=v-S;E>w;E--)C=E+S-1,O=E+_-1,C in g?g[O]=g[C]:c(g,O);for(E=0;E<_;E++)g[E+w]=arguments[E+2];return s(g,v-S+_),N}}),H6}var W_,Q6;function zpe(){if(Q6)return W_;Q6=1,Bpe();var t=Or();return W_=t("Array","splice"),W_}var V_,X6;function Upe(){if(X6)return V_;X6=1;var t=ir(),e=zpe(),r=Array.prototype;return V_=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},V_}var H_,J6;function Wpe(){if(J6)return H_;J6=1;var t=Upe();return H_=t,H_}var K_,Z6;function Vpe(){return Z6||(Z6=1,K_=Wpe()),K_}var Hpe=Vpe(),os=Ie(Hpe),eB={},tB;function Kpe(){if(tB)return eB;tB=1;var t=Ne(),e=iT().includes,r=Ge(),n=hT(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),eB}var G_,rB;function Gpe(){if(rB)return G_;rB=1,Kpe();var t=Or();return G_=t("Array","includes"),G_}var nB={},Y_,iB;function Ype(){if(iB)return Y_;iB=1;var t=xr(),e=Fi(),r=sr(),n=r("match");return Y_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},Y_}var Q_,sB;function Qpe(){if(sB)return Q_;sB=1;var t=Ype(),e=TypeError;return Q_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},Q_}var X_,aB;function Xpe(){if(aB)return X_;aB=1;var t=sr(),e=t("match");return X_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},X_}var oB;function Jpe(){if(oB)return nB;oB=1;var t=Ne(),e=Qe(),r=Qpe(),n=Cs(),i=Xn(),s=Xpe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(u){return!!~a(i(n(this)),i(r(u)),arguments.length>1?arguments[1]:void 0)}}),nB}var J_,lB;function Zpe(){if(lB)return J_;lB=1,Jpe();var t=Or();return J_=t("String","includes"),J_}var Z_,uB;function eme(){if(uB)return Z_;uB=1;var t=ir(),e=Gpe(),r=Zpe(),n=Array.prototype,i=String.prototype;return Z_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},Z_}var eS,cB;function tme(){if(cB)return eS;cB=1;var t=eme();return eS=t,eS}var tS,dB;function rme(){return dB||(dB=1,tS=tme()),tS}var nme=rme(),pa=Ie(nme),hB={},fB;function ime(){if(fB)return hB;fB=1;var t=Ne(),e=Ge(),r=In(),n=Vm(),i=WY(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),hB}var rS,pB;function sme(){if(pB)return rS;pB=1,ime();var t=dt();return rS=t.Object.getPrototypeOf,rS}var nS,mB;function ame(){if(mB)return nS;mB=1;var t=sme();return nS=t,nS}var iS,vB;function ome(){return vB||(vB=1,iS=ame()),iS}var lme=ome(),gB=Ie(lme),sS,yB;function ume(){if(yB)return sS;yB=1,kY();var t=Or();return sS=t("Array","concat"),sS}var aS,bB;function cme(){if(bB)return aS;bB=1;var t=ir(),e=ume(),r=Array.prototype;return aS=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},aS}var oS,xB;function dme(){if(xB)return oS;xB=1;var t=cme();return oS=t,oS}var lS,wB;function hme(){return wB||(wB=1,lS=dme()),lS}var fme=hme(),pme=Ie(fme),_B={},SB;function mme(){if(SB)return _B;SB=1;var t=Ne(),e=$a().filter,r=Ph(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),_B}var uS,EB;function vme(){if(EB)return uS;EB=1,mme();var t=Or();return uS=t("Array","filter"),uS}var cS,NB;function gme(){if(NB)return cS;NB=1;var t=ir(),e=vme(),r=Array.prototype;return cS=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},cS}var dS,jB;function yme(){if(jB)return dS;jB=1;var t=gme();return dS=t,dS}var hS,CB;function bme(){return CB||(CB=1,hS=yme()),hS}var xme=bme(),sn=Ie(xme),OB={},fS,TB;function wme(){if(TB)return fS;TB=1;var t=Yt(),e=Ge(),r=Qe(),n=Vm(),i=Th(),s=yi(),a=km().f,o=r(a),u=r([].push),c=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=c&&n(p)===null,x=m.length,g=0,v=[],w;x>g;)w=m[g++],(!t||(y?w in p:o(p,w)))&&u(v,h?[w,p[w]]:p[w]);return v}};return fS={entries:d(!0),values:d(!1)},fS}var PB;function _me(){if(PB)return OB;PB=1;var t=Ne(),e=wme().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),OB}var pS,IB;function Sme(){if(IB)return pS;IB=1,_me();var t=dt();return pS=t.Object.values,pS}var mS,RB;function Eme(){if(RB)return mS;RB=1;var t=Sme();return mS=t,mS}var vS,$B;function Nme(){return $B||($B=1,vS=Eme()),vS}var jme=Nme(),Cme=Ie(jme),kB={},gS,DB;function mT(){return DB||(DB=1,gS=`	
\v\f\r \u2028\u2029\uFEFF`),gS}var yS,MB;function GY(){if(MB)return yS;MB=1;var t=Qe(),e=Cs(),r=Xn(),n=mT(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(u){return function(c){var d=r(e(c));return u&1&&(d=i(d,s,"")),u&2&&(d=i(d,a,"$1")),d}};return yS={start:o(1),end:o(2),trim:o(3)},yS}var bS,qB;function Ome(){if(qB)return bS;qB=1;var t=Ot(),e=Ge(),r=Qe(),n=Xn(),i=GY().trim,s=mT(),a=t.parseInt,o=t.Symbol,u=o&&o.iterator,c=/^[+-]?0x/i,d=r(c.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||u&&!e(function(){a(Object(u))});return bS=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(c,y)?16:10))}:a,bS}var AB;function Tme(){if(AB)return kB;AB=1;var t=Ne(),e=Ome();return t({global:!0,forced:parseInt!==e},{parseInt:e}),kB}var xS,FB;function Pme(){if(FB)return xS;FB=1,Tme();var t=dt();return xS=t.parseInt,xS}var wS,LB;function Ime(){if(LB)return wS;LB=1;var t=Pme();return wS=t,wS}var _S,BB;function Rme(){return BB||(BB=1,_S=Ime()),_S}var $me=Rme(),li=Ie($me),zB={},UB;function kme(){if(UB)return zB;UB=1;var t=Ne(),e=eT(),r=iT().indexOf,n=cc(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(u){var c=arguments.length>1?arguments[1]:void 0;return s?i(this,u,c)||0:r(this,u,c)}}),zB}var SS,WB;function Dme(){if(WB)return SS;WB=1,kme();var t=Or();return SS=t("Array","indexOf"),SS}var ES,VB;function Mme(){if(VB)return ES;VB=1;var t=ir(),e=Dme(),r=Array.prototype;return ES=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},ES}var NS,HB;function qme(){if(HB)return NS;HB=1;var t=Mme();return NS=t,NS}var jS,KB;function Ame(){return KB||(KB=1,jS=qme()),jS}var Fme=Ame(),ot=Ie(Fme),GB={},YB;function Lme(){if(YB)return GB;YB=1;var t=Ne(),e=Yt(),r=Ih();return t({target:"Object",stat:!0,sham:!e},{create:r}),GB}var CS,QB;function Bme(){if(QB)return CS;QB=1,Lme();var t=dt(),e=t.Object;return CS=function(n,i){return e.create(n,i)},CS}var OS,XB;function zme(){if(XB)return OS;XB=1;var t=Bme();return OS=t,OS}var TS,JB;function Ume(){return JB||(JB=1,TS=zme()),TS}var Wme=Ume(),bo=Ie(Wme),ZB={},PS,ez;function Vme(){if(ez)return PS;ez=1;var t=ic(),e=Xn(),r=Cs(),n=RangeError;return PS=function(s){var a=e(r(this)),o="",u=t(s);if(u<0||u===1/0)throw new n("Wrong number of repetitions");for(;u>0;(u>>>=1)&&(a+=a))u&1&&(o+=a);return o},PS}var IS,tz;function Hme(){if(tz)return IS;tz=1;var t=Qe(),e=jY(),r=Xn(),n=Vme(),i=Cs(),s=t(n),a=t("".slice),o=Math.ceil,u=function(c){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,x=f===void 0?" ":r(f),g,v;return m<=y||x===""?p:(g=m-y,v=s(x,o(g/x.length)),v.length>g&&(v=a(v,0,g)),c?p+v:v+p)}};return IS={start:u(!1),end:u(!0)},IS}var RS,rz;function Kme(){if(rz)return RS;rz=1;var t=Qe(),e=Ge(),r=Hme().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,u=t(a.getTime),c=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return RS=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(u(this)))throw new n("Invalid time value");var g=this,v=d(g),w=f(g),b=v<0?"-":v>9999?"+":"";return b+r(s(v),b?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(c(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(w,3,0)+"Z"}:o,RS}var nz;function Gme(){if(nz)return ZB;nz=1;var t=Ne(),e=yn(),r=In(),n=_Y(),i=Kme(),s=Fi(),a=Ge(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(c){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),ZB}var $S,iz;function Yme(){if(iz)return $S;iz=1,Gme(),AY();var t=dt(),e=$m();return t.JSON||(t.JSON={stringify:JSON.stringify}),$S=function(n,i,s){return e(t.JSON.stringify,null,arguments)},$S}var kS,sz;function Qme(){if(sz)return kS;sz=1;var t=Yme();return kS=t,kS}var DS,az;function Xme(){return az||(az=1,DS=Qme()),DS}var Jme=Xme(),$h=Ie(Jme),oz={},lz={},MS,uz;function YY(){if(uz)return MS;uz=1;var t=Ot(),e=Ju(),r=Fi(),n=function(i){return e.slice(0,i.length)===i};return MS=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),MS}var qS,cz;function Zme(){if(cz)return qS;cz=1;var t=TypeError;return qS=function(e,r){if(e<r)throw new t("Not enough arguments");return e},qS}var AS,dz;function QY(){if(dz)return AS;dz=1;var t=Ot(),e=$m(),r=br(),n=YY(),i=Ju(),s=sc(),a=Zme(),o=t.Function,u=/MSIE .\./.test(i)||n==="BUN"&&function(){var c=t.Bun.version.split(".");return c.length<3||c[0]==="0"&&(c[1]<3||c[1]==="3"&&c[2]==="0")}();return AS=function(c,d){var h=d?2:1;return u?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),x=m?s(arguments,h):[],g=m?function(){e(y,this,x)}:y;return d?c(g,p):c(g)}:c},AS}var hz;function eve(){if(hz)return lz;hz=1;var t=Ne(),e=Ot(),r=QY(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),lz}var fz={},pz;function tve(){if(pz)return fz;pz=1;var t=Ne(),e=Ot(),r=QY(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),fz}var mz;function XY(){return mz||(mz=1,eve(),tve()),oz}var FS,vz;function rve(){if(vz)return FS;vz=1,XY();var t=dt();return FS=t.setTimeout,FS}var LS,gz;function nve(){return gz||(gz=1,LS=rve()),LS}var ive=nve(),ls=Ie(ive),yz={},BS,bz;function sve(){if(bz)return BS;bz=1;var t=In(),e=Fm(),r=Ts();return BS=function(i){for(var s=t(this),a=r(s),o=arguments.length,u=e(o>1?arguments[1]:void 0,a),c=o>2?arguments[2]:void 0,d=c===void 0?a:e(c,a);d>u;)s[u++]=i;return s},BS}var xz;function ave(){if(xz)return yz;xz=1;var t=Ne(),e=sve(),r=hT();return t({target:"Array",proto:!0},{fill:e}),r("fill"),yz}var zS,wz;function ove(){if(wz)return zS;wz=1,ave();var t=Or();return zS=t("Array","fill"),zS}var US,_z;function lve(){if(_z)return US;_z=1;var t=ir(),e=ove(),r=Array.prototype;return US=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},US}var WS,Sz;function uve(){if(Sz)return WS;Sz=1;var t=lve();return WS=t,WS}var VS,Ez;function cve(){return Ez||(Ez=1,VS=uve()),VS}var dve=cve(),kh=Ie(dve);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function mi(){return mi=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},mi.apply(this,arguments)}function Jn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function wf(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var Yj;typeof Object.assign!="function"?Yj=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:Yj=Object.assign;var Ao=Yj,Nz=["","webkit","Moz","MS","ms","o"],hve=typeof document>"u"?{style:{}}:document.createElement("div"),fve="function",Dl=Math.round,Fo=Math.abs,vT=Date.now;function Hm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Nz.length;){if(r=Nz[s],n=r?r+i:e,n in t)return n;s++}}var us;typeof window>"u"?us={}:us=window;var JY=Hm(hve.style,"touchAction"),ZY=JY!==void 0;function pve(){if(!ZY)return!1;var t={},e=us.CSS&&us.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?us.CSS.supports("touch-action",r):!0}),t}var eQ="compute",tQ="auto",Qj="manipulation",xo="none",$d="pan-x",kd="pan-y",_f=pve(),mve=/mobile|tablet|ip(ad|hone|od)|android/i,rQ="ontouchstart"in us,vve=Hm(us,"PointerEvent")!==void 0,gve=rQ&&mve.test(navigator.userAgent),Dh="touch",yve="pen",gT="mouse",bve="kinect",xve=25,Kr=1,il=2,tr=4,pn=8,Ap=1,Mh=2,qh=4,Ah=8,Cu=16,qi=Mh|qh,wo=Ah|Cu,nQ=qi|wo,iQ=["x","y"],Fp=["clientX","clientY"];function cs(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Km(t,e){return typeof t===fve?t.apply(e&&e[0]||void 0,e):t}function eo(t,e){return t.indexOf(e)>-1}function wve(t){if(eo(t,xo))return xo;var e=eo(t,$d),r=eo(t,kd);return e&&r?xo:e||r?e?$d:kd:eo(t,Qj)?Qj:tQ}var sQ=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===eQ&&(n=this.compute()),ZY&&this.manager.element.style&&_f[n]&&(this.manager.element.style[JY]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return cs(this.manager.recognizers,function(i){Km(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),wve(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=eo(a,xo)&&!_f[xo],u=eo(a,kd)&&!_f[kd],c=eo(a,$d)&&!_f[$d];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(c&&u)&&(o||u&&s&qi||c&&s&wo))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function yT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function aQ(t){var e=t.length;if(e===1)return{x:Dl(t[0].clientX),y:Dl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:Dl(r/e),y:Dl(n/e)}}function jz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:Dl(t.pointers[r].clientX),clientY:Dl(t.pointers[r].clientY)},r++;return{timeStamp:vT(),pointers:e,center:aQ(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Lp(t,e,r){r||(r=iQ);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function Xj(t,e,r){r||(r=iQ);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function oQ(t,e){return t===e?Ap:Fo(t)>=Fo(e)?t<0?Mh:qh:e<0?Ah:Cu}function _ve(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===Kr||s.eventType===tr)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function lQ(t,e,r){return{x:e/t||0,y:r/t||0}}function Sve(t,e){return Lp(e[0],e[1],Fp)/Lp(t[0],t[1],Fp)}function Eve(t,e){return Xj(e[1],e[0],Fp)+Xj(t[1],t[0],Fp)}function Nve(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==pn&&(n>xve||r.velocity===void 0)){var u=e.deltaX-r.deltaX,c=e.deltaY-r.deltaY,d=lQ(n,u,c);s=d.x,a=d.y,i=Fo(d.x)>Fo(d.y)?d.x:d.y,o=oQ(u,c),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function jve(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=jz(e)),i>1&&!r.firstMultiple?r.firstMultiple=jz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,u=e.center=aQ(n);e.timeStamp=vT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=Xj(o,u),e.distance=Lp(o,u),_ve(r,e),e.offsetDirection=oQ(e.deltaX,e.deltaY);var c=lQ(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=c.x,e.overallVelocityY=c.y,e.overallVelocity=Fo(c.x)>Fo(c.y)?c.x:c.y,e.scale=a?Sve(a.pointers,n):1,e.rotation=a?Eve(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Nve(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,yT(f,d)&&(d=f),e.target=d}function Cve(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&Kr&&n-i===0,a=e&(tr|pn)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,jve(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function Dd(t){return t.trim().split(/\s+/g)}function ed(t,e,r){cs(Dd(e),function(n){t.addEventListener(n,r,!1)})}function td(t,e,r){cs(Dd(e),function(n){t.removeEventListener(n,r,!1)})}function Cz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var dc=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Km(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&ed(this.element,this.evEl,this.domHandler),this.evTarget&&ed(this.target,this.evTarget,this.domHandler),this.evWin&&ed(Cz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&td(this.element,this.evEl,this.domHandler),this.evTarget&&td(this.target,this.evTarget,this.domHandler),this.evWin&&td(Cz(this.element),this.evWin,this.domHandler)},t}();function Lo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Ove={pointerdown:Kr,pointermove:il,pointerup:tr,pointercancel:pn,pointerout:pn},Tve={2:Dh,3:yve,4:gT,5:bve},uQ="pointerdown",cQ="pointermove pointerup pointercancel";us.MSPointerEvent&&!us.PointerEvent&&(uQ="MSPointerDown",cQ="MSPointerMove MSPointerUp MSPointerCancel");var dQ=function(t){Jn(e,t);function e(){var n,i=e.prototype;return i.evEl=uQ,i.evWin=cQ,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),u=Ove[o],c=Tve[i.pointerType]||i.pointerType,d=c===Dh,h=Lo(s,i.pointerId,"pointerId");u&Kr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):u&(tr|pn)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,u,{pointers:s,changedPointers:[i],pointerType:c,srcEvent:i}),a&&s.splice(h,1))},e}(dc);function Md(t){return Array.prototype.slice.call(t,0)}function bT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];Lo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,u){return o[e]>u[e]}):n=n.sort()),n}var Pve={touchstart:Kr,touchmove:il,touchend:tr,touchcancel:pn},Ive="touchstart touchmove touchend touchcancel",xT=function(t){Jn(e,t);function e(){var n;return e.prototype.evTarget=Ive,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Pve[i.type],a=Rve.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Dh,srcEvent:i})},e}(dc);function Rve(t,e){var r=Md(t.touches),n=this.targetIds;if(e&(Kr|il)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=Md(t.changedTouches),o=[],u=this.target;if(s=r.filter(function(c){return yT(c.target,u)}),e===Kr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(tr|pn)&&delete n[a[i].identifier],i++;if(o.length)return[bT(s.concat(o),"identifier",!0),o]}var $ve={mousedown:Kr,mousemove:il,mouseup:tr},kve="mousedown",Dve="mousemove mouseup",wT=function(t){Jn(e,t);function e(){var n,i=e.prototype;return i.evEl=kve,i.evWin=Dve,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=$ve[i.type];s&Kr&&i.button===0&&(this.pressed=!0),s&il&&i.which!==1&&(s=tr),this.pressed&&(s&tr&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:gT,srcEvent:i}))},e}(dc),Mve=2500,Oz=25;function Tz(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Mve)}}function qve(t,e){t&Kr?(this.primaryTouch=e.changedPointers[0].identifier,Tz.call(this,e)):t&(tr|pn)&&Tz.call(this,e)}function Ave(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=Oz&&a<=Oz)return!0}return!1}var hQ=function(){var t=function(e){Jn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,u,c){var d=c.pointerType===Dh,h=c.pointerType===gT;if(!(h&&c.sourceCapabilities&&c.sourceCapabilities.firesTouchEvents)){if(d)qve.call(wf(wf(a)),u,c);else if(h&&Ave.call(wf(wf(a)),c))return;a.callback(o,u,c)}},a.touch=new xT(a.manager,a.handler),a.mouse=new wT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(dc);return t}();function Fve(t){var e,r=t.options.inputClass;return r?e=r:vve?e=dQ:gve?e=xT:rQ?e=hQ:e=wT,new e(t,Cve)}function Ml(t,e,r){return Array.isArray(t)?(cs(t,r[e],r),!0):!1}var Wf=1,Vn=2,Ou=4,ma=8,ds=ma,qd=16,Pi=32,Lve=1;function Bve(){return Lve++}function Sf(t,e){var r=e.manager;return r?r.get(t):t}function Pz(t){return t&qd?"cancel":t&ma?"end":t&Ou?"move":t&Vn?"start":""}var Fh=function(){function t(r){r===void 0&&(r={}),this.options=mi({enable:!0},r),this.id=Bve(),this.manager=null,this.state=Wf,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return Ao(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(Ml(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Sf(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return Ml(n,"dropRecognizeWith",this)?this:(n=Sf(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(Ml(n,"requireFailure",this))return this;var i=this.requireFail;return n=Sf(n,this),Lo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(Ml(n,"dropRequireFailure",this))return this;n=Sf(n,this);var i=Lo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<ma&&a(i.options.event+Pz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=ma&&a(i.options.event+Pz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=Pi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(Pi|Wf)))return!1;n++}return!0},e.recognize=function(n){var i=Ao({},n);if(!Km(this.options.enable,[this,i])){this.reset(),this.state=Pi;return}this.state&(ds|qd|Pi)&&(this.state=Wf),this.state=this.process(i),this.state&(Vn|Ou|ma|qd)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),Jj=function(t){Jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[Qj]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime<a.time;if(this.reset(),i.eventType&Kr&&this.count===0)return this.failTimeout();if(u&&c&&o){if(i.eventType!==tr)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Lp(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.interval),Vn):ds}return Pi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=Pi},this.options.interval),Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===ds&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Fh),Tu=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Vn|Ou),u=this.attrTest(i);return o&&(a&pn||!u)?s|qd:o||u?a&tr?s|ma:s&Vn?s|Ou:Vn:Pi},e}(Fh);function fQ(t){return t===Cu?"down":t===Ah?"up":t===Mh?"left":t===qh?"right":""}var _T=function(t){Jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"pan",threshold:10,pointers:1,direction:nQ},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&qi&&s.push(kd),i&wo&&s.push($d),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,u=i.direction,c=i.deltaX,d=i.deltaY;return u&s.direction||(s.direction&qi?(u=c===0?Ap:c<0?Mh:qh,a=c!==this.pX,o=Math.abs(i.deltaX)):(u=d===0?Ap:d<0?Ah:Cu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=u,a&&o>s.threshold&&u&s.direction},r.attrTest=function(i){return Tu.prototype.attrTest.call(this,i)&&(this.state&Vn||!(this.state&Vn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=fQ(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(Tu),pQ=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"swipe",threshold:10,velocity:.3,direction:qi|wo,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return _T.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(qi|wo)?a=i.overallVelocity:s&qi?a=i.overallVelocityX:s&wo&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&Fo(a)>this.options.velocity&&i.eventType&tr},r.emit=function(i){var s=fQ(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(Tu),mQ=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[xo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Vn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(Tu),vQ=function(t){Jn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,mi({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[xo]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Vn)},e}(Tu),gQ=function(t){Jn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,mi({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[tQ]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,u=i.distance<a.threshold,c=i.deltaTime>a.time;if(this._input=i,!u||!o||i.eventType&(tr|pn)&&!c)this.reset();else if(i.eventType&Kr)this.reset(),this._timer=setTimeout(function(){s.state=ds,s.tryEmit()},a.time);else if(i.eventType&tr)return ds;return Pi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===ds&&(i&&i.eventType&tr?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=vT(),this.manager.emit(this.options.event,this._input)))},e}(Fh),yQ={domEvents:!1,touchAction:eQ,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},Iz=[[vQ,{enable:!1}],[mQ,{enable:!1},["rotate"]],[pQ,{direction:qi}],[_T,{direction:qi},["swipe"]],[Jj],[Jj,{event:"doubletap",taps:2},["tap"]],[gQ]],zve=1,Rz=2;function $z(t,e){var r=t.element;if(r.style){var n;cs(t.options.cssProps,function(i,s){n=Hm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Uve(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var kz=function(){function t(r,n){var i=this;this.options=Ao({},yQ,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Fve(this),this.touchAction=new sQ(this,this.options.touchAction),$z(this,!0),cs(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return Ao(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?Rz:zve},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&ds)&&(i.curRecognizer=null,o=null);for(var u=0;u<a.length;)s=a[u],i.stopped!==Rz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Vn|Ou|ma)&&(i.curRecognizer=s,o=s),u++}},e.get=function(n){if(n instanceof Fh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(Ml(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(Ml(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=Lo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return cs(Dd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return cs(Dd(n),function(a){i?s[a]&&s[a].splice(Lo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Uve(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&$z(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Wve={touchstart:Kr,touchmove:il,touchend:tr,touchcancel:pn},Vve="touchstart",Hve="touchstart touchmove touchend touchcancel",Kve=function(t){Jn(e,t);function e(){var n,i=e.prototype;return i.evTarget=Vve,i.evWin=Hve,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Wve[i.type];if(s===Kr&&(this.started=!0),!!this.started){var a=Gve.call(this,i,s);s&(tr|pn)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Dh,srcEvent:i})}},e}(dc);function Gve(t,e){var r=Md(t.touches),n=Md(t.changedTouches);return e&(tr|pn)&&(r=bT(r.concat(n),"identifier",!0)),[r,n]}function bQ(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var xQ=bQ(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),Yve=bQ(function(t,e){return xQ(t,e,!0)},"merge","Use `assign`.");function Qve(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&Ao(i,r)}function Dz(t,e){return function(){return t.apply(e,arguments)}}var wQ=function(){var t=function(r,n){return n===void 0&&(n={}),new kz(r,mi({recognizers:Iz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=nQ,t.DIRECTION_DOWN=Cu,t.DIRECTION_LEFT=Mh,t.DIRECTION_RIGHT=qh,t.DIRECTION_UP=Ah,t.DIRECTION_HORIZONTAL=qi,t.DIRECTION_VERTICAL=wo,t.DIRECTION_NONE=Ap,t.DIRECTION_DOWN=Cu,t.INPUT_START=Kr,t.INPUT_MOVE=il,t.INPUT_END=tr,t.INPUT_CANCEL=pn,t.STATE_POSSIBLE=Wf,t.STATE_BEGAN=Vn,t.STATE_CHANGED=Ou,t.STATE_ENDED=ma,t.STATE_RECOGNIZED=ds,t.STATE_CANCELLED=qd,t.STATE_FAILED=Pi,t.Manager=kz,t.Input=dc,t.TouchAction=sQ,t.TouchInput=xT,t.MouseInput=wT,t.PointerEventInput=dQ,t.TouchMouseInput=hQ,t.SingleTouchInput=Kve,t.Recognizer=Fh,t.AttrRecognizer=Tu,t.Tap=Jj,t.Pan=_T,t.Swipe=pQ,t.Pinch=mQ,t.Rotate=vQ,t.Press=gQ,t.on=ed,t.off=td,t.each=cs,t.merge=Yve,t.extend=xQ,t.bindFn=Dz,t.assign=Ao,t.inherit=Qve,t.bindFn=Dz,t.prefixed=Hm,t.toArray=Md,t.inArray=Lo,t.uniqueArray=bT,t.splitStr=Dd,t.boolOrFn=Km,t.hasParent=yT,t.addEventListeners=ed,t.removeEventListeners=td,t.defaults=Ao({},yQ,{preset:Iz}),t}();wQ.defaults;Jfe("DELETE");function Gm(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return Xve(e.length?e:[qp()])}function Xve(t){let[e,r,n]=Jve(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function Jve(){const t=Zve();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function Zve(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function ege(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const ST=typeof window<"u"?window.Hammer||wQ:function(){return ege()};function Ii(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=ST(this._dom.overlay);r.on("tap",re(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];pt(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{tge(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}IY(Ii.prototype);Ii.current=null;Ii.prototype.destroy=function(){this.deactivate();for(const r of yo(t=os(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};Ii.prototype.activate=function(){Ii.current&&Ii.current.deactivate(),Ii.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};Ii.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};Ii.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function tge(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const rge=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,nge=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,ige=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,sge=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function Ms(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(Ms(e),t.removeChild(e))}}function Wl(t){return t instanceof String||typeof t=="string"}function Mz(t){return typeof t=="object"&&t!==null}function Bo(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function _Q(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")Bo(t,e,n,r);else{const i=t[n],s=e[n];Mz(i)&&Mz(s)&&_Q(i,s,r)}}function hc(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Wt(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?yt(e[s],r[s],!1,n):Bo(e,r,s,n);else{if(Wt(r[s]))throw new TypeError("Arrays are not supported by deepExtend");Bo(e,r,s,n)}}return e}function Bp(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Wt(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!pa(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?yt(e[i],r[i]):Bo(e,r,i,n);else if(Wt(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else Bo(e,r,i,n);return e}function yt(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&gB(e[s])===Object.prototype)t[s]===void 0?t[s]=yt({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&gB(t[s])===Object.prototype?yt(t[s],e[s],r):Bo(t,e,s,n);else if(Wt(e[s])){var i;t[s]=Oi(i=e[s]).call(i)}else Bo(t,e,s,n);return t}function zp(t,e){return[...t,e]}function age(t){return Oi(t).call(t)}function oge(t){return t.getBoundingClientRect().left}function lge(t){return t.getBoundingClientRect().top}function ze(t,e){if(Wt(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function ET(t){let e;switch(t.length){case 3:case 4:return e=nge.exec(t),e?{r:li(e[1]+e[1],16),g:li(e[2]+e[2],16),b:li(e[3]+e[3],16)}:null;case 6:case 7:return e=rge.exec(t),e?{r:li(e[1],16),g:li(e[2],16),b:li(e[3],16)}:null;default:return null}}function Bn(t,e){if(pa(t).call(t,"rgba"))return t;if(pa(t).call(t,"rgb")){const r=t.substr(ot(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=ET(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function SQ(t,e,r){var n;return"#"+Oi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function Zj(t,e){if(Wl(t)){let n=t;if(NQ(n)){var r;const i=ju(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return li(s)});n=SQ(i[0],i[1],i[2])}if(EQ(n)===!0){const i=uge(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=eC(a.h,a.s,a.v),u=eC(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:u,border:o},hover:{background:u,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:Wl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:Wl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function Fc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,u=(i-n)/i;return{h:o,s:u,v:i}}function Vf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,u=r*(1-e),c=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=u;break;case 1:n=c,i=r,s=u;break;case 2:n=u,i=r,s=d;break;case 3:n=u,i=c,s=r;break;case 4:n=d,i=u,s=r;break;case 5:n=r,i=u,s=c;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function eC(t,e,r){const n=Vf(t,e,r);return SQ(n.r,n.g,n.b)}function uge(t){const e=ET(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return Fc(e.r,e.g,e.b)}function EQ(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function NQ(t){return ige.test(t)}function cge(t){return sge.test(t)}function va(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=bo(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=va(t[r]));return e}function qn(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const x=m[y],g=p[y];for(const v in x)Object.prototype.hasOwnProperty.call(x,v)&&(g[v]=x[v])},u=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(u===void 0)return;if(typeof u=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=u;return}if(u===null&&!s(t[r]))if(i(d))t[r]=bo(d);else return;if(!s(u))return;let f=!0;u.enabled!==void 0?f=u.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const dge={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function qs(t,e){let r;Wt(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const hge={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let fge=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return hge[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),Wl(e)===!0){if(NQ(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(cge(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(EQ(e)===!0){const s=ET(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+$h(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=er({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",ls(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=er({},e)),this.color=e;const n=Fc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=Fc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=Vf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=Fc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),kh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=re(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=re(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=re(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=re(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new ST(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const u=2*Math.PI/360,c=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(u*a),s=this.centerCoordinates.y+o*Math.cos(u*a),h=Vf(a*c,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,u=i-s,c=Math.atan2(o,u),d=.98*Math.min(Math.sqrt(o*o+u*u),a),h=Math.cos(c)*d+s,f=Math.sin(c)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=c/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=Fc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const x=Vf(y.h,y.s,y.v);x.a=this.color.a,this.color=x,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function tC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(tC(...Oi(e).call(e,1))),n}}let pge=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},er(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new fge(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Wt(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),sn(e)!==void 0&&(this.options.filter=sn(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);sn(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=sn(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||ot(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return pt(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(tC("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&ot(e).call(e,r)!==-1&&(s=ot(e).call(e,r));for(let u=0;u<e.length;u++){const c=document.createElement("option");c.value=e[u],u===s&&(c.selected="selected"),c.innerText=e[u],i.appendChild(c)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],u=document.createElement("input");u.className="vis-configuration vis-config-range";try{u.type="range",u.min=s,u.max=a}catch{}u.step=o;let c="",d=0;r!==void 0?(r<0&&r*1.2<s?(u.min=Math.ceil(r*1.2),d=u.min,c="range increased"):r/1.2<s&&(u.min=Math.ceil(r/1.2),d=u.min,c="range increased"),r*1.2>a&&a!==1&&(u.max=Math.ceil(r*1.2),d=u.max,c="range increased"),u.value=r):u.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=u.value;const f=this;u.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},u.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,u,h);c!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(c,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=ls(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=ls(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=sn(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const u=e[o],c=zp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Wt(u)&&typeof u!="string"&&typeof u!="boolean"&&u instanceof Object&&(this.allowCreation=!1,i=this._handleObject(u,c,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(c);if(Wt(u))this._handleArray(u,d,c);else if(typeof u=="string")this._makeTextInput(u,d,c);else if(typeof u=="boolean")this._makeCheckbox(u,d,c);else if(u instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(u.enabled!==void 0){const h=zp(c,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,c,!0);this._makeItem(c,p),a=this._handleObject(u,c)||a}else this._makeCheckbox(u,f,c)}else{const h=this._makeLabel(o,c,!0);this._makeItem(c,h),a=this._handleObject(u,c)||a}}else console.error("dont know how to handle",u,o,c)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(tC("pre","const options = "+$h(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},mge=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=li(e),this.y=li(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let u=!1,c=!0;this.y-r<this.padding&&(c=!1),this.x+n>s-this.padding&&(u=!0),u?a=this.x-n:a=this.x,c?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},Rc=!1,qz;const rC="background: #FFeeee; color: #dd0000";let vge=class qt{static validate(e,r,n){Rc=!1,qz=r;let i=r;return n!==void 0&&(i=r[n]),qt.parse(e,i,[]),Rc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&qt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){qt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=qt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),qt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+qt.printLocation(a,e),rC)},u=qt.getType(r[e]),c=s[u];c!==void 0?qt.getType(c)==="array"&&ot(c).call(c,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+qt.print(c)+' not "'+r[e]+'". '),Rc=!0):u==="object"&&i!=="__any__"&&(a=zp(a,e),qt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+qt.print(Bt(s))+". Received ["+u+'] "'+r[e]+'"'),Rc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Wt(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=qt.findInOptions(e,r,n,!1),s=qt.findInOptions(e,qz,[],!0),a=8,o=4;let u;i.indexMatch!==void 0?u=" in "+qt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?u=" in "+qt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+qt.printLocation(s.path,s.closestMatch,""):i.distance<=a?u='. Did you mean "'+i.closestMatch+'"?'+qt.printLocation(i.path,e):u=". Did you mean one of these: "+qt.print(Bt(r))+qt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+u,rC),Rc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const u=e.toLowerCase();let c;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=qt.findInOptions(e,r[h],zp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,c=p.indexMatch)}else{var d;ot(d=h.toLowerCase()).call(d,u)!==-1&&(c=h),f=qt.levenshteinDistance(e,h),s>f&&(a=h,o=age(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:c}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return $h(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const gge=Ii,yge=pge,Vl=ST,bge=mge,jQ=rC,xge=vge;function wge(t){return ea=t,Nge()}var CQ={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},NT=bo(CQ);NT.color="color.color";NT.style="dashes";var Br={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},Az={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},ea="",Pu=0,Le="",Oe="",tn=Br.NULL;function _ge(){Pu=0,Le=ea.charAt(0)}function dr(){Pu++,Le=ea.charAt(Pu)}function vl(){return ea.charAt(Pu+1)}function Fz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function _a(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Sge(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function OQ(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=_a(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,u=s[r];u.nodes||(u.nodes=[]),ot(o=u.nodes).call(o,i)===-1&&u.nodes.push(i)}e.attr&&(i.attr=_a(i.attr,e.attr))}function Ege(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=_a({},t.edge);e.attr=_a(r,e.attr)}}function TQ(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=_a({},t.edge)),s.attr=_a(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function bt(){for(tn=Br.NULL,Oe="";Le===" "||Le==="	"||Le===`
`||Le==="\r";)dr();do{var t=!1;if(Le==="#"){for(var e=Pu-1;ea.charAt(e)===" "||ea.charAt(e)==="	";)e--;if(ea.charAt(e)===`
`||ea.charAt(e)===""){for(;Le!=""&&Le!=`
`;)dr();t=!0}}if(Le==="/"&&vl()==="/"){for(;Le!=""&&Le!=`
`;)dr();t=!0}if(Le==="/"&&vl()==="*"){for(;Le!="";)if(Le==="*"&&vl()==="/"){dr(),dr();break}else dr();t=!0}for(;Le===" "||Le==="	"||Le===`
`||Le==="\r";)dr()}while(t);if(Le===""){tn=Br.DELIMITER;return}var r=Le+vl();if(Az[r]){tn=Br.DELIMITER,Oe=r,dr(),dr();return}if(Az[Le]){tn=Br.DELIMITER,Oe=Le,dr();return}if(Fz(Le)||Le==="-"){for(Oe+=Le,dr();Fz(Le);)Oe+=Le,dr();Oe==="false"?Oe=!1:Oe==="true"?Oe=!0:isNaN(Number(Oe))||(Oe=Number(Oe)),tn=Br.IDENTIFIER;return}if(Le==='"'){for(dr();Le!=""&&(Le!='"'||Le==='"'&&vl()==='"');)Le==='"'?(Oe+=Le,dr()):Le==="\\"&&vl()==="n"?(Oe+=`
`,dr()):Oe+=Le,dr();if(Le!='"')throw zr('End of string " expected');dr(),tn=Br.IDENTIFIER;return}for(tn=Br.UNKNOWN;Le!="";)Oe+=Le,dr();throw new SyntaxError('Syntax error in part "'+$Q(Oe,30)+'"')}function Nge(){var t={};if(_ge(),bt(),Oe==="strict"&&(t.strict=!0,bt()),(Oe==="graph"||Oe==="digraph")&&(t.type=Oe,bt()),tn===Br.IDENTIFIER&&(t.id=Oe,bt()),Oe!="{")throw zr("Angle bracket { expected");if(bt(),PQ(t),Oe!="}")throw zr("Angle bracket } expected");if(bt(),Oe!=="")throw zr("End of file expected");return bt(),delete t.node,delete t.edge,delete t.graph,t}function PQ(t){for(;Oe!==""&&Oe!="}";)jge(t),Oe===";"&&bt()}function jge(t){var e=IQ(t);if(e){RQ(t,e);return}var r=Cge(t);if(!r){if(tn!=Br.IDENTIFIER)throw zr("Identifier expected");var n=Oe;if(bt(),Oe==="="){if(bt(),tn!=Br.IDENTIFIER)throw zr("Identifier expected");t[n]=Oe,bt()}else Oge(t,n)}}function IQ(t){var e=null;if(Oe==="subgraph"&&(e={},e.type="subgraph",bt(),tn===Br.IDENTIFIER&&(e.id=Oe,bt())),Oe==="{"){if(bt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,PQ(e),Oe!="}")throw zr("Angle bracket } expected");bt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Cge(t){return Oe==="node"?(bt(),t.node=rd(),"node"):Oe==="edge"?(bt(),t.edge=rd(),"edge"):Oe==="graph"?(bt(),t.graph=rd(),"graph"):null}function Oge(t,e){var r={id:e},n=rd();n&&(r.attr=n),OQ(t,r),RQ(t,e)}function RQ(t,e){for(;Oe==="->"||Oe==="--";){var r,n=Oe;bt();var i=IQ(t);if(i)r=i;else{if(tn!=Br.IDENTIFIER)throw zr("Identifier or subgraph expected");r=Oe,OQ(t,{id:r}),bt()}var s=rd(),a=TQ(t,e,r,n,s);Ege(t,a),e=r}}function rd(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;Oe==="[";){for(bt(),e={};Oe!==""&&Oe!="]";){if(tn!=Br.IDENTIFIER)throw zr("Attribute name expected");var a=Oe;if(bt(),Oe!="=")throw zr("Equal sign = expected");if(bt(),tn!=Br.IDENTIFIER)throw zr("Attribute value expected");var o=Oe;a==="style"&&(o=r[o]);var u;a==="arrowhead"&&(u=n[o],a="arrows",o={to:{enabled:!0,type:u}}),a==="arrowtail"&&(u=n[o],a="arrows",o={from:{enabled:!0,type:u}}),i.push({attr:e,name:a,value:o}),s.push(a),bt(),Oe==","&&bt()}if(Oe!="]")throw zr("Bracket ] expected");bt()}if(pa(s).call(s,"dir")){var c={};for(c.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)c.arrows.to=t;else if(i[t].value.from!=null)c.arrows.from=t;else throw zr("Invalid value of arrows");else i[t].name==="dir"&&(c.dir=t);var d=i[c.dir].value;if(!pa(s).call(s,"arrows"))if(d==="both")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1,i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[c.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),c.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[c.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),c.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[c.dir].attr,name:"arrows",value:""}),c.arrows.to=i.length-1;else throw zr('Invalid dir type "'+d+'"');var h,f;if(d==="both")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},os(i).call(i,c.arrows.from,1)):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="arrow",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")c.arrows.to&&c.arrows.from?(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f="",h="arrow",c.arrows.from=c.arrows.to,i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="",h=i[c.arrows.from].value.from.type,i[c.arrows.to]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.from]={attr:i[c.arrows.from].attr,name:i[c.arrows.from].name,value:{from:{enabled:!0,type:i[c.arrows.from].value.from.type}}};else if(d==="none"){var p;c.arrows.to?p=c.arrows.to:p=c.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")c.arrows.to&&c.arrows.from?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.to?(f=i[c.arrows.to].value.to.type,h="",i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):c.arrows.from&&(f="arrow",h="",c.arrows.to=c.arrows.from,i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[c.arrows.to]={attr:i[c.arrows.to].attr,name:i[c.arrows.to].name,value:{to:{enabled:!0,type:i[c.arrows.to].value.to.type}}};else throw zr('Invalid dir type "'+d+'"');os(i).call(i,c.dir,1)}var m;if(pa(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)Sge(i[t].attr,i[t].name,i[t].value);return e}function zr(t){return new SyntaxError(t+', got "'+$Q(Oe,30)+'" (char '+Pu+")")}function $Q(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Tge(t,e,r){Wt(t)?pt(t).call(t,function(n){Wt(e)?pt(e).call(e,function(i){r(n,i)}):r(n,e)}):Wt(e)?pt(e).call(e,function(n){r(t,n)}):r(t,e)}function HS(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function Lz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Wt(i)?pt(i).call(i,function(s){HS(r,s,t[n])}):typeof i=="string"?HS(r,i,t[n]):HS(r,n,t[n])}return r}function Pge(t){var e=wge(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;pt(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};_a(o,Lz(a.attr,CQ)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return _a(o,Lz(a.attr,NT)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};pt(i=e.edges).call(i,function(a){var o,u;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?u=a.to.nodes:u={id:a.to},a.from instanceof Object&&a.from.edges){var c;pt(c=a.from.edges).call(c,function(h){var f=s(h);r.edges.push(f)})}if(Tge(o,u,function(h,f){var p=TQ(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;pt(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Ige(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=ju(i).call(i,o=>{const u={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(u.attributes=o.attributes),o.label!=null&&(u.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(u.title=o.attributes.title),o.type==="Directed"&&(u.arrows="to"),o.color&&n.edges.inheritColor===!1&&(u.color=o.color),u});return{nodes:ju(r=t.nodes).call(r,o=>{const u={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(u.attributes=o.attributes),o.label!=null&&(u.label=o.label),o.size!=null&&(u.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(u.title=o.attributes.title),o.title!=null&&(u.title=o.title),o.x!=null&&(u.x=o.x),o.y!=null&&(u.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?u.color=o.color:u.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),u}),edges:s}}const Rge={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},$ge={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},kge={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Dge={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Mge={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},qge={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Age={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Fge={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Lge={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Bge={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},zge={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var Uge=Object.freeze({__proto__:null,cn:Fge,cs:zge,de:$ge,en:Rge,es:kge,fr:Bge,it:Dge,nl:Mge,pt:qge,ru:Age,uk:Lge});function Wge(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(pme(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class Vge{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),u=Math.floor(e/4),c=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*u,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,u,i],[o,i,c,s],[5*c,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const u=this.coordinates[o];e.drawImage(this.canvas,u[0],u[1],u[2],u[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class Hge{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new Vge;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var Bz={},zz={},KS={exports:{}},GS,Uz;function Kge(){if(Uz)return GS;Uz=1;var t=Ge();return GS=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),GS}var YS,Wz;function Gge(){if(Wz)return YS;Wz=1;var t=Ge(),e=xr(),r=Fi(),n=Kge(),i=Object.isExtensible,s=t(function(){});return YS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,YS}var QS,Vz;function kQ(){if(Vz)return QS;Vz=1;var t=Ge();return QS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),QS}var Hz;function Ym(){if(Hz)return KS.exports;Hz=1;var t=Ne(),e=Qe(),r=Oh(),n=xr(),i=Cr(),s=Qn().f,a=Um(),o=cT(),u=Gge(),c=Mm(),d=kQ(),h=!1,f=c("meta"),p=0,m=function(b){s(b,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(b,_){if(!n(b))return typeof b=="symbol"?b:(typeof b=="string"?"S":"P")+b;if(!i(b,f)){if(!u(b))return"F";if(!_)return"E";m(b)}return b[f].objectID},x=function(b,_){if(!i(b,f)){if(!u(b))return!0;if(!_)return!1;m(b)}return b[f].weakData},g=function(b){return d&&h&&u(b)&&!i(b,f)&&m(b),b},v=function(){w.enable=function(){},h=!0;var b=a.f,_=e([].splice),S={};S[f]=1,b(S).length&&(a.f=function(N){for(var E=b(N),C=0,O=E.length;C<O;C++)if(E[C]===f){_(E,C,1);break}return E},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},w=KS.exports={enable:v,fastKey:y,getWeakData:x,onFreeze:g};return r[f]=!0,KS.exports}var XS,Kz;function Yge(){if(Kz)return XS;Kz=1;var t=sr(),e=oc(),r=t("iterator"),n=Array.prototype;return XS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},XS}var JS,Gz;function DQ(){if(Gz)return JS;Gz=1;var t=ac(),e=tT(),r=Xu(),n=oc(),i=sr(),s=i("iterator");return JS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},JS}var ZS,Yz;function Qge(){if(Yz)return ZS;Yz=1;var t=yn(),e=Os(),r=Li(),n=ec(),i=DQ(),s=TypeError;return ZS=function(a,o){var u=arguments.length<2?i(a):o;if(e(u))return r(t(u,a));throw new s(n(a)+" is not iterable")},ZS}var eE,Qz;function jT(){if(Qz)return eE;Qz=1;var t=yn(),e=Li(),r=tT();return eE=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(u){o=!0,a=u}if(i==="throw")throw s;if(o)throw a;return e(a),s},eE}var tE,Xz;function Qm(){if(Xz)return tE;Xz=1;var t=Am(),e=yn(),r=Li(),n=ec(),i=Yge(),s=Ts(),a=ir(),o=Qge(),u=DQ(),c=jT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return tE=function(p,m,y){var x=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),w=!!(y&&y.IS_ITERATOR),b=!!(y&&y.INTERRUPTED),_=t(m,x),S,N,E,C,O,I,j,P=function(M){return S&&c(S,"normal"),new h(!0,M)},D=function(M){return g?(r(M),b?_(M[0],M[1],P):_(M[0],M[1])):b?_(M,P):_(M)};if(v)S=p.iterator;else if(w)S=p;else{if(N=u(p),!N)throw new d(n(p)+" is not iterable");if(i(N)){for(E=0,C=s(p);C>E;E++)if(O=D(p[E]),O&&a(f,O))return O;return new h(!1)}S=o(p,N)}for(I=v?p.next:S.next;!(j=e(I,S)).done;){try{O=D(j.value)}catch(M){c(S,"throw",M)}if(typeof O=="object"&&O&&a(f,O))return O}return new h(!1)},tE}var rE,Jz;function CT(){if(Jz)return rE;Jz=1;var t=ir(),e=TypeError;return rE=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},rE}var nE,Zz;function OT(){if(Zz)return nE;Zz=1;var t=Ne(),e=Ot(),r=Ym(),n=Ge(),i=nc(),s=Qm(),a=CT(),o=br(),u=xr(),c=Xu(),d=rl(),h=Qn().f,f=$a().forEach,p=Yt(),m=nl(),y=m.set,x=m.getterFor;return nE=function(g,v,w){var b=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,S=b?"set":"add",N=e[g],E=N&&N.prototype,C={},O;if(!p||!o(N)||!(_||E.forEach&&!n(function(){new N().entries().next()})))O=w.getConstructor(v,g,b,S),r.enable();else{O=v(function(P,D){y(a(P,I),{type:g,collection:new N}),c(D)||s(D,P[S],{that:P,AS_ENTRIES:b})});var I=O.prototype,j=x(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(P){var D=P==="add"||P==="set";P in E&&!(_&&P==="clear")&&i(I,P,function(M,z){var W=j(this).collection;if(!D&&_&&!u(M))return P==="get"?void 0:!1;var A=W[P](M===0?0:M,z);return D?this:A})}),_||h(I,"size",{configurable:!0,get:function(){return j(this).collection.size}})}return d(O,g,!1,!0),C[g]=O,t({global:!0,forced:!0},C),_||w.setStrong(O,g,b),O},nE}var iE,e8;function TT(){if(e8)return iE;e8=1;var t=Rh();return iE=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},iE}var sE,t8;function Xge(){if(t8)return sE;t8=1;var t=Pn(),e=dT(),r=sr(),n=Yt(),i=r("species");return sE=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},sE}var aE,r8;function MQ(){if(r8)return aE;r8=1;var t=Ih(),e=dT(),r=TT(),n=Am(),i=CT(),s=Xu(),a=Qm(),o=fT(),u=pT(),c=Xge(),d=Yt(),h=Ym().fastKey,f=nl(),p=f.set,m=f.getterFor;return aE={getConstructor:function(y,x,g,v){var w=y(function(E,C){i(E,b),p(E,{type:x,index:t(null),first:null,last:null,size:0}),d||(E.size=0),s(C)||a(C,E[v],{that:E,AS_ENTRIES:g})}),b=w.prototype,_=m(x),S=function(E,C,O){var I=_(E),j=N(E,C),P,D;return j?j.value=O:(I.last=j={index:D=h(C,!0),key:C,value:O,previous:P=I.last,next:null,removed:!1},I.first||(I.first=j),P&&(P.next=j),d?I.size++:E.size++,D!=="F"&&(I.index[D]=j)),E},N=function(E,C){var O=_(E),I=h(C),j;if(I!=="F")return O.index[I];for(j=O.first;j;j=j.next)if(j.key===C)return j};return r(b,{clear:function(){for(var C=this,O=_(C),I=O.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;O.first=O.last=null,O.index=t(null),d?O.size=0:C.size=0},delete:function(E){var C=this,O=_(C),I=N(C,E);if(I){var j=I.next,P=I.previous;delete O.index[I.index],I.removed=!0,P&&(P.next=j),j&&(j.previous=P),O.first===I&&(O.first=j),O.last===I&&(O.last=P),d?O.size--:C.size--}return!!I},forEach:function(C){for(var O=_(this),I=n(C,arguments.length>1?arguments[1]:void 0),j;j=j?j.next:O.first;)for(I(j.value,j.key,this);j&&j.removed;)j=j.previous},has:function(C){return!!N(this,C)}}),r(b,g?{get:function(C){var O=N(this,C);return O&&O.value},set:function(C,O){return S(this,C===0?0:C,O)}}:{add:function(C){return S(this,C=C===0?0:C,C)}}),d&&e(b,"size",{configurable:!0,get:function(){return _(this).size}}),w},setStrong:function(y,x,g){var v=x+" Iterator",w=m(x),b=m(v);o(y,x,function(_,S){p(this,{type:v,target:_,state:w(_),kind:S,last:null})},function(){for(var _=b(this),S=_.kind,N=_.last;N&&N.removed;)N=N.previous;return!_.target||!(_.last=N=N?N.next:_.state.first)?(_.target=null,u(void 0,!0)):u(S==="keys"?N.key:S==="values"?N.value:[N.key,N.value],!1)},g?"entries":"values",!g,!0),c(x)}},aE}var n8;function Jge(){if(n8)return zz;n8=1;var t=OT(),e=MQ();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),zz}var i8;function Zge(){return i8||(i8=1,Jge()),Bz}var s8={},oE,a8;function qQ(){return a8||(a8=1,oE=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),oE}var lE,o8;function eye(){if(o8)return lE;o8=1;var t=Pn(),e=qQ(),r=t("Map");return lE={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},lE}var l8;function tye(){if(l8)return s8;l8=1;var t=Ne(),e=Qe(),r=Os(),n=Cs(),i=Qm(),s=eye(),a=tc(),o=Ge(),u=s.Map,c=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return u.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,x){n(y),r(x);var g=new u,v=0;return i(y,function(w){var b=x(w,v++);c(g,b)?f(d(g,b),w):h(g,b,[w])}),g}}),s8}var u8={},uE,c8;function rye(){if(c8)return uE;c8=1;var t=Qe(),e=ic(),r=Xn(),n=Cs(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(u){return function(c,d){var h=r(n(c)),f=e(d),p=h.length,m,y;return f<0||f>=p?u?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?u?i(h,f):m:u?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return uE={codeAt:o(!1),charAt:o(!0)},uE}var d8;function PT(){if(d8)return u8;d8=1;var t=rye().charAt,e=Xn(),r=nl(),n=fT(),i=pT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(u){a(this,{type:s,string:e(u),index:0})},function(){var c=o(this),d=c.string,h=c.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),c.index+=f.length,i(f,!1))}),u8}var cE,h8;function nye(){if(h8)return cE;h8=1,lc(),Zge(),tye(),PT();var t=dt();return cE=t.Map,cE}var dE,f8;function iye(){if(f8)return dE;f8=1;var t=nye();return uc(),dE=t,dE}var hE,p8;function sye(){return p8||(p8=1,hE=iye()),hE}var aye=sye(),IT=Ie(aye);class oye{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},er(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&ot(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new IT,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var m8={},v8;function lye(){if(v8)return m8;v8=1;var t=Ne();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),m8}var fE,g8;function uye(){if(g8)return fE;g8=1,lye();var t=dt();return fE=t.Number.isNaN,fE}var pE,y8;function cye(){if(y8)return pE;y8=1;var t=uye();return pE=t,pE}var mE,b8;function dye(){return b8||(b8=1,mE=cye()),mE}var hye=dye(),nC=Ie(hye),x8={},vE,w8;function fye(){if(w8)return vE;w8=1;var t=Ot(),e=t.isFinite;return vE=Number.isFinite||function(n){return typeof n=="number"&&e(n)},vE}var _8;function pye(){if(_8)return x8;_8=1;var t=Ne(),e=fye();return t({target:"Number",stat:!0},{isFinite:e}),x8}var gE,S8;function mye(){if(S8)return gE;S8=1,pye();var t=dt();return gE=t.Number.isFinite,gE}var yE,E8;function vye(){if(E8)return yE;E8=1;var t=mye();return yE=t,yE}var bE,N8;function gye(){return N8||(N8=1,bE=vye()),bE}var yye=gye(),to=Ie(yye),j8={},C8;function bye(){if(C8)return j8;C8=1;var t=Ne(),e=$a().some,r=cc(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),j8}var xE,O8;function xye(){if(O8)return xE;O8=1,bye();var t=Or();return xE=t("Array","some"),xE}var wE,T8;function wye(){if(T8)return wE;T8=1;var t=ir(),e=xye(),r=Array.prototype;return wE=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},wE}var _E,P8;function _ye(){if(P8)return _E;P8=1;var t=wye();return _E=t,_E}var SE,I8;function Sye(){return I8||(I8=1,SE=_ye()),SE}var Eye=Sye(),Nye=Ie(Eye),EE={exports:{}},R8={},$8;function jye(){if($8)return R8;$8=1;var t=Ne(),e=Yt(),r=Qn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),R8}var k8;function Cye(){if(k8)return EE.exports;k8=1,jye();var t=dt(),e=t.Object,r=EE.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),EE.exports}var NE,D8;function AQ(){if(D8)return NE;D8=1;var t=Cye();return NE=t,NE}var jE,M8;function Oye(){if(M8)return jE;M8=1;var t=AQ();return jE=t,jE}var CE,q8;function Tye(){if(q8)return CE;q8=1;var t=Oye();return CE=t,CE}var OE,A8;function Pye(){return A8||(A8=1,OE=Tye()),OE}var Iye=Pye(),Rye=Ie(Iye),F8={},L8;function $ye(){if(L8)return F8;L8=1;var t=sr(),e=Qn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),F8}var B8={},z8;function kye(){return z8||(z8=1,LY()),B8}var U8={},W8;function Dye(){return W8||(W8=1,BY()),U8}var V8={},H8;function Mye(){if(H8)return V8;H8=1;var t=Dt();return t("metadata"),V8}var TE,K8;function qye(){if(K8)return TE;K8=1;var t=HY();return $ye(),kye(),Dye(),Mye(),TE=t,TE}var G8={},PE,Y8;function FQ(){if(Y8)return PE;Y8=1;var t=Pn(),e=Qe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return PE=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},PE}var Q8;function Aye(){if(Q8)return G8;Q8=1;var t=Ne(),e=FQ();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),G8}var X8={},IE,J8;function LQ(){if(J8)return IE;J8=1;for(var t=rc(),e=Pn(),r=Qe(),n=Ch(),i=sr(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),u=r(s.prototype.valueOf),c=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return IE=function(y){if(a&&a(y))return!0;try{for(var x=u(y),g=0,v=o(c),w=v.length;g<w;g++)if(c[v[g]]==x)return!0}catch{}return!1},IE}var Z8;function Fye(){if(Z8)return X8;Z8=1;var t=Ne(),e=LQ();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),X8}var e7={},t7;function Lye(){if(t7)return e7;t7=1;var t=Dt();return t("customMatcher"),e7}var r7={},n7;function Bye(){if(n7)return r7;n7=1;var t=Dt();return t("observable"),r7}var i7={},s7;function zye(){if(s7)return i7;s7=1;var t=Ne(),e=FQ();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),i7}var a7={},o7;function Uye(){if(o7)return a7;o7=1;var t=Ne(),e=LQ();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),a7}var l7={},u7;function Wye(){if(u7)return l7;u7=1;var t=Dt();return t("matcher"),l7}var c7={},d7;function Vye(){if(d7)return c7;d7=1;var t=Dt();return t("metadataKey"),c7}var h7={},f7;function Hye(){if(f7)return h7;f7=1;var t=Dt();return t("patternMatch"),h7}var p7={},m7;function Kye(){if(m7)return p7;m7=1;var t=Dt();return t("replaceAll"),p7}var RE,v7;function Gye(){if(v7)return RE;v7=1;var t=qye();return Aye(),Fye(),Lye(),Bye(),zye(),Uye(),Wye(),Vye(),Hye(),Kye(),RE=t,RE}var $E,g7;function Yye(){return g7||(g7=1,$E=Gye()),$E}var Qye=Yye(),Ef=Ie(Qye),kE,y7;function Xye(){if(y7)return kE;y7=1,lc(),PT(),zY();var t=Wm();return kE=t.f("iterator"),kE}var DE,b7;function Jye(){if(b7)return DE;b7=1;var t=Xye();return uc(),DE=t,DE}var ME,x7;function Zye(){if(x7)return ME;x7=1;var t=Jye();return ME=t,ME}var qE,w7;function e0e(){if(w7)return qE;w7=1;var t=Zye();return qE=t,qE}var AE,_7;function t0e(){return _7||(_7=1,AE=e0e()),AE}var r0e=t0e(),n0e=Ie(r0e);function Ad(t){"@babel/helpers - typeof";return Ad=typeof Ef=="function"&&typeof n0e=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Ef=="function"&&e.constructor===Ef&&e!==Ef.prototype?"symbol":typeof e},Ad(t)}var FE,S7;function i0e(){if(S7)return FE;S7=1,UY();var t=Wm();return FE=t.f("toPrimitive"),FE}var LE,E7;function s0e(){if(E7)return LE;E7=1;var t=i0e();return LE=t,LE}var BE,N7;function a0e(){if(N7)return BE;N7=1;var t=s0e();return BE=t,BE}var zE,j7;function o0e(){if(j7)return zE;j7=1;var t=a0e();return zE=t,zE}var UE,C7;function l0e(){return C7||(C7=1,UE=o0e()),UE}var u0e=l0e(),c0e=Ie(u0e);function d0e(t,e){if(Ad(t)!="object"||!t)return t;var r=t[c0e];if(r!==void 0){var n=r.call(t,e);if(Ad(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function h0e(t){var e=d0e(t,"string");return Ad(e)=="symbol"?e:e+""}function rs(t,e,r){return(e=h0e(e))in t?Rye(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var O7={},WE,T7;function f0e(){if(T7)return WE;T7=1;var t=Ot(),e=Ge(),r=Qe(),n=Xn(),i=GY().trim,s=mT(),a=r("".charAt),o=t.parseFloat,u=t.Symbol,c=u&&u.iterator,d=1/o(s+"-0")!==-1/0||c&&!e(function(){o(Object(c))});return WE=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,WE}var P7;function p0e(){if(P7)return O7;P7=1;var t=Ne(),e=f0e();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),O7}var VE,I7;function m0e(){if(I7)return VE;I7=1,p0e();var t=dt();return VE=t.parseFloat,VE}var HE,R7;function v0e(){if(R7)return HE;R7=1;var t=m0e();return HE=t,HE}var KE,$7;function g0e(){return $7||($7=1,KE=v0e()),KE}var y0e=g0e(),BQ=Ie(y0e),k7={},D7;function b0e(){if(D7)return k7;D7=1;var t=Ne(),e=Ge(),r=cT().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),k7}var GE,M7;function x0e(){if(M7)return GE;M7=1,b0e();var t=dt(),e=t.Object;return GE=function(n){return e.getOwnPropertyNames(n)},GE}var YE,q7;function w0e(){if(q7)return YE;q7=1;var t=x0e();return YE=t,YE}var QE,A7;function _0e(){return A7||(A7=1,QE=w0e()),QE}var S0e=_0e(),E0e=Ie(S0e),XE,F7;function N0e(){if(F7)return XE;F7=1,FY();var t=dt();return XE=t.Object.getOwnPropertySymbols,XE}var JE,L7;function j0e(){if(L7)return JE;L7=1;var t=N0e();return JE=t,JE}var ZE,B7;function C0e(){return B7||(B7=1,ZE=j0e()),ZE}var O0e=C0e(),Sa=Ie(O0e),e2={exports:{}},z7={},U7;function T0e(){if(U7)return z7;U7=1;var t=Ne(),e=Ge(),r=yi(),n=qm().f,i=Yt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,u){return n(r(o),u)}}),z7}var W7;function P0e(){if(W7)return e2.exports;W7=1,T0e();var t=dt(),e=t.Object,r=e2.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),e2.exports}var t2,V7;function I0e(){if(V7)return t2;V7=1;var t=P0e();return t2=t,t2}var r2,H7;function R0e(){return H7||(H7=1,r2=I0e()),r2}var $0e=R0e(),ka=Ie($0e),K7={},G7;function k0e(){if(G7)return K7;G7=1;var t=Ne(),e=Yt(),r=spe(),n=yi(),i=qm(),s=Bm();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var u=n(o),c=i.f,d=r(u),h={},f=0,p,m;d.length>f;)m=c(u,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),K7}var n2,Y7;function D0e(){if(Y7)return n2;Y7=1,k0e();var t=dt();return n2=t.Object.getOwnPropertyDescriptors,n2}var i2,Q7;function M0e(){if(Q7)return i2;Q7=1;var t=D0e();return i2=t,i2}var s2,X7;function q0e(){return X7||(X7=1,s2=M0e()),s2}var A0e=q0e(),Ea=Ie(A0e),a2={exports:{}},J7={},Z7;function F0e(){if(Z7)return J7;Z7=1;var t=Ne(),e=Yt(),r=uT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),J7}var eU;function L0e(){if(eU)return a2.exports;eU=1,F0e();var t=dt(),e=t.Object,r=a2.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),a2.exports}var o2,tU;function B0e(){if(tU)return o2;tU=1;var t=L0e();return o2=t,o2}var l2,rU;function z0e(){return rU||(rU=1,l2=B0e()),l2}var U0e=z0e(),Xm=Ie(U0e),u2,nU;function W0e(){return nU||(nU=1,u2=AQ()),u2}var V0e=W0e(),Jm=Ie(V0e);function RT(t,e){const r=["node","edge","label"];let n=!0;const i=qs(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(ot(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=qs(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function iC(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function Up(t){return typeof t=="string"&&t!==""}function zQ(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,u=Math.cos(e)*a;u===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=u,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var c2,iU;function H0e(){if(iU)return c2;iU=1,lc();var t=Or();return c2=t("Array","values"),c2}var d2,sU;function K0e(){if(sU)return d2;sU=1;var t=H0e();return d2=t,d2}var h2,aU;function G0e(){if(aU)return h2;aU=1,uc();var t=ac(),e=Cr(),r=ir(),n=K0e(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return h2=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},h2}var f2,oU;function Y0e(){return oU||(oU=1,f2=G0e()),f2}var Q0e=Y0e(),UQ=Ie(Q0e);class X0e{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=er({},UQ(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};er(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const u=n.blocks[o];u.width!==0?a.push(u):s===void 0&&(s=u)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const J0e={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class lU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=J0e[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class Z0e{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const u=this.parent.getFormattingValues(e,n,i,o);let c=0;return a!==""&&(c=this.ctx.measureText(a).width),{width:c,values:u}};this.lines=new X0e(s)}process(e){if(!Up(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const u=a[o].mod,c=a[o].text;this.splitStringIntoLines(c,u,!0)}else for(let o=0;o<a.length;o++){const u=a[o].mod,c=a[o].text;this.lines.append(c,u)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new lU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new lU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(Oi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(Oi(a).call(a,0,o),r),i[0]=Oi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=Oi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=Oi(i).call(i,a)}}}}const $c=["bold","ital","boldital","mono"];class Hl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),Up(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(ze($c,r=>{this.fontOptions[r]={}}),Hl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}ze(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=qs(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=qs(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=qs(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=qs(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=qs(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=qs(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),yt(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=RT("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};Hl.parseFontString(s,i)&&(i=s),ze(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(ot($c).call($c,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(Hl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<$c.length;++n){const i=$c[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);ze(a,(o,u)=>{s[u]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let u=0;this.isEdgeLabel||this.fontOptions.align==="center"?u+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(u+=this.size.width-o.width);for(let c=0;c<o.blocks.length;c++){const d=o.blocks[c];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+u,n+d.vadjust),e.fillText(d.text,r+u,n+d.vadjust),u+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=Bn(i,a),s=Bn(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(u,c,d){return c==="normal"?d==="mod"?"":u[d]:u[c][d]!==void 0?u[c][d]:u[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new Z0e(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class sl{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),kh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let ebe=class extends sl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),OY(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class $T extends sl{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),aT(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,u=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,u),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const u=this.labelModule.getTextSize(e,i,s);u.lineCount>=1&&(a+=u.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let tbe=class extends $T{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class rbe extends $T{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,u=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,u+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,u,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,u,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class Da extends sl{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,u){return this.resize(e,a,o,u),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,u),yfe(r)(e,i,s,u.size),this.performFill(e,u),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const c=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,c,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function uU(t,e){var r=Bt(t);if(Sa){var n=Sa(t);e&&(n=sn(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function nbe(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=uU(Object(i),!0)).call(r,function(s){rs(t,s,i[s])}):Ea?Xm(t,Ea(i)):pt(n=uU(Object(i))).call(n,function(s){Jm(t,s,ka(i,s))})}return t}class ibe extends Da{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:nbe({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const u=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),u(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class sbe extends sl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),TY(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let abe=class extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class obe extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class cU extends sl{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),Gj(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class lbe extends sl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let ube=class extends $T{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,u=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,u+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const c=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:c)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=Bn(f,a.opacity),p=Bn(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),kh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,u,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class cbe extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class dbe extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class hbe extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class fbe extends sl{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let pbe=class extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class mbe extends Da{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function dU(t,e){var r=Bt(t);if(Sa){var n=Sa(t);e&&(n=sn(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function hU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=dU(Object(i),!0)).call(r,function(s){rs(t,s,i[s])}):Ea?Xm(t,Ea(i)):pt(n=dU(Object(i))).call(n,function(s){Jm(t,s,ka(i,s))})}return t}class jt{constructor(e,r,n,i,s,a){this.options=va(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new Hl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;ot(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=ot(r=this.edges).call(r,e);if(n!=-1){var i;os(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");jt.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=li(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=li(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=BQ(e.value)),jt.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=RT("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&jt.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(jt.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const u=sn(i=E0e(r)).call(i,c=>r[c]!=null);u.push("font"),Bp(u,e,o),e.color=Zj(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(Bp(["color","fixed","shadow"],e,r,n),jt.checkMass(r),e.opacity!==void 0&&(jt.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(jt.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!jt.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),qn(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=Zj(r.color);_Q(e.color,o)}else n===!0&&r.color===null&&(e.color=va(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=va(i.font)),jt.updateGroupOptions(e,r,s),r.scaling!==void 0&&qn(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=Bn(e.borderColor,r),e.color=Bn(e.color,r),e.shadowColor=Bn(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),jt.updateGroupOptions(this.options,hU(hU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new ebe(this.options,this.body,this.labelModule);break;case"circle":this.shape=new tbe(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new rbe(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new ibe(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new sbe(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new abe(this.options,this.body,this.labelModule);break;case"dot":this.shape=new obe(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new cU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new lbe(this.options,this.body,this.labelModule);break;case"image":this.shape=new ube(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new cbe(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new dbe(this.options,this.body,this.labelModule);break;case"star":this.shape=new hbe(this.options,this.body,this.labelModule);break;case"text":this.shape=new fbe(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new pbe(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new mbe(this.options,this.body,this.labelModule);break;default:this.shape=new cU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&iC(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),iC(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",jQ),e.mass=1}}}class vbe{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=re(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,u,c){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(c-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=va(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",re(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",re(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{ze(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(jt.parseOptions(this.options,e),e.opacity!==void 0&&(nC(e.opacity)||!to(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of Bt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(xY("id",e))this.body.data.nodes=e;else if(Wt(e))this.body.data.nodes=new Nu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new Nu;else throw new TypeError("Array or DataSet expected");if(n&&ze(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;ze(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let u=i[o];const c=r[a];u!==void 0?u.setOptions(c)&&(s=!0):(s=!0,u=this.create(c),i[o]=u)}!s&&n!==void 0&&(s=Nye(r).call(r,function(a,o){const u=n[o];return u&&u.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:jt;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;ze(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Wt(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),ls(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var fU={},pU;function gbe(){if(pU)return fU;pU=1;var t=Ne(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var u=0,c=0,d=arguments.length,h=0,f,p;c<d;)f=r(arguments[c++]),h<f?(p=h/f,u=u*p*p+1,h=f):f>0?(p=f/h,u+=p*p):u+=f;return h===1/0?1/0:h*n(u)}}),fU}var p2,mU;function ybe(){if(mU)return p2;mU=1,gbe();var t=dt();return p2=t.Math.hypot,p2}var m2,vU;function bbe(){if(vU)return m2;vU=1;var t=ybe();return m2=t,m2}var v2,gU;function xbe(){return gU||(gU=1,v2=bbe()),v2}var wbe=xbe(),_be=Ie(wbe);class Kt{static transform(e,r){Wt(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const u=e[o],c=u.x*Math.cos(s)-u.y*Math.sin(s),d=u.x*Math.sin(s)+u.y*Math.cos(s);u.x=n+a*c,u.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let Sbe=class extends Kt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class Ebe extends Kt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Nbe{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class jbe{static draw(e,r){const n={x:-.4,y:0};Kt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Cbe{static draw(e,r){const n={x:-.3,y:0};Kt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Obe{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Tbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Pbe{static draw(e,r){const n={x:-.4,y:0};return Kt.transform(n,r),aT(e,n.x,n.y,r.length*.4),!0}}class Ibe{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class Rbe{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class $be{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class kbe{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Kt.transform(n,r),Kt.drawPath(e,n),!0}}class WQ{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return Sbe.draw(e,r);case"circle":return Pbe.draw(e,r);case"box":return Rbe.draw(e,r);case"crow":return Nbe.draw(e,r);case"curve":return jbe.draw(e,r);case"diamond":return $be.draw(e,r);case"inv_curve":return Cbe.draw(e,r);case"triangle":return Obe.draw(e,r);case"inv_triangle":return Tbe.draw(e,r);case"bar":return Ibe.draw(e,r);case"vee":return kbe.draw(e,r);case"arrow":default:return Ebe.draw(e,r)}}}function yU(t,e){var r=Bt(t);if(Sa){var n=Sa(t);e&&(n=sn(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function bU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=yU(Object(i),!0)).call(r,function(s){rs(t,s,i[s])}):Ea?Xm(t,Ea(i)):pt(n=yU(Object(i))).call(n,function(s){Jm(t,s,ka(i,s))})}return t}class VQ{constructor(e,r,n){rs(this,"color",{}),rs(this,"colorDirty",!0),rs(this,"hoverWidth",1.5),rs(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,u]=this._getCircleData(e);this._circle(e,r,a,o,u)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Wt(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,u,c]=this._getCircleData(e);this._circle(e,r,o,u,c)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)PY(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,u,c]=this._getCircleData(e);this._circle(e,r,o,u,c)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=Oi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=zQ(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const u=n.direction,c=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(u===-1?m=this.options.endPointOffset.from:u===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const x=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,x)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),w=g-v;if(Math.abs(w)<h)break;w>0?u>0?a=p:o=p:u>0?o=p:a=p,++y}while(a<=o&&y<c);return bU(bU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=Bn(this.from.options.color.border,r.opacity),s=Bn(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?Bn(this.to.options.color.border,r.opacity):Bn(this.from.options.color.border,r.opacity)}else return Bn(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const u=this.options.selfReference.angle,c=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:u,high:c,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:u,high:c,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,u,c]=this._getCircleData(void 0),d=o-s,h=u-a;return Math.abs(Math.sqrt(d*d+h*h)-c)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,u=i-r,c=o*o+u*u;let d=((s-e)*o+(a-r)*u)/c;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*u,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,u,c,d,h,f,p;const m=a.width;r==="from"?(c=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(c=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(c=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(c!=d){const w=_be(c.x-d.x,c.y-d.y),b=y/w;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(c,e,{via:n}),S=this.getPoint(_.t+b*(r==="from"?1:-1),n);o=Math.atan2(_.y-S.y,_.x-S.x),u=_}else o=Math.atan2(c.y-d.y,c.x-d.x),u=this._findBorderPosition(c,e);else{const _=(h?-b:b)/2,S=this.getPoint(.5+_,n),N=this.getPoint(.5-_,n);o=Math.atan2(S.y-N.y,S.x-N.x),u=this.getPoint(.5,n)}}else{const[w,b,_]=this._getCircleData(e);if(r==="from"){const S=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,E=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:S,high:N,direction:-1});o=E.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,u=E}else if(r==="to"){const S=this.options.selfReference.angle,N=this.options.selfReference.angle+Math.PI,E=this._findBorderPositionCircle(this.from,e,{x:w,y:b,low:S,high:N,direction:1});o=E.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,u=E}else{const S=this.options.selfReference.angle/(2*Math.PI);u=this._pointOnCircle(w,b,_,S),o=S*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const x=u.x-y*.9*Math.cos(o),g=u.y-y*.9*Math.sin(o);return{point:u,core:{x,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,WQ.draw(e,s)&&(this.enableShadow(e,r),kh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Wt(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function xU(t,e){var r=Bt(t);if(Sa){var n=Sa(t);e&&(n=sn(n).call(n,function(i){return ka(t,i).enumerable})),r.push.apply(r,n)}return r}function wU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?pt(r=xU(Object(i),!0)).call(r,function(s){rs(t,s,i[s])}):Ea?Xm(t,Ea(i)):pt(n=xU(Object(i))).call(n,function(s){Jm(t,s,ka(i,s))})}return t}class kT extends VQ{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,u=0,c=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(c=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(u+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(c.y-d.y,c.x-d.x),y=c.distanceToBorder(r,m)+f,x=Math.sqrt(Math.pow(d.x-c.x,2)+Math.pow(d.y-c.y,2)),g=y-x;if(Math.abs(g)<s)break;g<0?a===!1?u=h:o=h:a===!1?o=h:u=h,++p}while(u<=o&&p<i);return wU(wU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let u=1e9,c,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(c=this._getDistanceToLine(m,y,f,p,s,a),u=c<u?c:u),m=f,y=p;return u}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class _U extends kT{constructor(e,r,n){super(e,r,n),rs(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class SU extends kT{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,u=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:u=i<e*n?this.from.y:u),{x:o,y:u}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,u=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,u=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(u),y:this.from.y+(e*.5+.5)*s*Math.cos(u)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,u=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?u=this.to.y>u?this.to.y:u:u=this.to.y<u?this.to.y:u,{x:o,y:u}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Dbe extends kT{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,u){let c=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*u.x+f[3]*n,x=f[0]*r+f[1]*o.y+f[2]*u.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,x,s,a);c=g<c?g:c}d=y,h=x}return c}}class EU extends Dbe{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,u]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,u)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class NU extends VQ{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,u=Math.sqrt(a*a+o*o),c=e.distanceToBorder(r,s),d=(u-c)/u;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class ga{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=va(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new Hl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;ga.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=BQ(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=RT("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(hc(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(to(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(to(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),Up(r.label)?e.label=r.label:Up(e.label)||(e.label=void 0),qn(e,r,"smooth",i),qn(e,r,"shadow",i),qn(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=bo(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),qn(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=bo(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=ot(o).call(o,"to")!=-1,e.arrows.middle.enabled=ot(o).call(o,"middle")!=-1,e.arrows.from.enabled=ot(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")qn(e.arrows,r.arrows,"to",i.arrows),qn(e.arrows,r.arrows,"middle",i.arrows),qn(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+$h(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=bo(i.arrows));if(r.color!==void 0&&r.color!==null){const o=Wl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,u=e.color;if(s)yt(u,i.color,!1,n);else for(const c in u)Object.prototype.hasOwnProperty.call(u,c)&&delete u[c];if(Wl(u))u.color=u,u.highlight=u,u.hover=u,u.inherit=!1,o.opacity===void 0&&(u.opacity=1);else{let c=!1;o.color!==void 0&&(u.color=o.color,c=!0),o.highlight!==void 0&&(u.highlight=o.highlight,c=!0),o.hover!==void 0&&(u.hover=o.hover,c=!0),o.inherit!==void 0&&(u.inherit=o.inherit),o.opacity!==void 0&&(u.opacity=Math.min(1,Math.max(0,o.opacity))),c===!0?u.inherit=!1:u.inherit===void 0&&(u.inherit="from")}}else n===!0&&r.color===null&&(e.color=va(i.color));n===!0&&r.font===null&&(e.font=va(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof _U&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof EU&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof SU&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof NU&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new _U(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new EU(this.options,this.body,this.labelModule):this.edgeType=new SU(this.options,this.body,this.labelModule):this.edgeType=new NU(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=zQ(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();iC(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,u=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,u)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Mbe{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=re(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,u){if(a===s)return .5;{const c=1/(a-s);return Math.max(0,(u-s)*c)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},yt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const u=e.body.edges[o],c=e.body.data.edges.get(o);if(c!=null){const d=c.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?u.setOptions({smooth:!1}):u.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",re(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",re(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{ze(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){ga.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(xY("id",e))this.body.data.edges=e;else if(Wt(e))this.body.data.edges=new Nu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new Nu;else throw new TypeError("Array or DataSet expected");if(n&&ze(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){ze(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const u=i.get(a,{showInternalIds:!0});n[a]=this.create(u)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),u=r[a];u!==void 0?(u.disconnect(),i=u.setOptions(o)||i,u.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;ze(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){ze(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new ga(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];ze(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];pt(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class HQ{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=Gm("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,u=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=u}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,u=e[r[0]].y;for(let x=1;x<i;x++){const g=e[r[x]],v=g.x,w=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),w<a&&(a=w),w>u&&(u=w))}const c=Math.abs(o-s)-Math.abs(u-a);c>0?(a-=.5*c,u+=.5*c):(s+=.5*c,o-=.5*c);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+u),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let x=0;x<i;x++)n=e[r[x]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class qbe{constructor(e,r,n){this._rng=Gm("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,u;const c=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=c[d[y]];for(let x=y+1;x<d.length;x++)u=c[d[x]],e=u.x-o.x,r=u.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[u.id].x+=i,h[u.id].y+=s)}}}class Abe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const u=e[r[o]];if(a.level===u.level){const c=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(u.shape.radius||0)/2),d=u.x-a.x,h=u.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<c?m=-Math.pow(p*f,2)+Math.pow(p*c,2):m=0,f!==0&&(m=m/f);const y=d*m,x=h*m;n[a.id].x-=y,n[a.id].y-=x,n[u.id].x+=y,n[u.id].y+=x}}}}}class g2{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let u=0;u<n.length;u++)r=i[n[u]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,u=i*o,c=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=u,this.physicsBody.forces[e.id].y+=c),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=u,this.physicsBody.forces[r.id].y-=c)}}class Fbe{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,u;const c=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let b=0;b<f.length;b++){const _=f[b];p[_].springFx=0,p[_].springFy=0}for(let b=0;b<h.length;b++)r=c[h[b]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,u=Math.sqrt(n*n+i*i),u=u===0?.01:u,o=this.options.springConstant*(e-u)/u,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let b=0;b<f.length;b++){const _=f[b];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let x=0,g=0;for(let b=0;b<f.length;b++){const _=f[b];x+=p[_].x,g+=p[_].y}const v=x/f.length,w=g/f.length;for(let b=0;b<f.length;b++){const _=f[b];p[_].x-=v,p[_].y-=w}}}class Hf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let u=0;u<a.length;u++){const c=a[u];i=s[c],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Lbe extends HQ{constructor(e,r,n){super(e,r,n),this._rng=Gm("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),u=r*o,c=n*o;this.physicsBody.forces[i.id].x+=u,this.physicsBody.forces[i.id].y+=c}}class Bbe extends Hf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class zbe{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},er(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,Bp(["stabilization"],this.options,e),qn(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||nC(r.x))&&(r.x=0),(typeof r.y!="number"||nC(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Lbe(this.body,this.physicsBody,e),this.edgesSolver=new g2(this.body,this.physicsBody,e),this.gravitySolver=new Bbe(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new qbe(this.body,this.physicsBody,e),this.edgesSolver=new g2(this.body,this.physicsBody,e),this.gravitySolver=new Hf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Abe(this.body,this.physicsBody,e),this.edgesSolver=new Fbe(this.body,this.physicsBody,e),this.gravitySolver=new Hf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new HQ(this.body,this.physicsBody,e),this.edgesSolver=new g2(this.body,this.physicsBody,e),this.gravitySolver=new Hf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=re(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=qp();this.physicsTick(),(qp()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&ls(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=Bt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,ls(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;ls(re(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,u=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),c=Math.min(Math.max(5,u),15),d=3*c,h=eC((180-Math.min(1,Math.max(0,o*u))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=c,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,WQ.draw(e,{type:"arrow",point:f,angle:p,length:d}),kh(e).call(e)}}}const _r=[];for(let t=0;t<256;++t)_r.push((t+256).toString(16).slice(1));function Ube(t,e=0){return(_r[t[e+0]]+_r[t[e+1]]+_r[t[e+2]]+_r[t[e+3]]+"-"+_r[t[e+4]]+_r[t[e+5]]+"-"+_r[t[e+6]]+_r[t[e+7]]+"-"+_r[t[e+8]]+_r[t[e+9]]+"-"+_r[t[e+10]]+_r[t[e+11]]+_r[t[e+12]]+_r[t[e+13]]+_r[t[e+14]]+_r[t[e+15]]).toLowerCase()}let y2;const Wbe=new Uint8Array(16);function Vbe(){if(!y2){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");y2=crypto.getRandomValues.bind(crypto)}return y2(Wbe)}const Hbe=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var jU={randomUUID:Hbe};function Kbe(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Vbe();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Ube(n)}function nd(t,e,r){return jU.randomUUID&&!t?jU.randomUUID():Kbe(t)}class Ur{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let u=0;u<r.length;u++)o=e[r[u]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let u=0;u<r.length;u++)o=e[r[u]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(yt(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):yt(n,e.options,!0),n}}class Gbe extends jt{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],ze(r.edges,n=>{delete this.containedEdges[n.id]}),ze(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},ze(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},ze(r.edges,n=>{ze(this.edges,i=>{var s,a;const o=ot(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(ze(n.clusteringEdgeReplacingIds,u=>{i.clusteringEdgeReplacingIds.push(u),this.body.edges[u].edgeReplacedById=i.id}),os(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class Ybe{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},er(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};ze(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,ze(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,u;for(let c=0;c<this.body.nodeIndices.length;c++){const d={},h={},f=this.body.nodeIndices[c],p=this.body.nodes[f];if(s[f]===void 0){u=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&u++,o.push(a));if(u===e){const m=function(x){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Ur.cloneOptions(x);return r.joinCondition(g)};let y=!0;for(let x=0;x<o.length;x++){a=o[x];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(Bt(d).length>0&&Bt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const w in d)if(i[v].nodes[w]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let c=0;c<i.length;c++)this._cluster(i[c].nodes,i[c].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},u=s.id,c=Ur.cloneOptions(s);a[u]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,u);if(this.clusteredNodes[p]===void 0)if(p!==u)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Ur.cloneOptions(this.body.nodes[p]);r.joinCondition(c,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=ju(n=Bt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];ot(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,u,c,d;const h=Bt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let x=0;x<o.edges.length;x++)s=o.edges[x],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(u=n.id,c=s.fromId,d=c):(u=s.toId,c=n.id,d=u),e[d]===void 0&&f.push({edge:s,fromId:c,toId:u}))}const p=[],m=function(y){for(let x=0;x<p.length;x++){const g=p[x],v=y.fromId===g.fromId&&y.toId===g.toId,w=y.fromId===g.toId&&y.toId===g.fromId;if(v||w)return g}return null};for(let y=0;y<f.length;y++){const x=f[y],g=x.edge;let v=m(x);v===null?(v=this._createClusteredEdge(x.fromId,x.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(Bt(e).length==0||Bt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=yt({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Ur.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Ur.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+nd());const o=a.id;a.label===void 0&&(a.label="cluster");let u;a.x===void 0&&(u=this._getClusterPosition(e),a.x=u.x),a.y===void 0&&(u===void 0&&(u=this._getClusterPosition(e)),a.y=u.y),a.id=o;const c=this.body.functions.createNode(a,Gbe);c.containedNodes=e,c.containedEdges=r,c.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=c,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=Bt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let u=1;u<r.length;u++)o=e[r[u]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=ot(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,u=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else ze(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const c=[];for(let d=0;d<i.edges.length;d++)c.push(i.edges[d]);for(let d=0;d<c.length;d++){const h=c[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],x=this.body.edges[y];if(x!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[x.id]=x,delete u[x.id];let v=x.fromId,w=x.toId;x.toId==f?w=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,w,x,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(x)}h.remove()}for(const d in u)Object.prototype.hasOwnProperty.call(u,d)&&this._restoreEdge(u[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),yo(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return yo(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const u=this.body.edges[o];if(u===void 0)continue;a++;const c=u.clusteringEdgeReplacingIds;if(c===void 0)i.push(o);else for(let d=0;d<c.length;++d){const h=c[d];ot(r).call(r,c)!==-1||ot(n).call(n,c)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let u=0;u<this.body.nodeIndices.length;u++){const c=this.body.nodes[this.body.nodeIndices[u]];c.edges.length>i&&(i=c.edges.length),e+=c.edges.length,r+=Math.pow(c.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Ur.cloneOptions(n,"edge");yt(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+nd(),s!==void 0&&yt(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof ga){const s=r,a={};a[s.id]=s,r=a}if(e instanceof jt){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return ze(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=u=>{ze(this.body.nodes,c=>{c.isCluster===!0&&u(c)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(u){for(let c=0;c<r.length;c++)delete u.containedNodes[r[c]]});for(let u=0;u<r.length;u++)delete this.clusteredNodes[r[u]];ze(this.clusteredEdges,u=>{const c=this.body.edges[u];(c===void 0||!c.endPointsValid())&&(n[u]=u)}),i(function(u){ze(u.containedEdges,(c,d)=>{!c.endPointsValid()&&!n[d]&&(n[d]=d)})}),ze(this.body.edges,(u,c)=>{let d=!0;const h=u.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;ze(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!u.endPointsValid()||!d)&&(n[c]=c)}),i(u=>{ze(n,c=>{delete u.containedEdges[c],ze(u.edges,(d,h)=>{if(d.id===c){u.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),u.edges=this._filter(u.edges,function(d){return d!==null})})}),ze(n,u=>{delete this.clusteredEdges[u]}),ze(n,u=>{delete this.body.edges[u]});const s=Bt(this.body.edges);ze(s,u=>{const c=this.body.edges[u],d=this._isClusteredNode(c.fromId)||this._isClusteredNode(c.toId);if(d!==this._isClusteredEdge(c.id))if(d){const h=this._getClusterNodeForNode(c.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[c.fromId],c,h);const f=this._getClusterNodeForNode(c.toId);f!==void 0&&this._clusterEdges(this.body.nodes[c.toId],c,f)}else delete this._clusterEdges[u],this._restoreEdge(c)});let a=!1,o=!0;for(;o;){const u=[];i(function(c){const d=Bt(c.containedNodes).length,h=c.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&u.push(c.id)});for(let c=0;c<u.length;++c)this.openCluster(u[c],{},!1);o=u.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class Qbe{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=ls(()=>{var r;this.zooming=!1,re(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",re(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&hc(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(re(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],u=20,c=this.canvas.DOMtoCanvas({x:-u,y:-u}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+u,y:this.canvas.frame.canvas.clientHeight+u}),h={top:c.y,left:c.x,bottom:d.y,right:d.x},f=[];for(let x=0;x<i.length;x++)if(s=n[i[x]],s.hover)o.push(i[x]);else if(s.isSelected())a.push(i[x]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const x=s.draw(e);x.drawExternalLabel!=null&&f.push(x.drawExternalLabel)}return{drawExternalLabels:()=>{for(const x of f)x()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var b2,CU;function Xbe(){if(CU)return b2;CU=1,XY();var t=dt();return b2=t.setInterval,b2}var x2,OU;function Jbe(){return OU||(OU=1,x2=Xbe()),x2}var Zbe=Jbe(),e1e=Ie(Zbe);function Wp(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function KQ(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class t1e{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",re(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&hc(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=e1e(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=re(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;pt(e=yo(r=os(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(ot(e).call(e,"%")!==-1||ot(e).call(e,"px")!==-1)return e;if(ot(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new Vl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:Vl.DIRECTION_ALL}),Wp(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new Vl(this.frame),KQ(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),u=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==u)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==u&&(this.frame.canvas.height=u,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function r1e(t,e){const r=er({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Wt(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class n1e{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",re(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",re(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=r1e(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Ur.getRange(this.body.nodes,e.nodes);else if(r===!0){let c=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(c+=1);if(c>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Ur.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Ur.getRange(this.body.nodes,e.nodes);const c=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/c,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const u={position:Ur.findCenter(s),scale:a,animation:e.animation};this.moveTo(u)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!to(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!to(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!to(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!to(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=re(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=re(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=dge[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=re(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function TU(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){c(d,"keydown")},u=function(d){c(d,"keyup")},c=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",u,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",u,!0),n}class i1e{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new Vl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;Wp(o,re(n=this._fit).call(n,this))}else{var i;Wp(o,re(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new Vl(this.canvas.frame);KQ(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=re(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=TU({container:window,preventDefault:!0}):this.keycharm=TU({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,u,c,d,h,f,p,m,y,x,g,v,w,b,_,S,N,E;re(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),re(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),re(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),re(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),re(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(u=this.keycharm).call(u,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(c=this.keycharm).call(c,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),re(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),re(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),re(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),re(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),re(x=this.keycharm).call(x,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),re(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(w=this.keycharm).call(w,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(b=this.keycharm).call(b,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),re(S=this.keycharm).call(S,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(N=this.keycharm).call(N,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),re(E=this.keycharm).call(E,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class s1e{constructor(e,r,n){var i,s,a,o,u,c,d,h,f,p,m,y,x;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new i1e(e,r),this.body.eventListeners.onTap=re(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=re(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=re(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=re(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=re(u=this.onDragStart).call(u,this),this.body.eventListeners.onDrag=re(c=this.onDrag).call(c,this),this.body.eventListeners.onDragEnd=re(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=re(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=re(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=re(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=re(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=re(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=re(x=this.getPointer).call(x,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(Bp(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),qn(this.options,e,"keyboard"),e.tooltip&&(er(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=Zj(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-oge(this.canvas.frame.canvas),y:e.y-lge(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const u=i[o];ot(s).call(s,u)===-1&&a.push(u)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=er({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;pt(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=sn(r=this.body.nodeIndices).call(r,o=>{const u=this.body.nodes[o];return u.x>=i.minX&&u.x<=i.maxX&&u.y>=i.minY&&u.y<=i.maxY});pt(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(pt(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,u=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:u},i!=null){const c=this.canvas.canvasToDOM(i);this.drag.pointer.x=c.x,this.drag.pointer.y=c.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=ls(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const u=this.body.nodeIndices,c=this.body.nodes;let d;const h=[];for(let f=0;f<u.length;f++)d=c[u[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(u[f]));h.length>0&&(this.popupObj=c[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const u=this.body.edgeIndices,c=this.body.edges;let d;const h=[];for(let f=0;f<u.length;f++)d=c[u[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(u[f]);h.length>0&&(this.popupObj=c[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new bge(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var PU={},IU={},RU;function a1e(){if(RU)return IU;RU=1;var t=OT(),e=MQ();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),IU}var $U;function o1e(){return $U||($U=1,a1e()),PU}var kU={},w2,DU;function al(){if(DU)return w2;DU=1;var t=ec(),e=TypeError;return w2=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},w2}var _2,MU;function ol(){if(MU)return _2;MU=1;var t=Pn(),e=qQ(),r=t("Set"),n=r.prototype;return _2={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},_2}var S2,qU;function ll(){if(qU)return S2;qU=1;var t=yn();return S2=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},S2}var E2,AU;function Lh(){if(AU)return E2;AU=1;var t=ll();return E2=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},E2}var N2,FU;function DT(){if(FU)return N2;FU=1;var t=ol(),e=Lh(),r=t.Set,n=t.add;return N2=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},N2}var j2,LU;function Bh(){return LU||(LU=1,j2=function(t){return t.size}),j2}var C2,BU;function l1e(){return BU||(BU=1,C2=function(t){return{iterator:t,next:t.next,done:!1}}),C2}var O2,zU;function ul(){if(zU)return O2;zU=1;var t=Os(),e=Li(),r=yn(),n=ic(),i=l1e(),s="Invalid size",a=RangeError,o=TypeError,u=Math.max,c=function(d,h){this.set=d,this.size=u(h,0),this.has=t(d.has),this.keys=t(d.keys)};return c.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},O2=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new c(d,f)},O2}var T2,UU;function u1e(){if(UU)return T2;UU=1;var t=al(),e=ol(),r=DT(),n=Bh(),i=ul(),s=Lh(),a=ll(),o=e.has,u=e.remove;return T2=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&u(p,m)}):a(f.getIterator(),function(m){o(p,m)&&u(p,m)}),p},T2}var P2,WU;function cl(){return WU||(WU=1,P2=function(){return!1}),P2}var VU;function c1e(){if(VU)return kU;VU=1;var t=Ne(),e=u1e(),r=Ge(),n=cl(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var u=0;return{next:function(){var c=u++>1;return o.has(1)&&o.clear(),{done:c,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),kU}var HU={},I2,KU;function d1e(){if(KU)return I2;KU=1;var t=al(),e=ol(),r=Bh(),n=ul(),i=Lh(),s=ll(),a=e.Set,o=e.add,u=e.has;return I2=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){u(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},I2}var GU;function h1e(){if(GU)return HU;GU=1;var t=Ne(),e=Ge(),r=d1e(),n=cl(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),HU}var YU={},R2,QU;function f1e(){if(QU)return R2;QU=1;var t=al(),e=ol().has,r=Bh(),n=ul(),i=Lh(),s=ll(),a=jT();return R2=function(u){var c=t(this),d=n(u);if(r(c)<=d.size)return i(c,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(c,f))return a(h,"normal",!1)})!==!1},R2}var XU;function p1e(){if(XU)return YU;XU=1;var t=Ne(),e=f1e(),r=cl(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),YU}var JU={},$2,ZU;function m1e(){if(ZU)return $2;ZU=1;var t=al(),e=Bh(),r=Lh(),n=ul();return $2=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(u){if(!o.includes(u))return!1},!0)!==!1},$2}var e9;function v1e(){if(e9)return JU;e9=1;var t=Ne(),e=m1e(),r=cl(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),JU}var t9={},k2,r9;function g1e(){if(r9)return k2;r9=1;var t=al(),e=ol().has,r=Bh(),n=ul(),i=ll(),s=jT();return k2=function(o){var u=t(this),c=n(o);if(r(u)<c.size)return!1;var d=c.getIterator();return i(d,function(h){if(!e(u,h))return s(d,"normal",!1)})!==!1},k2}var n9;function y1e(){if(n9)return t9;n9=1;var t=Ne(),e=g1e(),r=cl(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),t9}var i9={},D2,s9;function b1e(){if(s9)return D2;s9=1;var t=al(),e=ol(),r=DT(),n=ul(),i=ll(),s=e.add,a=e.has,o=e.remove;return D2=function(c){var d=t(this),h=n(c).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},D2}var M2,a9;function GQ(){return a9||(a9=1,M2=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),M2}var o9;function x1e(){if(o9)return i9;o9=1;var t=Ne(),e=b1e(),r=GQ(),n=cl(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),i9}var l9={},q2,u9;function w1e(){if(u9)return q2;u9=1;var t=al(),e=ol().add,r=DT(),n=ul(),i=ll();return q2=function(a){var o=t(this),u=n(a).getIterator(),c=r(o);return i(u,function(d){e(c,d)}),c},q2}var c9;function _1e(){if(c9)return l9;c9=1;var t=Ne(),e=w1e(),r=GQ(),n=cl(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),l9}var A2,d9;function S1e(){if(d9)return A2;d9=1,lc(),o1e(),c1e(),h1e(),p1e(),v1e(),y1e(),x1e(),_1e(),PT();var t=dt();return A2=t.Set,A2}var F2,h9;function E1e(){if(h9)return F2;h9=1;var t=S1e();return uc(),F2=t,F2}var L2,f9;function N1e(){return f9||(f9=1,L2=E1e()),L2}var j1e=N1e(),Ls=Ie(j1e),p9={},m9={},B2,v9;function C1e(){if(v9)return B2;v9=1;var t=Qe(),e=TT(),r=Ym().getWeakData,n=CT(),i=Li(),s=Xu(),a=xr(),o=Qm(),u=$a(),c=Cr(),d=nl(),h=d.set,f=d.getterFor,p=u.find,m=u.findIndex,y=t([].splice),x=0,g=function(b){return b.frozen||(b.frozen=new v)},v=function(){this.entries=[]},w=function(b,_){return p(b.entries,function(S){return S[0]===_})};return v.prototype={get:function(b){var _=w(this,b);if(_)return _[1]},has:function(b){return!!w(this,b)},set:function(b,_){var S=w(this,b);S?S[1]=_:this.entries.push([b,_])},delete:function(b){var _=m(this.entries,function(S){return S[0]===b});return~_&&y(this.entries,_,1),!!~_}},B2={getConstructor:function(b,_,S,N){var E=b(function(j,P){n(j,C),h(j,{type:_,id:x++,frozen:null}),s(P)||o(P,j[N],{that:j,AS_ENTRIES:S})}),C=E.prototype,O=f(_),I=function(j,P,D){var M=O(j),z=r(i(P),!0);return z===!0?g(M).set(P,D):z[M.id]=D,j};return e(C,{delete:function(j){var P=O(this);if(!a(j))return!1;var D=r(j);return D===!0?g(P).delete(j):D&&c(D,P.id)&&delete D[P.id]},has:function(P){var D=O(this);if(!a(P))return!1;var M=r(P);return M===!0?g(D).has(P):M&&c(M,D.id)}}),e(C,S?{get:function(P){var D=O(this);if(a(P)){var M=r(P);if(M===!0)return g(D).get(P);if(M)return M[D.id]}},set:function(P,D){return I(this,P,D)}}:{add:function(P){return I(this,P,!0)}}),E}},B2}var g9;function O1e(){if(g9)return m9;g9=1;var t=kQ(),e=Ot(),r=Qe(),n=TT(),i=Ym(),s=OT(),a=C1e(),o=xr(),u=nl().enforce,c=Ge(),d=MY(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,x=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,w,b=function(j){return function(){return j(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",b,a),S=_.prototype,N=r(S.set),E=function(){return t&&c(function(){var j=x([]);return N(new _,j,1),!m(j)})};if(d)if(v){w=a.getConstructor(b,"WeakMap",!0),i.enable();var C=r(S.delete),O=r(S.has),I=r(S.get);n(S,{delete:function(j){if(o(j)&&!p(j)){var P=u(this);return P.frozen||(P.frozen=new w),C(this,j)||P.frozen.delete(j)}return C(this,j)},has:function(P){if(o(P)&&!p(P)){var D=u(this);return D.frozen||(D.frozen=new w),O(this,P)||D.frozen.has(P)}return O(this,P)},get:function(P){if(o(P)&&!p(P)){var D=u(this);return D.frozen||(D.frozen=new w),O(this,P)?I(this,P):D.frozen.get(P)}return I(this,P)},set:function(P,D){if(o(P)&&!p(P)){var M=u(this);M.frozen||(M.frozen=new w),O(this,P)?N(this,P,D):M.frozen.set(P,D)}else N(this,P,D);return this}})}else E()&&n(S,{set:function(P,D){var M;return f(P)&&(m(P)?M=x:y(P)&&(M=g)),N(this,P,D),M&&M(P),this}});return m9}var y9;function T1e(){return y9||(y9=1,O1e()),p9}var z2,b9;function P1e(){if(b9)return z2;b9=1,lc(),T1e();var t=dt();return z2=t.WeakMap,z2}var U2,x9;function I1e(){if(x9)return U2;x9=1;var t=P1e();return uc(),U2=t,U2}var W2,w9;function R1e(){return w9||(w9=1,W2=I1e()),W2}var $1e=R1e(),zh=Ie($1e);function id(t,e,r){k1e(t,e),e.set(t,r)}function k1e(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function sC(t,e,r){return t.set(YQ(t,e),r),r}function gt(t,e){return t.get(YQ(t,e))}function YQ(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function _9(t,e){const r=new Ls;for(const n of e)t.has(n)||r.add(n);return r}var gl=new zh,ti=new zh;class S9{constructor(){id(this,gl,new Ls),id(this,ti,new Ls)}get size(){return gt(ti,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)gt(ti,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)gt(ti,this).delete(i)}clear(){gt(ti,this).clear()}getSelection(){return[...gt(ti,this)]}getChanges(){return{added:[..._9(gt(gl,this),gt(ti,this))],deleted:[..._9(gt(ti,this),gt(gl,this))],previous:[...new Ls(gt(gl,this))],current:[...new Ls(gt(ti,this))]}}commit(){const e=this.getChanges();sC(gl,this,gt(ti,this)),sC(ti,this,new Ls(gt(gl,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var Fa=new zh,La=new zh,V2=new zh;class D1e{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};id(this,Fa,new S9),id(this,La,new S9),id(this,V2,void 0),sC(V2,this,e)}get sizeNodes(){return gt(Fa,this).size}get sizeEdges(){return gt(La,this).size}getNodes(){return gt(Fa,this).getSelection()}getEdges(){return gt(La,this).getSelection()}addNodes(){gt(Fa,this).add(...arguments)}addEdges(){gt(La,this).add(...arguments)}deleteNodes(e){gt(Fa,this).delete(e)}deleteEdges(e){gt(La,this).delete(e)}clear(){gt(Fa,this).clear(),gt(La,this).clear()}commit(){const e={nodes:gt(Fa,this).commit(),edges:gt(La,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return gt(V2,this).call(this,e,...n),e}}class M1e{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new D1e,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},er(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&hc(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof jt?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const u=this.body.edgeIndices[o],c=a[u];if(c.connected){const d=c.from.x,h=c.from.y,f=c.to.x,p=c.to.y,m=c.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=u,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof jt?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof jt?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof jt?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof jt?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof jt&&n.id!=s||n instanceof ga)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof ga&&n.id!=s||n instanceof jt&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=Bt(this.hoverObj.edges).length,a=Bt(this.hoverObj.nodes).length,o=n instanceof ga&&s===0&&a===0,u=n instanceof jt&&s===0&&a===0;(i||o||u)&&(i=this.emitHoverEvent(e,r,n)),n instanceof jt&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return ju(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return ju(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let u=i.length-1;u>=0;u--){const d=s[i[u]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let u=a.length-1;u>=0;u--){const d=o[a[u]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var E9={},H2,N9;function q1e(){if(N9)return H2;N9=1;var t=sc(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,u;a<s;){for(u=a,o=n[a];u&&i(n[u-1],o)>0;)n[u]=n[--u];u!==a++&&(n[u]=o)}else for(var c=e(s/2),d=r(t(n,0,c),i),h=r(t(n,c),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return H2=r,H2}var K2,j9;function A1e(){if(j9)return K2;j9=1;var t=Ju(),e=t.match(/firefox\/(\d+)/i);return K2=!!e&&+e[1],K2}var G2,C9;function F1e(){if(C9)return G2;C9=1;var t=Ju();return G2=/MSIE|Trident/.test(t),G2}var Y2,O9;function L1e(){if(O9)return Y2;O9=1;var t=Ju(),e=t.match(/AppleWebKit\/(\d+)\./);return Y2=!!e&&+e[1],Y2}var T9;function B1e(){if(T9)return E9;T9=1;var t=Ne(),e=Qe(),r=Os(),n=In(),i=Ts(),s=KY(),a=Xn(),o=Ge(),u=q1e(),c=cc(),d=A1e(),h=F1e(),f=jh(),p=L1e(),m=[],y=e(m.sort),x=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),w=c("sort"),b=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var N="",E,C,O,I;for(E=65;E<76;E++){switch(C=String.fromCharCode(E),E){case 66:case 69:case 70:case 72:O=3;break;case 68:case 71:O=4;break;default:O=2}for(I=0;I<47;I++)m.push({k:C+I,v:O})}for(m.sort(function(j,P){return P.v-j.v}),I=0;I<m.length;I++)C=m[I].k.charAt(0),N.charAt(N.length-1)!==C&&(N+=C);return N!=="DGBEFHACIJK"}}),_=g||!v||!w||!b,S=function(N){return function(E,C){return C===void 0?-1:E===void 0?1:N!==void 0?+N(E,C)||0:a(E)>a(C)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(E){E!==void 0&&r(E);var C=n(this);if(b)return E===void 0?y(C):y(C,E);var O=[],I=i(C),j,P;for(P=0;P<I;P++)P in C&&x(O,C[P]);for(u(O,S(E)),j=i(O),P=0;P<j;)C[P]=O[P++];for(;P<I;)s(C,P++);return C}}),E9}var Q2,P9;function z1e(){if(P9)return Q2;P9=1,B1e();var t=Or();return Q2=t("Array","sort"),Q2}var X2,I9;function U1e(){if(I9)return X2;I9=1;var t=ir(),e=z1e(),r=Array.prototype;return X2=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},X2}var J2,R9;function W1e(){if(R9)return J2;R9=1;var t=U1e();return J2=t,J2}var Z2,$9;function V1e(){return $9||($9=1,Z2=W1e()),Z2}var H1e=V1e(),Kl=Ie(H1e),k9={},eN,D9;function K1e(){if(D9)return eN;D9=1;var t=Os(),e=In(),r=Dm(),n=Ts(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(u,c,d,h){var f=e(u),p=r(f),m=n(f);if(t(c),m===0&&d<2)throw new i(s);var y=o?m-1:0,x=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=x;break}if(y+=x,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=x)y in p&&(h=c(h,p[y],y,f));return h}};return eN={left:a(!1),right:a(!0)},eN}var tN,M9;function G1e(){if(M9)return tN;M9=1;var t=YY();return tN=t==="NODE",tN}var q9;function Y1e(){if(q9)return k9;q9=1;var t=Ne(),e=K1e().left,r=cc(),n=jh(),i=G1e(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(u){var c=arguments.length;return e(this,u,c,c>1?arguments[1]:void 0)}}),k9}var rN,A9;function Q1e(){if(A9)return rN;A9=1,Y1e();var t=Or();return rN=t("Array","reduce"),rN}var nN,F9;function X1e(){if(F9)return nN;F9=1;var t=ir(),e=Q1e(),r=Array.prototype;return nN=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},nN}var iN,L9;function J1e(){if(L9)return iN;L9=1;var t=X1e();return iN=t,iN}var sN,B9;function Z1e(){return B9||(B9=1,sN=J1e()),sN}var exe=Z1e(),QQ=Ie(exe);class XQ{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class txe extends XQ{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){Kl(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class rxe extends XQ{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){Kl(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var z9={},U9;function nxe(){if(U9)return z9;U9=1;var t=Ne(),e=$a().every,r=cc(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),z9}var aN,W9;function ixe(){if(W9)return aN;W9=1,nxe();var t=Or();return aN=t("Array","every"),aN}var oN,V9;function sxe(){if(V9)return oN;V9=1;var t=ir(),e=ixe(),r=Array.prototype;return oN=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},oN}var lN,H9;function axe(){if(H9)return lN;H9=1;var t=sxe();return lN=t,lN}var uN,K9;function oxe(){return K9||(K9=1,uN=axe()),uN}var lxe=oxe(),JQ=Ie(lxe);function uxe(t,e){const r=new Ls;return pt(t).call(t,n=>{var i;pt(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),pt(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function cxe(t){return ZQ(e=>{var r,n;return JQ(r=sn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function dxe(t){return ZQ(e=>{var r,n;return JQ(r=sn(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function ZQ(t,e,r,n){var i;const s=bo(null),a=QQ(i=[...UQ(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",u=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var c,d;if(!n.has(h))continue;const x=s[y.id]+u;if(pt(c=sn(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(c,g=>{const v=g[o],w=s[v];(w==null||e(x,w))&&(s[v]=x,p.push(g[r]))}),m>a)return uxe(n,s);++m}}return s}class hxe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new IT;let n=0;const i=Kl(e=[...new Ls(Cme(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const u=e[o];n=Math.min(u.x,n),i=Math.max(u.x,i),s=Math.min(u.y,s),a=Math.max(u.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return Bt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class fxe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+qp()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},er(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(hc(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),qn(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),yt(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=Gm(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const u=e.length;for(;e.length>s&&i<=10;){i+=1;const c=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(c==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*u)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let u=0;u<e.length;u++){const c=this.body.nodes[e[u]];c.predefinedPosition===!1&&(c.x+=(.5-this._rng())*o,c.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Ur.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Ur.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new hxe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let w=0;w<g.length-1;w++){const b=g[w].max-g[w+1].min;v+=b+this.options.hierarchical.treeSpacing,s(w+1,v)}},s=(g,v)=>{const w=this.hierarchical.trees;for(const b in w)Object.prototype.hasOwnProperty.call(w,b)&&w[b]===g&&this.direction.shift(b,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const w=this.hierarchical.childrenReference[g.id];if(w.length>0)for(let b=0;b<w.length;b++)o(this.body.nodes[w[b]],v)}},u=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,w=1e9,b=1e9,_=1e9,S=-1e9;for(const N in g)if(Object.prototype.hasOwnProperty.call(g,N)){const E=e.body.nodes[N],C=e.hierarchical.levels[E.id],O=e.direction.getPosition(E),[I,j]=e._getSpaceAroundNode(E,g);w=Math.min(I,w),b=Math.min(j,b),C<=v&&(_=Math.min(O,_),S=Math.max(O,S))}return[_,S,w,b]},c=(g,v)=>{const w=this.hierarchical.getMaxLevel(g.id),b=this.hierarchical.getMaxLevel(v.id);return Math.min(w,b)},d=(g,v,w)=>{const b=this.hierarchical;for(let _=0;_<v.length;_++){const S=v[_],N=b.distributionOrdering[S];if(N.length>1)for(let E=0;E<N.length-1;E++){const C=N[E],O=N[E+1];b.hasSameParent(C,O)&&b.inSameSubNetwork(C,O)&&g(C,O,w)}}},h=function(g,v){let w=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const b=e.direction.getPosition(g),_=e.direction.getPosition(v),S=Math.abs(_-b),N=e.options.hierarchical.nodeSpacing;if(S>N){const E={},C={};o(g,E),o(v,C);const O=c(g,v),I=u(E,O),j=u(C,O),P=I[1],D=j[0],M=j[2];if(Math.abs(P-D)>N){let W=P-D+N;W<-M+N&&(W=-M+N),W<0&&(e._shiftBlock(v.id,W),r=!0,w===!0&&e._centerParent(v))}}},f=(g,v)=>{const w=v.id,b=v.edges,_=this.hierarchical.levels[v.id],S=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,N={},E=[];for(let M=0;M<b.length;M++){const z=b[M];if(z.toId!=z.fromId){const W=z.toId==w?z.from:z.to;N[b[M].id]=W,this.hierarchical.levels[W.id]<_&&E.push(z)}}const C=(M,z)=>{let W=0;for(let A=0;A<z.length;A++)if(N[z[A].id]!==void 0){const H=this.direction.getPosition(N[z[A].id])-M;W+=H/Math.sqrt(H*H+S)}return W},O=(M,z)=>{let W=0;for(let A=0;A<z.length;A++)if(N[z[A].id]!==void 0){const H=this.direction.getPosition(N[z[A].id])-M;W-=S*Math.pow(H*H+S,-1.5)}return W},I=(M,z)=>{let W=this.direction.getPosition(v);const A={};for(let H=0;H<M;H++){const B=C(W,z),V=O(W,z),G=40,fe=Math.max(-G,Math.min(G,Math.round(B/V)));if(W=W-fe,A[W]!==void 0)break;A[W]=H}return W},j=M=>{const z=this.direction.getPosition(v);if(n[v.id]===void 0){const G={};o(v,G),n[v.id]=G}const W=u(n[v.id]),A=W[2],H=W[3],B=M-z;let V=0;B>0?V=Math.min(B,H-this.options.hierarchical.nodeSpacing):B<0&&(V=-Math.min(-B,A-this.options.hierarchical.nodeSpacing)),V!=0&&(this._shiftBlock(v.id,V),r=!0)},P=M=>{const z=this.direction.getPosition(v),[W,A]=this._getSpaceAroundNode(v),H=M-z;let B=z;H>0?B=Math.min(z+(A-this.options.hierarchical.nodeSpacing),M):H<0&&(B=Math.max(z-(W-this.options.hierarchical.nodeSpacing),M)),B!==z&&(this.direction.setPosition(v,B),r=!0)};let D=I(g,E);j(D),D=I(g,b),P(D)},p=g=>{let v=this.hierarchical.getLevels();v=yo(v).call(v);for(let w=0;w<g;w++){r=!1;for(let b=0;b<v.length;b++){const _=v[b],S=this.hierarchical.distributionOrdering[_];for(let N=0;N<S.length;N++)f(1e3,S[N])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=yo(v).call(v);for(let w=0;w<g&&(r=!1,d(h,v,!0),r===!0);w++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},x=()=>{let g=this.hierarchical.getLevels();g=yo(g).call(g);for(let v=0;v<g.length;v++){const w=g[v],b=this.hierarchical.distributionOrdering[w];for(let _=0;_<b.length;_++)this._centerParent(b[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&x(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let u=1e9,c=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);c=Math.min(c,h-a)}}return[u,c]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),u=this.direction.getPosition(s),[c,d]=this._getSpaceAroundNode(s),h=u-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<c-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=Bt(e[n]);i=this._indexArrayToNodes(i),Kl(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const u=this.options.hierarchical.nodeSpacing;let c=u*s;s>0&&(c=this.direction.getPosition(i[a-1])+u),this.direction.setPosition(o,c,n),this._validatePositionAndContinue(o,n,c),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);Kl(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const u=s[o],c=this.hierarchical.levels[u.id];if(c>r&&this.positionedNodes[u.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(u,h,c),this._validatePositionAndContinue(u,c,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return ze(e.edges,n=>{var i;ot(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;ze(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return ze(e,i=>{n.push(Number(i))}),Kl(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;ze(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const u=r(Ur.cloneOptions(i,"node"),Ur.cloneOptions(s,"node"),Ur.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+u};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=QQ(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new IT);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=dxe(r):this.hierarchical.levels=cxe(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const u=this._getActiveEdges(s);for(let c=0;c<u.length;c++){const d=u[c];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const u=this.body.nodes[o];i(u,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const u=this.hierarchical.parentReference[o];if(u!==void 0)for(let c=0;c<u.length;c++){const d=u[c];a[d]=!0,i(a,d)}},s=(a,o)=>{const u=this.hierarchical.parentReference[o];if(u!==void 0)for(let c=0;c<u.length;c++){const d=u[c];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new txe(this):this.direction=new rxe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class pxe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},er(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",re(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",re(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,yt(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,re(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",re(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,re(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",re(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=yt({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,re(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",re(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",re(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",re(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",re(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",re(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,re(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),u=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(u.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[u.id]=u,this.body.nodeIndices.push(u.id),this._temporaryBindUI("onTouch",re(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",re(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",re(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",re(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",c=>{const d=a.edgeType.findBorderPositions(c);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),u.selected===!1&&(u.x=d.to.x,u.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=yt({},this.options.controlNodeStyle);n.id="targetNode"+nd(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},Ms(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,re(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(Ms(this.editModeDiv),Ms(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of os(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),Ms(this.manipulationDiv),Ms(this.editModeDiv),Ms(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,re(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,re(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+$h(Bt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new Vl(e,{});Wp(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=ot(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;os(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=ot(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;os(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=er({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=er({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+nd(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let u=s.length-1;u>=0;u--){var o;if(ot(o=this.temporaryIds.nodes).call(o,s[u])===-1){a=this.body.nodes[s[u]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const u=this.body.nodes[this.temporaryIds.nodes[0]];u.x=this.canvas._XconvertDOMtoCanvas(r.x),u.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let u=s.length-1;u>=0;u--){var o;if(ot(o=this.temporaryIds.nodes).call(o,s[u])===-1){a=this.body.nodes[s[u]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:nd(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const ae="string",te="boolean",U="number",Lc="array",Ee="object",eX="dom",mxe="any",cN=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],dN={borderWidth:{number:U},borderWidthSelected:{number:U,undefined:"undefined"},brokenImage:{string:ae,undefined:"undefined"},chosen:{label:{boolean:te,function:"function"},node:{boolean:te,function:"function"},__type__:{object:Ee,boolean:te}},color:{border:{string:ae},background:{string:ae},highlight:{border:{string:ae},background:{string:ae},__type__:{object:Ee,string:ae}},hover:{border:{string:ae},background:{string:ae},__type__:{object:Ee,string:ae}},__type__:{object:Ee,string:ae}},opacity:{number:U,undefined:"undefined"},fixed:{x:{boolean:te},y:{boolean:te},__type__:{object:Ee,boolean:te}},font:{align:{string:ae},color:{string:ae},size:{number:U},face:{string:ae},background:{string:ae},strokeWidth:{number:U},strokeColor:{string:ae},vadjust:{number:U},multi:{boolean:te,string:ae},bold:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},boldital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},ital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},mono:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},__type__:{object:Ee,string:ae}},group:{string:ae,number:U,undefined:"undefined"},heightConstraint:{minimum:{number:U},valign:{string:ae},__type__:{object:Ee,boolean:te,number:U}},hidden:{boolean:te},icon:{face:{string:ae},code:{string:ae},size:{number:U},color:{string:ae},weight:{string:ae,number:U},__type__:{object:Ee}},id:{string:ae,number:U},image:{selected:{string:ae,undefined:"undefined"},unselected:{string:ae,undefined:"undefined"},__type__:{object:Ee,string:ae}},imagePadding:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:Ee,number:U}},label:{string:ae,undefined:"undefined"},labelHighlightBold:{boolean:te},level:{number:U,undefined:"undefined"},margin:{top:{number:U},right:{number:U},bottom:{number:U},left:{number:U},__type__:{object:Ee,number:U}},mass:{number:U},physics:{boolean:te},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:te},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:Ee,boolean:te}},customScalingFunction:{function:"function"},__type__:{object:Ee}},shadow:{enabled:{boolean:te},color:{string:ae},size:{number:U},x:{number:U},y:{number:U},__type__:{object:Ee,boolean:te}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:te,array:Lc},borderRadius:{number:U},interpolation:{boolean:te},useImageSize:{boolean:te},useBorderWithImage:{boolean:te},coordinateOrigin:{string:["center","top-left"]},__type__:{object:Ee}},size:{number:U},title:{string:ae,dom:eX,undefined:"undefined"},value:{number:U,undefined:"undefined"},widthConstraint:{minimum:{number:U},maximum:{number:U},__type__:{object:Ee,boolean:te,number:U}},x:{number:U},y:{number:U},__type__:{object:Ee}},vxe={configure:{enabled:{boolean:te},filter:{boolean:te,string:ae,array:Lc,function:"function"},container:{dom:eX},showButton:{boolean:te},__type__:{object:Ee,boolean:te,string:ae,array:Lc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:cN},imageHeight:{number:U},imageWidth:{number:U},src:{string:ae},__type__:{object:Ee,boolean:te}},middle:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:cN},imageWidth:{number:U},imageHeight:{number:U},src:{string:ae},__type__:{object:Ee,boolean:te}},from:{enabled:{boolean:te},scaleFactor:{number:U},type:{string:cN},imageWidth:{number:U},imageHeight:{number:U},src:{string:ae},__type__:{object:Ee,boolean:te}},__type__:{string:["from","to","middle"],object:Ee}},endPointOffset:{from:{number:U},to:{number:U},__type__:{object:Ee,number:U}},arrowStrikethrough:{boolean:te},background:{enabled:{boolean:te},color:{string:ae},size:{number:U},dashes:{boolean:te,array:Lc},__type__:{object:Ee,boolean:te}},chosen:{label:{boolean:te,function:"function"},edge:{boolean:te,function:"function"},__type__:{object:Ee,boolean:te}},color:{color:{string:ae},highlight:{string:ae},hover:{string:ae},inherit:{string:["from","to","both"],boolean:te},opacity:{number:U},__type__:{object:Ee,string:ae}},dashes:{boolean:te,array:Lc},font:{color:{string:ae},size:{number:U},face:{string:ae},background:{string:ae},strokeWidth:{number:U},strokeColor:{string:ae},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:U},multi:{boolean:te,string:ae},bold:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},boldital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},ital:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},mono:{color:{string:ae},size:{number:U},face:{string:ae},mod:{string:ae},vadjust:{number:U},__type__:{object:Ee,string:ae}},__type__:{object:Ee,string:ae}},hidden:{boolean:te},hoverWidth:{function:"function",number:U},label:{string:ae,undefined:"undefined"},labelHighlightBold:{boolean:te},length:{number:U,undefined:"undefined"},physics:{boolean:te},scaling:{min:{number:U},max:{number:U},label:{enabled:{boolean:te},min:{number:U},max:{number:U},maxVisible:{number:U},drawThreshold:{number:U},__type__:{object:Ee,boolean:te}},customScalingFunction:{function:"function"},__type__:{object:Ee}},selectionWidth:{function:"function",number:U},selfReferenceSize:{number:U},selfReference:{size:{number:U},angle:{number:U},renderBehindTheNode:{boolean:te},__type__:{object:Ee}},shadow:{enabled:{boolean:te},color:{string:ae},size:{number:U},x:{number:U},y:{number:U},__type__:{object:Ee,boolean:te}},smooth:{enabled:{boolean:te},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:U},forceDirection:{string:["horizontal","vertical","none"],boolean:te},__type__:{object:Ee,boolean:te}},title:{string:ae,undefined:"undefined"},width:{number:U},widthConstraint:{maximum:{number:U},__type__:{object:Ee,boolean:te,number:U}},value:{number:U,undefined:"undefined"},__type__:{object:Ee}},groups:{useDefaultGroups:{boolean:te},__any__:dN,__type__:{object:Ee}},interaction:{dragNodes:{boolean:te},dragView:{boolean:te},hideEdgesOnDrag:{boolean:te},hideEdgesOnZoom:{boolean:te},hideNodesOnDrag:{boolean:te},hover:{boolean:te},keyboard:{enabled:{boolean:te},speed:{x:{number:U},y:{number:U},zoom:{number:U},__type__:{object:Ee}},bindToWindow:{boolean:te},autoFocus:{boolean:te},__type__:{object:Ee,boolean:te}},multiselect:{boolean:te},navigationButtons:{boolean:te},selectable:{boolean:te},selectConnectedEdges:{boolean:te},hoverConnectedEdges:{boolean:te},tooltipDelay:{number:U},zoomView:{boolean:te},zoomSpeed:{number:U},__type__:{object:Ee}},layout:{randomSeed:{undefined:"undefined",number:U,string:ae},improvedLayout:{boolean:te},clusterThreshold:{number:U},hierarchical:{enabled:{boolean:te},levelSeparation:{number:U},nodeSpacing:{number:U},treeSpacing:{number:U},blockShifting:{boolean:te},edgeMinimization:{boolean:te},parentCentralization:{boolean:te},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:Ee,boolean:te}},__type__:{object:Ee}},manipulation:{enabled:{boolean:te},initiallyActive:{boolean:te},addNode:{boolean:te,function:"function"},addEdge:{boolean:te,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:Ee,boolean:te,function:"function"}},deleteNode:{boolean:te,function:"function"},deleteEdge:{boolean:te,function:"function"},controlNodeStyle:dN,__type__:{object:Ee,boolean:te}},nodes:dN,physics:{enabled:{boolean:te},barnesHut:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Ee}},forceAtlas2Based:{theta:{number:U},gravitationalConstant:{number:U},centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Ee}},repulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},__type__:{object:Ee}},hierarchicalRepulsion:{centralGravity:{number:U},springLength:{number:U},springConstant:{number:U},nodeDistance:{number:U},damping:{number:U},avoidOverlap:{number:U},__type__:{object:Ee}},maxVelocity:{number:U},minVelocity:{number:U},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:te},iterations:{number:U},updateInterval:{number:U},onlyDynamicEdges:{boolean:te},fit:{boolean:te},__type__:{object:Ee,boolean:te}},timestep:{number:U},adaptiveTimestep:{boolean:te},wind:{x:{number:U},y:{number:U},__type__:{object:Ee}},__type__:{object:Ee,boolean:te}},autoResize:{boolean:te},clickToUse:{boolean:te},locale:{string:ae},locales:{__any__:{any:mxe},__type__:{object:Ee}},height:{string:ae},width:{string:ae},__type__:{object:Ee}},tX={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},gxe=(t,e,r)=>{var n;return!!(pa(t).call(t,"physics")&&pa(n=tX.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class yxe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const u=r[o],c={};i[u]=c;for(let d=0;d<r.length;d++)c[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const u=s[n[o]];u.connected===!0&&i[u.fromId]!==void 0&&i[u.toId]!==void 0&&(i[u.fromId][u.toId]=1,i[u.toId][u.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const u=r[o],c=i[u];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],x=Math.min(f[m],f[u]+c[m]);f[m]=x,y[h]=x}}}return i}}class bxe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new yxe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const u=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),c=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<u;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<c;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let u=0;u<r.length;u++){const c=r[u];if(n[c].predefinedPosition!==!0||n[c].isCluster===!0&&e===!0||n[c].options.fixed.x!==!0||n[c].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(c);i<d&&(i=d,s=c,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,u=0;const c=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let b=0;b<i.length;b++){const _=i[b];if(_!==e){const S=s[_].x,N=s[_].y,E=h[_],C=f[_],O=1/((c-S)**2+(d-N)**2)**1.5;a+=E*(1-C*(d-N)**2*O),o+=E*(C*(c-S)*(d-N)*O),u+=E*(1-C*(c-S)**2*O)}}const p=a,m=o,y=r,x=u,g=n,v=(y/p+g/m)/(m/p-x/m),w=-(m*v+y)/p;s[e].x+=w,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,u=0;for(let c=n;c<e.length;c++){const d=e[c];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][c]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][c],o+=this.E_matrix[i][c][0],u+=this.E_matrix[i][c][1]}}this.E_sums[i]=[o,u]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,u=n[e].y;let c=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],x=n[f].x,g=n[f].y,v=1/Math.sqrt((o-x)**2+(u-g)**2),w=s[f]*(o-x-a[f]*(o-x)*v),b=s[f]*(u-g-a[f]*(u-g)*v);i[h]=[w,b],c+=w,d+=b;const _=this.E_sums[f];_[0]+=w-m,_[1]+=b-y}}this.E_sums[e]=[c,d]}}function we(t,e,r){var n,i,s,a;if(!(this instanceof we))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:Uge,clickToUse:!1},er(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:re(n=this.on).call(n,this),off:re(i=this.off).call(i,this),emit:re(s=this.emit).call(s,this),once:re(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new Hge(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new oye,this.canvas=new t1e(this.body),this.selectionHandler=new M1e(this.body,this.canvas),this.interactionHandler=new s1e(this.body,this.canvas,this.selectionHandler),this.view=new n1e(this.body,this.canvas),this.renderer=new Qbe(this.body,this.canvas),this.physics=new zbe(this.body),this.layoutEngine=new fxe(this.body),this.clustering=new Ybe(this.body),this.manipulation=new pxe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new vbe(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Mbe(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new bxe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}IY(we.prototype);we.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(xge.validate(t,vxe)===!0&&console.error("%cErrors have been found in the supplied options object.",jQ),hc(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=Wge(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new yge(this,this.body.container,tX,this.canvas.pixelRatio,gxe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};yt(n.nodes,this.nodesHandler.options),yt(n.edges,this.edgesHandler.options),yt(n.layout,this.layoutEngine.options),yt(n.interaction,this.selectionHandler.options),yt(n.interaction,this.renderer.options),yt(n.interaction,this.interactionHandler.options),yt(n.manipulation,this.manipulation.options),yt(n.physics,this.physics.options),yt(n.global,this.canvas.options),yt(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new gge(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};we.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};we.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};we.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=Pge(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Ige(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};we.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];Ms(this.body.container)};we.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};we.prototype.isActive=function(){return!this.activator||this.activator.active};we.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};we.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};we.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};we.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};we.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};we.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};we.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};we.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};we.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};we.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};we.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};we.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};we.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};we.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};we.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};we.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};we.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};we.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};we.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};we.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};we.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};we.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};we.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};we.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};we.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};we.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};we.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};we.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};we.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};we.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};we.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};we.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};we.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};we.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};we.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};we.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};we.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};we.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};we.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};we.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};we.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};we.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};we.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};we.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};we.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};we.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};we.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};we.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};we.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};we.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};we.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};we.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function xxe({graphData:t,startPersonId:e,onNodeClick:r}){const n=T.useRef(null),i=T.useRef(null),s=Qr(),a=T.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);T.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new Nu(t.nodes),h=new Nu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new we(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),x={},g=new Set;m.forEach(([v,w])=>{if(g.has(v)||g.has(w))return;const b=y[v],_=y[w];if(!b||!_)return;const S=(b.x+_.x)/2;x[v]={x:S-60,y:b.y},x[w]={x:S+60,y:_.y},g.add(v),g.add(w)}),Object.entries(x).forEach(([v,w])=>{p.moveNode(v,w.x,w.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},c=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?l.jsx("div",{className:"flex items-center justify-center h-96",children:l.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):l.jsxs("div",{className:"relative w-full h-full",children:[l.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[l.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:l.jsx(cne,{className:"w-4 h-4"})}),l.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:l.jsx(dne,{className:"w-4 h-4"})}),l.jsx("button",{onClick:c,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:l.jsx(wK,{className:"w-4 h-4"})})]}),l.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),l.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const wxe=["parent","child","spouse","lover","partner"];function _xe(t){return wxe.includes(t==null?void 0:t.toLowerCase())}function Sxe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function Exe(t){return(t==null?void 0:t.toLowerCase())==="child"}function Nxe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function jxe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function u(h,f){var v,w,b,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const S=document.createElement("textarea");S.innerHTML=p,p=S.value}let m=null,y=((w=h.acf)==null?void 0:w.birth_date)||null;if(y){const S=new Date(y);isNaN(S.getTime())||(m=Math.floor((new Date-S)/(365.25*24*60*60*1e3)))}let x="";switch((b=h.acf)==null?void 0:b.gender){case"male":x="";break;case"female":x="";break;case"non_binary":case"other":case"prefer_not_to_say":x="";break}let g="";if(y)try{const S=new Date(y);if(!isNaN(S.getTime())){const N=String(S.getDate()).padStart(2,"0"),E=String(S.getMonth()+1).padStart(2,"0"),C=S.getFullYear();g=`${N}-${E}-${C}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:x,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const c=a.get(t);for(c&&n.set(t,u(c,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!_xe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const w=a.get(y);n.set(y,u(w,y))}const x=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(w=>`${w.from}-${w.to}`===x||`${w.from}-${w.to}`===g)){const w=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(Sxe(w))i.push({from:y,to:h,type:"parent-child"});else if(Exe(w))i.push({from:h,to:y,type:"parent-child"});else if(Nxe(w)){const[b,_]=h<y?[h,y]:[y,h];i.push({from:b,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function Cxe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(x=>{s.set(x.id,[]),a.set(x.id,[]),o.set(x.id,[])}),i.forEach(x=>{var g,v,w,b;x.type==="parent-child"?((g=s.get(x.to))==null||g.push(x.from),(v=a.get(x.from))==null||v.push(x.to)):x.type==="spouse"&&((w=o.get(x.from))==null||w.push(x.to),(b=o.get(x.to))==null||b.push(x.from))});const u=new Map,c=new Set,d=[{id:e,generation:0}];for(u.set(e,0),c.add(e);d.length>0;){const{id:x,generation:g}=d.shift(),v=s.get(x)||[];for(const _ of v)c.has(_)||(c.add(_),u.set(_,g-1),d.push({id:_,generation:g-1}));const w=a.get(x)||[];for(const _ of w)c.has(_)||(c.add(_),u.set(_,g+1),d.push({id:_,generation:g+1}));const b=o.get(x)||[];for(const _ of b)c.has(_)||(c.add(_),u.set(_,g),d.push({id:_,generation:g}))}n.forEach(x=>{u.has(x.id)||u.set(x.id,0)});const h=Math.min(...u.values()),f=new Map;u.forEach((x,g)=>{f.set(g,x-h)});function p(x,g,v=!1){const w=x?x.split(" ").map(N=>N[0]).join("").toUpperCase().slice(0,2):"?";let b,_;v?(b="%23d1d5db",_="%236b7280"):g?(b="%23fef3c7",_="%23b45309"):(b="%23e5e7eb",_="%23374151");const S=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${b}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${w}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(S)}const m=n.map(x=>{const g=f.get(x.id)||0,v=x.id===e,w=r[x.id]||!1;let b=x.name;w&&(b=x.name+" ");let _=[b],S="";x.genderSymbol&&(S+=x.genderSymbol+" "),x.age!==null&&(S+=x.age+" "),x.formattedBirthDate&&(S+=x.formattedBirthDate),S.trim()&&_.push(S.trim());const N=x.photo||p(x.name,v,w);let E="#d1d5db";return v?E="#f59e0b":w&&(E="#9ca3af"),{id:x.id,label:_.join(`
`),level:g,shape:"circularImage",image:N,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:w?"#6b7280":"#1f2937"},color:{border:E,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...x,isDeceased:w}}}),y=i.map((x,g)=>{const v=x.type==="spouse";return{id:`edge-${g}`,from:x.from,to:x.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function Oxe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var c,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((c=a.relationship_type)==null?void 0:c.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let u=null;return typeof a.related_person=="object"?u=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(u=parseInt(a.related_person,10)),{related_person:u,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function Txe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function Pxe(){var p,m;const{id:t}=Ss(),e=Qr(),r=parseInt(t,10),{data:n,isLoading:i}=Au(t),{data:s=[],isLoading:a}=Vo(),{data:o=[]}=Ze({queryKey:["relationship-types"],queryFn:async()=>(await Ae.getRelationshipTypes()).data}),u=T.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),c=wp({queries:u.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await ke.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=T.useMemo(()=>{const y={};return c.forEach((x,g)=>{if(x.data&&u[g]){const v=u[g],w=x.data.some(b=>{const _=Array.isArray(b.date_type)?b.date_type[0]:b.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=w}}),y},[c,u]);mn(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=T.useMemo(()=>{if(!n||!s.length)return null;try{const y=Oxe(s);o.length>0&&Txe(y,o);const x=jxe(r,s,y);return!x||x.nodes.length===0?null:Cxe(x,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?l.jsx("div",{className:"flex items-center justify-center h-64",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?l.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(ce,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[l.jsx(jn,{className:"w-4 h-4 md:mr-2"}),l.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),l.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),l.jsx("div",{className:"card p-6",children:l.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?l.jsx(xxe,{graphData:h,startPersonId:r,onNodeClick:f}):l.jsx("div",{className:"flex items-center justify-center h-full",children:l.jsxs("div",{className:"text-center",children:[l.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),l.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):l.jsxs("div",{className:"card p-6 text-center",children:[l.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),l.jsx(ce,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function Ixe(){const{loginUrl:t,isLoggedIn:e}=hO();return OK(),T.useEffect(()=>{e||(window.location.href=t)},[e,t]),l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsxs("div",{className:"text-center",children:[l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),l.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function Rxe({children:t}){const{data:e,isLoading:r,error:n}=Ze({queryKey:["current-user"],queryFn:async()=>(await ke.getCurrentUser()).data,retry:!1});return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n||!e?l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full mx-4",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(gs,{className:"w-8 h-8 text-yellow-600"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),l.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})}):e!=null&&e.is_admin||e.is_approved?t:l.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:l.jsx("div",{className:"max-w-md w-full mx-4",children:l.jsxs("div",{className:"card p-8 text-center",children:[l.jsx("div",{className:"flex justify-center mb-4",children:l.jsx("div",{className:"p-3 bg-yellow-100 rounded-full",children:l.jsx(gs,{className:"w-8 h-8 text-yellow-600"})})}),l.jsx("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:"Account Pending Approval"}),l.jsx("p",{className:"text-gray-600 mb-6",children:"Your account is pending approval by an administrator. You will receive an email notification once your account has been approved."}),l.jsx("p",{className:"text-sm text-gray-500",children:"If you have any questions, please contact your administrator."})]})})})}function $xe({children:t}){const{isLoggedIn:e,isLoading:r}=hO();return r?l.jsx("div",{className:"flex items-center justify-center min-h-screen",children:l.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?l.jsx(Rxe,{children:t}):l.jsx(CH,{to:"/login",replace:!0})}function kxe(){return l.jsxs(bI,{children:[l.jsx(st,{path:"/login",element:l.jsx(Ixe,{})}),l.jsx(st,{path:"/*",element:l.jsx($xe,{children:l.jsx(Rne,{children:l.jsxs(bI,{children:[l.jsx(st,{path:"/",element:l.jsx(wse,{})}),l.jsx(st,{path:"/people",element:l.jsx(Sse,{})}),l.jsx(st,{path:"/people/new",element:l.jsx(bR,{})}),l.jsx(st,{path:"/people/:personId/contact/new",element:l.jsx(wR,{})}),l.jsx(st,{path:"/people/:personId/contact/:index/edit",element:l.jsx(wR,{})}),l.jsx(st,{path:"/people/:personId/work-history/new",element:l.jsx(xR,{})}),l.jsx(st,{path:"/people/:personId/work-history/:index/edit",element:l.jsx(xR,{})}),l.jsx(st,{path:"/people/:personId/relationship/new",element:l.jsx(_R,{})}),l.jsx(st,{path:"/people/:personId/relationship/:index/edit",element:l.jsx(_R,{})}),l.jsx(st,{path:"/people/:id/family-tree",element:l.jsx(Pxe,{})}),l.jsx(st,{path:"/people/:id/edit",element:l.jsx(bR,{})}),l.jsx(st,{path:"/people/:id",element:l.jsx(zse,{})}),l.jsx(st,{path:"/companies",element:l.jsx(fae,{})}),l.jsx(st,{path:"/companies/new",element:l.jsx(SR,{})}),l.jsx(st,{path:"/companies/:id",element:l.jsx(pae,{})}),l.jsx(st,{path:"/companies/:id/edit",element:l.jsx(SR,{})}),l.jsx(st,{path:"/dates",element:l.jsx(gae,{})}),l.jsx(st,{path:"/dates/new",element:l.jsx(ER,{})}),l.jsx(st,{path:"/dates/:id/edit",element:l.jsx(ER,{})}),l.jsx(st,{path:"/todos",element:l.jsx(bae,{})}),l.jsx(st,{path:"/settings",element:l.jsx(xae,{})}),l.jsx(st,{path:"/settings/relationship-types",element:l.jsx(wae,{})}),l.jsx(st,{path:"/settings/import",element:l.jsx(jae,{})}),l.jsx(st,{path:"/settings/export",element:l.jsx(Cae,{})}),l.jsx(st,{path:"/settings/user-approval",element:l.jsx(Oae,{})}),l.jsx(st,{path:"*",element:l.jsx(CH,{to:"/",replace:!0})})]})})})})]})}const Dxe=new hte({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),hN=document.getElementById("root");if(!hN)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{fN.createRoot(hN).render(l.jsx(Me.StrictMode,{children:l.jsx(fte,{client:Dxe,children:l.jsx(Dee,{children:l.jsx(kxe,{})})})}))}catch(t){console.error("Error mounting React app:",t),hN.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
