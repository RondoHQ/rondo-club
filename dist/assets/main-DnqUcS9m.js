var jN=t=>{throw TypeError(t)};var hm=(t,e,r)=>e.has(t)||jN("Cannot "+r);var R=(t,e,r)=>(hm(t,e,"read from private field"),r?r.call(t):e.get(t)),ue=(t,e,r)=>e.has(t)?jN("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,r),ie=(t,e,r,n)=>(hm(t,e,"write to private field"),n?n.call(t,r):e.set(t,r),r),_e=(t,e,r)=>(hm(t,e,"access private method"),r);var hh=(t,e,r,n)=>({set _(i){ie(t,e,i,r)},get _(){return R(t,e,n)}});function yY(t,e){for(var r=0;r<e.length;r++){const n=e[r];if(typeof n!="string"&&!Array.isArray(n)){for(const i in n)if(i!=="default"&&!(i in t)){const s=Object.getOwnPropertyDescriptor(n,i);s&&Object.defineProperty(t,i,s.get?s:{enumerable:!0,get:()=>n[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}function bY(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var M8={exports:{}},ip={},A8={exports:{}},je={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var bd=Symbol.for("react.element"),wY=Symbol.for("react.portal"),xY=Symbol.for("react.fragment"),_Y=Symbol.for("react.strict_mode"),SY=Symbol.for("react.profiler"),EY=Symbol.for("react.provider"),OY=Symbol.for("react.context"),PY=Symbol.for("react.forward_ref"),CY=Symbol.for("react.suspense"),TY=Symbol.for("react.memo"),NY=Symbol.for("react.lazy"),$N=Symbol.iterator;function IY(t){return t===null||typeof t!="object"?null:(t=$N&&t[$N]||t["@@iterator"],typeof t=="function"?t:null)}var F8={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},L8=Object.assign,B8={};function ou(t,e,r){this.props=t,this.context=e,this.refs=B8,this.updater=r||F8}ou.prototype.isReactComponent={};ou.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ou.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function z8(){}z8.prototype=ou.prototype;function uC(t,e,r){this.props=t,this.context=e,this.refs=B8,this.updater=r||F8}var cC=uC.prototype=new z8;cC.constructor=uC;L8(cC,ou.prototype);cC.isPureReactComponent=!0;var kN=Array.isArray,U8=Object.prototype.hasOwnProperty,dC={current:null},W8={key:!0,ref:!0,__self:!0,__source:!0};function H8(t,e,r){var n,i={},s=null,a=null;if(e!=null)for(n in e.ref!==void 0&&(a=e.ref),e.key!==void 0&&(s=""+e.key),e)U8.call(e,n)&&!W8.hasOwnProperty(n)&&(i[n]=e[n]);var o=arguments.length-2;if(o===1)i.children=r;else if(1<o){for(var l=Array(o),u=0;u<o;u++)l[u]=arguments[u+2];i.children=l}if(t&&t.defaultProps)for(n in o=t.defaultProps,o)i[n]===void 0&&(i[n]=o[n]);return{$$typeof:bd,type:t,key:s,ref:a,props:i,_owner:dC.current}}function RY(t,e){return{$$typeof:bd,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function hC(t){return typeof t=="object"&&t!==null&&t.$$typeof===bd}function jY(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(r){return e[r]})}var DN=/\/+/g;function fm(t,e){return typeof t=="object"&&t!==null&&t.key!=null?jY(""+t.key):e.toString(36)}function zh(t,e,r,n,i){var s=typeof t;(s==="undefined"||s==="boolean")&&(t=null);var a=!1;if(t===null)a=!0;else switch(s){case"string":case"number":a=!0;break;case"object":switch(t.$$typeof){case bd:case wY:a=!0}}if(a)return a=t,i=i(a),t=n===""?"."+fm(a,0):n,kN(i)?(r="",t!=null&&(r=t.replace(DN,"$&/")+"/"),zh(i,e,r,"",function(u){return u})):i!=null&&(hC(i)&&(i=RY(i,r+(!i.key||a&&a.key===i.key?"":(""+i.key).replace(DN,"$&/")+"/")+t)),e.push(i)),1;if(a=0,n=n===""?".":n+":",kN(t))for(var o=0;o<t.length;o++){s=t[o];var l=n+fm(s,o);a+=zh(s,e,r,l,i)}else if(l=IY(t),typeof l=="function")for(t=l.call(t),o=0;!(s=t.next()).done;)s=s.value,l=n+fm(s,o++),a+=zh(s,e,r,l,i);else if(s==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return a}function fh(t,e,r){if(t==null)return t;var n=[],i=0;return zh(t,n,"","",function(s){return e.call(r,s,i++)}),n}function $Y(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(r){(t._status===0||t._status===-1)&&(t._status=1,t._result=r)},function(r){(t._status===0||t._status===-1)&&(t._status=2,t._result=r)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var kr={current:null},Uh={transition:null},kY={ReactCurrentDispatcher:kr,ReactCurrentBatchConfig:Uh,ReactCurrentOwner:dC};function V8(){throw Error("act(...) is not supported in production builds of React.")}je.Children={map:fh,forEach:function(t,e,r){fh(t,function(){e.apply(this,arguments)},r)},count:function(t){var e=0;return fh(t,function(){e++}),e},toArray:function(t){return fh(t,function(e){return e})||[]},only:function(t){if(!hC(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};je.Component=ou;je.Fragment=xY;je.Profiler=SY;je.PureComponent=uC;je.StrictMode=_Y;je.Suspense=CY;je.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=kY;je.act=V8;je.cloneElement=function(t,e,r){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var n=L8({},t.props),i=t.key,s=t.ref,a=t._owner;if(e!=null){if(e.ref!==void 0&&(s=e.ref,a=dC.current),e.key!==void 0&&(i=""+e.key),t.type&&t.type.defaultProps)var o=t.type.defaultProps;for(l in e)U8.call(e,l)&&!W8.hasOwnProperty(l)&&(n[l]=e[l]===void 0&&o!==void 0?o[l]:e[l])}var l=arguments.length-2;if(l===1)n.children=r;else if(1<l){o=Array(l);for(var u=0;u<l;u++)o[u]=arguments[u+2];n.children=o}return{$$typeof:bd,type:t.type,key:i,ref:s,props:n,_owner:a}};je.createContext=function(t){return t={$$typeof:OY,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:EY,_context:t},t.Consumer=t};je.createElement=H8;je.createFactory=function(t){var e=H8.bind(null,t);return e.type=t,e};je.createRef=function(){return{current:null}};je.forwardRef=function(t){return{$$typeof:PY,render:t}};je.isValidElement=hC;je.lazy=function(t){return{$$typeof:NY,_payload:{_status:-1,_result:t},_init:$Y}};je.memo=function(t,e){return{$$typeof:TY,type:t,compare:e===void 0?null:e}};je.startTransition=function(t){var e=Uh.transition;Uh.transition={};try{t()}finally{Uh.transition=e}};je.unstable_act=V8;je.useCallback=function(t,e){return kr.current.useCallback(t,e)};je.useContext=function(t){return kr.current.useContext(t)};je.useDebugValue=function(){};je.useDeferredValue=function(t){return kr.current.useDeferredValue(t)};je.useEffect=function(t,e){return kr.current.useEffect(t,e)};je.useId=function(){return kr.current.useId()};je.useImperativeHandle=function(t,e,r){return kr.current.useImperativeHandle(t,e,r)};je.useInsertionEffect=function(t,e){return kr.current.useInsertionEffect(t,e)};je.useLayoutEffect=function(t,e){return kr.current.useLayoutEffect(t,e)};je.useMemo=function(t,e){return kr.current.useMemo(t,e)};je.useReducer=function(t,e,r){return kr.current.useReducer(t,e,r)};je.useRef=function(t){return kr.current.useRef(t)};je.useState=function(t){return kr.current.useState(t)};je.useSyncExternalStore=function(t,e,r){return kr.current.useSyncExternalStore(t,e,r)};je.useTransition=function(){return kr.current.useTransition()};je.version="18.3.1";A8.exports=je;var $=A8.exports;const Ce=bY($),DY=yY({__proto__:null,default:Ce},[$]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qY=$,MY=Symbol.for("react.element"),AY=Symbol.for("react.fragment"),FY=Object.prototype.hasOwnProperty,LY=qY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,BY={key:!0,ref:!0,__self:!0,__source:!0};function K8(t,e,r){var n,i={},s=null,a=null;r!==void 0&&(s=""+r),e.key!==void 0&&(s=""+e.key),e.ref!==void 0&&(a=e.ref);for(n in e)FY.call(e,n)&&!BY.hasOwnProperty(n)&&(i[n]=e[n]);if(t&&t.defaultProps)for(n in e=t.defaultProps,e)i[n]===void 0&&(i[n]=e[n]);return{$$typeof:MY,type:t,key:s,ref:a,props:i,_owner:LY.current}}ip.Fragment=AY;ip.jsx=K8;ip.jsxs=K8;M8.exports=ip;var c=M8.exports,yO={},G8={exports:{}},pn={},Y8={exports:{}},Q8={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(L,V){var U=L.length;L.push(V);e:for(;0<U;){var W=U-1>>>1,ee=L[W];if(0<i(ee,V))L[W]=V,L[U]=ee,U=W;else break e}}function r(L){return L.length===0?null:L[0]}function n(L){if(L.length===0)return null;var V=L[0],U=L.pop();if(U!==V){L[0]=U;e:for(var W=0,ee=L.length,fe=ee>>>1;W<fe;){var ve=2*(W+1)-1,qe=L[ve],be=ve+1,Se=L[be];if(0>i(qe,U))be<ee&&0>i(Se,qe)?(L[W]=Se,L[be]=U,W=be):(L[W]=qe,L[ve]=U,W=ve);else if(be<ee&&0>i(Se,U))L[W]=Se,L[be]=U,W=be;else break e}}return V}function i(L,V){var U=L.sortIndex-V.sortIndex;return U!==0?U:L.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var s=performance;t.unstable_now=function(){return s.now()}}else{var a=Date,o=a.now();t.unstable_now=function(){return a.now()-o}}var l=[],u=[],d=1,h=null,f=3,p=!1,m=!1,y=!1,b=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(L){for(var V=r(u);V!==null;){if(V.callback===null)n(u);else if(V.startTime<=L)n(u),V.sortIndex=V.expirationTime,e(l,V);else break;V=r(u)}}function w(L){if(y=!1,x(L),!m)if(r(l)!==null)m=!0,te(_);else{var V=r(u);V!==null&&K(w,V.startTime-L)}}function _(L,V){m=!1,y&&(y=!1,g(S),S=-1),p=!0;var U=f;try{for(x(V),h=r(l);h!==null&&(!(h.expirationTime>V)||L&&!I());){var W=h.callback;if(typeof W=="function"){h.callback=null,f=h.priorityLevel;var ee=W(h.expirationTime<=V);V=t.unstable_now(),typeof ee=="function"?h.callback=ee:h===r(l)&&n(l),x(V)}else n(l);h=r(l)}if(h!==null)var fe=!0;else{var ve=r(u);ve!==null&&K(w,ve.startTime-V),fe=!1}return fe}finally{h=null,f=U,p=!1}}var E=!1,O=null,S=-1,P=5,C=-1;function I(){return!(t.unstable_now()-C<P)}function T(){if(O!==null){var L=t.unstable_now();C=L;var V=!0;try{V=O(!0,L)}finally{V?N():(E=!1,O=null)}}else E=!1}var N;if(typeof v=="function")N=function(){v(T)};else if(typeof MessageChannel<"u"){var q=new MessageChannel,z=q.port2;q.port1.onmessage=T,N=function(){z.postMessage(null)}}else N=function(){b(T,0)};function te(L){O=L,E||(E=!0,N())}function K(L,V){S=b(function(){L(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(L){L.callback=null},t.unstable_continueExecution=function(){m||p||(m=!0,te(_))},t.unstable_forceFrameRate=function(L){0>L||125<L?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<L?Math.floor(1e3/L):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return r(l)},t.unstable_next=function(L){switch(f){case 1:case 2:case 3:var V=3;break;default:V=f}var U=f;f=V;try{return L()}finally{f=U}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(L,V){switch(L){case 1:case 2:case 3:case 4:case 5:break;default:L=3}var U=f;f=L;try{return V()}finally{f=U}},t.unstable_scheduleCallback=function(L,V,U){var W=t.unstable_now();switch(typeof U=="object"&&U!==null?(U=U.delay,U=typeof U=="number"&&0<U?W+U:W):U=W,L){case 1:var ee=-1;break;case 2:ee=250;break;case 5:ee=1073741823;break;case 4:ee=1e4;break;default:ee=5e3}return ee=U+ee,L={id:d++,callback:V,priorityLevel:L,startTime:U,expirationTime:ee,sortIndex:-1},U>W?(L.sortIndex=U,e(u,L),r(l)===null&&L===r(u)&&(y?(g(S),S=-1):y=!0,K(w,U-W))):(L.sortIndex=ee,e(l,L),m||p||(m=!0,te(_))),L},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(L){var V=f;return function(){var U=f;f=V;try{return L.apply(this,arguments)}finally{f=U}}}})(Q8);Y8.exports=Q8;var zY=Y8.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var UY=$,fn=zY;function Q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,r=1;r<arguments.length;r++)e+="&args[]="+encodeURIComponent(arguments[r]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var X8=new Set,Ic={};function yo(t,e){Al(t,e),Al(t+"Capture",e)}function Al(t,e){for(Ic[t]=e,t=0;t<e.length;t++)X8.add(e[t])}var Yi=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),bO=Object.prototype.hasOwnProperty,WY=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qN={},MN={};function HY(t){return bO.call(MN,t)?!0:bO.call(qN,t)?!1:WY.test(t)?MN[t]=!0:(qN[t]=!0,!1)}function VY(t,e,r,n){if(r!==null&&r.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return n?!1:r!==null?!r.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function KY(t,e,r,n){if(e===null||typeof e>"u"||VY(t,e,r,n))return!0;if(n)return!1;if(r!==null)switch(r.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function Dr(t,e,r,n,i,s,a){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=n,this.attributeNamespace=i,this.mustUseProperty=r,this.propertyName=t,this.type=e,this.sanitizeURL=s,this.removeEmptyString=a}var ur={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ur[t]=new Dr(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ur[e]=new Dr(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ur[t]=new Dr(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ur[t]=new Dr(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ur[t]=new Dr(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ur[t]=new Dr(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ur[t]=new Dr(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ur[t]=new Dr(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ur[t]=new Dr(t,5,!1,t.toLowerCase(),null,!1,!1)});var fC=/[\-:]([a-z])/g;function pC(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(fC,pC);ur[e]=new Dr(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(fC,pC);ur[e]=new Dr(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(fC,pC);ur[e]=new Dr(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ur[t]=new Dr(t,1,!1,t.toLowerCase(),null,!1,!1)});ur.xlinkHref=new Dr("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ur[t]=new Dr(t,1,!1,t.toLowerCase(),null,!0,!0)});function mC(t,e,r,n){var i=ur.hasOwnProperty(e)?ur[e]:null;(i!==null?i.type!==0:n||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(KY(e,r,i,n)&&(r=null),n||i===null?HY(e)&&(r===null?t.removeAttribute(e):t.setAttribute(e,""+r)):i.mustUseProperty?t[i.propertyName]=r===null?i.type===3?!1:"":r:(e=i.attributeName,n=i.attributeNamespace,r===null?t.removeAttribute(e):(i=i.type,r=i===3||i===4&&r===!0?"":""+r,n?t.setAttributeNS(n,e,r):t.setAttribute(e,r))))}var es=UY.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ph=Symbol.for("react.element"),Go=Symbol.for("react.portal"),Yo=Symbol.for("react.fragment"),vC=Symbol.for("react.strict_mode"),wO=Symbol.for("react.profiler"),J8=Symbol.for("react.provider"),Z8=Symbol.for("react.context"),gC=Symbol.for("react.forward_ref"),xO=Symbol.for("react.suspense"),_O=Symbol.for("react.suspense_list"),yC=Symbol.for("react.memo"),ms=Symbol.for("react.lazy"),eH=Symbol.for("react.offscreen"),AN=Symbol.iterator;function Uu(t){return t===null||typeof t!="object"?null:(t=AN&&t[AN]||t["@@iterator"],typeof t=="function"?t:null)}var mt=Object.assign,pm;function sc(t){if(pm===void 0)try{throw Error()}catch(r){var e=r.stack.trim().match(/\n( *(at )?)/);pm=e&&e[1]||""}return`
`+pm+t}var mm=!1;function vm(t,e){if(!t||mm)return"";mm=!0;var r=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(u){var n=u}Reflect.construct(t,[],e)}else{try{e.call()}catch(u){n=u}t.call(e.prototype)}else{try{throw Error()}catch(u){n=u}t()}}catch(u){if(u&&n&&typeof u.stack=="string"){for(var i=u.stack.split(`
`),s=n.stack.split(`
`),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(a!==1||o!==1)do if(a--,o--,0>o||i[a]!==s[o]){var l=`
`+i[a].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=a&&0<=o);break}}}finally{mm=!1,Error.prepareStackTrace=r}return(t=t?t.displayName||t.name:"")?sc(t):""}function GY(t){switch(t.tag){case 5:return sc(t.type);case 16:return sc("Lazy");case 13:return sc("Suspense");case 19:return sc("SuspenseList");case 0:case 2:case 15:return t=vm(t.type,!1),t;case 11:return t=vm(t.type.render,!1),t;case 1:return t=vm(t.type,!0),t;default:return""}}function SO(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Yo:return"Fragment";case Go:return"Portal";case wO:return"Profiler";case vC:return"StrictMode";case xO:return"Suspense";case _O:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Z8:return(t.displayName||"Context")+".Consumer";case J8:return(t._context.displayName||"Context")+".Provider";case gC:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case yC:return e=t.displayName||null,e!==null?e:SO(t.type)||"Memo";case ms:e=t._payload,t=t._init;try{return SO(t(e))}catch{}}return null}function YY(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return SO(e);case 8:return e===vC?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Zs(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function tH(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function QY(t){var e=tH(t)?"checked":"value",r=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),n=""+t[e];if(!t.hasOwnProperty(e)&&typeof r<"u"&&typeof r.get=="function"&&typeof r.set=="function"){var i=r.get,s=r.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return i.call(this)},set:function(a){n=""+a,s.call(this,a)}}),Object.defineProperty(t,e,{enumerable:r.enumerable}),{getValue:function(){return n},setValue:function(a){n=""+a},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function mh(t){t._valueTracker||(t._valueTracker=QY(t))}function rH(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var r=e.getValue(),n="";return t&&(n=tH(t)?t.checked?"true":"false":t.value),t=n,t!==r?(e.setValue(t),!0):!1}function cf(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function EO(t,e){var r=e.checked;return mt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:r??t._wrapperState.initialChecked})}function FN(t,e){var r=e.defaultValue==null?"":e.defaultValue,n=e.checked!=null?e.checked:e.defaultChecked;r=Zs(e.value!=null?e.value:r),t._wrapperState={initialChecked:n,initialValue:r,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function nH(t,e){e=e.checked,e!=null&&mC(t,"checked",e,!1)}function OO(t,e){nH(t,e);var r=Zs(e.value),n=e.type;if(r!=null)n==="number"?(r===0&&t.value===""||t.value!=r)&&(t.value=""+r):t.value!==""+r&&(t.value=""+r);else if(n==="submit"||n==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?PO(t,e.type,r):e.hasOwnProperty("defaultValue")&&PO(t,e.type,Zs(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function LN(t,e,r){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var n=e.type;if(!(n!=="submit"&&n!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,r||e===t.value||(t.value=e),t.defaultValue=e}r=t.name,r!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,r!==""&&(t.name=r)}function PO(t,e,r){(e!=="number"||cf(t.ownerDocument)!==t)&&(r==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+r&&(t.defaultValue=""+r))}var ac=Array.isArray;function hl(t,e,r,n){if(t=t.options,e){e={};for(var i=0;i<r.length;i++)e["$"+r[i]]=!0;for(r=0;r<t.length;r++)i=e.hasOwnProperty("$"+t[r].value),t[r].selected!==i&&(t[r].selected=i),i&&n&&(t[r].defaultSelected=!0)}else{for(r=""+Zs(r),e=null,i=0;i<t.length;i++){if(t[i].value===r){t[i].selected=!0,n&&(t[i].defaultSelected=!0);return}e!==null||t[i].disabled||(e=t[i])}e!==null&&(e.selected=!0)}}function CO(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(Q(91));return mt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function BN(t,e){var r=e.value;if(r==null){if(r=e.children,e=e.defaultValue,r!=null){if(e!=null)throw Error(Q(92));if(ac(r)){if(1<r.length)throw Error(Q(93));r=r[0]}e=r}e==null&&(e=""),r=e}t._wrapperState={initialValue:Zs(r)}}function iH(t,e){var r=Zs(e.value),n=Zs(e.defaultValue);r!=null&&(r=""+r,r!==t.value&&(t.value=r),e.defaultValue==null&&t.defaultValue!==r&&(t.defaultValue=r)),n!=null&&(t.defaultValue=""+n)}function zN(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function sH(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function TO(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?sH(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vh,aH=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,r,n,i){MSApp.execUnsafeLocalFunction(function(){return t(e,r,n,i)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vh=vh||document.createElement("div"),vh.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vh.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Rc(t,e){if(e){var r=t.firstChild;if(r&&r===t.lastChild&&r.nodeType===3){r.nodeValue=e;return}}t.textContent=e}var hc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},XY=["Webkit","ms","Moz","O"];Object.keys(hc).forEach(function(t){XY.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),hc[e]=hc[t]})});function oH(t,e,r){return e==null||typeof e=="boolean"||e===""?"":r||typeof e!="number"||e===0||hc.hasOwnProperty(t)&&hc[t]?(""+e).trim():e+"px"}function lH(t,e){t=t.style;for(var r in e)if(e.hasOwnProperty(r)){var n=r.indexOf("--")===0,i=oH(r,e[r],n);r==="float"&&(r="cssFloat"),n?t.setProperty(r,i):t[r]=i}}var JY=mt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function NO(t,e){if(e){if(JY[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(Q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(Q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(Q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(Q(62))}}function IO(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var RO=null;function bC(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var jO=null,fl=null,pl=null;function UN(t){if(t=_d(t)){if(typeof jO!="function")throw Error(Q(280));var e=t.stateNode;e&&(e=up(e),jO(t.stateNode,t.type,e))}}function uH(t){fl?pl?pl.push(t):pl=[t]:fl=t}function cH(){if(fl){var t=fl,e=pl;if(pl=fl=null,UN(t),e)for(t=0;t<e.length;t++)UN(e[t])}}function dH(t,e){return t(e)}function hH(){}var gm=!1;function fH(t,e,r){if(gm)return t(e,r);gm=!0;try{return dH(t,e,r)}finally{gm=!1,(fl!==null||pl!==null)&&(hH(),cH())}}function jc(t,e){var r=t.stateNode;if(r===null)return null;var n=up(r);if(n===null)return null;r=n[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(n=!n.disabled)||(t=t.type,n=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!n;break e;default:t=!1}if(t)return null;if(r&&typeof r!="function")throw Error(Q(231,e,typeof r));return r}var $O=!1;if(Yi)try{var Wu={};Object.defineProperty(Wu,"passive",{get:function(){$O=!0}}),window.addEventListener("test",Wu,Wu),window.removeEventListener("test",Wu,Wu)}catch{$O=!1}function ZY(t,e,r,n,i,s,a,o,l){var u=Array.prototype.slice.call(arguments,3);try{e.apply(r,u)}catch(d){this.onError(d)}}var fc=!1,df=null,hf=!1,kO=null,eQ={onError:function(t){fc=!0,df=t}};function tQ(t,e,r,n,i,s,a,o,l){fc=!1,df=null,ZY.apply(eQ,arguments)}function rQ(t,e,r,n,i,s,a,o,l){if(tQ.apply(this,arguments),fc){if(fc){var u=df;fc=!1,df=null}else throw Error(Q(198));hf||(hf=!0,kO=u)}}function bo(t){var e=t,r=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(r=e.return),t=e.return;while(t)}return e.tag===3?r:null}function pH(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function WN(t){if(bo(t)!==t)throw Error(Q(188))}function nQ(t){var e=t.alternate;if(!e){if(e=bo(t),e===null)throw Error(Q(188));return e!==t?null:t}for(var r=t,n=e;;){var i=r.return;if(i===null)break;var s=i.alternate;if(s===null){if(n=i.return,n!==null){r=n;continue}break}if(i.child===s.child){for(s=i.child;s;){if(s===r)return WN(i),t;if(s===n)return WN(i),e;s=s.sibling}throw Error(Q(188))}if(r.return!==n.return)r=i,n=s;else{for(var a=!1,o=i.child;o;){if(o===r){a=!0,r=i,n=s;break}if(o===n){a=!0,n=i,r=s;break}o=o.sibling}if(!a){for(o=s.child;o;){if(o===r){a=!0,r=s,n=i;break}if(o===n){a=!0,n=s,r=i;break}o=o.sibling}if(!a)throw Error(Q(189))}}if(r.alternate!==n)throw Error(Q(190))}if(r.tag!==3)throw Error(Q(188));return r.stateNode.current===r?t:e}function mH(t){return t=nQ(t),t!==null?vH(t):null}function vH(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=vH(t);if(e!==null)return e;t=t.sibling}return null}var gH=fn.unstable_scheduleCallback,HN=fn.unstable_cancelCallback,iQ=fn.unstable_shouldYield,sQ=fn.unstable_requestPaint,Ot=fn.unstable_now,aQ=fn.unstable_getCurrentPriorityLevel,wC=fn.unstable_ImmediatePriority,yH=fn.unstable_UserBlockingPriority,ff=fn.unstable_NormalPriority,oQ=fn.unstable_LowPriority,bH=fn.unstable_IdlePriority,sp=null,yi=null;function lQ(t){if(yi&&typeof yi.onCommitFiberRoot=="function")try{yi.onCommitFiberRoot(sp,t,void 0,(t.current.flags&128)===128)}catch{}}var Yn=Math.clz32?Math.clz32:dQ,uQ=Math.log,cQ=Math.LN2;function dQ(t){return t>>>=0,t===0?32:31-(uQ(t)/cQ|0)|0}var gh=64,yh=4194304;function oc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function pf(t,e){var r=t.pendingLanes;if(r===0)return 0;var n=0,i=t.suspendedLanes,s=t.pingedLanes,a=r&268435455;if(a!==0){var o=a&~i;o!==0?n=oc(o):(s&=a,s!==0&&(n=oc(s)))}else a=r&~i,a!==0?n=oc(a):s!==0&&(n=oc(s));if(n===0)return 0;if(e!==0&&e!==n&&!(e&i)&&(i=n&-n,s=e&-e,i>=s||i===16&&(s&4194240)!==0))return e;if(n&4&&(n|=r&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=n;0<e;)r=31-Yn(e),i=1<<r,n|=t[r],e&=~i;return n}function hQ(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function fQ(t,e){for(var r=t.suspendedLanes,n=t.pingedLanes,i=t.expirationTimes,s=t.pendingLanes;0<s;){var a=31-Yn(s),o=1<<a,l=i[a];l===-1?(!(o&r)||o&n)&&(i[a]=hQ(o,e)):l<=e&&(t.expiredLanes|=o),s&=~o}}function DO(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function wH(){var t=gh;return gh<<=1,!(gh&4194240)&&(gh=64),t}function ym(t){for(var e=[],r=0;31>r;r++)e.push(t);return e}function wd(t,e,r){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Yn(e),t[e]=r}function pQ(t,e){var r=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var n=t.eventTimes;for(t=t.expirationTimes;0<r;){var i=31-Yn(r),s=1<<i;e[i]=0,n[i]=-1,t[i]=-1,r&=~s}}function xC(t,e){var r=t.entangledLanes|=e;for(t=t.entanglements;r;){var n=31-Yn(r),i=1<<n;i&e|t[n]&e&&(t[n]|=e),r&=~i}}var We=0;function xH(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var _H,_C,SH,EH,OH,qO=!1,bh=[],Ms=null,As=null,Fs=null,$c=new Map,kc=new Map,ws=[],mQ="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function VN(t,e){switch(t){case"focusin":case"focusout":Ms=null;break;case"dragenter":case"dragleave":As=null;break;case"mouseover":case"mouseout":Fs=null;break;case"pointerover":case"pointerout":$c.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Hu(t,e,r,n,i,s){return t===null||t.nativeEvent!==s?(t={blockedOn:e,domEventName:r,eventSystemFlags:n,nativeEvent:s,targetContainers:[i]},e!==null&&(e=_d(e),e!==null&&_C(e)),t):(t.eventSystemFlags|=n,e=t.targetContainers,i!==null&&e.indexOf(i)===-1&&e.push(i),t)}function vQ(t,e,r,n,i){switch(e){case"focusin":return Ms=Hu(Ms,t,e,r,n,i),!0;case"dragenter":return As=Hu(As,t,e,r,n,i),!0;case"mouseover":return Fs=Hu(Fs,t,e,r,n,i),!0;case"pointerover":var s=i.pointerId;return $c.set(s,Hu($c.get(s)||null,t,e,r,n,i)),!0;case"gotpointercapture":return s=i.pointerId,kc.set(s,Hu(kc.get(s)||null,t,e,r,n,i)),!0}return!1}function PH(t){var e=Sa(t.target);if(e!==null){var r=bo(e);if(r!==null){if(e=r.tag,e===13){if(e=pH(r),e!==null){t.blockedOn=e,OH(t.priority,function(){SH(r)});return}}else if(e===3&&r.stateNode.current.memoizedState.isDehydrated){t.blockedOn=r.tag===3?r.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Wh(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var r=MO(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(r===null){r=t.nativeEvent;var n=new r.constructor(r.type,r);RO=n,r.target.dispatchEvent(n),RO=null}else return e=_d(r),e!==null&&_C(e),t.blockedOn=r,!1;e.shift()}return!0}function KN(t,e,r){Wh(t)&&r.delete(e)}function gQ(){qO=!1,Ms!==null&&Wh(Ms)&&(Ms=null),As!==null&&Wh(As)&&(As=null),Fs!==null&&Wh(Fs)&&(Fs=null),$c.forEach(KN),kc.forEach(KN)}function Vu(t,e){t.blockedOn===e&&(t.blockedOn=null,qO||(qO=!0,fn.unstable_scheduleCallback(fn.unstable_NormalPriority,gQ)))}function Dc(t){function e(i){return Vu(i,t)}if(0<bh.length){Vu(bh[0],t);for(var r=1;r<bh.length;r++){var n=bh[r];n.blockedOn===t&&(n.blockedOn=null)}}for(Ms!==null&&Vu(Ms,t),As!==null&&Vu(As,t),Fs!==null&&Vu(Fs,t),$c.forEach(e),kc.forEach(e),r=0;r<ws.length;r++)n=ws[r],n.blockedOn===t&&(n.blockedOn=null);for(;0<ws.length&&(r=ws[0],r.blockedOn===null);)PH(r),r.blockedOn===null&&ws.shift()}var ml=es.ReactCurrentBatchConfig,mf=!0;function yQ(t,e,r,n){var i=We,s=ml.transition;ml.transition=null;try{We=1,SC(t,e,r,n)}finally{We=i,ml.transition=s}}function bQ(t,e,r,n){var i=We,s=ml.transition;ml.transition=null;try{We=4,SC(t,e,r,n)}finally{We=i,ml.transition=s}}function SC(t,e,r,n){if(mf){var i=MO(t,e,r,n);if(i===null)Tm(t,e,n,vf,r),VN(t,n);else if(vQ(i,t,e,r,n))n.stopPropagation();else if(VN(t,n),e&4&&-1<mQ.indexOf(t)){for(;i!==null;){var s=_d(i);if(s!==null&&_H(s),s=MO(t,e,r,n),s===null&&Tm(t,e,n,vf,r),s===i)break;i=s}i!==null&&n.stopPropagation()}else Tm(t,e,n,null,r)}}var vf=null;function MO(t,e,r,n){if(vf=null,t=bC(n),t=Sa(t),t!==null)if(e=bo(t),e===null)t=null;else if(r=e.tag,r===13){if(t=pH(e),t!==null)return t;t=null}else if(r===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return vf=t,null}function CH(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(aQ()){case wC:return 1;case yH:return 4;case ff:case oQ:return 16;case bH:return 536870912;default:return 16}default:return 16}}var $s=null,EC=null,Hh=null;function TH(){if(Hh)return Hh;var t,e=EC,r=e.length,n,i="value"in $s?$s.value:$s.textContent,s=i.length;for(t=0;t<r&&e[t]===i[t];t++);var a=r-t;for(n=1;n<=a&&e[r-n]===i[s-n];n++);return Hh=i.slice(t,1<n?1-n:void 0)}function Vh(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function wh(){return!0}function GN(){return!1}function mn(t){function e(r,n,i,s,a){this._reactName=r,this._targetInst=i,this.type=n,this.nativeEvent=s,this.target=a,this.currentTarget=null;for(var o in t)t.hasOwnProperty(o)&&(r=t[o],this[o]=r?r(s):s[o]);return this.isDefaultPrevented=(s.defaultPrevented!=null?s.defaultPrevented:s.returnValue===!1)?wh:GN,this.isPropagationStopped=GN,this}return mt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var r=this.nativeEvent;r&&(r.preventDefault?r.preventDefault():typeof r.returnValue!="unknown"&&(r.returnValue=!1),this.isDefaultPrevented=wh)},stopPropagation:function(){var r=this.nativeEvent;r&&(r.stopPropagation?r.stopPropagation():typeof r.cancelBubble!="unknown"&&(r.cancelBubble=!0),this.isPropagationStopped=wh)},persist:function(){},isPersistent:wh}),e}var lu={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},OC=mn(lu),xd=mt({},lu,{view:0,detail:0}),wQ=mn(xd),bm,wm,Ku,ap=mt({},xd,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:PC,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Ku&&(Ku&&t.type==="mousemove"?(bm=t.screenX-Ku.screenX,wm=t.screenY-Ku.screenY):wm=bm=0,Ku=t),bm)},movementY:function(t){return"movementY"in t?t.movementY:wm}}),YN=mn(ap),xQ=mt({},ap,{dataTransfer:0}),_Q=mn(xQ),SQ=mt({},xd,{relatedTarget:0}),xm=mn(SQ),EQ=mt({},lu,{animationName:0,elapsedTime:0,pseudoElement:0}),OQ=mn(EQ),PQ=mt({},lu,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),CQ=mn(PQ),TQ=mt({},lu,{data:0}),QN=mn(TQ),NQ={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},IQ={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},RQ={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function jQ(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=RQ[t])?!!e[t]:!1}function PC(){return jQ}var $Q=mt({},xd,{key:function(t){if(t.key){var e=NQ[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Vh(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?IQ[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:PC,charCode:function(t){return t.type==="keypress"?Vh(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Vh(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),kQ=mn($Q),DQ=mt({},ap,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),XN=mn(DQ),qQ=mt({},xd,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:PC}),MQ=mn(qQ),AQ=mt({},lu,{propertyName:0,elapsedTime:0,pseudoElement:0}),FQ=mn(AQ),LQ=mt({},ap,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),BQ=mn(LQ),zQ=[9,13,27,32],CC=Yi&&"CompositionEvent"in window,pc=null;Yi&&"documentMode"in document&&(pc=document.documentMode);var UQ=Yi&&"TextEvent"in window&&!pc,NH=Yi&&(!CC||pc&&8<pc&&11>=pc),JN=" ",ZN=!1;function IH(t,e){switch(t){case"keyup":return zQ.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function RH(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var Qo=!1;function WQ(t,e){switch(t){case"compositionend":return RH(e);case"keypress":return e.which!==32?null:(ZN=!0,JN);case"textInput":return t=e.data,t===JN&&ZN?null:t;default:return null}}function HQ(t,e){if(Qo)return t==="compositionend"||!CC&&IH(t,e)?(t=TH(),Hh=EC=$s=null,Qo=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return NH&&e.locale!=="ko"?null:e.data;default:return null}}var VQ={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function eI(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!VQ[t.type]:e==="textarea"}function jH(t,e,r,n){uH(n),e=gf(e,"onChange"),0<e.length&&(r=new OC("onChange","change",null,r,n),t.push({event:r,listeners:e}))}var mc=null,qc=null;function KQ(t){UH(t,0)}function op(t){var e=Zo(t);if(rH(e))return t}function GQ(t,e){if(t==="change")return e}var $H=!1;if(Yi){var _m;if(Yi){var Sm="oninput"in document;if(!Sm){var tI=document.createElement("div");tI.setAttribute("oninput","return;"),Sm=typeof tI.oninput=="function"}_m=Sm}else _m=!1;$H=_m&&(!document.documentMode||9<document.documentMode)}function rI(){mc&&(mc.detachEvent("onpropertychange",kH),qc=mc=null)}function kH(t){if(t.propertyName==="value"&&op(qc)){var e=[];jH(e,qc,t,bC(t)),fH(KQ,e)}}function YQ(t,e,r){t==="focusin"?(rI(),mc=e,qc=r,mc.attachEvent("onpropertychange",kH)):t==="focusout"&&rI()}function QQ(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return op(qc)}function XQ(t,e){if(t==="click")return op(e)}function JQ(t,e){if(t==="input"||t==="change")return op(e)}function ZQ(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Xn=typeof Object.is=="function"?Object.is:ZQ;function Mc(t,e){if(Xn(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var r=Object.keys(t),n=Object.keys(e);if(r.length!==n.length)return!1;for(n=0;n<r.length;n++){var i=r[n];if(!bO.call(e,i)||!Xn(t[i],e[i]))return!1}return!0}function nI(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function iI(t,e){var r=nI(t);t=0;for(var n;r;){if(r.nodeType===3){if(n=t+r.textContent.length,t<=e&&n>=e)return{node:r,offset:e-t};t=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=nI(r)}}function DH(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?DH(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function qH(){for(var t=window,e=cf();e instanceof t.HTMLIFrameElement;){try{var r=typeof e.contentWindow.location.href=="string"}catch{r=!1}if(r)t=e.contentWindow;else break;e=cf(t.document)}return e}function TC(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function eX(t){var e=qH(),r=t.focusedElem,n=t.selectionRange;if(e!==r&&r&&r.ownerDocument&&DH(r.ownerDocument.documentElement,r)){if(n!==null&&TC(r)){if(e=n.start,t=n.end,t===void 0&&(t=e),"selectionStart"in r)r.selectionStart=e,r.selectionEnd=Math.min(t,r.value.length);else if(t=(e=r.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var i=r.textContent.length,s=Math.min(n.start,i);n=n.end===void 0?s:Math.min(n.end,i),!t.extend&&s>n&&(i=n,n=s,s=i),i=iI(r,s);var a=iI(r,n);i&&a&&(t.rangeCount!==1||t.anchorNode!==i.node||t.anchorOffset!==i.offset||t.focusNode!==a.node||t.focusOffset!==a.offset)&&(e=e.createRange(),e.setStart(i.node,i.offset),t.removeAllRanges(),s>n?(t.addRange(e),t.extend(a.node,a.offset)):(e.setEnd(a.node,a.offset),t.addRange(e)))}}for(e=[],t=r;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof r.focus=="function"&&r.focus(),r=0;r<e.length;r++)t=e[r],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var tX=Yi&&"documentMode"in document&&11>=document.documentMode,Xo=null,AO=null,vc=null,FO=!1;function sI(t,e,r){var n=r.window===r?r.document:r.nodeType===9?r:r.ownerDocument;FO||Xo==null||Xo!==cf(n)||(n=Xo,"selectionStart"in n&&TC(n)?n={start:n.selectionStart,end:n.selectionEnd}:(n=(n.ownerDocument&&n.ownerDocument.defaultView||window).getSelection(),n={anchorNode:n.anchorNode,anchorOffset:n.anchorOffset,focusNode:n.focusNode,focusOffset:n.focusOffset}),vc&&Mc(vc,n)||(vc=n,n=gf(AO,"onSelect"),0<n.length&&(e=new OC("onSelect","select",null,e,r),t.push({event:e,listeners:n}),e.target=Xo)))}function xh(t,e){var r={};return r[t.toLowerCase()]=e.toLowerCase(),r["Webkit"+t]="webkit"+e,r["Moz"+t]="moz"+e,r}var Jo={animationend:xh("Animation","AnimationEnd"),animationiteration:xh("Animation","AnimationIteration"),animationstart:xh("Animation","AnimationStart"),transitionend:xh("Transition","TransitionEnd")},Em={},MH={};Yi&&(MH=document.createElement("div").style,"AnimationEvent"in window||(delete Jo.animationend.animation,delete Jo.animationiteration.animation,delete Jo.animationstart.animation),"TransitionEvent"in window||delete Jo.transitionend.transition);function lp(t){if(Em[t])return Em[t];if(!Jo[t])return t;var e=Jo[t],r;for(r in e)if(e.hasOwnProperty(r)&&r in MH)return Em[t]=e[r];return t}var AH=lp("animationend"),FH=lp("animationiteration"),LH=lp("animationstart"),BH=lp("transitionend"),zH=new Map,aI="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function aa(t,e){zH.set(t,e),yo(e,[t])}for(var Om=0;Om<aI.length;Om++){var Pm=aI[Om],rX=Pm.toLowerCase(),nX=Pm[0].toUpperCase()+Pm.slice(1);aa(rX,"on"+nX)}aa(AH,"onAnimationEnd");aa(FH,"onAnimationIteration");aa(LH,"onAnimationStart");aa("dblclick","onDoubleClick");aa("focusin","onFocus");aa("focusout","onBlur");aa(BH,"onTransitionEnd");Al("onMouseEnter",["mouseout","mouseover"]);Al("onMouseLeave",["mouseout","mouseover"]);Al("onPointerEnter",["pointerout","pointerover"]);Al("onPointerLeave",["pointerout","pointerover"]);yo("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));yo("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));yo("onBeforeInput",["compositionend","keypress","textInput","paste"]);yo("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));yo("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var lc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),iX=new Set("cancel close invalid load scroll toggle".split(" ").concat(lc));function oI(t,e,r){var n=t.type||"unknown-event";t.currentTarget=r,rQ(n,e,void 0,t),t.currentTarget=null}function UH(t,e){e=(e&4)!==0;for(var r=0;r<t.length;r++){var n=t[r],i=n.event;n=n.listeners;e:{var s=void 0;if(e)for(var a=n.length-1;0<=a;a--){var o=n[a],l=o.instance,u=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;oI(i,o,u),s=l}else for(a=0;a<n.length;a++){if(o=n[a],l=o.instance,u=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;oI(i,o,u),s=l}}}if(hf)throw t=kO,hf=!1,kO=null,t}function it(t,e){var r=e[WO];r===void 0&&(r=e[WO]=new Set);var n=t+"__bubble";r.has(n)||(WH(e,t,2,!1),r.add(n))}function Cm(t,e,r){var n=0;e&&(n|=4),WH(r,t,n,e)}var _h="_reactListening"+Math.random().toString(36).slice(2);function Ac(t){if(!t[_h]){t[_h]=!0,X8.forEach(function(r){r!=="selectionchange"&&(iX.has(r)||Cm(r,!1,t),Cm(r,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[_h]||(e[_h]=!0,Cm("selectionchange",!1,e))}}function WH(t,e,r,n){switch(CH(e)){case 1:var i=yQ;break;case 4:i=bQ;break;default:i=SC}r=i.bind(null,e,r,t),i=void 0,!$O||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(i=!0),n?i!==void 0?t.addEventListener(e,r,{capture:!0,passive:i}):t.addEventListener(e,r,!0):i!==void 0?t.addEventListener(e,r,{passive:i}):t.addEventListener(e,r,!1)}function Tm(t,e,r,n,i){var s=n;if(!(e&1)&&!(e&2)&&n!==null)e:for(;;){if(n===null)return;var a=n.tag;if(a===3||a===4){var o=n.stateNode.containerInfo;if(o===i||o.nodeType===8&&o.parentNode===i)break;if(a===4)for(a=n.return;a!==null;){var l=a.tag;if((l===3||l===4)&&(l=a.stateNode.containerInfo,l===i||l.nodeType===8&&l.parentNode===i))return;a=a.return}for(;o!==null;){if(a=Sa(o),a===null)return;if(l=a.tag,l===5||l===6){n=s=a;continue e}o=o.parentNode}}n=n.return}fH(function(){var u=s,d=bC(r),h=[];e:{var f=zH.get(t);if(f!==void 0){var p=OC,m=t;switch(t){case"keypress":if(Vh(r)===0)break e;case"keydown":case"keyup":p=kQ;break;case"focusin":m="focus",p=xm;break;case"focusout":m="blur",p=xm;break;case"beforeblur":case"afterblur":p=xm;break;case"click":if(r.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":p=YN;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":p=_Q;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":p=MQ;break;case AH:case FH:case LH:p=OQ;break;case BH:p=FQ;break;case"scroll":p=wQ;break;case"wheel":p=BQ;break;case"copy":case"cut":case"paste":p=CQ;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":p=XN}var y=(e&4)!==0,b=!y&&t==="scroll",g=y?f!==null?f+"Capture":null:f;y=[];for(var v=u,x;v!==null;){x=v;var w=x.stateNode;if(x.tag===5&&w!==null&&(x=w,g!==null&&(w=jc(v,g),w!=null&&y.push(Fc(v,w,x)))),b)break;v=v.return}0<y.length&&(f=new p(f,m,null,r,d),h.push({event:f,listeners:y}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",p=t==="mouseout"||t==="pointerout",f&&r!==RO&&(m=r.relatedTarget||r.fromElement)&&(Sa(m)||m[Qi]))break e;if((p||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,p?(m=r.relatedTarget||r.toElement,p=u,m=m?Sa(m):null,m!==null&&(b=bo(m),m!==b||m.tag!==5&&m.tag!==6)&&(m=null)):(p=null,m=u),p!==m)){if(y=YN,w="onMouseLeave",g="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(y=XN,w="onPointerLeave",g="onPointerEnter",v="pointer"),b=p==null?f:Zo(p),x=m==null?f:Zo(m),f=new y(w,v+"leave",p,r,d),f.target=b,f.relatedTarget=x,w=null,Sa(d)===u&&(y=new y(g,v+"enter",m,r,d),y.target=x,y.relatedTarget=b,w=y),b=w,p&&m)t:{for(y=p,g=m,v=0,x=y;x;x=Lo(x))v++;for(x=0,w=g;w;w=Lo(w))x++;for(;0<v-x;)y=Lo(y),v--;for(;0<x-v;)g=Lo(g),x--;for(;v--;){if(y===g||g!==null&&y===g.alternate)break t;y=Lo(y),g=Lo(g)}y=null}else y=null;p!==null&&lI(h,f,p,y,!1),m!==null&&b!==null&&lI(h,b,m,y,!0)}}e:{if(f=u?Zo(u):window,p=f.nodeName&&f.nodeName.toLowerCase(),p==="select"||p==="input"&&f.type==="file")var _=GQ;else if(eI(f))if($H)_=JQ;else{_=QQ;var E=YQ}else(p=f.nodeName)&&p.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(_=XQ);if(_&&(_=_(t,u))){jH(h,_,r,d);break e}E&&E(t,f,u),t==="focusout"&&(E=f._wrapperState)&&E.controlled&&f.type==="number"&&PO(f,"number",f.value)}switch(E=u?Zo(u):window,t){case"focusin":(eI(E)||E.contentEditable==="true")&&(Xo=E,AO=u,vc=null);break;case"focusout":vc=AO=Xo=null;break;case"mousedown":FO=!0;break;case"contextmenu":case"mouseup":case"dragend":FO=!1,sI(h,r,d);break;case"selectionchange":if(tX)break;case"keydown":case"keyup":sI(h,r,d)}var O;if(CC)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else Qo?IH(t,r)&&(S="onCompositionEnd"):t==="keydown"&&r.keyCode===229&&(S="onCompositionStart");S&&(NH&&r.locale!=="ko"&&(Qo||S!=="onCompositionStart"?S==="onCompositionEnd"&&Qo&&(O=TH()):($s=d,EC="value"in $s?$s.value:$s.textContent,Qo=!0)),E=gf(u,S),0<E.length&&(S=new QN(S,t,null,r,d),h.push({event:S,listeners:E}),O?S.data=O:(O=RH(r),O!==null&&(S.data=O)))),(O=UQ?WQ(t,r):HQ(t,r))&&(u=gf(u,"onBeforeInput"),0<u.length&&(d=new QN("onBeforeInput","beforeinput",null,r,d),h.push({event:d,listeners:u}),d.data=O))}UH(h,e)})}function Fc(t,e,r){return{instance:t,listener:e,currentTarget:r}}function gf(t,e){for(var r=e+"Capture",n=[];t!==null;){var i=t,s=i.stateNode;i.tag===5&&s!==null&&(i=s,s=jc(t,r),s!=null&&n.unshift(Fc(t,s,i)),s=jc(t,e),s!=null&&n.push(Fc(t,s,i))),t=t.return}return n}function Lo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function lI(t,e,r,n,i){for(var s=e._reactName,a=[];r!==null&&r!==n;){var o=r,l=o.alternate,u=o.stateNode;if(l!==null&&l===n)break;o.tag===5&&u!==null&&(o=u,i?(l=jc(r,s),l!=null&&a.unshift(Fc(r,l,o))):i||(l=jc(r,s),l!=null&&a.push(Fc(r,l,o)))),r=r.return}a.length!==0&&t.push({event:e,listeners:a})}var sX=/\r\n?/g,aX=/\u0000|\uFFFD/g;function uI(t){return(typeof t=="string"?t:""+t).replace(sX,`
`).replace(aX,"")}function Sh(t,e,r){if(e=uI(e),uI(t)!==e&&r)throw Error(Q(425))}function yf(){}var LO=null,BO=null;function zO(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var UO=typeof setTimeout=="function"?setTimeout:void 0,oX=typeof clearTimeout=="function"?clearTimeout:void 0,cI=typeof Promise=="function"?Promise:void 0,lX=typeof queueMicrotask=="function"?queueMicrotask:typeof cI<"u"?function(t){return cI.resolve(null).then(t).catch(uX)}:UO;function uX(t){setTimeout(function(){throw t})}function Nm(t,e){var r=e,n=0;do{var i=r.nextSibling;if(t.removeChild(r),i&&i.nodeType===8)if(r=i.data,r==="/$"){if(n===0){t.removeChild(i),Dc(e);return}n--}else r!=="$"&&r!=="$?"&&r!=="$!"||n++;r=i}while(r);Dc(e)}function Ls(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function dI(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="$"||r==="$!"||r==="$?"){if(e===0)return t;e--}else r==="/$"&&e++}t=t.previousSibling}return null}var uu=Math.random().toString(36).slice(2),fi="__reactFiber$"+uu,Lc="__reactProps$"+uu,Qi="__reactContainer$"+uu,WO="__reactEvents$"+uu,cX="__reactListeners$"+uu,dX="__reactHandles$"+uu;function Sa(t){var e=t[fi];if(e)return e;for(var r=t.parentNode;r;){if(e=r[Qi]||r[fi]){if(r=e.alternate,e.child!==null||r!==null&&r.child!==null)for(t=dI(t);t!==null;){if(r=t[fi])return r;t=dI(t)}return e}t=r,r=t.parentNode}return null}function _d(t){return t=t[fi]||t[Qi],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Zo(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(Q(33))}function up(t){return t[Lc]||null}var HO=[],el=-1;function oa(t){return{current:t}}function st(t){0>el||(t.current=HO[el],HO[el]=null,el--)}function rt(t,e){el++,HO[el]=t.current,t.current=e}var ea={},xr=oa(ea),Vr=oa(!1),Ja=ea;function Fl(t,e){var r=t.type.contextTypes;if(!r)return ea;var n=t.stateNode;if(n&&n.__reactInternalMemoizedUnmaskedChildContext===e)return n.__reactInternalMemoizedMaskedChildContext;var i={},s;for(s in r)i[s]=e[s];return n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=i),i}function Kr(t){return t=t.childContextTypes,t!=null}function bf(){st(Vr),st(xr)}function hI(t,e,r){if(xr.current!==ea)throw Error(Q(168));rt(xr,e),rt(Vr,r)}function HH(t,e,r){var n=t.stateNode;if(e=e.childContextTypes,typeof n.getChildContext!="function")return r;n=n.getChildContext();for(var i in n)if(!(i in e))throw Error(Q(108,YY(t)||"Unknown",i));return mt({},r,n)}function wf(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||ea,Ja=xr.current,rt(xr,t),rt(Vr,Vr.current),!0}function fI(t,e,r){var n=t.stateNode;if(!n)throw Error(Q(169));r?(t=HH(t,e,Ja),n.__reactInternalMemoizedMergedChildContext=t,st(Vr),st(xr),rt(xr,t)):st(Vr),rt(Vr,r)}var Ni=null,cp=!1,Im=!1;function VH(t){Ni===null?Ni=[t]:Ni.push(t)}function hX(t){cp=!0,VH(t)}function la(){if(!Im&&Ni!==null){Im=!0;var t=0,e=We;try{var r=Ni;for(We=1;t<r.length;t++){var n=r[t];do n=n(!0);while(n!==null)}Ni=null,cp=!1}catch(i){throw Ni!==null&&(Ni=Ni.slice(t+1)),gH(wC,la),i}finally{We=e,Im=!1}}return null}var tl=[],rl=0,xf=null,_f=0,Sn=[],En=0,Za=null,ki=1,Di="";function wa(t,e){tl[rl++]=_f,tl[rl++]=xf,xf=t,_f=e}function KH(t,e,r){Sn[En++]=ki,Sn[En++]=Di,Sn[En++]=Za,Za=t;var n=ki;t=Di;var i=32-Yn(n)-1;n&=~(1<<i),r+=1;var s=32-Yn(e)+i;if(30<s){var a=i-i%5;s=(n&(1<<a)-1).toString(32),n>>=a,i-=a,ki=1<<32-Yn(e)+i|r<<i|n,Di=s+t}else ki=1<<s|r<<i|n,Di=t}function NC(t){t.return!==null&&(wa(t,1),KH(t,1,0))}function IC(t){for(;t===xf;)xf=tl[--rl],tl[rl]=null,_f=tl[--rl],tl[rl]=null;for(;t===Za;)Za=Sn[--En],Sn[En]=null,Di=Sn[--En],Sn[En]=null,ki=Sn[--En],Sn[En]=null}var hn=null,dn=null,lt=!1,Un=null;function GH(t,e){var r=Pn(5,null,null,0);r.elementType="DELETED",r.stateNode=e,r.return=t,e=t.deletions,e===null?(t.deletions=[r],t.flags|=16):e.push(r)}function pI(t,e){switch(t.tag){case 5:var r=t.type;return e=e.nodeType!==1||r.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,hn=t,dn=Ls(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,hn=t,dn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(r=Za!==null?{id:ki,overflow:Di}:null,t.memoizedState={dehydrated:e,treeContext:r,retryLane:1073741824},r=Pn(18,null,null,0),r.stateNode=e,r.return=t,t.child=r,hn=t,dn=null,!0):!1;default:return!1}}function VO(t){return(t.mode&1)!==0&&(t.flags&128)===0}function KO(t){if(lt){var e=dn;if(e){var r=e;if(!pI(t,e)){if(VO(t))throw Error(Q(418));e=Ls(r.nextSibling);var n=hn;e&&pI(t,e)?GH(n,r):(t.flags=t.flags&-4097|2,lt=!1,hn=t)}}else{if(VO(t))throw Error(Q(418));t.flags=t.flags&-4097|2,lt=!1,hn=t}}}function mI(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;hn=t}function Eh(t){if(t!==hn)return!1;if(!lt)return mI(t),lt=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!zO(t.type,t.memoizedProps)),e&&(e=dn)){if(VO(t))throw YH(),Error(Q(418));for(;e;)GH(t,e),e=Ls(e.nextSibling)}if(mI(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(Q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var r=t.data;if(r==="/$"){if(e===0){dn=Ls(t.nextSibling);break e}e--}else r!=="$"&&r!=="$!"&&r!=="$?"||e++}t=t.nextSibling}dn=null}}else dn=hn?Ls(t.stateNode.nextSibling):null;return!0}function YH(){for(var t=dn;t;)t=Ls(t.nextSibling)}function Ll(){dn=hn=null,lt=!1}function RC(t){Un===null?Un=[t]:Un.push(t)}var fX=es.ReactCurrentBatchConfig;function Gu(t,e,r){if(t=r.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(r._owner){if(r=r._owner,r){if(r.tag!==1)throw Error(Q(309));var n=r.stateNode}if(!n)throw Error(Q(147,t));var i=n,s=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===s?e.ref:(e=function(a){var o=i.refs;a===null?delete o[s]:o[s]=a},e._stringRef=s,e)}if(typeof t!="string")throw Error(Q(284));if(!r._owner)throw Error(Q(290,t))}return t}function Oh(t,e){throw t=Object.prototype.toString.call(e),Error(Q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function vI(t){var e=t._init;return e(t._payload)}function QH(t){function e(g,v){if(t){var x=g.deletions;x===null?(g.deletions=[v],g.flags|=16):x.push(v)}}function r(g,v){if(!t)return null;for(;v!==null;)e(g,v),v=v.sibling;return null}function n(g,v){for(g=new Map;v!==null;)v.key!==null?g.set(v.key,v):g.set(v.index,v),v=v.sibling;return g}function i(g,v){return g=Ws(g,v),g.index=0,g.sibling=null,g}function s(g,v,x){return g.index=x,t?(x=g.alternate,x!==null?(x=x.index,x<v?(g.flags|=2,v):x):(g.flags|=2,v)):(g.flags|=1048576,v)}function a(g){return t&&g.alternate===null&&(g.flags|=2),g}function o(g,v,x,w){return v===null||v.tag!==6?(v=Mm(x,g.mode,w),v.return=g,v):(v=i(v,x),v.return=g,v)}function l(g,v,x,w){var _=x.type;return _===Yo?d(g,v,x.props.children,w,x.key):v!==null&&(v.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ms&&vI(_)===v.type)?(w=i(v,x.props),w.ref=Gu(g,v,x),w.return=g,w):(w=Zh(x.type,x.key,x.props,null,g.mode,w),w.ref=Gu(g,v,x),w.return=g,w)}function u(g,v,x,w){return v===null||v.tag!==4||v.stateNode.containerInfo!==x.containerInfo||v.stateNode.implementation!==x.implementation?(v=Am(x,g.mode,w),v.return=g,v):(v=i(v,x.children||[]),v.return=g,v)}function d(g,v,x,w,_){return v===null||v.tag!==7?(v=Ua(x,g.mode,w,_),v.return=g,v):(v=i(v,x),v.return=g,v)}function h(g,v,x){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Mm(""+v,g.mode,x),v.return=g,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case ph:return x=Zh(v.type,v.key,v.props,null,g.mode,x),x.ref=Gu(g,null,v),x.return=g,x;case Go:return v=Am(v,g.mode,x),v.return=g,v;case ms:var w=v._init;return h(g,w(v._payload),x)}if(ac(v)||Uu(v))return v=Ua(v,g.mode,x,null),v.return=g,v;Oh(g,v)}return null}function f(g,v,x,w){var _=v!==null?v.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return _!==null?null:o(g,v,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ph:return x.key===_?l(g,v,x,w):null;case Go:return x.key===_?u(g,v,x,w):null;case ms:return _=x._init,f(g,v,_(x._payload),w)}if(ac(x)||Uu(x))return _!==null?null:d(g,v,x,w,null);Oh(g,x)}return null}function p(g,v,x,w,_){if(typeof w=="string"&&w!==""||typeof w=="number")return g=g.get(x)||null,o(v,g,""+w,_);if(typeof w=="object"&&w!==null){switch(w.$$typeof){case ph:return g=g.get(w.key===null?x:w.key)||null,l(v,g,w,_);case Go:return g=g.get(w.key===null?x:w.key)||null,u(v,g,w,_);case ms:var E=w._init;return p(g,v,x,E(w._payload),_)}if(ac(w)||Uu(w))return g=g.get(x)||null,d(v,g,w,_,null);Oh(v,w)}return null}function m(g,v,x,w){for(var _=null,E=null,O=v,S=v=0,P=null;O!==null&&S<x.length;S++){O.index>S?(P=O,O=null):P=O.sibling;var C=f(g,O,x[S],w);if(C===null){O===null&&(O=P);break}t&&O&&C.alternate===null&&e(g,O),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C,O=P}if(S===x.length)return r(g,O),lt&&wa(g,S),_;if(O===null){for(;S<x.length;S++)O=h(g,x[S],w),O!==null&&(v=s(O,v,S),E===null?_=O:E.sibling=O,E=O);return lt&&wa(g,S),_}for(O=n(g,O);S<x.length;S++)P=p(O,g,S,x[S],w),P!==null&&(t&&P.alternate!==null&&O.delete(P.key===null?S:P.key),v=s(P,v,S),E===null?_=P:E.sibling=P,E=P);return t&&O.forEach(function(I){return e(g,I)}),lt&&wa(g,S),_}function y(g,v,x,w){var _=Uu(x);if(typeof _!="function")throw Error(Q(150));if(x=_.call(x),x==null)throw Error(Q(151));for(var E=_=null,O=v,S=v=0,P=null,C=x.next();O!==null&&!C.done;S++,C=x.next()){O.index>S?(P=O,O=null):P=O.sibling;var I=f(g,O,C.value,w);if(I===null){O===null&&(O=P);break}t&&O&&I.alternate===null&&e(g,O),v=s(I,v,S),E===null?_=I:E.sibling=I,E=I,O=P}if(C.done)return r(g,O),lt&&wa(g,S),_;if(O===null){for(;!C.done;S++,C=x.next())C=h(g,C.value,w),C!==null&&(v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return lt&&wa(g,S),_}for(O=n(g,O);!C.done;S++,C=x.next())C=p(O,g,S,C.value,w),C!==null&&(t&&C.alternate!==null&&O.delete(C.key===null?S:C.key),v=s(C,v,S),E===null?_=C:E.sibling=C,E=C);return t&&O.forEach(function(T){return e(g,T)}),lt&&wa(g,S),_}function b(g,v,x,w){if(typeof x=="object"&&x!==null&&x.type===Yo&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case ph:e:{for(var _=x.key,E=v;E!==null;){if(E.key===_){if(_=x.type,_===Yo){if(E.tag===7){r(g,E.sibling),v=i(E,x.props.children),v.return=g,g=v;break e}}else if(E.elementType===_||typeof _=="object"&&_!==null&&_.$$typeof===ms&&vI(_)===E.type){r(g,E.sibling),v=i(E,x.props),v.ref=Gu(g,E,x),v.return=g,g=v;break e}r(g,E);break}else e(g,E);E=E.sibling}x.type===Yo?(v=Ua(x.props.children,g.mode,w,x.key),v.return=g,g=v):(w=Zh(x.type,x.key,x.props,null,g.mode,w),w.ref=Gu(g,v,x),w.return=g,g=w)}return a(g);case Go:e:{for(E=x.key;v!==null;){if(v.key===E)if(v.tag===4&&v.stateNode.containerInfo===x.containerInfo&&v.stateNode.implementation===x.implementation){r(g,v.sibling),v=i(v,x.children||[]),v.return=g,g=v;break e}else{r(g,v);break}else e(g,v);v=v.sibling}v=Am(x,g.mode,w),v.return=g,g=v}return a(g);case ms:return E=x._init,b(g,v,E(x._payload),w)}if(ac(x))return m(g,v,x,w);if(Uu(x))return y(g,v,x,w);Oh(g,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,v!==null&&v.tag===6?(r(g,v.sibling),v=i(v,x),v.return=g,g=v):(r(g,v),v=Mm(x,g.mode,w),v.return=g,g=v),a(g)):r(g,v)}return b}var Bl=QH(!0),XH=QH(!1),Sf=oa(null),Ef=null,nl=null,jC=null;function $C(){jC=nl=Ef=null}function kC(t){var e=Sf.current;st(Sf),t._currentValue=e}function GO(t,e,r){for(;t!==null;){var n=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,n!==null&&(n.childLanes|=e)):n!==null&&(n.childLanes&e)!==e&&(n.childLanes|=e),t===r)break;t=t.return}}function vl(t,e){Ef=t,jC=nl=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Hr=!0),t.firstContext=null)}function In(t){var e=t._currentValue;if(jC!==t)if(t={context:t,memoizedValue:e,next:null},nl===null){if(Ef===null)throw Error(Q(308));nl=t,Ef.dependencies={lanes:0,firstContext:t}}else nl=nl.next=t;return e}var Ea=null;function DC(t){Ea===null?Ea=[t]:Ea.push(t)}function JH(t,e,r,n){var i=e.interleaved;return i===null?(r.next=r,DC(e)):(r.next=i.next,i.next=r),e.interleaved=r,Xi(t,n)}function Xi(t,e){t.lanes|=e;var r=t.alternate;for(r!==null&&(r.lanes|=e),r=t,t=t.return;t!==null;)t.childLanes|=e,r=t.alternate,r!==null&&(r.childLanes|=e),r=t,t=t.return;return r.tag===3?r.stateNode:null}var vs=!1;function qC(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function ZH(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function Ai(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function Bs(t,e,r){var n=t.updateQueue;if(n===null)return null;if(n=n.shared,Fe&2){var i=n.pending;return i===null?e.next=e:(e.next=i.next,i.next=e),n.pending=e,Xi(t,r)}return i=n.interleaved,i===null?(e.next=e,DC(n)):(e.next=i.next,i.next=e),n.interleaved=e,Xi(t,r)}function Kh(t,e,r){if(e=e.updateQueue,e!==null&&(e=e.shared,(r&4194240)!==0)){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xC(t,r)}}function gI(t,e){var r=t.updateQueue,n=t.alternate;if(n!==null&&(n=n.updateQueue,r===n)){var i=null,s=null;if(r=r.firstBaseUpdate,r!==null){do{var a={eventTime:r.eventTime,lane:r.lane,tag:r.tag,payload:r.payload,callback:r.callback,next:null};s===null?i=s=a:s=s.next=a,r=r.next}while(r!==null);s===null?i=s=e:s=s.next=e}else i=s=e;r={baseState:n.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:n.shared,effects:n.effects},t.updateQueue=r;return}t=r.lastBaseUpdate,t===null?r.firstBaseUpdate=e:t.next=e,r.lastBaseUpdate=e}function Of(t,e,r,n){var i=t.updateQueue;vs=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(o!==null){i.shared.pending=null;var l=o,u=l.next;l.next=null,a===null?s=u:a.next=u,a=l;var d=t.alternate;d!==null&&(d=d.updateQueue,o=d.lastBaseUpdate,o!==a&&(o===null?d.firstBaseUpdate=u:o.next=u,d.lastBaseUpdate=l))}if(s!==null){var h=i.baseState;a=0,d=u=l=null,o=s;do{var f=o.lane,p=o.eventTime;if((n&f)===f){d!==null&&(d=d.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var m=t,y=o;switch(f=e,p=r,y.tag){case 1:if(m=y.payload,typeof m=="function"){h=m.call(p,h,f);break e}h=m;break e;case 3:m.flags=m.flags&-65537|128;case 0:if(m=y.payload,f=typeof m=="function"?m.call(p,h,f):m,f==null)break e;h=mt({},h,f);break e;case 2:vs=!0}}o.callback!==null&&o.lane!==0&&(t.flags|=64,f=i.effects,f===null?i.effects=[o]:f.push(o))}else p={eventTime:p,lane:f,tag:o.tag,payload:o.payload,callback:o.callback,next:null},d===null?(u=d=p,l=h):d=d.next=p,a|=f;if(o=o.next,o===null){if(o=i.shared.pending,o===null)break;f=o,o=f.next,f.next=null,i.lastBaseUpdate=f,i.shared.pending=null}}while(!0);if(d===null&&(l=h),i.baseState=l,i.firstBaseUpdate=u,i.lastBaseUpdate=d,e=i.shared.interleaved,e!==null){i=e;do a|=i.lane,i=i.next;while(i!==e)}else s===null&&(i.shared.lanes=0);to|=a,t.lanes=a,t.memoizedState=h}}function yI(t,e,r){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var n=t[e],i=n.callback;if(i!==null){if(n.callback=null,n=r,typeof i!="function")throw Error(Q(191,i));i.call(n)}}}var Sd={},bi=oa(Sd),Bc=oa(Sd),zc=oa(Sd);function Oa(t){if(t===Sd)throw Error(Q(174));return t}function MC(t,e){switch(rt(zc,e),rt(Bc,t),rt(bi,Sd),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:TO(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=TO(e,t)}st(bi),rt(bi,e)}function zl(){st(bi),st(Bc),st(zc)}function eV(t){Oa(zc.current);var e=Oa(bi.current),r=TO(e,t.type);e!==r&&(rt(Bc,t),rt(bi,r))}function AC(t){Bc.current===t&&(st(bi),st(Bc))}var dt=oa(0);function Pf(t){for(var e=t;e!==null;){if(e.tag===13){var r=e.memoizedState;if(r!==null&&(r=r.dehydrated,r===null||r.data==="$?"||r.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var Rm=[];function FC(){for(var t=0;t<Rm.length;t++)Rm[t]._workInProgressVersionPrimary=null;Rm.length=0}var Gh=es.ReactCurrentDispatcher,jm=es.ReactCurrentBatchConfig,eo=0,ht=null,Ut=null,Yt=null,Cf=!1,gc=!1,Uc=0,pX=0;function mr(){throw Error(Q(321))}function LC(t,e){if(e===null)return!1;for(var r=0;r<e.length&&r<t.length;r++)if(!Xn(t[r],e[r]))return!1;return!0}function BC(t,e,r,n,i,s){if(eo=s,ht=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Gh.current=t===null||t.memoizedState===null?yX:bX,t=r(n,i),gc){s=0;do{if(gc=!1,Uc=0,25<=s)throw Error(Q(301));s+=1,Yt=Ut=null,e.updateQueue=null,Gh.current=wX,t=r(n,i)}while(gc)}if(Gh.current=Tf,e=Ut!==null&&Ut.next!==null,eo=0,Yt=Ut=ht=null,Cf=!1,e)throw Error(Q(300));return t}function zC(){var t=Uc!==0;return Uc=0,t}function oi(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Yt===null?ht.memoizedState=Yt=t:Yt=Yt.next=t,Yt}function Rn(){if(Ut===null){var t=ht.alternate;t=t!==null?t.memoizedState:null}else t=Ut.next;var e=Yt===null?ht.memoizedState:Yt.next;if(e!==null)Yt=e,Ut=t;else{if(t===null)throw Error(Q(310));Ut=t,t={memoizedState:Ut.memoizedState,baseState:Ut.baseState,baseQueue:Ut.baseQueue,queue:Ut.queue,next:null},Yt===null?ht.memoizedState=Yt=t:Yt=Yt.next=t}return Yt}function Wc(t,e){return typeof e=="function"?e(t):e}function $m(t){var e=Rn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=Ut,i=n.baseQueue,s=r.pending;if(s!==null){if(i!==null){var a=i.next;i.next=s.next,s.next=a}n.baseQueue=i=s,r.pending=null}if(i!==null){s=i.next,n=n.baseState;var o=a=null,l=null,u=s;do{var d=u.lane;if((eo&d)===d)l!==null&&(l=l.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),n=u.hasEagerState?u.eagerState:t(n,u.action);else{var h={lane:d,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};l===null?(o=l=h,a=n):l=l.next=h,ht.lanes|=d,to|=d}u=u.next}while(u!==null&&u!==s);l===null?a=n:l.next=o,Xn(n,e.memoizedState)||(Hr=!0),e.memoizedState=n,e.baseState=a,e.baseQueue=l,r.lastRenderedState=n}if(t=r.interleaved,t!==null){i=t;do s=i.lane,ht.lanes|=s,to|=s,i=i.next;while(i!==t)}else i===null&&(r.lanes=0);return[e.memoizedState,r.dispatch]}function km(t){var e=Rn(),r=e.queue;if(r===null)throw Error(Q(311));r.lastRenderedReducer=t;var n=r.dispatch,i=r.pending,s=e.memoizedState;if(i!==null){r.pending=null;var a=i=i.next;do s=t(s,a.action),a=a.next;while(a!==i);Xn(s,e.memoizedState)||(Hr=!0),e.memoizedState=s,e.baseQueue===null&&(e.baseState=s),r.lastRenderedState=s}return[s,n]}function tV(){}function rV(t,e){var r=ht,n=Rn(),i=e(),s=!Xn(n.memoizedState,i);if(s&&(n.memoizedState=i,Hr=!0),n=n.queue,UC(sV.bind(null,r,n,t),[t]),n.getSnapshot!==e||s||Yt!==null&&Yt.memoizedState.tag&1){if(r.flags|=2048,Hc(9,iV.bind(null,r,n,i,e),void 0,null),Qt===null)throw Error(Q(349));eo&30||nV(r,e,i)}return i}function nV(t,e,r){t.flags|=16384,t={getSnapshot:e,value:r},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.stores=[t]):(r=e.stores,r===null?e.stores=[t]:r.push(t))}function iV(t,e,r,n){e.value=r,e.getSnapshot=n,aV(e)&&oV(t)}function sV(t,e,r){return r(function(){aV(e)&&oV(t)})}function aV(t){var e=t.getSnapshot;t=t.value;try{var r=e();return!Xn(t,r)}catch{return!0}}function oV(t){var e=Xi(t,1);e!==null&&Qn(e,t,1,-1)}function bI(t){var e=oi();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Wc,lastRenderedState:t},e.queue=t,t=t.dispatch=gX.bind(null,ht,t),[e.memoizedState,t]}function Hc(t,e,r,n){return t={tag:t,create:e,destroy:r,deps:n,next:null},e=ht.updateQueue,e===null?(e={lastEffect:null,stores:null},ht.updateQueue=e,e.lastEffect=t.next=t):(r=e.lastEffect,r===null?e.lastEffect=t.next=t:(n=r.next,r.next=t,t.next=n,e.lastEffect=t)),t}function lV(){return Rn().memoizedState}function Yh(t,e,r,n){var i=oi();ht.flags|=t,i.memoizedState=Hc(1|e,r,void 0,n===void 0?null:n)}function dp(t,e,r,n){var i=Rn();n=n===void 0?null:n;var s=void 0;if(Ut!==null){var a=Ut.memoizedState;if(s=a.destroy,n!==null&&LC(n,a.deps)){i.memoizedState=Hc(e,r,s,n);return}}ht.flags|=t,i.memoizedState=Hc(1|e,r,s,n)}function wI(t,e){return Yh(8390656,8,t,e)}function UC(t,e){return dp(2048,8,t,e)}function uV(t,e){return dp(4,2,t,e)}function cV(t,e){return dp(4,4,t,e)}function dV(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function hV(t,e,r){return r=r!=null?r.concat([t]):null,dp(4,4,dV.bind(null,e,t),r)}function WC(){}function fV(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&LC(e,n[1])?n[0]:(r.memoizedState=[t,e],t)}function pV(t,e){var r=Rn();e=e===void 0?null:e;var n=r.memoizedState;return n!==null&&e!==null&&LC(e,n[1])?n[0]:(t=t(),r.memoizedState=[t,e],t)}function mV(t,e,r){return eo&21?(Xn(r,e)||(r=wH(),ht.lanes|=r,to|=r,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Hr=!0),t.memoizedState=r)}function mX(t,e){var r=We;We=r!==0&&4>r?r:4,t(!0);var n=jm.transition;jm.transition={};try{t(!1),e()}finally{We=r,jm.transition=n}}function vV(){return Rn().memoizedState}function vX(t,e,r){var n=Us(t);if(r={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null},gV(t))yV(e,r);else if(r=JH(t,e,r,n),r!==null){var i=Rr();Qn(r,t,n,i),bV(r,e,n)}}function gX(t,e,r){var n=Us(t),i={lane:n,action:r,hasEagerState:!1,eagerState:null,next:null};if(gV(t))yV(e,i);else{var s=t.alternate;if(t.lanes===0&&(s===null||s.lanes===0)&&(s=e.lastRenderedReducer,s!==null))try{var a=e.lastRenderedState,o=s(a,r);if(i.hasEagerState=!0,i.eagerState=o,Xn(o,a)){var l=e.interleaved;l===null?(i.next=i,DC(e)):(i.next=l.next,l.next=i),e.interleaved=i;return}}catch{}finally{}r=JH(t,e,i,n),r!==null&&(i=Rr(),Qn(r,t,n,i),bV(r,e,n))}}function gV(t){var e=t.alternate;return t===ht||e!==null&&e===ht}function yV(t,e){gc=Cf=!0;var r=t.pending;r===null?e.next=e:(e.next=r.next,r.next=e),t.pending=e}function bV(t,e,r){if(r&4194240){var n=e.lanes;n&=t.pendingLanes,r|=n,e.lanes=r,xC(t,r)}}var Tf={readContext:In,useCallback:mr,useContext:mr,useEffect:mr,useImperativeHandle:mr,useInsertionEffect:mr,useLayoutEffect:mr,useMemo:mr,useReducer:mr,useRef:mr,useState:mr,useDebugValue:mr,useDeferredValue:mr,useTransition:mr,useMutableSource:mr,useSyncExternalStore:mr,useId:mr,unstable_isNewReconciler:!1},yX={readContext:In,useCallback:function(t,e){return oi().memoizedState=[t,e===void 0?null:e],t},useContext:In,useEffect:wI,useImperativeHandle:function(t,e,r){return r=r!=null?r.concat([t]):null,Yh(4194308,4,dV.bind(null,e,t),r)},useLayoutEffect:function(t,e){return Yh(4194308,4,t,e)},useInsertionEffect:function(t,e){return Yh(4,2,t,e)},useMemo:function(t,e){var r=oi();return e=e===void 0?null:e,t=t(),r.memoizedState=[t,e],t},useReducer:function(t,e,r){var n=oi();return e=r!==void 0?r(e):e,n.memoizedState=n.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},n.queue=t,t=t.dispatch=vX.bind(null,ht,t),[n.memoizedState,t]},useRef:function(t){var e=oi();return t={current:t},e.memoizedState=t},useState:bI,useDebugValue:WC,useDeferredValue:function(t){return oi().memoizedState=t},useTransition:function(){var t=bI(!1),e=t[0];return t=mX.bind(null,t[1]),oi().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,r){var n=ht,i=oi();if(lt){if(r===void 0)throw Error(Q(407));r=r()}else{if(r=e(),Qt===null)throw Error(Q(349));eo&30||nV(n,e,r)}i.memoizedState=r;var s={value:r,getSnapshot:e};return i.queue=s,wI(sV.bind(null,n,s,t),[t]),n.flags|=2048,Hc(9,iV.bind(null,n,s,r,e),void 0,null),r},useId:function(){var t=oi(),e=Qt.identifierPrefix;if(lt){var r=Di,n=ki;r=(n&~(1<<32-Yn(n)-1)).toString(32)+r,e=":"+e+"R"+r,r=Uc++,0<r&&(e+="H"+r.toString(32)),e+=":"}else r=pX++,e=":"+e+"r"+r.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bX={readContext:In,useCallback:fV,useContext:In,useEffect:UC,useImperativeHandle:hV,useInsertionEffect:uV,useLayoutEffect:cV,useMemo:pV,useReducer:$m,useRef:lV,useState:function(){return $m(Wc)},useDebugValue:WC,useDeferredValue:function(t){var e=Rn();return mV(e,Ut.memoizedState,t)},useTransition:function(){var t=$m(Wc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:tV,useSyncExternalStore:rV,useId:vV,unstable_isNewReconciler:!1},wX={readContext:In,useCallback:fV,useContext:In,useEffect:UC,useImperativeHandle:hV,useInsertionEffect:uV,useLayoutEffect:cV,useMemo:pV,useReducer:km,useRef:lV,useState:function(){return km(Wc)},useDebugValue:WC,useDeferredValue:function(t){var e=Rn();return Ut===null?e.memoizedState=t:mV(e,Ut.memoizedState,t)},useTransition:function(){var t=km(Wc)[0],e=Rn().memoizedState;return[t,e]},useMutableSource:tV,useSyncExternalStore:rV,useId:vV,unstable_isNewReconciler:!1};function Fn(t,e){if(t&&t.defaultProps){e=mt({},e),t=t.defaultProps;for(var r in t)e[r]===void 0&&(e[r]=t[r]);return e}return e}function YO(t,e,r,n){e=t.memoizedState,r=r(n,e),r=r==null?e:mt({},e,r),t.memoizedState=r,t.lanes===0&&(t.updateQueue.baseState=r)}var hp={isMounted:function(t){return(t=t._reactInternals)?bo(t)===t:!1},enqueueSetState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=Us(t),s=Ai(n,i);s.payload=e,r!=null&&(s.callback=r),e=Bs(t,s,i),e!==null&&(Qn(e,t,i,n),Kh(e,t,i))},enqueueReplaceState:function(t,e,r){t=t._reactInternals;var n=Rr(),i=Us(t),s=Ai(n,i);s.tag=1,s.payload=e,r!=null&&(s.callback=r),e=Bs(t,s,i),e!==null&&(Qn(e,t,i,n),Kh(e,t,i))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var r=Rr(),n=Us(t),i=Ai(r,n);i.tag=2,e!=null&&(i.callback=e),e=Bs(t,i,n),e!==null&&(Qn(e,t,n,r),Kh(e,t,n))}};function xI(t,e,r,n,i,s,a){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(n,s,a):e.prototype&&e.prototype.isPureReactComponent?!Mc(r,n)||!Mc(i,s):!0}function wV(t,e,r){var n=!1,i=ea,s=e.contextType;return typeof s=="object"&&s!==null?s=In(s):(i=Kr(e)?Ja:xr.current,n=e.contextTypes,s=(n=n!=null)?Fl(t,i):ea),e=new e(r,s),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=hp,t.stateNode=e,e._reactInternals=t,n&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=i,t.__reactInternalMemoizedMaskedChildContext=s),e}function _I(t,e,r,n){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(r,n),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(r,n),e.state!==t&&hp.enqueueReplaceState(e,e.state,null)}function QO(t,e,r,n){var i=t.stateNode;i.props=r,i.state=t.memoizedState,i.refs={},qC(t);var s=e.contextType;typeof s=="object"&&s!==null?i.context=In(s):(s=Kr(e)?Ja:xr.current,i.context=Fl(t,s)),i.state=t.memoizedState,s=e.getDerivedStateFromProps,typeof s=="function"&&(YO(t,e,s,r),i.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof i.getSnapshotBeforeUpdate=="function"||typeof i.UNSAFE_componentWillMount!="function"&&typeof i.componentWillMount!="function"||(e=i.state,typeof i.componentWillMount=="function"&&i.componentWillMount(),typeof i.UNSAFE_componentWillMount=="function"&&i.UNSAFE_componentWillMount(),e!==i.state&&hp.enqueueReplaceState(i,i.state,null),Of(t,r,i,n),i.state=t.memoizedState),typeof i.componentDidMount=="function"&&(t.flags|=4194308)}function Ul(t,e){try{var r="",n=e;do r+=GY(n),n=n.return;while(n);var i=r}catch(s){i=`
Error generating stack: `+s.message+`
`+s.stack}return{value:t,source:e,stack:i,digest:null}}function Dm(t,e,r){return{value:t,source:null,stack:r??null,digest:e??null}}function XO(t,e){try{console.error(e.value)}catch(r){setTimeout(function(){throw r})}}var xX=typeof WeakMap=="function"?WeakMap:Map;function xV(t,e,r){r=Ai(-1,r),r.tag=3,r.payload={element:null};var n=e.value;return r.callback=function(){If||(If=!0,oP=n),XO(t,e)},r}function _V(t,e,r){r=Ai(-1,r),r.tag=3;var n=t.type.getDerivedStateFromError;if(typeof n=="function"){var i=e.value;r.payload=function(){return n(i)},r.callback=function(){XO(t,e)}}var s=t.stateNode;return s!==null&&typeof s.componentDidCatch=="function"&&(r.callback=function(){XO(t,e),typeof n!="function"&&(zs===null?zs=new Set([this]):zs.add(this));var a=e.stack;this.componentDidCatch(e.value,{componentStack:a!==null?a:""})}),r}function SI(t,e,r){var n=t.pingCache;if(n===null){n=t.pingCache=new xX;var i=new Set;n.set(e,i)}else i=n.get(e),i===void 0&&(i=new Set,n.set(e,i));i.has(r)||(i.add(r),t=DX.bind(null,t,e,r),e.then(t,t))}function EI(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function OI(t,e,r,n,i){return t.mode&1?(t.flags|=65536,t.lanes=i,t):(t===e?t.flags|=65536:(t.flags|=128,r.flags|=131072,r.flags&=-52805,r.tag===1&&(r.alternate===null?r.tag=17:(e=Ai(-1,1),e.tag=2,Bs(r,e,1))),r.lanes|=1),t)}var _X=es.ReactCurrentOwner,Hr=!1;function Pr(t,e,r,n){e.child=t===null?XH(e,null,r,n):Bl(e,t.child,r,n)}function PI(t,e,r,n,i){r=r.render;var s=e.ref;return vl(e,i),n=BC(t,e,r,n,s,i),r=zC(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(lt&&r&&NC(e),e.flags|=1,Pr(t,e,n,i),e.child)}function CI(t,e,r,n,i){if(t===null){var s=r.type;return typeof s=="function"&&!JC(s)&&s.defaultProps===void 0&&r.compare===null&&r.defaultProps===void 0?(e.tag=15,e.type=s,SV(t,e,s,n,i)):(t=Zh(r.type,null,n,e,e.mode,i),t.ref=e.ref,t.return=e,e.child=t)}if(s=t.child,!(t.lanes&i)){var a=s.memoizedProps;if(r=r.compare,r=r!==null?r:Mc,r(a,n)&&t.ref===e.ref)return Ji(t,e,i)}return e.flags|=1,t=Ws(s,n),t.ref=e.ref,t.return=e,e.child=t}function SV(t,e,r,n,i){if(t!==null){var s=t.memoizedProps;if(Mc(s,n)&&t.ref===e.ref)if(Hr=!1,e.pendingProps=n=s,(t.lanes&i)!==0)t.flags&131072&&(Hr=!0);else return e.lanes=t.lanes,Ji(t,e,i)}return JO(t,e,r,n,i)}function EV(t,e,r){var n=e.pendingProps,i=n.children,s=t!==null?t.memoizedState:null;if(n.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},rt(sl,ln),ln|=r;else{if(!(r&1073741824))return t=s!==null?s.baseLanes|r:r,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,rt(sl,ln),ln|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},n=s!==null?s.baseLanes:r,rt(sl,ln),ln|=n}else s!==null?(n=s.baseLanes|r,e.memoizedState=null):n=r,rt(sl,ln),ln|=n;return Pr(t,e,i,r),e.child}function OV(t,e){var r=e.ref;(t===null&&r!==null||t!==null&&t.ref!==r)&&(e.flags|=512,e.flags|=2097152)}function JO(t,e,r,n,i){var s=Kr(r)?Ja:xr.current;return s=Fl(e,s),vl(e,i),r=BC(t,e,r,n,s,i),n=zC(),t!==null&&!Hr?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~i,Ji(t,e,i)):(lt&&n&&NC(e),e.flags|=1,Pr(t,e,r,i),e.child)}function TI(t,e,r,n,i){if(Kr(r)){var s=!0;wf(e)}else s=!1;if(vl(e,i),e.stateNode===null)Qh(t,e),wV(e,r,n),QO(e,r,n,i),n=!0;else if(t===null){var a=e.stateNode,o=e.memoizedProps;a.props=o;var l=a.context,u=r.contextType;typeof u=="object"&&u!==null?u=In(u):(u=Kr(r)?Ja:xr.current,u=Fl(e,u));var d=r.getDerivedStateFromProps,h=typeof d=="function"||typeof a.getSnapshotBeforeUpdate=="function";h||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==n||l!==u)&&_I(e,a,n,u),vs=!1;var f=e.memoizedState;a.state=f,Of(e,n,a,i),l=e.memoizedState,o!==n||f!==l||Vr.current||vs?(typeof d=="function"&&(YO(e,r,d,n),l=e.memoizedState),(o=vs||xI(e,r,o,n,f,l,u))?(h||typeof a.UNSAFE_componentWillMount!="function"&&typeof a.componentWillMount!="function"||(typeof a.componentWillMount=="function"&&a.componentWillMount(),typeof a.UNSAFE_componentWillMount=="function"&&a.UNSAFE_componentWillMount()),typeof a.componentDidMount=="function"&&(e.flags|=4194308)):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=n,e.memoizedState=l),a.props=n,a.state=l,a.context=u,n=o):(typeof a.componentDidMount=="function"&&(e.flags|=4194308),n=!1)}else{a=e.stateNode,ZH(t,e),o=e.memoizedProps,u=e.type===e.elementType?o:Fn(e.type,o),a.props=u,h=e.pendingProps,f=a.context,l=r.contextType,typeof l=="object"&&l!==null?l=In(l):(l=Kr(r)?Ja:xr.current,l=Fl(e,l));var p=r.getDerivedStateFromProps;(d=typeof p=="function"||typeof a.getSnapshotBeforeUpdate=="function")||typeof a.UNSAFE_componentWillReceiveProps!="function"&&typeof a.componentWillReceiveProps!="function"||(o!==h||f!==l)&&_I(e,a,n,l),vs=!1,f=e.memoizedState,a.state=f,Of(e,n,a,i);var m=e.memoizedState;o!==h||f!==m||Vr.current||vs?(typeof p=="function"&&(YO(e,r,p,n),m=e.memoizedState),(u=vs||xI(e,r,u,n,f,m,l)||!1)?(d||typeof a.UNSAFE_componentWillUpdate!="function"&&typeof a.componentWillUpdate!="function"||(typeof a.componentWillUpdate=="function"&&a.componentWillUpdate(n,m,l),typeof a.UNSAFE_componentWillUpdate=="function"&&a.UNSAFE_componentWillUpdate(n,m,l)),typeof a.componentDidUpdate=="function"&&(e.flags|=4),typeof a.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=n,e.memoizedState=m),a.props=n,a.state=m,a.context=l,n=u):(typeof a.componentDidUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof a.getSnapshotBeforeUpdate!="function"||o===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),n=!1)}return ZO(t,e,r,n,s,i)}function ZO(t,e,r,n,i,s){OV(t,e);var a=(e.flags&128)!==0;if(!n&&!a)return i&&fI(e,r,!1),Ji(t,e,s);n=e.stateNode,_X.current=e;var o=a&&typeof r.getDerivedStateFromError!="function"?null:n.render();return e.flags|=1,t!==null&&a?(e.child=Bl(e,t.child,null,s),e.child=Bl(e,null,o,s)):Pr(t,e,o,s),e.memoizedState=n.state,i&&fI(e,r,!0),e.child}function PV(t){var e=t.stateNode;e.pendingContext?hI(t,e.pendingContext,e.pendingContext!==e.context):e.context&&hI(t,e.context,!1),MC(t,e.containerInfo)}function NI(t,e,r,n,i){return Ll(),RC(i),e.flags|=256,Pr(t,e,r,n),e.child}var eP={dehydrated:null,treeContext:null,retryLane:0};function tP(t){return{baseLanes:t,cachePool:null,transitions:null}}function CV(t,e,r){var n=e.pendingProps,i=dt.current,s=!1,a=(e.flags&128)!==0,o;if((o=a)||(o=t!==null&&t.memoizedState===null?!1:(i&2)!==0),o?(s=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(i|=1),rt(dt,i&1),t===null)return KO(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(a=n.children,t=n.fallback,s?(n=e.mode,s=e.child,a={mode:"hidden",children:a},!(n&1)&&s!==null?(s.childLanes=0,s.pendingProps=a):s=mp(a,n,0,null),t=Ua(t,n,r,null),s.return=e,t.return=e,s.sibling=t,e.child=s,e.child.memoizedState=tP(r),e.memoizedState=eP,t):HC(e,a));if(i=t.memoizedState,i!==null&&(o=i.dehydrated,o!==null))return SX(t,e,a,n,o,i,r);if(s){s=n.fallback,a=e.mode,i=t.child,o=i.sibling;var l={mode:"hidden",children:n.children};return!(a&1)&&e.child!==i?(n=e.child,n.childLanes=0,n.pendingProps=l,e.deletions=null):(n=Ws(i,l),n.subtreeFlags=i.subtreeFlags&14680064),o!==null?s=Ws(o,s):(s=Ua(s,a,r,null),s.flags|=2),s.return=e,n.return=e,n.sibling=s,e.child=n,n=s,s=e.child,a=t.child.memoizedState,a=a===null?tP(r):{baseLanes:a.baseLanes|r,cachePool:null,transitions:a.transitions},s.memoizedState=a,s.childLanes=t.childLanes&~r,e.memoizedState=eP,n}return s=t.child,t=s.sibling,n=Ws(s,{mode:"visible",children:n.children}),!(e.mode&1)&&(n.lanes=r),n.return=e,n.sibling=null,t!==null&&(r=e.deletions,r===null?(e.deletions=[t],e.flags|=16):r.push(t)),e.child=n,e.memoizedState=null,n}function HC(t,e){return e=mp({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Ph(t,e,r,n){return n!==null&&RC(n),Bl(e,t.child,null,r),t=HC(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function SX(t,e,r,n,i,s,a){if(r)return e.flags&256?(e.flags&=-257,n=Dm(Error(Q(422))),Ph(t,e,a,n)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(s=n.fallback,i=e.mode,n=mp({mode:"visible",children:n.children},i,0,null),s=Ua(s,i,a,null),s.flags|=2,n.return=e,s.return=e,n.sibling=s,e.child=n,e.mode&1&&Bl(e,t.child,null,a),e.child.memoizedState=tP(a),e.memoizedState=eP,s);if(!(e.mode&1))return Ph(t,e,a,null);if(i.data==="$!"){if(n=i.nextSibling&&i.nextSibling.dataset,n)var o=n.dgst;return n=o,s=Error(Q(419)),n=Dm(s,n,void 0),Ph(t,e,a,n)}if(o=(a&t.childLanes)!==0,Hr||o){if(n=Qt,n!==null){switch(a&-a){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}i=i&(n.suspendedLanes|a)?0:i,i!==0&&i!==s.retryLane&&(s.retryLane=i,Xi(t,i),Qn(n,t,i,-1))}return XC(),n=Dm(Error(Q(421))),Ph(t,e,a,n)}return i.data==="$?"?(e.flags|=128,e.child=t.child,e=qX.bind(null,t),i._reactRetry=e,null):(t=s.treeContext,dn=Ls(i.nextSibling),hn=e,lt=!0,Un=null,t!==null&&(Sn[En++]=ki,Sn[En++]=Di,Sn[En++]=Za,ki=t.id,Di=t.overflow,Za=e),e=HC(e,n.children),e.flags|=4096,e)}function II(t,e,r){t.lanes|=e;var n=t.alternate;n!==null&&(n.lanes|=e),GO(t.return,e,r)}function qm(t,e,r,n,i){var s=t.memoizedState;s===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:n,tail:r,tailMode:i}:(s.isBackwards=e,s.rendering=null,s.renderingStartTime=0,s.last=n,s.tail=r,s.tailMode=i)}function TV(t,e,r){var n=e.pendingProps,i=n.revealOrder,s=n.tail;if(Pr(t,e,n.children,r),n=dt.current,n&2)n=n&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&II(t,r,e);else if(t.tag===19)II(t,r,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}n&=1}if(rt(dt,n),!(e.mode&1))e.memoizedState=null;else switch(i){case"forwards":for(r=e.child,i=null;r!==null;)t=r.alternate,t!==null&&Pf(t)===null&&(i=r),r=r.sibling;r=i,r===null?(i=e.child,e.child=null):(i=r.sibling,r.sibling=null),qm(e,!1,i,r,s);break;case"backwards":for(r=null,i=e.child,e.child=null;i!==null;){if(t=i.alternate,t!==null&&Pf(t)===null){e.child=i;break}t=i.sibling,i.sibling=r,r=i,i=t}qm(e,!0,r,null,s);break;case"together":qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Qh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function Ji(t,e,r){if(t!==null&&(e.dependencies=t.dependencies),to|=e.lanes,!(r&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(Q(153));if(e.child!==null){for(t=e.child,r=Ws(t,t.pendingProps),e.child=r,r.return=e;t.sibling!==null;)t=t.sibling,r=r.sibling=Ws(t,t.pendingProps),r.return=e;r.sibling=null}return e.child}function EX(t,e,r){switch(e.tag){case 3:PV(e),Ll();break;case 5:eV(e);break;case 1:Kr(e.type)&&wf(e);break;case 4:MC(e,e.stateNode.containerInfo);break;case 10:var n=e.type._context,i=e.memoizedProps.value;rt(Sf,n._currentValue),n._currentValue=i;break;case 13:if(n=e.memoizedState,n!==null)return n.dehydrated!==null?(rt(dt,dt.current&1),e.flags|=128,null):r&e.child.childLanes?CV(t,e,r):(rt(dt,dt.current&1),t=Ji(t,e,r),t!==null?t.sibling:null);rt(dt,dt.current&1);break;case 19:if(n=(r&e.childLanes)!==0,t.flags&128){if(n)return TV(t,e,r);e.flags|=128}if(i=e.memoizedState,i!==null&&(i.rendering=null,i.tail=null,i.lastEffect=null),rt(dt,dt.current),n)break;return null;case 22:case 23:return e.lanes=0,EV(t,e,r)}return Ji(t,e,r)}var NV,rP,IV,RV;NV=function(t,e){for(var r=e.child;r!==null;){if(r.tag===5||r.tag===6)t.appendChild(r.stateNode);else if(r.tag!==4&&r.child!==null){r.child.return=r,r=r.child;continue}if(r===e)break;for(;r.sibling===null;){if(r.return===null||r.return===e)return;r=r.return}r.sibling.return=r.return,r=r.sibling}};rP=function(){};IV=function(t,e,r,n){var i=t.memoizedProps;if(i!==n){t=e.stateNode,Oa(bi.current);var s=null;switch(r){case"input":i=EO(t,i),n=EO(t,n),s=[];break;case"select":i=mt({},i,{value:void 0}),n=mt({},n,{value:void 0}),s=[];break;case"textarea":i=CO(t,i),n=CO(t,n),s=[];break;default:typeof i.onClick!="function"&&typeof n.onClick=="function"&&(t.onclick=yf)}NO(r,n);var a;r=null;for(u in i)if(!n.hasOwnProperty(u)&&i.hasOwnProperty(u)&&i[u]!=null)if(u==="style"){var o=i[u];for(a in o)o.hasOwnProperty(a)&&(r||(r={}),r[a]="")}else u!=="dangerouslySetInnerHTML"&&u!=="children"&&u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&u!=="autoFocus"&&(Ic.hasOwnProperty(u)?s||(s=[]):(s=s||[]).push(u,null));for(u in n){var l=n[u];if(o=i!=null?i[u]:void 0,n.hasOwnProperty(u)&&l!==o&&(l!=null||o!=null))if(u==="style")if(o){for(a in o)!o.hasOwnProperty(a)||l&&l.hasOwnProperty(a)||(r||(r={}),r[a]="");for(a in l)l.hasOwnProperty(a)&&o[a]!==l[a]&&(r||(r={}),r[a]=l[a])}else r||(s||(s=[]),s.push(u,r)),r=l;else u==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,o=o?o.__html:void 0,l!=null&&o!==l&&(s=s||[]).push(u,l)):u==="children"?typeof l!="string"&&typeof l!="number"||(s=s||[]).push(u,""+l):u!=="suppressContentEditableWarning"&&u!=="suppressHydrationWarning"&&(Ic.hasOwnProperty(u)?(l!=null&&u==="onScroll"&&it("scroll",t),s||o===l||(s=[])):(s=s||[]).push(u,l))}r&&(s=s||[]).push("style",r);var u=s;(e.updateQueue=u)&&(e.flags|=4)}};RV=function(t,e,r,n){r!==n&&(e.flags|=4)};function Yu(t,e){if(!lt)switch(t.tailMode){case"hidden":e=t.tail;for(var r=null;e!==null;)e.alternate!==null&&(r=e),e=e.sibling;r===null?t.tail=null:r.sibling=null;break;case"collapsed":r=t.tail;for(var n=null;r!==null;)r.alternate!==null&&(n=r),r=r.sibling;n===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:n.sibling=null}}function vr(t){var e=t.alternate!==null&&t.alternate.child===t.child,r=0,n=0;if(e)for(var i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags&14680064,n|=i.flags&14680064,i.return=t,i=i.sibling;else for(i=t.child;i!==null;)r|=i.lanes|i.childLanes,n|=i.subtreeFlags,n|=i.flags,i.return=t,i=i.sibling;return t.subtreeFlags|=n,t.childLanes=r,e}function OX(t,e,r){var n=e.pendingProps;switch(IC(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return vr(e),null;case 1:return Kr(e.type)&&bf(),vr(e),null;case 3:return n=e.stateNode,zl(),st(Vr),st(xr),FC(),n.pendingContext&&(n.context=n.pendingContext,n.pendingContext=null),(t===null||t.child===null)&&(Eh(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Un!==null&&(cP(Un),Un=null))),rP(t,e),vr(e),null;case 5:AC(e);var i=Oa(zc.current);if(r=e.type,t!==null&&e.stateNode!=null)IV(t,e,r,n,i),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!n){if(e.stateNode===null)throw Error(Q(166));return vr(e),null}if(t=Oa(bi.current),Eh(e)){n=e.stateNode,r=e.type;var s=e.memoizedProps;switch(n[fi]=e,n[Lc]=s,t=(e.mode&1)!==0,r){case"dialog":it("cancel",n),it("close",n);break;case"iframe":case"object":case"embed":it("load",n);break;case"video":case"audio":for(i=0;i<lc.length;i++)it(lc[i],n);break;case"source":it("error",n);break;case"img":case"image":case"link":it("error",n),it("load",n);break;case"details":it("toggle",n);break;case"input":FN(n,s),it("invalid",n);break;case"select":n._wrapperState={wasMultiple:!!s.multiple},it("invalid",n);break;case"textarea":BN(n,s),it("invalid",n)}NO(r,s),i=null;for(var a in s)if(s.hasOwnProperty(a)){var o=s[a];a==="children"?typeof o=="string"?n.textContent!==o&&(s.suppressHydrationWarning!==!0&&Sh(n.textContent,o,t),i=["children",o]):typeof o=="number"&&n.textContent!==""+o&&(s.suppressHydrationWarning!==!0&&Sh(n.textContent,o,t),i=["children",""+o]):Ic.hasOwnProperty(a)&&o!=null&&a==="onScroll"&&it("scroll",n)}switch(r){case"input":mh(n),LN(n,s,!0);break;case"textarea":mh(n),zN(n);break;case"select":case"option":break;default:typeof s.onClick=="function"&&(n.onclick=yf)}n=i,e.updateQueue=n,n!==null&&(e.flags|=4)}else{a=i.nodeType===9?i:i.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=sH(r)),t==="http://www.w3.org/1999/xhtml"?r==="script"?(t=a.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof n.is=="string"?t=a.createElement(r,{is:n.is}):(t=a.createElement(r),r==="select"&&(a=t,n.multiple?a.multiple=!0:n.size&&(a.size=n.size))):t=a.createElementNS(t,r),t[fi]=e,t[Lc]=n,NV(t,e,!1,!1),e.stateNode=t;e:{switch(a=IO(r,n),r){case"dialog":it("cancel",t),it("close",t),i=n;break;case"iframe":case"object":case"embed":it("load",t),i=n;break;case"video":case"audio":for(i=0;i<lc.length;i++)it(lc[i],t);i=n;break;case"source":it("error",t),i=n;break;case"img":case"image":case"link":it("error",t),it("load",t),i=n;break;case"details":it("toggle",t),i=n;break;case"input":FN(t,n),i=EO(t,n),it("invalid",t);break;case"option":i=n;break;case"select":t._wrapperState={wasMultiple:!!n.multiple},i=mt({},n,{value:void 0}),it("invalid",t);break;case"textarea":BN(t,n),i=CO(t,n),it("invalid",t);break;default:i=n}NO(r,i),o=i;for(s in o)if(o.hasOwnProperty(s)){var l=o[s];s==="style"?lH(t,l):s==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&aH(t,l)):s==="children"?typeof l=="string"?(r!=="textarea"||l!=="")&&Rc(t,l):typeof l=="number"&&Rc(t,""+l):s!=="suppressContentEditableWarning"&&s!=="suppressHydrationWarning"&&s!=="autoFocus"&&(Ic.hasOwnProperty(s)?l!=null&&s==="onScroll"&&it("scroll",t):l!=null&&mC(t,s,l,a))}switch(r){case"input":mh(t),LN(t,n,!1);break;case"textarea":mh(t),zN(t);break;case"option":n.value!=null&&t.setAttribute("value",""+Zs(n.value));break;case"select":t.multiple=!!n.multiple,s=n.value,s!=null?hl(t,!!n.multiple,s,!1):n.defaultValue!=null&&hl(t,!!n.multiple,n.defaultValue,!0);break;default:typeof i.onClick=="function"&&(t.onclick=yf)}switch(r){case"button":case"input":case"select":case"textarea":n=!!n.autoFocus;break e;case"img":n=!0;break e;default:n=!1}}n&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return vr(e),null;case 6:if(t&&e.stateNode!=null)RV(t,e,t.memoizedProps,n);else{if(typeof n!="string"&&e.stateNode===null)throw Error(Q(166));if(r=Oa(zc.current),Oa(bi.current),Eh(e)){if(n=e.stateNode,r=e.memoizedProps,n[fi]=e,(s=n.nodeValue!==r)&&(t=hn,t!==null))switch(t.tag){case 3:Sh(n.nodeValue,r,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Sh(n.nodeValue,r,(t.mode&1)!==0)}s&&(e.flags|=4)}else n=(r.nodeType===9?r:r.ownerDocument).createTextNode(n),n[fi]=e,e.stateNode=n}return vr(e),null;case 13:if(st(dt),n=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(lt&&dn!==null&&e.mode&1&&!(e.flags&128))YH(),Ll(),e.flags|=98560,s=!1;else if(s=Eh(e),n!==null&&n.dehydrated!==null){if(t===null){if(!s)throw Error(Q(318));if(s=e.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(Q(317));s[fi]=e}else Ll(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;vr(e),s=!1}else Un!==null&&(cP(Un),Un=null),s=!0;if(!s)return e.flags&65536?e:null}return e.flags&128?(e.lanes=r,e):(n=n!==null,n!==(t!==null&&t.memoizedState!==null)&&n&&(e.child.flags|=8192,e.mode&1&&(t===null||dt.current&1?Ht===0&&(Ht=3):XC())),e.updateQueue!==null&&(e.flags|=4),vr(e),null);case 4:return zl(),rP(t,e),t===null&&Ac(e.stateNode.containerInfo),vr(e),null;case 10:return kC(e.type._context),vr(e),null;case 17:return Kr(e.type)&&bf(),vr(e),null;case 19:if(st(dt),s=e.memoizedState,s===null)return vr(e),null;if(n=(e.flags&128)!==0,a=s.rendering,a===null)if(n)Yu(s,!1);else{if(Ht!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(a=Pf(t),a!==null){for(e.flags|=128,Yu(s,!1),n=a.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),e.subtreeFlags=0,n=r,r=e.child;r!==null;)s=r,t=n,s.flags&=14680066,a=s.alternate,a===null?(s.childLanes=0,s.lanes=t,s.child=null,s.subtreeFlags=0,s.memoizedProps=null,s.memoizedState=null,s.updateQueue=null,s.dependencies=null,s.stateNode=null):(s.childLanes=a.childLanes,s.lanes=a.lanes,s.child=a.child,s.subtreeFlags=0,s.deletions=null,s.memoizedProps=a.memoizedProps,s.memoizedState=a.memoizedState,s.updateQueue=a.updateQueue,s.type=a.type,t=a.dependencies,s.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),r=r.sibling;return rt(dt,dt.current&1|2),e.child}t=t.sibling}s.tail!==null&&Ot()>Wl&&(e.flags|=128,n=!0,Yu(s,!1),e.lanes=4194304)}else{if(!n)if(t=Pf(a),t!==null){if(e.flags|=128,n=!0,r=t.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),Yu(s,!0),s.tail===null&&s.tailMode==="hidden"&&!a.alternate&&!lt)return vr(e),null}else 2*Ot()-s.renderingStartTime>Wl&&r!==1073741824&&(e.flags|=128,n=!0,Yu(s,!1),e.lanes=4194304);s.isBackwards?(a.sibling=e.child,e.child=a):(r=s.last,r!==null?r.sibling=a:e.child=a,s.last=a)}return s.tail!==null?(e=s.tail,s.rendering=e,s.tail=e.sibling,s.renderingStartTime=Ot(),e.sibling=null,r=dt.current,rt(dt,n?r&1|2:r&1),e):(vr(e),null);case 22:case 23:return QC(),n=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==n&&(e.flags|=8192),n&&e.mode&1?ln&1073741824&&(vr(e),e.subtreeFlags&6&&(e.flags|=8192)):vr(e),null;case 24:return null;case 25:return null}throw Error(Q(156,e.tag))}function PX(t,e){switch(IC(e),e.tag){case 1:return Kr(e.type)&&bf(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return zl(),st(Vr),st(xr),FC(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return AC(e),null;case 13:if(st(dt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(Q(340));Ll()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return st(dt),null;case 4:return zl(),null;case 10:return kC(e.type._context),null;case 22:case 23:return QC(),null;case 24:return null;default:return null}}var Ch=!1,yr=!1,CX=typeof WeakSet=="function"?WeakSet:Set,ce=null;function il(t,e){var r=t.ref;if(r!==null)if(typeof r=="function")try{r(null)}catch(n){wt(t,e,n)}else r.current=null}function nP(t,e,r){try{r()}catch(n){wt(t,e,n)}}var RI=!1;function TX(t,e){if(LO=mf,t=qH(),TC(t)){if("selectionStart"in t)var r={start:t.selectionStart,end:t.selectionEnd};else e:{r=(r=t.ownerDocument)&&r.defaultView||window;var n=r.getSelection&&r.getSelection();if(n&&n.rangeCount!==0){r=n.anchorNode;var i=n.anchorOffset,s=n.focusNode;n=n.focusOffset;try{r.nodeType,s.nodeType}catch{r=null;break e}var a=0,o=-1,l=-1,u=0,d=0,h=t,f=null;t:for(;;){for(var p;h!==r||i!==0&&h.nodeType!==3||(o=a+i),h!==s||n!==0&&h.nodeType!==3||(l=a+n),h.nodeType===3&&(a+=h.nodeValue.length),(p=h.firstChild)!==null;)f=h,h=p;for(;;){if(h===t)break t;if(f===r&&++u===i&&(o=a),f===s&&++d===n&&(l=a),(p=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=p}r=o===-1||l===-1?null:{start:o,end:l}}else r=null}r=r||{start:0,end:0}}else r=null;for(BO={focusedElem:t,selectionRange:r},mf=!1,ce=e;ce!==null;)if(e=ce,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,ce=t;else for(;ce!==null;){e=ce;try{var m=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(m!==null){var y=m.memoizedProps,b=m.memoizedState,g=e.stateNode,v=g.getSnapshotBeforeUpdate(e.elementType===e.type?y:Fn(e.type,y),b);g.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(Q(163))}}catch(w){wt(e,e.return,w)}if(t=e.sibling,t!==null){t.return=e.return,ce=t;break}ce=e.return}return m=RI,RI=!1,m}function yc(t,e,r){var n=e.updateQueue;if(n=n!==null?n.lastEffect:null,n!==null){var i=n=n.next;do{if((i.tag&t)===t){var s=i.destroy;i.destroy=void 0,s!==void 0&&nP(e,r,s)}i=i.next}while(i!==n)}}function fp(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var r=e=e.next;do{if((r.tag&t)===t){var n=r.create;r.destroy=n()}r=r.next}while(r!==e)}}function iP(t){var e=t.ref;if(e!==null){var r=t.stateNode;switch(t.tag){case 5:t=r;break;default:t=r}typeof e=="function"?e(t):e.current=t}}function jV(t){var e=t.alternate;e!==null&&(t.alternate=null,jV(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[fi],delete e[Lc],delete e[WO],delete e[cX],delete e[dX])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function $V(t){return t.tag===5||t.tag===3||t.tag===4}function jI(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||$V(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function sP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.nodeType===8?r.parentNode.insertBefore(t,e):r.insertBefore(t,e):(r.nodeType===8?(e=r.parentNode,e.insertBefore(t,r)):(e=r,e.appendChild(t)),r=r._reactRootContainer,r!=null||e.onclick!==null||(e.onclick=yf));else if(n!==4&&(t=t.child,t!==null))for(sP(t,e,r),t=t.sibling;t!==null;)sP(t,e,r),t=t.sibling}function aP(t,e,r){var n=t.tag;if(n===5||n===6)t=t.stateNode,e?r.insertBefore(t,e):r.appendChild(t);else if(n!==4&&(t=t.child,t!==null))for(aP(t,e,r),t=t.sibling;t!==null;)aP(t,e,r),t=t.sibling}var or=null,zn=!1;function hs(t,e,r){for(r=r.child;r!==null;)kV(t,e,r),r=r.sibling}function kV(t,e,r){if(yi&&typeof yi.onCommitFiberUnmount=="function")try{yi.onCommitFiberUnmount(sp,r)}catch{}switch(r.tag){case 5:yr||il(r,e);case 6:var n=or,i=zn;or=null,hs(t,e,r),or=n,zn=i,or!==null&&(zn?(t=or,r=r.stateNode,t.nodeType===8?t.parentNode.removeChild(r):t.removeChild(r)):or.removeChild(r.stateNode));break;case 18:or!==null&&(zn?(t=or,r=r.stateNode,t.nodeType===8?Nm(t.parentNode,r):t.nodeType===1&&Nm(t,r),Dc(t)):Nm(or,r.stateNode));break;case 4:n=or,i=zn,or=r.stateNode.containerInfo,zn=!0,hs(t,e,r),or=n,zn=i;break;case 0:case 11:case 14:case 15:if(!yr&&(n=r.updateQueue,n!==null&&(n=n.lastEffect,n!==null))){i=n=n.next;do{var s=i,a=s.destroy;s=s.tag,a!==void 0&&(s&2||s&4)&&nP(r,e,a),i=i.next}while(i!==n)}hs(t,e,r);break;case 1:if(!yr&&(il(r,e),n=r.stateNode,typeof n.componentWillUnmount=="function"))try{n.props=r.memoizedProps,n.state=r.memoizedState,n.componentWillUnmount()}catch(o){wt(r,e,o)}hs(t,e,r);break;case 21:hs(t,e,r);break;case 22:r.mode&1?(yr=(n=yr)||r.memoizedState!==null,hs(t,e,r),yr=n):hs(t,e,r);break;default:hs(t,e,r)}}function $I(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var r=t.stateNode;r===null&&(r=t.stateNode=new CX),e.forEach(function(n){var i=MX.bind(null,t,n);r.has(n)||(r.add(n),n.then(i,i))})}}function Mn(t,e){var r=e.deletions;if(r!==null)for(var n=0;n<r.length;n++){var i=r[n];try{var s=t,a=e,o=a;e:for(;o!==null;){switch(o.tag){case 5:or=o.stateNode,zn=!1;break e;case 3:or=o.stateNode.containerInfo,zn=!0;break e;case 4:or=o.stateNode.containerInfo,zn=!0;break e}o=o.return}if(or===null)throw Error(Q(160));kV(s,a,i),or=null,zn=!1;var l=i.alternate;l!==null&&(l.return=null),i.return=null}catch(u){wt(i,e,u)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)DV(e,t),e=e.sibling}function DV(t,e){var r=t.alternate,n=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Mn(e,t),si(t),n&4){try{yc(3,t,t.return),fp(3,t)}catch(y){wt(t,t.return,y)}try{yc(5,t,t.return)}catch(y){wt(t,t.return,y)}}break;case 1:Mn(e,t),si(t),n&512&&r!==null&&il(r,r.return);break;case 5:if(Mn(e,t),si(t),n&512&&r!==null&&il(r,r.return),t.flags&32){var i=t.stateNode;try{Rc(i,"")}catch(y){wt(t,t.return,y)}}if(n&4&&(i=t.stateNode,i!=null)){var s=t.memoizedProps,a=r!==null?r.memoizedProps:s,o=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{o==="input"&&s.type==="radio"&&s.name!=null&&nH(i,s),IO(o,a);var u=IO(o,s);for(a=0;a<l.length;a+=2){var d=l[a],h=l[a+1];d==="style"?lH(i,h):d==="dangerouslySetInnerHTML"?aH(i,h):d==="children"?Rc(i,h):mC(i,d,h,u)}switch(o){case"input":OO(i,s);break;case"textarea":iH(i,s);break;case"select":var f=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!s.multiple;var p=s.value;p!=null?hl(i,!!s.multiple,p,!1):f!==!!s.multiple&&(s.defaultValue!=null?hl(i,!!s.multiple,s.defaultValue,!0):hl(i,!!s.multiple,s.multiple?[]:"",!1))}i[Lc]=s}catch(y){wt(t,t.return,y)}}break;case 6:if(Mn(e,t),si(t),n&4){if(t.stateNode===null)throw Error(Q(162));i=t.stateNode,s=t.memoizedProps;try{i.nodeValue=s}catch(y){wt(t,t.return,y)}}break;case 3:if(Mn(e,t),si(t),n&4&&r!==null&&r.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(y){wt(t,t.return,y)}break;case 4:Mn(e,t),si(t);break;case 13:Mn(e,t),si(t),i=t.child,i.flags&8192&&(s=i.memoizedState!==null,i.stateNode.isHidden=s,!s||i.alternate!==null&&i.alternate.memoizedState!==null||(GC=Ot())),n&4&&$I(t);break;case 22:if(d=r!==null&&r.memoizedState!==null,t.mode&1?(yr=(u=yr)||d,Mn(e,t),yr=u):Mn(e,t),si(t),n&8192){if(u=t.memoizedState!==null,(t.stateNode.isHidden=u)&&!d&&t.mode&1)for(ce=t,d=t.child;d!==null;){for(h=ce=d;ce!==null;){switch(f=ce,p=f.child,f.tag){case 0:case 11:case 14:case 15:yc(4,f,f.return);break;case 1:il(f,f.return);var m=f.stateNode;if(typeof m.componentWillUnmount=="function"){n=f,r=f.return;try{e=n,m.props=e.memoizedProps,m.state=e.memoizedState,m.componentWillUnmount()}catch(y){wt(n,r,y)}}break;case 5:il(f,f.return);break;case 22:if(f.memoizedState!==null){DI(h);continue}}p!==null?(p.return=f,ce=p):DI(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{i=h.stateNode,u?(s=i.style,typeof s.setProperty=="function"?s.setProperty("display","none","important"):s.display="none"):(o=h.stateNode,l=h.memoizedProps.style,a=l!=null&&l.hasOwnProperty("display")?l.display:null,o.style.display=oH("display",a))}catch(y){wt(t,t.return,y)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=u?"":h.memoizedProps}catch(y){wt(t,t.return,y)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:Mn(e,t),si(t),n&4&&$I(t);break;case 21:break;default:Mn(e,t),si(t)}}function si(t){var e=t.flags;if(e&2){try{e:{for(var r=t.return;r!==null;){if($V(r)){var n=r;break e}r=r.return}throw Error(Q(160))}switch(n.tag){case 5:var i=n.stateNode;n.flags&32&&(Rc(i,""),n.flags&=-33);var s=jI(t);aP(t,s,i);break;case 3:case 4:var a=n.stateNode.containerInfo,o=jI(t);sP(t,o,a);break;default:throw Error(Q(161))}}catch(l){wt(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function NX(t,e,r){ce=t,qV(t)}function qV(t,e,r){for(var n=(t.mode&1)!==0;ce!==null;){var i=ce,s=i.child;if(i.tag===22&&n){var a=i.memoizedState!==null||Ch;if(!a){var o=i.alternate,l=o!==null&&o.memoizedState!==null||yr;o=Ch;var u=yr;if(Ch=a,(yr=l)&&!u)for(ce=i;ce!==null;)a=ce,l=a.child,a.tag===22&&a.memoizedState!==null?qI(i):l!==null?(l.return=a,ce=l):qI(i);for(;s!==null;)ce=s,qV(s),s=s.sibling;ce=i,Ch=o,yr=u}kI(t)}else i.subtreeFlags&8772&&s!==null?(s.return=i,ce=s):kI(t)}}function kI(t){for(;ce!==null;){var e=ce;if(e.flags&8772){var r=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:yr||fp(5,e);break;case 1:var n=e.stateNode;if(e.flags&4&&!yr)if(r===null)n.componentDidMount();else{var i=e.elementType===e.type?r.memoizedProps:Fn(e.type,r.memoizedProps);n.componentDidUpdate(i,r.memoizedState,n.__reactInternalSnapshotBeforeUpdate)}var s=e.updateQueue;s!==null&&yI(e,s,n);break;case 3:var a=e.updateQueue;if(a!==null){if(r=null,e.child!==null)switch(e.child.tag){case 5:r=e.child.stateNode;break;case 1:r=e.child.stateNode}yI(e,a,r)}break;case 5:var o=e.stateNode;if(r===null&&e.flags&4){r=o;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&r.focus();break;case"img":l.src&&(r.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var u=e.alternate;if(u!==null){var d=u.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Dc(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(Q(163))}yr||e.flags&512&&iP(e)}catch(f){wt(e,e.return,f)}}if(e===t){ce=null;break}if(r=e.sibling,r!==null){r.return=e.return,ce=r;break}ce=e.return}}function DI(t){for(;ce!==null;){var e=ce;if(e===t){ce=null;break}var r=e.sibling;if(r!==null){r.return=e.return,ce=r;break}ce=e.return}}function qI(t){for(;ce!==null;){var e=ce;try{switch(e.tag){case 0:case 11:case 15:var r=e.return;try{fp(4,e)}catch(l){wt(e,r,l)}break;case 1:var n=e.stateNode;if(typeof n.componentDidMount=="function"){var i=e.return;try{n.componentDidMount()}catch(l){wt(e,i,l)}}var s=e.return;try{iP(e)}catch(l){wt(e,s,l)}break;case 5:var a=e.return;try{iP(e)}catch(l){wt(e,a,l)}}}catch(l){wt(e,e.return,l)}if(e===t){ce=null;break}var o=e.sibling;if(o!==null){o.return=e.return,ce=o;break}ce=e.return}}var IX=Math.ceil,Nf=es.ReactCurrentDispatcher,VC=es.ReactCurrentOwner,Cn=es.ReactCurrentBatchConfig,Fe=0,Qt=null,It=null,lr=0,ln=0,sl=oa(0),Ht=0,Vc=null,to=0,pp=0,KC=0,bc=null,Ur=null,GC=0,Wl=1/0,Ti=null,If=!1,oP=null,zs=null,Th=!1,ks=null,Rf=0,wc=0,lP=null,Xh=-1,Jh=0;function Rr(){return Fe&6?Ot():Xh!==-1?Xh:Xh=Ot()}function Us(t){return t.mode&1?Fe&2&&lr!==0?lr&-lr:fX.transition!==null?(Jh===0&&(Jh=wH()),Jh):(t=We,t!==0||(t=window.event,t=t===void 0?16:CH(t.type)),t):1}function Qn(t,e,r,n){if(50<wc)throw wc=0,lP=null,Error(Q(185));wd(t,r,n),(!(Fe&2)||t!==Qt)&&(t===Qt&&(!(Fe&2)&&(pp|=r),Ht===4&&xs(t,lr)),Gr(t,n),r===1&&Fe===0&&!(e.mode&1)&&(Wl=Ot()+500,cp&&la()))}function Gr(t,e){var r=t.callbackNode;fQ(t,e);var n=pf(t,t===Qt?lr:0);if(n===0)r!==null&&HN(r),t.callbackNode=null,t.callbackPriority=0;else if(e=n&-n,t.callbackPriority!==e){if(r!=null&&HN(r),e===1)t.tag===0?hX(MI.bind(null,t)):VH(MI.bind(null,t)),lX(function(){!(Fe&6)&&la()}),r=null;else{switch(xH(n)){case 1:r=wC;break;case 4:r=yH;break;case 16:r=ff;break;case 536870912:r=bH;break;default:r=ff}r=WV(r,MV.bind(null,t))}t.callbackPriority=e,t.callbackNode=r}}function MV(t,e){if(Xh=-1,Jh=0,Fe&6)throw Error(Q(327));var r=t.callbackNode;if(gl()&&t.callbackNode!==r)return null;var n=pf(t,t===Qt?lr:0);if(n===0)return null;if(n&30||n&t.expiredLanes||e)e=jf(t,n);else{e=n;var i=Fe;Fe|=2;var s=FV();(Qt!==t||lr!==e)&&(Ti=null,Wl=Ot()+500,za(t,e));do try{$X();break}catch(o){AV(t,o)}while(!0);$C(),Nf.current=s,Fe=i,It!==null?e=0:(Qt=null,lr=0,e=Ht)}if(e!==0){if(e===2&&(i=DO(t),i!==0&&(n=i,e=uP(t,i))),e===1)throw r=Vc,za(t,0),xs(t,n),Gr(t,Ot()),r;if(e===6)xs(t,n);else{if(i=t.current.alternate,!(n&30)&&!RX(i)&&(e=jf(t,n),e===2&&(s=DO(t),s!==0&&(n=s,e=uP(t,s))),e===1))throw r=Vc,za(t,0),xs(t,n),Gr(t,Ot()),r;switch(t.finishedWork=i,t.finishedLanes=n,e){case 0:case 1:throw Error(Q(345));case 2:xa(t,Ur,Ti);break;case 3:if(xs(t,n),(n&130023424)===n&&(e=GC+500-Ot(),10<e)){if(pf(t,0)!==0)break;if(i=t.suspendedLanes,(i&n)!==n){Rr(),t.pingedLanes|=t.suspendedLanes&i;break}t.timeoutHandle=UO(xa.bind(null,t,Ur,Ti),e);break}xa(t,Ur,Ti);break;case 4:if(xs(t,n),(n&4194240)===n)break;for(e=t.eventTimes,i=-1;0<n;){var a=31-Yn(n);s=1<<a,a=e[a],a>i&&(i=a),n&=~s}if(n=i,n=Ot()-n,n=(120>n?120:480>n?480:1080>n?1080:1920>n?1920:3e3>n?3e3:4320>n?4320:1960*IX(n/1960))-n,10<n){t.timeoutHandle=UO(xa.bind(null,t,Ur,Ti),n);break}xa(t,Ur,Ti);break;case 5:xa(t,Ur,Ti);break;default:throw Error(Q(329))}}}return Gr(t,Ot()),t.callbackNode===r?MV.bind(null,t):null}function uP(t,e){var r=bc;return t.current.memoizedState.isDehydrated&&(za(t,e).flags|=256),t=jf(t,e),t!==2&&(e=Ur,Ur=r,e!==null&&cP(e)),t}function cP(t){Ur===null?Ur=t:Ur.push.apply(Ur,t)}function RX(t){for(var e=t;;){if(e.flags&16384){var r=e.updateQueue;if(r!==null&&(r=r.stores,r!==null))for(var n=0;n<r.length;n++){var i=r[n],s=i.getSnapshot;i=i.value;try{if(!Xn(s(),i))return!1}catch{return!1}}}if(r=e.child,e.subtreeFlags&16384&&r!==null)r.return=e,e=r;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function xs(t,e){for(e&=~KC,e&=~pp,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var r=31-Yn(e),n=1<<r;t[r]=-1,e&=~n}}function MI(t){if(Fe&6)throw Error(Q(327));gl();var e=pf(t,0);if(!(e&1))return Gr(t,Ot()),null;var r=jf(t,e);if(t.tag!==0&&r===2){var n=DO(t);n!==0&&(e=n,r=uP(t,n))}if(r===1)throw r=Vc,za(t,0),xs(t,e),Gr(t,Ot()),r;if(r===6)throw Error(Q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,xa(t,Ur,Ti),Gr(t,Ot()),null}function YC(t,e){var r=Fe;Fe|=1;try{return t(e)}finally{Fe=r,Fe===0&&(Wl=Ot()+500,cp&&la())}}function ro(t){ks!==null&&ks.tag===0&&!(Fe&6)&&gl();var e=Fe;Fe|=1;var r=Cn.transition,n=We;try{if(Cn.transition=null,We=1,t)return t()}finally{We=n,Cn.transition=r,Fe=e,!(Fe&6)&&la()}}function QC(){ln=sl.current,st(sl)}function za(t,e){t.finishedWork=null,t.finishedLanes=0;var r=t.timeoutHandle;if(r!==-1&&(t.timeoutHandle=-1,oX(r)),It!==null)for(r=It.return;r!==null;){var n=r;switch(IC(n),n.tag){case 1:n=n.type.childContextTypes,n!=null&&bf();break;case 3:zl(),st(Vr),st(xr),FC();break;case 5:AC(n);break;case 4:zl();break;case 13:st(dt);break;case 19:st(dt);break;case 10:kC(n.type._context);break;case 22:case 23:QC()}r=r.return}if(Qt=t,It=t=Ws(t.current,null),lr=ln=e,Ht=0,Vc=null,KC=pp=to=0,Ur=bc=null,Ea!==null){for(e=0;e<Ea.length;e++)if(r=Ea[e],n=r.interleaved,n!==null){r.interleaved=null;var i=n.next,s=r.pending;if(s!==null){var a=s.next;s.next=i,n.next=a}r.pending=n}Ea=null}return t}function AV(t,e){do{var r=It;try{if($C(),Gh.current=Tf,Cf){for(var n=ht.memoizedState;n!==null;){var i=n.queue;i!==null&&(i.pending=null),n=n.next}Cf=!1}if(eo=0,Yt=Ut=ht=null,gc=!1,Uc=0,VC.current=null,r===null||r.return===null){Ht=1,Vc=e,It=null;break}e:{var s=t,a=r.return,o=r,l=e;if(e=lr,o.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var u=l,d=o,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var p=EI(a);if(p!==null){p.flags&=-257,OI(p,a,o,s,e),p.mode&1&&SI(s,u,e),e=p,l=u;var m=e.updateQueue;if(m===null){var y=new Set;y.add(l),e.updateQueue=y}else m.add(l);break e}else{if(!(e&1)){SI(s,u,e),XC();break e}l=Error(Q(426))}}else if(lt&&o.mode&1){var b=EI(a);if(b!==null){!(b.flags&65536)&&(b.flags|=256),OI(b,a,o,s,e),RC(Ul(l,o));break e}}s=l=Ul(l,o),Ht!==4&&(Ht=2),bc===null?bc=[s]:bc.push(s),s=a;do{switch(s.tag){case 3:s.flags|=65536,e&=-e,s.lanes|=e;var g=xV(s,l,e);gI(s,g);break e;case 1:o=l;var v=s.type,x=s.stateNode;if(!(s.flags&128)&&(typeof v.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(zs===null||!zs.has(x)))){s.flags|=65536,e&=-e,s.lanes|=e;var w=_V(s,o,e);gI(s,w);break e}}s=s.return}while(s!==null)}BV(r)}catch(_){e=_,It===r&&r!==null&&(It=r=r.return);continue}break}while(!0)}function FV(){var t=Nf.current;return Nf.current=Tf,t===null?Tf:t}function XC(){(Ht===0||Ht===3||Ht===2)&&(Ht=4),Qt===null||!(to&268435455)&&!(pp&268435455)||xs(Qt,lr)}function jf(t,e){var r=Fe;Fe|=2;var n=FV();(Qt!==t||lr!==e)&&(Ti=null,za(t,e));do try{jX();break}catch(i){AV(t,i)}while(!0);if($C(),Fe=r,Nf.current=n,It!==null)throw Error(Q(261));return Qt=null,lr=0,Ht}function jX(){for(;It!==null;)LV(It)}function $X(){for(;It!==null&&!iQ();)LV(It)}function LV(t){var e=UV(t.alternate,t,ln);t.memoizedProps=t.pendingProps,e===null?BV(t):It=e,VC.current=null}function BV(t){var e=t;do{var r=e.alternate;if(t=e.return,e.flags&32768){if(r=PX(r,e),r!==null){r.flags&=32767,It=r;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Ht=6,It=null;return}}else if(r=OX(r,e,ln),r!==null){It=r;return}if(e=e.sibling,e!==null){It=e;return}It=e=t}while(e!==null);Ht===0&&(Ht=5)}function xa(t,e,r){var n=We,i=Cn.transition;try{Cn.transition=null,We=1,kX(t,e,r,n)}finally{Cn.transition=i,We=n}return null}function kX(t,e,r,n){do gl();while(ks!==null);if(Fe&6)throw Error(Q(327));r=t.finishedWork;var i=t.finishedLanes;if(r===null)return null;if(t.finishedWork=null,t.finishedLanes=0,r===t.current)throw Error(Q(177));t.callbackNode=null,t.callbackPriority=0;var s=r.lanes|r.childLanes;if(pQ(t,s),t===Qt&&(It=Qt=null,lr=0),!(r.subtreeFlags&2064)&&!(r.flags&2064)||Th||(Th=!0,WV(ff,function(){return gl(),null})),s=(r.flags&15990)!==0,r.subtreeFlags&15990||s){s=Cn.transition,Cn.transition=null;var a=We;We=1;var o=Fe;Fe|=4,VC.current=null,TX(t,r),DV(r,t),eX(BO),mf=!!LO,BO=LO=null,t.current=r,NX(r),sQ(),Fe=o,We=a,Cn.transition=s}else t.current=r;if(Th&&(Th=!1,ks=t,Rf=i),s=t.pendingLanes,s===0&&(zs=null),lQ(r.stateNode),Gr(t,Ot()),e!==null)for(n=t.onRecoverableError,r=0;r<e.length;r++)i=e[r],n(i.value,{componentStack:i.stack,digest:i.digest});if(If)throw If=!1,t=oP,oP=null,t;return Rf&1&&t.tag!==0&&gl(),s=t.pendingLanes,s&1?t===lP?wc++:(wc=0,lP=t):wc=0,la(),null}function gl(){if(ks!==null){var t=xH(Rf),e=Cn.transition,r=We;try{if(Cn.transition=null,We=16>t?16:t,ks===null)var n=!1;else{if(t=ks,ks=null,Rf=0,Fe&6)throw Error(Q(331));var i=Fe;for(Fe|=4,ce=t.current;ce!==null;){var s=ce,a=s.child;if(ce.flags&16){var o=s.deletions;if(o!==null){for(var l=0;l<o.length;l++){var u=o[l];for(ce=u;ce!==null;){var d=ce;switch(d.tag){case 0:case 11:case 15:yc(8,d,s)}var h=d.child;if(h!==null)h.return=d,ce=h;else for(;ce!==null;){d=ce;var f=d.sibling,p=d.return;if(jV(d),d===u){ce=null;break}if(f!==null){f.return=p,ce=f;break}ce=p}}}var m=s.alternate;if(m!==null){var y=m.child;if(y!==null){m.child=null;do{var b=y.sibling;y.sibling=null,y=b}while(y!==null)}}ce=s}}if(s.subtreeFlags&2064&&a!==null)a.return=s,ce=a;else e:for(;ce!==null;){if(s=ce,s.flags&2048)switch(s.tag){case 0:case 11:case 15:yc(9,s,s.return)}var g=s.sibling;if(g!==null){g.return=s.return,ce=g;break e}ce=s.return}}var v=t.current;for(ce=v;ce!==null;){a=ce;var x=a.child;if(a.subtreeFlags&2064&&x!==null)x.return=a,ce=x;else e:for(a=v;ce!==null;){if(o=ce,o.flags&2048)try{switch(o.tag){case 0:case 11:case 15:fp(9,o)}}catch(_){wt(o,o.return,_)}if(o===a){ce=null;break e}var w=o.sibling;if(w!==null){w.return=o.return,ce=w;break e}ce=o.return}}if(Fe=i,la(),yi&&typeof yi.onPostCommitFiberRoot=="function")try{yi.onPostCommitFiberRoot(sp,t)}catch{}n=!0}return n}finally{We=r,Cn.transition=e}}return!1}function AI(t,e,r){e=Ul(r,e),e=xV(t,e,1),t=Bs(t,e,1),e=Rr(),t!==null&&(wd(t,1,e),Gr(t,e))}function wt(t,e,r){if(t.tag===3)AI(t,t,r);else for(;e!==null;){if(e.tag===3){AI(e,t,r);break}else if(e.tag===1){var n=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof n.componentDidCatch=="function"&&(zs===null||!zs.has(n))){t=Ul(r,t),t=_V(e,t,1),e=Bs(e,t,1),t=Rr(),e!==null&&(wd(e,1,t),Gr(e,t));break}}e=e.return}}function DX(t,e,r){var n=t.pingCache;n!==null&&n.delete(e),e=Rr(),t.pingedLanes|=t.suspendedLanes&r,Qt===t&&(lr&r)===r&&(Ht===4||Ht===3&&(lr&130023424)===lr&&500>Ot()-GC?za(t,0):KC|=r),Gr(t,e)}function zV(t,e){e===0&&(t.mode&1?(e=yh,yh<<=1,!(yh&130023424)&&(yh=4194304)):e=1);var r=Rr();t=Xi(t,e),t!==null&&(wd(t,e,r),Gr(t,r))}function qX(t){var e=t.memoizedState,r=0;e!==null&&(r=e.retryLane),zV(t,r)}function MX(t,e){var r=0;switch(t.tag){case 13:var n=t.stateNode,i=t.memoizedState;i!==null&&(r=i.retryLane);break;case 19:n=t.stateNode;break;default:throw Error(Q(314))}n!==null&&n.delete(e),zV(t,r)}var UV;UV=function(t,e,r){if(t!==null)if(t.memoizedProps!==e.pendingProps||Vr.current)Hr=!0;else{if(!(t.lanes&r)&&!(e.flags&128))return Hr=!1,EX(t,e,r);Hr=!!(t.flags&131072)}else Hr=!1,lt&&e.flags&1048576&&KH(e,_f,e.index);switch(e.lanes=0,e.tag){case 2:var n=e.type;Qh(t,e),t=e.pendingProps;var i=Fl(e,xr.current);vl(e,r),i=BC(null,e,n,t,i,r);var s=zC();return e.flags|=1,typeof i=="object"&&i!==null&&typeof i.render=="function"&&i.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Kr(n)?(s=!0,wf(e)):s=!1,e.memoizedState=i.state!==null&&i.state!==void 0?i.state:null,qC(e),i.updater=hp,e.stateNode=i,i._reactInternals=e,QO(e,n,t,r),e=ZO(null,e,n,!0,s,r)):(e.tag=0,lt&&s&&NC(e),Pr(null,e,i,r),e=e.child),e;case 16:n=e.elementType;e:{switch(Qh(t,e),t=e.pendingProps,i=n._init,n=i(n._payload),e.type=n,i=e.tag=FX(n),t=Fn(n,t),i){case 0:e=JO(null,e,n,t,r);break e;case 1:e=TI(null,e,n,t,r);break e;case 11:e=PI(null,e,n,t,r);break e;case 14:e=CI(null,e,n,Fn(n.type,t),r);break e}throw Error(Q(306,n,""))}return e;case 0:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),JO(t,e,n,i,r);case 1:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),TI(t,e,n,i,r);case 3:e:{if(PV(e),t===null)throw Error(Q(387));n=e.pendingProps,s=e.memoizedState,i=s.element,ZH(t,e),Of(e,n,null,r);var a=e.memoizedState;if(n=a.element,s.isDehydrated)if(s={element:n,isDehydrated:!1,cache:a.cache,pendingSuspenseBoundaries:a.pendingSuspenseBoundaries,transitions:a.transitions},e.updateQueue.baseState=s,e.memoizedState=s,e.flags&256){i=Ul(Error(Q(423)),e),e=NI(t,e,n,r,i);break e}else if(n!==i){i=Ul(Error(Q(424)),e),e=NI(t,e,n,r,i);break e}else for(dn=Ls(e.stateNode.containerInfo.firstChild),hn=e,lt=!0,Un=null,r=XH(e,null,n,r),e.child=r;r;)r.flags=r.flags&-3|4096,r=r.sibling;else{if(Ll(),n===i){e=Ji(t,e,r);break e}Pr(t,e,n,r)}e=e.child}return e;case 5:return eV(e),t===null&&KO(e),n=e.type,i=e.pendingProps,s=t!==null?t.memoizedProps:null,a=i.children,zO(n,i)?a=null:s!==null&&zO(n,s)&&(e.flags|=32),OV(t,e),Pr(t,e,a,r),e.child;case 6:return t===null&&KO(e),null;case 13:return CV(t,e,r);case 4:return MC(e,e.stateNode.containerInfo),n=e.pendingProps,t===null?e.child=Bl(e,null,n,r):Pr(t,e,n,r),e.child;case 11:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),PI(t,e,n,i,r);case 7:return Pr(t,e,e.pendingProps,r),e.child;case 8:return Pr(t,e,e.pendingProps.children,r),e.child;case 12:return Pr(t,e,e.pendingProps.children,r),e.child;case 10:e:{if(n=e.type._context,i=e.pendingProps,s=e.memoizedProps,a=i.value,rt(Sf,n._currentValue),n._currentValue=a,s!==null)if(Xn(s.value,a)){if(s.children===i.children&&!Vr.current){e=Ji(t,e,r);break e}}else for(s=e.child,s!==null&&(s.return=e);s!==null;){var o=s.dependencies;if(o!==null){a=s.child;for(var l=o.firstContext;l!==null;){if(l.context===n){if(s.tag===1){l=Ai(-1,r&-r),l.tag=2;var u=s.updateQueue;if(u!==null){u=u.shared;var d=u.pending;d===null?l.next=l:(l.next=d.next,d.next=l),u.pending=l}}s.lanes|=r,l=s.alternate,l!==null&&(l.lanes|=r),GO(s.return,r,e),o.lanes|=r;break}l=l.next}}else if(s.tag===10)a=s.type===e.type?null:s.child;else if(s.tag===18){if(a=s.return,a===null)throw Error(Q(341));a.lanes|=r,o=a.alternate,o!==null&&(o.lanes|=r),GO(a,r,e),a=s.sibling}else a=s.child;if(a!==null)a.return=s;else for(a=s;a!==null;){if(a===e){a=null;break}if(s=a.sibling,s!==null){s.return=a.return,a=s;break}a=a.return}s=a}Pr(t,e,i.children,r),e=e.child}return e;case 9:return i=e.type,n=e.pendingProps.children,vl(e,r),i=In(i),n=n(i),e.flags|=1,Pr(t,e,n,r),e.child;case 14:return n=e.type,i=Fn(n,e.pendingProps),i=Fn(n.type,i),CI(t,e,n,i,r);case 15:return SV(t,e,e.type,e.pendingProps,r);case 17:return n=e.type,i=e.pendingProps,i=e.elementType===n?i:Fn(n,i),Qh(t,e),e.tag=1,Kr(n)?(t=!0,wf(e)):t=!1,vl(e,r),wV(e,n,i),QO(e,n,i,r),ZO(null,e,n,!0,t,r);case 19:return TV(t,e,r);case 22:return EV(t,e,r)}throw Error(Q(156,e.tag))};function WV(t,e){return gH(t,e)}function AX(t,e,r,n){this.tag=t,this.key=r,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=n,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pn(t,e,r,n){return new AX(t,e,r,n)}function JC(t){return t=t.prototype,!(!t||!t.isReactComponent)}function FX(t){if(typeof t=="function")return JC(t)?1:0;if(t!=null){if(t=t.$$typeof,t===gC)return 11;if(t===yC)return 14}return 2}function Ws(t,e){var r=t.alternate;return r===null?(r=Pn(t.tag,e,t.key,t.mode),r.elementType=t.elementType,r.type=t.type,r.stateNode=t.stateNode,r.alternate=t,t.alternate=r):(r.pendingProps=e,r.type=t.type,r.flags=0,r.subtreeFlags=0,r.deletions=null),r.flags=t.flags&14680064,r.childLanes=t.childLanes,r.lanes=t.lanes,r.child=t.child,r.memoizedProps=t.memoizedProps,r.memoizedState=t.memoizedState,r.updateQueue=t.updateQueue,e=t.dependencies,r.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},r.sibling=t.sibling,r.index=t.index,r.ref=t.ref,r}function Zh(t,e,r,n,i,s){var a=2;if(n=t,typeof t=="function")JC(t)&&(a=1);else if(typeof t=="string")a=5;else e:switch(t){case Yo:return Ua(r.children,i,s,e);case vC:a=8,i|=8;break;case wO:return t=Pn(12,r,e,i|2),t.elementType=wO,t.lanes=s,t;case xO:return t=Pn(13,r,e,i),t.elementType=xO,t.lanes=s,t;case _O:return t=Pn(19,r,e,i),t.elementType=_O,t.lanes=s,t;case eH:return mp(r,i,s,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case J8:a=10;break e;case Z8:a=9;break e;case gC:a=11;break e;case yC:a=14;break e;case ms:a=16,n=null;break e}throw Error(Q(130,t==null?t:typeof t,""))}return e=Pn(a,r,e,i),e.elementType=t,e.type=n,e.lanes=s,e}function Ua(t,e,r,n){return t=Pn(7,t,n,e),t.lanes=r,t}function mp(t,e,r,n){return t=Pn(22,t,n,e),t.elementType=eH,t.lanes=r,t.stateNode={isHidden:!1},t}function Mm(t,e,r){return t=Pn(6,t,null,e),t.lanes=r,t}function Am(t,e,r){return e=Pn(4,t.children!==null?t.children:[],t.key,e),e.lanes=r,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function LX(t,e,r,n,i){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=ym(0),this.expirationTimes=ym(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=ym(0),this.identifierPrefix=n,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function ZC(t,e,r,n,i,s,a,o,l){return t=new LX(t,e,r,o,l),e===1?(e=1,s===!0&&(e|=8)):e=0,s=Pn(3,null,null,e),t.current=s,s.stateNode=t,s.memoizedState={element:n,isDehydrated:r,cache:null,transitions:null,pendingSuspenseBoundaries:null},qC(s),t}function BX(t,e,r){var n=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Go,key:n==null?null:""+n,children:t,containerInfo:e,implementation:r}}function HV(t){if(!t)return ea;t=t._reactInternals;e:{if(bo(t)!==t||t.tag!==1)throw Error(Q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Kr(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(Q(171))}if(t.tag===1){var r=t.type;if(Kr(r))return HH(t,r,e)}return e}function VV(t,e,r,n,i,s,a,o,l){return t=ZC(r,n,!0,t,i,s,a,o,l),t.context=HV(null),r=t.current,n=Rr(),i=Us(r),s=Ai(n,i),s.callback=e??null,Bs(r,s,i),t.current.lanes=i,wd(t,i,n),Gr(t,n),t}function vp(t,e,r,n){var i=e.current,s=Rr(),a=Us(i);return r=HV(r),e.context===null?e.context=r:e.pendingContext=r,e=Ai(s,a),e.payload={element:t},n=n===void 0?null:n,n!==null&&(e.callback=n),t=Bs(i,e,a),t!==null&&(Qn(t,i,a,s),Kh(t,i,a)),a}function $f(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function FI(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var r=t.retryLane;t.retryLane=r!==0&&r<e?r:e}}function eT(t,e){FI(t,e),(t=t.alternate)&&FI(t,e)}function zX(){return null}var KV=typeof reportError=="function"?reportError:function(t){console.error(t)};function tT(t){this._internalRoot=t}gp.prototype.render=tT.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(Q(409));vp(t,e,null,null)};gp.prototype.unmount=tT.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;ro(function(){vp(null,t,null,null)}),e[Qi]=null}};function gp(t){this._internalRoot=t}gp.prototype.unstable_scheduleHydration=function(t){if(t){var e=EH();t={blockedOn:null,target:t,priority:e};for(var r=0;r<ws.length&&e!==0&&e<ws[r].priority;r++);ws.splice(r,0,t),r===0&&PH(t)}};function rT(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function yp(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function LI(){}function UX(t,e,r,n,i){if(i){if(typeof n=="function"){var s=n;n=function(){var u=$f(a);s.call(u)}}var a=VV(e,n,t,0,null,!1,!1,"",LI);return t._reactRootContainer=a,t[Qi]=a.current,Ac(t.nodeType===8?t.parentNode:t),ro(),a}for(;i=t.lastChild;)t.removeChild(i);if(typeof n=="function"){var o=n;n=function(){var u=$f(l);o.call(u)}}var l=ZC(t,0,!1,null,null,!1,!1,"",LI);return t._reactRootContainer=l,t[Qi]=l.current,Ac(t.nodeType===8?t.parentNode:t),ro(function(){vp(e,l,r,n)}),l}function bp(t,e,r,n,i){var s=r._reactRootContainer;if(s){var a=s;if(typeof i=="function"){var o=i;i=function(){var l=$f(a);o.call(l)}}vp(e,a,t,i)}else a=UX(r,e,t,i,n);return $f(a)}_H=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var r=oc(e.pendingLanes);r!==0&&(xC(e,r|1),Gr(e,Ot()),!(Fe&6)&&(Wl=Ot()+500,la()))}break;case 13:ro(function(){var n=Xi(t,1);if(n!==null){var i=Rr();Qn(n,t,1,i)}}),eT(t,1)}};_C=function(t){if(t.tag===13){var e=Xi(t,134217728);if(e!==null){var r=Rr();Qn(e,t,134217728,r)}eT(t,134217728)}};SH=function(t){if(t.tag===13){var e=Us(t),r=Xi(t,e);if(r!==null){var n=Rr();Qn(r,t,e,n)}eT(t,e)}};EH=function(){return We};OH=function(t,e){var r=We;try{return We=t,e()}finally{We=r}};jO=function(t,e,r){switch(e){case"input":if(OO(t,r),e=r.name,r.type==="radio"&&e!=null){for(r=t;r.parentNode;)r=r.parentNode;for(r=r.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<r.length;e++){var n=r[e];if(n!==t&&n.form===t.form){var i=up(n);if(!i)throw Error(Q(90));rH(n),OO(n,i)}}}break;case"textarea":iH(t,r);break;case"select":e=r.value,e!=null&&hl(t,!!r.multiple,e,!1)}};dH=YC;hH=ro;var WX={usingClientEntryPoint:!1,Events:[_d,Zo,up,uH,cH,YC]},Qu={findFiberByHostInstance:Sa,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},HX={bundleType:Qu.bundleType,version:Qu.version,rendererPackageName:Qu.rendererPackageName,rendererConfig:Qu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:es.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=mH(t),t===null?null:t.stateNode},findFiberByHostInstance:Qu.findFiberByHostInstance||zX,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Nh=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Nh.isDisabled&&Nh.supportsFiber)try{sp=Nh.inject(HX),yi=Nh}catch{}}pn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=WX;pn.createPortal=function(t,e){var r=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!rT(e))throw Error(Q(200));return BX(t,e,null,r)};pn.createRoot=function(t,e){if(!rT(t))throw Error(Q(299));var r=!1,n="",i=KV;return e!=null&&(e.unstable_strictMode===!0&&(r=!0),e.identifierPrefix!==void 0&&(n=e.identifierPrefix),e.onRecoverableError!==void 0&&(i=e.onRecoverableError)),e=ZC(t,1,!1,null,null,r,!1,n,i),t[Qi]=e.current,Ac(t.nodeType===8?t.parentNode:t),new tT(e)};pn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(Q(188)):(t=Object.keys(t).join(","),Error(Q(268,t)));return t=mH(e),t=t===null?null:t.stateNode,t};pn.flushSync=function(t){return ro(t)};pn.hydrate=function(t,e,r){if(!yp(e))throw Error(Q(200));return bp(null,t,e,!0,r)};pn.hydrateRoot=function(t,e,r){if(!rT(t))throw Error(Q(405));var n=r!=null&&r.hydratedSources||null,i=!1,s="",a=KV;if(r!=null&&(r.unstable_strictMode===!0&&(i=!0),r.identifierPrefix!==void 0&&(s=r.identifierPrefix),r.onRecoverableError!==void 0&&(a=r.onRecoverableError)),e=VV(e,null,t,1,r??null,i,!1,s,a),t[Qi]=e.current,Ac(t),n)for(t=0;t<n.length;t++)r=n[t],i=r._getVersion,i=i(r._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[r,i]:e.mutableSourceEagerHydrationData.push(r,i);return new gp(e)};pn.render=function(t,e,r){if(!yp(e))throw Error(Q(200));return bp(null,t,e,!1,r)};pn.unmountComponentAtNode=function(t){if(!yp(t))throw Error(Q(40));return t._reactRootContainer?(ro(function(){bp(null,null,t,!1,function(){t._reactRootContainer=null,t[Qi]=null})}),!0):!1};pn.unstable_batchedUpdates=YC;pn.unstable_renderSubtreeIntoContainer=function(t,e,r,n){if(!yp(r))throw Error(Q(200));if(t==null||t._reactInternals===void 0)throw Error(Q(38));return bp(t,e,r,!1,n)};pn.version="18.3.1-next-f1338f8080-20240426";function GV(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(GV)}catch(t){console.error(t)}}GV(),G8.exports=pn;var VX=G8.exports,BI=VX;yO.createRoot=BI.createRoot,yO.hydrateRoot=BI.hydrateRoot;/**
 * @remix-run/router v1.23.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Kc(){return Kc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Kc.apply(this,arguments)}var Ds;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Ds||(Ds={}));const zI="popstate";function KX(t){t===void 0&&(t={});function e(n,i){let{pathname:s,search:a,hash:o}=n.location;return dP("",{pathname:s,search:a,hash:o},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function r(n,i){return typeof i=="string"?i:kf(i)}return YX(e,r,null,t)}function ft(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function nT(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function GX(){return Math.random().toString(36).substr(2,8)}function UI(t,e){return{usr:t.state,key:t.key,idx:e}}function dP(t,e,r,n){return r===void 0&&(r=null),Kc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?cu(e):e,{state:r,key:e&&e.key||n||GX()})}function kf(t){let{pathname:e="/",search:r="",hash:n=""}=t;return r&&r!=="?"&&(e+=r.charAt(0)==="?"?r:"?"+r),n&&n!=="#"&&(e+=n.charAt(0)==="#"?n:"#"+n),e}function cu(t){let e={};if(t){let r=t.indexOf("#");r>=0&&(e.hash=t.substr(r),t=t.substr(0,r));let n=t.indexOf("?");n>=0&&(e.search=t.substr(n),t=t.substr(0,n)),t&&(e.pathname=t)}return e}function YX(t,e,r,n){n===void 0&&(n={});let{window:i=document.defaultView,v5Compat:s=!1}=n,a=i.history,o=Ds.Pop,l=null,u=d();u==null&&(u=0,a.replaceState(Kc({},a.state,{idx:u}),""));function d(){return(a.state||{idx:null}).idx}function h(){o=Ds.Pop;let b=d(),g=b==null?null:b-u;u=b,l&&l({action:o,location:y.location,delta:g})}function f(b,g){o=Ds.Push;let v=dP(y.location,b,g);u=d()+1;let x=UI(v,u),w=y.createHref(v);try{a.pushState(x,"",w)}catch(_){if(_ instanceof DOMException&&_.name==="DataCloneError")throw _;i.location.assign(w)}s&&l&&l({action:o,location:y.location,delta:1})}function p(b,g){o=Ds.Replace;let v=dP(y.location,b,g);u=d();let x=UI(v,u),w=y.createHref(v);a.replaceState(x,"",w),s&&l&&l({action:o,location:y.location,delta:0})}function m(b){let g=i.location.origin!=="null"?i.location.origin:i.location.href,v=typeof b=="string"?b:kf(b);return v=v.replace(/ $/,"%20"),ft(g,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,g)}let y={get action(){return o},get location(){return t(i,a)},listen(b){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(zI,h),l=b,()=>{i.removeEventListener(zI,h),l=null}},createHref(b){return e(i,b)},createURL:m,encodeLocation(b){let g=m(b);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:p,go(b){return a.go(b)}};return y}var WI;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(WI||(WI={}));function QX(t,e,r){return r===void 0&&(r="/"),XX(t,e,r)}function XX(t,e,r,n){let i=typeof e=="string"?cu(e):e,s=Hl(i.pathname||"/",r);if(s==null)return null;let a=YV(t);JX(a);let o=null;for(let l=0;o==null&&l<a.length;++l){let u=uJ(s);o=oJ(a[l],u)}return o}function YV(t,e,r,n){e===void 0&&(e=[]),r===void 0&&(r=[]),n===void 0&&(n="");let i=(s,a,o)=>{let l={relativePath:o===void 0?s.path||"":o,caseSensitive:s.caseSensitive===!0,childrenIndex:a,route:s};l.relativePath.startsWith("/")&&(ft(l.relativePath.startsWith(n),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+n+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(n.length));let u=Hs([n,l.relativePath]),d=r.concat(l);s.children&&s.children.length>0&&(ft(s.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+u+'".')),YV(s.children,e,d,u)),!(s.path==null&&!s.index)&&e.push({path:u,score:sJ(u,s.index),routesMeta:d})};return t.forEach((s,a)=>{var o;if(s.path===""||!((o=s.path)!=null&&o.includes("?")))i(s,a);else for(let l of QV(s.path))i(s,a,l)}),e}function QV(t){let e=t.split("/");if(e.length===0)return[];let[r,...n]=e,i=r.endsWith("?"),s=r.replace(/\?$/,"");if(n.length===0)return i?[s,""]:[s];let a=QV(n.join("/")),o=[];return o.push(...a.map(l=>l===""?s:[s,l].join("/"))),i&&o.push(...a),o.map(l=>t.startsWith("/")&&l===""?"/":l)}function JX(t){t.sort((e,r)=>e.score!==r.score?r.score-e.score:aJ(e.routesMeta.map(n=>n.childrenIndex),r.routesMeta.map(n=>n.childrenIndex)))}const ZX=/^:[\w-]+$/,eJ=3,tJ=2,rJ=1,nJ=10,iJ=-2,HI=t=>t==="*";function sJ(t,e){let r=t.split("/"),n=r.length;return r.some(HI)&&(n+=iJ),e&&(n+=tJ),r.filter(i=>!HI(i)).reduce((i,s)=>i+(ZX.test(s)?eJ:s===""?rJ:nJ),n)}function aJ(t,e){return t.length===e.length&&t.slice(0,-1).every((n,i)=>n===e[i])?t[t.length-1]-e[e.length-1]:0}function oJ(t,e,r){let{routesMeta:n}=t,i={},s="/",a=[];for(let o=0;o<n.length;++o){let l=n[o],u=o===n.length-1,d=s==="/"?e:e.slice(s.length)||"/",h=hP({path:l.relativePath,caseSensitive:l.caseSensitive,end:u},d),f=l.route;if(!h)return null;Object.assign(i,h.params),a.push({params:i,pathname:Hs([s,h.pathname]),pathnameBase:pJ(Hs([s,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(s=Hs([s,h.pathnameBase]))}return a}function hP(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[r,n]=lJ(t.path,t.caseSensitive,t.end),i=e.match(r);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:n.reduce((u,d,h)=>{let{paramName:f,isOptional:p}=d;if(f==="*"){let y=o[h]||"";a=s.slice(0,s.length-y.length).replace(/(.)\/+$/,"$1")}const m=o[h];return p&&!m?u[f]=void 0:u[f]=(m||"").replace(/%2F/g,"/"),u},{}),pathname:s,pathnameBase:a,pattern:t}}function lJ(t,e,r){e===void 0&&(e=!1),r===void 0&&(r=!0),nT(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let n=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(a,o,l)=>(n.push({paramName:o,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(n.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):r?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),n]}function uJ(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return nT(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Hl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let r=e.endsWith("/")?e.length-1:e.length,n=t.charAt(r);return n&&n!=="/"?null:t.slice(r)||"/"}const cJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dJ=t=>cJ.test(t);function hJ(t,e){e===void 0&&(e="/");let{pathname:r,search:n="",hash:i=""}=typeof t=="string"?cu(t):t,s;if(r)if(dJ(r))s=r;else{if(r.includes("//")){let a=r;r=r.replace(/\/\/+/g,"/"),nT(!1,"Pathnames cannot have embedded double slashes - normalizing "+(a+" -> "+r))}r.startsWith("/")?s=VI(r.substring(1),"/"):s=VI(r,e)}else s=e;return{pathname:s,search:mJ(n),hash:vJ(i)}}function VI(t,e){let r=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?r.length>1&&r.pop():i!=="."&&r.push(i)}),r.length>1?r.join("/"):"/"}function Fm(t,e,r,n){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(n)+"].  Please separate it out to the ")+("`to."+r+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function fJ(t){return t.filter((e,r)=>r===0||e.route.path&&e.route.path.length>0)}function iT(t,e){let r=fJ(t);return e?r.map((n,i)=>i===r.length-1?n.pathname:n.pathnameBase):r.map(n=>n.pathnameBase)}function sT(t,e,r,n){n===void 0&&(n=!1);let i;typeof t=="string"?i=cu(t):(i=Kc({},t),ft(!i.pathname||!i.pathname.includes("?"),Fm("?","pathname","search",i)),ft(!i.pathname||!i.pathname.includes("#"),Fm("#","pathname","hash",i)),ft(!i.search||!i.search.includes("#"),Fm("#","search","hash",i)));let s=t===""||i.pathname==="",a=s?"/":i.pathname,o;if(a==null)o=r;else{let h=e.length-1;if(!n&&a.startsWith("..")){let f=a.split("/");for(;f[0]==="..";)f.shift(),h-=1;i.pathname=f.join("/")}o=h>=0?e[h]:"/"}let l=hJ(i,o),u=a&&a!=="/"&&a.endsWith("/"),d=(s||a===".")&&r.endsWith("/");return!l.pathname.endsWith("/")&&(u||d)&&(l.pathname+="/"),l}const Hs=t=>t.join("/").replace(/\/\/+/g,"/"),pJ=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),mJ=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,vJ=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function gJ(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const XV=["post","put","patch","delete"];new Set(XV);const yJ=["get",...XV];new Set(yJ);/**
 * React Router v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Gc(){return Gc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Gc.apply(this,arguments)}const wp=$.createContext(null),JV=$.createContext(null),ts=$.createContext(null),xp=$.createContext(null),rs=$.createContext({outlet:null,matches:[],isDataRoute:!1}),ZV=$.createContext(null);function bJ(t,e){let{relative:r}=e===void 0?{}:e;du()||ft(!1);let{basename:n,navigator:i}=$.useContext(ts),{hash:s,pathname:a,search:o}=_p(t,{relative:r}),l=a;return n!=="/"&&(l=a==="/"?n:Hs([n,a])),i.createHref({pathname:l,search:o,hash:s})}function du(){return $.useContext(xp)!=null}function ns(){return du()||ft(!1),$.useContext(xp).location}function e7(t){$.useContext(ts).static||$.useLayoutEffect(t)}function en(){let{isDataRoute:t}=$.useContext(rs);return t?jJ():wJ()}function wJ(){du()||ft(!1);let t=$.useContext(wp),{basename:e,future:r,navigator:n}=$.useContext(ts),{matches:i}=$.useContext(rs),{pathname:s}=ns(),a=JSON.stringify(iT(i,r.v7_relativeSplatPath)),o=$.useRef(!1);return e7(()=>{o.current=!0}),$.useCallback(function(u,d){if(d===void 0&&(d={}),!o.current)return;if(typeof u=="number"){n.go(u);return}let h=sT(u,JSON.parse(a),s,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Hs([e,h.pathname])),(d.replace?n.replace:n.push)(h,d.state,d)},[e,n,a,s,t])}function is(){let{matches:t}=$.useContext(rs),e=t[t.length-1];return e?e.params:{}}function _p(t,e){let{relative:r}=e===void 0?{}:e,{future:n}=$.useContext(ts),{matches:i}=$.useContext(rs),{pathname:s}=ns(),a=JSON.stringify(iT(i,n.v7_relativeSplatPath));return $.useMemo(()=>sT(t,JSON.parse(a),s,r==="path"),[t,a,s,r])}function xJ(t,e){return _J(t,e)}function _J(t,e,r,n){du()||ft(!1);let{navigator:i}=$.useContext(ts),{matches:s}=$.useContext(rs),a=s[s.length-1],o=a?a.params:{};a&&a.pathname;let l=a?a.pathnameBase:"/";a&&a.route;let u=ns(),d;if(e){var h;let b=typeof e=="string"?cu(e):e;l==="/"||(h=b.pathname)!=null&&h.startsWith(l)||ft(!1),d=b}else d=u;let f=d.pathname||"/",p=f;if(l!=="/"){let b=l.replace(/^\//,"").split("/");p="/"+f.replace(/^\//,"").split("/").slice(b.length).join("/")}let m=QX(t,{pathname:p}),y=CJ(m&&m.map(b=>Object.assign({},b,{params:Object.assign({},o,b.params),pathname:Hs([l,i.encodeLocation?i.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:Hs([l,i.encodeLocation?i.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),s,r,n);return e&&y?$.createElement(xp.Provider,{value:{location:Gc({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Ds.Pop}},y):y}function SJ(){let t=RJ(),e=gJ(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),r=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return $.createElement($.Fragment,null,$.createElement("h2",null,"Unexpected Application Error!"),$.createElement("h3",{style:{fontStyle:"italic"}},e),r?$.createElement("pre",{style:i},r):null,null)}const EJ=$.createElement(SJ,null);class OJ extends $.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,r){return r.location!==e.location||r.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:r.error,location:r.location,revalidation:e.revalidation||r.revalidation}}componentDidCatch(e,r){console.error("React Router caught the following error during render",e,r)}render(){return this.state.error!==void 0?$.createElement(rs.Provider,{value:this.props.routeContext},$.createElement(ZV.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function PJ(t){let{routeContext:e,match:r,children:n}=t,i=$.useContext(wp);return i&&i.static&&i.staticContext&&(r.route.errorElement||r.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=r.route.id),$.createElement(rs.Provider,{value:e},n)}function CJ(t,e,r,n){var i;if(e===void 0&&(e=[]),r===void 0&&(r=null),n===void 0&&(n=null),t==null){var s;if(!r)return null;if(r.errors)t=r.matches;else if((s=n)!=null&&s.v7_partialHydration&&e.length===0&&!r.initialized&&r.matches.length>0)t=r.matches;else return null}let a=t,o=(i=r)==null?void 0:i.errors;if(o!=null){let d=a.findIndex(h=>h.route.id&&(o==null?void 0:o[h.route.id])!==void 0);d>=0||ft(!1),a=a.slice(0,Math.min(a.length,d+1))}let l=!1,u=-1;if(r&&n&&n.v7_partialHydration)for(let d=0;d<a.length;d++){let h=a[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(u=d),h.route.id){let{loaderData:f,errors:p}=r,m=h.route.loader&&f[h.route.id]===void 0&&(!p||p[h.route.id]===void 0);if(h.route.lazy||m){l=!0,u>=0?a=a.slice(0,u+1):a=[a[0]];break}}}return a.reduceRight((d,h,f)=>{let p,m=!1,y=null,b=null;r&&(p=o&&h.route.id?o[h.route.id]:void 0,y=h.route.errorElement||EJ,l&&(u<0&&f===0?($J("route-fallback"),m=!0,b=null):u===f&&(m=!0,b=h.route.hydrateFallbackElement||null)));let g=e.concat(a.slice(0,f+1)),v=()=>{let x;return p?x=y:m?x=b:h.route.Component?x=$.createElement(h.route.Component,null):h.route.element?x=h.route.element:x=d,$.createElement(PJ,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:r!=null},children:x})};return r&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?$.createElement(OJ,{location:r.location,revalidation:r.revalidation,component:y,error:p,children:v(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):v()},null)}var t7=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(t7||{}),r7=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(r7||{});function TJ(t){let e=$.useContext(wp);return e||ft(!1),e}function NJ(t){let e=$.useContext(JV);return e||ft(!1),e}function IJ(t){let e=$.useContext(rs);return e||ft(!1),e}function n7(t){let e=IJ(),r=e.matches[e.matches.length-1];return r.route.id||ft(!1),r.route.id}function RJ(){var t;let e=$.useContext(ZV),r=NJ(),n=n7();return e!==void 0?e:(t=r.errors)==null?void 0:t[n]}function jJ(){let{router:t}=TJ(t7.UseNavigateStable),e=n7(r7.UseNavigateStable),r=$.useRef(!1);return e7(()=>{r.current=!0}),$.useCallback(function(i,s){s===void 0&&(s={}),r.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Gc({fromRouteId:e},s)))},[t,e])}const KI={};function $J(t,e,r){KI[t]||(KI[t]=!0)}function kJ(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function i7(t){let{to:e,replace:r,state:n,relative:i}=t;du()||ft(!1);let{future:s,static:a}=$.useContext(ts),{matches:o}=$.useContext(rs),{pathname:l}=ns(),u=en(),d=sT(e,iT(o,s.v7_relativeSplatPath),l,i==="path"),h=JSON.stringify(d);return $.useEffect(()=>u(JSON.parse(h),{replace:r,state:n,relative:i}),[u,h,i,r,n]),null}function Xe(t){ft(!1)}function DJ(t){let{basename:e="/",children:r=null,location:n,navigationType:i=Ds.Pop,navigator:s,static:a=!1,future:o}=t;du()&&ft(!1);let l=e.replace(/^\/*/,"/"),u=$.useMemo(()=>({basename:l,navigator:s,static:a,future:Gc({v7_relativeSplatPath:!1},o)}),[l,o,s,a]);typeof n=="string"&&(n=cu(n));let{pathname:d="/",search:h="",hash:f="",state:p=null,key:m="default"}=n,y=$.useMemo(()=>{let b=Hl(d,l);return b==null?null:{location:{pathname:b,search:h,hash:f,state:p,key:m},navigationType:i}},[l,d,h,f,p,m,i]);return y==null?null:$.createElement(ts.Provider,{value:u},$.createElement(xp.Provider,{children:r,value:y}))}function GI(t){let{children:e,location:r}=t;return xJ(fP(e),r)}new Promise(()=>{});function fP(t,e){e===void 0&&(e=[]);let r=[];return $.Children.forEach(t,(n,i)=>{if(!$.isValidElement(n))return;let s=[...e,i];if(n.type===$.Fragment){r.push.apply(r,fP(n.props.children,s));return}n.type!==Xe&&ft(!1),!n.props.index||!n.props.children||ft(!1);let a={id:n.props.id||s.join("-"),caseSensitive:n.props.caseSensitive,element:n.props.element,Component:n.props.Component,index:n.props.index,path:n.props.path,loader:n.props.loader,action:n.props.action,errorElement:n.props.errorElement,ErrorBoundary:n.props.ErrorBoundary,hasErrorBoundary:n.props.ErrorBoundary!=null||n.props.errorElement!=null,shouldRevalidate:n.props.shouldRevalidate,handle:n.props.handle,lazy:n.props.lazy};n.props.children&&(a.children=fP(n.props.children,s)),r.push(a)}),r}/**
 * React Router DOM v6.30.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Df(){return Df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Df.apply(this,arguments)}function s7(t,e){if(t==null)return{};var r={},n=Object.keys(t),i,s;for(s=0;s<n.length;s++)i=n[s],!(e.indexOf(i)>=0)&&(r[i]=t[i]);return r}function qJ(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function MJ(t,e){return t.button===0&&(!e||e==="_self")&&!qJ(t)}function pP(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,r)=>{let n=t[r];return e.concat(Array.isArray(n)?n.map(i=>[r,i]):[[r,n]])},[]))}function AJ(t,e){let r=pP(t);return e&&e.forEach((n,i)=>{r.has(i)||e.getAll(i).forEach(s=>{r.append(i,s)})}),r}const FJ=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],LJ=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],BJ="6";try{window.__reactRouterVersion=BJ}catch{}const zJ=$.createContext({isTransitioning:!1}),UJ="startTransition",YI=DY[UJ];function WJ(t){let{basename:e,children:r,future:n,window:i}=t,s=$.useRef();s.current==null&&(s.current=KX({window:i,v5Compat:!0}));let a=s.current,[o,l]=$.useState({action:a.action,location:a.location}),{v7_startTransition:u}=n||{},d=$.useCallback(h=>{u&&YI?YI(()=>l(h)):l(h)},[l,u]);return $.useLayoutEffect(()=>a.listen(d),[a,d]),$.useEffect(()=>kJ(n),[n]),$.createElement(DJ,{basename:e,children:r,location:o.location,navigationType:o.action,navigator:a,future:n})}const HJ=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",VJ=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,me=$.forwardRef(function(e,r){let{onClick:n,relative:i,reloadDocument:s,replace:a,state:o,target:l,to:u,preventScrollReset:d,viewTransition:h}=e,f=s7(e,FJ),{basename:p}=$.useContext(ts),m,y=!1;if(typeof u=="string"&&VJ.test(u)&&(m=u,HJ))try{let x=new URL(window.location.href),w=u.startsWith("//")?new URL(x.protocol+u):new URL(u),_=Hl(w.pathname,p);w.origin===x.origin&&_!=null?u=_+w.search+w.hash:y=!0}catch{}let b=bJ(u,{relative:i}),g=YJ(u,{replace:a,state:o,target:l,preventScrollReset:d,relative:i,viewTransition:h});function v(x){n&&n(x),x.defaultPrevented||g(x)}return $.createElement("a",Df({},f,{href:m||b,onClick:y||s?n:v,ref:r,target:l}))}),KJ=$.forwardRef(function(e,r){let{"aria-current":n="page",caseSensitive:i=!1,className:s="",end:a=!1,style:o,to:l,viewTransition:u,children:d}=e,h=s7(e,LJ),f=_p(l,{relative:h.relative}),p=ns(),m=$.useContext(JV),{navigator:y,basename:b}=$.useContext(ts),g=m!=null&&XJ(f)&&u===!0,v=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,x=p.pathname,w=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;i||(x=x.toLowerCase(),w=w?w.toLowerCase():null,v=v.toLowerCase()),w&&b&&(w=Hl(w,b)||w);const _=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let E=x===v||!a&&x.startsWith(v)&&x.charAt(_)==="/",O=w!=null&&(w===v||!a&&w.startsWith(v)&&w.charAt(v.length)==="/"),S={isActive:E,isPending:O,isTransitioning:g},P=E?n:void 0,C;typeof s=="function"?C=s(S):C=[s,E?"active":null,O?"pending":null,g?"transitioning":null].filter(Boolean).join(" ");let I=typeof o=="function"?o(S):o;return $.createElement(me,Df({},h,{"aria-current":P,className:C,ref:r,style:I,to:l,viewTransition:u}),typeof d=="function"?d(S):d)});var mP;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(mP||(mP={}));var QI;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(QI||(QI={}));function GJ(t){let e=$.useContext(wp);return e||ft(!1),e}function YJ(t,e){let{target:r,replace:n,state:i,preventScrollReset:s,relative:a,viewTransition:o}=e===void 0?{}:e,l=en(),u=ns(),d=_p(t,{relative:a});return $.useCallback(h=>{if(MJ(h,r)){h.preventDefault();let f=n!==void 0?n:kf(u)===kf(d);l(t,{replace:f,state:i,preventScrollReset:s,relative:a,viewTransition:o})}},[u,l,d,n,i,r,t,s,a,o])}function QJ(t){let e=$.useRef(pP(t)),r=$.useRef(!1),n=ns(),i=$.useMemo(()=>AJ(n.search,r.current?null:e.current),[n.search]),s=en(),a=$.useCallback((o,l)=>{const u=pP(typeof o=="function"?o(i):o);r.current=!0,s("?"+u,l)},[s,i]);return[i,a]}function XJ(t,e){e===void 0&&(e={});let r=$.useContext(zJ);r==null&&ft(!1);let{basename:n}=GJ(mP.useViewTransitionState),i=_p(t,{relative:e.relative});if(!r.isTransitioning)return!1;let s=Hl(r.currentLocation.pathname,n)||r.currentLocation.pathname,a=Hl(r.nextLocation.pathname,n)||r.nextLocation.pathname;return hP(i.pathname,a)!=null||hP(i.pathname,s)!=null}var wo=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},JJ={setTimeout:(t,e)=>setTimeout(t,e),clearTimeout:t=>clearTimeout(t),setInterval:(t,e)=>setInterval(t,e),clearInterval:t=>clearInterval(t)},Ss,lC,O8,ZJ=(O8=class{constructor(){ue(this,Ss,JJ);ue(this,lC,!1)}setTimeoutProvider(t){ie(this,Ss,t)}setTimeout(t,e){return R(this,Ss).setTimeout(t,e)}clearTimeout(t){R(this,Ss).clearTimeout(t)}setInterval(t,e){return R(this,Ss).setInterval(t,e)}clearInterval(t){R(this,Ss).clearInterval(t)}},Ss=new WeakMap,lC=new WeakMap,O8),Pa=new ZJ;function eZ(t){setTimeout(t,0)}var no=typeof window>"u"||"Deno"in globalThis;function gr(){}function tZ(t,e){return typeof t=="function"?t(e):t}function vP(t){return typeof t=="number"&&t>=0&&t!==1/0}function a7(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Vs(t,e){return typeof t=="function"?t(e):t}function xn(t,e){return typeof t=="function"?t(e):t}function XI(t,e){const{type:r="all",exact:n,fetchStatus:i,predicate:s,queryKey:a,stale:o}=t;if(a){if(n){if(e.queryHash!==aT(a,e.options))return!1}else if(!Yc(e.queryKey,a))return!1}if(r!=="all"){const l=e.isActive();if(r==="active"&&!l||r==="inactive"&&l)return!1}return!(typeof o=="boolean"&&e.isStale()!==o||i&&i!==e.state.fetchStatus||s&&!s(e))}function JI(t,e){const{exact:r,status:n,predicate:i,mutationKey:s}=t;if(s){if(!e.options.mutationKey)return!1;if(r){if(io(e.options.mutationKey)!==io(s))return!1}else if(!Yc(e.options.mutationKey,s))return!1}return!(n&&e.state.status!==n||i&&!i(e))}function aT(t,e){return((e==null?void 0:e.queryKeyHashFn)||io)(t)}function io(t){return JSON.stringify(t,(e,r)=>gP(r)?Object.keys(r).sort().reduce((n,i)=>(n[i]=r[i],n),{}):r)}function Yc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(r=>Yc(t[r],e[r])):!1}var rZ=Object.prototype.hasOwnProperty;function oT(t,e){if(t===e)return t;const r=ZI(t)&&ZI(e);if(!r&&!(gP(t)&&gP(e)))return e;const i=(r?t:Object.keys(t)).length,s=r?e:Object.keys(e),a=s.length,o=r?new Array(a):{};let l=0;for(let u=0;u<a;u++){const d=r?u:s[u],h=t[d],f=e[d];if(h===f){o[d]=h,(r?u<i:rZ.call(t,d))&&l++;continue}if(h===null||f===null||typeof h!="object"||typeof f!="object"){o[d]=f;continue}const p=oT(h,f);o[d]=p,p===h&&l++}return i===a&&l===i?t:o}function Qc(t,e){if(!e||Object.keys(t).length!==Object.keys(e).length)return!1;for(const r in t)if(t[r]!==e[r])return!1;return!0}function ZI(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function gP(t){if(!eR(t))return!1;const e=t.constructor;if(e===void 0)return!0;const r=e.prototype;return!(!eR(r)||!r.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function eR(t){return Object.prototype.toString.call(t)==="[object Object]"}function nZ(t){return new Promise(e=>{Pa.setTimeout(e,t)})}function yP(t,e,r){return typeof r.structuralSharing=="function"?r.structuralSharing(t,e):r.structuralSharing!==!1?oT(t,e):e}function iZ(t,e,r=0){const n=[...t,e];return r&&n.length>r?n.slice(1):n}function sZ(t,e,r=0){const n=[e,...t];return r&&n.length>r?n.slice(0,-1):n}var lT=Symbol();function o7(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===lT?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}function uT(t,e){return typeof t=="function"?t(...e):!!t}function aZ(t,e,r){let n=!1,i;return Object.defineProperty(t,"signal",{enumerable:!0,get:()=>(i??(i=e()),n||(n=!0,i.aborted?r():i.addEventListener("abort",r,{once:!0})),i)}),t}var $a,Es,Sl,P8,oZ=(P8=class extends wo{constructor(){super();ue(this,$a);ue(this,Es);ue(this,Sl);ie(this,Sl,e=>{if(!no&&window.addEventListener){const r=()=>e();return window.addEventListener("visibilitychange",r,!1),()=>{window.removeEventListener("visibilitychange",r)}}})}onSubscribe(){R(this,Es)||this.setEventListener(R(this,Sl))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Es))==null||e.call(this),ie(this,Es,void 0))}setEventListener(e){var r;ie(this,Sl,e),(r=R(this,Es))==null||r.call(this),ie(this,Es,e(n=>{typeof n=="boolean"?this.setFocused(n):this.onFocus()}))}setFocused(e){R(this,$a)!==e&&(ie(this,$a,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(r=>{r(e)})}isFocused(){var e;return typeof R(this,$a)=="boolean"?R(this,$a):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},$a=new WeakMap,Es=new WeakMap,Sl=new WeakMap,P8),cT=new oZ;function bP(){let t,e;const r=new Promise((i,s)=>{t=i,e=s});r.status="pending",r.catch(()=>{});function n(i){Object.assign(r,i),delete r.resolve,delete r.reject}return r.resolve=i=>{n({status:"fulfilled",value:i}),t(i)},r.reject=i=>{n({status:"rejected",reason:i}),e(i)},r}var lZ=eZ;function uZ(){let t=[],e=0,r=o=>{o()},n=o=>{o()},i=lZ;const s=o=>{e?t.push(o):i(()=>{r(o)})},a=()=>{const o=t;t=[],o.length&&i(()=>{n(()=>{o.forEach(l=>{r(l)})})})};return{batch:o=>{let l;e++;try{l=o()}finally{e--,e||a()}return l},batchCalls:o=>(...l)=>{s(()=>{o(...l)})},schedule:s,setNotifyFunction:o=>{r=o},setBatchNotifyFunction:o=>{n=o},setScheduler:o=>{i=o}}}var St=uZ(),El,Os,Ol,C8,cZ=(C8=class extends wo{constructor(){super();ue(this,El,!0);ue(this,Os);ue(this,Ol);ie(this,Ol,e=>{if(!no&&window.addEventListener){const r=()=>e(!0),n=()=>e(!1);return window.addEventListener("online",r,!1),window.addEventListener("offline",n,!1),()=>{window.removeEventListener("online",r),window.removeEventListener("offline",n)}}})}onSubscribe(){R(this,Os)||this.setEventListener(R(this,Ol))}onUnsubscribe(){var e;this.hasListeners()||((e=R(this,Os))==null||e.call(this),ie(this,Os,void 0))}setEventListener(e){var r;ie(this,Ol,e),(r=R(this,Os))==null||r.call(this),ie(this,Os,e(this.setOnline.bind(this)))}setOnline(e){R(this,El)!==e&&(ie(this,El,e),this.listeners.forEach(n=>{n(e)}))}isOnline(){return R(this,El)}},El=new WeakMap,Os=new WeakMap,Ol=new WeakMap,C8),qf=new cZ;function dZ(t){return Math.min(1e3*2**t,3e4)}function l7(t){return(t??"online")==="online"?qf.isOnline():!0}var wP=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function u7(t){let e=!1,r=0,n;const i=bP(),s=()=>i.status!=="pending",a=y=>{var b;if(!s()){const g=new wP(y);f(g),(b=t.onCancel)==null||b.call(t,g)}},o=()=>{e=!0},l=()=>{e=!1},u=()=>cT.isFocused()&&(t.networkMode==="always"||qf.isOnline())&&t.canRun(),d=()=>l7(t.networkMode)&&t.canRun(),h=y=>{s()||(n==null||n(),i.resolve(y))},f=y=>{s()||(n==null||n(),i.reject(y))},p=()=>new Promise(y=>{var b;n=g=>{(s()||u())&&y(g)},(b=t.onPause)==null||b.call(t)}).then(()=>{var y;n=void 0,s()||(y=t.onContinue)==null||y.call(t)}),m=()=>{if(s())return;let y;const b=r===0?t.initialPromise:void 0;try{y=b??t.fn()}catch(g){y=Promise.reject(g)}Promise.resolve(y).then(h).catch(g=>{var E;if(s())return;const v=t.retry??(no?0:3),x=t.retryDelay??dZ,w=typeof x=="function"?x(r,g):x,_=v===!0||typeof v=="number"&&r<v||typeof v=="function"&&v(r,g);if(e||!_){f(g);return}r++,(E=t.onFail)==null||E.call(t,r,g),nZ(w).then(()=>u()?void 0:p()).then(()=>{e?f(g):m()})})};return{promise:i,status:()=>i.status,cancel:a,continue:()=>(n==null||n(),i),cancelRetry:o,continueRetry:l,canStart:d,start:()=>(d()?m():p().then(m),i)}}var ka,T8,c7=(T8=class{constructor(){ue(this,ka)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),vP(this.gcTime)&&ie(this,ka,Pa.setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(no?1/0:5*60*1e3))}clearGcTimeout(){R(this,ka)&&(Pa.clearTimeout(R(this,ka)),ie(this,ka,void 0))}},ka=new WeakMap,T8),Da,Pl,bn,qa,Gt,dd,Ma,Ln,Ci,N8,hZ=(N8=class extends c7{constructor(e){super();ue(this,Ln);ue(this,Da);ue(this,Pl);ue(this,bn);ue(this,qa);ue(this,Gt);ue(this,dd);ue(this,Ma);ie(this,Ma,!1),ie(this,dd,e.defaultOptions),this.setOptions(e.options),this.observers=[],ie(this,qa,e.client),ie(this,bn,R(this,qa).getQueryCache()),this.queryKey=e.queryKey,this.queryHash=e.queryHash,ie(this,Da,rR(this.options)),this.state=e.state??R(this,Da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var e;return(e=R(this,Gt))==null?void 0:e.promise}setOptions(e){if(this.options={...R(this,dd),...e},this.updateGcTime(this.options.gcTime),this.state&&this.state.data===void 0){const r=rR(this.options);r.data!==void 0&&(this.setState(tR(r.data,r.dataUpdatedAt)),ie(this,Da,r))}}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&R(this,bn).remove(this)}setData(e,r){const n=yP(this.state.data,e,this.options);return _e(this,Ln,Ci).call(this,{data:n,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),n}setState(e,r){_e(this,Ln,Ci).call(this,{type:"setState",state:e,setStateOptions:r})}cancel(e){var n,i;const r=(n=R(this,Gt))==null?void 0:n.promise;return(i=R(this,Gt))==null||i.cancel(e),r?r.then(gr).catch(gr):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(R(this,Da))}isActive(){return this.observers.some(e=>xn(e.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===lT||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(e=>Vs(e.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(e=>e.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(e=0){return this.state.data===void 0?!0:e==="static"?!1:this.state.isInvalidated?!0:!a7(this.state.dataUpdatedAt,e)}onFocus(){var r;const e=this.observers.find(n=>n.shouldFetchOnWindowFocus());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}onOnline(){var r;const e=this.observers.find(n=>n.shouldFetchOnReconnect());e==null||e.refetch({cancelRefetch:!1}),(r=R(this,Gt))==null||r.continue()}addObserver(e){this.observers.includes(e)||(this.observers.push(e),this.clearGcTimeout(),R(this,bn).notify({type:"observerAdded",query:this,observer:e}))}removeObserver(e){this.observers.includes(e)&&(this.observers=this.observers.filter(r=>r!==e),this.observers.length||(R(this,Gt)&&(R(this,Ma)?R(this,Gt).cancel({revert:!0}):R(this,Gt).cancelRetry()),this.scheduleGc()),R(this,bn).notify({type:"observerRemoved",query:this,observer:e}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||_e(this,Ln,Ci).call(this,{type:"invalidate"})}async fetch(e,r){var l,u,d,h,f,p,m,y,b,g,v,x;if(this.state.fetchStatus!=="idle"&&((l=R(this,Gt))==null?void 0:l.status())!=="rejected"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(R(this,Gt))return R(this,Gt).continueRetry(),R(this,Gt).promise}if(e&&this.setOptions(e),!this.options.queryFn){const w=this.observers.find(_=>_.options.queryFn);w&&this.setOptions(w.options)}const n=new AbortController,i=w=>{Object.defineProperty(w,"signal",{enumerable:!0,get:()=>(ie(this,Ma,!0),n.signal)})},s=()=>{const w=o7(this.options,r),E=(()=>{const O={client:R(this,qa),queryKey:this.queryKey,meta:this.meta};return i(O),O})();return ie(this,Ma,!1),this.options.persister?this.options.persister(w,E,this):w(E)},o=(()=>{const w={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:R(this,qa),state:this.state,fetchFn:s};return i(w),w})();(u=this.options.behavior)==null||u.onFetch(o,this),ie(this,Pl,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((d=o.fetchOptions)==null?void 0:d.meta))&&_e(this,Ln,Ci).call(this,{type:"fetch",meta:(h=o.fetchOptions)==null?void 0:h.meta}),ie(this,Gt,u7({initialPromise:r==null?void 0:r.initialPromise,fn:o.fetchFn,onCancel:w=>{w instanceof wP&&w.revert&&this.setState({...R(this,Pl),fetchStatus:"idle"}),n.abort()},onFail:(w,_)=>{_e(this,Ln,Ci).call(this,{type:"failed",failureCount:w,error:_})},onPause:()=>{_e(this,Ln,Ci).call(this,{type:"pause"})},onContinue:()=>{_e(this,Ln,Ci).call(this,{type:"continue"})},retry:o.options.retry,retryDelay:o.options.retryDelay,networkMode:o.options.networkMode,canRun:()=>!0}));try{const w=await R(this,Gt).start();if(w===void 0)throw new Error(`${this.queryHash} data is undefined`);return this.setData(w),(p=(f=R(this,bn).config).onSuccess)==null||p.call(f,w,this),(y=(m=R(this,bn).config).onSettled)==null||y.call(m,w,this.state.error,this),w}catch(w){if(w instanceof wP){if(w.silent)return R(this,Gt).promise;if(w.revert){if(this.state.data===void 0)throw w;return this.state.data}}throw _e(this,Ln,Ci).call(this,{type:"error",error:w}),(g=(b=R(this,bn).config).onError)==null||g.call(b,w,this),(x=(v=R(this,bn).config).onSettled)==null||x.call(v,this.state.data,w,this),w}finally{this.scheduleGc()}}},Da=new WeakMap,Pl=new WeakMap,bn=new WeakMap,qa=new WeakMap,Gt=new WeakMap,dd=new WeakMap,Ma=new WeakMap,Ln=new WeakSet,Ci=function(e){const r=n=>{switch(e.type){case"failed":return{...n,fetchFailureCount:e.failureCount,fetchFailureReason:e.error};case"pause":return{...n,fetchStatus:"paused"};case"continue":return{...n,fetchStatus:"fetching"};case"fetch":return{...n,...d7(n.data,this.options),fetchMeta:e.meta??null};case"success":const i={...n,...tR(e.data,e.dataUpdatedAt),dataUpdateCount:n.dataUpdateCount+1,...!e.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};return ie(this,Pl,e.manual?i:void 0),i;case"error":const s=e.error;return{...n,error:s,errorUpdateCount:n.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:n.fetchFailureCount+1,fetchFailureReason:s,fetchStatus:"idle",status:"error",isInvalidated:!0};case"invalidate":return{...n,isInvalidated:!0};case"setState":return{...n,...e.state}}};this.state=r(this.state),St.batch(()=>{this.observers.forEach(n=>{n.onQueryUpdate()}),R(this,bn).notify({query:this,type:"updated",action:e})})},N8);function d7(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:l7(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function tR(t,e){return{data:t,dataUpdatedAt:e??Date.now(),error:null,isInvalidated:!1,status:"success"}}function rR(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,r=e!==void 0,n=r?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:r?n??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:r?"success":"pending",fetchStatus:"idle"}}var Fr,Me,hd,Sr,Aa,Cl,Ii,Ps,fd,Tl,Nl,Fa,La,Cs,Il,Be,uc,xP,_P,SP,EP,OP,PP,CP,h7,I8,dT=(I8=class extends wo{constructor(e,r){super();ue(this,Be);ue(this,Fr);ue(this,Me);ue(this,hd);ue(this,Sr);ue(this,Aa);ue(this,Cl);ue(this,Ii);ue(this,Ps);ue(this,fd);ue(this,Tl);ue(this,Nl);ue(this,Fa);ue(this,La);ue(this,Cs);ue(this,Il,new Set);this.options=r,ie(this,Fr,e),ie(this,Ps,null),ie(this,Ii,bP()),this.bindMethods(),this.setOptions(r)}bindMethods(){this.refetch=this.refetch.bind(this)}onSubscribe(){this.listeners.size===1&&(R(this,Me).addObserver(this),nR(R(this,Me),this.options)?_e(this,Be,uc).call(this):this.updateResult(),_e(this,Be,EP).call(this))}onUnsubscribe(){this.hasListeners()||this.destroy()}shouldFetchOnReconnect(){return TP(R(this,Me),this.options,this.options.refetchOnReconnect)}shouldFetchOnWindowFocus(){return TP(R(this,Me),this.options,this.options.refetchOnWindowFocus)}destroy(){this.listeners=new Set,_e(this,Be,OP).call(this),_e(this,Be,PP).call(this),R(this,Me).removeObserver(this)}setOptions(e){const r=this.options,n=R(this,Me);if(this.options=R(this,Fr).defaultQueryOptions(e),this.options.enabled!==void 0&&typeof this.options.enabled!="boolean"&&typeof this.options.enabled!="function"&&typeof xn(this.options.enabled,R(this,Me))!="boolean")throw new Error("Expected enabled to be a boolean or a callback that returns a boolean");_e(this,Be,CP).call(this),R(this,Me).setOptions(this.options),r._defaulted&&!Qc(this.options,r)&&R(this,Fr).getQueryCache().notify({type:"observerOptionsUpdated",query:R(this,Me),observer:this});const i=this.hasListeners();i&&iR(R(this,Me),n,this.options,r)&&_e(this,Be,uc).call(this),this.updateResult(),i&&(R(this,Me)!==n||xn(this.options.enabled,R(this,Me))!==xn(r.enabled,R(this,Me))||Vs(this.options.staleTime,R(this,Me))!==Vs(r.staleTime,R(this,Me)))&&_e(this,Be,xP).call(this);const s=_e(this,Be,_P).call(this);i&&(R(this,Me)!==n||xn(this.options.enabled,R(this,Me))!==xn(r.enabled,R(this,Me))||s!==R(this,Cs))&&_e(this,Be,SP).call(this,s)}getOptimisticResult(e){const r=R(this,Fr).getQueryCache().build(R(this,Fr),e),n=this.createResult(r,e);return pZ(this,n)&&(ie(this,Sr,n),ie(this,Cl,this.options),ie(this,Aa,R(this,Me).state)),n}getCurrentResult(){return R(this,Sr)}trackResult(e,r){return new Proxy(e,{get:(n,i)=>(this.trackProp(i),r==null||r(i),i==="promise"&&(this.trackProp("data"),!this.options.experimental_prefetchInRender&&R(this,Ii).status==="pending"&&R(this,Ii).reject(new Error("experimental_prefetchInRender feature flag is not enabled"))),Reflect.get(n,i))})}trackProp(e){R(this,Il).add(e)}getCurrentQuery(){return R(this,Me)}refetch({...e}={}){return this.fetch({...e})}fetchOptimistic(e){const r=R(this,Fr).defaultQueryOptions(e),n=R(this,Fr).getQueryCache().build(R(this,Fr),r);return n.fetch().then(()=>this.createResult(n,r))}fetch(e){return _e(this,Be,uc).call(this,{...e,cancelRefetch:e.cancelRefetch??!0}).then(()=>(this.updateResult(),R(this,Sr)))}createResult(e,r){var P;const n=R(this,Me),i=this.options,s=R(this,Sr),a=R(this,Aa),o=R(this,Cl),u=e!==n?e.state:R(this,hd),{state:d}=e;let h={...d},f=!1,p;if(r._optimisticResults){const C=this.hasListeners(),I=!C&&nR(e,r),T=C&&iR(e,n,r,i);(I||T)&&(h={...h,...d7(d.data,e.options)}),r._optimisticResults==="isRestoring"&&(h.fetchStatus="idle")}let{error:m,errorUpdatedAt:y,status:b}=h;p=h.data;let g=!1;if(r.placeholderData!==void 0&&p===void 0&&b==="pending"){let C;s!=null&&s.isPlaceholderData&&r.placeholderData===(o==null?void 0:o.placeholderData)?(C=s.data,g=!0):C=typeof r.placeholderData=="function"?r.placeholderData((P=R(this,Nl))==null?void 0:P.state.data,R(this,Nl)):r.placeholderData,C!==void 0&&(b="success",p=yP(s==null?void 0:s.data,C,r),f=!0)}if(r.select&&p!==void 0&&!g)if(s&&p===(a==null?void 0:a.data)&&r.select===R(this,fd))p=R(this,Tl);else try{ie(this,fd,r.select),p=r.select(p),p=yP(s==null?void 0:s.data,p,r),ie(this,Tl,p),ie(this,Ps,null)}catch(C){ie(this,Ps,C)}R(this,Ps)&&(m=R(this,Ps),p=R(this,Tl),y=Date.now(),b="error");const v=h.fetchStatus==="fetching",x=b==="pending",w=b==="error",_=x&&v,E=p!==void 0,S={status:b,fetchStatus:h.fetchStatus,isPending:x,isSuccess:b==="success",isError:w,isInitialLoading:_,isLoading:_,data:p,dataUpdatedAt:h.dataUpdatedAt,error:m,errorUpdatedAt:y,failureCount:h.fetchFailureCount,failureReason:h.fetchFailureReason,errorUpdateCount:h.errorUpdateCount,isFetched:h.dataUpdateCount>0||h.errorUpdateCount>0,isFetchedAfterMount:h.dataUpdateCount>u.dataUpdateCount||h.errorUpdateCount>u.errorUpdateCount,isFetching:v,isRefetching:v&&!x,isLoadingError:w&&!E,isPaused:h.fetchStatus==="paused",isPlaceholderData:f,isRefetchError:w&&E,isStale:hT(e,r),refetch:this.refetch,promise:R(this,Ii),isEnabled:xn(r.enabled,e)!==!1};if(this.options.experimental_prefetchInRender){const C=N=>{S.status==="error"?N.reject(S.error):S.data!==void 0&&N.resolve(S.data)},I=()=>{const N=ie(this,Ii,S.promise=bP());C(N)},T=R(this,Ii);switch(T.status){case"pending":e.queryHash===n.queryHash&&C(T);break;case"fulfilled":(S.status==="error"||S.data!==T.value)&&I();break;case"rejected":(S.status!=="error"||S.error!==T.reason)&&I();break}}return S}updateResult(){const e=R(this,Sr),r=this.createResult(R(this,Me),this.options);if(ie(this,Aa,R(this,Me).state),ie(this,Cl,this.options),R(this,Aa).data!==void 0&&ie(this,Nl,R(this,Me)),Qc(r,e))return;ie(this,Sr,r);const n=()=>{if(!e)return!0;const{notifyOnChangeProps:i}=this.options,s=typeof i=="function"?i():i;if(s==="all"||!s&&!R(this,Il).size)return!0;const a=new Set(s??R(this,Il));return this.options.throwOnError&&a.add("error"),Object.keys(R(this,Sr)).some(o=>{const l=o;return R(this,Sr)[l]!==e[l]&&a.has(l)})};_e(this,Be,h7).call(this,{listeners:n()})}onQueryUpdate(){this.updateResult(),this.hasListeners()&&_e(this,Be,EP).call(this)}},Fr=new WeakMap,Me=new WeakMap,hd=new WeakMap,Sr=new WeakMap,Aa=new WeakMap,Cl=new WeakMap,Ii=new WeakMap,Ps=new WeakMap,fd=new WeakMap,Tl=new WeakMap,Nl=new WeakMap,Fa=new WeakMap,La=new WeakMap,Cs=new WeakMap,Il=new WeakMap,Be=new WeakSet,uc=function(e){_e(this,Be,CP).call(this);let r=R(this,Me).fetch(this.options,e);return e!=null&&e.throwOnError||(r=r.catch(gr)),r},xP=function(){_e(this,Be,OP).call(this);const e=Vs(this.options.staleTime,R(this,Me));if(no||R(this,Sr).isStale||!vP(e))return;const n=a7(R(this,Sr).dataUpdatedAt,e)+1;ie(this,Fa,Pa.setTimeout(()=>{R(this,Sr).isStale||this.updateResult()},n))},_P=function(){return(typeof this.options.refetchInterval=="function"?this.options.refetchInterval(R(this,Me)):this.options.refetchInterval)??!1},SP=function(e){_e(this,Be,PP).call(this),ie(this,Cs,e),!(no||xn(this.options.enabled,R(this,Me))===!1||!vP(R(this,Cs))||R(this,Cs)===0)&&ie(this,La,Pa.setInterval(()=>{(this.options.refetchIntervalInBackground||cT.isFocused())&&_e(this,Be,uc).call(this)},R(this,Cs)))},EP=function(){_e(this,Be,xP).call(this),_e(this,Be,SP).call(this,_e(this,Be,_P).call(this))},OP=function(){R(this,Fa)&&(Pa.clearTimeout(R(this,Fa)),ie(this,Fa,void 0))},PP=function(){R(this,La)&&(Pa.clearInterval(R(this,La)),ie(this,La,void 0))},CP=function(){const e=R(this,Fr).getQueryCache().build(R(this,Fr),this.options);if(e===R(this,Me))return;const r=R(this,Me);ie(this,Me,e),ie(this,hd,e.state),this.hasListeners()&&(r==null||r.removeObserver(this),e.addObserver(this))},h7=function(e){St.batch(()=>{e.listeners&&this.listeners.forEach(r=>{r(R(this,Sr))}),R(this,Fr).getQueryCache().notify({query:R(this,Me),type:"observerResultsUpdated"})})},I8);function fZ(t,e){return xn(e.enabled,t)!==!1&&t.state.data===void 0&&!(t.state.status==="error"&&e.retryOnMount===!1)}function nR(t,e){return fZ(t,e)||t.state.data!==void 0&&TP(t,e,e.refetchOnMount)}function TP(t,e,r){if(xn(e.enabled,t)!==!1&&Vs(e.staleTime,t)!=="static"){const n=typeof r=="function"?r(t):r;return n==="always"||n!==!1&&hT(t,e)}return!1}function iR(t,e,r,n){return(t!==e||xn(n.enabled,t)===!1)&&(!r.suspense||t.state.status!=="error")&&hT(t,r)}function hT(t,e){return xn(e.enabled,t)!==!1&&t.isStaleByTime(Vs(e.staleTime,t))}function pZ(t,e){return!Qc(t.getCurrentResult(),e)}function sR(t){return{onFetch:(e,r)=>{var d,h,f,p,m;const n=e.options,i=(f=(h=(d=e.fetchOptions)==null?void 0:d.meta)==null?void 0:h.fetchMore)==null?void 0:f.direction,s=((p=e.state.data)==null?void 0:p.pages)||[],a=((m=e.state.data)==null?void 0:m.pageParams)||[];let o={pages:[],pageParams:[]},l=0;const u=async()=>{let y=!1;const b=x=>{aZ(x,()=>e.signal,()=>y=!0)},g=o7(e.options,e.fetchOptions),v=async(x,w,_)=>{if(y)return Promise.reject();if(w==null&&x.pages.length)return Promise.resolve(x);const O=(()=>{const I={client:e.client,queryKey:e.queryKey,pageParam:w,direction:_?"backward":"forward",meta:e.options.meta};return b(I),I})(),S=await g(O),{maxPages:P}=e.options,C=_?sZ:iZ;return{pages:C(x.pages,S,P),pageParams:C(x.pageParams,w,P)}};if(i&&s.length){const x=i==="backward",w=x?mZ:aR,_={pages:s,pageParams:a},E=w(n,_);o=await v(_,E,x)}else{const x=t??s.length;do{const w=l===0?a[0]??n.initialPageParam:aR(n,o);if(l>0&&w==null)break;o=await v(o,w),l++}while(l<x)}return o};e.options.persister?e.fetchFn=()=>{var y,b;return(b=(y=e.options).persister)==null?void 0:b.call(y,u,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},r)}:e.fetchFn=u}}}function aR(t,{pages:e,pageParams:r}){const n=e.length-1;return e.length>0?t.getNextPageParam(e[n],e,r[n],r):void 0}function mZ(t,{pages:e,pageParams:r}){var n;return e.length>0?(n=t.getPreviousPageParam)==null?void 0:n.call(t,e[0],e,r[0],r):void 0}var pd,ui,Er,Ba,ci,ps,R8,vZ=(R8=class extends c7{constructor(e){super();ue(this,ci);ue(this,pd);ue(this,ui);ue(this,Er);ue(this,Ba);ie(this,pd,e.client),this.mutationId=e.mutationId,ie(this,Er,e.mutationCache),ie(this,ui,[]),this.state=e.state||f7(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){R(this,ui).includes(e)||(R(this,ui).push(e),this.clearGcTimeout(),R(this,Er).notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){ie(this,ui,R(this,ui).filter(r=>r!==e)),this.scheduleGc(),R(this,Er).notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){R(this,ui).length||(this.state.status==="pending"?this.scheduleGc():R(this,Er).remove(this))}continue(){var e;return((e=R(this,Ba))==null?void 0:e.continue())??this.execute(this.state.variables)}async execute(e){var a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S,P;const r=()=>{_e(this,ci,ps).call(this,{type:"continue"})},n={client:R(this,pd),meta:this.options.meta,mutationKey:this.options.mutationKey};ie(this,Ba,u7({fn:()=>this.options.mutationFn?this.options.mutationFn(e,n):Promise.reject(new Error("No mutationFn found")),onFail:(C,I)=>{_e(this,ci,ps).call(this,{type:"failed",failureCount:C,error:I})},onPause:()=>{_e(this,ci,ps).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>R(this,Er).canRun(this)}));const i=this.state.status==="pending",s=!R(this,Ba).canStart();try{if(i)r();else{_e(this,ci,ps).call(this,{type:"pending",variables:e,isPaused:s}),await((o=(a=R(this,Er).config).onMutate)==null?void 0:o.call(a,e,this,n));const I=await((u=(l=this.options).onMutate)==null?void 0:u.call(l,e,n));I!==this.state.context&&_e(this,ci,ps).call(this,{type:"pending",context:I,variables:e,isPaused:s})}const C=await R(this,Ba).start();return await((h=(d=R(this,Er).config).onSuccess)==null?void 0:h.call(d,C,e,this.state.context,this,n)),await((p=(f=this.options).onSuccess)==null?void 0:p.call(f,C,e,this.state.context,n)),await((y=(m=R(this,Er).config).onSettled)==null?void 0:y.call(m,C,null,this.state.variables,this.state.context,this,n)),await((g=(b=this.options).onSettled)==null?void 0:g.call(b,C,null,e,this.state.context,n)),_e(this,ci,ps).call(this,{type:"success",data:C}),C}catch(C){try{await((x=(v=R(this,Er).config).onError)==null?void 0:x.call(v,C,e,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((_=(w=this.options).onError)==null?void 0:_.call(w,C,e,this.state.context,n))}catch(I){Promise.reject(I)}try{await((O=(E=R(this,Er).config).onSettled)==null?void 0:O.call(E,void 0,C,this.state.variables,this.state.context,this,n))}catch(I){Promise.reject(I)}try{await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,C,e,this.state.context,n))}catch(I){Promise.reject(I)}throw _e(this,ci,ps).call(this,{type:"error",error:C}),C}finally{R(this,Er).runNext(this)}}},pd=new WeakMap,ui=new WeakMap,Er=new WeakMap,Ba=new WeakMap,ci=new WeakSet,ps=function(e){const r=n=>{switch(e.type){case"failed":return{...n,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...n,isPaused:!0};case"continue":return{...n,isPaused:!1};case"pending":return{...n,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...n,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...n,data:void 0,error:e.error,failureCount:n.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}};this.state=r(this.state),St.batch(()=>{R(this,ui).forEach(n=>{n.onMutationUpdate(e)}),R(this,Er).notify({mutation:this,type:"updated",action:e})})},R8);function f7(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Ri,Bn,md,j8,gZ=(j8=class extends wo{constructor(e={}){super();ue(this,Ri);ue(this,Bn);ue(this,md);this.config=e,ie(this,Ri,new Set),ie(this,Bn,new Map),ie(this,md,0)}build(e,r,n){const i=new vZ({client:e,mutationCache:this,mutationId:++hh(this,md)._,options:e.defaultMutationOptions(r),state:n});return this.add(i),i}add(e){R(this,Ri).add(e);const r=Ih(e);if(typeof r=="string"){const n=R(this,Bn).get(r);n?n.push(e):R(this,Bn).set(r,[e])}this.notify({type:"added",mutation:e})}remove(e){if(R(this,Ri).delete(e)){const r=Ih(e);if(typeof r=="string"){const n=R(this,Bn).get(r);if(n)if(n.length>1){const i=n.indexOf(e);i!==-1&&n.splice(i,1)}else n[0]===e&&R(this,Bn).delete(r)}}this.notify({type:"removed",mutation:e})}canRun(e){const r=Ih(e);if(typeof r=="string"){const n=R(this,Bn).get(r),i=n==null?void 0:n.find(s=>s.state.status==="pending");return!i||i===e}else return!0}runNext(e){var n;const r=Ih(e);if(typeof r=="string"){const i=(n=R(this,Bn).get(r))==null?void 0:n.find(s=>s!==e&&s.state.isPaused);return(i==null?void 0:i.continue())??Promise.resolve()}else return Promise.resolve()}clear(){St.batch(()=>{R(this,Ri).forEach(e=>{this.notify({type:"removed",mutation:e})}),R(this,Ri).clear(),R(this,Bn).clear()})}getAll(){return Array.from(R(this,Ri))}find(e){const r={exact:!0,...e};return this.getAll().find(n=>JI(r,n))}findAll(e={}){return this.getAll().filter(r=>JI(e,r))}notify(e){St.batch(()=>{this.listeners.forEach(r=>{r(e)})})}resumePausedMutations(){const e=this.getAll().filter(r=>r.state.isPaused);return St.batch(()=>Promise.all(e.map(r=>r.continue().catch(gr))))}},Ri=new WeakMap,Bn=new WeakMap,md=new WeakMap,j8);function Ih(t){var e;return(e=t.options.scope)==null?void 0:e.id}var ji,Ts,Lr,$i,Gi,ef,NP,$8,yZ=($8=class extends wo{constructor(e,r){super();ue(this,Gi);ue(this,ji);ue(this,Ts);ue(this,Lr);ue(this,$i);ie(this,ji,e),this.setOptions(r),this.bindMethods(),_e(this,Gi,ef).call(this)}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){var n;const r=this.options;this.options=R(this,ji).defaultMutationOptions(e),Qc(this.options,r)||R(this,ji).getMutationCache().notify({type:"observerOptionsUpdated",mutation:R(this,Lr),observer:this}),r!=null&&r.mutationKey&&this.options.mutationKey&&io(r.mutationKey)!==io(this.options.mutationKey)?this.reset():((n=R(this,Lr))==null?void 0:n.state.status)==="pending"&&R(this,Lr).setOptions(this.options)}onUnsubscribe(){var e;this.hasListeners()||(e=R(this,Lr))==null||e.removeObserver(this)}onMutationUpdate(e){_e(this,Gi,ef).call(this),_e(this,Gi,NP).call(this,e)}getCurrentResult(){return R(this,Ts)}reset(){var e;(e=R(this,Lr))==null||e.removeObserver(this),ie(this,Lr,void 0),_e(this,Gi,ef).call(this),_e(this,Gi,NP).call(this)}mutate(e,r){var n;return ie(this,$i,r),(n=R(this,Lr))==null||n.removeObserver(this),ie(this,Lr,R(this,ji).getMutationCache().build(R(this,ji),this.options)),R(this,Lr).addObserver(this),R(this,Lr).execute(e)}},ji=new WeakMap,Ts=new WeakMap,Lr=new WeakMap,$i=new WeakMap,Gi=new WeakSet,ef=function(){var r;const e=((r=R(this,Lr))==null?void 0:r.state)??f7();ie(this,Ts,{...e,isPending:e.status==="pending",isSuccess:e.status==="success",isError:e.status==="error",isIdle:e.status==="idle",mutate:this.mutate,reset:this.reset})},NP=function(e){St.batch(()=>{var r,n,i,s,a,o,l,u;if(R(this,$i)&&this.hasListeners()){const d=R(this,Ts).variables,h=R(this,Ts).context,f={client:R(this,ji),meta:this.options.meta,mutationKey:this.options.mutationKey};if((e==null?void 0:e.type)==="success"){try{(n=(r=R(this,$i)).onSuccess)==null||n.call(r,e.data,d,h,f)}catch(p){Promise.reject(p)}try{(s=(i=R(this,$i)).onSettled)==null||s.call(i,e.data,null,d,h,f)}catch(p){Promise.reject(p)}}else if((e==null?void 0:e.type)==="error"){try{(o=(a=R(this,$i)).onError)==null||o.call(a,e.error,d,h,f)}catch(p){Promise.reject(p)}try{(u=(l=R(this,$i)).onSettled)==null||u.call(l,void 0,e.error,d,h,f)}catch(p){Promise.reject(p)}}}this.listeners.forEach(d=>{d(R(this,Ts))})})},$8);function oR(t,e){const r=new Set(e);return t.filter(n=>!r.has(n))}function bZ(t,e,r){const n=t.slice(0);return n[e]=r,n}var Rl,on,jl,$l,wn,Ns,vd,gd,yd,dr,IP,RP,jP,$P,kP,k8,wZ=(k8=class extends wo{constructor(e,r,n){super();ue(this,dr);ue(this,Rl);ue(this,on);ue(this,jl);ue(this,$l);ue(this,wn);ue(this,Ns);ue(this,vd);ue(this,gd);ue(this,yd,[]);ie(this,Rl,e),ie(this,$l,n),ie(this,jl,[]),ie(this,wn,[]),ie(this,on,[]),this.setQueries(r)}onSubscribe(){this.listeners.size===1&&R(this,wn).forEach(e=>{e.subscribe(r=>{_e(this,dr,$P).call(this,e,r)})})}onUnsubscribe(){this.listeners.size||this.destroy()}destroy(){this.listeners=new Set,R(this,wn).forEach(e=>{e.destroy()})}setQueries(e,r){ie(this,jl,e),ie(this,$l,r),St.batch(()=>{const n=R(this,wn),i=_e(this,dr,jP).call(this,R(this,jl));i.forEach(h=>h.observer.setOptions(h.defaultedQueryOptions));const s=i.map(h=>h.observer),a=s.map(h=>h.getCurrentResult()),o=n.length!==s.length,l=s.some((h,f)=>h!==n[f]),u=o||l,d=u?!0:a.some((h,f)=>{const p=R(this,on)[f];return!p||!Qc(h,p)});!u&&!d||(u&&(ie(this,yd,i),ie(this,wn,s)),ie(this,on,a),this.hasListeners()&&(u&&(oR(n,s).forEach(h=>{h.destroy()}),oR(s,n).forEach(h=>{h.subscribe(f=>{_e(this,dr,$P).call(this,h,f)})})),_e(this,dr,kP).call(this)))})}getCurrentResult(){return R(this,on)}getQueries(){return R(this,wn).map(e=>e.getCurrentQuery())}getObservers(){return R(this,wn)}getOptimisticResult(e,r){const n=_e(this,dr,jP).call(this,e),i=n.map(s=>s.observer.getOptimisticResult(s.defaultedQueryOptions));return[i,s=>_e(this,dr,RP).call(this,s??i,r),()=>_e(this,dr,IP).call(this,i,n)]}},Rl=new WeakMap,on=new WeakMap,jl=new WeakMap,$l=new WeakMap,wn=new WeakMap,Ns=new WeakMap,vd=new WeakMap,gd=new WeakMap,yd=new WeakMap,dr=new WeakSet,IP=function(e,r){return r.map((n,i)=>{const s=e[i];return n.defaultedQueryOptions.notifyOnChangeProps?s:n.observer.trackResult(s,a=>{r.forEach(o=>{o.observer.trackProp(a)})})})},RP=function(e,r){return r?((!R(this,Ns)||R(this,on)!==R(this,gd)||r!==R(this,vd))&&(ie(this,vd,r),ie(this,gd,R(this,on)),ie(this,Ns,oT(R(this,Ns),r(e)))),R(this,Ns)):e},jP=function(e){const r=new Map;R(this,wn).forEach(i=>{const s=i.options.queryHash;if(!s)return;const a=r.get(s);a?a.push(i):r.set(s,[i])});const n=[];return e.forEach(i=>{var l;const s=R(this,Rl).defaultQueryOptions(i),o=((l=r.get(s.queryHash))==null?void 0:l.shift())??new dT(R(this,Rl),s);n.push({defaultedQueryOptions:s,observer:o})}),n},$P=function(e,r){const n=R(this,wn).indexOf(e);n!==-1&&(ie(this,on,bZ(R(this,on),n,r)),_e(this,dr,kP).call(this))},kP=function(){var e;if(this.hasListeners()){const r=R(this,Ns),n=_e(this,dr,IP).call(this,R(this,on),R(this,yd)),i=_e(this,dr,RP).call(this,n,(e=R(this,$l))==null?void 0:e.combine);r!==i&&St.batch(()=>{this.listeners.forEach(s=>{s(R(this,on))})})}},k8),di,D8,xZ=(D8=class extends wo{constructor(e={}){super();ue(this,di);this.config=e,ie(this,di,new Map)}build(e,r,n){const i=r.queryKey,s=r.queryHash??aT(i,r);let a=this.get(s);return a||(a=new hZ({client:e,queryKey:i,queryHash:s,options:e.defaultQueryOptions(r),state:n,defaultOptions:e.getQueryDefaults(i)}),this.add(a)),a}add(e){R(this,di).has(e.queryHash)||(R(this,di).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const r=R(this,di).get(e.queryHash);r&&(e.destroy(),r===e&&R(this,di).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){St.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return R(this,di).get(e)}getAll(){return[...R(this,di).values()]}find(e){const r={exact:!0,...e};return this.getAll().find(n=>XI(r,n))}findAll(e={}){const r=this.getAll();return Object.keys(e).length>0?r.filter(n=>XI(e,n)):r}notify(e){St.batch(()=>{this.listeners.forEach(r=>{r(e)})})}onFocus(){St.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){St.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},di=new WeakMap,D8),bt,Is,Rs,kl,Dl,js,ql,Ml,q8,_Z=(q8=class{constructor(t={}){ue(this,bt);ue(this,Is);ue(this,Rs);ue(this,kl);ue(this,Dl);ue(this,js);ue(this,ql);ue(this,Ml);ie(this,bt,t.queryCache||new xZ),ie(this,Is,t.mutationCache||new gZ),ie(this,Rs,t.defaultOptions||{}),ie(this,kl,new Map),ie(this,Dl,new Map),ie(this,js,0)}mount(){hh(this,js)._++,R(this,js)===1&&(ie(this,ql,cT.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,bt).onFocus())})),ie(this,Ml,qf.subscribe(async t=>{t&&(await this.resumePausedMutations(),R(this,bt).onOnline())})))}unmount(){var t,e;hh(this,js)._--,R(this,js)===0&&((t=R(this,ql))==null||t.call(this),ie(this,ql,void 0),(e=R(this,Ml))==null||e.call(this),ie(this,Ml,void 0))}isFetching(t){return R(this,bt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return R(this,Is).findAll({...t,status:"pending"}).length}getQueryData(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,bt).get(e.queryHash))==null?void 0:r.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),r=R(this,bt).build(this,e),n=r.state.data;return n===void 0?this.fetchQuery(t):(t.revalidateIfStale&&r.isStaleByTime(Vs(e.staleTime,r))&&this.prefetchQuery(e),Promise.resolve(n))}getQueriesData(t){return R(this,bt).findAll(t).map(({queryKey:e,state:r})=>{const n=r.data;return[e,n]})}setQueryData(t,e,r){const n=this.defaultQueryOptions({queryKey:t}),i=R(this,bt).get(n.queryHash),s=i==null?void 0:i.state.data,a=tZ(e,s);if(a!==void 0)return R(this,bt).build(this,n).setData(a,{...r,manual:!0})}setQueriesData(t,e,r){return St.batch(()=>R(this,bt).findAll(t).map(({queryKey:n})=>[n,this.setQueryData(n,e,r)]))}getQueryState(t){var r;const e=this.defaultQueryOptions({queryKey:t});return(r=R(this,bt).get(e.queryHash))==null?void 0:r.state}removeQueries(t){const e=R(this,bt);St.batch(()=>{e.findAll(t).forEach(r=>{e.remove(r)})})}resetQueries(t,e){const r=R(this,bt);return St.batch(()=>(r.findAll(t).forEach(n=>{n.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const r={revert:!0,...e},n=St.batch(()=>R(this,bt).findAll(t).map(i=>i.cancel(r)));return Promise.all(n).then(gr).catch(gr)}invalidateQueries(t,e={}){return St.batch(()=>(R(this,bt).findAll(t).forEach(r=>{r.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const r={...e,cancelRefetch:e.cancelRefetch??!0},n=St.batch(()=>R(this,bt).findAll(t).filter(i=>!i.isDisabled()&&!i.isStatic()).map(i=>{let s=i.fetch(void 0,r);return r.throwOnError||(s=s.catch(gr)),i.state.fetchStatus==="paused"?Promise.resolve():s}));return Promise.all(n).then(gr)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const r=R(this,bt).build(this,e);return r.isStaleByTime(Vs(e.staleTime,r))?r.fetch(e):Promise.resolve(r.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(gr).catch(gr)}fetchInfiniteQuery(t){return t.behavior=sR(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(gr).catch(gr)}ensureInfiniteQueryData(t){return t.behavior=sR(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return qf.isOnline()?R(this,Is).resumePausedMutations():Promise.resolve()}getQueryCache(){return R(this,bt)}getMutationCache(){return R(this,Is)}getDefaultOptions(){return R(this,Rs)}setDefaultOptions(t){ie(this,Rs,t)}setQueryDefaults(t,e){R(this,kl).set(io(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...R(this,kl).values()],r={};return e.forEach(n=>{Yc(t,n.queryKey)&&Object.assign(r,n.defaultOptions)}),r}setMutationDefaults(t,e){R(this,Dl).set(io(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...R(this,Dl).values()],r={};return e.forEach(n=>{Yc(t,n.mutationKey)&&Object.assign(r,n.defaultOptions)}),r}defaultQueryOptions(t){if(t._defaulted)return t;const e={...R(this,Rs).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=aT(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===lT&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...R(this,Rs).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){R(this,bt).clear(),R(this,Is).clear()}},bt=new WeakMap,Is=new WeakMap,Rs=new WeakMap,kl=new WeakMap,Dl=new WeakMap,js=new WeakMap,ql=new WeakMap,Ml=new WeakMap,q8),p7=$.createContext(void 0),hr=t=>{const e=$.useContext(p7);if(!e)throw new Error("No QueryClient set, use QueryClientProvider to set one");return e},SZ=({client:t,children:e})=>($.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),c.jsx(p7.Provider,{value:t,children:e})),m7=$.createContext(!1),v7=()=>$.useContext(m7);m7.Provider;function EZ(){let t=!1;return{clearReset:()=>{t=!1},reset:()=>{t=!0},isReset:()=>t}}var OZ=$.createContext(EZ()),g7=()=>$.useContext(OZ),y7=(t,e,r)=>{const n=r!=null&&r.state.error&&typeof t.throwOnError=="function"?uT(t.throwOnError,[r.state.error,r]):t.throwOnError;(t.suspense||t.experimental_prefetchInRender||n)&&(e.isReset()||(t.retryOnMount=!1))},b7=t=>{$.useEffect(()=>{t.clearReset()},[t])},w7=({result:t,errorResetBoundary:e,throwOnError:r,query:n,suspense:i})=>t.isError&&!e.isReset()&&!t.isFetching&&n&&(i&&t.data===void 0||uT(r,[t.error,n])),x7=t=>{if(t.suspense){const r=i=>i==="static"?i:Math.max(i??1e3,1e3),n=t.staleTime;t.staleTime=typeof n=="function"?(...i)=>r(n(...i)):r(n),typeof t.gcTime=="number"&&(t.gcTime=Math.max(t.gcTime,1e3))}},_7=(t,e)=>t.isLoading&&t.isFetching&&!e,DP=(t,e)=>(t==null?void 0:t.suspense)&&e.isPending,Mf=(t,e,r)=>e.fetchOptimistic(t).catch(()=>{r.clearReset()});function Af({queries:t,...e},r){const n=hr(),i=v7(),s=g7(),a=$.useMemo(()=>t.map(y=>{const b=n.defaultQueryOptions(y);return b._optimisticResults=i?"isRestoring":"optimistic",b}),[t,n,i]);a.forEach(y=>{x7(y);const b=n.getQueryCache().get(y.queryHash);y7(y,s,b)}),b7(s);const[o]=$.useState(()=>new wZ(n,a,e)),[l,u,d]=o.getOptimisticResult(a,e.combine),h=!i&&e.subscribed!==!1;$.useSyncExternalStore($.useCallback(y=>h?o.subscribe(St.batchCalls(y)):gr,[o,h]),()=>o.getCurrentResult(),()=>o.getCurrentResult()),$.useEffect(()=>{o.setQueries(a,e)},[a,e,o]);const p=l.some((y,b)=>DP(a[b],y))?l.flatMap((y,b)=>{const g=a[b];if(g){const v=new dT(n,g);if(DP(g,y))return Mf(g,v,s);_7(y,i)&&Mf(g,v,s)}return[]}):[];if(p.length>0)throw Promise.all(p);const m=l.find((y,b)=>{const g=a[b];return g&&w7({result:y,errorResetBoundary:s,throwOnError:g.throwOnError,query:n.getQueryCache().get(g.queryHash),suspense:g.suspense})});if(m!=null&&m.error)throw m.error;return u(d())}function PZ(t,e,r){var f,p,m,y;const n=v7(),i=g7(),s=hr(),a=s.defaultQueryOptions(t);(p=(f=s.getDefaultOptions().queries)==null?void 0:f._experimental_beforeQuery)==null||p.call(f,a);const o=s.getQueryCache().get(a.queryHash);a._optimisticResults=n?"isRestoring":"optimistic",x7(a),y7(a,i,o),b7(i);const l=!s.getQueryCache().get(a.queryHash),[u]=$.useState(()=>new e(s,a)),d=u.getOptimisticResult(a),h=!n&&t.subscribed!==!1;if($.useSyncExternalStore($.useCallback(b=>{const g=h?u.subscribe(St.batchCalls(b)):gr;return u.updateResult(),g},[u,h]),()=>u.getCurrentResult(),()=>u.getCurrentResult()),$.useEffect(()=>{u.setOptions(a)},[a,u]),DP(a,d))throw Mf(a,u,i);if(w7({result:d,errorResetBoundary:i,throwOnError:a.throwOnError,query:o,suspense:a.suspense}))throw d.error;if((y=(m=s.getDefaultOptions().queries)==null?void 0:m._experimental_afterQuery)==null||y.call(m,a,d),a.experimental_prefetchInRender&&!no&&_7(d,n)){const b=l?Mf(a,u,i):o==null?void 0:o.promise;b==null||b.catch(gr).finally(()=>{u.updateResult()})}return a.notifyOnChangeProps?d:u.trackResult(d)}function pt(t,e){return PZ(t,dT)}function Rt(t,e){const r=hr(),[n]=$.useState(()=>new yZ(r,t));$.useEffect(()=>{n.setOptions(t)},[n,t]);const i=$.useSyncExternalStore($.useCallback(a=>n.subscribe(St.batchCalls(a)),[n]),()=>n.getCurrentResult(),()=>n.getCurrentResult()),s=$.useCallback((a,o)=>{n.mutate(a,o).catch(gr)},[n]);if(i.error&&uT(n.options.throwOnError,[i.error]))throw i.error;return{...i,mutate:s,mutateAsync:i.mutate}}function fT(){const t=window.prmConfig||{};return $.useMemo(()=>({isLoggedIn:t.isLoggedIn||!1,userId:t.userId||null,loginUrl:t.loginUrl||"/wp-login.php",logoutUrl:t.logoutUrl||"/wp-login.php?action=logout",isLoading:!1}),[t.isLoggedIn,t.userId,t.loginUrl,t.logoutUrl])}/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CZ={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TZ=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase().trim(),ye=(t,e)=>{const r=$.forwardRef(({color:n="currentColor",size:i=24,strokeWidth:s=2,absoluteStrokeWidth:a,className:o="",children:l,...u},d)=>$.createElement("svg",{ref:d,...CZ,width:i,height:i,stroke:n,strokeWidth:a?Number(s)*24/Number(i):s,className:["lucide",`lucide-${TZ(t)}`,o].join(" "),...u},[...e.map(([h,f])=>$.createElement(h,f)),...Array.isArray(l)?l:[l]]));return r.displayName=`${t}`,r};/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Vl=ye("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NZ=ye("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IZ=ye("ArrowDown",[["path",{d:"M12 5v14",key:"s699le"}],["path",{d:"m19 12-7 7-7-7",key:"1idqje"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ss=ye("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lR=ye("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RZ=ye("ArrowUp",[["path",{d:"m5 12 7-7 7 7",key:"hav0vg"}],["path",{d:"M12 19V5",key:"x0mq9r"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jZ=ye("Briefcase",[["rect",{width:"20",height:"14",x:"2",y:"7",rx:"2",ry:"2",key:"eto64e"}],["path",{d:"M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16",key:"zwj3tp"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Zi=ye("Building2",[["path",{d:"M6 22V4a2 2 0 0 1 2-2h8a2 2 0 0 1 2 2v18Z",key:"1b4qmf"}],["path",{d:"M6 12H4a2 2 0 0 0-2 2v6a2 2 0 0 0 2 2h2",key:"i71pzd"}],["path",{d:"M18 9h2a2 2 0 0 1 2 2v9a2 2 0 0 1-2 2h-2",key:"10jefs"}],["path",{d:"M10 6h4",key:"1itunk"}],["path",{d:"M10 10h4",key:"tcdvrf"}],["path",{d:"M10 14h4",key:"kelpxr"}],["path",{d:"M10 18h4",key:"1ulq68"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const S7=ye("Cake",[["path",{d:"M20 21v-8a2 2 0 0 0-2-2H6a2 2 0 0 0-2 2v8",key:"1w3rig"}],["path",{d:"M4 16s.5-1 2-1 2.5 2 4 2 2.5-2 4-2 2.5 2 4 2 2-1 2-1",key:"n2jgmb"}],["path",{d:"M2 21h20",key:"1nyx9w"}],["path",{d:"M7 8v3",key:"1qtyvj"}],["path",{d:"M12 8v3",key:"hwp4zt"}],["path",{d:"M17 8v3",key:"1i6e5u"}],["path",{d:"M7 4h0.01",key:"hsw7lv"}],["path",{d:"M12 4h0.01",key:"1e3d8f"}],["path",{d:"M17 4h0.01",key:"p7cxgy"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const so=ye("Calendar",[["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",ry:"2",key:"eu3xkr"}],["line",{x1:"16",x2:"16",y1:"2",y2:"6",key:"m3sa8f"}],["line",{x1:"8",x2:"8",y1:"2",y2:"6",key:"18kwsl"}],["line",{x1:"3",x2:"21",y1:"10",y2:"10",key:"xt86sb"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tf=ye("Camera",[["path",{d:"M14.5 4h-5L7 7H4a2 2 0 0 0-2 2v9a2 2 0 0 0 2 2h16a2 2 0 0 0 2-2V9a2 2 0 0 0-2-2h-3l-2.5-3z",key:"1tc9qg"}],["circle",{cx:"12",cy:"13",r:"3",key:"1vg3eu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Kl=ye("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["path",{d:"m9 11 3 3L22 4",key:"1pflzl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uR=ye("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $Z=ye("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kZ=ye("Database",[["ellipse",{cx:"12",cy:"5",rx:"9",ry:"3",key:"msslwz"}],["path",{d:"M3 5V19A9 3 0 0 0 21 19V5",key:"1wlel7"}],["path",{d:"M3 12A9 3 0 0 0 21 12",key:"mv7ke4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DZ=ye("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pT=ye("FileCode",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"m10 13-2 2 2 2",key:"17smn8"}],["path",{d:"m14 17 2-2-2-2",key:"14mezr"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E7=ye("FileSpreadsheet",[["path",{d:"M14.5 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7.5L14.5 2z",key:"1nnpy2"}],["polyline",{points:"14 2 14 8 20 8",key:"1ew0cm"}],["path",{d:"M8 13h2",key:"yr2amv"}],["path",{d:"M8 17h2",key:"2yhykz"}],["path",{d:"M14 13h2",key:"un5t4a"}],["path",{d:"M14 17h2",key:"10kma7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cR=ye("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qZ=ye("Gift",[["rect",{x:"3",y:"8",width:"18",height:"4",rx:"1",key:"bkv52"}],["path",{d:"M12 8v13",key:"1c76mn"}],["path",{d:"M19 12v7a2 2 0 0 1-2 2H7a2 2 0 0 1-2-2v-7",key:"6wjy6b"}],["path",{d:"M7.5 8a2.5 2.5 0 0 1 0-5A4.8 8 0 0 1 12 8a4.8 8 0 0 1 4.5-5 2.5 2.5 0 0 1 0 5",key:"1ihvrl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qP=ye("Globe",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M12 2a14.5 14.5 0 0 0 0 20 14.5 14.5 0 0 0 0-20",key:"13o1zl"}],["path",{d:"M2 12h20",key:"9i4pu4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MZ=ye("Heart",[["path",{d:"M19 14c1.49-1.46 3-3.21 3-5.5A5.5 5.5 0 0 0 16.5 3c-1.76 0-3 .5-4.5 2-1.5-1.5-2.74-2-4.5-2A5.5 5.5 0 0 0 2 8.5c0 2.3 1.5 4.05 3 5.5l7 7Z",key:"c3ymky"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AZ=ye("Home",[["path",{d:"m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z",key:"y5dka4"}],["polyline",{points:"9 22 9 12 15 12 15 22",key:"e2us08"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const O7=ye("Image",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",ry:"2",key:"1m3agn"}],["circle",{cx:"9",cy:"9",r:"2",key:"af1f0g"}],["path",{d:"m21 15-3.086-3.086a2 2 0 0 0-2.828 0L6 21",key:"1xmnt7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FZ=ye("Link",[["path",{d:"M10 13a5 5 0 0 0 7.54.54l3-3a5 5 0 0 0-7.07-7.07l-1.72 1.71",key:"1cjeqo"}],["path",{d:"M14 11a5 5 0 0 0-7.54-.54l-3 3a5 5 0 0 0 7.07 7.07l1.71-1.71",key:"19qd67"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dR=ye("Linkedin",[["path",{d:"M16 8a6 6 0 0 1 6 6v7h-4v-7a2 2 0 0 0-2-2 2 2 0 0 0-2 2v7h-4v-7a6 6 0 0 1 6-6z",key:"c2jq9f"}],["rect",{width:"4",height:"12",x:"2",y:"9",key:"mk3on5"}],["circle",{cx:"4",cy:"4",r:"2",key:"bt5ra8"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gl=ye("Loader2",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LZ=ye("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BZ=ye("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zZ=ye("MapPin",[["path",{d:"M20 10c0 6-8 12-8 12s-8-6-8-12a8 8 0 0 1 16 0Z",key:"2oe9fu"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const UZ=ye("Menu",[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WZ=ye("MessageCircle",[["path",{d:"M7.9 20A9 9 0 1 0 4 16.1L2 22Z",key:"vv11sd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HZ=ye("Pen",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=ye("Pencil",[["path",{d:"M17 3a2.85 2.83 0 1 1 4 4L7.5 20.5 2 22l1.5-5.5Z",key:"5qss01"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VZ=ye("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const br=ye("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KZ=ye("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P7=ye("RotateCcw",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ta=ye("Save",[["path",{d:"M19 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h11l5 5v11a2 2 0 0 1-2 2z",key:"1owoqh"}],["polyline",{points:"17 21 17 13 7 13 7 21",key:"1md35c"}],["polyline",{points:"7 3 7 8 15 8",key:"8nz8an"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C7=ye("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const T7=ye("Settings",[["path",{d:"M12.22 2h-.44a2 2 0 0 0-2 2v.18a2 2 0 0 1-1 1.73l-.43.25a2 2 0 0 1-2 0l-.15-.08a2 2 0 0 0-2.73.73l-.22.38a2 2 0 0 0 .73 2.73l.15.1a2 2 0 0 1 1 1.72v.51a2 2 0 0 1-1 1.74l-.15.09a2 2 0 0 0-.73 2.73l.22.38a2 2 0 0 0 2.73.73l.15-.08a2 2 0 0 1 2 0l.43.25a2 2 0 0 1 1 1.73V20a2 2 0 0 0 2 2h.44a2 2 0 0 0 2-2v-.18a2 2 0 0 1 1-1.73l.43-.25a2 2 0 0 1 2 0l.15.08a2 2 0 0 0 2.73-.73l.22-.39a2 2 0 0 0-.73-2.73l-.15-.08a2 2 0 0 1-1-1.74v-.5a2 2 0 0 1 1-1.74l.15-.09a2 2 0 0 0 .73-2.73l-.22-.38a2 2 0 0 0-2.73-.73l-.15.08a2 2 0 0 1-2 0l-.43-.25a2 2 0 0 1-1-1.73V4a2 2 0 0 0-2-2z",key:"1qme2f"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GZ=ye("ShieldAlert",[["path",{d:"M12 22s8-4 8-10V5l-8-3-8 3v7c0 6 8 10 8 10",key:"1irkt0"}],["path",{d:"M12 8v4",key:"1got3b"}],["path",{d:"M12 16h.01",key:"1drbdi"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YZ=ye("SkipForward",[["polygon",{points:"5 4 15 12 5 20 5 4",key:"16p6eg"}],["line",{x1:"19",x2:"19",y1:"5",y2:"19",key:"futhcm"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const N7=ye("Sparkles",[["path",{d:"m12 3-1.912 5.813a2 2 0 0 1-1.275 1.275L3 12l5.813 1.912a2 2 0 0 1 1.275 1.275L12 21l1.912-5.813a2 2 0 0 1 1.275-1.275L21 12l-5.813-1.912a2 2 0 0 1-1.275-1.275L12 3Z",key:"17u4zn"}],["path",{d:"M5 3v4",key:"bklmnn"}],["path",{d:"M19 17v4",key:"iiml17"}],["path",{d:"M3 5h4",key:"nem4j1"}],["path",{d:"M17 19h4",key:"lbex7p"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const I7=ye("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Xc=ye("Star",[["polygon",{points:"12 2 15.09 8.26 22 9.27 17 14.14 18.18 21.02 12 17.77 5.82 21.02 7 14.14 2 9.27 8.91 8.26 12 2",key:"8f66p6"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const R7=ye("StickyNote",[["path",{d:"M15.5 3H5a2 2 0 0 0-2 2v14c0 1.1.9 2 2 2h14a2 2 0 0 0 2-2V8.5L15.5 3Z",key:"1wis1t"}],["path",{d:"M15 3v6h6",key:"edgan2"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const gs=ye("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Yl=ye("Upload",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"17 8 12 3 7 8",key:"t8dd8p"}],["line",{x1:"12",x2:"12",y1:"3",y2:"15",key:"widbto"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QZ=ye("UserPlus",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["line",{x1:"19",x2:"19",y1:"8",y2:"14",key:"1bvyxn"}],["line",{x1:"22",x2:"16",y1:"11",y2:"11",key:"1shjgl"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const j7=ye("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ao=ye("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ra=ye("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XZ=ye("ZoomIn",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"11",x2:"11",y1:"8",y2:"14",key:"1vmskp"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]);/**
 * @license lucide-react v0.309.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JZ=ye("ZoomOut",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["line",{x1:"21",x2:"16.65",y1:"21",y2:"16.65",key:"13gj7c"}],["line",{x1:"8",x2:"14",y1:"11",y2:"11",key:"durymu"}]]),Ql="Caelis";function ei(t){$.useEffect(()=>{var e;if(t){const r=((e=window.prmConfig)==null?void 0:e.siteName)||Ql;document.title=`${t} - ${r}`}},[t])}function ZZ(t){const e=t.match(/\/(?:people|companies|dates)\/(\d+)/);return e?e[1]:null}function $7(t=null){const e=ns();$.useEffect(()=>{var i;let r=t;if(!r){const s=e.pathname,a=ZZ(s);s==="/"?r="Dashboard":s==="/login"?r="Login":s.startsWith("/people")?s==="/people"||s==="/people/"?r="People":s==="/people/new"?r="New Person":s.endsWith("/edit")?r="Edit Person":a?r="Person":r="People":s.startsWith("/companies")?s==="/companies"||s==="/companies/"?r="Companies":s==="/companies/new"?r="New Company":s.endsWith("/edit")?r="Edit Company":a?r="Company":r="Companies":s.startsWith("/dates")?s==="/dates"||s==="/dates/"?r="Important Dates":s==="/dates/new"?r="New Date":s.endsWith("/edit")?r="Edit Date":r="Important Dates":s.startsWith("/settings")?r="Settings":r=Ql}const n=((i=window.prmConfig)==null?void 0:i.siteName)||Ql;document.title=`${r} - ${n}`},[e.pathname,t])}function k7(t,e){return function(){return t.apply(e,arguments)}}const{toString:eee}=Object.prototype,{getPrototypeOf:mT}=Object,{iterator:Sp,toStringTag:D7}=Symbol,Ep=(t=>e=>{const r=eee.call(e);return t[r]||(t[r]=r.slice(8,-1).toLowerCase())})(Object.create(null)),ti=t=>(t=t.toLowerCase(),e=>Ep(e)===t),Op=t=>e=>typeof e===t,{isArray:hu}=Array,Xl=Op("undefined");function Ed(t){return t!==null&&!Xl(t)&&t.constructor!==null&&!Xl(t.constructor)&&Yr(t.constructor.isBuffer)&&t.constructor.isBuffer(t)}const q7=ti("ArrayBuffer");function tee(t){let e;return typeof ArrayBuffer<"u"&&ArrayBuffer.isView?e=ArrayBuffer.isView(t):e=t&&t.buffer&&q7(t.buffer),e}const ree=Op("string"),Yr=Op("function"),M7=Op("number"),Od=t=>t!==null&&typeof t=="object",nee=t=>t===!0||t===!1,rf=t=>{if(Ep(t)!=="object")return!1;const e=mT(t);return(e===null||e===Object.prototype||Object.getPrototypeOf(e)===null)&&!(D7 in t)&&!(Sp in t)},iee=t=>{if(!Od(t)||Ed(t))return!1;try{return Object.keys(t).length===0&&Object.getPrototypeOf(t)===Object.prototype}catch{return!1}},see=ti("Date"),aee=ti("File"),oee=ti("Blob"),lee=ti("FileList"),uee=t=>Od(t)&&Yr(t.pipe),cee=t=>{let e;return t&&(typeof FormData=="function"&&t instanceof FormData||Yr(t.append)&&((e=Ep(t))==="formdata"||e==="object"&&Yr(t.toString)&&t.toString()==="[object FormData]"))},dee=ti("URLSearchParams"),[hee,fee,pee,mee]=["ReadableStream","Request","Response","Headers"].map(ti),vee=t=>t.trim?t.trim():t.replace(/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,"");function Pd(t,e,{allOwnKeys:r=!1}={}){if(t===null||typeof t>"u")return;let n,i;if(typeof t!="object"&&(t=[t]),hu(t))for(n=0,i=t.length;n<i;n++)e.call(null,t[n],n,t);else{if(Ed(t))return;const s=r?Object.getOwnPropertyNames(t):Object.keys(t),a=s.length;let o;for(n=0;n<a;n++)o=s[n],e.call(null,t[o],o,t)}}function A7(t,e){if(Ed(t))return null;e=e.toLowerCase();const r=Object.keys(t);let n=r.length,i;for(;n-- >0;)if(i=r[n],e===i.toLowerCase())return i;return null}const Ca=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:global,F7=t=>!Xl(t)&&t!==Ca;function MP(){const{caseless:t,skipUndefined:e}=F7(this)&&this||{},r={},n=(i,s)=>{const a=t&&A7(r,s)||s;rf(r[a])&&rf(i)?r[a]=MP(r[a],i):rf(i)?r[a]=MP({},i):hu(i)?r[a]=i.slice():(!e||!Xl(i))&&(r[a]=i)};for(let i=0,s=arguments.length;i<s;i++)arguments[i]&&Pd(arguments[i],n);return r}const gee=(t,e,r,{allOwnKeys:n}={})=>(Pd(e,(i,s)=>{r&&Yr(i)?t[s]=k7(i,r):t[s]=i},{allOwnKeys:n}),t),yee=t=>(t.charCodeAt(0)===65279&&(t=t.slice(1)),t),bee=(t,e,r,n)=>{t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,Object.defineProperty(t,"super",{value:e.prototype}),r&&Object.assign(t.prototype,r)},wee=(t,e,r,n)=>{let i,s,a;const o={};if(e=e||{},t==null)return e;do{for(i=Object.getOwnPropertyNames(t),s=i.length;s-- >0;)a=i[s],(!n||n(a,t,e))&&!o[a]&&(e[a]=t[a],o[a]=!0);t=r!==!1&&mT(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},xee=(t,e,r)=>{t=String(t),(r===void 0||r>t.length)&&(r=t.length),r-=e.length;const n=t.indexOf(e,r);return n!==-1&&n===r},_ee=t=>{if(!t)return null;if(hu(t))return t;let e=t.length;if(!M7(e))return null;const r=new Array(e);for(;e-- >0;)r[e]=t[e];return r},See=(t=>e=>t&&e instanceof t)(typeof Uint8Array<"u"&&mT(Uint8Array)),Eee=(t,e)=>{const n=(t&&t[Sp]).call(t);let i;for(;(i=n.next())&&!i.done;){const s=i.value;e.call(t,s[0],s[1])}},Oee=(t,e)=>{let r;const n=[];for(;(r=t.exec(e))!==null;)n.push(r);return n},Pee=ti("HTMLFormElement"),Cee=t=>t.toLowerCase().replace(/[-_\s]([a-z\d])(\w*)/g,function(r,n,i){return n.toUpperCase()+i}),hR=(({hasOwnProperty:t})=>(e,r)=>t.call(e,r))(Object.prototype),Tee=ti("RegExp"),L7=(t,e)=>{const r=Object.getOwnPropertyDescriptors(t),n={};Pd(r,(i,s)=>{let a;(a=e(i,s,t))!==!1&&(n[s]=a||i)}),Object.defineProperties(t,n)},Nee=t=>{L7(t,(e,r)=>{if(Yr(t)&&["arguments","caller","callee"].indexOf(r)!==-1)return!1;const n=t[r];if(Yr(n)){if(e.enumerable=!1,"writable"in e){e.writable=!1;return}e.set||(e.set=()=>{throw Error("Can not rewrite read-only method '"+r+"'")})}})},Iee=(t,e)=>{const r={},n=i=>{i.forEach(s=>{r[s]=!0})};return hu(t)?n(t):n(String(t).split(e)),r},Ree=()=>{},jee=(t,e)=>t!=null&&Number.isFinite(t=+t)?t:e;function $ee(t){return!!(t&&Yr(t.append)&&t[D7]==="FormData"&&t[Sp])}const kee=t=>{const e=new Array(10),r=(n,i)=>{if(Od(n)){if(e.indexOf(n)>=0)return;if(Ed(n))return n;if(!("toJSON"in n)){e[i]=n;const s=hu(n)?[]:{};return Pd(n,(a,o)=>{const l=r(a,i+1);!Xl(l)&&(s[o]=l)}),e[i]=void 0,s}}return n};return r(t,0)},Dee=ti("AsyncFunction"),qee=t=>t&&(Od(t)||Yr(t))&&Yr(t.then)&&Yr(t.catch),B7=((t,e)=>t?setImmediate:e?((r,n)=>(Ca.addEventListener("message",({source:i,data:s})=>{i===Ca&&s===r&&n.length&&n.shift()()},!1),i=>{n.push(i),Ca.postMessage(r,"*")}))(`axios@${Math.random()}`,[]):r=>setTimeout(r))(typeof setImmediate=="function",Yr(Ca.postMessage)),Mee=typeof queueMicrotask<"u"?queueMicrotask.bind(Ca):typeof process<"u"&&process.nextTick||B7,Aee=t=>t!=null&&Yr(t[Sp]),M={isArray:hu,isArrayBuffer:q7,isBuffer:Ed,isFormData:cee,isArrayBufferView:tee,isString:ree,isNumber:M7,isBoolean:nee,isObject:Od,isPlainObject:rf,isEmptyObject:iee,isReadableStream:hee,isRequest:fee,isResponse:pee,isHeaders:mee,isUndefined:Xl,isDate:see,isFile:aee,isBlob:oee,isRegExp:Tee,isFunction:Yr,isStream:uee,isURLSearchParams:dee,isTypedArray:See,isFileList:lee,forEach:Pd,merge:MP,extend:gee,trim:vee,stripBOM:yee,inherits:bee,toFlatObject:wee,kindOf:Ep,kindOfTest:ti,endsWith:xee,toArray:_ee,forEachEntry:Eee,matchAll:Oee,isHTMLForm:Pee,hasOwnProperty:hR,hasOwnProp:hR,reduceDescriptors:L7,freezeMethods:Nee,toObjectSet:Iee,toCamelCase:Cee,noop:Ree,toFiniteNumber:jee,findKey:A7,global:Ca,isContextDefined:F7,isSpecCompliantForm:$ee,toJSONObject:kee,isAsyncFn:Dee,isThenable:qee,setImmediate:B7,asap:Mee,isIterable:Aee};function Te(t,e,r,n,i){Error.call(this),Error.captureStackTrace?Error.captureStackTrace(this,this.constructor):this.stack=new Error().stack,this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),i&&(this.response=i,this.status=i.status?i.status:null)}M.inherits(Te,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:M.toJSONObject(this.config),code:this.code,status:this.status}}});const z7=Te.prototype,U7={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED","ERR_NOT_SUPPORT","ERR_INVALID_URL"].forEach(t=>{U7[t]={value:t}});Object.defineProperties(Te,U7);Object.defineProperty(z7,"isAxiosError",{value:!0});Te.from=(t,e,r,n,i,s)=>{const a=Object.create(z7);M.toFlatObject(t,a,function(d){return d!==Error.prototype},u=>u!=="isAxiosError");const o=t&&t.message?t.message:"Error",l=e==null&&t?t.code:e;return Te.call(a,o,l,r,n,i),t&&a.cause==null&&Object.defineProperty(a,"cause",{value:t,configurable:!0}),a.name=t&&t.name||"Error",s&&Object.assign(a,s),a};const Fee=null;function AP(t){return M.isPlainObject(t)||M.isArray(t)}function W7(t){return M.endsWith(t,"[]")?t.slice(0,-2):t}function fR(t,e,r){return t?t.concat(e).map(function(i,s){return i=W7(i),!r&&s?"["+i+"]":i}).join(r?".":""):e}function Lee(t){return M.isArray(t)&&!t.some(AP)}const Bee=M.toFlatObject(M,{},null,function(e){return/^is[A-Z]/.test(e)});function Pp(t,e,r){if(!M.isObject(t))throw new TypeError("target must be an object");e=e||new FormData,r=M.toFlatObject(r,{metaTokens:!0,dots:!1,indexes:!1},!1,function(y,b){return!M.isUndefined(b[y])});const n=r.metaTokens,i=r.visitor||d,s=r.dots,a=r.indexes,l=(r.Blob||typeof Blob<"u"&&Blob)&&M.isSpecCompliantForm(e);if(!M.isFunction(i))throw new TypeError("visitor must be a function");function u(m){if(m===null)return"";if(M.isDate(m))return m.toISOString();if(M.isBoolean(m))return m.toString();if(!l&&M.isBlob(m))throw new Te("Blob is not supported. Use a Buffer instead.");return M.isArrayBuffer(m)||M.isTypedArray(m)?l&&typeof Blob=="function"?new Blob([m]):Buffer.from(m):m}function d(m,y,b){let g=m;if(m&&!b&&typeof m=="object"){if(M.endsWith(y,"{}"))y=n?y:y.slice(0,-2),m=JSON.stringify(m);else if(M.isArray(m)&&Lee(m)||(M.isFileList(m)||M.endsWith(y,"[]"))&&(g=M.toArray(m)))return y=W7(y),g.forEach(function(x,w){!(M.isUndefined(x)||x===null)&&e.append(a===!0?fR([y],w,s):a===null?y:y+"[]",u(x))}),!1}return AP(m)?!0:(e.append(fR(b,y,s),u(m)),!1)}const h=[],f=Object.assign(Bee,{defaultVisitor:d,convertValue:u,isVisitable:AP});function p(m,y){if(!M.isUndefined(m)){if(h.indexOf(m)!==-1)throw Error("Circular reference detected in "+y.join("."));h.push(m),M.forEach(m,function(g,v){(!(M.isUndefined(g)||g===null)&&i.call(e,g,M.isString(v)?v.trim():v,y,f))===!0&&p(g,y?y.concat(v):[v])}),h.pop()}}if(!M.isObject(t))throw new TypeError("data must be an object");return p(t),e}function pR(t){const e={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+","%00":"\0"};return encodeURIComponent(t).replace(/[!'()~]|%20|%00/g,function(n){return e[n]})}function vT(t,e){this._pairs=[],t&&Pp(t,this,e)}const H7=vT.prototype;H7.append=function(e,r){this._pairs.push([e,r])};H7.toString=function(e){const r=e?function(n){return e.call(this,n,pR)}:pR;return this._pairs.map(function(i){return r(i[0])+"="+r(i[1])},"").join("&")};function zee(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+")}function V7(t,e,r){if(!e)return t;const n=r&&r.encode||zee;M.isFunction(r)&&(r={serialize:r});const i=r&&r.serialize;let s;if(i?s=i(e,r):s=M.isURLSearchParams(e)?e.toString():new vT(e,r).toString(n),s){const a=t.indexOf("#");a!==-1&&(t=t.slice(0,a)),t+=(t.indexOf("?")===-1?"?":"&")+s}return t}class mR{constructor(){this.handlers=[]}use(e,r,n){return this.handlers.push({fulfilled:e,rejected:r,synchronous:n?n.synchronous:!1,runWhen:n?n.runWhen:null}),this.handlers.length-1}eject(e){this.handlers[e]&&(this.handlers[e]=null)}clear(){this.handlers&&(this.handlers=[])}forEach(e){M.forEach(this.handlers,function(n){n!==null&&e(n)})}}const K7={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},Uee=typeof URLSearchParams<"u"?URLSearchParams:vT,Wee=typeof FormData<"u"?FormData:null,Hee=typeof Blob<"u"?Blob:null,Vee={isBrowser:!0,classes:{URLSearchParams:Uee,FormData:Wee,Blob:Hee},protocols:["http","https","file","blob","url","data"]},gT=typeof window<"u"&&typeof document<"u",FP=typeof navigator=="object"&&navigator||void 0,Kee=gT&&(!FP||["ReactNative","NativeScript","NS"].indexOf(FP.product)<0),Gee=typeof WorkerGlobalScope<"u"&&self instanceof WorkerGlobalScope&&typeof self.importScripts=="function",Yee=gT&&window.location.href||"http://localhost",Qee=Object.freeze(Object.defineProperty({__proto__:null,hasBrowserEnv:gT,hasStandardBrowserEnv:Kee,hasStandardBrowserWebWorkerEnv:Gee,navigator:FP,origin:Yee},Symbol.toStringTag,{value:"Module"})),wr={...Qee,...Vee};function Xee(t,e){return Pp(t,new wr.classes.URLSearchParams,{visitor:function(r,n,i,s){return wr.isNode&&M.isBuffer(r)?(this.append(n,r.toString("base64")),!1):s.defaultVisitor.apply(this,arguments)},...e})}function Jee(t){return M.matchAll(/\w+|\[(\w*)]/g,t).map(e=>e[0]==="[]"?"":e[1]||e[0])}function Zee(t){const e={},r=Object.keys(t);let n;const i=r.length;let s;for(n=0;n<i;n++)s=r[n],e[s]=t[s];return e}function G7(t){function e(r,n,i,s){let a=r[s++];if(a==="__proto__")return!0;const o=Number.isFinite(+a),l=s>=r.length;return a=!a&&M.isArray(i)?i.length:a,l?(M.hasOwnProp(i,a)?i[a]=[i[a],n]:i[a]=n,!o):((!i[a]||!M.isObject(i[a]))&&(i[a]=[]),e(r,n,i[a],s)&&M.isArray(i[a])&&(i[a]=Zee(i[a])),!o)}if(M.isFormData(t)&&M.isFunction(t.entries)){const r={};return M.forEachEntry(t,(n,i)=>{e(Jee(n),i,r,0)}),r}return null}function ete(t,e,r){if(M.isString(t))try{return(e||JSON.parse)(t),M.trim(t)}catch(n){if(n.name!=="SyntaxError")throw n}return(r||JSON.stringify)(t)}const Cd={transitional:K7,adapter:["xhr","http","fetch"],transformRequest:[function(e,r){const n=r.getContentType()||"",i=n.indexOf("application/json")>-1,s=M.isObject(e);if(s&&M.isHTMLForm(e)&&(e=new FormData(e)),M.isFormData(e))return i?JSON.stringify(G7(e)):e;if(M.isArrayBuffer(e)||M.isBuffer(e)||M.isStream(e)||M.isFile(e)||M.isBlob(e)||M.isReadableStream(e))return e;if(M.isArrayBufferView(e))return e.buffer;if(M.isURLSearchParams(e))return r.setContentType("application/x-www-form-urlencoded;charset=utf-8",!1),e.toString();let o;if(s){if(n.indexOf("application/x-www-form-urlencoded")>-1)return Xee(e,this.formSerializer).toString();if((o=M.isFileList(e))||n.indexOf("multipart/form-data")>-1){const l=this.env&&this.env.FormData;return Pp(o?{"files[]":e}:e,l&&new l,this.formSerializer)}}return s||i?(r.setContentType("application/json",!1),ete(e)):e}],transformResponse:[function(e){const r=this.transitional||Cd.transitional,n=r&&r.forcedJSONParsing,i=this.responseType==="json";if(M.isResponse(e)||M.isReadableStream(e))return e;if(e&&M.isString(e)&&(n&&!this.responseType||i)){const a=!(r&&r.silentJSONParsing)&&i;try{return JSON.parse(e,this.parseReviver)}catch(o){if(a)throw o.name==="SyntaxError"?Te.from(o,Te.ERR_BAD_RESPONSE,this,null,this.response):o}}return e}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:wr.classes.FormData,Blob:wr.classes.Blob},validateStatus:function(e){return e>=200&&e<300},headers:{common:{Accept:"application/json, text/plain, */*","Content-Type":void 0}}};M.forEach(["delete","get","head","post","put","patch"],t=>{Cd.headers[t]={}});const tte=M.toObjectSet(["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"]),rte=t=>{const e={};let r,n,i;return t&&t.split(`
`).forEach(function(a){i=a.indexOf(":"),r=a.substring(0,i).trim().toLowerCase(),n=a.substring(i+1).trim(),!(!r||e[r]&&tte[r])&&(r==="set-cookie"?e[r]?e[r].push(n):e[r]=[n]:e[r]=e[r]?e[r]+", "+n:n)}),e},vR=Symbol("internals");function Xu(t){return t&&String(t).trim().toLowerCase()}function nf(t){return t===!1||t==null?t:M.isArray(t)?t.map(nf):String(t)}function nte(t){const e=Object.create(null),r=/([^\s,;=]+)\s*(?:=\s*([^,;]+))?/g;let n;for(;n=r.exec(t);)e[n[1]]=n[2];return e}const ite=t=>/^[-_a-zA-Z0-9^`|~,!#$%&'*+.]+$/.test(t.trim());function Lm(t,e,r,n,i){if(M.isFunction(n))return n.call(this,e,r);if(i&&(e=r),!!M.isString(e)){if(M.isString(n))return e.indexOf(n)!==-1;if(M.isRegExp(n))return n.test(e)}}function ste(t){return t.trim().toLowerCase().replace(/([a-z\d])(\w*)/g,(e,r,n)=>r.toUpperCase()+n)}function ate(t,e){const r=M.toCamelCase(" "+e);["get","set","has"].forEach(n=>{Object.defineProperty(t,n+r,{value:function(i,s,a){return this[n].call(this,e,i,s,a)},configurable:!0})})}let Qr=class{constructor(e){e&&this.set(e)}set(e,r,n){const i=this;function s(o,l,u){const d=Xu(l);if(!d)throw new Error("header name must be a non-empty string");const h=M.findKey(i,d);(!h||i[h]===void 0||u===!0||u===void 0&&i[h]!==!1)&&(i[h||l]=nf(o))}const a=(o,l)=>M.forEach(o,(u,d)=>s(u,d,l));if(M.isPlainObject(e)||e instanceof this.constructor)a(e,r);else if(M.isString(e)&&(e=e.trim())&&!ite(e))a(rte(e),r);else if(M.isObject(e)&&M.isIterable(e)){let o={},l,u;for(const d of e){if(!M.isArray(d))throw TypeError("Object iterator must return a key-value pair");o[u=d[0]]=(l=o[u])?M.isArray(l)?[...l,d[1]]:[l,d[1]]:d[1]}a(o,r)}else e!=null&&s(r,e,n);return this}get(e,r){if(e=Xu(e),e){const n=M.findKey(this,e);if(n){const i=this[n];if(!r)return i;if(r===!0)return nte(i);if(M.isFunction(r))return r.call(this,i,n);if(M.isRegExp(r))return r.exec(i);throw new TypeError("parser must be boolean|regexp|function")}}}has(e,r){if(e=Xu(e),e){const n=M.findKey(this,e);return!!(n&&this[n]!==void 0&&(!r||Lm(this,this[n],n,r)))}return!1}delete(e,r){const n=this;let i=!1;function s(a){if(a=Xu(a),a){const o=M.findKey(n,a);o&&(!r||Lm(n,n[o],o,r))&&(delete n[o],i=!0)}}return M.isArray(e)?e.forEach(s):s(e),i}clear(e){const r=Object.keys(this);let n=r.length,i=!1;for(;n--;){const s=r[n];(!e||Lm(this,this[s],s,e,!0))&&(delete this[s],i=!0)}return i}normalize(e){const r=this,n={};return M.forEach(this,(i,s)=>{const a=M.findKey(n,s);if(a){r[a]=nf(i),delete r[s];return}const o=e?ste(s):String(s).trim();o!==s&&delete r[s],r[o]=nf(i),n[o]=!0}),this}concat(...e){return this.constructor.concat(this,...e)}toJSON(e){const r=Object.create(null);return M.forEach(this,(n,i)=>{n!=null&&n!==!1&&(r[i]=e&&M.isArray(n)?n.join(", "):n)}),r}[Symbol.iterator](){return Object.entries(this.toJSON())[Symbol.iterator]()}toString(){return Object.entries(this.toJSON()).map(([e,r])=>e+": "+r).join(`
`)}getSetCookie(){return this.get("set-cookie")||[]}get[Symbol.toStringTag](){return"AxiosHeaders"}static from(e){return e instanceof this?e:new this(e)}static concat(e,...r){const n=new this(e);return r.forEach(i=>n.set(i)),n}static accessor(e){const n=(this[vR]=this[vR]={accessors:{}}).accessors,i=this.prototype;function s(a){const o=Xu(a);n[o]||(ate(i,a),n[o]=!0)}return M.isArray(e)?e.forEach(s):s(e),this}};Qr.accessor(["Content-Type","Content-Length","Accept","Accept-Encoding","User-Agent","Authorization"]);M.reduceDescriptors(Qr.prototype,({value:t},e)=>{let r=e[0].toUpperCase()+e.slice(1);return{get:()=>t,set(n){this[r]=n}}});M.freezeMethods(Qr);function Bm(t,e){const r=this||Cd,n=e||r,i=Qr.from(n.headers);let s=n.data;return M.forEach(t,function(o){s=o.call(r,s,i.normalize(),e?e.status:void 0)}),i.normalize(),s}function Y7(t){return!!(t&&t.__CANCEL__)}function fu(t,e,r){Te.call(this,t??"canceled",Te.ERR_CANCELED,e,r),this.name="CanceledError"}M.inherits(fu,Te,{__CANCEL__:!0});function Q7(t,e,r){const n=r.config.validateStatus;!r.status||!n||n(r.status)?t(r):e(new Te("Request failed with status code "+r.status,[Te.ERR_BAD_REQUEST,Te.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r))}function ote(t){const e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}function lte(t,e){t=t||10;const r=new Array(t),n=new Array(t);let i=0,s=0,a;return e=e!==void 0?e:1e3,function(l){const u=Date.now(),d=n[s];a||(a=u),r[i]=l,n[i]=u;let h=s,f=0;for(;h!==i;)f+=r[h++],h=h%t;if(i=(i+1)%t,i===s&&(s=(s+1)%t),u-a<e)return;const p=d&&u-d;return p?Math.round(f*1e3/p):void 0}}function ute(t,e){let r=0,n=1e3/e,i,s;const a=(u,d=Date.now())=>{r=d,i=null,s&&(clearTimeout(s),s=null),t(...u)};return[(...u)=>{const d=Date.now(),h=d-r;h>=n?a(u,d):(i=u,s||(s=setTimeout(()=>{s=null,a(i)},n-h)))},()=>i&&a(i)]}const Ff=(t,e,r=3)=>{let n=0;const i=lte(50,250);return ute(s=>{const a=s.loaded,o=s.lengthComputable?s.total:void 0,l=a-n,u=i(l),d=a<=o;n=a;const h={loaded:a,total:o,progress:o?a/o:void 0,bytes:l,rate:u||void 0,estimated:u&&o&&d?(o-a)/u:void 0,event:s,lengthComputable:o!=null,[e?"download":"upload"]:!0};t(h)},r)},gR=(t,e)=>{const r=t!=null;return[n=>e[0]({lengthComputable:r,total:t,loaded:n}),e[1]]},yR=t=>(...e)=>M.asap(()=>t(...e)),cte=wr.hasStandardBrowserEnv?((t,e)=>r=>(r=new URL(r,wr.origin),t.protocol===r.protocol&&t.host===r.host&&(e||t.port===r.port)))(new URL(wr.origin),wr.navigator&&/(msie|trident)/i.test(wr.navigator.userAgent)):()=>!0,dte=wr.hasStandardBrowserEnv?{write(t,e,r,n,i,s,a){if(typeof document>"u")return;const o=[`${t}=${encodeURIComponent(e)}`];M.isNumber(r)&&o.push(`expires=${new Date(r).toUTCString()}`),M.isString(n)&&o.push(`path=${n}`),M.isString(i)&&o.push(`domain=${i}`),s===!0&&o.push("secure"),M.isString(a)&&o.push(`SameSite=${a}`),document.cookie=o.join("; ")},read(t){if(typeof document>"u")return null;const e=document.cookie.match(new RegExp("(?:^|; )"+t+"=([^;]*)"));return e?decodeURIComponent(e[1]):null},remove(t){this.write(t,"",Date.now()-864e5,"/")}}:{write(){},read(){return null},remove(){}};function hte(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}function fte(t,e){return e?t.replace(/\/?\/$/,"")+"/"+e.replace(/^\/+/,""):t}function X7(t,e,r){let n=!hte(e);return t&&(n||r==!1)?fte(t,e):e}const bR=t=>t instanceof Qr?{...t}:t;function oo(t,e){e=e||{};const r={};function n(u,d,h,f){return M.isPlainObject(u)&&M.isPlainObject(d)?M.merge.call({caseless:f},u,d):M.isPlainObject(d)?M.merge({},d):M.isArray(d)?d.slice():d}function i(u,d,h,f){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u,h,f)}else return n(u,d,h,f)}function s(u,d){if(!M.isUndefined(d))return n(void 0,d)}function a(u,d){if(M.isUndefined(d)){if(!M.isUndefined(u))return n(void 0,u)}else return n(void 0,d)}function o(u,d,h){if(h in e)return n(u,d);if(h in t)return n(void 0,u)}const l={url:s,method:s,data:s,baseURL:a,transformRequest:a,transformResponse:a,paramsSerializer:a,timeout:a,timeoutMessage:a,withCredentials:a,withXSRFToken:a,adapter:a,responseType:a,xsrfCookieName:a,xsrfHeaderName:a,onUploadProgress:a,onDownloadProgress:a,decompress:a,maxContentLength:a,maxBodyLength:a,beforeRedirect:a,transport:a,httpAgent:a,httpsAgent:a,cancelToken:a,socketPath:a,responseEncoding:a,validateStatus:o,headers:(u,d,h)=>i(bR(u),bR(d),h,!0)};return M.forEach(Object.keys({...t,...e}),function(d){const h=l[d]||i,f=h(t[d],e[d],d);M.isUndefined(f)&&h!==o||(r[d]=f)}),r}const J7=t=>{const e=oo({},t);let{data:r,withXSRFToken:n,xsrfHeaderName:i,xsrfCookieName:s,headers:a,auth:o}=e;if(e.headers=a=Qr.from(a),e.url=V7(X7(e.baseURL,e.url,e.allowAbsoluteUrls),t.params,t.paramsSerializer),o&&a.set("Authorization","Basic "+btoa((o.username||"")+":"+(o.password?unescape(encodeURIComponent(o.password)):""))),M.isFormData(r)){if(wr.hasStandardBrowserEnv||wr.hasStandardBrowserWebWorkerEnv)a.setContentType(void 0);else if(M.isFunction(r.getHeaders)){const l=r.getHeaders(),u=["content-type","content-length"];Object.entries(l).forEach(([d,h])=>{u.includes(d.toLowerCase())&&a.set(d,h)})}}if(wr.hasStandardBrowserEnv&&(n&&M.isFunction(n)&&(n=n(e)),n||n!==!1&&cte(e.url))){const l=i&&s&&dte.read(s);l&&a.set(i,l)}return e},pte=typeof XMLHttpRequest<"u",mte=pte&&function(t){return new Promise(function(r,n){const i=J7(t);let s=i.data;const a=Qr.from(i.headers).normalize();let{responseType:o,onUploadProgress:l,onDownloadProgress:u}=i,d,h,f,p,m;function y(){p&&p(),m&&m(),i.cancelToken&&i.cancelToken.unsubscribe(d),i.signal&&i.signal.removeEventListener("abort",d)}let b=new XMLHttpRequest;b.open(i.method.toUpperCase(),i.url,!0),b.timeout=i.timeout;function g(){if(!b)return;const x=Qr.from("getAllResponseHeaders"in b&&b.getAllResponseHeaders()),_={data:!o||o==="text"||o==="json"?b.responseText:b.response,status:b.status,statusText:b.statusText,headers:x,config:t,request:b};Q7(function(O){r(O),y()},function(O){n(O),y()},_),b=null}"onloadend"in b?b.onloadend=g:b.onreadystatechange=function(){!b||b.readyState!==4||b.status===0&&!(b.responseURL&&b.responseURL.indexOf("file:")===0)||setTimeout(g)},b.onabort=function(){b&&(n(new Te("Request aborted",Te.ECONNABORTED,t,b)),b=null)},b.onerror=function(w){const _=w&&w.message?w.message:"Network Error",E=new Te(_,Te.ERR_NETWORK,t,b);E.event=w||null,n(E),b=null},b.ontimeout=function(){let w=i.timeout?"timeout of "+i.timeout+"ms exceeded":"timeout exceeded";const _=i.transitional||K7;i.timeoutErrorMessage&&(w=i.timeoutErrorMessage),n(new Te(w,_.clarifyTimeoutError?Te.ETIMEDOUT:Te.ECONNABORTED,t,b)),b=null},s===void 0&&a.setContentType(null),"setRequestHeader"in b&&M.forEach(a.toJSON(),function(w,_){b.setRequestHeader(_,w)}),M.isUndefined(i.withCredentials)||(b.withCredentials=!!i.withCredentials),o&&o!=="json"&&(b.responseType=i.responseType),u&&([f,m]=Ff(u,!0),b.addEventListener("progress",f)),l&&b.upload&&([h,p]=Ff(l),b.upload.addEventListener("progress",h),b.upload.addEventListener("loadend",p)),(i.cancelToken||i.signal)&&(d=x=>{b&&(n(!x||x.type?new fu(null,t,b):x),b.abort(),b=null)},i.cancelToken&&i.cancelToken.subscribe(d),i.signal&&(i.signal.aborted?d():i.signal.addEventListener("abort",d)));const v=ote(i.url);if(v&&wr.protocols.indexOf(v)===-1){n(new Te("Unsupported protocol "+v+":",Te.ERR_BAD_REQUEST,t));return}b.send(s||null)})},vte=(t,e)=>{const{length:r}=t=t?t.filter(Boolean):[];if(e||r){let n=new AbortController,i;const s=function(u){if(!i){i=!0,o();const d=u instanceof Error?u:this.reason;n.abort(d instanceof Te?d:new fu(d instanceof Error?d.message:d))}};let a=e&&setTimeout(()=>{a=null,s(new Te(`timeout ${e} of ms exceeded`,Te.ETIMEDOUT))},e);const o=()=>{t&&(a&&clearTimeout(a),a=null,t.forEach(u=>{u.unsubscribe?u.unsubscribe(s):u.removeEventListener("abort",s)}),t=null)};t.forEach(u=>u.addEventListener("abort",s));const{signal:l}=n;return l.unsubscribe=()=>M.asap(o),l}},gte=function*(t,e){let r=t.byteLength;if(r<e){yield t;return}let n=0,i;for(;n<r;)i=n+e,yield t.slice(n,i),n=i},yte=async function*(t,e){for await(const r of bte(t))yield*gte(r,e)},bte=async function*(t){if(t[Symbol.asyncIterator]){yield*t;return}const e=t.getReader();try{for(;;){const{done:r,value:n}=await e.read();if(r)break;yield n}}finally{await e.cancel()}},wR=(t,e,r,n)=>{const i=yte(t,e);let s=0,a,o=l=>{a||(a=!0,n&&n(l))};return new ReadableStream({async pull(l){try{const{done:u,value:d}=await i.next();if(u){o(),l.close();return}let h=d.byteLength;if(r){let f=s+=h;r(f)}l.enqueue(new Uint8Array(d))}catch(u){throw o(u),u}},cancel(l){return o(l),i.return()}},{highWaterMark:2})},xR=64*1024,{isFunction:jh}=M,wte=(({Request:t,Response:e})=>({Request:t,Response:e}))(M.global),{ReadableStream:_R,TextEncoder:SR}=M.global,ER=(t,...e)=>{try{return!!t(...e)}catch{return!1}},xte=t=>{t=M.merge.call({skipUndefined:!0},wte,t);const{fetch:e,Request:r,Response:n}=t,i=e?jh(e):typeof fetch=="function",s=jh(r),a=jh(n);if(!i)return!1;const o=i&&jh(_R),l=i&&(typeof SR=="function"?(m=>y=>m.encode(y))(new SR):async m=>new Uint8Array(await new r(m).arrayBuffer())),u=s&&o&&ER(()=>{let m=!1;const y=new r(wr.origin,{body:new _R,method:"POST",get duplex(){return m=!0,"half"}}).headers.has("Content-Type");return m&&!y}),d=a&&o&&ER(()=>M.isReadableStream(new n("").body)),h={stream:d&&(m=>m.body)};i&&["text","arrayBuffer","blob","formData","stream"].forEach(m=>{!h[m]&&(h[m]=(y,b)=>{let g=y&&y[m];if(g)return g.call(y);throw new Te(`Response type '${m}' is not supported`,Te.ERR_NOT_SUPPORT,b)})});const f=async m=>{if(m==null)return 0;if(M.isBlob(m))return m.size;if(M.isSpecCompliantForm(m))return(await new r(wr.origin,{method:"POST",body:m}).arrayBuffer()).byteLength;if(M.isArrayBufferView(m)||M.isArrayBuffer(m))return m.byteLength;if(M.isURLSearchParams(m)&&(m=m+""),M.isString(m))return(await l(m)).byteLength},p=async(m,y)=>{const b=M.toFiniteNumber(m.getContentLength());return b??f(y)};return async m=>{let{url:y,method:b,data:g,signal:v,cancelToken:x,timeout:w,onDownloadProgress:_,onUploadProgress:E,responseType:O,headers:S,withCredentials:P="same-origin",fetchOptions:C}=J7(m),I=e||fetch;O=O?(O+"").toLowerCase():"text";let T=vte([v,x&&x.toAbortSignal()],w),N=null;const q=T&&T.unsubscribe&&(()=>{T.unsubscribe()});let z;try{if(E&&u&&b!=="get"&&b!=="head"&&(z=await p(S,g))!==0){let W=new r(y,{method:"POST",body:g,duplex:"half"}),ee;if(M.isFormData(g)&&(ee=W.headers.get("content-type"))&&S.setContentType(ee),W.body){const[fe,ve]=gR(z,Ff(yR(E)));g=wR(W.body,xR,fe,ve)}}M.isString(P)||(P=P?"include":"omit");const te=s&&"credentials"in r.prototype,K={...C,signal:T,method:b.toUpperCase(),headers:S.normalize().toJSON(),body:g,duplex:"half",credentials:te?P:void 0};N=s&&new r(y,K);let L=await(s?I(N,C):I(y,K));const V=d&&(O==="stream"||O==="response");if(d&&(_||V&&q)){const W={};["status","statusText","headers"].forEach(qe=>{W[qe]=L[qe]});const ee=M.toFiniteNumber(L.headers.get("content-length")),[fe,ve]=_&&gR(ee,Ff(yR(_),!0))||[];L=new n(wR(L.body,xR,fe,()=>{ve&&ve(),q&&q()}),W)}O=O||"text";let U=await h[M.findKey(h,O)||"text"](L,m);return!V&&q&&q(),await new Promise((W,ee)=>{Q7(W,ee,{data:U,headers:Qr.from(L.headers),status:L.status,statusText:L.statusText,config:m,request:N})})}catch(te){throw q&&q(),te&&te.name==="TypeError"&&/Load failed|fetch/i.test(te.message)?Object.assign(new Te("Network Error",Te.ERR_NETWORK,m,N),{cause:te.cause||te}):Te.from(te,te&&te.code,m,N)}}},_te=new Map,Z7=t=>{let e=t&&t.env||{};const{fetch:r,Request:n,Response:i}=e,s=[n,i,r];let a=s.length,o=a,l,u,d=_te;for(;o--;)l=s[o],u=d.get(l),u===void 0&&d.set(l,u=o?new Map:xte(e)),d=u;return u};Z7();const yT={http:Fee,xhr:mte,fetch:{get:Z7}};M.forEach(yT,(t,e)=>{if(t){try{Object.defineProperty(t,"name",{value:e})}catch{}Object.defineProperty(t,"adapterName",{value:e})}});const OR=t=>`- ${t}`,Ste=t=>M.isFunction(t)||t===null||t===!1;function Ete(t,e){t=M.isArray(t)?t:[t];const{length:r}=t;let n,i;const s={};for(let a=0;a<r;a++){n=t[a];let o;if(i=n,!Ste(n)&&(i=yT[(o=String(n)).toLowerCase()],i===void 0))throw new Te(`Unknown adapter '${o}'`);if(i&&(M.isFunction(i)||(i=i.get(e))))break;s[o||"#"+a]=i}if(!i){const a=Object.entries(s).map(([l,u])=>`adapter ${l} `+(u===!1?"is not supported by the environment":"is not available in the build"));let o=r?a.length>1?`since :
`+a.map(OR).join(`
`):" "+OR(a[0]):"as no adapter specified";throw new Te("There is no suitable adapter to dispatch the request "+o,"ERR_NOT_SUPPORT")}return i}const eK={getAdapter:Ete,adapters:yT};function zm(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new fu(null,t)}function PR(t){return zm(t),t.headers=Qr.from(t.headers),t.data=Bm.call(t,t.transformRequest),["post","put","patch"].indexOf(t.method)!==-1&&t.headers.setContentType("application/x-www-form-urlencoded",!1),eK.getAdapter(t.adapter||Cd.adapter,t)(t).then(function(n){return zm(t),n.data=Bm.call(t,t.transformResponse,n),n.headers=Qr.from(n.headers),n},function(n){return Y7(n)||(zm(t),n&&n.response&&(n.response.data=Bm.call(t,t.transformResponse,n.response),n.response.headers=Qr.from(n.response.headers))),Promise.reject(n)})}const tK="1.13.2",Cp={};["object","boolean","number","function","string","symbol"].forEach((t,e)=>{Cp[t]=function(n){return typeof n===t||"a"+(e<1?"n ":" ")+t}});const CR={};Cp.transitional=function(e,r,n){function i(s,a){return"[Axios v"+tK+"] Transitional option '"+s+"'"+a+(n?". "+n:"")}return(s,a,o)=>{if(e===!1)throw new Te(i(a," has been removed"+(r?" in "+r:"")),Te.ERR_DEPRECATED);return r&&!CR[a]&&(CR[a]=!0,console.warn(i(a," has been deprecated since v"+r+" and will be removed in the near future"))),e?e(s,a,o):!0}};Cp.spelling=function(e){return(r,n)=>(console.warn(`${n} is likely a misspelling of ${e}`),!0)};function Ote(t,e,r){if(typeof t!="object")throw new Te("options must be an object",Te.ERR_BAD_OPTION_VALUE);const n=Object.keys(t);let i=n.length;for(;i-- >0;){const s=n[i],a=e[s];if(a){const o=t[s],l=o===void 0||a(o,s,t);if(l!==!0)throw new Te("option "+s+" must be "+l,Te.ERR_BAD_OPTION_VALUE);continue}if(r!==!0)throw new Te("Unknown option "+s,Te.ERR_BAD_OPTION)}}const sf={assertOptions:Ote,validators:Cp},ai=sf.validators;let Wa=class{constructor(e){this.defaults=e||{},this.interceptors={request:new mR,response:new mR}}async request(e,r){try{return await this._request(e,r)}catch(n){if(n instanceof Error){let i={};Error.captureStackTrace?Error.captureStackTrace(i):i=new Error;const s=i.stack?i.stack.replace(/^.+\n/,""):"";try{n.stack?s&&!String(n.stack).endsWith(s.replace(/^.+\n.+\n/,""))&&(n.stack+=`
`+s):n.stack=s}catch{}}throw n}}_request(e,r){typeof e=="string"?(r=r||{},r.url=e):r=e||{},r=oo(this.defaults,r);const{transitional:n,paramsSerializer:i,headers:s}=r;n!==void 0&&sf.assertOptions(n,{silentJSONParsing:ai.transitional(ai.boolean),forcedJSONParsing:ai.transitional(ai.boolean),clarifyTimeoutError:ai.transitional(ai.boolean)},!1),i!=null&&(M.isFunction(i)?r.paramsSerializer={serialize:i}:sf.assertOptions(i,{encode:ai.function,serialize:ai.function},!0)),r.allowAbsoluteUrls!==void 0||(this.defaults.allowAbsoluteUrls!==void 0?r.allowAbsoluteUrls=this.defaults.allowAbsoluteUrls:r.allowAbsoluteUrls=!0),sf.assertOptions(r,{baseUrl:ai.spelling("baseURL"),withXsrfToken:ai.spelling("withXSRFToken")},!0),r.method=(r.method||this.defaults.method||"get").toLowerCase();let a=s&&M.merge(s.common,s[r.method]);s&&M.forEach(["delete","get","head","post","put","patch","common"],m=>{delete s[m]}),r.headers=Qr.concat(a,s);const o=[];let l=!0;this.interceptors.request.forEach(function(y){typeof y.runWhen=="function"&&y.runWhen(r)===!1||(l=l&&y.synchronous,o.unshift(y.fulfilled,y.rejected))});const u=[];this.interceptors.response.forEach(function(y){u.push(y.fulfilled,y.rejected)});let d,h=0,f;if(!l){const m=[PR.bind(this),void 0];for(m.unshift(...o),m.push(...u),f=m.length,d=Promise.resolve(r);h<f;)d=d.then(m[h++],m[h++]);return d}f=o.length;let p=r;for(;h<f;){const m=o[h++],y=o[h++];try{p=m(p)}catch(b){y.call(this,b);break}}try{d=PR.call(this,p)}catch(m){return Promise.reject(m)}for(h=0,f=u.length;h<f;)d=d.then(u[h++],u[h++]);return d}getUri(e){e=oo(this.defaults,e);const r=X7(e.baseURL,e.url,e.allowAbsoluteUrls);return V7(r,e.params,e.paramsSerializer)}};M.forEach(["delete","get","head","options"],function(e){Wa.prototype[e]=function(r,n){return this.request(oo(n||{},{method:e,url:r,data:(n||{}).data}))}});M.forEach(["post","put","patch"],function(e){function r(n){return function(s,a,o){return this.request(oo(o||{},{method:e,headers:n?{"Content-Type":"multipart/form-data"}:{},url:s,data:a}))}}Wa.prototype[e]=r(),Wa.prototype[e+"Form"]=r(!0)});let Pte=class rK{constructor(e){if(typeof e!="function")throw new TypeError("executor must be a function.");let r;this.promise=new Promise(function(s){r=s});const n=this;this.promise.then(i=>{if(!n._listeners)return;let s=n._listeners.length;for(;s-- >0;)n._listeners[s](i);n._listeners=null}),this.promise.then=i=>{let s;const a=new Promise(o=>{n.subscribe(o),s=o}).then(i);return a.cancel=function(){n.unsubscribe(s)},a},e(function(s,a,o){n.reason||(n.reason=new fu(s,a,o),r(n.reason))})}throwIfRequested(){if(this.reason)throw this.reason}subscribe(e){if(this.reason){e(this.reason);return}this._listeners?this._listeners.push(e):this._listeners=[e]}unsubscribe(e){if(!this._listeners)return;const r=this._listeners.indexOf(e);r!==-1&&this._listeners.splice(r,1)}toAbortSignal(){const e=new AbortController,r=n=>{e.abort(n)};return this.subscribe(r),e.signal.unsubscribe=()=>this.unsubscribe(r),e.signal}static source(){let e;return{token:new rK(function(i){e=i}),cancel:e}}};function Cte(t){return function(r){return t.apply(null,r)}}function Tte(t){return M.isObject(t)&&t.isAxiosError===!0}const LP={Continue:100,SwitchingProtocols:101,Processing:102,EarlyHints:103,Ok:200,Created:201,Accepted:202,NonAuthoritativeInformation:203,NoContent:204,ResetContent:205,PartialContent:206,MultiStatus:207,AlreadyReported:208,ImUsed:226,MultipleChoices:300,MovedPermanently:301,Found:302,SeeOther:303,NotModified:304,UseProxy:305,Unused:306,TemporaryRedirect:307,PermanentRedirect:308,BadRequest:400,Unauthorized:401,PaymentRequired:402,Forbidden:403,NotFound:404,MethodNotAllowed:405,NotAcceptable:406,ProxyAuthenticationRequired:407,RequestTimeout:408,Conflict:409,Gone:410,LengthRequired:411,PreconditionFailed:412,PayloadTooLarge:413,UriTooLong:414,UnsupportedMediaType:415,RangeNotSatisfiable:416,ExpectationFailed:417,ImATeapot:418,MisdirectedRequest:421,UnprocessableEntity:422,Locked:423,FailedDependency:424,TooEarly:425,UpgradeRequired:426,PreconditionRequired:428,TooManyRequests:429,RequestHeaderFieldsTooLarge:431,UnavailableForLegalReasons:451,InternalServerError:500,NotImplemented:501,BadGateway:502,ServiceUnavailable:503,GatewayTimeout:504,HttpVersionNotSupported:505,VariantAlsoNegotiates:506,InsufficientStorage:507,LoopDetected:508,NotExtended:510,NetworkAuthenticationRequired:511,WebServerIsDown:521,ConnectionTimedOut:522,OriginIsUnreachable:523,TimeoutOccurred:524,SslHandshakeFailed:525,InvalidSslCertificate:526};Object.entries(LP).forEach(([t,e])=>{LP[e]=t});function nK(t){const e=new Wa(t),r=k7(Wa.prototype.request,e);return M.extend(r,Wa.prototype,e,{allOwnKeys:!0}),M.extend(r,e,null,{allOwnKeys:!0}),r.create=function(i){return nK(oo(t,i))},r}const Ct=nK(Cd);Ct.Axios=Wa;Ct.CanceledError=fu;Ct.CancelToken=Pte;Ct.isCancel=Y7;Ct.VERSION=tK;Ct.toFormData=Pp;Ct.AxiosError=Te;Ct.Cancel=Ct.CanceledError;Ct.all=function(e){return Promise.all(e)};Ct.spread=Cte;Ct.isAxiosError=Tte;Ct.mergeConfig=oo;Ct.AxiosHeaders=Qr;Ct.formToJSON=t=>G7(M.isHTMLForm(t)?new FormData(t):t);Ct.getAdapter=eK.getAdapter;Ct.HttpStatusCode=LP;Ct.default=Ct;const{Axios:Qbe,AxiosError:Xbe,CanceledError:Jbe,isCancel:Zbe,CancelToken:e0e,VERSION:t0e,all:r0e,Cancel:n0e,isAxiosError:i0e,spread:s0e,toFormData:a0e,AxiosHeaders:o0e,HttpStatusCode:l0e,formToJSON:u0e,getAdapter:c0e,mergeConfig:d0e}=Ct,BP=window.prmConfig||{},we=Ct.create({baseURL:BP.apiUrl||"/wp-json",headers:{"Content-Type":"application/json","X-WP-Nonce":BP.nonce||""}});we.interceptors.request.use(t=>{var e;return(e=window.prmConfig)!=null&&e.nonce&&(t.headers["X-WP-Nonce"]=window.prmConfig.nonce),t});we.interceptors.response.use(t=>t,t=>{var e,r;return((e=t.response)==null?void 0:e.status)===401&&(window.location.href=BP.loginUrl||"/wp-login.php"),((r=t.response)==null?void 0:r.status)===403&&console.error("Access denied:",t.response.data),Promise.reject(t)});const Le={getPeople:t=>we.get("/wp/v2/people",{params:t}),getPerson:(t,e={})=>we.get(`/wp/v2/people/${t}`,{params:e}),createPerson:t=>we.post("/wp/v2/people",t),updatePerson:(t,e)=>we.put(`/wp/v2/people/${t}`,e),deletePerson:(t,e={})=>we.delete(`/wp/v2/people/${t}`,{params:e}),getCompanies:t=>we.get("/wp/v2/companies",{params:t}),getCompany:(t,e={})=>we.get(`/wp/v2/companies/${t}`,{params:e}),createCompany:t=>we.post("/wp/v2/companies",t),updateCompany:(t,e)=>we.put(`/wp/v2/companies/${t}`,e),deleteCompany:(t,e={})=>we.delete(`/wp/v2/companies/${t}`,{params:e}),getDates:t=>we.get("/wp/v2/important-dates",{params:t}),getDate:t=>we.get(`/wp/v2/important-dates/${t}`),createDate:t=>we.post("/wp/v2/important-dates",t),updateDate:(t,e)=>we.put(`/wp/v2/important-dates/${t}`,e),deleteDate:t=>we.delete(`/wp/v2/important-dates/${t}`),getPersonLabels:()=>we.get("/wp/v2/person_label"),getCompanyLabels:()=>we.get("/wp/v2/company_label"),getRelationshipTypes:()=>we.get("/wp/v2/relationship_type",{params:{per_page:100,_fields:"id,name,slug,acf"}}),createRelationshipType:t=>we.post("/wp/v2/relationship_type",t),updateRelationshipType:(t,e)=>we.post(`/wp/v2/relationship_type/${t}`,e),deleteRelationshipType:t=>we.delete(`/wp/v2/relationship_type/${t}?force=true`),restoreRelationshipTypeDefaults:()=>we.post("/prm/v1/relationship-types/restore-defaults"),getDateTypes:()=>we.get("/wp/v2/date_type",{params:{per_page:100}}),uploadMedia:t=>{const e=new FormData;return e.append("file",t),we.post("/wp/v2/media",e,{headers:{"Content-Type":"multipart/form-data"}})}},Xr={getDashboard:()=>we.get("/prm/v1/dashboard"),sideloadGravatar:(t,e)=>we.post(`/prm/v1/people/${t}/gravatar`,{email:e}),getCurrentUser:()=>we.get("/prm/v1/user/me"),search:t=>we.get("/prm/v1/search",{params:{q:t}}),getReminders:(t=30)=>we.get("/prm/v1/reminders",{params:{days_ahead:t}}),getPersonDates:t=>we.get(`/prm/v1/people/${t}/dates`),getPersonTimeline:t=>we.get(`/prm/v1/people/${t}/timeline`),getPersonNotes:t=>we.get(`/prm/v1/people/${t}/notes`),createNote:(t,e)=>we.post(`/prm/v1/people/${t}/notes`,{content:e}),updateNote:(t,e)=>we.put(`/prm/v1/notes/${t}`,{content:e}),deleteNote:t=>we.delete(`/prm/v1/notes/${t}`),getPersonActivities:t=>we.get(`/prm/v1/people/${t}/activities`),createActivity:(t,e)=>we.post(`/prm/v1/people/${t}/activities`,e),updateActivity:(t,e)=>we.put(`/prm/v1/activities/${t}`,e),deleteActivity:t=>we.delete(`/prm/v1/activities/${t}`),getCompanyPeople:t=>we.get(`/prm/v1/companies/${t}/people`),setCompanyLogo:(t,e)=>we.post(`/prm/v1/companies/${t}/logo`,{media_id:e}),uploadPersonPhoto:(t,e)=>{const r=new FormData;return r.append("file",e),we.post(`/prm/v1/people/${t}/photo`,r,{headers:{"Content-Type":"multipart/form-data"}})},uploadCompanyLogo:(t,e)=>{const r=new FormData;return r.append("file",e),we.post(`/prm/v1/companies/${t}/logo/upload`,r,{headers:{"Content-Type":"multipart/form-data"}})}};function Nte(){return pt({queryKey:["dashboard"],queryFn:async()=>(await Xr.getDashboard()).data})}function Ite(t=30){return pt({queryKey:["reminders",t],queryFn:async()=>(await Xr.getReminders(t)).data})}function Rte(t){const e=typeof t=="string"?t:"",r=e.length>=2;return pt({queryKey:["search",e],queryFn:async()=>r?(await Xr.search(e)).data:{people:[],companies:[],dates:[]},enabled:r})}const jte=[{name:"Dashboard",href:"/",icon:AZ},{name:"People",href:"/people",icon:ao},{name:"Companies",href:"/companies",icon:Zi},{name:"Dates",href:"/dates",icon:so},{name:"Settings",href:"/settings",icon:T7}];function TR({mobile:t=!1,onClose:e}){const{logoutUrl:r}=fT();return c.jsxs("div",{className:"flex flex-col h-full bg-white border-r border-gray-200",children:[c.jsxs("div",{className:"flex items-center justify-between h-16 px-4 border-b border-gray-200",children:[c.jsxs(me,{to:"/",className:"flex items-center gap-2 text-xl font-bold text-primary-600",children:[c.jsx(N7,{className:"w-5 h-5"}),Ql]}),t&&c.jsx("button",{onClick:e,className:"p-2 -mr-2",children:c.jsx(ra,{className:"w-5 h-5"})})]}),c.jsx("nav",{className:"flex-1 px-2 py-4 space-y-1 overflow-y-auto",children:jte.map(n=>c.jsxs(KJ,{to:n.href,onClick:t?e:void 0,className:({isActive:i})=>`flex items-center px-3 py-2 text-sm font-medium rounded-lg transition-colors ${i?"bg-primary-50 text-primary-700":"text-gray-700 hover:bg-gray-50"}`,children:[c.jsx(n.icon,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:n.name})]},n.name))}),c.jsx("div",{className:"p-4 border-t border-gray-200",children:c.jsxs("a",{href:r,className:"flex items-center px-3 py-2 text-sm font-medium text-gray-700 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(LZ,{className:"w-5 h-5 mr-3"}),c.jsx("span",{className:"hidden md:inline",children:"Log Out"})]})})]})}function $te(){var a;const[t,e]=$.useState(!1),r=$.useRef(null),{data:n,isLoading:i}=pt({queryKey:["current-user"],queryFn:async()=>(await Xr.getCurrentUser()).data});if($.useEffect(()=>{const o=l=>{r.current&&!r.current.contains(l.target)&&e(!1)};if(t)return document.addEventListener("mousedown",o),()=>{document.removeEventListener("mousedown",o)}},[t]),i||!n)return c.jsx("div",{className:"flex items-center ml-auto",children:c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full animate-pulse"})});const s=((a=n.name)==null?void 0:a.split(" ").map(o=>o[0]).join("").toUpperCase().slice(0,2))||"?";return c.jsxs("div",{className:"relative ml-auto",ref:r,children:[c.jsxs("button",{onClick:()=>e(!t),className:"flex items-center gap-2 p-1 rounded-full hover:bg-gray-100 transition-colors","aria-label":"User menu",children:[n.avatar_url?c.jsx("img",{src:n.avatar_url,alt:n.name,className:"w-8 h-8 rounded-full object-cover"}):c.jsx("div",{className:"w-8 h-8 bg-primary-100 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-primary-700",children:s})}),c.jsx($Z,{className:`w-4 h-4 text-gray-500 transition-transform ${t?"rotate-180":""}`})]}),t&&c.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"py-1",children:[c.jsxs("a",{href:n.profile_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(j7,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit profile"})]}),n.is_admin&&c.jsxs("a",{href:n.admin_url,target:"_blank",rel:"noopener noreferrer",className:"flex items-center px-4 py-2 text-sm text-gray-700 hover:bg-gray-50 transition-colors",onClick:()=>e(!1),children:[c.jsx(T7,{className:"w-4 h-4 mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"WordPress admin"})]})]})})]})}function kte({onMenuClick:t}){const[e,r]=$.useState(""),[n,i]=$.useState(!1),s=ns(),a=en(),o=$.useRef(null),l=$.useRef(null),u=e.trim(),{data:d,isLoading:h}=Rte(u),f=()=>{const g=s.pathname;return g==="/"?"Dashboard":g.startsWith("/people")?"People":g.startsWith("/companies")?"Companies":g.startsWith("/dates")?"Important Dates":g.startsWith("/settings")?"Settings":""};$.useEffect(()=>{const g=v=>{l.current&&!l.current.contains(v.target)&&o.current&&!o.current.contains(v.target)&&i(!1)};return document.addEventListener("mousedown",g),()=>{document.removeEventListener("mousedown",g)}},[]);const p=(g,v)=>{i(!1),r(""),g==="person"?a(`/people/${v}`):g==="company"?a(`/companies/${v}`):g==="date"&&a(`/dates/${v}/edit`)},m=d||{people:[],companies:[],dates:[]},y=m.people&&m.people.length>0||m.companies&&m.companies.length>0||m.dates&&m.dates.length>0,b=n&&e.trim().length>=2;return c.jsxs("header",{className:"sticky top-0 z-10 flex items-center h-16 px-4 bg-white border-b border-gray-200 lg:px-6",children:[c.jsx("button",{onClick:t,className:"p-2 -ml-2 lg:hidden",children:c.jsx(UZ,{className:"w-5 h-5"})}),c.jsx("h1",{className:"ml-2 text-lg font-semibold lg:ml-0",children:f()}),c.jsx("div",{className:"flex-1 flex justify-center max-w-2xl mx-4 lg:mx-8",children:c.jsxs("div",{className:"relative w-full",ref:o,children:[c.jsx(C7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search people, companies, dates...",value:e,onChange:g=>r(g.target.value),onFocus:()=>i(!0),className:"input pl-9 w-full"}),b&&c.jsx("div",{ref:l,className:"absolute top-full left-0 right-0 mt-2 bg-white border border-gray-200 rounded-lg shadow-lg max-h-96 overflow-y-auto z-50",children:h?c.jsxs("div",{className:"p-4 text-center text-gray-500",children:[c.jsx("div",{className:"animate-spin rounded-full h-6 w-6 border-b-2 border-primary-600 mx-auto"}),c.jsx("p",{className:"mt-2 text-sm",children:"Searching..."})]}):y?c.jsxs("div",{className:"py-2",children:[m.people&&m.people.length>0&&c.jsxs("div",{className:"px-3 py-2",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"People"}),m.people.map(g=>c.jsxs("button",{onClick:()=>p("person",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(j7,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.companies&&m.companies.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Companies"}),m.companies.map(g=>c.jsxs("button",{onClick:()=>p("company",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(jZ,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.name})]},g.id))]}),m.dates&&m.dates.length>0&&c.jsxs("div",{className:"px-3 py-2 border-t border-gray-100",children:[c.jsx("div",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2 px-2",children:"Dates"}),m.dates.map(g=>c.jsxs("button",{onClick:()=>p("date",g.id),className:"w-full flex items-center gap-3 px-2 py-2 rounded-lg hover:bg-gray-50 transition-colors text-left",children:[c.jsx(so,{className:"w-4 h-4 text-gray-400 flex-shrink-0"}),c.jsx("span",{className:"text-sm font-medium text-gray-900 flex-1 truncate",children:g.title})]},g.id))]})]}):c.jsx("div",{className:"p-4 text-center text-gray-500",children:c.jsx("p",{className:"text-sm",children:"No results found"})})})]})}),c.jsx($te,{})]})}function Dte({children:t}){const[e,r]=$.useState(!1);return $7(),c.jsxs("div",{className:"flex h-screen bg-gray-50",children:[c.jsx("div",{className:"hidden lg:flex lg:w-64 lg:flex-col",children:c.jsx(TR,{})}),e&&c.jsxs("div",{className:"fixed inset-0 z-40 lg:hidden",children:[c.jsx("div",{className:"fixed inset-0 bg-gray-600 bg-opacity-75",onClick:()=>r(!1)}),c.jsx("div",{className:"fixed inset-y-0 left-0 flex flex-col w-64 bg-white",children:c.jsx(TR,{mobile:!0,onClose:()=>r(!1)})})]}),c.jsxs("div",{className:"flex flex-col flex-1 min-w-0",children:[c.jsx(kte,{onMenuClick:()=>r(!0)}),c.jsx("main",{className:"flex-1 overflow-y-auto p-4 lg:p-6",children:t})]})]})}function cr(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function lo(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const iK=6048e5,qte=864e5;let Mte={};function Tp(){return Mte}function Jc(t,e){var o,l,u,d;const r=Tp(),n=(e==null?void 0:e.weekStartsOn)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.weekStartsOn)??r.weekStartsOn??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.weekStartsOn)??0,i=cr(t),s=i.getDay(),a=(s<n?7:0)+s-n;return i.setDate(i.getDate()-a),i.setHours(0,0,0,0),i}function Lf(t){return Jc(t,{weekStartsOn:1})}function sK(t){const e=cr(t),r=e.getFullYear(),n=lo(t,0);n.setFullYear(r+1,0,4),n.setHours(0,0,0,0);const i=Lf(n),s=lo(t,0);s.setFullYear(r,0,4),s.setHours(0,0,0,0);const a=Lf(s);return e.getTime()>=i.getTime()?r+1:e.getTime()>=a.getTime()?r:r-1}function NR(t){const e=cr(t);return e.setHours(0,0,0,0),e}function IR(t){const e=cr(t),r=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return r.setUTCFullYear(e.getFullYear()),+t-+r}function Ate(t,e){const r=NR(t),n=NR(e),i=+r-IR(r),s=+n-IR(n);return Math.round((i-s)/qte)}function Fte(t){const e=sK(t),r=lo(t,0);return r.setFullYear(e,0,4),r.setHours(0,0,0,0),Lf(r)}function RR(t,e){const r=cr(t),n=cr(e),i=r.getTime()-n.getTime();return i<0?-1:i>0?1:i}function Lte(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function Bte(t){if(!Lte(t)&&typeof t!="number")return!1;const e=cr(t);return!isNaN(Number(e))}function zte(t,e){const r=cr(t),n=cr(e);return r.getFullYear()-n.getFullYear()}function Um(t,e){const r=cr(t),n=cr(e),i=RR(r,n),s=Math.abs(zte(r,n));r.setFullYear(1584),n.setFullYear(1584);const a=RR(r,n)===-i,o=i*(s-+a);return o===0?0:o}function Ute(t){const e=cr(t),r=lo(t,0);return r.setFullYear(e.getFullYear(),0,1),r.setHours(0,0,0,0),r}const Wte={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},Hte=(t,e,r)=>{let n;const i=Wte[t];return typeof i=="string"?n=i:e===1?n=i.one:n=i.other.replace("{{count}}",e.toString()),r!=null&&r.addSuffix?r.comparison&&r.comparison>0?"in "+n:n+" ago":n};function Wm(t){return(e={})=>{const r=e.width?String(e.width):t.defaultWidth;return t.formats[r]||t.formats[t.defaultWidth]}}const Vte={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},Kte={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},Gte={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},Yte={date:Wm({formats:Vte,defaultWidth:"full"}),time:Wm({formats:Kte,defaultWidth:"full"}),dateTime:Wm({formats:Gte,defaultWidth:"full"})},Qte={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},Xte=(t,e,r,n)=>Qte[t];function Ju(t){return(e,r)=>{const n=r!=null&&r.context?String(r.context):"standalone";let i;if(n==="formatting"&&t.formattingValues){const a=t.defaultFormattingWidth||t.defaultWidth,o=r!=null&&r.width?String(r.width):a;i=t.formattingValues[o]||t.formattingValues[a]}else{const a=t.defaultWidth,o=r!=null&&r.width?String(r.width):t.defaultWidth;i=t.values[o]||t.values[a]}const s=t.argumentCallback?t.argumentCallback(e):e;return i[s]}}const Jte={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},Zte={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},ere={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},tre={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},rre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},nre={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},ire=(t,e)=>{const r=Number(t),n=r%100;if(n>20||n<10)switch(n%10){case 1:return r+"st";case 2:return r+"nd";case 3:return r+"rd"}return r+"th"},sre={ordinalNumber:ire,era:Ju({values:Jte,defaultWidth:"wide"}),quarter:Ju({values:Zte,defaultWidth:"wide",argumentCallback:t=>t-1}),month:Ju({values:ere,defaultWidth:"wide"}),day:Ju({values:tre,defaultWidth:"wide"}),dayPeriod:Ju({values:rre,defaultWidth:"wide",formattingValues:nre,defaultFormattingWidth:"wide"})};function Zu(t){return(e,r={})=>{const n=r.width,i=n&&t.matchPatterns[n]||t.matchPatterns[t.defaultMatchWidth],s=e.match(i);if(!s)return null;const a=s[0],o=n&&t.parsePatterns[n]||t.parsePatterns[t.defaultParseWidth],l=Array.isArray(o)?ore(o,h=>h.test(a)):are(o,h=>h.test(a));let u;u=t.valueCallback?t.valueCallback(l):l,u=r.valueCallback?r.valueCallback(u):u;const d=e.slice(a.length);return{value:u,rest:d}}}function are(t,e){for(const r in t)if(Object.prototype.hasOwnProperty.call(t,r)&&e(t[r]))return r}function ore(t,e){for(let r=0;r<t.length;r++)if(e(t[r]))return r}function lre(t){return(e,r={})=>{const n=e.match(t.matchPattern);if(!n)return null;const i=n[0],s=e.match(t.parsePattern);if(!s)return null;let a=t.valueCallback?t.valueCallback(s[0]):s[0];a=r.valueCallback?r.valueCallback(a):a;const o=e.slice(i.length);return{value:a,rest:o}}}const ure=/^(\d+)(th|st|nd|rd)?/i,cre=/\d+/i,dre={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},hre={any:[/^b/i,/^(a|c)/i]},fre={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},pre={any:[/1/i,/2/i,/3/i,/4/i]},mre={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},vre={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},gre={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},yre={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},bre={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},wre={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},xre={ordinalNumber:lre({matchPattern:ure,parsePattern:cre,valueCallback:t=>parseInt(t,10)}),era:Zu({matchPatterns:dre,defaultMatchWidth:"wide",parsePatterns:hre,defaultParseWidth:"any"}),quarter:Zu({matchPatterns:fre,defaultMatchWidth:"wide",parsePatterns:pre,defaultParseWidth:"any",valueCallback:t=>t+1}),month:Zu({matchPatterns:mre,defaultMatchWidth:"wide",parsePatterns:vre,defaultParseWidth:"any"}),day:Zu({matchPatterns:gre,defaultMatchWidth:"wide",parsePatterns:yre,defaultParseWidth:"any"}),dayPeriod:Zu({matchPatterns:bre,defaultMatchWidth:"any",parsePatterns:wre,defaultParseWidth:"any"})},_re={code:"en-US",formatDistance:Hte,formatLong:Yte,formatRelative:Xte,localize:sre,match:xre,options:{weekStartsOn:0,firstWeekContainsDate:1}};function Sre(t){const e=cr(t);return Ate(e,Ute(e))+1}function Ere(t){const e=cr(t),r=+Lf(e)-+Fte(e);return Math.round(r/iK)+1}function aK(t,e){var d,h,f,p;const r=cr(t),n=r.getFullYear(),i=Tp(),s=(e==null?void 0:e.firstWeekContainsDate)??((h=(d=e==null?void 0:e.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??i.firstWeekContainsDate??((p=(f=i.locale)==null?void 0:f.options)==null?void 0:p.firstWeekContainsDate)??1,a=lo(t,0);a.setFullYear(n+1,0,s),a.setHours(0,0,0,0);const o=Jc(a,e),l=lo(t,0);l.setFullYear(n,0,s),l.setHours(0,0,0,0);const u=Jc(l,e);return r.getTime()>=o.getTime()?n+1:r.getTime()>=u.getTime()?n:n-1}function Ore(t,e){var o,l,u,d;const r=Tp(),n=(e==null?void 0:e.firstWeekContainsDate)??((l=(o=e==null?void 0:e.locale)==null?void 0:o.options)==null?void 0:l.firstWeekContainsDate)??r.firstWeekContainsDate??((d=(u=r.locale)==null?void 0:u.options)==null?void 0:d.firstWeekContainsDate)??1,i=aK(t,e),s=lo(t,0);return s.setFullYear(i,0,n),s.setHours(0,0,0,0),Jc(s,e)}function Pre(t,e){const r=cr(t),n=+Jc(r,e)-+Ore(r,e);return Math.round(n/iK)+1}function ze(t,e){const r=t<0?"-":"",n=Math.abs(t).toString().padStart(e,"0");return r+n}const fs={y(t,e){const r=t.getFullYear(),n=r>0?r:1-r;return ze(e==="yy"?n%100:n,e.length)},M(t,e){const r=t.getMonth();return e==="M"?String(r+1):ze(r+1,2)},d(t,e){return ze(t.getDate(),e.length)},a(t,e){const r=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.toUpperCase();case"aaa":return r;case"aaaaa":return r[0];case"aaaa":default:return r==="am"?"a.m.":"p.m."}},h(t,e){return ze(t.getHours()%12||12,e.length)},H(t,e){return ze(t.getHours(),e.length)},m(t,e){return ze(t.getMinutes(),e.length)},s(t,e){return ze(t.getSeconds(),e.length)},S(t,e){const r=e.length,n=t.getMilliseconds(),i=Math.trunc(n*Math.pow(10,r-3));return ze(i,e.length)}},Bo={midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},jR={G:function(t,e,r){const n=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return r.era(n,{width:"abbreviated"});case"GGGGG":return r.era(n,{width:"narrow"});case"GGGG":default:return r.era(n,{width:"wide"})}},y:function(t,e,r){if(e==="yo"){const n=t.getFullYear(),i=n>0?n:1-n;return r.ordinalNumber(i,{unit:"year"})}return fs.y(t,e)},Y:function(t,e,r,n){const i=aK(t,n),s=i>0?i:1-i;if(e==="YY"){const a=s%100;return ze(a,2)}return e==="Yo"?r.ordinalNumber(s,{unit:"year"}):ze(s,e.length)},R:function(t,e){const r=sK(t);return ze(r,e.length)},u:function(t,e){const r=t.getFullYear();return ze(r,e.length)},Q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(n);case"QQ":return ze(n,2);case"Qo":return r.ordinalNumber(n,{unit:"quarter"});case"QQQ":return r.quarter(n,{width:"abbreviated",context:"formatting"});case"QQQQQ":return r.quarter(n,{width:"narrow",context:"formatting"});case"QQQQ":default:return r.quarter(n,{width:"wide",context:"formatting"})}},q:function(t,e,r){const n=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(n);case"qq":return ze(n,2);case"qo":return r.ordinalNumber(n,{unit:"quarter"});case"qqq":return r.quarter(n,{width:"abbreviated",context:"standalone"});case"qqqqq":return r.quarter(n,{width:"narrow",context:"standalone"});case"qqqq":default:return r.quarter(n,{width:"wide",context:"standalone"})}},M:function(t,e,r){const n=t.getMonth();switch(e){case"M":case"MM":return fs.M(t,e);case"Mo":return r.ordinalNumber(n+1,{unit:"month"});case"MMM":return r.month(n,{width:"abbreviated",context:"formatting"});case"MMMMM":return r.month(n,{width:"narrow",context:"formatting"});case"MMMM":default:return r.month(n,{width:"wide",context:"formatting"})}},L:function(t,e,r){const n=t.getMonth();switch(e){case"L":return String(n+1);case"LL":return ze(n+1,2);case"Lo":return r.ordinalNumber(n+1,{unit:"month"});case"LLL":return r.month(n,{width:"abbreviated",context:"standalone"});case"LLLLL":return r.month(n,{width:"narrow",context:"standalone"});case"LLLL":default:return r.month(n,{width:"wide",context:"standalone"})}},w:function(t,e,r,n){const i=Pre(t,n);return e==="wo"?r.ordinalNumber(i,{unit:"week"}):ze(i,e.length)},I:function(t,e,r){const n=Ere(t);return e==="Io"?r.ordinalNumber(n,{unit:"week"}):ze(n,e.length)},d:function(t,e,r){return e==="do"?r.ordinalNumber(t.getDate(),{unit:"date"}):fs.d(t,e)},D:function(t,e,r){const n=Sre(t);return e==="Do"?r.ordinalNumber(n,{unit:"dayOfYear"}):ze(n,e.length)},E:function(t,e,r){const n=t.getDay();switch(e){case"E":case"EE":case"EEE":return r.day(n,{width:"abbreviated",context:"formatting"});case"EEEEE":return r.day(n,{width:"narrow",context:"formatting"});case"EEEEEE":return r.day(n,{width:"short",context:"formatting"});case"EEEE":default:return r.day(n,{width:"wide",context:"formatting"})}},e:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"e":return String(s);case"ee":return ze(s,2);case"eo":return r.ordinalNumber(s,{unit:"day"});case"eee":return r.day(i,{width:"abbreviated",context:"formatting"});case"eeeee":return r.day(i,{width:"narrow",context:"formatting"});case"eeeeee":return r.day(i,{width:"short",context:"formatting"});case"eeee":default:return r.day(i,{width:"wide",context:"formatting"})}},c:function(t,e,r,n){const i=t.getDay(),s=(i-n.weekStartsOn+8)%7||7;switch(e){case"c":return String(s);case"cc":return ze(s,e.length);case"co":return r.ordinalNumber(s,{unit:"day"});case"ccc":return r.day(i,{width:"abbreviated",context:"standalone"});case"ccccc":return r.day(i,{width:"narrow",context:"standalone"});case"cccccc":return r.day(i,{width:"short",context:"standalone"});case"cccc":default:return r.day(i,{width:"wide",context:"standalone"})}},i:function(t,e,r){const n=t.getDay(),i=n===0?7:n;switch(e){case"i":return String(i);case"ii":return ze(i,e.length);case"io":return r.ordinalNumber(i,{unit:"day"});case"iii":return r.day(n,{width:"abbreviated",context:"formatting"});case"iiiii":return r.day(n,{width:"narrow",context:"formatting"});case"iiiiii":return r.day(n,{width:"short",context:"formatting"});case"iiii":default:return r.day(n,{width:"wide",context:"formatting"})}},a:function(t,e,r){const i=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"aaa":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"aaaa":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},b:function(t,e,r){const n=t.getHours();let i;switch(n===12?i=Bo.noon:n===0?i=Bo.midnight:i=n/12>=1?"pm":"am",e){case"b":case"bb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"bbb":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"bbbb":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},B:function(t,e,r){const n=t.getHours();let i;switch(n>=17?i=Bo.evening:n>=12?i=Bo.afternoon:n>=4?i=Bo.morning:i=Bo.night,e){case"B":case"BB":case"BBB":return r.dayPeriod(i,{width:"abbreviated",context:"formatting"});case"BBBBB":return r.dayPeriod(i,{width:"narrow",context:"formatting"});case"BBBB":default:return r.dayPeriod(i,{width:"wide",context:"formatting"})}},h:function(t,e,r){if(e==="ho"){let n=t.getHours()%12;return n===0&&(n=12),r.ordinalNumber(n,{unit:"hour"})}return fs.h(t,e)},H:function(t,e,r){return e==="Ho"?r.ordinalNumber(t.getHours(),{unit:"hour"}):fs.H(t,e)},K:function(t,e,r){const n=t.getHours()%12;return e==="Ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},k:function(t,e,r){let n=t.getHours();return n===0&&(n=24),e==="ko"?r.ordinalNumber(n,{unit:"hour"}):ze(n,e.length)},m:function(t,e,r){return e==="mo"?r.ordinalNumber(t.getMinutes(),{unit:"minute"}):fs.m(t,e)},s:function(t,e,r){return e==="so"?r.ordinalNumber(t.getSeconds(),{unit:"second"}):fs.s(t,e)},S:function(t,e){return fs.S(t,e)},X:function(t,e,r){const n=t.getTimezoneOffset();if(n===0)return"Z";switch(e){case"X":return kR(n);case"XXXX":case"XX":return _a(n);case"XXXXX":case"XXX":default:return _a(n,":")}},x:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"x":return kR(n);case"xxxx":case"xx":return _a(n);case"xxxxx":case"xxx":default:return _a(n,":")}},O:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$R(n,":");case"OOOO":default:return"GMT"+_a(n,":")}},z:function(t,e,r){const n=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$R(n,":");case"zzzz":default:return"GMT"+_a(n,":")}},t:function(t,e,r){const n=Math.trunc(t.getTime()/1e3);return ze(n,e.length)},T:function(t,e,r){const n=t.getTime();return ze(n,e.length)}};function $R(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=Math.trunc(n/60),s=n%60;return s===0?r+String(i):r+String(i)+e+ze(s,2)}function kR(t,e){return t%60===0?(t>0?"-":"+")+ze(Math.abs(t)/60,2):_a(t,e)}function _a(t,e=""){const r=t>0?"-":"+",n=Math.abs(t),i=ze(Math.trunc(n/60),2),s=ze(n%60,2);return r+i+e+s}const DR=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},oK=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},Cre=(t,e)=>{const r=t.match(/(P+)(p+)?/)||[],n=r[1],i=r[2];if(!i)return DR(t,e);let s;switch(n){case"P":s=e.dateTime({width:"short"});break;case"PP":s=e.dateTime({width:"medium"});break;case"PPP":s=e.dateTime({width:"long"});break;case"PPPP":default:s=e.dateTime({width:"full"});break}return s.replace("{{date}}",DR(n,e)).replace("{{time}}",oK(i,e))},Tre={p:oK,P:Cre},Nre=/^D+$/,Ire=/^Y+$/,Rre=["D","DD","YY","YYYY"];function jre(t){return Nre.test(t)}function $re(t){return Ire.test(t)}function kre(t,e,r){const n=Dre(t,e,r);if(console.warn(n),Rre.includes(t))throw new RangeError(n)}function Dre(t,e,r){const n=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${n} to the input \`${r}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const qre=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,Mre=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,Are=/^'([^]*?)'?$/,Fre=/''/g,Lre=/[a-zA-Z]/;function hi(t,e,r){var d,h,f,p;const n=Tp(),i=n.locale??_re,s=n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,a=n.weekStartsOn??((p=(f=n.locale)==null?void 0:f.options)==null?void 0:p.weekStartsOn)??0,o=cr(t);if(!Bte(o))throw new RangeError("Invalid time value");let l=e.match(Mre).map(m=>{const y=m[0];if(y==="p"||y==="P"){const b=Tre[y];return b(m,i.formatLong)}return m}).join("").match(qre).map(m=>{if(m==="''")return{isToken:!1,value:"'"};const y=m[0];if(y==="'")return{isToken:!1,value:Bre(m)};if(jR[y])return{isToken:!0,value:m};if(y.match(Lre))throw new RangeError("Format string contains an unescaped latin alphabet character `"+y+"`");return{isToken:!1,value:m}});i.localize.preprocessor&&(l=i.localize.preprocessor(o,l));const u={firstWeekContainsDate:s,weekStartsOn:a,locale:i};return l.map(m=>{if(!m.isToken)return m.value;const y=m.value;($re(y)||jre(y))&&kre(y,e,String(t));const b=jR[y[0]];return b(o,y,i.localize,u)}).join("")}function Bre(t){const e=t.match(Are);return e?e[1].replace(Fre,"'"):t}function zo({title:t,value:e,icon:r,href:n}){return c.jsx(me,{to:n,className:"card p-6 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{children:[c.jsx("p",{className:"text-sm font-medium text-gray-500",children:t}),c.jsx("p",{className:"mt-1 text-3xl font-semibold",children:e})]}),c.jsx("div",{className:"p-3 bg-primary-50 rounded-lg",children:c.jsx(r,{className:"w-6 h-6 text-primary-600"})})]})})}function qR({person:t}){var e,r;return c.jsxs(me,{to:`/people/${t.id}`,className:"flex items-center p-3 rounded-lg hover:bg-gray-50 transition-colors",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover"}):c.jsx("div",{className:"w-10 h-10 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:((e=t.first_name)==null?void 0:e[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900 truncate",children:t.name}),((r=t.labels)==null?void 0:r.length)>0&&c.jsx("p",{className:"text-xs text-gray-500 truncate",children:t.labels.join(", ")})]}),t.is_favorite&&c.jsx(Xc,{className:"w-4 h-4 text-yellow-400 fill-current"})]})}function zre({reminder:t}){var o,l,u,d,h;const e=t.days_until;let r="bg-gray-100 text-gray-700";e===0?r="bg-green-100 text-green-700":e<=3?r="bg-orange-100 text-orange-700":e<=7&&(r="bg-yellow-100 text-yellow-700");const n=((l=(o=t.related_people)==null?void 0:o[0])==null?void 0:l.name)||t.title,i=(d=(u=t.related_people)==null?void 0:u[0])==null?void 0:d.id,s=((h=t.related_people)==null?void 0:h.length)>0,a=c.jsxs(c.Fragment,{children:[c.jsx("div",{className:`px-2 py-1 rounded text-xs font-medium ${r}`,children:e===0?"Today":`${e}d`}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("p",{className:"text-sm font-medium text-gray-900",children:n}),c.jsx("p",{className:"text-xs text-gray-500",children:hi(new Date(t.next_occurrence),"MMMM d, yyyy")}),s&&c.jsx("div",{className:"flex -space-x-2 mt-1",children:t.related_people.slice(0,3).map(f=>{var p;return f.thumbnail?c.jsx("img",{src:f.thumbnail,alt:f.name,loading:"lazy",className:"w-10 h-10 rounded-full border-2 border-white object-cover"},f.id):c.jsx("div",{className:"w-10 h-10 bg-gray-300 rounded-full border-2 border-white flex items-center justify-center",children:c.jsx("span",{className:"text-sm",children:(p=f.name)==null?void 0:p[0]})},f.id)})})]})]});return s&&i?c.jsx(me,{to:`/people/${i}`,className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a}):c.jsx("div",{className:"flex items-start p-3 rounded-lg hover:bg-gray-50 transition-colors",children:a})}function Ure(){return c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"flex justify-center mb-4",children:c.jsx("div",{className:"p-4 bg-primary-50 rounded-full",children:c.jsx(N7,{className:"w-12 h-12 text-primary-600"})})}),c.jsxs("h2",{className:"text-2xl font-semibold text-gray-900 mb-2",children:["Welcome to ",Ql,"!"]}),c.jsx("p",{className:"text-gray-600 mb-8 max-w-md mx-auto",children:"Get started by adding your first contact, company, or important date. Your dashboard will populate as you add more information."}),c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 justify-center",children:[c.jsxs(me,{to:"/people/new",className:"inline-flex items-center px-6 py-3 bg-primary-600 text-white rounded-lg hover:bg-primary-700 transition-colors",children:[c.jsx(br,{className:"w-5 h-5 mr-2"}),"Add Your First Person"]}),c.jsxs(me,{to:"/companies/new",className:"inline-flex items-center px-6 py-3 bg-white text-gray-700 border border-gray-300 rounded-lg hover:bg-gray-50 transition-colors",children:[c.jsx(br,{className:"w-5 h-5 mr-2"}),"Add Your First Company"]})]})]})}function Wre(){var u,d,h;const{data:t,isLoading:e,error:r}=Nte();if(e)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(r){const f=((u=r==null?void 0:r.response)==null?void 0:u.status)>=500||!(r!=null&&r.response);return c.jsx("div",{className:"card p-8 text-center",children:c.jsx("div",{className:"text-red-600 mb-2",children:f?c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Failed to load dashboard data"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Please check your connection and try refreshing the page."})]}):c.jsxs(c.Fragment,{children:[c.jsx("p",{className:"font-medium mb-1",children:"Unable to load dashboard"}),c.jsx("p",{className:"text-sm text-gray-600",children:((h=(d=r==null?void 0:r.response)==null?void 0:d.data)==null?void 0:h.message)||"An error occurred while loading your data."})]})})})}const{stats:n,recent_people:i,upcoming_reminders:s,favorites:a}=t||{};return((n==null?void 0:n.total_people)||0)+((n==null?void 0:n.total_companies)||0)+((n==null?void 0:n.total_dates)||0)===0?c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(zo,{title:"Total People",value:0,icon:ao,href:"/people"}),c.jsx(zo,{title:"Companies",value:0,icon:Zi,href:"/companies"}),c.jsx(zo,{title:"Important Dates",value:0,icon:so,href:"/dates"})]}),c.jsx(Ure,{})]}):c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:[c.jsx(zo,{title:"Total People",value:(n==null?void 0:n.total_people)||0,icon:ao,href:"/people"}),c.jsx(zo,{title:"Companies",value:(n==null?void 0:n.total_companies)||0,icon:Zi,href:"/companies"}),c.jsx(zo,{title:"Important Dates",value:(n==null?void 0:n.total_dates)||0,icon:so,href:"/dates"})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Upcoming Reminders"}),c.jsxs(me,{to:"/dates",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(lR,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(s==null?void 0:s.length)>0?s.map(f=>c.jsx(zre,{reminder:f},f.id)):c.jsx("p",{className:"p-4 text-sm text-gray-500 text-center",children:"No upcoming reminders"})})]}),c.jsxs("div",{className:"card",children:[c.jsxs("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:[c.jsx("h2",{className:"font-semibold",children:"Recent People"}),c.jsxs(me,{to:"/people",className:"text-sm text-primary-600 hover:text-primary-700 flex items-center",children:["View all",c.jsx(lR,{className:"w-4 h-4 ml-1"})]})]}),c.jsx("div",{className:"divide-y divide-gray-100",children:(i==null?void 0:i.length)>0?i.map(f=>c.jsx(qR,{person:f},f.id)):c.jsxs("p",{className:"p-4 text-sm text-gray-500 text-center",children:["No people yet. ",c.jsx(me,{to:"/people/new",className:"text-primary-600",children:"Add someone"})]})})]})]}),(a==null?void 0:a.length)>0&&c.jsxs("div",{className:"card",children:[c.jsx("div",{className:"flex items-center justify-between p-4 border-b border-gray-200",children:c.jsx("h2",{className:"font-semibold",children:"Favorites"})}),c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-2 p-2",children:a.map(f=>c.jsx(qR,{person:f},f.id))})]})]})}function Gn(t){if(!t)return"";const e=document.createElement("textarea");return e.innerHTML=t,e.value}function Fi(t){var r;if(!t)return"";const e=((r=t.title)==null?void 0:r.rendered)||t.title||t.name||"";return Gn(e)}function Ha(t){var r,n;if(!t)return"";if(t.name&&typeof t.name=="string"&&!((r=t.title)!=null&&r.rendered))return Gn(t.name);const e=((n=t.title)==null?void 0:n.rendered)||t.title||t.name||"";return Gn(e)}function yl(t,e={}){const r=["gender"],n=["contact_info","work_history","relationships","photo_gallery"],i={...t};return r.forEach(s=>{i[s]===""&&(i[s]=null)}),n.forEach(s=>{Array.isArray(i[s])||(i[s]=[])}),Object.assign(i,e),i}const Wt={all:["people"],lists:()=>[...Wt.all,"list"],list:t=>[...Wt.lists(),t],details:()=>[...Wt.all,"detail"],detail:t=>[...Wt.details(),t],timeline:t=>[...Wt.detail(t),"timeline"],dates:t=>[...Wt.detail(t),"dates"]};function lK(t){var i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w;const e=((a=(s=(i=t._embedded)==null?void 0:i["wp:featuredmedia"])==null?void 0:s[0])==null?void 0:a.source_url)||((f=(h=(d=(u=(l=(o=t._embedded)==null?void 0:o["wp:featuredmedia"])==null?void 0:l[0])==null?void 0:u.media_details)==null?void 0:d.sizes)==null?void 0:h.thumbnail)==null?void 0:f.source_url)||null,r=((b=(y=(m=(p=t._embedded)==null?void 0:p["wp:term"])==null?void 0:m.flat())==null?void 0:y.filter(_=>(_==null?void 0:_.taxonomy)==="person_label"))==null?void 0:b.map(_=>_.name))||[],n=Gn(((g=t.title)==null?void 0:g.rendered)||"");return{...t,id:t.id,name:n,first_name:((v=t.acf)==null?void 0:v.first_name)||"",last_name:((x=t.acf)==null?void 0:x.last_name)||"",is_favorite:((w=t.acf)==null?void 0:w.is_favorite)||!1,thumbnail:e,labels:r}}function Np(t={}){return pt({queryKey:Wt.list(t),queryFn:async()=>{const e=[];let r=1;const n=100;for(;;){const i=await Le.getPeople({per_page:n,page:r,_embed:!0,...t}),s=i.data.map(lK);if(e.push(...s),s.length<n)break;const a=parseInt(i.headers["x-wp-totalpages"]||i.headers["X-WP-TotalPages"]||"0",10);if(a>0&&r>=a)break;r++}return e}})}function pu(t){return pt({queryKey:Wt.detail(t),queryFn:async()=>{const e=await Le.getPerson(t,{_embed:!0});return lK(e.data)},enabled:!!t})}function Hre(t){return pt({queryKey:Wt.timeline(t),queryFn:async()=>(await Xr.getPersonTimeline(t)).data,enabled:!!t})}function Vre(t){return pt({queryKey:Wt.dates(t),queryFn:async()=>(await Xr.getPersonDates(t)).data,enabled:!!t})}function Kre(){const t=hr();return Rt({mutationFn:e=>Le.createPerson(e),onSuccess:()=>{t.invalidateQueries({queryKey:Wt.lists()})}})}function Td(){const t=hr();return Rt({mutationFn:({id:e,data:r})=>Le.updatePerson(e,r),onSuccess:(e,{id:r,data:n})=>{var i;t.invalidateQueries({queryKey:Wt.detail(r)}),t.invalidateQueries({queryKey:Wt.lists()}),(i=n==null?void 0:n.acf)!=null&&i.relationships&&(Array.isArray(n.acf.relationships)?n.acf.relationships:[]).forEach(a=>{const o=a.related_person;o&&t.invalidateQueries({queryKey:Wt.detail(o)})})}})}function Gre(){const t=hr();return Rt({mutationFn:e=>Le.deletePerson(e,{force:!0}),onSuccess:()=>{t.invalidateQueries({queryKey:Wt.lists()}),t.invalidateQueries({queryKey:Wt.details()})}})}function Yre(){const t=hr();return Rt({mutationFn:({noteId:e,personId:r})=>Xr.deleteNote(e),onSuccess:(e,{personId:r})=>{t.invalidateQueries({queryKey:Wt.timeline(r)})}})}function Qre(){const t=hr();return Rt({mutationFn:({dateId:e,personId:r})=>Le.deleteDate(e),onSuccess:(e,{personId:r})=>{r&&(t.invalidateQueries({queryKey:Wt.dates(r)}),t.invalidateQueries({queryKey:Wt.detail(r)})),t.invalidateQueries({queryKey:["reminders"]})}})}function MR(t){var i;const e=((i=t.acf)==null?void 0:i.work_history)||[];if(e.length===0)return null;const r=e.find(s=>s.is_current&&s.company);if(r)return r.company;const n=e.filter(s=>s.company).sort((s,a)=>{const o=s.start_date?new Date(s.start_date):new Date(0);return(a.start_date?new Date(a.start_date):new Date(0))-o});return n.length>0?n[0].company:null}function Xre({person:t,companyName:e,isDeceased:r}){var n,i;return c.jsx(me,{to:`/people/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-12 h-12 rounded-full object-cover"}):c.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-lg font-medium text-gray-500",children:((n=t.first_name)==null?void 0:n[0])||"?"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsxs("div",{className:"flex items-center",children:[c.jsxs("h3",{className:"text-sm font-medium text-gray-900 truncate",children:[t.name,r&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),t.is_favorite&&c.jsx(Xc,{className:"w-4 h-4 ml-1 text-yellow-400 fill-current flex-shrink-0"})]}),e&&c.jsx("p",{className:"text-xs text-gray-500 mt-0.5 truncate",children:e}),((i=t.labels)==null?void 0:i.length)>0&&c.jsx("div",{className:"flex flex-wrap gap-1 mt-1",children:t.labels.slice(0,3).map(s=>c.jsx("span",{className:"inline-flex px-2 py-0.5 text-xs rounded-full bg-gray-100 text-gray-600",children:s},s))})]})]})})}function Jre(){const[t,e]=$.useState(!1),[r,n]=$.useState(!1),[i,s]=$.useState([]),[a,o]=$.useState("first_name"),[l,u]=$.useState("asc"),d=$.useRef(null),h=$.useRef(null),{data:f,isLoading:p,error:m}=Np(),{data:y}=pt({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),b=(y==null?void 0:y.map(T=>T.name))||[];$.useEffect(()=>{const T=N=>{h.current&&!h.current.contains(N.target)&&d.current&&!d.current.contains(N.target)&&e(!1)};return document.addEventListener("mousedown",T),()=>{document.removeEventListener("mousedown",T)}},[]);const g=$.useMemo(()=>{if(!f)return[];let T=[...f];return r&&(T=T.filter(N=>N.is_favorite)),i.length>0&&(T=T.filter(N=>{const q=N.labels||[];return i.some(z=>q.includes(z))})),T.sort((N,q)=>{var L,V,U,W,ee,fe,ve,qe;let z,te;if(a==="first_name"?(z=(((L=N.acf)==null?void 0:L.first_name)||N.first_name||"").toLowerCase(),te=(((V=q.acf)==null?void 0:V.first_name)||q.first_name||"").toLowerCase()):(z=(((U=N.acf)==null?void 0:U.last_name)||N.last_name||"").toLowerCase(),te=(((W=q.acf)==null?void 0:W.last_name)||q.last_name||"").toLowerCase()),z===te){const be=a==="first_name"?(((ee=N.acf)==null?void 0:ee.last_name)||N.last_name||"").toLowerCase():(((fe=N.acf)==null?void 0:fe.first_name)||N.first_name||"").toLowerCase(),Se=a==="first_name"?(((ve=q.acf)==null?void 0:ve.last_name)||q.last_name||"").toLowerCase():(((qe=q.acf)==null?void 0:qe.first_name)||q.first_name||"").toLowerCase(),Pe=be.localeCompare(Se);return l==="asc"?Pe:-Pe}const K=z.localeCompare(te);return l==="asc"?K:-K})},[f,r,i,a,l]),v=r||i.length>0,x=T=>{s(N=>N.includes(T)?N.filter(q=>q!==T):[...N,T])},w=()=>{n(!1),s([])},_=$.useMemo(()=>{if(!g)return[];const T=g.map(N=>MR(N)).filter(Boolean);return[...new Set(T)]},[g]),{data:E}=pt({queryKey:["companies","batch",_.sort().join(",")],queryFn:async()=>_.length===0?[]:(await Le.getCompanies({per_page:100,include:_.join(",")})).data,enabled:_.length>0}),O=$.useMemo(()=>{const T={};return E&&E.forEach(N=>{T[N.id]=Fi(N)}),T},[E]),S=$.useMemo(()=>{const T={};return g.forEach(N=>{const q=MR(N);q&&O[q]&&(T[N.id]=O[q])}),T},[g,O]),P=$.useMemo(()=>g.map(T=>T.id).filter(Boolean),[g]),C=Af({queries:P.map(T=>({queryKey:["person-dates",T],queryFn:async()=>(await Xr.getPersonDates(T)).data,enabled:!!T}))}),I=$.useMemo(()=>{const T={};return C.forEach((N,q)=>{if(N.data&&P[q]){const z=P[q],te=N.data.some(K=>{const L=Array.isArray(K.date_type)?K.date_type[0]:K.date_type;return(L==null?void 0:L.toLowerCase())==="died"});T[z]=te}}),T},[C,P]);return c.jsxs("div",{className:"space-y-4",children:[c.jsx("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:c.jsxs("div",{className:"flex flex-wrap items-center gap-2",children:[c.jsxs("div",{className:"flex items-center gap-2 border border-gray-200 rounded-lg p-1",children:[c.jsxs("select",{value:a,onChange:T=>o(T.target.value),className:"text-sm border-0 bg-transparent focus:ring-0 focus:outline-none cursor-pointer",children:[c.jsx("option",{value:"first_name",children:"First Name"}),c.jsx("option",{value:"last_name",children:"Last Name"})]}),c.jsx("div",{className:"h-4 w-px bg-gray-300"}),c.jsx("button",{onClick:()=>u(l==="asc"?"desc":"asc"),className:"p-1 hover:bg-gray-100 rounded transition-colors",title:`Sort ${l==="asc"?"descending":"ascending"}`,children:l==="asc"?c.jsx(RZ,{className:"w-4 h-4 text-gray-600"}):c.jsx(IZ,{className:"w-4 h-4 text-gray-600"})})]}),c.jsxs("div",{className:"relative",ref:d,children:[c.jsxs("button",{onClick:()=>e(!t),className:`btn-secondary ${v?"bg-primary-50 text-primary-700 border-primary-200":""}`,children:[c.jsx(cR,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Filter"}),v&&c.jsx("span",{className:"ml-2 px-1.5 py-0.5 bg-primary-600 text-white text-xs rounded-full",children:i.length+(r?1:0)})]}),t&&c.jsx("div",{ref:h,className:"absolute top-full left-0 mt-2 w-64 bg-white border border-gray-200 rounded-lg shadow-lg z-50",children:c.jsxs("div",{className:"p-4 space-y-4",children:[c.jsx("div",{children:c.jsxs("label",{className:"flex items-center cursor-pointer",children:[c.jsx("input",{type:"checkbox",checked:r,onChange:T=>n(T.target.checked),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${r?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:r&&c.jsx(uR,{className:"w-3 h-3 text-white"})}),c.jsxs("div",{className:"flex items-center",children:[c.jsx(Xc,{className:"w-4 h-4 mr-2 text-yellow-400 fill-current"}),c.jsx("span",{className:"text-sm font-medium text-gray-900",children:"Favorites only"})]})]})}),b.length>0&&c.jsxs("div",{children:[c.jsx("h3",{className:"text-xs font-semibold text-gray-500 uppercase tracking-wide mb-2",children:"Labels"}),c.jsx("div",{className:"space-y-1 max-h-48 overflow-y-auto",children:b.map(T=>c.jsxs("label",{className:"flex items-center cursor-pointer hover:bg-gray-50 p-1 rounded",children:[c.jsx("input",{type:"checkbox",checked:i.includes(T),onChange:()=>x(T),className:"sr-only"}),c.jsx("div",{className:`flex items-center justify-center w-5 h-5 border-2 rounded mr-3 ${i.includes(T)?"bg-primary-600 border-primary-600":"border-gray-300"}`,children:i.includes(T)&&c.jsx(uR,{className:"w-3 h-3 text-white"})}),c.jsx("span",{className:"text-sm text-gray-700",children:T})]},T))})]}),v&&c.jsx("button",{onClick:w,className:"w-full text-sm text-primary-600 hover:text-primary-700 font-medium pt-2 border-t border-gray-200",children:"Clear all filters"})]})})]}),v&&c.jsxs("div",{className:"flex flex-wrap gap-2",children:[r&&c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-primary-100 text-primary-800 rounded-full text-xs",children:[c.jsx(Xc,{className:"w-3 h-3"}),"Favorites",c.jsx("button",{onClick:()=>n(!1),className:"hover:text-primary-600",children:c.jsx(ra,{className:"w-3 h-3"})})]}),i.map(T=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 bg-gray-100 text-gray-800 rounded-full text-xs",children:[T,c.jsx("button",{onClick:()=>x(T),className:"hover:text-gray-600",children:c.jsx(ra,{className:"w-3 h-3"})})]},T))]}),c.jsxs(me,{to:"/people/new",className:"btn-primary",children:[c.jsx(br,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]})}),p&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),m&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load people."})}),!p&&!m&&(f==null?void 0:f.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(br,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Get started by adding your first person."}),c.jsxs(me,{to:"/people/new",className:"btn-primary",children:[c.jsx(br,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Person"})]})]}),!p&&!m&&(g==null?void 0:g.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:g.map(T=>c.jsx(Xre,{person:T,companyName:S[T.id],isDeceased:I[T.id]||!1},T.id))}),!p&&!m&&(f==null?void 0:f.length)>0&&(g==null?void 0:g.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(cR,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No people match your filters"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Try adjusting your filters to see more results."}),c.jsx("button",{onClick:w,className:"btn-secondary",children:"Clear filters"})]})]})}function Oi(t){return t?String(t).replace(/\\/g,"\\\\").replace(/;/g,"\\;").replace(/,/g,"\\,").replace(/\n/g,"\\n"):""}function Zre(t){return t?t.replace(/[^\d+]/g,""):""}function AR(t){if(!t)return"";const e=new Date(t);if(isNaN(e.getTime()))return"";const r=e.getFullYear(),n=String(e.getMonth()+1).padStart(2,"0"),i=String(e.getDate()).padStart(2,"0");return`${r}${n}${i}`}function ene(t,e={}){if(!t||!Array.isArray(t))return{title:"",org:""};const r=t.find(i=>i.is_current);if(r){const i=r.company&&e[r.company]?e[r.company].name||e[r.company]:"";return{title:r.job_title||"",org:i}}const n=[...t].filter(i=>i.start_date).sort((i,s)=>new Date(s.start_date)-new Date(i.start_date));if(n.length>0){const i=n[0].company&&e[n[0].company]?e[n[0].company].name||e[n[0].company]:"";return{title:n[0].job_title||"",org:i}}return{title:"",org:""}}function tne(t,e={}){if(!t)throw new Error("Person data is required");const{companyMap:r={},personDates:n=[]}=e,i=t.acf||{},s=[];s.push("BEGIN:VCARD"),s.push("VERSION:3.0");const a=i.first_name||"",o=i.last_name||"",l=t.name||`${a} ${o}`.trim()||"Unknown";s.push(`FN:${Oi(l)}`),s.push(`N:${Oi(o)};${Oi(a)};;;`),i.nickname&&s.push(`NICKNAME:${Oi(i.nickname)}`),i.contact_info&&Array.isArray(i.contact_info)&&i.contact_info.forEach(h=>{if(!h.contact_value)return;const f=Oi(h.contact_value),p=h.contact_label?Oi(h.contact_label):"";switch(h.contact_type){case"email":const m=p?`EMAIL;TYPE=INTERNET,${p.toUpperCase()}`:"EMAIL;TYPE=INTERNET";s.push(`${m}:${f}`);break;case"phone":case"mobile":const y=h.contact_type==="mobile"?"CELL":"VOICE",b=p?`TEL;TYPE=${y},${p.toUpperCase()}`:`TEL;TYPE=${y}`,g=Zre(h.contact_value);g&&s.push(`${b}:${g}`);break;case"address":s.push(`ADR;TYPE=HOME:;;${f};;;;`);break;case"website":case"linkedin":case"twitter":case"instagram":case"facebook":let v=h.contact_value;v.match(/^https?:\/\//i)||(v=`https://${v}`);const x=h.contact_type==="linkedin"?"PROFILE":"WORK",w=p?`URL;TYPE=${x},${p.toUpperCase()}`:`URL;TYPE=${x}`;s.push(`${w}:${Oi(v)}`);break}});const{title:u,org:d}=ene(i.work_history,r);if(d&&s.push(`ORG:${Oi(d)}`),u&&s.push(`TITLE:${Oi(u)}`),n&&Array.isArray(n)){const h=n.find(f=>{const p=Array.isArray(f.date_type)?f.date_type[0]:f.date_type;return(p==null?void 0:p.toLowerCase())==="birthday"});if(h!=null&&h.date_value){const f=AR(h.date_value);f&&s.push(`BDAY:${f}`)}}if(t.thumbnail,t.modified){const h=AR(t.modified);h&&s.push(`REV:${h}T000000Z`)}return s.push("END:VCARD"),s.join(`\r
`)}function rne(t,e={}){const{filename:r,...n}=e,i=tne(t,n),s=new Blob([i],{type:"text/vcard;charset=utf-8"}),a=URL.createObjectURL(s),o=document.createElement("a");o.href=a,o.download=r||`${t.name||"contact"}.vcf`.replace(/[^a-z0-9.-]/gi,"_"),document.body.appendChild(o),o.click(),document.body.removeChild(o),URL.revokeObjectURL(a)}function $h(t){if(!t)return null;switch(t){case"male":return"";case"female":return"";case"non_binary":case"other":case"prefer_not_to_say":return"";default:return null}}function nne(){var Mr,Ge,Bt,sn,an,j,D,F,ae,re,Y,de,Ie;const{id:t}=is(),e=en(),r=hr(),{data:n,isLoading:i,error:s}=pu(t),{data:a}=Hre(t),{data:o}=Vre(t),l=Gre(),u=Yre(),d=Qre(),h=Td(),[f,p]=$.useState(!1),[m,y]=$.useState(""),[b,g]=$.useState(!1),v=$.useRef(null),{data:x}=pt({queryKey:["person-labels"],queryFn:async()=>(await Le.getPersonLabels()).data}),w=x||[],_=(n==null?void 0:n.labels)||[],E=((sn=(Bt=(Ge=(Mr=n==null?void 0:n._embedded)==null?void 0:Mr["wp:term"])==null?void 0:Ge.flat())==null?void 0:Bt.filter(k=>(k==null?void 0:k.taxonomy)==="person_label"))==null?void 0:sn.map(k=>k.id))||[],O=w.filter(k=>!_.includes(k.name));ei((n==null?void 0:n.name)||((an=n==null?void 0:n.title)==null?void 0:an.rendered)||(n==null?void 0:n.title)||"Person");const S=o==null?void 0:o.find(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(ne==null?void 0:ne.toLowerCase())==="birthday"}),P=S!=null&&S.date_value?new Date(S.date_value):null,C=o==null?void 0:o.find(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type;return(ne==null?void 0:ne.toLowerCase())==="died"}),I=C!=null&&C.date_value?new Date(C.date_value):null,T=!!I,N=P?Um(T?I:new Date,P):null,q=o?[...o].sort((k,ne)=>{const H=k.date_value?new Date(k.date_value):new Date(0),B=ne.date_value?new Date(ne.date_value):new Date(0);return H-B}):[],z=async()=>{if(window.confirm("Are you sure you want to delete this person?"))try{await l.mutateAsync(t),e("/people")}catch(k){console.error("Failed to delete person:",k),alert("Failed to delete person. Please try again.")}},te=k=>{if(!k)return"";let ne=k.replace(/[\u200B-\u200D\uFEFF\u200E\u200F\u202A-\u202E]/g,"");const H=ne.startsWith("+");return ne=ne.replace(/\D/g,""),H?`+${ne}`:ne},K=async k=>{var B;if(!window.confirm("Are you sure you want to delete this contact detail?"))return;const ne=[...((B=n.acf)==null?void 0:B.contact_info)||[]];ne.splice(k,1);const H=yl(n.acf,{contact_info:ne});await h.mutateAsync({id:t,data:{acf:H}})},L=async k=>{var B;if(!window.confirm("Are you sure you want to delete this relationship?"))return;const ne=[...((B=n.acf)==null?void 0:B.relationships)||[]];ne.splice(k,1);const H=yl(n.acf,{relationships:ne});await h.mutateAsync({id:t,data:{acf:H}})},V=async k=>{window.confirm("Are you sure you want to delete this important date?")&&await d.mutateAsync({dateId:k,personId:t})},U=async k=>{window.confirm("Are you sure you want to delete this note?")&&await u.mutateAsync({noteId:k,personId:t})},W=async k=>{var B;if(!window.confirm("Are you sure you want to delete this work history item?"))return;const ne=[...((B=n.acf)==null?void 0:B.work_history)||[]];ne.splice(k,1);const H=yl(n.acf,{work_history:ne});await h.mutateAsync({id:t,data:{acf:H}})},ee=async k=>{var B,G,X;const ne=(X=(G=(B=n==null?void 0:n._embedded)==null?void 0:B["wp:term"])==null?void 0:G.flat())==null?void 0:X.find(oe=>(oe==null?void 0:oe.taxonomy)==="person_label"&&(oe==null?void 0:oe.name)===k);if(!ne)return;const H=E.filter(oe=>oe!==ne.id);await h.mutateAsync({id:t,data:{person_label:H}})},fe=async()=>{if(!m)return;const k=w.find(H=>H.id.toString()===m);if(!k)return;const ne=[...E,k.id];await h.mutateAsync({id:t,data:{person_label:ne}}),y(""),p(!1)},ve=async k=>{var H;const ne=(H=k.target.files)==null?void 0:H[0];if(ne){if(!ne.type.startsWith("image/")){alert("Please select an image file");return}if(ne.size>5*1024*1024){alert("Image size must be less than 5MB");return}g(!0);try{await Xr.uploadPersonPhoto(t,ne),r.invalidateQueries({queryKey:["person",t]}),r.invalidateQueries({queryKey:["people"]})}catch(B){console.error("Failed to upload photo:",B),alert("Failed to upload photo. Please try again.")}finally{g(!1),v.current&&(v.current.value="")}}},qe=()=>{if(n)try{rne(n,{companyMap:nt,personDates:o||[]})}catch(k){console.error("Failed to export vCard:",k),alert("Failed to export vCard. Please try again.")}},be=((D=(j=n==null?void 0:n.acf)==null?void 0:j.work_history)==null?void 0:D.map(k=>k.company).filter(Boolean))||[],Se=Af({queries:be.map(k=>({queryKey:["company",k],queryFn:async()=>(await Le.getCompany(k,{_embed:!0})).data,enabled:!!k}))}),Pe=((ae=(F=n==null?void 0:n.acf)==null?void 0:F.relationships)==null?void 0:ae.map(k=>k.related_person).filter(Boolean))||[],ct=Af({queries:Pe.map(k=>({queryKey:["person-dates",k],queryFn:async()=>(await Xr.getPersonDates(k)).data,enabled:!!k}))}),Ke=$.useMemo(()=>{const k={};return ct.forEach((ne,H)=>{if(ne.data&&Pe[H]){const B=Pe[H],G=ne.data.find(X=>{const oe=Array.isArray(X.date_type)?X.date_type[0]:X.date_type;return(oe==null?void 0:oe.toLowerCase())==="birthday"});if(G!=null&&G.date_value){const X=new Date(G.date_value);k[B]=Um(new Date,X)}else k[B]=-1}}),k},[ct,Pe]),Lt=$.useMemo(()=>{const k={};return ct.forEach((ne,H)=>{if(ne.data&&Pe[H]){const B=Pe[H],G=ne.data.some(X=>{const oe=Array.isArray(X.date_type)?X.date_type[0]:X.date_type;return(oe==null?void 0:oe.toLowerCase())==="died"});k[B]=G}}),k},[ct,Pe]),nr=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.relationships?[...n.acf.relationships].sort((ne,H)=>{const B=Ke[ne.related_person]??-1,G=Ke[H.related_person]??-1;return B===-1&&G===-1?0:B===-1?1:G===-1?-1:G-B}):[]},[(re=n==null?void 0:n.acf)==null?void 0:re.relationships,Ke]),nt={};Se.forEach((k,ne)=>{var H,B,G,X,oe,$e,Ar,ir,ii;if(k.data){const ga=be[ne];nt[ga]={name:Fi(k.data),logo:((G=(B=(H=k.data._embedded)==null?void 0:H["wp:featuredmedia"])==null?void 0:B[0])==null?void 0:G.source_url)||((ii=(ir=(Ar=($e=(oe=(X=k.data._embedded)==null?void 0:X["wp:featuredmedia"])==null?void 0:oe[0])==null?void 0:$e.media_details)==null?void 0:Ar.sizes)==null?void 0:ir.thumbnail)==null?void 0:ii.source_url)||null}}});const _r=$.useMemo(()=>{var k;return(k=n==null?void 0:n.acf)!=null&&k.work_history?[...n.acf.work_history].map((ne,H)=>({...ne,originalIndex:H})).sort((ne,H)=>{if(ne.is_current&&!H.is_current)return-1;if(!ne.is_current&&H.is_current)return 1;const B=ne.start_date?new Date(ne.start_date):new Date(0);return(H.start_date?new Date(H.start_date):new Date(0))-B}):[]},[(Y=n==null?void 0:n.acf)==null?void 0:Y.work_history]);if($.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/people",{replace:!0})},[n,e]),i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(me,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]});if(n.status==="trash")return null;const at=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(me,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:qe,className:"btn-secondary",children:[c.jsx(DZ,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Export vCard"})]}),c.jsxs(me,{to:`/people/${t}/edit`,className:"btn-secondary",children:[c.jsx(I7,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Edit"})]}),c.jsxs("button",{onClick:z,className:"btn-danger",children:[c.jsx(gs,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Delete"})]})]})]}),c.jsxs("div",{className:"card p-6 relative",children:[c.jsx("div",{className:"absolute top-4 right-4",children:c.jsx(me,{to:`/people/${t}/family-tree`,className:"btn-secondary text-sm",children:"View Family Tree"})}),c.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[c.jsxs("div",{className:"relative group",children:[n.thumbnail?c.jsx("img",{src:n.thumbnail,alt:n.name,className:"w-24 h-24 rounded-full object-cover"}):c.jsx("div",{className:"w-24 h-24 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-3xl font-medium text-gray-500",children:((de=n.first_name)==null?void 0:de[0])||"?"})}),c.jsx("div",{className:"absolute inset-0 rounded-full bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var k;return(k=v.current)==null?void 0:k.click()},children:b?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(tf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})}),c.jsx("input",{ref:v,type:"file",accept:"image/*",onChange:ve,className:"hidden",disabled:b})]}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("div",{className:"flex items-center gap-2",children:[c.jsxs("h1",{className:"text-2xl font-bold",children:[n.name,T&&c.jsx("span",{className:"ml-1 text-gray-500",children:""})]}),n.is_favorite&&c.jsx(Xc,{className:"w-5 h-5 text-yellow-400 fill-current"})]}),at.nickname&&c.jsxs("p",{className:"text-gray-500",children:['"',at.nickname,'"']}),T&&I&&N!==null&&c.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[$h(at.gender)&&c.jsx("span",{className:"mr-1",children:$h(at.gender)}),"Died ",hi(I,"MMMM d, yyyy")," at age ",N]}),!T&&N!==null&&c.jsxs("p",{className:"text-gray-500 text-sm mt-1",children:[$h(at.gender)&&c.jsx("span",{className:"mr-1",children:$h(at.gender)}),N," years old"]}),c.jsx("div",{className:"mt-2",children:c.jsxs("div",{className:"flex flex-wrap gap-2 items-center",children:[n.labels&&n.labels.length>0&&n.labels.map((k,ne)=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 group/label",children:[k,c.jsx("button",{onClick:()=>ee(k),className:"opacity-0 group-hover/label:opacity-100 transition-opacity hover:bg-gray-200 rounded-full p-0.5",title:"Remove label",children:c.jsx(ra,{className:"w-3 h-3"})})]},ne)),f?c.jsxs("div",{className:"inline-flex items-center gap-2",children:[c.jsxs("select",{value:m,onChange:k=>y(k.target.value),className:"text-xs border border-gray-300 rounded px-2 py-1",autoFocus:!0,disabled:O.length===0,children:[c.jsx("option",{value:"",children:"Select a label..."}),O.map(k=>c.jsx("option",{value:k.id,children:k.name},k.id))]}),c.jsx("button",{onClick:fe,disabled:!m,className:"text-xs px-2 py-1 bg-primary-600 text-white rounded hover:bg-primary-700 disabled:opacity-50 disabled:cursor-not-allowed",children:"Add"}),c.jsx("button",{onClick:()=>{p(!1),y("")},className:"text-xs px-2 py-1 bg-gray-200 text-gray-700 rounded hover:bg-gray-300",children:"Cancel"})]}):O.length>0&&c.jsxs("button",{onClick:()=>p(!0),className:"inline-flex items-center px-2 py-1 rounded-full text-xs font-medium bg-gray-100 text-gray-700 hover:bg-gray-200 transition-colors",children:[c.jsx(br,{className:"w-3 h-3 mr-1"}),"Add label"]})]})})]})]})]}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-6",children:[c.jsxs("div",{className:"lg:col-span-2 space-y-6",children:[!T&&c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Contact Information"}),c.jsxs(me,{to:`/people/${t}/contact/new`,className:"btn-secondary text-sm",children:[c.jsx(br,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add contact detail"})]})]}),((Ie=at.contact_info)==null?void 0:Ie.length)>0?c.jsx("div",{className:"space-y-2",children:at.contact_info.map((k,ne)=>{const H=k.contact_type==="email"?BZ:k.contact_type==="phone"||k.contact_type==="mobile"?VZ:k.contact_type==="address"?zZ:k.contact_type==="linkedin"?dR:(k.contact_type==="website",qP),B=k.contact_type==="email",G=k.contact_type==="phone"||k.contact_type==="mobile",X=k.contact_type==="mobile",oe=k.contact_type==="website"||k.contact_type==="linkedin"||k.contact_type==="twitter"||k.contact_type==="instagram"||k.contact_type==="facebook",$e=k.contact_type==="address",Ar=k.contact_type==="linkedin";let ir=null,ii=null;if(B)ir=`mailto:${k.contact_value}`;else if(G)ir=`tel:${te(k.contact_value)}`;else if(oe){let ga=k.contact_value;ga.match(/^https?:\/\//i)||(ga=`https://${ga}`),ir=ga,ii="_blank"}else $e&&(ir=`https://www.google.com/maps/search/?api=1&query=${encodeURIComponent(k.contact_value)}`,ii="_blank");return c.jsx("div",{className:"group",children:c.jsxs("div",{className:"flex items-center rounded-md -mx-2 px-2 py-1.5 group-hover:bg-gray-50 transition-colors",children:[!Ar&&c.jsx(H,{className:"w-4 h-4 text-gray-400 mr-3 flex-shrink-0"}),c.jsxs("div",{className:"flex-1 min-w-0",children:[Ar?c.jsx(dR,{className:"w-4 h-4 text-blue-600 inline-block mr-2 align-middle"}):c.jsxs("span",{className:"text-sm text-gray-500",children:[k.contact_label||k.contact_type,": "]}),ir?c.jsx("a",{href:ir,target:ii||void 0,rel:ii==="_blank"?"noopener noreferrer":void 0,className:"text-primary-600 hover:text-primary-700 hover:underline",children:k.contact_value}):c.jsx("span",{children:k.contact_value})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[X&&c.jsx("a",{href:`whatsapp:${te(k.contact_value)}`,className:"p-1 hover:bg-green-50 rounded",title:"Open WhatsApp",children:c.jsx(WZ,{className:"w-4 h-4 text-gray-400 hover:text-green-600"})}),c.jsx(me,{to:`/people/${t}/contact/${ne}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit contact detail",children:c.jsx(Rh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>K(ne),className:"p-1 hover:bg-red-50 rounded",title:"Delete contact detail",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]})},ne)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No contact information yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Important Dates"}),c.jsxs(me,{to:`/dates/new?person=${t}`,className:"btn-secondary text-sm",children:[c.jsx(br,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Important Date"})]})]}),q.length>0?c.jsx("div",{className:"space-y-3",children:q.map(k=>{const ne=Array.isArray(k.date_type)?k.date_type[0]:k.date_type,H=(ne==null?void 0:ne.toLowerCase())||"",B=H.includes("died"),G=H.includes("wedding")||H.includes("marriage")?MZ:H.includes("birthday")?qZ:so;return c.jsxs("div",{className:"flex items-start group",children:[c.jsx("div",{className:"w-8 h-8 bg-gray-100 rounded-lg flex items-center justify-center mr-3",children:B?c.jsx("span",{className:"text-gray-500 text-lg font-semibold",children:""}):c.jsx(G,{className:"w-4 h-4 text-gray-500"})}),c.jsxs("div",{className:"flex-1",children:[c.jsx("p",{className:"text-sm font-medium",children:k.title}),c.jsx("p",{className:"text-xs text-gray-500",children:k.date_value&&hi(new Date(k.date_value),"MMMM d, yyyy")}),ne&&c.jsx("p",{className:"text-xs text-gray-400 capitalize",children:ne})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity",children:[c.jsx(me,{to:`/dates/${k.id}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit date",children:c.jsx(Rh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>V(k.id),className:"p-1 hover:bg-red-50 rounded",title:"Delete date",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},k.id)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No important dates yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Work History"}),c.jsxs(me,{to:`/people/${t}/work-history/new`,className:"btn-secondary text-sm",children:[c.jsx(br,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Work History"})]})]}),(_r==null?void 0:_r.length)>0?c.jsx("div",{className:"space-y-4",children:_r.map((k,ne)=>{const H=k.company?nt[k.company]:null,B=k.originalIndex;return c.jsxs("div",{className:"flex items-start group",children:[H!=null&&H.logo?c.jsx("img",{src:H.logo,alt:H.name,className:"w-10 h-10 rounded-lg object-cover mr-3 flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 bg-gray-100 rounded-lg flex items-center justify-center mr-3 flex-shrink-0",children:c.jsx(Zi,{className:"w-5 h-5 text-gray-500"})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"font-medium",children:k.job_title}),k.company&&H&&c.jsx(me,{to:`/companies/${k.company}`,className:"text-sm text-primary-600 hover:underline",children:H.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[k.start_date&&hi(new Date(k.start_date),"MMM yyyy")," - ",k.is_current?"Present":k.end_date?hi(new Date(k.end_date),"MMM yyyy"):""]}),k.description&&c.jsx("p",{className:"text-sm text-gray-600 mt-1",children:k.description})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(me,{to:`/people/${t}/work-history/${B}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit work history",children:c.jsx(Rh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>W(B),className:"p-1 hover:bg-red-50 rounded",title:"Delete work history",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},B)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No work history yet."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-4",children:[c.jsx("h2",{className:"font-semibold",children:"Timeline"}),c.jsxs("button",{className:"btn-secondary text-sm",children:[c.jsx(br,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Note"})]})]}),(a==null?void 0:a.length)>0?c.jsx("div",{className:"space-y-4",children:a.map(k=>c.jsxs("div",{className:"border-l-2 border-gray-200 pl-4 pb-4 group",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-gray-500",children:[c.jsx("span",{className:"capitalize",children:k.type}),c.jsx("span",{children:""}),c.jsx("span",{children:hi(new Date(k.created),"MMM d, yyyy")})]}),c.jsx("button",{onClick:()=>U(k.id),className:"opacity-0 group-hover:opacity-100 transition-opacity p-1 hover:bg-red-50 rounded",title:"Delete note",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]}),c.jsx("p",{className:"mt-1",children:k.content})]},k.id))}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No notes or activities yet."})]})]}),c.jsxs("div",{className:"space-y-6",children:[(at.how_we_met||at.met_date)&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-3",children:"How We Met"}),at.met_date&&c.jsxs("p",{className:"text-sm text-gray-500 mb-2",children:[c.jsx(so,{className:"w-4 h-4 inline mr-1"}),hi(new Date(at.met_date),"MMMM d, yyyy")]}),at.how_we_met&&c.jsx("p",{className:"text-sm",children:at.how_we_met})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-3",children:[c.jsx("h2",{className:"font-semibold",children:"Relationships"}),c.jsxs(me,{to:`/people/${t}/relationship/new`,className:"btn-secondary text-sm",children:[c.jsx(br,{className:"w-4 h-4 md:mr-1"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship"})]})]}),(nr==null?void 0:nr.length)>0?c.jsx("div",{className:"space-y-2",children:nr.map((k,ne)=>{var B,G,X;const H=((G=(B=n==null?void 0:n.acf)==null?void 0:B.relationships)==null?void 0:G.findIndex(oe=>oe.related_person===k.related_person&&oe.relationship_type===k.relationship_type))??ne;return c.jsxs("div",{className:"flex items-center p-2 rounded hover:bg-gray-50 group",children:[c.jsxs(me,{to:`/people/${k.related_person}`,className:"flex items-center flex-1 min-w-0",children:[k.person_thumbnail?c.jsx("img",{src:k.person_thumbnail,alt:Gn(k.person_name)||"",className:"w-8 h-8 rounded-full object-cover mr-2"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full mr-2 flex items-center justify-center",children:c.jsx("span",{className:"text-xs font-medium text-gray-500",children:((X=Gn(k.person_name))==null?void 0:X[0])||"?"})}),c.jsxs("div",{children:[c.jsxs("p",{className:"text-sm font-medium",children:[Gn(k.person_name)||`Person #${k.related_person}`,Lt[k.related_person]&&c.jsx("span",{className:"text-gray-400 ml-1",title:"Deceased",children:""})]}),c.jsx("p",{className:"text-xs text-gray-500",children:Gn(k.relationship_name||k.relationship_label)})]})]}),c.jsxs("div",{className:"flex items-center gap-1 opacity-0 group-hover:opacity-100 transition-opacity ml-2",children:[c.jsx(me,{to:`/people/${t}/relationship/${H}/edit`,className:"p-1 hover:bg-gray-100 rounded",title:"Edit relationship",children:c.jsx(Rh,{className:"w-4 h-4 text-gray-400 hover:text-gray-600"})}),c.jsx("button",{onClick:()=>L(H),className:"p-1 hover:bg-red-50 rounded",title:"Delete relationship",children:c.jsx(gs,{className:"w-4 h-4 text-gray-400 hover:text-red-600"})})]})]},ne)})}):c.jsx("p",{className:"text-sm text-gray-500 text-center py-4",children:"No relationships yet."})]})]})]})]})}var Nd=t=>t.type==="checkbox",Ta=t=>t instanceof Date,Br=t=>t==null;const uK=t=>typeof t=="object";var jt=t=>!Br(t)&&!Array.isArray(t)&&uK(t)&&!Ta(t),cK=t=>jt(t)&&t.target?Nd(t.target)?t.target.checked:t.target.value:t,ine=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,dK=(t,e)=>t.has(ine(e)),sne=t=>{const e=t.constructor&&t.constructor.prototype;return jt(e)&&e.hasOwnProperty("isPrototypeOf")},bT=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function zt(t){if(t instanceof Date)return new Date(t);const e=typeof FileList<"u"&&t instanceof FileList;if(bT&&(t instanceof Blob||e))return t;const r=Array.isArray(t);if(!r&&!(jt(t)&&sne(t)))return t;const n=r?[]:Object.create(Object.getPrototypeOf(t));for(const i in t)Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=zt(t[i]));return n}var Ip=t=>/^\w*$/.test(t),_t=t=>t===void 0,wT=t=>Array.isArray(t)?t.filter(Boolean):[],xT=t=>wT(t.replace(/["|']|\]/g,"").split(/\.|\[/)),le=(t,e,r)=>{if(!e||!jt(t))return r;const n=(Ip(e)?[e]:xT(e)).reduce((i,s)=>Br(i)?i:i[s],t);return _t(n)||n===t?_t(t[e])?r:t[e]:n},un=t=>typeof t=="boolean",Ir=t=>typeof t=="function",Je=(t,e,r)=>{let n=-1;const i=Ip(e)?[e]:xT(e),s=i.length,a=s-1;for(;++n<s;){const o=i[n];let l=r;if(n!==a){const u=t[o];l=jt(u)||Array.isArray(u)?u:isNaN(+i[n+1])?{}:[]}if(o==="__proto__"||o==="constructor"||o==="prototype")return;t[o]=l,t=t[o]}};const Bf={BLUR:"blur",FOCUS_OUT:"focusout",CHANGE:"change"},Vn={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},Pi={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"},hK=Ce.createContext(null);hK.displayName="HookFormContext";const _T=()=>Ce.useContext(hK);var fK=(t,e,r,n=!0)=>{const i={defaultValues:e._defaultValues};for(const s in t)Object.defineProperty(i,s,{get:()=>{const a=s;return e._proxyFormState[a]!==Vn.all&&(e._proxyFormState[a]=!n||Vn.all),r&&(r[a]=!0),t[a]}});return i};const ST=typeof window<"u"?Ce.useLayoutEffect:Ce.useEffect;function ane(t){const e=_T(),{control:r=e.control,disabled:n,name:i,exact:s}=t||{},[a,o]=Ce.useState(r._formState),l=Ce.useRef({isDirty:!1,isLoading:!1,dirtyFields:!1,touchedFields:!1,validatingFields:!1,isValidating:!1,isValid:!1,errors:!1});return ST(()=>r._subscribe({name:i,formState:l.current,exact:s,callback:u=>{!n&&o({...r._formState,...u})}}),[i,n,s]),Ce.useEffect(()=>{l.current.isValid&&r._setValid(!0)},[r]),Ce.useMemo(()=>fK(a,r,l.current,!1),[a,r])}var cn=t=>typeof t=="string",zP=(t,e,r,n,i)=>cn(t)?(n&&e.watch.add(t),le(r,t,i)):Array.isArray(t)?t.map(s=>(n&&e.watch.add(s),le(r,s))):(n&&(e.watchAll=!0),r),UP=t=>Br(t)||!uK(t);function Kn(t,e,r=new WeakSet){if(UP(t)||UP(e))return Object.is(t,e);if(Ta(t)&&Ta(e))return t.getTime()===e.getTime();const n=Object.keys(t),i=Object.keys(e);if(n.length!==i.length)return!1;if(r.has(t)||r.has(e))return!0;r.add(t),r.add(e);for(const s of n){const a=t[s];if(!i.includes(s))return!1;if(s!=="ref"){const o=e[s];if(Ta(a)&&Ta(o)||jt(a)&&jt(o)||Array.isArray(a)&&Array.isArray(o)?!Kn(a,o,r):!Object.is(a,o))return!1}}return!0}function one(t){const e=_T(),{control:r=e.control,name:n,defaultValue:i,disabled:s,exact:a,compute:o}=t||{},l=Ce.useRef(i),u=Ce.useRef(o),d=Ce.useRef(void 0),h=Ce.useRef(r),f=Ce.useRef(n);u.current=o;const[p,m]=Ce.useState(()=>{const w=r._getWatch(n,l.current);return u.current?u.current(w):w}),y=Ce.useCallback(w=>{const _=zP(n,r._names,w||r._formValues,!1,l.current);return u.current?u.current(_):_},[r._formValues,r._names,n]),b=Ce.useCallback(w=>{if(!s){const _=zP(n,r._names,w||r._formValues,!1,l.current);if(u.current){const E=u.current(_);Kn(E,d.current)||(m(E),d.current=E)}else m(_)}},[r._formValues,r._names,s,n]);ST(()=>((h.current!==r||!Kn(f.current,n))&&(h.current=r,f.current=n,b()),r._subscribe({name:n,formState:{values:!0},exact:a,callback:w=>{b(w.values)}})),[r,a,n,b]),Ce.useEffect(()=>r._removeUnmounted());const g=h.current!==r,v=f.current,x=Ce.useMemo(()=>{if(s)return null;const w=!g&&!Kn(v,n);return g||w?y():null},[s,g,n,v,y]);return x!==null?x:p}function lne(t){const e=_T(),{name:r,disabled:n,control:i=e.control,shouldUnregister:s,defaultValue:a,exact:o=!0}=t,l=dK(i._names.array,r),u=Ce.useMemo(()=>le(i._formValues,r,le(i._defaultValues,r,a)),[i,r,a]),d=one({control:i,name:r,defaultValue:u,exact:o}),h=ane({control:i,name:r,exact:o}),f=Ce.useRef(t),p=Ce.useRef(void 0),m=Ce.useRef(i.register(r,{...t.rules,value:d,...un(t.disabled)?{disabled:t.disabled}:{}}));f.current=t;const y=Ce.useMemo(()=>Object.defineProperties({},{invalid:{enumerable:!0,get:()=>!!le(h.errors,r)},isDirty:{enumerable:!0,get:()=>!!le(h.dirtyFields,r)},isTouched:{enumerable:!0,get:()=>!!le(h.touchedFields,r)},isValidating:{enumerable:!0,get:()=>!!le(h.validatingFields,r)},error:{enumerable:!0,get:()=>le(h.errors,r)}}),[h,r]),b=Ce.useCallback(w=>m.current.onChange({target:{value:cK(w),name:r},type:Bf.CHANGE}),[r]),g=Ce.useCallback(()=>m.current.onBlur({target:{value:le(i._formValues,r),name:r},type:Bf.BLUR}),[r,i._formValues]),v=Ce.useCallback(w=>{const _=le(i._fields,r);_&&_._f&&w&&(_._f.ref={focus:()=>Ir(w.focus)&&w.focus(),select:()=>Ir(w.select)&&w.select(),setCustomValidity:E=>Ir(w.setCustomValidity)&&w.setCustomValidity(E),reportValidity:()=>Ir(w.reportValidity)&&w.reportValidity()})},[i._fields,r]),x=Ce.useMemo(()=>({name:r,value:d,...un(n)||h.disabled?{disabled:h.disabled||n}:{},onChange:b,onBlur:g,ref:v}),[r,n,h.disabled,b,g,v,d]);return Ce.useEffect(()=>{const w=i._options.shouldUnregister||s,_=p.current;_&&_!==r&&!l&&i.unregister(_),i.register(r,{...f.current.rules,...un(f.current.disabled)?{disabled:f.current.disabled}:{}});const E=(O,S)=>{const P=le(i._fields,O);P&&P._f&&(P._f.mount=S)};if(E(r,!0),w){const O=zt(le(i._options.defaultValues,r,f.current.defaultValue));Je(i._defaultValues,r,O),_t(le(i._formValues,r))&&Je(i._formValues,r,O)}return!l&&i.register(r),p.current=r,()=>{(l?w&&!i._state.action:w)?i.unregister(r):E(r,!1)}},[r,i,l,s]),Ce.useEffect(()=>{i._setDisabledField({disabled:n,name:r})},[n,r,i]),Ce.useMemo(()=>({field:x,formState:h,fieldState:y}),[x,h,y])}const zf=t=>t.render(lne(t));var une=(t,e,r,n,i)=>e?{...r[t],types:{...r[t]&&r[t].types?r[t].types:{},[n]:i||!0}}:{},xc=t=>Array.isArray(t)?t:[t],FR=()=>{let t=[];return{get observers(){return t},next:i=>{for(const s of t)s.next&&s.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(s=>s!==i)}}),unsubscribe:()=>{t=[]}}};function pK(t,e){const r={};for(const n in t)if(t.hasOwnProperty(n)){const i=t[n],s=e[n];if(i&&jt(i)&&s){const a=pK(i,s);jt(a)&&(r[n]=a)}else t[n]&&(r[n]=s)}return r}var Or=t=>jt(t)&&!Object.keys(t).length,ET=t=>t.type==="file",Uf=t=>{if(!bT)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},mK=t=>t.type==="select-multiple",OT=t=>t.type==="radio",cne=t=>OT(t)||Nd(t),Hm=t=>Uf(t)&&t.isConnected;function dne(t,e){const r=e.slice(0,-1).length;let n=0;for(;n<r;)t=_t(t)?n++:t[e[n++]];return t}function hne(t){for(const e in t)if(t.hasOwnProperty(e)&&!_t(t[e]))return!1;return!0}function Nt(t,e){const r=Array.isArray(e)?e:Ip(e)?[e]:xT(e),n=r.length===1?t:dne(t,r),i=r.length-1,s=r[i];return n&&delete n[s],i!==0&&(jt(n)&&Or(n)||Array.isArray(n)&&hne(n))&&Nt(t,r.slice(0,-1)),t}var fne=t=>{for(const e in t)if(Ir(t[e]))return!0;return!1};function vK(t){return Array.isArray(t)||jt(t)&&!fne(t)}function WP(t,e={}){for(const r in t){const n=t[r];vK(n)?(e[r]=Array.isArray(n)?[]:{},WP(n,e[r])):_t(n)||(e[r]=!0)}return e}function Ko(t,e,r){r||(r=WP(e));for(const n in t){const i=t[n];if(vK(i))_t(e)||UP(r[n])?r[n]=WP(i,Array.isArray(i)?[]:{}):Ko(i,Br(e)?{}:e[n],r[n]);else{const s=e[n];r[n]=!Kn(i,s)}}return r}const LR={value:!1,isValid:!1},BR={value:!0,isValid:!0};var gK=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(r=>r&&r.checked&&!r.disabled).map(r=>r.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!_t(t[0].attributes.value)?_t(t[0].value)||t[0].value===""?BR:{value:t[0].value,isValid:!0}:BR:LR}return LR},yK=(t,{valueAsNumber:e,valueAsDate:r,setValueAs:n})=>_t(t)?t:e?t===""?NaN:t&&+t:r&&cn(t)?new Date(t):n?n(t):t;const zR={isValid:!1,value:null};var bK=t=>Array.isArray(t)?t.reduce((e,r)=>r&&r.checked&&!r.disabled?{isValid:!0,value:r.value}:e,zR):zR;function UR(t){const e=t.ref;return ET(e)?e.files:OT(e)?bK(t.refs).value:mK(e)?[...e.selectedOptions].map(({value:r})=>r):Nd(e)?gK(t.refs).value:yK(_t(e.value)?t.ref.value:e.value,t)}var pne=(t,e,r,n)=>{const i={};for(const s of t){const a=le(e,s);a&&Je(i,s,a._f)}return{criteriaMode:r,names:[...t],fields:i,shouldUseNativeValidation:n}},Wf=t=>t instanceof RegExp,ec=t=>_t(t)?t:Wf(t)?t.source:jt(t)?Wf(t.value)?t.value.source:t.value:t,WR=t=>({isOnSubmit:!t||t===Vn.onSubmit,isOnBlur:t===Vn.onBlur,isOnChange:t===Vn.onChange,isOnAll:t===Vn.all,isOnTouch:t===Vn.onTouched});const HR="AsyncFunction";var mne=t=>!!t&&!!t.validate&&!!(Ir(t.validate)&&t.validate.constructor.name===HR||jt(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===HR)),vne=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),VR=(t,e,r)=>!r&&(e.watchAll||e.watch.has(t)||[...e.watch].some(n=>t.startsWith(n)&&/^\.\w+/.test(t.slice(n.length))));const _c=(t,e,r,n)=>{for(const i of r||Object.keys(t)){const s=le(t,i);if(s){const{_f:a,...o}=s;if(a){if(a.refs&&a.refs[0]&&e(a.refs[0],i)&&!n)return!0;if(a.ref&&e(a.ref,a.name)&&!n)return!0;if(_c(o,e))break}else if(jt(o)&&_c(o,e))break}}};function KR(t,e,r){const n=le(t,r);if(n||Ip(r))return{error:n,name:r};const i=r.split(".");for(;i.length;){const s=i.join("."),a=le(e,s),o=le(t,s);if(a&&!Array.isArray(a)&&r!==s)return{name:r};if(o&&o.type)return{name:s,error:o};if(o&&o.root&&o.root.type)return{name:`${s}.root`,error:o.root};i.pop()}return{name:r}}var gne=(t,e,r,n)=>{r(t);const{name:i,...s}=t;return Or(s)||Object.keys(s).length>=Object.keys(e).length||Object.keys(s).find(a=>e[a]===(!n||Vn.all))},yne=(t,e,r)=>!t||!e||t===e||xc(t).some(n=>n&&(r?n===e:n.startsWith(e)||e.startsWith(n))),bne=(t,e,r,n,i)=>i.isOnAll?!1:!r&&i.isOnTouch?!(e||t):(r?n.isOnBlur:i.isOnBlur)?!t:(r?n.isOnChange:i.isOnChange)?t:!0,wne=(t,e)=>!wT(le(t,e)).length&&Nt(t,e),xne=(t,e,r)=>{const n=xc(le(t,r));return Je(n,"root",e[r]),Je(t,r,n),t};function GR(t,e,r="validate"){if(cn(t)||Array.isArray(t)&&t.every(cn)||un(t)&&!t)return{type:r,message:cn(t)?t:"",ref:e}}var Uo=t=>jt(t)&&!Wf(t)?t:{value:t,message:""},YR=async(t,e,r,n,i,s)=>{const{ref:a,refs:o,required:l,maxLength:u,minLength:d,min:h,max:f,pattern:p,validate:m,name:y,valueAsNumber:b,mount:g}=t._f,v=le(r,y);if(!g||e.has(y))return{};const x=o?o[0]:a,w=T=>{i&&x.reportValidity&&(x.setCustomValidity(un(T)?"":T||""),x.reportValidity())},_={},E=OT(a),O=Nd(a),S=E||O,P=(b||ET(a))&&_t(a.value)&&_t(v)||Uf(a)&&a.value===""||v===""||Array.isArray(v)&&!v.length,C=une.bind(null,y,n,_),I=(T,N,q,z=Pi.maxLength,te=Pi.minLength)=>{const K=T?N:q;_[y]={type:T?z:te,message:K,ref:a,...C(T?z:te,K)}};if(s?!Array.isArray(v)||!v.length:l&&(!S&&(P||Br(v))||un(v)&&!v||O&&!gK(o).isValid||E&&!bK(o).isValid)){const{value:T,message:N}=cn(l)?{value:!!l,message:l}:Uo(l);if(T&&(_[y]={type:Pi.required,message:N,ref:x,...C(Pi.required,N)},!n))return w(N),_}if(!P&&(!Br(h)||!Br(f))){let T,N;const q=Uo(f),z=Uo(h);if(!Br(v)&&!isNaN(v)){const te=a.valueAsNumber||v&&+v;Br(q.value)||(T=te>q.value),Br(z.value)||(N=te<z.value)}else{const te=a.valueAsDate||new Date(v),K=U=>new Date(new Date().toDateString()+" "+U),L=a.type=="time",V=a.type=="week";cn(q.value)&&v&&(T=L?K(v)>K(q.value):V?v>q.value:te>new Date(q.value)),cn(z.value)&&v&&(N=L?K(v)<K(z.value):V?v<z.value:te<new Date(z.value))}if((T||N)&&(I(!!T,q.message,z.message,Pi.max,Pi.min),!n))return w(_[y].message),_}if((u||d)&&!P&&(cn(v)||s&&Array.isArray(v))){const T=Uo(u),N=Uo(d),q=!Br(T.value)&&v.length>+T.value,z=!Br(N.value)&&v.length<+N.value;if((q||z)&&(I(q,T.message,N.message),!n))return w(_[y].message),_}if(p&&!P&&cn(v)){const{value:T,message:N}=Uo(p);if(Wf(T)&&!v.match(T)&&(_[y]={type:Pi.pattern,message:N,ref:a,...C(Pi.pattern,N)},!n))return w(N),_}if(m){if(Ir(m)){const T=await m(v,r),N=GR(T,x);if(N&&(_[y]={...N,...C(Pi.validate,N.message)},!n))return w(N.message),_}else if(jt(m)){let T={};for(const N in m){if(!Or(T)&&!n)break;const q=GR(await m[N](v,r),x,N);q&&(T={...q,...C(N,q.message)},w(q.message),n&&(_[y]=T))}if(!Or(T)&&(_[y]={ref:x,...T},!n))return _}}return w(!0),_};const _ne={mode:Vn.onSubmit,reValidateMode:Vn.onChange,shouldFocusError:!0};function Sne(t={}){let e={..._ne,...t},r={submitCount:0,isDirty:!1,isReady:!1,isLoading:Ir(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1},n={},i=jt(e.defaultValues)||jt(e.values)?zt(e.defaultValues||e.values)||{}:{},s=e.shouldUnregister?{}:zt(i),a={action:!1,mount:!1,watch:!1,keepIsValid:!1},o={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},l,u=0;const d={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1},h={...d};let f={...h};const p={array:FR(),state:FR()},m=e.criteriaMode===Vn.all,y=j=>D=>{clearTimeout(u),u=setTimeout(j,D)},b=async j=>{if(!a.keepIsValid&&!e.disabled&&(h.isValid||f.isValid||j)){let D;e.resolver?(D=Or((await S()).errors),g()):D=await C(n,!0),D!==r.isValid&&p.state.next({isValid:D})}},g=(j,D)=>{!e.disabled&&(h.isValidating||h.validatingFields||f.isValidating||f.validatingFields)&&((j||Array.from(o.mount)).forEach(F=>{F&&(D?Je(r.validatingFields,F,D):Nt(r.validatingFields,F))}),p.state.next({validatingFields:r.validatingFields,isValidating:!Or(r.validatingFields)}))},v=(j,D=[],F,ae,re=!0,Y=!0)=>{if(ae&&F&&!e.disabled){if(a.action=!0,Y&&Array.isArray(le(n,j))){const de=F(le(n,j),ae.argA,ae.argB);re&&Je(n,j,de)}if(Y&&Array.isArray(le(r.errors,j))){const de=F(le(r.errors,j),ae.argA,ae.argB);re&&Je(r.errors,j,de),wne(r.errors,j)}if((h.touchedFields||f.touchedFields)&&Y&&Array.isArray(le(r.touchedFields,j))){const de=F(le(r.touchedFields,j),ae.argA,ae.argB);re&&Je(r.touchedFields,j,de)}(h.dirtyFields||f.dirtyFields)&&(r.dirtyFields=Ko(i,s)),p.state.next({name:j,isDirty:T(j,D),dirtyFields:r.dirtyFields,errors:r.errors,isValid:r.isValid})}else Je(s,j,D)},x=(j,D)=>{Je(r.errors,j,D),p.state.next({errors:r.errors})},w=j=>{r.errors=j,p.state.next({errors:r.errors,isValid:!1})},_=(j,D,F,ae)=>{const re=le(n,j);if(re){const Y=le(s,j,_t(F)?le(i,j):F);_t(Y)||ae&&ae.defaultChecked||D?Je(s,j,D?Y:UR(re._f)):z(j,Y),a.mount&&!a.action&&b()}},E=(j,D,F,ae,re)=>{let Y=!1,de=!1;const Ie={name:j};if(!e.disabled){if(!F||ae){(h.isDirty||f.isDirty)&&(de=r.isDirty,r.isDirty=Ie.isDirty=T(),Y=de!==Ie.isDirty);const k=Kn(le(i,j),D);de=!!le(r.dirtyFields,j),k?Nt(r.dirtyFields,j):Je(r.dirtyFields,j,!0),Ie.dirtyFields=r.dirtyFields,Y=Y||(h.dirtyFields||f.dirtyFields)&&de!==!k}if(F){const k=le(r.touchedFields,j);k||(Je(r.touchedFields,j,F),Ie.touchedFields=r.touchedFields,Y=Y||(h.touchedFields||f.touchedFields)&&k!==F)}Y&&re&&p.state.next(Ie)}return Y?Ie:{}},O=(j,D,F,ae)=>{const re=le(r.errors,j),Y=(h.isValid||f.isValid)&&un(D)&&r.isValid!==D;if(e.delayError&&F?(l=y(()=>x(j,F)),l(e.delayError)):(clearTimeout(u),l=null,F?Je(r.errors,j,F):Nt(r.errors,j)),(F?!Kn(re,F):re)||!Or(ae)||Y){const de={...ae,...Y&&un(D)?{isValid:D}:{},errors:r.errors,name:j};r={...r,...de},p.state.next(de)}},S=async j=>(g(j,!0),await e.resolver(s,e.context,pne(j||o.mount,n,e.criteriaMode,e.shouldUseNativeValidation))),P=async j=>{const{errors:D}=await S(j);if(g(j),j)for(const F of j){const ae=le(D,F);ae?Je(r.errors,F,ae):Nt(r.errors,F)}else r.errors=D;return D},C=async(j,D,F={valid:!0})=>{for(const ae in j){const re=j[ae];if(re){const{_f:Y,...de}=re;if(Y){const Ie=o.array.has(Y.name),k=re._f&&mne(re._f);k&&h.validatingFields&&g([Y.name],!0);const ne=await YR(re,o.disabled,s,m,e.shouldUseNativeValidation&&!D,Ie);if(k&&h.validatingFields&&g([Y.name]),ne[Y.name]&&(F.valid=!1,D))break;!D&&(le(ne,Y.name)?Ie?xne(r.errors,ne,Y.name):Je(r.errors,Y.name,ne[Y.name]):Nt(r.errors,Y.name))}!Or(de)&&await C(de,D,F)}}return F.valid},I=()=>{for(const j of o.unMount){const D=le(n,j);D&&(D._f.refs?D._f.refs.every(F=>!Hm(F)):!Hm(D._f.ref))&&Pe(j)}o.unMount=new Set},T=(j,D)=>!e.disabled&&(j&&D&&Je(s,j,D),!Kn(W(),i)),N=(j,D,F)=>zP(j,o,{...a.mount?s:_t(D)?i:cn(j)?{[j]:D}:D},F,D),q=j=>wT(le(a.mount?s:i,j,e.shouldUnregister?le(i,j,[]):[])),z=(j,D,F={})=>{const ae=le(n,j);let re=D;if(ae){const Y=ae._f;Y&&(!Y.disabled&&Je(s,j,yK(D,Y)),re=Uf(Y.ref)&&Br(D)?"":D,mK(Y.ref)?[...Y.ref.options].forEach(de=>de.selected=re.includes(de.value)):Y.refs?Nd(Y.ref)?Y.refs.forEach(de=>{(!de.defaultChecked||!de.disabled)&&(Array.isArray(re)?de.checked=!!re.find(Ie=>Ie===de.value):de.checked=re===de.value||!!re)}):Y.refs.forEach(de=>de.checked=de.value===re):ET(Y.ref)?Y.ref.value="":(Y.ref.value=re,Y.ref.type||p.state.next({name:j,values:zt(s)})))}(F.shouldDirty||F.shouldTouch)&&E(j,re,F.shouldTouch,F.shouldDirty,!0),F.shouldValidate&&U(j)},te=(j,D,F)=>{for(const ae in D){if(!D.hasOwnProperty(ae))return;const re=D[ae],Y=j+"."+ae,de=le(n,Y);(o.array.has(j)||jt(re)||de&&!de._f)&&!Ta(re)?te(Y,re,F):z(Y,re,F)}},K=(j,D,F={})=>{const ae=le(n,j),re=o.array.has(j),Y=zt(D);Je(s,j,Y),re?(p.array.next({name:j,values:zt(s)}),(h.isDirty||h.dirtyFields||f.isDirty||f.dirtyFields)&&F.shouldDirty&&p.state.next({name:j,dirtyFields:Ko(i,s),isDirty:T(j,Y)})):ae&&!ae._f&&!Br(Y)?te(j,Y,F):z(j,Y,F),VR(j,o)&&p.state.next({...r,name:j}),p.state.next({name:a.mount?j:void 0,values:zt(s)})},L=async j=>{a.mount=!0;const D=j.target;let F=D.name,ae=!0;const re=le(n,F),Y=k=>{ae=Number.isNaN(k)||Ta(k)&&isNaN(k.getTime())||Kn(k,le(s,F,k))},de=WR(e.mode),Ie=WR(e.reValidateMode);if(re){let k,ne;const H=D.type?UR(re._f):cK(j),B=j.type===Bf.BLUR||j.type===Bf.FOCUS_OUT,G=!vne(re._f)&&!e.resolver&&!le(r.errors,F)&&!re._f.deps||bne(B,le(r.touchedFields,F),r.isSubmitted,Ie,de),X=VR(F,o,B);Je(s,F,H),B?(!D||!D.readOnly)&&(re._f.onBlur&&re._f.onBlur(j),l&&l(0)):re._f.onChange&&re._f.onChange(j);const oe=E(F,H,B),$e=!Or(oe)||X;if(!B&&p.state.next({name:F,type:j.type,values:zt(s)}),G)return(h.isValid||f.isValid)&&(e.mode==="onBlur"?B&&b():B||b()),$e&&p.state.next({name:F,...X?{}:oe});if(!B&&X&&p.state.next({...r}),e.resolver){const{errors:Ar}=await S([F]);if(g([F]),Y(H),ae){const ir=KR(r.errors,n,F),ii=KR(Ar,n,ir.name||F);k=ii.error,F=ii.name,ne=Or(Ar)}}else g([F],!0),k=(await YR(re,o.disabled,s,m,e.shouldUseNativeValidation))[F],g([F]),Y(H),ae&&(k?ne=!1:(h.isValid||f.isValid)&&(ne=await C(n,!0)));ae&&(re._f.deps&&(!Array.isArray(re._f.deps)||re._f.deps.length>0)&&U(re._f.deps),O(F,ne,k,oe))}},V=(j,D)=>{if(le(r.errors,D)&&j.focus)return j.focus(),1},U=async(j,D={})=>{let F,ae;const re=xc(j);if(e.resolver){const Y=await P(_t(j)?j:re);F=Or(Y),ae=j?!re.some(de=>le(Y,de)):F}else j?(ae=(await Promise.all(re.map(async Y=>{const de=le(n,Y);return await C(de&&de._f?{[Y]:de}:de)}))).every(Boolean),!(!ae&&!r.isValid)&&b()):ae=F=await C(n);return p.state.next({...!cn(j)||(h.isValid||f.isValid)&&F!==r.isValid?{}:{name:j},...e.resolver||!j?{isValid:F}:{},errors:r.errors}),D.shouldFocus&&!ae&&_c(n,V,j?re:o.mount),ae},W=(j,D)=>{let F={...a.mount?s:i};return D&&(F=pK(D.dirtyFields?r.dirtyFields:r.touchedFields,F)),_t(j)?F:cn(j)?le(F,j):j.map(ae=>le(F,ae))},ee=(j,D)=>({invalid:!!le((D||r).errors,j),isDirty:!!le((D||r).dirtyFields,j),error:le((D||r).errors,j),isValidating:!!le(r.validatingFields,j),isTouched:!!le((D||r).touchedFields,j)}),fe=j=>{j&&xc(j).forEach(D=>Nt(r.errors,D)),p.state.next({errors:j?r.errors:{}})},ve=(j,D,F)=>{const ae=(le(n,j,{_f:{}})._f||{}).ref,re=le(r.errors,j)||{},{ref:Y,message:de,type:Ie,...k}=re;Je(r.errors,j,{...k,...D,ref:ae}),p.state.next({name:j,errors:r.errors,isValid:!1}),F&&F.shouldFocus&&ae&&ae.focus&&ae.focus()},qe=(j,D)=>Ir(j)?p.state.subscribe({next:F=>"values"in F&&j(N(void 0,D),F)}):N(j,D,!0),be=j=>p.state.subscribe({next:D=>{yne(j.name,D.name,j.exact)&&gne(D,j.formState||h,Bt,j.reRenderRoot)&&j.callback({values:{...s},...r,...D,defaultValues:i})}}).unsubscribe,Se=j=>(a.mount=!0,f={...f,...j.formState},be({...j,formState:{...d,...j.formState}})),Pe=(j,D={})=>{for(const F of j?xc(j):o.mount)o.mount.delete(F),o.array.delete(F),D.keepValue||(Nt(n,F),Nt(s,F)),!D.keepError&&Nt(r.errors,F),!D.keepDirty&&Nt(r.dirtyFields,F),!D.keepTouched&&Nt(r.touchedFields,F),!D.keepIsValidating&&Nt(r.validatingFields,F),!e.shouldUnregister&&!D.keepDefaultValue&&Nt(i,F);p.state.next({values:zt(s)}),p.state.next({...r,...D.keepDirty?{isDirty:T()}:{}}),!D.keepIsValid&&b()},ct=({disabled:j,name:D})=>{(un(j)&&a.mount||j||o.disabled.has(D))&&(j?o.disabled.add(D):o.disabled.delete(D))},Ke=(j,D={})=>{let F=le(n,j);const ae=un(D.disabled)||un(e.disabled);return Je(n,j,{...F||{},_f:{...F&&F._f?F._f:{ref:{name:j}},name:j,mount:!0,...D}}),o.mount.add(j),F?ct({disabled:un(D.disabled)?D.disabled:e.disabled,name:j}):_(j,!0,D.value),{...ae?{disabled:D.disabled||e.disabled}:{},...e.progressive?{required:!!D.required,min:ec(D.min),max:ec(D.max),minLength:ec(D.minLength),maxLength:ec(D.maxLength),pattern:ec(D.pattern)}:{},name:j,onChange:L,onBlur:L,ref:re=>{if(re){Ke(j,D),F=le(n,j);const Y=_t(re.value)&&re.querySelectorAll&&re.querySelectorAll("input,select,textarea")[0]||re,de=cne(Y),Ie=F._f.refs||[];if(de?Ie.find(k=>k===Y):Y===F._f.ref)return;Je(n,j,{_f:{...F._f,...de?{refs:[...Ie.filter(Hm),Y,...Array.isArray(le(i,j))?[{}]:[]],ref:{type:Y.type,name:j}}:{ref:Y}}}),_(j,!1,void 0,Y)}else F=le(n,j,{}),F._f&&(F._f.mount=!1),(e.shouldUnregister||D.shouldUnregister)&&!(dK(o.array,j)&&a.action)&&o.unMount.add(j)}}},Lt=()=>e.shouldFocusError&&_c(n,V,o.mount),nr=j=>{un(j)&&(p.state.next({disabled:j}),_c(n,(D,F)=>{const ae=le(n,F);ae&&(D.disabled=ae._f.disabled||j,Array.isArray(ae._f.refs)&&ae._f.refs.forEach(re=>{re.disabled=ae._f.disabled||j}))},0,!1))},nt=(j,D)=>async F=>{let ae;F&&(F.preventDefault&&F.preventDefault(),F.persist&&F.persist());let re=zt(s);if(p.state.next({isSubmitting:!0}),e.resolver){const{errors:Y,values:de}=await S();g(),r.errors=Y,re=zt(de)}else await C(n);if(o.disabled.size)for(const Y of o.disabled)Nt(re,Y);if(Nt(r.errors,"root"),Or(r.errors)){p.state.next({errors:{}});try{await j(re,F)}catch(Y){ae=Y}}else D&&await D({...r.errors},F),Lt(),setTimeout(Lt);if(p.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Or(r.errors)&&!ae,submitCount:r.submitCount+1,errors:r.errors}),ae)throw ae},_r=(j,D={})=>{le(n,j)&&(_t(D.defaultValue)?K(j,zt(le(i,j))):(K(j,D.defaultValue),Je(i,j,zt(D.defaultValue))),D.keepTouched||Nt(r.touchedFields,j),D.keepDirty||(Nt(r.dirtyFields,j),r.isDirty=D.defaultValue?T(j,zt(le(i,j))):T()),D.keepError||(Nt(r.errors,j),h.isValid&&b()),p.state.next({...r}))},at=(j,D={})=>{const F=j?zt(j):i,ae=zt(F),re=Or(j),Y=re?i:ae;if(D.keepDefaultValues||(i=F),!D.keepValues){if(D.keepDirtyValues){const de=new Set([...o.mount,...Object.keys(Ko(i,s))]);for(const Ie of Array.from(de))le(r.dirtyFields,Ie)?Je(Y,Ie,le(s,Ie)):K(Ie,le(Y,Ie))}else{if(bT&&_t(j))for(const de of o.mount){const Ie=le(n,de);if(Ie&&Ie._f){const k=Array.isArray(Ie._f.refs)?Ie._f.refs[0]:Ie._f.ref;if(Uf(k)){const ne=k.closest("form");if(ne){ne.reset();break}}}}if(D.keepFieldsRef)for(const de of o.mount)K(de,le(Y,de));else n={}}s=e.shouldUnregister?D.keepDefaultValues?zt(i):{}:zt(Y),p.array.next({values:{...Y}}),p.state.next({values:{...Y}})}o={mount:D.keepDirtyValues?o.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},a.mount=!h.isValid||!!D.keepIsValid||!!D.keepDirtyValues||!e.shouldUnregister&&!Or(Y),a.watch=!!e.shouldUnregister,a.keepIsValid=!!D.keepIsValid,a.action=!1,D.keepErrors||(r.errors={}),p.state.next({submitCount:D.keepSubmitCount?r.submitCount:0,isDirty:re?!1:D.keepDirty?r.isDirty:!!(D.keepDefaultValues&&!Kn(j,i)),isSubmitted:D.keepIsSubmitted?r.isSubmitted:!1,dirtyFields:re?{}:D.keepDirtyValues?D.keepDefaultValues&&s?Ko(i,s):r.dirtyFields:D.keepDefaultValues&&j?Ko(i,j):D.keepDirty?r.dirtyFields:{},touchedFields:D.keepTouched?r.touchedFields:{},errors:D.keepErrors?r.errors:{},isSubmitSuccessful:D.keepIsSubmitSuccessful?r.isSubmitSuccessful:!1,isSubmitting:!1,defaultValues:i})},Mr=(j,D)=>at(Ir(j)?j(s):j,{...e.resetOptions,...D}),Ge=(j,D={})=>{const F=le(n,j),ae=F&&F._f;if(ae){const re=ae.refs?ae.refs[0]:ae.ref;re.focus&&setTimeout(()=>{re.focus(),D.shouldSelect&&Ir(re.select)&&re.select()})}},Bt=j=>{r={...r,...j}},an={control:{register:Ke,unregister:Pe,getFieldState:ee,handleSubmit:nt,setError:ve,_subscribe:be,_runSchema:S,_updateIsValidating:g,_focusError:Lt,_getWatch:N,_getDirty:T,_setValid:b,_setFieldArray:v,_setDisabledField:ct,_setErrors:w,_getFieldArray:q,_reset:at,_resetDefaultValues:()=>Ir(e.defaultValues)&&e.defaultValues().then(j=>{Mr(j,e.resetOptions),p.state.next({isLoading:!1})}),_removeUnmounted:I,_disableForm:nr,_subjects:p,_proxyFormState:h,get _fields(){return n},get _formValues(){return s},get _state(){return a},set _state(j){a=j},get _defaultValues(){return i},get _names(){return o},set _names(j){o=j},get _formState(){return r},get _options(){return e},set _options(j){e={...e,...j}}},subscribe:Se,trigger:U,register:Ke,handleSubmit:nt,watch:qe,setValue:K,getValues:W,reset:Mr,resetField:_r,clearErrors:fe,unregister:Pe,setError:ve,setFocus:Ge,getFieldState:ee};return{...an,formControl:an}}function mu(t={}){const e=Ce.useRef(void 0),r=Ce.useRef(void 0),[n,i]=Ce.useState({isDirty:!1,isValidating:!1,isLoading:Ir(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,isReady:!1,defaultValues:Ir(t.defaultValues)?void 0:t.defaultValues});if(!e.current)if(t.formControl)e.current={...t.formControl,formState:n},t.defaultValues&&!Ir(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions);else{const{formControl:a,...o}=Sne(t);e.current={...o,formState:n}}const s=e.current.control;return s._options=t,ST(()=>{const a=s._subscribe({formState:s._proxyFormState,callback:()=>i({...s._formState}),reRenderRoot:!0});return i(o=>({...o,isReady:!0})),s._formState.isReady=!0,a},[s]),Ce.useEffect(()=>s._disableForm(t.disabled),[s,t.disabled]),Ce.useEffect(()=>{t.mode&&(s._options.mode=t.mode),t.reValidateMode&&(s._options.reValidateMode=t.reValidateMode)},[s,t.mode,t.reValidateMode]),Ce.useEffect(()=>{t.errors&&(s._setErrors(t.errors),s._focusError())},[s,t.errors]),Ce.useEffect(()=>{t.shouldUnregister&&s._subjects.state.next({values:s._getWatch()})},[s,t.shouldUnregister]),Ce.useEffect(()=>{if(s._proxyFormState.isDirty){const a=s._getDirty();a!==n.isDirty&&s._subjects.state.next({isDirty:a})}},[s,n.isDirty]),Ce.useEffect(()=>{var a;t.values&&!Kn(t.values,r.current)?(s._reset(t.values,{keepFieldsRef:!0,...s._options.resetOptions}),!((a=s._options.resetOptions)===null||a===void 0)&&a.keepIsValid||s._setValid(),r.current=t.values,i(o=>({...o}))):s._resetDefaultValues()},[s,t.values]),Ce.useEffect(()=>{s._state.mount||(s._setValid(),s._state.mount=!0),s._state.watch&&(s._state.watch=!1,s._subjects.state.next({...s._formState})),s._removeUnmounted()}),e.current.formState=fK(n,s),e.current}function QR(){var y;const{id:t}=is(),e=en(),r=!!t,{data:n,isLoading:i}=pu(t),s=Kre(),a=Td(),{data:o=[]}=pt({queryKey:["date-types"],queryFn:async()=>(await Le.getDateTypes()).data}),l=o.find(b=>b.slug==="birthday"||b.name.toLowerCase()==="birthday"),{register:u,handleSubmit:d,reset:h,formState:{errors:f,isSubmitting:p}}=mu({defaultValues:{first_name:"",last_name:"",nickname:"",gender:"",email:"",how_we_met:"",is_favorite:!1,birthday:""}});$.useEffect(()=>{var b,g,v,x,w,_,E,O;if(n){const S=(g=(b=n.acf)==null?void 0:b.contact_info)==null?void 0:g.find(C=>C.contact_type==="email"),P=(S==null?void 0:S.contact_value)||"";h({first_name:((v=n.acf)==null?void 0:v.first_name)||"",last_name:((x=n.acf)==null?void 0:x.last_name)||"",nickname:((w=n.acf)==null?void 0:w.nickname)||"",gender:((_=n.acf)==null?void 0:_.gender)||"",email:P,how_we_met:((E=n.acf)==null?void 0:E.how_we_met)||"",is_favorite:((O=n.acf)==null?void 0:O.is_favorite)||!1,birthday:""})}},[n,h]),ei(r&&n?`Edit ${((y=n.title)==null?void 0:y.rendered)||n.title||"Person"}`:"New Person");const m=async b=>{try{const v=`${b.first_name||""} ${b.last_name||""}`.trim()||"Unnamed Person",x={title:v,status:"publish",acf:{first_name:b.first_name,last_name:b.last_name,nickname:b.nickname,gender:b.gender||null,how_we_met:b.how_we_met,is_favorite:b.is_favorite}};if(!r&&b.email&&(x.acf.contact_info=[{contact_type:"email",contact_value:b.email,contact_label:""}]),r)x.title=v,await a.mutateAsync({id:t,data:x}),e(`/people/${t}`);else{const _=(await s.mutateAsync(x)).data.id;if(b.email)try{await Xr.sideloadGravatar(_,b.email)}catch(E){console.error("Failed to load Gravatar:",E)}if(b.birthday&&l)try{const E=b.first_name||"Person";await Le.createDate({title:`${E}'s Birthday`,status:"publish",date_type:[l.id],acf:{date_value:b.birthday,is_recurring:!0,related_people:[_],reminder_days_before:7}})}catch(E){console.error("Failed to create birthday:",E)}e(`/people/${_}`)}}catch(g){console.error("Failed to save person:",g)}};return r&&i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(me,{to:"/people",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to People"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:r?"Edit Person":"Add New Person"}),c.jsxs("form",{onSubmit:d(m),className:"space-y-6",children:[c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"First Name *"}),c.jsx("input",{...u("first_name",{required:"First name is required"}),className:"input",placeholder:"John"}),f.first_name&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:f.first_name.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Last Name"}),c.jsx("input",{...u("last_name"),className:"input",placeholder:"Doe"})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Nickname"}),c.jsx("input",{...u("nickname"),className:"input",placeholder:"Johnny"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Gender"}),c.jsxs("select",{...u("gender"),className:"input",children:[c.jsx("option",{value:"",children:"Select gender..."}),c.jsx("option",{value:"male",children:"Male"}),c.jsx("option",{value:"female",children:"Female"}),c.jsx("option",{value:"non_binary",children:"Non-binary"}),c.jsx("option",{value:"other",children:"Other"}),c.jsx("option",{value:"prefer_not_to_say",children:"Prefer not to say"})]})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Email"}),c.jsx("input",{type:"email",...u("email"),className:"input",placeholder:"john@example.com"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: If a Gravatar is associated with this email, it will be automatically set as the profile photo"})]}),!r&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Birthday"}),c.jsx("input",{type:"date",...u("birthday"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set their birthday when creating a new person"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"How We Met"}),c.jsx("textarea",{...u("how_we_met"),className:"input",rows:4,placeholder:"We met at..."})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...u("is_favorite"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Mark as favorite"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(me,{to:"/people",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:p,children:[p?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),r?"Save Changes":"Create Person"]})]})]})]})]})}function Ene({value:t,onChange:e,companies:r,isLoading:n}){return c.jsxs("select",{value:t||"",onChange:i=>e(i.target.value?parseInt(i.target.value,10):null),className:"input",disabled:n,children:[c.jsx("option",{value:"",children:"Select a company..."}),r.map(i=>{var s;return c.jsx("option",{value:i.id,children:((s=i.title)==null?void 0:s.rendered)||i.title},i.id)})]})}function XR(){var v,x;const{personId:t,index:e}=is(),r=en();hr();const n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=pu(t),o=Td(),{data:l=[],isLoading:u}=pt({queryKey:["companies","all"],queryFn:async()=>(await Le.getCompanies({per_page:100,orderby:"title",order:"asc"})).data}),{register:d,handleSubmit:h,reset:f,watch:p,control:m,formState:{errors:y,isSubmitting:b}}=mu({defaultValues:{company:null,job_title:"",description:"",start_date:"",end_date:"",is_current:!1}});$.useEffect(()=>{var w;if(s&&i){const E=(((w=s.acf)==null?void 0:w.work_history)||[])[n];E&&f({company:E.company||null,job_title:E.job_title||"",description:E.description||"",start_date:E.start_date||"",end_date:E.end_date||"",is_current:E.is_current||!1})}},[s,n,i,f]),ei(i?`Edit Work History - ${((v=s==null?void 0:s.title)==null?void 0:v.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Work History - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`);const g=async w=>{var _;try{const E=[...((_=s.acf)==null?void 0:_.work_history)||[]],O={company:w.company||null,job_title:w.job_title||"",description:w.description||"",start_date:w.start_date||"",end_date:w.end_date||"",is_current:w.is_current||!1};i?E[n]=O:E.push(O);const S=yl(s.acf,{work_history:E});await o.mutateAsync({id:t,data:{acf:S}}),r(`/people/${t}`)}catch(E){console.error("Failed to save work history:",E)}};return p("is_current"),a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(me,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Work History":"Add Work History"}),c.jsxs("form",{onSubmit:h(g),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company"}),c.jsx(zf,{name:"company",control:m,render:({field:w})=>c.jsx(Ene,{value:w.value,onChange:w.onChange,companies:l,isLoading:u})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Job Title"}),c.jsx("input",{...d("job_title"),className:"input",placeholder:"e.g., Software Engineer"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Description"}),c.jsx("textarea",{...d("description"),className:"input",rows:4,placeholder:"Job description, responsibilities, achievements..."})]}),c.jsxs("div",{className:"grid grid-cols-1 sm:grid-cols-2 gap-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Start Date"}),c.jsx("input",{type:"date",...d("start_date"),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"End Date"}),c.jsx("input",{type:"date",...d("end_date"),className:"input"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Set a future end date to automatically mark as former when it passes"})]})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...d("is_current"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Currently works here"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(me,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[b?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Work History"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(me,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}const One=[{value:"email",label:"Email"},{value:"phone",label:"Phone"},{value:"mobile",label:"Mobile"},{value:"address",label:"Address"},{value:"website",label:"Website"},{value:"linkedin",label:"LinkedIn"},{value:"twitter",label:"Twitter"},{value:"instagram",label:"Instagram"},{value:"facebook",label:"Facebook"},{value:"other",label:"Other"}];function JR(){var m,y;const{personId:t,index:e}=is(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=pu(t),o=Td(),{register:l,handleSubmit:u,reset:d,formState:{errors:h,isSubmitting:f}}=mu({defaultValues:{contact_type:"",contact_label:"",contact_value:""}});$.useEffect(()=>{var b;if(s&&i){const v=(((b=s.acf)==null?void 0:b.contact_info)||[])[n];v&&d({contact_type:v.contact_type||"",contact_label:v.contact_label||"",contact_value:v.contact_value||""})}},[s,n,i,d]),ei(i?`Edit Contact Detail - ${((m=s==null?void 0:s.title)==null?void 0:m.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Contact Detail - ${((y=s==null?void 0:s.title)==null?void 0:y.rendered)||(s==null?void 0:s.title)||"Person"}`);const p=async b=>{var g;try{const v=[...((g=s.acf)==null?void 0:g.contact_info)||[]],x={contact_type:b.contact_type||"",contact_label:b.contact_label||"",contact_value:b.contact_value||""};i?v[n]=x:v.push(x);const w=yl(s.acf,{contact_info:v});await o.mutateAsync({id:t,data:{acf:w}}),r(`/people/${t}`)}catch(v){console.error("Failed to save contact detail:",v)}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(me,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Contact Detail":"Add Contact Detail"}),c.jsxs("form",{onSubmit:u(p),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Contact Type *"}),c.jsxs("select",{...l("contact_type",{required:"Please select a contact type"}),className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),One.map(b=>c.jsx("option",{value:b.value,children:b.label},b.value))]}),h.contact_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...l("contact_label"),className:"input",placeholder:"e.g., Work, Personal, Home"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Add a label to distinguish multiple entries of the same type"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Value *"}),c.jsx("input",{...l("contact_value",{required:"Please enter a contact value"}),className:"input",placeholder:"e.g., john@example.com, +1 234 567 8900"}),h.contact_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:h.contact_value.message})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(me,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:f,children:[f?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Contact Detail"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(me,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Pne({value:t,onChange:e,people:r,isLoading:n,excludePersonId:i}){const[s,a]=$.useState(""),[o,l]=$.useState(!1),u=$.useRef(null),d=$.useRef(null),h=$.useMemo(()=>r.filter(v=>v.id!==i).sort((v,x)=>{var E,O;const w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(x.first_name||((O=x.acf)==null?void 0:O.first_name)||"").toLowerCase();return w<_?-1:w>_?1:0}),[r,i]),f=$.useMemo(()=>{if(!s)return h.slice(0,10);const g=s.toLowerCase();return h.filter(v=>{var E,O;const x=Ha(v).toLowerCase(),w=(v.first_name||((E=v.acf)==null?void 0:E.first_name)||"").toLowerCase(),_=(v.last_name||((O=v.acf)==null?void 0:O.last_name)||"").toLowerCase();return x.includes(g)||w.includes(g)||_.includes(g)}).slice(0,10)},[h,s]),p=$.useMemo(()=>h.find(g=>g.id===t),[h,t]);$.useEffect(()=>{const g=v=>{d.current&&!d.current.contains(v.target)&&u.current&&!u.current.contains(v.target)&&l(!1)};return document.addEventListener("mousedown",g),()=>document.removeEventListener("mousedown",g)},[]);const m=g=>{e(g),a(""),l(!1)},y=()=>{e(null),a(""),l(!1)},b=p?Ha(p):"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:p&&!o?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>l(!0),children:[c.jsx("span",{children:b}),c.jsx("button",{type:"button",onClick:g=>{g.stopPropagation(),y()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(ra,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:u,type:"text",value:s,onChange:g=>{a(g.target.value),l(!0)},onFocus:()=>l(!0),placeholder:"Search for a person...",className:"input",disabled:n})}),o&&(s||!p)&&c.jsx("div",{ref:d,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:f.length>0?f.map(g=>c.jsx("button",{type:"button",onClick:()=>m(g.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===g.id?"bg-primary-50":""}`,children:Ha(g)},g.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})}function ZR(){var x,w;const{personId:t,index:e}=is(),r=en(),n=parseInt(e,10),i=!isNaN(n),{data:s,isLoading:a}=pu(t),o=Td(),{data:l=[],isLoading:u}=Np(),{data:d=[],isLoading:h}=pt({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),{register:f,handleSubmit:p,reset:m,control:y,formState:{errors:b,isSubmitting:g}}=mu({defaultValues:{related_person:null,relationship_type:"",relationship_label:""}});$.useEffect(()=>{var _;if(s&&i){const O=(((_=s.acf)==null?void 0:_.relationships)||[])[n];O&&m({related_person:O.related_person||null,relationship_type:O.relationship_type?String(O.relationship_type):"",relationship_label:O.relationship_label||""})}},[s,n,i,m]),ei(i?`Edit Relationship - ${((x=s==null?void 0:s.title)==null?void 0:x.rendered)||(s==null?void 0:s.title)||"Person"}`:`Add Relationship - ${((w=s==null?void 0:s.title)==null?void 0:w.rendered)||(s==null?void 0:s.title)||"Person"}`);const v=async _=>{var E;try{const O=[...((E=s.acf)==null?void 0:E.relationships)||[]],S={related_person:_.related_person||null,relationship_type:_.relationship_type||null,relationship_label:_.relationship_label||""};i?O[n]=S:O.push(S);const P=yl(s.acf,{relationships:O});await o.mutateAsync({id:t,data:{acf:P}}),r(`/people/${t}`)}catch(O){console.error("Failed to save relationship:",O)}};return a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):s?c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(me,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Relationship":"Add Relationship"}),c.jsxs("form",{onSubmit:p(v),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related Person *"}),c.jsx(zf,{name:"related_person",control:y,rules:{required:"Please select a person"},render:({field:_})=>c.jsx(Pne,{value:_.value,onChange:_.onChange,people:l,isLoading:u,excludePersonId:parseInt(t,10)})}),b.related_person&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:b.related_person.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Relationship Type"}),c.jsxs("select",{...f("relationship_type",{setValueAs:_=>_?parseInt(_,10):null}),className:"input",disabled:h,children:[c.jsx("option",{value:"",children:"Select a type..."}),d.map(_=>c.jsx("option",{value:_.id,children:_.name},_.id))]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Custom Label"}),c.jsx("input",{...f("relationship_label"),className:"input",placeholder:"e.g., Brother-in-law"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Optional: Override the relationship type with a custom label"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(me,{to:`/people/${t}`,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:g,children:[g?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white mr-2"}):c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Add Relationship"]})]})]})]})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load person."}),c.jsx(me,{to:"/people",className:"btn-secondary mt-4",children:"Back to People"})]})}function Cne({company:t}){var e,r,n,i,s;return c.jsx(me,{to:`/companies/${t.id}`,className:"card p-4 hover:shadow-md transition-shadow",children:c.jsxs("div",{className:"flex items-start",children:[(n=(r=(e=t._embedded)==null?void 0:e["wp:featuredmedia"])==null?void 0:r[0])!=null&&n.source_url?c.jsx("img",{src:t._embedded["wp:featuredmedia"][0].source_url,alt:Fi(t),className:"w-12 h-12 rounded-lg object-cover"}):c.jsx("div",{className:"w-12 h-12 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(Zi,{className:"w-6 h-6 text-gray-400"})}),c.jsxs("div",{className:"ml-3 flex-1 min-w-0",children:[c.jsx("h3",{className:"text-sm font-medium text-gray-900 truncate",children:Fi(t)}),((i=t.acf)==null?void 0:i.industry)&&c.jsx("p",{className:"text-sm text-gray-500",children:t.acf.industry}),((s=t.acf)==null?void 0:s.website)&&c.jsx("p",{className:"text-xs text-primary-600 truncate",children:t.acf.website})]})]})})}function Tne(){const[t,e]=$.useState(""),{data:r,isLoading:n,error:i}=pt({queryKey:["companies",t],queryFn:async()=>(await Le.getCompanies({search:t,per_page:100,_embed:!0})).data}),s=$.useMemo(()=>r?[...r].sort((a,o)=>{var d,h;const l=(((d=a.title)==null?void 0:d.rendered)||a.title||"").toLowerCase(),u=(((h=o.title)==null?void 0:h.rendered)||o.title||"").toLowerCase();return l.localeCompare(u)}):[],[r]);return c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[c.jsxs("div",{className:"relative flex-1 max-w-md",children:[c.jsx(C7,{className:"absolute left-3 top-1/2 -translate-y-1/2 w-4 h-4 text-gray-400"}),c.jsx("input",{type:"search",placeholder:"Search companies...",value:t,onChange:a=>e(a.target.value),className:"input pl-9"})]}),c.jsxs(me,{to:"/companies/new",className:"btn-primary",children:[c.jsx(br,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),n&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),i&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load companies."})}),!n&&!i&&(s==null?void 0:s.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx("div",{className:"w-12 h-12 bg-gray-100 rounded-full flex items-center justify-center mx-auto mb-4",children:c.jsx(Zi,{className:"w-6 h-6 text-gray-400"})}),c.jsx("h3",{className:"text-lg font-medium text-gray-900 mb-1",children:"No companies found"}),c.jsx("p",{className:"text-gray-500 mb-4",children:t?"Try a different search.":"Add your first company."}),!t&&c.jsxs(me,{to:"/companies/new",className:"btn-primary",children:[c.jsx(br,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Company"})]})]}),!n&&!i&&(s==null?void 0:s.length)>0&&c.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-4",children:s.map(a=>c.jsx(Cne,{company:a},a.id))})]})}function Nne(){var d,h,f,p,m,y;const{id:t}=is(),e=en(),r=hr(),{data:n,isLoading:i,error:s}=pt({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data}),{data:a}=pt({queryKey:["company-people",t],queryFn:async()=>(await Xr.getCompanyPeople(t)).data}),o=Rt({mutationFn:()=>Le.deleteCompany(t,{force:!0}),onSuccess:()=>{r.invalidateQueries({queryKey:["companies"]}),e("/companies")}});ei(Fi(n)||"Company"),$.useEffect(()=>{(n==null?void 0:n.status)==="trash"&&e("/companies",{replace:!0})},[n,e]);const l=async()=>{if(window.confirm("Are you sure you want to delete this company?"))try{await o.mutateAsync()}catch(b){console.error("Failed to delete company:",b),alert("Failed to delete company. Please try again.")}};if(i)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});if(s||!n)return c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600",children:"Failed to load company."}),c.jsx(me,{to:"/companies",className:"btn-secondary mt-4",children:"Back to Companies"})]});if(n.status==="trash")return null;const u=n.acf||{};return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs(me,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs(me,{to:`/companies/${t}/edit`,className:"btn-secondary",children:[c.jsx(I7,{className:"w-4 h-4 mr-2"}),"Edit"]}),c.jsxs("button",{onClick:l,className:"btn-danger",children:[c.jsx(gs,{className:"w-4 h-4 mr-2"}),"Delete"]})]})]}),c.jsx("div",{className:"card p-6",children:c.jsxs("div",{className:"flex items-center gap-4",children:[(f=(h=(d=n._embedded)==null?void 0:d["wp:featuredmedia"])==null?void 0:h[0])!=null&&f.source_url?c.jsx("img",{src:n._embedded["wp:featuredmedia"][0].source_url,alt:Fi(n),className:"w-16 h-16 rounded-lg object-cover"}):c.jsx("div",{className:"w-16 h-16 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(Zi,{className:"w-8 h-8 text-gray-400"})}),c.jsxs("div",{children:[c.jsx("h1",{className:"text-2xl font-bold",children:Fi(n)}),u.industry&&c.jsx("p",{className:"text-gray-500",children:u.industry}),u.website&&c.jsxs("a",{href:u.website,target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline flex items-center mt-1",children:[c.jsx(qP,{className:"w-4 h-4 mr-1"}),u.website]})]})]})}),c.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(ao,{className:"w-5 h-5 mr-2"}),"Current Employees"]}),((p=a==null?void 0:a.current)==null?void 0:p.length)>0?c.jsx("div",{className:"space-y-2",children:a.current.map(b=>{var g;return c.jsxs(me,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No current employees."})]}),c.jsxs("div",{className:"card p-6",children:[c.jsxs("h2",{className:"font-semibold mb-4 flex items-center",children:[c.jsx(ao,{className:"w-5 h-5 mr-2"}),"Former Employees"]}),((m=a==null?void 0:a.former)==null?void 0:m.length)>0?c.jsx("div",{className:"space-y-2",children:a.former.map(b=>{var g;return c.jsxs(me,{to:`/people/${b.id}`,className:"flex items-center p-2 rounded hover:bg-gray-50",children:[b.thumbnail?c.jsx("img",{src:b.thumbnail,alt:"",loading:"lazy",className:"w-8 h-8 rounded-full opacity-75"}):c.jsx("div",{className:"w-8 h-8 bg-gray-200 rounded-full flex items-center justify-center opacity-75",children:c.jsx("span",{className:"text-xs text-gray-500",children:((g=b.name)==null?void 0:g[0])||"?"})}),c.jsxs("div",{className:"ml-2",children:[c.jsx("p",{className:"text-sm font-medium text-gray-700",children:b.name}),b.job_title&&c.jsx("p",{className:"text-xs text-gray-500",children:b.job_title})]})]},b.id)})}):c.jsx("p",{className:"text-sm text-gray-500",children:"No former employees."})]})]}),((y=u.contact_info)==null?void 0:y.length)>0&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"font-semibold mb-4",children:"Contact Information"}),c.jsx("div",{className:"space-y-3",children:u.contact_info.map((b,g)=>c.jsxs("div",{children:[c.jsxs("span",{className:"text-sm text-gray-500",children:[b.contact_label||b.contact_type,":"]}),c.jsx("span",{className:"ml-2",children:b.contact_value})]},g))})]})]})}function e2(){var v,x,w,_,E,O;const{id:t}=is(),e=en(),r=hr(),n=!!t,{data:i,isLoading:s}=pt({queryKey:["company",t],queryFn:async()=>(await Le.getCompany(t,{_embed:!0})).data,enabled:n}),[a,o]=$.useState(!1),l=$.useRef(null),u=Rt({mutationFn:S=>Le.createCompany(S),onSuccess:S=>{r.invalidateQueries({queryKey:["companies"]}),e(`/companies/${S.data.id}`)}}),d=Rt({mutationFn:S=>Le.updateCompany(t,S),onSuccess:()=>{r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),e(`/companies/${t}`)}}),h=async S=>{var C;const P=(C=S.target.files)==null?void 0:C[0];if(P){if(!P.type.startsWith("image/")){alert("Please select an image file");return}if(P.size>5*1024*1024){alert("Image size must be less than 5MB");return}o(!0);try{await Xr.uploadCompanyLogo(t,P),r.invalidateQueries({queryKey:["company",t]}),r.invalidateQueries({queryKey:["companies"]}),r.invalidateQueries({queryKey:["people"]}),r.refetchQueries({queryKey:["company",t]}),r.refetchQueries({queryKey:["companies"]}),r.refetchQueries({queryKey:["people"]})}catch(I){console.error("Failed to upload logo:",I),alert("Failed to upload logo. Please try again.")}finally{o(!1),l.current&&(l.current.value="")}}},{register:f,handleSubmit:p,reset:m,formState:{errors:y,isSubmitting:b}}=mu();$.useEffect(()=>{var S,P,C;i&&m({title:Gn(((S=i.title)==null?void 0:S.rendered)||""),website:((P=i.acf)==null?void 0:P.website)||"",industry:((C=i.acf)==null?void 0:C.industry)||""})},[i,m]),ei(n&&i?`Edit ${Fi(i)||"Company"}`:"New Company");const g=async S=>{const P={title:S.title,status:"publish",acf:{website:S.website,industry:S.industry}};n?d.mutate(P):u.mutate(P)};return n&&s?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(me,{to:"/companies",className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Companies"})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:n?"Edit Company":"Add New Company"}),c.jsxs("form",{onSubmit:p(g),className:"space-y-6",children:[n&&c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Logo"}),c.jsxs("div",{className:"flex items-center gap-4",children:[(w=(x=(v=i==null?void 0:i._embedded)==null?void 0:v["wp:featuredmedia"])==null?void 0:x[0])!=null&&w.source_url?c.jsxs("div",{className:"relative group",children:[c.jsx("img",{src:i._embedded["wp:featuredmedia"][0].source_url,alt:Fi(i)||"Company logo",className:"w-20 h-20 rounded-lg object-cover"}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(tf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}):c.jsxs("div",{className:"relative group",children:[c.jsx("div",{className:"w-20 h-20 bg-gray-200 rounded-lg flex items-center justify-center",children:c.jsx(tf,{className:"w-8 h-8 text-gray-400"})}),c.jsx("div",{className:"absolute inset-0 rounded-lg bg-black bg-opacity-0 group-hover:bg-opacity-50 transition-all duration-200 flex items-center justify-center cursor-pointer",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},children:a?c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-white"}):c.jsx(tf,{className:"w-6 h-6 text-white opacity-0 group-hover:opacity-100 transition-opacity"})})]}),c.jsxs("div",{children:[c.jsx("button",{type:"button",onClick:()=>{var S;return(S=l.current)==null?void 0:S.click()},className:"btn-secondary text-sm",disabled:a,children:(O=(E=(_=i==null?void 0:i._embedded)==null?void 0:_["wp:featuredmedia"])==null?void 0:E[0])!=null&&O.source_url?"Change Logo":"Upload Logo"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Click the logo or button to upload a new logo"})]}),c.jsx("input",{ref:l,type:"file",accept:"image/*",onChange:h,className:"hidden",disabled:a})]})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Company Name *"}),c.jsx("input",{...f("title",{required:"Company name is required"}),className:"input",placeholder:"Acme Inc."}),y.title&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:y.title.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Website"}),c.jsx("input",{...f("website"),type:"url",className:"input",placeholder:"https://example.com"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Industry"}),c.jsx("input",{...f("industry"),className:"input",placeholder:"Technology"})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(me,{to:"/companies",className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:b,children:[c.jsx(ta,{className:"w-4 h-4 mr-2"}),n?"Save Changes":"Create Company"]})]})]})]})]})}function Ine({person:t,dateType:e}){var r;return c.jsx("div",{className:"flex items-center gap-3 py-2",children:c.jsxs(me,{to:`/people/${t.id}`,className:"flex items-center gap-3 flex-1 min-w-0 hover:opacity-80",children:[t.thumbnail?c.jsx("img",{src:t.thumbnail,alt:t.name,loading:"lazy",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-sm font-medium text-gray-500",children:(r=t.name)==null?void 0:r[0]})}),c.jsx("span",{className:"font-medium truncate",children:t.name}),c.jsx("span",{className:"text-sm text-gray-500 capitalize flex-shrink-0",children:e})]})})}function Rne({dates:t}){const e=t[0],n=e.days_until===0?"bg-green-100 text-green-700":"bg-gray-100 text-gray-600",i=[];return t.forEach(s=>{var o,l;const a=((o=s.date_type)==null?void 0:o[0])||"Date";((l=s.related_people)==null?void 0:l.length)>0?s.related_people.forEach(u=>{i.push({person:u,dateType:a})}):i.push({person:{id:null,name:s.title,thumbnail:null},dateType:a})}),c.jsx("div",{className:"card p-4 break-inside-avoid mb-4",children:c.jsxs("div",{className:"flex items-start gap-4",children:[c.jsx("div",{className:`w-14 h-14 rounded-lg ${n} flex items-center justify-center flex-shrink-0`,children:c.jsx("span",{className:"text-2xl font-bold leading-none",children:hi(new Date(e.next_occurrence),"d")})}),c.jsx("div",{className:"flex-1 min-w-0 divide-y divide-gray-100",children:i.map(({person:s,dateType:a},o)=>c.jsx(Ine,{person:s,dateType:a},s.id?`${s.id}-${a}`:`${o}-${a}`))})]})})}function jne(){const{data:t,isLoading:e,error:r}=Ite(365),n=(t==null?void 0:t.reduce((s,a)=>{const o=hi(new Date(a.next_occurrence),"yyyy-MM-dd");return s[o]||(s[o]=[]),s[o].push(a),s},{}))||{},i=Object.entries(n).reduce((s,[a,o])=>{const l=hi(new Date(a),"MMMM yyyy");return s[l]||(s[l]=[]),s[l].push(o),s},{});return c.jsxs("div",{className:"space-y-6",children:[c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("p",{className:"text-gray-600",children:[(t==null?void 0:t.length)||0," upcoming dates"]}),c.jsxs(me,{to:"/dates/new",className:"btn-primary",children:[c.jsx(br,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),e&&c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}),r&&c.jsx("div",{className:"card p-6 text-center",children:c.jsx("p",{className:"text-red-600",children:"Failed to load dates."})}),!e&&!r&&(t==null?void 0:t.length)===0&&c.jsxs("div",{className:"card p-12 text-center",children:[c.jsx(so,{className:"w-12 h-12 text-gray-300 mx-auto mb-4"}),c.jsx("h3",{className:"text-lg font-medium mb-1",children:"No important dates"}),c.jsx("p",{className:"text-gray-500 mb-4",children:"Add birthdays, anniversaries, and more."}),c.jsxs(me,{to:"/dates/new",className:"btn-primary",children:[c.jsx(br,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Add Date"})]})]}),Object.entries(i).map(([s,a])=>c.jsxs("div",{children:[c.jsx("h2",{className:"text-2xl font-semibold text-gray-700 mb-4",children:s}),c.jsx("div",{className:"columns-1 md:columns-2 lg:columns-3 gap-4",children:a.map(o=>c.jsx(Rne,{dates:o},o[0].next_occurrence))})]},s))]})}function $ne({value:t=[],onChange:e,people:r=[],isLoading:n}){const[i,s]=$.useState(""),a=$.useMemo(()=>{if(!i)return r.slice(0,10);const d=i.toLowerCase();return r.filter(h=>Ha(h).toLowerCase().includes(d)).slice(0,10)},[r,i]),o=$.useMemo(()=>t.map(d=>r.find(h=>h.id===d)).filter(Boolean),[t,r]),l=d=>{t.includes(d)||e([...t,d]),s("")},u=d=>{e(t.filter(h=>h!==d))};return c.jsxs("div",{className:"space-y-2",children:[o.length>0&&c.jsx("div",{className:"flex flex-wrap gap-2",children:o.map(d=>c.jsxs("span",{className:"inline-flex items-center gap-1 px-3 py-1 bg-primary-100 text-primary-800 rounded-full text-sm",children:[Ha(d),c.jsx("button",{type:"button",onClick:()=>u(d.id),className:"hover:text-primary-600",children:c.jsx(ra,{className:"w-3 h-3"})})]},d.id))}),c.jsxs("div",{className:"relative",children:[c.jsx("input",{type:"text",value:i,onChange:d=>s(d.target.value),placeholder:"Search for people...",className:"input",disabled:n}),i&&c.jsx("div",{className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:a.length>0?a.map(d=>c.jsx("button",{type:"button",onClick:()=>l(d.id),disabled:t.includes(d.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t.includes(d.id)?"opacity-50 cursor-not-allowed":""}`,children:Ha(d)},d.id)):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No people found"})})]})]})}function t2(){var V;const{id:t}=is(),[e]=QJ(),r=en(),n=hr(),i=!!t,s=e.get("person"),a=e.get("type"),{data:o,isLoading:l}=pt({queryKey:["important-date",t],queryFn:async()=>(await Le.getDate(t)).data,enabled:i}),u=$.useMemo(()=>{var W;if(!((W=o==null?void 0:o.acf)!=null&&W.related_people))return[];const U=o.acf.related_people;return Array.isArray(U)?U.map(ee=>parseInt(typeof ee=="object"&&ee!==null?ee.ID||ee.id||ee.post_id:ee,10)).filter(ee=>!isNaN(ee)&&ee>0):[]},[o]),{data:d=[],isLoading:h}=Np({orderby:"title",order:"asc"}),{data:f=[]}=pt({queryKey:["people","specific",u],queryFn:async()=>{const U=u.map(ee=>Le.getPerson(ee,{_embed:!0}).then(fe=>fe.data).catch(()=>null));return(await Promise.all(U)).filter(Boolean)},enabled:u.length>0}),p=$.useMemo(()=>{const U=new Map;return d.forEach(W=>U.set(W.id,W)),f.forEach(W=>{var fe,ve,qe,be,Se,Pe,ct,Ke,Lt,nr,nt,_r,at,Mr,Ge,Bt;const ee={...W,id:W.id,name:Ha(W),first_name:((fe=W.acf)==null?void 0:fe.first_name)||"",last_name:((ve=W.acf)==null?void 0:ve.last_name)||"",is_favorite:((qe=W.acf)==null?void 0:qe.is_favorite)||!1,thumbnail:((Pe=(Se=(be=W._embedded)==null?void 0:be["wp:featuredmedia"])==null?void 0:Se[0])==null?void 0:Pe.source_url)||((_r=(nt=(nr=(Lt=(Ke=(ct=W._embedded)==null?void 0:ct["wp:featuredmedia"])==null?void 0:Ke[0])==null?void 0:Lt.media_details)==null?void 0:nr.sizes)==null?void 0:nt.thumbnail)==null?void 0:_r.source_url)||null,labels:((Bt=(Ge=(Mr=(at=W._embedded)==null?void 0:at["wp:term"])==null?void 0:Mr.flat())==null?void 0:Ge.filter(sn=>(sn==null?void 0:sn.taxonomy)==="person_label"))==null?void 0:Bt.map(sn=>sn.name))||[]};U.set(ee.id,ee)}),Array.from(U.values())},[d,f]),{data:m=[]}=pt({queryKey:["date-types"],queryFn:async()=>((await Le.getDateTypes()).data||[]).sort((ee,fe)=>{const ve=ee.name||"",qe=fe.name||"";return ve.localeCompare(qe)})}),y=Rt({mutationFn:U=>Le.createDate(U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),r(s?`/people/${s}`:"/dates")}}),b=Rt({mutationFn:U=>Le.updateDate(t,U),onSuccess:()=>{n.invalidateQueries({queryKey:["reminders"]}),n.invalidateQueries({queryKey:["important-date",t]}),n.invalidateQueries({queryKey:["people"]});const U=w("related_people");(U==null?void 0:U.length)>0?r(`/people/${U[0]}`):r("/dates")}}),{register:g,handleSubmit:v,reset:x,watch:w,setValue:_,control:E,formState:{errors:O,isSubmitting:S}}=mu({defaultValues:{title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7}}),P=w("related_people"),C=w("date_type"),I=w("title");$.useEffect(()=>{var ee;if((!I||["'s Birthday","Wedding of "].some(fe=>I.endsWith(fe)||I.startsWith(fe)))&&(P==null?void 0:P.length)>0&&C){const fe=m.find(Se=>Se.id===parseInt(C)),ve=(fe==null?void 0:fe.name)||"",qe=((ee=fe==null?void 0:fe.slug)==null?void 0:ee.toLowerCase())||ve.toLowerCase(),be=P.map(Se=>{var ct,Ke,Lt;const Pe=p.find(nr=>nr.id===Se);return Pe?Gn(((ct=Pe.acf)==null?void 0:ct.first_name)||((Lt=(Ke=Pe.title)==null?void 0:Ke.rendered)==null?void 0:Lt.split(" ")[0])||""):null}).filter(Boolean);if(be.length>0&&ve){let Se;qe==="wedding"?be.length>=2?Se=`Wedding of ${be[0]} & ${be[1]}`:Se=`Wedding of ${be[0]}`:Se=`${be[0]}'s ${ve}`,_("title",Se)}}},[P,C,p,m,_,I]);const[T,N]=$.useState(!1);$.useEffect(()=>{var W,ee,fe,ve,qe,be;if(T&&!i)return;const U=u.length===0||f.length>0;if(o&&p.length>0&&U){let Se=[];const Pe=(W=o.acf)==null?void 0:W.related_people;Pe&&(Array.isArray(Pe)?Se=Pe.map(Ke=>parseInt(typeof Ke=="object"&&Ke!==null?Ke.ID||Ke.id||Ke.post_id:Ke,10)).filter(Ke=>!isNaN(Ke)&&Ke>0):typeof Pe=="number"&&(Se=[Pe]));let ct="";((ee=o.date_type)==null?void 0:ee.length)>0&&(ct=o.date_type[0].toString()),x({title:Gn(((fe=o.title)==null?void 0:fe.rendered)||""),date_value:((ve=o.acf)==null?void 0:ve.date_value)||"",date_type:ct,related_people:Se,is_recurring:((qe=o.acf)==null?void 0:qe.is_recurring)??!0,reminder_days_before:((be=o.acf)==null?void 0:be.reminder_days_before)||7}),N(!0)}else if(!i&&p.length>0&&m.length>0){const Se={title:"",date_value:"",date_type:"",related_people:[],is_recurring:!0,reminder_days_before:7};if(s&&(Se.related_people=[parseInt(s)]),a){const Pe=m.find(ct=>ct.slug===a||ct.name.toLowerCase()===a.toLowerCase());Pe&&(Se.date_type=Pe.id.toString())}x(Se),N(!0)}},[o,x,i,s,a,m,p,u,f,T]),ei(i&&o?`Edit ${((V=o.title)==null?void 0:V.rendered)||o.title||"Date"}`:"New Date");const q=async U=>{const W={title:U.title,status:"publish",date_type:U.date_type?[parseInt(U.date_type)]:[],acf:{date_value:U.date_value,related_people:U.related_people,is_recurring:U.is_recurring,reminder_days_before:parseInt(U.reminder_days_before,10)}};i?b.mutate(W):y.mutate(W)};if(i&&l)return c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})});const z=w("related_people"),te=i&&(z==null?void 0:z.length)>0?z[0]:s,K=te?`/people/${te}`:"/dates",L=te?"Back to Person":"Back to Dates";return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs(me,{to:K,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:L})]})}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-bold mb-6",children:i?"Edit Date":"Add New Date"}),c.jsxs("form",{onSubmit:v(q),className:"space-y-6",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Related People"}),c.jsx(zf,{name:"related_people",control:E,render:({field:U})=>c.jsx($ne,{value:U.value,onChange:U.onChange,people:p,isLoading:h})})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date Type *"}),c.jsx(zf,{name:"date_type",control:E,rules:{required:"Please select a date type"},render:({field:U})=>{const W=U.value?String(U.value):"";return c.jsxs("select",{value:W,onChange:ee=>{const fe=ee.target.value;U.onChange(fe)},onBlur:U.onBlur,name:U.name,ref:U.ref,className:"input",children:[c.jsx("option",{value:"",children:"Select a type..."}),m.map(ee=>c.jsx("option",{value:String(ee.id),children:ee.name},ee.id))]})}}),O.date_type&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_type.message})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Label"}),c.jsx("input",{...g("title"),className:"input",placeholder:"e.g., Mom's Birthday, Wedding Anniversary"}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:"Auto-generated from person and date type. You can customize it."})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Date *"}),c.jsx("input",{...g("date_value",{required:"Date is required"}),type:"date",className:"input"}),O.date_value&&c.jsx("p",{className:"text-sm text-red-600 mt-1",children:O.date_value.message})]}),c.jsxs("div",{className:"flex items-center",children:[c.jsx("input",{type:"checkbox",...g("is_recurring"),className:"w-4 h-4 rounded border-gray-300 text-primary-600 focus:ring-primary-500"}),c.jsx("label",{className:"ml-2 text-sm text-gray-700",children:"Repeats every year"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Remind me"}),c.jsxs("select",{...g("reminder_days_before"),className:"input",children:[c.jsx("option",{value:"0",children:"On the day"}),c.jsx("option",{value:"1",children:"1 day before"}),c.jsx("option",{value:"3",children:"3 days before"}),c.jsx("option",{value:"7",children:"1 week before"}),c.jsx("option",{value:"14",children:"2 weeks before"}),c.jsx("option",{value:"30",children:"1 month before"})]})]}),c.jsxs("div",{className:"flex justify-end gap-3 pt-4 border-t",children:[c.jsx(me,{to:K,className:"btn-secondary",children:"Cancel"}),c.jsxs("button",{type:"submit",className:"btn-primary",disabled:S,children:[c.jsx(ta,{className:"w-4 h-4 mr-2"}),i?"Save Changes":"Create Date"]})]})]})]})]})}function kne(){const t=window.prmConfig||{},e=t.isAdmin||!1,[r,n]=$.useState(""),[i,s]=$.useState(""),[a,o]=$.useState(!0),[l,u]=$.useState(!1),[d,h]=$.useState(!1);$.useEffect(()=>{(async()=>{try{const y=await we.get("/prm/v1/user/ical-url");n(y.data.url),s(y.data.webcal_url)}catch(y){console.error("Failed to fetch iCal URL:",y)}finally{o(!1)}})()},[]);const f=async()=>{try{await navigator.clipboard.writeText(r),u(!0),setTimeout(()=>u(!1),2e3)}catch(m){console.error("Failed to copy:",m)}},p=async()=>{if(confirm("Are you sure you want to regenerate your calendar URL? Any existing calendar subscriptions will stop working until you update them with the new URL.")){h(!0);try{const m=await we.post("/prm/v1/user/regenerate-ical-token");n(m.data.url),s(m.data.webcal_url)}catch(m){console.error("Failed to regenerate token:",m)}finally{h(!1)}}};return c.jsxs("div",{className:"max-w-2xl mx-auto space-y-6",children:[c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Calendar Subscription"}),c.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"Subscribe to your important dates in any calendar app (Apple Calendar, Google Calendar, Outlook, etc.)"}),a?c.jsxs("div",{className:"animate-pulse",children:[c.jsx("div",{className:"h-10 bg-gray-200 rounded mb-3"}),c.jsx("div",{className:"h-9 bg-gray-200 rounded w-24"})]}):c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label mb-1",children:"Your Calendar Feed URL"}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("input",{type:"text",readOnly:!0,value:r,className:"input flex-1 text-sm font-mono bg-gray-50",onClick:m=>m.target.select()}),c.jsx("button",{onClick:f,className:"btn-secondary whitespace-nowrap",title:"Copy URL",children:l?c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})}),"Copied"]}):c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 5H6a2 2 0 00-2 2v12a2 2 0 002 2h10a2 2 0 002-2v-1M8 5a2 2 0 002 2h2a2 2 0 002-2M8 5a2 2 0 012-2h2a2 2 0 012 2m0 0h2a2 2 0 012 2v3m2 4H10m0 0l3-3m-3 3l3 3"})}),"Copy"]})})]})]}),c.jsxs("div",{className:"flex flex-wrap gap-2",children:[c.jsx("a",{href:i,className:"btn-primary",children:c.jsxs("span",{className:"flex items-center gap-1",children:[c.jsx("svg",{className:"w-4 h-4",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:c.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M8 7V3m8 4V3m-9 8h10M5 21h14a2 2 0 002-2V7a2 2 0 00-2-2H5a2 2 0 00-2 2v12a2 2 0 002 2z"})}),"Subscribe in Calendar App"]})}),c.jsx("button",{onClick:p,disabled:d,className:"btn-secondary",children:d?"Regenerating...":"Regenerate URL"})]}),c.jsx("p",{className:"text-xs text-gray-500",children:'Keep this URL private. Anyone with access to it can see your important dates. If you think it has been compromised, click "Regenerate URL" to get a new one.'})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Data"}),c.jsx("div",{className:"space-y-3",children:c.jsxs(me,{to:"/settings/import",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Import Data"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Import contacts from Monica CRM or other sources"})]})})]}),e&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Configuration"}),c.jsx("div",{className:"space-y-3",children:c.jsxs(me,{to:"/settings/relationship-types",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",children:[c.jsx("p",{className:"font-medium",children:"Relationship Types"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage relationship types and their inverse mappings"})]})})]}),e&&c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"Administration"}),c.jsxs("div",{className:"space-y-3",children:[c.jsxs("a",{href:t.adminUrl,className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[c.jsx("p",{className:"font-medium",children:"WordPress Admin"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Manage all settings, users, and content"})]}),c.jsxs("a",{href:t.adminUrl+"edit.php?post_type=person",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[c.jsx("p",{className:"font-medium",children:"Manage People"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Edit people with all ACF fields"})]}),c.jsxs("a",{href:t.adminUrl+"edit.php?post_type=company",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[c.jsx("p",{className:"font-medium",children:"Manage Companies"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Edit companies with all ACF fields"})]}),c.jsxs("a",{href:t.adminUrl+"edit.php?post_type=important_date",className:"block p-3 rounded-lg border border-gray-200 hover:bg-gray-50",target:"_blank",rel:"noopener noreferrer",children:[c.jsx("p",{className:"font-medium",children:"Manage Important Dates"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Edit dates and link people"})]})]})]}),c.jsxs("div",{className:"card p-6",children:[c.jsx("h2",{className:"text-lg font-semibold mb-4",children:"About"}),c.jsxs("p",{className:"text-sm text-gray-600",children:[Ql," v",t.version||"1.0.0",c.jsx("br",{}),"Built with WordPress, React, and Tailwind CSS."]})]})]})}function r2({value:t,onChange:e,relationshipTypes:r,currentTypeId:n=null}){const[i,s]=$.useState(""),[a,o]=$.useState(!1),l=$.useRef(null),u=$.useRef(null),d=$.useMemo(()=>r.sort((b,g)=>{const v=(b.name||"").toLowerCase(),x=(g.name||"").toLowerCase();return v<x?-1:v>x?1:0}),[r]),h=$.useMemo(()=>{if(!i)return d.slice(0,10);const b=i.toLowerCase();return d.filter(g=>(g.name||"").toLowerCase().includes(b)).slice(0,10)},[d,i]),f=$.useMemo(()=>d.find(b=>b.id===parseInt(t,10)),[d,t]);$.useEffect(()=>{const b=g=>{u.current&&!u.current.contains(g.target)&&l.current&&!l.current.contains(g.target)&&o(!1)};return document.addEventListener("mousedown",b),()=>document.removeEventListener("mousedown",b)},[]);const p=b=>{e(b?b.toString():""),s(""),o(!1)},m=()=>{e(""),s(""),o(!1)},y=f?f.name:"";return c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"relative",children:f&&!a?c.jsxs("div",{className:"flex items-center justify-between input pr-8 cursor-text",onClick:()=>o(!0),children:[c.jsx("span",{children:y}),c.jsx("button",{type:"button",onClick:b=>{b.stopPropagation(),m()},className:"absolute right-2 text-gray-400 hover:text-gray-600",children:c.jsx(ra,{className:"w-4 h-4"})})]}):c.jsx("input",{ref:l,type:"text",value:i,onChange:b=>{s(b.target.value),o(!0)},onFocus:()=>o(!0),placeholder:"Search for a relationship type...",className:"input"})}),a&&(i||!f)&&c.jsx("div",{ref:u,className:"absolute z-10 w-full mt-1 bg-white border border-gray-200 rounded-lg shadow-lg max-h-48 overflow-y-auto",children:h.length>0?c.jsxs(c.Fragment,{children:[c.jsx("button",{type:"button",onClick:()=>p(null),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t?"":"bg-primary-50"}`,children:c.jsx("span",{className:"text-gray-500 italic",children:"None (no inverse)"})}),h.map(b=>c.jsx("button",{type:"button",onClick:()=>p(b.id),className:`w-full text-left px-4 py-2 hover:bg-gray-50 ${t===b.id.toString()?"bg-primary-50":""}`,children:b.name},b.id))]}):c.jsx("p",{className:"px-4 py-2 text-gray-500 text-sm",children:"No relationship types found"})})]})}function Dne(){ei("Relationship Types - Settings");const t=hr();if(!((window.prmConfig||{}).isAdmin||!1))return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-8 text-center",children:[c.jsx(GZ,{className:"w-16 h-16 mx-auto text-amber-500 mb-4"}),c.jsx("h1",{className:"text-2xl font-bold mb-2",children:"Access Denied"}),c.jsx("p",{className:"text-gray-600 mb-6",children:"You don't have permission to manage relationship types. This feature is only available to administrators."}),c.jsx(me,{to:"/settings",className:"btn-primary",children:"Back to Settings"})]})});const{data:n=[],isLoading:i}=pt({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),[s,a]=$.useState(null),[o,l]=$.useState(""),[u,d]=$.useState(""),[h,f]=$.useState(""),[p,m]=$.useState(""),[y,b]=$.useState(!1),g=Rt({mutationFn:async({id:I,name:T,inverseId:N})=>{const q={name:T};return N&&(q.acf={inverse_relationship_type:parseInt(N,10)}),Le.updateRelationshipType(I,q)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),a(null),l(""),d("")}}),v=Rt({mutationFn:async({name:I,inverseId:T})=>{const N={name:I};return T&&(N.acf={inverse_relationship_type:parseInt(T,10)}),Le.createRelationshipType(N)},onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),f(""),m(""),b(!1)}}),x=Rt({mutationFn:I=>Le.deleteRelationshipType(I),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]})}}),w=Rt({mutationFn:()=>Le.restoreRelationshipTypeDefaults(),onSuccess:()=>{t.invalidateQueries({queryKey:["relationship-types"]}),alert("Default relationship type configurations have been restored.")},onError:()=>{alert("Failed to restore defaults. Please try again.")}});function _(){return c.jsxs("button",{onClick:()=>{window.confirm("This will restore all default inverse mappings and gender-dependent settings. Continue?")&&w.mutate()},disabled:w.isPending,className:"btn-secondary flex items-center gap-2",title:"Restore default inverse mappings and gender-dependent settings",children:[w.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-gray-600"}):c.jsx(P7,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Restore Defaults"})]})}const E=I=>{var N;a(I.id),l(I.name);const T=(N=I.acf)==null?void 0:N.inverse_relationship_type;d(T?T.toString():"")},O=()=>{a(null),l(""),d("")},S=()=>{if(!o.trim()){alert("Name is required");return}g.mutate({id:s,name:o.trim(),inverseId:u||null})},P=()=>{if(!h.trim()){alert("Name is required");return}v.mutate({name:h.trim(),inverseId:p||null})},C=(I,T)=>{window.confirm(`Are you sure you want to delete "${T}"? This cannot be undone.`)&&x.mutate(I)};return i?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):c.jsx("div",{className:"max-w-4xl mx-auto space-y-6",children:c.jsxs("div",{className:"card p-6",children:[c.jsxs("div",{className:"flex items-center justify-between mb-6",children:[c.jsx("h1",{className:"text-2xl font-bold",children:"Relationship Types"}),c.jsx("div",{className:"flex gap-2",children:!y&&c.jsxs(c.Fragment,{children:[c.jsx(_,{}),c.jsxs("button",{onClick:()=>b(!0),className:"btn-primary flex items-center gap-2",children:[c.jsx(br,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Add Relationship Type"})]})]})})]}),y&&c.jsxs("div",{className:"mb-6 p-4 border border-gray-200 rounded-lg bg-gray-50",children:[c.jsx("h3",{className:"font-semibold mb-4",children:"Add New Relationship Type"}),c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:h,onChange:I=>f(I.target.value),className:"input",placeholder:"e.g., Parent, Spouse, Colleague"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(r2,{value:p,onChange:m,relationshipTypes:n}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:P,disabled:v.isPending,className:"btn-primary flex items-center gap-2",children:[v.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(ta,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsx("button",{onClick:()=>{b(!1),f(""),m("")},className:"btn-secondary",children:"Cancel"})]})]})]}),c.jsx("div",{className:"space-y-2",children:n.length===0?c.jsx("p",{className:"text-gray-500 text-center py-8",children:"No relationship types found."}):n.map(I=>{var te,K;const T=s===I.id,N=(te=I.acf)==null?void 0:te.inverse_relationship_type,q=typeof N=="object"&&(N!=null&&N.ID)?N.ID:typeof N=="object"&&(N!=null&&N.id)?N.id:N,z=q?n.find(L=>L.id===q):null;return c.jsx("div",{className:"p-4 border border-gray-200 rounded-lg hover:bg-gray-50",children:T?c.jsxs("div",{className:"space-y-4",children:[c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Name *"}),c.jsx("input",{type:"text",value:o,onChange:L=>l(L.target.value),className:"input"})]}),c.jsxs("div",{children:[c.jsx("label",{className:"label",children:"Inverse Relationship Type"}),c.jsx(r2,{value:u,onChange:d,relationshipTypes:n,currentTypeId:I.id}),c.jsx("p",{className:"text-xs text-gray-500 mt-1",children:'Select the inverse relationship type. For example, if this is "Parent", select "Child". If this is "Spouse" or "Acquaintance", select the same type (e.g., "Spouse"  "Spouse").'})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsxs("button",{onClick:S,disabled:g.isPending,className:"btn-primary flex items-center gap-2",children:[g.isPending?c.jsx("div",{className:"animate-spin rounded-full h-4 w-4 border-b-2 border-white"}):c.jsx(ta,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Save"})]}),c.jsxs("button",{onClick:O,className:"btn-secondary flex items-center gap-2",children:[c.jsx(ra,{className:"w-4 h-4"}),c.jsx("span",{className:"hidden md:inline",children:"Cancel"})]})]})]}):c.jsxs("div",{className:"flex items-center justify-between",children:[c.jsxs("div",{className:"flex-1",children:[c.jsx("div",{className:"font-medium",children:I.name}),z&&c.jsxs("div",{className:"text-sm text-gray-500 mt-1",children:["Inverse: ",c.jsx("span",{className:"font-medium",children:z.name})]}),!z&&((K=I.acf)==null?void 0:K.inverse_relationship_type)===null&&c.jsx("div",{className:"text-sm text-gray-400 mt-1 italic",children:"No inverse relationship"})]}),c.jsxs("div",{className:"flex gap-2",children:[c.jsx("button",{onClick:()=>E(I),className:"p-2 text-gray-600 hover:text-primary-600 hover:bg-primary-50 rounded",title:"Edit",children:c.jsx(HZ,{className:"w-4 h-4"})}),c.jsx("button",{onClick:()=>C(I.id,I.name),className:"p-2 text-gray-600 hover:text-red-600 hover:bg-red-50 rounded",title:"Delete",children:c.jsx(gs,{className:"w-4 h-4"})})]})]})},I.id)})})]})})}function qne(){var g,v,x;const[t,e]=$.useState(null),[r,n]=$.useState(""),[i,s]=$.useState(!1),[a,o]=$.useState(null),l=hr(),u=Rt({mutationFn:async w=>{const _=new FormData;return _.append("file",w),(await we.post("/prm/v1/import/monica/validate",_,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:w=>{o(w)},onError:w=>{var _,E;o({valid:!1,error:((E=(_=w.response)==null?void 0:_.data)==null?void 0:E.message)||"Failed to validate file"})}}),d=Rt({mutationFn:async({file:w,monicaUrl:_})=>{const E=new FormData;return E.append("file",w),E.append("monica_url",_),(await we.post("/prm/v1/import/monica",E,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),w.type==="dragenter"||w.type==="dragover"?s(!0):w.type==="dragleave"&&s(!1)},[]),f=$.useCallback(w=>{w.preventDefault(),w.stopPropagation(),s(!1),w.dataTransfer.files&&w.dataTransfer.files[0]&&m(w.dataTransfer.files[0])},[]),p=w=>{w.target.files&&w.target.files[0]&&m(w.target.files[0])},m=w=>{if(!w.name.endsWith(".sql")){o({valid:!1,error:"Please select a SQL file"});return}e(w),o(null),d.reset(),u.mutate(w)},y=()=>{if(!r.trim()){o(w=>({...w,urlError:"Please enter your Monica instance URL"}));return}t&&(a!=null&&a.valid)&&d.mutate({file:t,monicaUrl:r.trim()})},b=()=>{e(null),n(""),o(null),u.reset(),d.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Monica"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts, relationships, notes, and photos from a Monica CRM SQL export file. Reimporting the same file will update existing contacts instead of creating duplicates."}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Kl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped (partial): ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Relationships created: ",d.data.stats.relationships_created]}),c.jsxs("p",{children:["Important dates created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),((g=d.data.stats.errors)==null?void 0:g.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((w,_)=>c.jsx("li",{children:w},_))})]})]}),c.jsx("button",{onClick:b,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${i?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".sql",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Gl,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(pT,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024/1024).toFixed(2)," MB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Yl,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Monica SQL export file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports SQL export files"})]})]}),a&&c.jsx("div",{className:`rounded-lg border p-4 ${a.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:a.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Kl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800",children:[c.jsxs("p",{children:["Export format: ",a.version]}),c.jsxs("p",{children:["Contacts to import: ",a.summary.contacts]}),c.jsxs("p",{children:["Relationships: ",a.summary.relationships]}),c.jsxs("p",{children:["Notes: ",a.summary.notes]}),c.jsxs("p",{children:["Dates: ",a.summary.reminders]}),c.jsxs("p",{children:["Photos: ",a.summary.photos]}),c.jsxs("p",{children:["Companies: ",a.summary.companies_count]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Vl,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:a.error})]})]})}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"space-y-2",children:[c.jsx("label",{htmlFor:"monica-url",className:"block text-sm font-medium text-gray-700",children:"Monica Instance URL"}),c.jsxs("div",{className:"relative",children:[c.jsx("div",{className:"absolute inset-y-0 left-0 pl-3 flex items-center pointer-events-none",children:c.jsx(FZ,{className:"h-4 w-4 text-gray-400"})}),c.jsx("input",{type:"url",id:"monica-url",value:r,onChange:w=>n(w.target.value),placeholder:"https://your-monica-instance.com",className:`block w-full pl-10 pr-3 py-2 border rounded-lg focus:ring-2 focus:ring-primary-500 focus:border-primary-500 ${a.urlError?"border-red-300":"border-gray-300"}`})]}),a.urlError&&c.jsx("p",{className:"text-sm text-red-600",children:a.urlError}),c.jsx("p",{className:"text-xs text-gray-500",children:"Enter the URL of your Monica instance to import photos. Photos will be downloaded from this URL."})]}),(a==null?void 0:a.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:y,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Gl,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Yl,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Vl,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((x=(v=d.error.response)==null?void 0:v.data)==null?void 0:x.message)||"An error occurred during import"})]})]})})]})]})}function Mne(){var y,b,g;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),a=hr(),o=Rt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await we.post("/prm/v1/import/vcard/validate",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:v=>{s(v)},onError:v=>{var x,w;s({valid:!1,error:((w=(x=v.response)==null?void 0:x.data)==null?void 0:w.message)||"Failed to validate file"})}}),l=Rt({mutationFn:async v=>{const x=new FormData;return x.append("file",v),(await we.post("/prm/v1/import/vcard",x,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{a.invalidateQueries({queryKey:["people"]}),a.invalidateQueries({queryKey:["companies"]}),a.invalidateQueries({queryKey:["dates"]}),a.invalidateQueries({queryKey:["dashboard"]})}}),u=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),v.type==="dragenter"||v.type==="dragover"?n(!0):v.type==="dragleave"&&n(!1)},[]),d=$.useCallback(v=>{v.preventDefault(),v.stopPropagation(),n(!1),v.dataTransfer.files&&v.dataTransfer.files[0]&&f(v.dataTransfer.files[0])},[]),h=v=>{v.target.files&&v.target.files[0]&&f(v.target.files[0])},f=v=>{const x=v.name.split(".").pop().toLowerCase();if(x!=="vcf"&&x!=="vcard"){s({valid:!1,error:"Please select a vCard file (.vcf)"});return}e(v),s(null),l.reset(),o.mutate(v)},p=()=>{t&&(i!=null&&i.valid)&&l.mutate(t)},m=()=>{e(null),s(null),o.reset(),l.reset()};return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from vCard"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a vCard (.vcf) file. vCard is a standard format supported by most contact apps including Apple Contacts, Outlook, and Android. Files can contain one or multiple contacts."}),l.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Kl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",l.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",l.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",l.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Photos imported: ",l.data.stats.photos_imported]}),c.jsxs("p",{children:["Companies created: ",l.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",l.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",l.data.stats.notes_created]}),((y=l.data.stats.errors)==null?void 0:y.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:l.data.stats.errors.map((v,x)=>c.jsx("li",{children:v},x))})]})]}),c.jsx("button",{onClick:m,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:u,onDragLeave:u,onDragOver:u,onDrop:d,children:[c.jsx("input",{type:"file",accept:".vcf,.vcard",onChange:h,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),o.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Gl,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(pT,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Yl,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your vCard file here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports .vcf and .vcard files"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Kl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(ao,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(Zi,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(S7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(O7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(R7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Vl,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:p,disabled:l.isPending,className:"btn-primary flex items-center gap-2",children:l.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Gl,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Yl,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:m,disabled:l.isPending,className:"btn-secondary",children:"Cancel"})]}),l.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Vl,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((g=(b=l.error.response)==null?void 0:b.data)==null?void 0:g.message)||"An error occurred during import"})]})]})})]})]})}function Ane(){var w,_,E;const[t,e]=$.useState(null),[r,n]=$.useState(!1),[i,s]=$.useState(null),[a,o]=$.useState({}),l=hr(),u=Rt({mutationFn:async O=>{const S=new FormData;return S.append("file",O),(await we.post("/prm/v1/import/google-contacts/validate",S,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:O=>{var S;if(s(O),((S=O.duplicates)==null?void 0:S.length)>0){const P={};O.duplicates.forEach(C=>{P[C.index]="merge"}),o(P)}},onError:O=>{var S,P;s({valid:!1,error:((P=(S=O.response)==null?void 0:S.data)==null?void 0:P.message)||"Failed to validate file"})}}),d=Rt({mutationFn:async({file:O,decisions:S})=>{const P=new FormData;return P.append("file",O),P.append("decisions",JSON.stringify(S)),(await we.post("/prm/v1/import/google-contacts",P,{headers:{"Content-Type":"multipart/form-data"}})).data},onSuccess:()=>{l.invalidateQueries({queryKey:["people"]}),l.invalidateQueries({queryKey:["companies"]}),l.invalidateQueries({queryKey:["dates"]}),l.invalidateQueries({queryKey:["dashboard"]})}}),h=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),O.type==="dragenter"||O.type==="dragover"?n(!0):O.type==="dragleave"&&n(!1)},[]),f=$.useCallback(O=>{O.preventDefault(),O.stopPropagation(),n(!1),O.dataTransfer.files&&O.dataTransfer.files[0]&&m(O.dataTransfer.files[0])},[]),p=O=>{O.target.files&&O.target.files[0]&&m(O.target.files[0])},m=O=>{if(!O.name.endsWith(".csv")){s({valid:!1,error:"Please select a CSV file"});return}e(O),s(null),o({}),d.reset(),u.mutate(O)},y=(O,S)=>{o(P=>({...P,[O]:S}))},b=()=>{t&&(i!=null&&i.valid)&&d.mutate({file:t,decisions:a})},g=()=>{e(null),s(null),o({}),u.reset(),d.reset()},v=(i==null?void 0:i.duplicates)||[],x=v.length>0;return c.jsxs("div",{className:"space-y-4",children:[c.jsx("h2",{className:"text-lg font-semibold",children:"Import from Google Contacts"}),c.jsx("p",{className:"text-sm text-gray-600",children:"Import contacts from a Google Contacts CSV export. To export from Google:"}),c.jsxs("ol",{className:"text-sm text-gray-600 list-decimal list-inside space-y-1 ml-2",children:[c.jsxs("li",{children:["Go to ",c.jsx("a",{href:"https://contacts.google.com",target:"_blank",rel:"noopener noreferrer",className:"text-primary-600 hover:underline",children:"contacts.google.com"})]}),c.jsx("li",{children:'Click "Export" in the left sidebar'}),c.jsx("li",{children:'Select "Google CSV" format and click "Export"'})]}),d.isSuccess?c.jsx("div",{className:"rounded-lg border border-green-200 bg-green-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Kl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"Import Complete"}),c.jsxs("div",{className:"mt-2 text-sm text-green-800 space-y-1",children:[c.jsxs("p",{children:["Contacts imported: ",d.data.stats.contacts_imported]}),c.jsxs("p",{children:["Contacts updated: ",d.data.stats.contacts_updated]}),c.jsxs("p",{children:["Contacts skipped: ",d.data.stats.contacts_skipped]}),c.jsxs("p",{children:["Companies created: ",d.data.stats.companies_created]}),c.jsxs("p",{children:["Birthdays created: ",d.data.stats.dates_created]}),c.jsxs("p",{children:["Notes created: ",d.data.stats.notes_created]}),c.jsxs("p",{children:["Photos imported: ",d.data.stats.photos_imported]}),((w=d.data.stats.errors)==null?void 0:w.length)>0&&c.jsxs("div",{className:"mt-2 pt-2 border-t border-green-200",children:[c.jsx("p",{className:"font-medium",children:"Errors:"}),c.jsx("ul",{className:"list-disc list-inside",children:d.data.stats.errors.map((O,S)=>c.jsx("li",{children:O},S))})]})]}),c.jsx("button",{onClick:g,className:"mt-3 text-sm text-green-700 hover:text-green-800 font-medium",children:"Import another file"})]})]})}):c.jsxs(c.Fragment,{children:[c.jsxs("div",{className:`relative rounded-lg border-2 border-dashed p-8 text-center transition-colors ${r?"border-primary-500 bg-primary-50":t?"border-green-300 bg-green-50":"border-gray-300 hover:border-gray-400"}`,onDragEnter:h,onDragLeave:h,onDragOver:h,onDrop:f,children:[c.jsx("input",{type:"file",accept:".csv",onChange:p,className:"absolute inset-0 w-full h-full opacity-0 cursor-pointer"}),u.isPending?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Gl,{className:"h-8 w-8 text-primary-600 animate-spin"}),c.jsx("p",{className:"text-gray-600",children:"Validating file..."})]}):t?c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(E7,{className:"h-8 w-8 text-green-600"}),c.jsx("p",{className:"font-medium text-gray-900",children:t.name}),c.jsxs("p",{className:"text-sm text-gray-500",children:[(t.size/1024).toFixed(2)," KB"]})]}):c.jsxs("div",{className:"flex flex-col items-center gap-2",children:[c.jsx(Yl,{className:"h-8 w-8 text-gray-400"}),c.jsx("p",{className:"text-gray-600",children:"Drag and drop your Google Contacts CSV here, or click to browse"}),c.jsx("p",{className:"text-sm text-gray-500",children:"Supports Google CSV format"})]})]}),i&&c.jsx("div",{className:`rounded-lg border p-4 ${i.valid?"border-green-200 bg-green-50":"border-red-200 bg-red-50"}`,children:i.valid?c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Kl,{className:"h-5 w-5 text-green-600 mt-0.5"}),c.jsxs("div",{className:"flex-1",children:[c.jsx("h3",{className:"font-medium text-green-900",children:"File validated successfully"}),c.jsxs("div",{className:"mt-3 grid grid-cols-2 sm:grid-cols-3 gap-3",children:[c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(ao,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.contacts," contacts"]})]}),i.summary.companies_count>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(Zi,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.companies_count," companies"]})]}),i.summary.birthdays>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(S7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.birthdays," birthdays"]})]}),i.summary.notes>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(R7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.notes," notes"]})]}),i.summary.photos>0&&c.jsxs("div",{className:"flex items-center gap-2 text-sm text-green-800",children:[c.jsx(O7,{className:"h-4 w-4"}),c.jsxs("span",{children:[i.summary.photos," photos"]})]})]})]})]}):c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Vl,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Validation failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:i.error})]})]})}),(i==null?void 0:i.valid)&&x&&c.jsx("div",{className:"rounded-lg border border-amber-200 bg-amber-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(NZ,{className:"h-5 w-5 text-amber-600 mt-0.5 flex-shrink-0"}),c.jsxs("div",{className:"flex-1",children:[c.jsxs("h3",{className:"font-medium text-amber-900",children:[v.length," contact",v.length>1?"s":""," may already exist"]}),c.jsx("p",{className:"text-sm text-amber-700 mt-1",children:"Choose how to handle each potential duplicate:"}),c.jsx("div",{className:"mt-4 space-y-4",children:v.map(O=>c.jsx(Fne,{duplicate:O,decision:a[O.index]||"merge",onDecision:S=>y(O.index,S)},O.index))})]})]})}),(i==null?void 0:i.valid)&&c.jsxs("div",{className:"flex gap-3",children:[c.jsx("button",{onClick:b,disabled:d.isPending,className:"btn-primary flex items-center gap-2",children:d.isPending?c.jsxs(c.Fragment,{children:[c.jsx(Gl,{className:"h-4 w-4 animate-spin"}),c.jsx("span",{className:"hidden md:inline",children:"Importing..."})]}):c.jsxs(c.Fragment,{children:[c.jsx(Yl,{className:"h-4 w-4"}),c.jsx("span",{className:"hidden md:inline",children:"Start Import"})]})}),c.jsx("button",{onClick:g,disabled:d.isPending,className:"btn-secondary",children:"Cancel"})]}),d.isError&&c.jsx("div",{className:"rounded-lg border border-red-200 bg-red-50 p-4",children:c.jsxs("div",{className:"flex items-start gap-3",children:[c.jsx(Vl,{className:"h-5 w-5 text-red-600 mt-0.5"}),c.jsxs("div",{children:[c.jsx("h3",{className:"font-medium text-red-900",children:"Import failed"}),c.jsx("p",{className:"text-sm text-red-700 mt-1",children:((E=(_=d.error.response)==null?void 0:_.data)==null?void 0:E.message)||"An error occurred during import"})]})]})})]})]})}function Fne({duplicate:t,decision:e,onDecision:r}){var n,i;return c.jsxs("div",{className:"bg-white rounded-lg border border-amber-200 p-4",children:[c.jsxs("div",{className:"flex flex-col sm:flex-row gap-4",children:[c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"From CSV"}),c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.csv_name}),t.csv_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.csv_org}),t.csv_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.csv_email})]}),c.jsx("div",{className:"hidden sm:flex items-center text-gray-400",children:c.jsx("span",{className:"text-lg",children:""})}),c.jsxs("div",{className:"flex-1 min-w-0",children:[c.jsx("p",{className:"text-xs font-medium text-gray-500 uppercase tracking-wide mb-1",children:"Existing Contact"}),c.jsxs("div",{className:"flex items-start gap-3",children:[t.existing_photo?c.jsx("img",{src:t.existing_photo,alt:"",className:"w-10 h-10 rounded-full object-cover flex-shrink-0"}):c.jsx("div",{className:"w-10 h-10 rounded-full bg-gray-200 flex items-center justify-center flex-shrink-0",children:c.jsx("span",{className:"text-gray-500 text-sm font-medium",children:((i=(n=t.existing_name)==null?void 0:n.charAt(0))==null?void 0:i.toUpperCase())||"?"})}),c.jsxs("div",{className:"min-w-0",children:[c.jsx("p",{className:"font-medium text-gray-900 truncate",children:t.existing_name}),t.existing_org&&c.jsx("p",{className:"text-sm text-gray-600 truncate",children:t.existing_org}),t.existing_email&&c.jsx("p",{className:"text-sm text-gray-500 truncate",children:t.existing_email})]})]})]})]}),c.jsxs("div",{className:"mt-4 flex flex-wrap gap-2",children:[c.jsxs("button",{type:"button",onClick:()=>r("merge"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="merge"?"bg-primary-100 text-primary-800 ring-2 ring-primary-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(KZ,{className:"h-4 w-4"}),"Update existing"]}),c.jsxs("button",{type:"button",onClick:()=>r("new"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="new"?"bg-green-100 text-green-800 ring-2 ring-green-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(QZ,{className:"h-4 w-4"}),"Create new"]}),c.jsxs("button",{type:"button",onClick:()=>r("skip"),className:`flex items-center gap-1.5 px-3 py-1.5 rounded-md text-sm font-medium transition-colors ${e==="skip"?"bg-gray-200 text-gray-800 ring-2 ring-gray-500":"bg-gray-100 text-gray-700 hover:bg-gray-200"}`,children:[c.jsx(YZ,{className:"h-4 w-4"}),"Skip"]})]})]})}const n2=[{id:"vcard",name:"vCard",description:"Apple Contacts, Outlook, Android",icon:pT,component:Mne},{id:"google",name:"Google Contacts",description:"CSV export from Google",icon:E7,component:Ane},{id:"monica",name:"Monica CRM",description:"SQL export from Monica",icon:kZ,component:qne}];function Lne(){var n;ei("Import - Settings");const[t,e]=$.useState("vcard"),r=(n=n2.find(i=>i.id===t))==null?void 0:n.component;return c.jsx("div",{className:"max-w-2xl mx-auto",children:c.jsxs("div",{className:"card p-6",children:[c.jsx("h1",{className:"text-xl font-semibold mb-4",children:"Import Contacts"}),c.jsx("p",{className:"text-sm text-gray-600 mb-6",children:"Import your contacts from various sources. Existing contacts with matching names will be updated instead of duplicated."}),c.jsx("div",{className:"border-b border-gray-200 mb-6",children:c.jsx("nav",{className:"-mb-px flex space-x-6","aria-label":"Import types",children:n2.map(i=>{const s=i.icon,a=t===i.id;return c.jsxs("button",{onClick:()=>e(i.id),className:`group inline-flex items-center py-3 px-1 border-b-2 font-medium text-sm transition-colors ${a?"border-primary-500 text-primary-600":"border-transparent text-gray-500 hover:text-gray-700 hover:border-gray-300"}`,children:[c.jsx(s,{className:`mr-2 h-5 w-5 ${a?"text-primary-500":"text-gray-400 group-hover:text-gray-500"}`}),c.jsxs("div",{className:"text-left",children:[c.jsx("span",{className:"block",children:i.name}),c.jsx("span",{className:`block text-xs font-normal ${a?"text-primary-400":"text-gray-400"}`,children:i.description})]})]},i.id)})})}),r&&c.jsx(r,{})]})})}/**
 * vis-data
 * http://visjs.org/
 *
 * Manage unstructured data using DataSet. Add, update, and remove data, and listen for changes in the data.
 *
 * @version 8.0.3
 * @date    2025-09-10T16:22:00.613Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var i2=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function ke(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Vm={exports:{}},s2={},tc,a2;function qt(){if(a2)return tc;a2=1;var t=function(e){return e&&e.Math===Math&&e};return tc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof i2=="object"&&i2)||t(typeof tc=="object"&&tc)||function(){return this}()||Function("return this")(),tc}var Km,o2;function He(){return o2||(o2=1,Km=function(t){try{return!!t()}catch{return!0}}),Km}var Gm,l2;function Id(){if(l2)return Gm;l2=1;var t=He();return Gm=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),Gm}var Ym,u2;function Rp(){if(u2)return Ym;u2=1;var t=Id(),e=Function.prototype,r=e.apply,n=e.call;return Ym=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),Ym}var Qm,c2;function Qe(){if(c2)return Qm;c2=1;var t=Id(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return Qm=t?n:function(i){return function(){return r.apply(i,arguments)}},Qm}var Xm,d2;function as(){if(d2)return Xm;d2=1;var t=Qe(),e=t({}.toString),r=t("".slice);return Xm=function(n){return r(e(n),8,-1)},Xm}var Jm,h2;function wK(){if(h2)return Jm;h2=1;var t=as(),e=Qe();return Jm=function(r){if(t(r)==="Function")return e(r)},Jm}var Zm,f2;function Xt(){if(f2)return Zm;f2=1;var t=typeof document=="object"&&document.all;return Zm=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},Zm}var ev={},tv,p2;function Mt(){if(p2)return tv;p2=1;var t=He();return tv=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),tv}var rv,m2;function tn(){if(m2)return rv;m2=1;var t=Id(),e=Function.prototype.call;return rv=t?e.bind(e):function(){return e.apply(e,arguments)},rv}var nv={},v2;function PT(){if(v2)return nv;v2=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return nv.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,nv}var iv,g2;function Rd(){return g2||(g2=1,iv=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),iv}var sv,y2;function jp(){if(y2)return sv;y2=1;var t=Qe(),e=He(),r=as(),n=Object,i=t("".split);return sv=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,sv}var av,b2;function jd(){return b2||(b2=1,av=function(t){return t==null}),av}var ov,w2;function xo(){if(w2)return ov;w2=1;var t=jd(),e=TypeError;return ov=function(r){if(t(r))throw new e("Can't call method on "+r);return r},ov}var lv,x2;function _i(){if(x2)return lv;x2=1;var t=jp(),e=xo();return lv=function(r){return t(e(r))},lv}var uv,_2;function qr(){if(_2)return uv;_2=1;var t=Xt();return uv=function(e){return typeof e=="object"?e!==null:t(e)},uv}var cv,S2;function Vt(){return S2||(S2=1,cv={}),cv}var dv,E2;function vn(){if(E2)return dv;E2=1;var t=Vt(),e=qt(),r=Xt(),n=function(i){return r(i)?i:void 0};return dv=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},dv}var hv,O2;function Jt(){if(O2)return hv;O2=1;var t=Qe();return hv=t({}.isPrototypeOf),hv}var fv,P2;function vu(){if(P2)return fv;P2=1;var t=qt(),e=t.navigator,r=e&&e.userAgent;return fv=r?String(r):"",fv}var pv,C2;function $d(){if(C2)return pv;C2=1;var t=qt(),e=vu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),pv=o,pv}var mv,T2;function gu(){if(T2)return mv;T2=1;var t=$d(),e=He(),r=qt(),n=r.String;return mv=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),mv}var vv,N2;function xK(){if(N2)return vv;N2=1;var t=gu();return vv=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",vv}var gv,I2;function kd(){if(I2)return gv;I2=1;var t=vn(),e=Xt(),r=Jt(),n=xK(),i=Object;return gv=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},gv}var yv,R2;function yu(){if(R2)return yv;R2=1;var t=String;return yv=function(e){try{return t(e)}catch{return"Object"}},yv}var bv,j2;function os(){if(j2)return bv;j2=1;var t=Xt(),e=yu(),r=TypeError;return bv=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},bv}var wv,$2;function CT(){if($2)return wv;$2=1;var t=os(),e=jd();return wv=function(r,n){var i=r[n];return e(i)?void 0:t(i)},wv}var xv,k2;function Bne(){if(k2)return xv;k2=1;var t=tn(),e=Xt(),r=qr(),n=TypeError;return xv=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},xv}var _v={exports:{}},Sv,D2;function bu(){return D2||(D2=1,Sv=!0),Sv}var Ev,q2;function zne(){if(q2)return Ev;q2=1;var t=qt(),e=Object.defineProperty;return Ev=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},Ev}var M2;function TT(){if(M2)return _v.exports;M2=1;var t=bu(),e=qt(),r=zne(),n="__core-js_shared__",i=_v.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),_v.exports}var Ov,A2;function wu(){if(A2)return Ov;A2=1;var t=TT();return Ov=function(e,r){return t[e]||(t[e]=r||{})},Ov}var Pv,F2;function ri(){if(F2)return Pv;F2=1;var t=xo(),e=Object;return Pv=function(r){return e(t(r))},Pv}var Cv,L2;function Zt(){if(L2)return Cv;L2=1;var t=Qe(),e=ri(),r=t({}.hasOwnProperty);return Cv=Object.hasOwn||function(i,s){return r(e(i),s)},Cv}var Tv,B2;function $p(){if(B2)return Tv;B2=1;var t=Qe(),e=0,r=Math.random(),n=t(1.1.toString);return Tv=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},Tv}var Nv,z2;function er(){if(z2)return Nv;z2=1;var t=qt(),e=wu(),r=Zt(),n=$p(),i=gu(),s=xK(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return Nv=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},Nv}var Iv,U2;function _K(){if(U2)return Iv;U2=1;var t=tn(),e=qr(),r=kd(),n=CT(),i=Bne(),s=er(),a=TypeError,o=s("toPrimitive");return Iv=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},Iv}var Rv,W2;function NT(){if(W2)return Rv;W2=1;var t=_K(),e=kd();return Rv=function(r){var n=t(r,"string");return e(n)?n:n+""},Rv}var jv,H2;function SK(){if(H2)return jv;H2=1;var t=qt(),e=qr(),r=t.document,n=e(r)&&e(r.createElement);return jv=function(i){return n?r.createElement(i):{}},jv}var $v,V2;function EK(){if(V2)return $v;V2=1;var t=Mt(),e=He(),r=SK();return $v=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),$v}var K2;function kp(){if(K2)return ev;K2=1;var t=Mt(),e=tn(),r=PT(),n=Rd(),i=_i(),s=NT(),a=Zt(),o=EK(),l=Object.getOwnPropertyDescriptor;return ev.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},ev}var kv,G2;function Une(){if(G2)return kv;G2=1;var t=He(),e=Xt(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return kv=n,kv}var Dv,Y2;function Dp(){if(Y2)return Dv;Y2=1;var t=wK(),e=os(),r=Id(),n=t(t.bind);return Dv=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},Dv}var qv={},Mv,Q2;function OK(){if(Q2)return Mv;Q2=1;var t=Mt(),e=He();return Mv=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Mv}var Av,X2;function ls(){if(X2)return Av;X2=1;var t=qr(),e=String,r=TypeError;return Av=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},Av}var J2;function jn(){if(J2)return qv;J2=1;var t=Mt(),e=EK(),r=OK(),n=ls(),i=NT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return qv.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},qv}var Fv,Z2;function xu(){if(Z2)return Fv;Z2=1;var t=Mt(),e=jn(),r=Rd();return Fv=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},Fv}var Lv,ej;function Oe(){if(ej)return Lv;ej=1;var t=qt(),e=Rp(),r=wK(),n=Xt(),i=kp().f,s=Une(),a=Vt(),o=Dp(),l=xu(),u=Zt(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return Lv=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,T;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(T=i(g,O),C=T&&T.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},Lv}var tj;function Wne(){if(tj)return s2;tj=1;var t=Oe(),e=Mt(),r=jn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),s2}var rj;function Hne(){if(rj)return Vm.exports;rj=1,Wne();var t=Vt(),e=t.Object,r=Vm.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),Vm.exports}var Bv,nj;function PK(){if(nj)return Bv;nj=1;var t=Hne();return Bv=t,Bv}var zv,ij;function Vne(){if(ij)return zv;ij=1;var t=PK();return zv=t,zv}var Uv,sj;function Kne(){if(sj)return Uv;sj=1;var t=Vne();return Uv=t,Uv}var Wv,aj;function Gne(){return aj||(aj=1,Wv=Kne()),Wv}var Yne=Gne(),Qne=ke(Yne),oj={},Hv,lj;function _o(){if(lj)return Hv;lj=1;var t=as();return Hv=Array.isArray||function(r){return t(r)==="Array"},Hv}var Vv,uj;function Xne(){if(uj)return Vv;uj=1;var t=Math.ceil,e=Math.floor;return Vv=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},Vv}var Kv,cj;function _u(){if(cj)return Kv;cj=1;var t=Xne();return Kv=function(e){var r=+e;return r!==r||r===0?0:t(r)},Kv}var Gv,dj;function CK(){if(dj)return Gv;dj=1;var t=_u(),e=Math.min;return Gv=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},Gv}var Yv,hj;function ua(){if(hj)return Yv;hj=1;var t=CK();return Yv=function(e){return t(e.length)},Yv}var Qv,fj;function TK(){if(fj)return Qv;fj=1;var t=TypeError,e=9007199254740991;return Qv=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Qv}var Xv,pj;function qp(){if(pj)return Xv;pj=1;var t=Mt(),e=jn(),r=Rd();return Xv=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Xv}var Jv,mj;function IT(){if(mj)return Jv;mj=1;var t=er(),e=t("toStringTag"),r={};return r[e]="z",Jv=String(r)==="[object z]",Jv}var Zv,vj;function ca(){if(vj)return Zv;vj=1;var t=IT(),e=Xt(),r=as(),n=er(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Zv=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Zv}var eg,gj;function Jne(){if(gj)return eg;gj=1;var t=Qe(),e=Xt(),r=TT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),eg=r.inspectSource,eg}var tg,yj;function NK(){if(yj)return tg;yj=1;var t=Qe(),e=He(),r=Xt(),n=ca(),i=vn(),s=Jne(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,tg=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,tg}var rg,bj;function Zne(){if(bj)return rg;bj=1;var t=_o(),e=NK(),r=qr(),n=er(),i=n("species"),s=Array;return rg=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},rg}var ng,wj;function RT(){if(wj)return ng;wj=1;var t=Zne();return ng=function(e,r){return new(t(e))(r===0?0:r)},ng}var ig,xj;function Dd(){if(xj)return ig;xj=1;var t=He(),e=er(),r=$d(),n=e("species");return ig=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},ig}var _j;function IK(){if(_j)return oj;_j=1;var t=Oe(),e=He(),r=_o(),n=qr(),i=ri(),s=ua(),a=TK(),o=qp(),l=RT(),u=Dd(),d=er(),h=$d(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),oj}var Sj={},Ej={},sg,Oj;function da(){if(Oj)return sg;Oj=1;var t=ca(),e=String;return sg=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},sg}var ag={},og,Pj;function jT(){if(Pj)return og;Pj=1;var t=_u(),e=Math.max,r=Math.min;return og=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},og}var lg,Cj;function eie(){if(Cj)return lg;Cj=1;var t=_i(),e=jT(),r=ua(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return lg={includes:n(!0),indexOf:n(!1)},lg}var ug,Tj;function qd(){return Tj||(Tj=1,ug={}),ug}var cg,Nj;function RK(){if(Nj)return cg;Nj=1;var t=Qe(),e=Zt(),r=_i(),n=eie().indexOf,i=qd(),s=t([].push);return cg=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},cg}var dg,Ij;function $T(){return Ij||(Ij=1,dg=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),dg}var hg,Rj;function Mp(){if(Rj)return hg;Rj=1;var t=RK(),e=$T();return hg=Object.keys||function(n){return t(n,e)},hg}var jj;function kT(){if(jj)return ag;jj=1;var t=Mt(),e=OK(),r=jn(),n=ls(),i=_i(),s=Mp();return ag.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},ag}var fg,$j;function tie(){if($j)return fg;$j=1;var t=vn();return fg=t("document","documentElement"),fg}var pg,kj;function Ap(){if(kj)return pg;kj=1;var t=wu(),e=$p(),r=t("keys");return pg=function(n){return r[n]||(r[n]=e(n))},pg}var mg,Dj;function Md(){if(Dj)return mg;Dj=1;var t=ls(),e=kT(),r=$T(),n=qd(),i=tie(),s=SK(),a=Ap(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,mg=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},mg}var vg={},qj;function Fp(){if(qj)return vg;qj=1;var t=RK(),e=$T(),r=e.concat("length","prototype");return vg.f=Object.getOwnPropertyNames||function(i){return t(i,r)},vg}var gg={},yg,Mj;function Su(){if(Mj)return yg;Mj=1;var t=Qe();return yg=t([].slice),yg}var Aj;function jK(){if(Aj)return gg;Aj=1;var t=as(),e=_i(),r=Fp().f,n=Su(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return gg.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},gg}var bg={},Fj;function Lp(){return Fj||(Fj=1,bg.f=Object.getOwnPropertySymbols),bg}var wg,Lj;function Ad(){if(Lj)return wg;Lj=1;var t=xu();return wg=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},wg}var xg,Bj;function DT(){if(Bj)return xg;Bj=1;var t=jn();return xg=function(e,r,n){return t.f(e,r,n)},xg}var _g={},zj;function Bp(){if(zj)return _g;zj=1;var t=er();return _g.f=t,_g}var Sg,Uj;function vt(){if(Uj)return Sg;Uj=1;var t=Vt(),e=Zt(),r=Bp(),n=jn().f;return Sg=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Sg}var Eg,Wj;function $K(){if(Wj)return Eg;Wj=1;var t=tn(),e=vn(),r=er(),n=Ad();return Eg=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Eg}var Og,Hj;function rie(){if(Hj)return Og;Hj=1;var t=IT(),e=ca();return Og=t?{}.toString:function(){return"[object "+e(this)+"]"},Og}var Pg,Vj;function So(){if(Vj)return Pg;Vj=1;var t=IT(),e=jn().f,r=xu(),n=Zt(),i=rie(),s=er(),a=s("toStringTag");return Pg=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Pg}var Cg,Kj;function nie(){if(Kj)return Cg;Kj=1;var t=qt(),e=Xt(),r=t.WeakMap;return Cg=e(r)&&/native code/.test(String(r)),Cg}var Tg,Gj;function Fd(){if(Gj)return Tg;Gj=1;var t=nie(),e=qt(),r=qr(),n=xu(),i=Zt(),s=TT(),a=Ap(),o=qd(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Tg={set:h,get:f,has:p,enforce:m,getterFor:y},Tg}var Ng,Yj;function Eu(){if(Yj)return Ng;Yj=1;var t=Dp(),e=Qe(),r=jp(),n=ri(),i=ua(),s=RT(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,T;E>S;S++)if((y||S in _)&&(I=_[S],T=O(I,S,w),l))if(u)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Ng={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Ng}var Qj;function iie(){if(Qj)return Ej;Qj=1;var t=Oe(),e=qt(),r=tn(),n=Qe(),i=bu(),s=Mt(),a=gu(),o=He(),l=Zt(),u=Jt(),d=ls(),h=_i(),f=NT(),p=da(),m=Rd(),y=Md(),b=Mp(),g=Fp(),v=jK(),x=Lp(),w=kp(),_=jn(),E=kT(),O=PT(),S=Ad(),P=DT(),C=wu(),I=Ap(),T=qd(),N=$p(),q=er(),z=Bp(),te=vt(),K=$K(),L=So(),V=Fd(),U=Eu().forEach,W=I("hidden"),ee="Symbol",fe="prototype",ve=V.set,qe=V.getterFor(ee),be=Object[fe],Se=e.Symbol,Pe=Se&&Se[fe],ct=e.RangeError,Ke=e.TypeError,Lt=e.QObject,nr=w.f,nt=_.f,_r=v.f,at=O.f,Mr=n([].push),Ge=C("symbols"),Bt=C("op-symbols"),sn=C("wks"),an=!Lt||!Lt[fe]||!Lt[fe].findChild,j=function(H,B,G){var X=nr(be,B);X&&delete be[B],nt(H,B,G),X&&H!==be&&nt(be,B,X)},D=s&&o(function(){return y(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a!==7})?j:nt,F=function(H,B){var G=Ge[H]=y(Pe);return ve(G,{type:ee,tag:H,description:B}),s||(G.description=B),G},ae=function(B,G,X){B===be&&ae(Bt,G,X),d(B);var oe=f(G);return d(X),l(Ge,oe)?(X.enumerable?(l(B,W)&&B[W][oe]&&(B[W][oe]=!1),X=y(X,{enumerable:m(0,!1)})):(l(B,W)||nt(B,W,m(1,y(null))),B[W][oe]=!0),D(B,oe,X)):nt(B,oe,X)},re=function(B,G){d(B);var X=h(G),oe=b(X).concat(ne(X));return U(oe,function($e){(!s||r(de,X,$e))&&ae(B,$e,X[$e])}),B},Y=function(B,G){return G===void 0?y(B):re(y(B),G)},de=function(B){var G=f(B),X=r(at,this,G);return this===be&&l(Ge,G)&&!l(Bt,G)?!1:X||!l(this,G)||!l(Ge,G)||l(this,W)&&this[W][G]?X:!0},Ie=function(B,G){var X=h(B),oe=f(G);if(!(X===be&&l(Ge,oe)&&!l(Bt,oe))){var $e=nr(X,oe);return $e&&l(Ge,oe)&&!(l(X,W)&&X[W][oe])&&($e.enumerable=!0),$e}},k=function(B){var G=_r(h(B)),X=[];return U(G,function(oe){!l(Ge,oe)&&!l(T,oe)&&Mr(X,oe)}),X},ne=function(H){var B=H===be,G=_r(B?Bt:h(H)),X=[];return U(G,function(oe){l(Ge,oe)&&(!B||l(be,oe))&&Mr(X,Ge[oe])}),X};return a||(Se=function(){if(u(Pe,this))throw new Ke("Symbol is not a constructor");var B=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),G=N(B),X=function(oe){var $e=this===void 0?e:this;$e===be&&r(X,Bt,oe),l($e,W)&&l($e[W],G)&&($e[W][G]=!1);var Ar=m(1,oe);try{D($e,G,Ar)}catch(ir){if(!(ir instanceof ct))throw ir;j($e,G,Ar)}};return s&&an&&D(be,G,{configurable:!0,set:X}),F(G,B)},Pe=Se[fe],S(Pe,"toString",function(){return qe(this).tag}),S(Se,"withoutSetter",function(H){return F(N(H),H)}),O.f=de,_.f=ae,E.f=re,w.f=Ie,g.f=v.f=k,x.f=ne,z.f=function(H){return F(q(H),H)},s&&(P(Pe,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Se}),U(b(sn),function(H){te(H)}),t({target:ee,stat:!0,forced:!a},{useSetter:function(){an=!0},useSimple:function(){an=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Y,defineProperty:ae,defineProperties:re,getOwnPropertyDescriptor:Ie}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:k}),K(),L(Se,ee),T[W]=!0,Ej}var Xj={},Ig,Jj;function kK(){if(Jj)return Ig;Jj=1;var t=gu();return Ig=t&&!!Symbol.for&&!!Symbol.keyFor,Ig}var Zj;function sie(){if(Zj)return Xj;Zj=1;var t=Oe(),e=vn(),r=Zt(),n=da(),i=wu(),s=kK(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),Xj}var e$={},t$;function aie(){if(t$)return e$;t$=1;var t=Oe(),e=Zt(),r=kd(),n=yu(),i=wu(),s=kK(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),e$}var r$={},Rg,n$;function oie(){if(n$)return Rg;n$=1;var t=Qe(),e=_o(),r=Xt(),n=as(),i=da(),s=t([].push);return Rg=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},Rg}var i$;function DK(){if(i$)return r$;i$=1;var t=Oe(),e=vn(),r=Rp(),n=tn(),i=Qe(),s=He(),a=Xt(),o=kd(),l=Su(),u=oie(),d=gu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),T=u(C);if(!(!a(T)&&(P===void 0||o(P))))return I[1]=function(N,q){if(a(T)&&(q=n(T,this,h(N),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var T=m(I,C-1),N=m(I,C+1);return p(x,P)&&!p(w,N)||p(w,P)&&!p(x,T)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,T){var N=l(arguments),q=r(_?O:f,null,N);return E&&typeof q=="string"?b(q,v,S):q}}),r$}var s$={},a$;function lie(){if(a$)return s$;a$=1;var t=Oe(),e=gu(),r=He(),n=Lp(),i=ri(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),s$}var o$;function qK(){return o$||(o$=1,iie(),sie(),aie(),DK(),lie()),Sj}var l$={},u$;function MK(){if(u$)return l$;u$=1;var t=vt();return t("asyncDispose"),l$}var c$={},d$;function uie(){if(d$)return c$;d$=1;var t=vt();return t("asyncIterator"),c$}var h$={},f$;function AK(){if(f$)return h$;f$=1;var t=vt();return t("dispose"),h$}var p$={},m$;function cie(){if(m$)return p$;m$=1;var t=vt();return t("hasInstance"),p$}var v$={},g$;function die(){if(g$)return v$;g$=1;var t=vt();return t("isConcatSpreadable"),v$}var y$={},b$;function FK(){if(b$)return y$;b$=1;var t=vt();return t("iterator"),y$}var w$={},x$;function hie(){if(x$)return w$;x$=1;var t=vt();return t("match"),w$}var _$={},S$;function fie(){if(S$)return _$;S$=1;var t=vt();return t("matchAll"),_$}var E$={},O$;function pie(){if(O$)return E$;O$=1;var t=vt();return t("replace"),E$}var P$={},C$;function mie(){if(C$)return P$;C$=1;var t=vt();return t("search"),P$}var T$={},N$;function vie(){if(N$)return T$;N$=1;var t=vt();return t("species"),T$}var I$={},R$;function gie(){if(R$)return I$;R$=1;var t=vt();return t("split"),I$}var j$={},$$;function LK(){if($$)return j$;$$=1;var t=vt(),e=$K();return t("toPrimitive"),e(),j$}var k$={},D$;function yie(){if(D$)return k$;D$=1;var t=vn(),e=vt(),r=So();return e("toStringTag"),r(t("Symbol"),"Symbol"),k$}var q$={},M$;function bie(){if(M$)return q$;M$=1;var t=vt();return t("unscopables"),q$}var A$={},F$;function wie(){if(F$)return A$;F$=1;var t=qt(),e=So();return e(t.JSON,"JSON",!0),A$}var jg,L$;function xie(){if(L$)return jg;L$=1,IK(),qK(),MK(),uie(),AK(),cie(),die(),FK(),hie(),fie(),pie(),mie(),vie(),gie(),LK(),yie(),bie(),wie();var t=Vt();return jg=t.Symbol,jg}var B$={},$g,z$;function _ie(){return z$||(z$=1,$g=function(){}),$g}var kg,U$;function Ou(){return U$||(U$=1,kg={}),kg}var Dg,W$;function Sie(){if(W$)return Dg;W$=1;var t=Mt(),e=Zt(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return Dg={EXISTS:i,PROPER:s,CONFIGURABLE:a},Dg}var qg,H$;function Eie(){if(H$)return qg;H$=1;var t=He();return qg=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),qg}var Mg,V$;function BK(){if(V$)return Mg;V$=1;var t=Zt(),e=Xt(),r=ri(),n=Ap(),i=Eie(),s=n("IE_PROTO"),a=Object,o=a.prototype;return Mg=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},Mg}var Ag,K$;function zK(){if(K$)return Ag;K$=1;var t=He(),e=Xt(),r=qr(),n=Md(),i=BK(),s=Ad(),a=er(),o=bu(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),Ag={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},Ag}var Fg,G$;function Oie(){if(G$)return Fg;G$=1;var t=zK().IteratorPrototype,e=Md(),r=Rd(),n=So(),i=Ou(),s=function(){return this};return Fg=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},Fg}var Lg,Y$;function Pie(){if(Y$)return Lg;Y$=1;var t=Qe(),e=os();return Lg=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},Lg}var Bg,Q$;function Cie(){if(Q$)return Bg;Q$=1;var t=qr();return Bg=function(e){return t(e)||e===null},Bg}var zg,X$;function Tie(){if(X$)return zg;X$=1;var t=Cie(),e=String,r=TypeError;return zg=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},zg}var Ug,J$;function Nie(){if(J$)return Ug;J$=1;var t=Pie(),e=qr(),r=xo(),n=Tie();return Ug=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),Ug}var Wg,Z$;function qT(){if(Z$)return Wg;Z$=1;var t=Oe(),e=tn(),r=bu(),n=Sie(),i=Xt(),s=Oie(),a=BK(),o=Nie(),l=So(),u=xu(),d=Ad(),h=er(),f=Ou(),p=zK(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return Wg=function(O,S,P,C,I,T,N){s(P,S,C);var q=function(ve){if(ve===I&&V)return V;if(!g&&ve&&ve in K)return K[ve];switch(ve){case x:return function(){return new P(this,ve)};case w:return function(){return new P(this,ve)};case _:return function(){return new P(this,ve)}}return function(){return new P(this)}},z=S+" Iterator",te=!1,K=O.prototype,L=K[v]||K["@@iterator"]||I&&K[I],V=!g&&L||q(I),U=S==="Array"&&K.entries||L,W,ee,fe;if(U&&(W=a(U.call(new O)),W!==Object.prototype&&W.next&&(!r&&a(W)!==b&&(o?o(W,b):i(W[v])||d(W,v,E)),l(W,z,!0,!0),r&&(f[z]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(K,"name",w):(te=!0,V=function(){return e(L,this)})),I)if(ee={values:q(w),keys:T?V:q(x),entries:q(_)},N)for(fe in ee)(g||te||!(fe in K))&&d(K,fe,ee[fe]);else t({target:S,proto:!0,forced:g||te},ee);return(!r||N)&&K[v]!==V&&d(K,v,V,{name:I}),f[S]=V,ee},Wg}var Hg,ek;function MT(){return ek||(ek=1,Hg=function(t,e){return{value:t,done:e}}),Hg}var Vg,tk;function ha(){if(tk)return Vg;tk=1;var t=_i(),e=_ie(),r=Ou(),n=Fd(),i=jn().f,s=qT(),a=MT(),o=bu(),l=Mt(),u="Array Iterator",d=n.set,h=n.getterFor(u);Vg=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return Vg}var Kg,rk;function Iie(){return rk||(rk=1,Kg={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),Kg}var nk;function fa(){if(nk)return B$;nk=1,ha();var t=Iie(),e=qt(),r=So(),n=Ou();for(var i in t)r(e[i],i),n[i]=n.Array;return B$}var Gg,ik;function UK(){if(ik)return Gg;ik=1;var t=xie();return fa(),Gg=t,Gg}var sk={},ak;function Rie(){if(ak)return sk;ak=1;var t=er(),e=jn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),sk}var ok={},lk;function jie(){return lk||(lk=1,MK()),ok}var uk={},ck;function $ie(){return ck||(ck=1,AK()),uk}var dk={},hk;function kie(){if(hk)return dk;hk=1;var t=vt();return t("metadata"),dk}var Yg,fk;function Die(){if(fk)return Yg;fk=1;var t=UK();return Rie(),jie(),$ie(),kie(),Yg=t,Yg}var pk={},Qg,mk;function WK(){if(mk)return Qg;mk=1;var t=vn(),e=Qe(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return Qg=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},Qg}var vk;function qie(){if(vk)return pk;vk=1;var t=Oe(),e=WK();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),pk}var gk={},Xg,yk;function HK(){if(yk)return Xg;yk=1;for(var t=wu(),e=vn(),r=Qe(),n=kd(),i=er(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return Xg=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},Xg}var bk;function Mie(){if(bk)return gk;bk=1;var t=Oe(),e=HK();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),gk}var wk={},xk;function Aie(){if(xk)return wk;xk=1;var t=vt();return t("customMatcher"),wk}var _k={},Sk;function Fie(){if(Sk)return _k;Sk=1;var t=vt();return t("observable"),_k}var Ek={},Ok;function Lie(){if(Ok)return Ek;Ok=1;var t=Oe(),e=WK();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),Ek}var Pk={},Ck;function Bie(){if(Ck)return Pk;Ck=1;var t=Oe(),e=HK();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),Pk}var Tk={},Nk;function zie(){if(Nk)return Tk;Nk=1;var t=vt();return t("matcher"),Tk}var Ik={},Rk;function Uie(){if(Rk)return Ik;Rk=1;var t=vt();return t("metadataKey"),Ik}var jk={},$k;function Wie(){if($k)return jk;$k=1;var t=vt();return t("patternMatch"),jk}var kk={},Dk;function Hie(){if(Dk)return kk;Dk=1;var t=vt();return t("replaceAll"),kk}var Jg,qk;function Vie(){if(qk)return Jg;qk=1;var t=Die();return qie(),Mie(),Aie(),Fie(),Lie(),Bie(),zie(),Uie(),Wie(),Hie(),Jg=t,Jg}var Zg,Mk;function Kie(){return Mk||(Mk=1,Zg=Vie()),Zg}var Gie=Kie(),kh=ke(Gie),Ak={},ey,Fk;function Yie(){if(Fk)return ey;Fk=1;var t=Qe(),e=_u(),r=da(),n=xo(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return ey={codeAt:o(!1),charAt:o(!0)},ey}var Lk;function zp(){if(Lk)return Ak;Lk=1;var t=Yie().charAt,e=da(),r=Fd(),n=qT(),i=MT(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),Ak}var ty,Bk;function Qie(){if(Bk)return ty;Bk=1,ha(),zp(),FK();var t=Bp();return ty=t.f("iterator"),ty}var ry,zk;function VK(){if(zk)return ry;zk=1;var t=Qie();return fa(),ry=t,ry}var ny,Uk;function Xie(){if(Uk)return ny;Uk=1;var t=VK();return ny=t,ny}var iy,Wk;function Jie(){if(Wk)return iy;Wk=1;var t=Xie();return iy=t,iy}var sy,Hk;function Zie(){return Hk||(Hk=1,sy=Jie()),sy}var ese=Zie(),tse=ke(ese);function Zc(t){"@babel/helpers - typeof";return Zc=typeof kh=="function"&&typeof tse=="symbol"?function(e){return typeof e}:function(e){return e&&typeof kh=="function"&&e.constructor===kh&&e!==kh.prototype?"symbol":typeof e},Zc(t)}var ay,Vk;function rse(){if(Vk)return ay;Vk=1,LK();var t=Bp();return ay=t.f("toPrimitive"),ay}var oy,Kk;function nse(){if(Kk)return oy;Kk=1;var t=rse();return oy=t,oy}var ly,Gk;function ise(){if(Gk)return ly;Gk=1;var t=nse();return ly=t,ly}var uy,Yk;function sse(){if(Yk)return uy;Yk=1;var t=ise();return uy=t,uy}var cy,Qk;function ase(){return Qk||(Qk=1,cy=sse()),cy}var ose=ase(),lse=ke(ose);function use(t,e){if(Zc(t)!="object"||!t)return t;var r=t[lse];if(r!==void 0){var n=r.call(t,e);if(Zc(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function cse(t){var e=use(t,"string");return Zc(e)=="symbol"?e:e+""}function Ks(t,e,r){return(e=cse(e))in t?Qne(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var Xk={},dy,Jk;function dse(){if(Jk)return dy;Jk=1;var t=Qe(),e=os(),r=qr(),n=Zt(),i=Su(),s=Id(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return dy=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},dy}var Zk;function hse(){if(Zk)return Xk;Zk=1;var t=Oe(),e=dse();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),Xk}var hy,eD;function rn(){if(eD)return hy;eD=1;var t=qt(),e=Vt();return hy=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},hy}var fy,tD;function fse(){if(tD)return fy;tD=1,hse();var t=rn();return fy=t("Function","bind"),fy}var py,rD;function pse(){if(rD)return py;rD=1;var t=Jt(),e=fse(),r=Function.prototype;return py=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},py}var my,nD;function mse(){if(nD)return my;nD=1;var t=pse();return my=t,my}var vy,iD;function vse(){return iD||(iD=1,vy=mse()),vy}var gse=vse(),KK=ke(gse),sD={},gy,aD;function yse(){if(aD)return gy;aD=1;var t=os(),e=ri(),r=jp(),n=ua(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return gy={left:a(!1),right:a(!0)},gy}var yy,oD;function Up(){if(oD)return yy;oD=1;var t=He();return yy=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},yy}var by,lD;function GK(){if(lD)return by;lD=1;var t=qt(),e=vu(),r=as(),n=function(i){return e.slice(0,i.length)===i};return by=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),by}var wy,uD;function bse(){if(uD)return wy;uD=1;var t=GK();return wy=t==="NODE",wy}var cD;function wse(){if(cD)return sD;cD=1;var t=Oe(),e=yse().left,r=Up(),n=$d(),i=bse(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),sD}var xy,dD;function xse(){if(dD)return xy;dD=1,wse();var t=rn();return xy=t("Array","reduce"),xy}var _y,hD;function _se(){if(hD)return _y;hD=1;var t=Jt(),e=xse(),r=Array.prototype;return _y=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},_y}var Sy,fD;function Sse(){if(fD)return Sy;fD=1;var t=_se();return Sy=t,Sy}var Ey,pD;function Ese(){return pD||(pD=1,Ey=Sse()),Ey}var Ose=Ese(),Pse=ke(Ose),mD={},vD;function Cse(){if(vD)return mD;vD=1;var t=Oe(),e=Eu().filter,r=Dd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),mD}var Oy,gD;function Tse(){if(gD)return Oy;gD=1,Cse();var t=rn();return Oy=t("Array","filter"),Oy}var Py,yD;function Nse(){if(yD)return Py;yD=1;var t=Jt(),e=Tse(),r=Array.prototype;return Py=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},Py}var Cy,bD;function Ise(){if(bD)return Cy;bD=1;var t=Nse();return Cy=t,Cy}var Ty,wD;function Rse(){return wD||(wD=1,Ty=Ise()),Ty}var jse=Rse(),al=ke(jse),xD={},_D;function $se(){if(_D)return xD;_D=1;var t=Oe(),e=Eu().map,r=Dd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),xD}var Ny,SD;function kse(){if(SD)return Ny;SD=1,$se();var t=rn();return Ny=t("Array","map"),Ny}var Iy,ED;function Dse(){if(ED)return Iy;ED=1;var t=Jt(),e=kse(),r=Array.prototype;return Iy=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Iy}var Ry,OD;function qse(){if(OD)return Ry;OD=1;var t=Dse();return Ry=t,Ry}var jy,PD;function Mse(){return PD||(PD=1,jy=qse()),jy}var Ase=Mse(),Wn=ke(Ase),$y,CD;function Fse(){return CD||(CD=1,$y=UK()),$y}var Lse=Fse(),Bse=ke(Lse),TD={},ND;function zse(){if(ND)return TD;ND=1;var t=Oe(),e=_o(),r=NK(),n=qr(),i=jT(),s=ua(),a=_i(),o=qp(),l=er(),u=Dd(),d=Su(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),TD}var ky,ID;function Use(){if(ID)return ky;ID=1,zse();var t=rn();return ky=t("Array","slice"),ky}var Dy,RD;function Wse(){if(RD)return Dy;RD=1;var t=Jt(),e=Use(),r=Array.prototype;return Dy=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},Dy}var qy,jD;function Hse(){if(jD)return qy;jD=1;var t=Wse();return qy=t,qy}var My,$D;function Vse(){return $D||($D=1,My=Hse()),My}var Kse=Vse(),Gse=ke(Kse),kD={},Ay,DD;function YK(){if(DD)return Ay;DD=1;var t=vn(),e=Qe(),r=Fp(),n=Lp(),i=ls(),s=e([].concat);return Ay=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Ay}var qD;function Yse(){if(qD)return kD;qD=1;var t=Oe(),e=YK();return t({target:"Reflect",stat:!0},{ownKeys:e}),kD}var Fy,MD;function Qse(){if(MD)return Fy;MD=1,Yse();var t=Vt();return Fy=t.Reflect.ownKeys,Fy}var Ly,AD;function Xse(){if(AD)return Ly;AD=1;var t=Qse();return Ly=t,Ly}var By,FD;function Jse(){return FD||(FD=1,By=Xse()),By}var Zse=Jse(),eae=ke(Zse),LD={},BD;function tae(){if(BD)return LD;BD=1;var t=Oe(),e=_o();return t({target:"Array",stat:!0},{isArray:e}),LD}var zy,zD;function rae(){if(zD)return zy;zD=1,tae();var t=Vt();return zy=t.Array.isArray,zy}var Uy,UD;function nae(){if(UD)return Uy;UD=1;var t=rae();return Uy=t,Uy}var Wy,WD;function iae(){return WD||(WD=1,Wy=nae()),Wy}var sae=iae(),li=ke(sae),HD={},VD;function aae(){if(VD)return HD;VD=1;var t=Oe(),e=ri(),r=Mp(),n=He(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),HD}var Hy,KD;function oae(){if(KD)return Hy;KD=1,aae();var t=Vt();return Hy=t.Object.keys,Hy}var Vy,GD;function lae(){if(GD)return Vy;GD=1;var t=oae();return Vy=t,Vy}var Ky,YD;function uae(){return YD||(YD=1,Ky=lae()),Ky}var cae=uae(),AT=ke(cae),QD={},Gy,XD;function dae(){if(XD)return Gy;XD=1;var t=Eu().forEach,e=Up(),r=e("forEach");return Gy=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Gy}var JD;function hae(){if(JD)return QD;JD=1;var t=Oe(),e=dae();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),QD}var Yy,ZD;function fae(){if(ZD)return Yy;ZD=1,hae();var t=rn();return Yy=t("Array","forEach"),Yy}var Qy,eq;function pae(){if(eq)return Qy;eq=1;var t=fae();return Qy=t,Qy}var Xy,tq;function mae(){if(tq)return Xy;tq=1;var t=ca(),e=Zt(),r=Jt(),n=pae(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Xy=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Xy}var Jy,rq;function vae(){return rq||(rq=1,Jy=mae()),Jy}var gae=vae(),uo=ke(gae),nq={},iq;function yae(){if(iq)return nq;iq=1;var t=Oe(),e=Qe(),r=_o(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),nq}var Zy,sq;function bae(){if(sq)return Zy;sq=1,yae();var t=rn();return Zy=t("Array","reverse"),Zy}var eb,aq;function wae(){if(aq)return eb;aq=1;var t=Jt(),e=bae(),r=Array.prototype;return eb=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},eb}var tb,oq;function xae(){if(oq)return tb;oq=1;var t=wae();return tb=t,tb}var rb,lq;function _ae(){return lq||(lq=1,rb=xae()),rb}var Sae=_ae(),Eae=ke(Sae),uq={},nb,cq;function Oae(){if(cq)return nb;cq=1;var t=Mt(),e=_o(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return nb=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},nb}var ib,dq;function QK(){if(dq)return ib;dq=1;var t=yu(),e=TypeError;return ib=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},ib}var hq;function Pae(){if(hq)return uq;hq=1;var t=Oe(),e=ri(),r=jT(),n=_u(),i=ua(),s=Oae(),a=TK(),o=RT(),l=qp(),u=QK(),d=Dd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),uq}var sb,fq;function Cae(){if(fq)return sb;fq=1,Pae();var t=rn();return sb=t("Array","splice"),sb}var ab,pq;function Tae(){if(pq)return ab;pq=1;var t=Jt(),e=Cae(),r=Array.prototype;return ab=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},ab}var ob,mq;function Nae(){if(mq)return ob;mq=1;var t=Tae();return ob=t,ob}var lb,vq;function Iae(){return vq||(vq=1,lb=Nae()),lb}var Rae=Iae(),XK=ke(Rae),gq={},ub,yq;function jae(){if(yq)return ub;yq=1;var t=Mt(),e=Qe(),r=tn(),n=He(),i=Mp(),s=Lp(),a=PT(),o=ri(),l=jp(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return ub=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,ub}var bq;function $ae(){if(bq)return gq;bq=1;var t=Oe(),e=jae();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),gq}var cb,wq;function kae(){if(wq)return cb;wq=1,$ae();var t=Vt();return cb=t.Object.assign,cb}var db,xq;function Dae(){if(xq)return db;xq=1;var t=kae();return db=t,db}var hb,_q;function qae(){return _q||(_q=1,hb=Dae()),hb}var Mae=qae(),Aae=ke(Mae),fb,Sq;function Fae(){if(Sq)return fb;Sq=1,IK();var t=rn();return fb=t("Array","concat"),fb}var pb,Eq;function Lae(){if(Eq)return pb;Eq=1;var t=Jt(),e=Fae(),r=Array.prototype;return pb=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},pb}var mb,Oq;function Bae(){if(Oq)return mb;Oq=1;var t=Lae();return mb=t,mb}var vb,Pq;function zae(){return Pq||(Pq=1,vb=Bae()),vb}var Uae=zae(),Wae=ke(Uae),Cq={},Tq;function Hae(){if(Tq)return Cq;Tq=1;var t=Oe(),e=Mt(),r=Md();return t({target:"Object",stat:!0,sham:!e},{create:r}),Cq}var gb,Nq;function Vae(){if(Nq)return gb;Nq=1,Hae();var t=Vt(),e=t.Object;return gb=function(n,i){return e.create(n,i)},gb}var yb,Iq;function Kae(){if(Iq)return yb;Iq=1;var t=Vae();return yb=t,yb}var bb,Rq;function Gae(){return Rq||(Rq=1,bb=Kae()),bb}var Yae=Gae(),Qae=ke(Yae),jq={},wb,$q;function Xae(){if($q)return wb;$q=1;var t=_u(),e=da(),r=xo(),n=RangeError;return wb=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},wb}var xb,kq;function Jae(){if(kq)return xb;kq=1;var t=Qe(),e=CK(),r=da(),n=Xae(),i=xo(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return xb={start:l(!1),end:l(!0)},xb}var _b,Dq;function Zae(){if(Dq)return _b;Dq=1;var t=Qe(),e=He(),r=Jae().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return _b=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,_b}var qq;function eoe(){if(qq)return jq;qq=1;var t=Oe(),e=tn(),r=ri(),n=_K(),i=Zae(),s=as(),a=He(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),jq}var Sb,Mq;function toe(){if(Mq)return Sb;Mq=1,eoe(),DK();var t=Vt(),e=Rp();return t.JSON||(t.JSON={stringify:JSON.stringify}),Sb=function(n,i,s){return e(t.JSON.stringify,null,arguments)},Sb}var Eb,Aq;function roe(){if(Aq)return Eb;Aq=1;var t=toe();return Eb=t,Eb}var Ob,Fq;function noe(){return Fq||(Fq=1,Ob=roe()),Ob}var ioe=noe(),soe=ke(ioe),Lq={},Bq={},Pb,zq;function aoe(){if(zq)return Pb;zq=1;var t=TypeError;return Pb=function(e,r){if(e<r)throw new t("Not enough arguments");return e},Pb}var Cb,Uq;function JK(){if(Uq)return Cb;Uq=1;var t=qt(),e=Rp(),r=Xt(),n=GK(),i=vu(),s=Su(),a=aoe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return Cb=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},Cb}var Wq;function ooe(){if(Wq)return Bq;Wq=1;var t=Oe(),e=qt(),r=JK(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),Bq}var Hq={},Vq;function loe(){if(Vq)return Hq;Vq=1;var t=Oe(),e=qt(),r=JK(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),Hq}var Kq;function uoe(){return Kq||(Kq=1,ooe(),loe()),Lq}var Tb,Gq;function coe(){if(Gq)return Tb;Gq=1,uoe();var t=Vt();return Tb=t.setTimeout,Tb}var Nb,Yq;function doe(){return Yq||(Yq=1,Nb=coe()),Nb}var hoe=doe(),foe=ke(hoe),Ib={exports:{}},Qq;function poe(){return Qq||(Qq=1,function(t){function e(n){if(n)return r(n);this._callbacks=new Map}function r(n){return Object.assign(n,e.prototype),n._callbacks=new Map,n}e.prototype.on=function(n,i){const s=this._callbacks.get(n)??[];return s.push(i),this._callbacks.set(n,s),this},e.prototype.once=function(n,i){const s=(...a)=>{this.off(n,s),i.apply(this,a)};return s.fn=i,this.on(n,s),this},e.prototype.off=function(n,i){if(n===void 0&&i===void 0)return this._callbacks.clear(),this;if(i===void 0)return this._callbacks.delete(n),this;const s=this._callbacks.get(n);if(s){for(const[a,o]of s.entries())if(o===i||o.fn===i){s.splice(a,1);break}s.length===0?this._callbacks.delete(n):this._callbacks.set(n,s)}return this},e.prototype.emit=function(n,...i){const s=this._callbacks.get(n);if(s){const a=[...s];for(const o of a)o.apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks.get(n)??[]},e.prototype.listenerCount=function(n){if(n)return this.listeners(n).length;let i=0;for(const s of this._callbacks.values())i+=s.length;return i},e.prototype.hasListeners=function(n){return this.listenerCount(n)>0},e.prototype.addEventListener=e.prototype.on,e.prototype.removeListener=e.prototype.off,e.prototype.removeEventListener=e.prototype.off,e.prototype.removeAllListeners=e.prototype.off,t.exports=e}(Ib)),Ib.exports}var moe=poe(),voe=ke(moe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Jn(){return Jn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Jn.apply(this,arguments)}function $n(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Dh(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var HP;typeof Object.assign!="function"?HP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:HP=Object.assign;var co=HP,Xq=["","webkit","Moz","MS","ms","o"],goe=typeof document>"u"?{style:{}}:document.createElement("div"),yoe="function",ol=Math.round,ho=Math.abs,FT=Date.now;function Wp(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<Xq.length;){if(r=Xq[s],n=r?r+i:e,n in t)return n;s++}}var Li;typeof window>"u"?Li={}:Li=window;var ZK=Wp(goe.style,"touchAction"),e9=ZK!==void 0;function boe(){if(!e9)return!1;var t={},e=Li.CSS&&Li.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Li.CSS.supports("touch-action",r):!0}),t}var t9="compute",r9="auto",VP="manipulation",Va="none",ed="pan-x",td="pan-y",qh=boe(),woe=/mobile|tablet|ip(ad|hone|od)|android/i,n9="ontouchstart"in Li,xoe=Wp(Li,"PointerEvent")!==void 0,_oe=n9&&woe.test(navigator.userAgent),Ld="touch",Soe="pen",LT="mouse",Eoe="kinect",Ooe=25,jr=1,Eo=2,$t=4,Jr=8,Hf=1,Bd=2,zd=4,Ud=8,Jl=16,wi=Bd|zd,Ka=Ud|Jl,i9=wi|Ka,s9=["x","y"],Vf=["clientX","clientY"];function Bi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function Hp(t,e){return typeof t===yoe?t.apply(e&&e[0]||void 0,e):t}function Na(t,e){return t.indexOf(e)>-1}function Poe(t){if(Na(t,Va))return Va;var e=Na(t,ed),r=Na(t,td);return e&&r?Va:e||r?e?ed:td:Na(t,VP)?VP:r9}var a9=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===t9&&(n=this.compute()),e9&&this.manager.element.style&&qh[n]&&(this.manager.element.style[ZK]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Bi(this.manager.recognizers,function(i){Hp(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),Poe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Na(a,Va)&&!qh[Va],l=Na(a,td)&&!qh[td],u=Na(a,ed)&&!qh[ed];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&wi||u&&s&Ka))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function BT(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function o9(t){var e=t.length;if(e===1)return{x:ol(t[0].clientX),y:ol(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:ol(r/e),y:ol(n/e)}}function Jq(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:ol(t.pointers[r].clientX),clientY:ol(t.pointers[r].clientY)},r++;return{timeStamp:FT(),pointers:e,center:o9(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Kf(t,e,r){r||(r=s9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function KP(t,e,r){r||(r=s9);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function l9(t,e){return t===e?Hf:ho(t)>=ho(e)?t<0?Bd:zd:e<0?Ud:Jl}function Coe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===jr||s.eventType===$t)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function u9(t,e,r){return{x:e/t||0,y:r/t||0}}function Toe(t,e){return Kf(e[0],e[1],Vf)/Kf(t[0],t[1],Vf)}function Noe(t,e){return KP(e[1],e[0],Vf)+KP(t[1],t[0],Vf)}function Ioe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Jr&&(n>Ooe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=u9(n,l,u);s=d.x,a=d.y,i=ho(d.x)>ho(d.y)?d.x:d.y,o=l9(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Roe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=Jq(e)),i>1&&!r.firstMultiple?r.firstMultiple=Jq(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=o9(n);e.timeStamp=FT(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=KP(o,l),e.distance=Kf(o,l),Coe(r,e),e.offsetDirection=l9(e.deltaX,e.deltaY);var u=u9(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=ho(u.x)>ho(u.y)?u.x:u.y,e.scale=a?Toe(a.pointers,n):1,e.rotation=a?Noe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Ioe(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,BT(f,d)&&(d=f),e.target=d}function joe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&jr&&n-i===0,a=e&($t|Jr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Roe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function rd(t){return t.trim().split(/\s+/g)}function Sc(t,e,r){Bi(rd(e),function(n){t.addEventListener(n,r,!1)})}function Ec(t,e,r){Bi(rd(e),function(n){t.removeEventListener(n,r,!1)})}function Zq(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Pu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){Hp(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Sc(this.element,this.evEl,this.domHandler),this.evTarget&&Sc(this.target,this.evTarget,this.domHandler),this.evWin&&Sc(Zq(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Ec(this.element,this.evEl,this.domHandler),this.evTarget&&Ec(this.target,this.evTarget,this.domHandler),this.evWin&&Ec(Zq(this.element),this.evWin,this.domHandler)},t}();function fo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var $oe={pointerdown:jr,pointermove:Eo,pointerup:$t,pointercancel:Jr,pointerout:Jr},koe={2:Ld,3:Soe,4:LT,5:Eoe},c9="pointerdown",d9="pointermove pointerup pointercancel";Li.MSPointerEvent&&!Li.PointerEvent&&(c9="MSPointerDown",d9="MSPointerMove MSPointerUp MSPointerCancel");var h9=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=c9,i.evWin=d9,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=$oe[o],u=koe[i.pointerType]||i.pointerType,d=u===Ld,h=fo(s,i.pointerId,"pointerId");l&jr&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&($t|Jr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Pu);function nd(t){return Array.prototype.slice.call(t,0)}function zT(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];fo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var Doe={touchstart:jr,touchmove:Eo,touchend:$t,touchcancel:Jr},qoe="touchstart touchmove touchend touchcancel",UT=function(t){$n(e,t);function e(){var n;return e.prototype.evTarget=qoe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=Doe[i.type],a=Moe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ld,srcEvent:i})},e}(Pu);function Moe(t,e){var r=nd(t.touches),n=this.targetIds;if(e&(jr|Eo)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=nd(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return BT(u.target,l)}),e===jr)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&($t|Jr)&&delete n[a[i].identifier],i++;if(o.length)return[zT(s.concat(o),"identifier",!0),o]}var Aoe={mousedown:jr,mousemove:Eo,mouseup:$t},Foe="mousedown",Loe="mousemove mouseup",WT=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evEl=Foe,i.evWin=Loe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Aoe[i.type];s&jr&&i.button===0&&(this.pressed=!0),s&Eo&&i.which!==1&&(s=$t),this.pressed&&(s&$t&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:LT,srcEvent:i}))},e}(Pu),Boe=2500,eM=25;function tM(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Boe)}}function zoe(t,e){t&jr?(this.primaryTouch=e.changedPointers[0].identifier,tM.call(this,e)):t&($t|Jr)&&tM.call(this,e)}function Uoe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=eM&&a<=eM)return!0}return!1}var f9=function(){var t=function(e){$n(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===Ld,h=u.pointerType===LT;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)zoe.call(Dh(Dh(a)),l,u);else if(h&&Uoe.call(Dh(Dh(a)),u))return;a.callback(o,l,u)}},a.touch=new UT(a.manager,a.handler),a.mouse=new WT(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Pu);return t}();function Woe(t){var e,r=t.options.inputClass;return r?e=r:xoe?e=h9:_oe?e=UT:n9?e=f9:e=WT,new e(t,joe)}function ll(t,e,r){return Array.isArray(t)?(Bi(t,r[e],r),!0):!1}var af=1,Tn=2,Zl=4,Gs=8,zi=Gs,id=16,mi=32,Hoe=1;function Voe(){return Hoe++}function Mh(t,e){var r=e.manager;return r?r.get(t):t}function rM(t){return t&id?"cancel":t&Gs?"end":t&Zl?"move":t&Tn?"start":""}var Wd=function(){function t(r){r===void 0&&(r={}),this.options=Jn({enable:!0},r),this.id=Voe(),this.manager=null,this.state=af,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return co(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(ll(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Mh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return ll(n,"dropRecognizeWith",this)?this:(n=Mh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(ll(n,"requireFailure",this))return this;var i=this.requireFail;return n=Mh(n,this),fo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(ll(n,"dropRequireFailure",this))return this;n=Mh(n,this);var i=fo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Gs&&a(i.options.event+rM(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Gs&&a(i.options.event+rM(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=mi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(mi|af)))return!1;n++}return!0},e.recognize=function(n){var i=co({},n);if(!Hp(this.options.enable,[this,i])){this.reset(),this.state=mi;return}this.state&(zi|id|mi)&&(this.state=af),this.state=this.process(i),this.state&(Tn|Zl|Gs|id)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),GP=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[VP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&jr&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==$t)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Kf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=zi,s.tryEmit()},a.interval),Tn):zi}return mi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=mi},this.options.interval),mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===zi&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(Wd),eu=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Tn|Zl),l=this.attrTest(i);return o&&(a&Jr||!l)?s|id:o||l?a&$t?s|Gs:s&Tn?s|Zl:Tn:mi},e}(Wd);function p9(t){return t===Jl?"down":t===Ud?"up":t===Bd?"left":t===zd?"right":""}var HT=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"pan",threshold:10,pointers:1,direction:i9},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&wi&&s.push(td),i&Ka&&s.push(ed),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&wi?(l=u===0?Hf:u<0?Bd:zd,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Hf:d<0?Ud:Jl,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return eu.prototype.attrTest.call(this,i)&&(this.state&Tn||!(this.state&Tn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=p9(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(eu),m9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"swipe",threshold:10,velocity:.3,direction:wi|Ka,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return HT.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(wi|Ka)?a=i.overallVelocity:s&wi?a=i.overallVelocityX:s&Ka&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&ho(a)>this.options.velocity&&i.eventType&$t},r.emit=function(i){var s=p9(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(eu),v9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Va]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Tn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(eu),g9=function(t){$n(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Jn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Va]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Tn)},e}(eu),y9=function(t){$n(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Jn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[r9]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&($t|Jr)&&!u)this.reset();else if(i.eventType&jr)this.reset(),this._timer=setTimeout(function(){s.state=zi,s.tryEmit()},a.time);else if(i.eventType&$t)return zi;return mi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===zi&&(i&&i.eventType&$t?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=FT(),this.manager.emit(this.options.event,this._input)))},e}(Wd),b9={domEvents:!1,touchAction:t9,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},nM=[[g9,{enable:!1}],[v9,{enable:!1},["rotate"]],[m9,{direction:wi}],[HT,{direction:wi},["swipe"]],[GP],[GP,{event:"doubletap",taps:2},["tap"]],[y9]],Koe=1,iM=2;function sM(t,e){var r=t.element;if(r.style){var n;Bi(t.options.cssProps,function(i,s){n=Wp(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function Goe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var aM=function(){function t(r,n){var i=this;this.options=co({},b9,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Woe(this),this.touchAction=new a9(this,this.options.touchAction),sM(this,!0),Bi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return co(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?iM:Koe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&zi)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==iM&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Tn|Zl|Gs)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof Wd)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(ll(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(ll(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=fo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Bi(rd(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Bi(rd(n),function(a){i?s[a]&&s[a].splice(fo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&Goe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&sM(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),Yoe={touchstart:jr,touchmove:Eo,touchend:$t,touchcancel:Jr},Qoe="touchstart",Xoe="touchstart touchmove touchend touchcancel",Joe=function(t){$n(e,t);function e(){var n,i=e.prototype;return i.evTarget=Qoe,i.evWin=Xoe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=Yoe[i.type];if(s===jr&&(this.started=!0),!!this.started){var a=Zoe.call(this,i,s);s&($t|Jr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:Ld,srcEvent:i})}},e}(Pu);function Zoe(t,e){var r=nd(t.touches),n=nd(t.changedTouches);return e&($t|Jr)&&(r=zT(r.concat(n),"identifier",!0)),[r,n]}function w9(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var x9=w9(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),ele=w9(function(t,e){return x9(t,e,!0)},"merge","Use `assign`.");function tle(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&co(i,r)}function oM(t,e){return function(){return t.apply(e,arguments)}}var rle=function(){var t=function(r,n){return n===void 0&&(n={}),new aM(r,Jn({recognizers:nM.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=i9,t.DIRECTION_DOWN=Jl,t.DIRECTION_LEFT=Bd,t.DIRECTION_RIGHT=zd,t.DIRECTION_UP=Ud,t.DIRECTION_HORIZONTAL=wi,t.DIRECTION_VERTICAL=Ka,t.DIRECTION_NONE=Hf,t.DIRECTION_DOWN=Jl,t.INPUT_START=jr,t.INPUT_MOVE=Eo,t.INPUT_END=$t,t.INPUT_CANCEL=Jr,t.STATE_POSSIBLE=af,t.STATE_BEGAN=Tn,t.STATE_CHANGED=Zl,t.STATE_ENDED=Gs,t.STATE_RECOGNIZED=zi,t.STATE_CANCELLED=id,t.STATE_FAILED=mi,t.Manager=aM,t.Input=Pu,t.TouchAction=a9,t.TouchInput=UT,t.MouseInput=WT,t.PointerEventInput=h9,t.TouchMouseInput=f9,t.SingleTouchInput=Joe,t.Recognizer=Wd,t.AttrRecognizer=eu,t.Tap=GP,t.Pan=HT,t.Swipe=m9,t.Pinch=v9,t.Rotate=g9,t.Press=y9,t.on=Sc,t.off=Ec,t.each=Bi,t.merge=ele,t.extend=x9,t.bindFn=oM,t.assign=co,t.inherit=tle,t.bindFn=oM,t.prefixed=Wp,t.toArray=nd,t.inArray=fo,t.uniqueArray=zT,t.splitStr=rd,t.boolOrFn=Hp,t.hasParent=BT,t.addEventListeners=Sc,t.removeEventListeners=Ec,t.defaults=co({},b9,{preset:nM}),t}();const _9=Bse("DELETE");function nle(t){for(var e=arguments.length,r=new Array(e>1?e-1:0),n=1;n<e;n++)r[n-1]=arguments[n];return S9({},t,...r)}function S9(){const t=Gf(...arguments);return O9(t),t}function Gf(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<2)return e[0];if(e.length>2)return Gf(S9(e[0],e[1]),...Gse(e).call(e,2));const n=e[0],i=e[1];if(n instanceof Date&&i instanceof Date)return n.setTime(i.getTime()),n;for(const s of eae(i))Object.prototype.propertyIsEnumerable.call(i,s)&&(i[s]===_9?delete n[s]:n[s]!==null&&i[s]!==null&&typeof n[s]=="object"&&typeof i[s]=="object"&&!li(n[s])&&!li(i[s])?n[s]=Gf(n[s],i[s]):n[s]=E9(i[s]));return n}function E9(t){return li(t)?Wn(t).call(t,e=>E9(e)):typeof t=="object"&&t!==null?t instanceof Date?new Date(t.getTime()):Gf({},t):t}function O9(t){for(const e of AT(t))t[e]===_9?delete t[e]:typeof t[e]=="object"&&t[e]!==null&&O9(t[e])}function ile(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const sle=typeof window<"u"?window.Hammer||rle:function(){return ile()};function qi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=sle(this._dom.overlay);r.on("tap",KK(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];uo(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{ale(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}voe(qi.prototype);qi.current=null;qi.prototype.destroy=function(){this.deactivate();for(const r of Eae(t=XK(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};qi.prototype.activate=function(){qi.current&&qi.current.deactivate(),qi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};qi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};qi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function ale(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}var Rb,lM;function ole(){if(lM)return Rb;lM=1,qK();var t=Vt();return Rb=t.Object.getOwnPropertySymbols,Rb}var jb,uM;function lle(){if(uM)return jb;uM=1;var t=ole();return jb=t,jb}var $b,cM;function ule(){return cM||(cM=1,$b=lle()),$b}var cle=ule(),dM=ke(cle),kb={exports:{}},hM={},fM;function dle(){if(fM)return hM;fM=1;var t=Oe(),e=He(),r=_i(),n=kp().f,i=Mt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),hM}var pM;function hle(){if(pM)return kb.exports;pM=1,dle();var t=Vt(),e=t.Object,r=kb.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),kb.exports}var Db,mM;function fle(){if(mM)return Db;mM=1;var t=hle();return Db=t,Db}var qb,vM;function ple(){return vM||(vM=1,qb=fle()),qb}var mle=ple(),P9=ke(mle),gM={},yM;function vle(){if(yM)return gM;yM=1;var t=Oe(),e=Mt(),r=YK(),n=_i(),i=kp(),s=qp();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),gM}var Mb,bM;function gle(){if(bM)return Mb;bM=1,vle();var t=Vt();return Mb=t.Object.getOwnPropertyDescriptors,Mb}var Ab,wM;function yle(){if(wM)return Ab;wM=1;var t=gle();return Ab=t,Ab}var Fb,xM;function ble(){return xM||(xM=1,Fb=yle()),Fb}var wle=ble(),_M=ke(wle),Lb={exports:{}},SM={},EM;function xle(){if(EM)return SM;EM=1;var t=Oe(),e=Mt(),r=kT().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),SM}var OM;function _le(){if(OM)return Lb.exports;OM=1,xle();var t=Vt(),e=t.Object,r=Lb.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),Lb.exports}var Bb,PM;function Sle(){if(PM)return Bb;PM=1;var t=_le();return Bb=t,Bb}var zb,CM;function Ele(){return CM||(CM=1,zb=Sle()),zb}var Ole=Ele(),Ple=ke(Ole),Ub,TM;function Cle(){return TM||(TM=1,Ub=PK()),Ub}var Tle=Cle(),Nle=ke(Tle),NM={},IM={},Wb={exports:{}},Hb,RM;function Ile(){if(RM)return Hb;RM=1;var t=He();return Hb=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Hb}var Vb,jM;function Rle(){if(jM)return Vb;jM=1;var t=He(),e=qr(),r=as(),n=Ile(),i=Object.isExtensible,s=t(function(){});return Vb=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,Vb}var Kb,$M;function jle(){if($M)return Kb;$M=1;var t=He();return Kb=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),Kb}var kM;function C9(){if(kM)return Wb.exports;kM=1;var t=Oe(),e=Qe(),r=qd(),n=qr(),i=Zt(),s=jn().f,a=Fp(),o=jK(),l=Rle(),u=$p(),d=jle(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=Wb.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,Wb.exports}var Gb,DM;function $le(){if(DM)return Gb;DM=1;var t=er(),e=Ou(),r=t("iterator"),n=Array.prototype;return Gb=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},Gb}var Yb,qM;function T9(){if(qM)return Yb;qM=1;var t=ca(),e=CT(),r=jd(),n=Ou(),i=er(),s=i("iterator");return Yb=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},Yb}var Qb,MM;function N9(){if(MM)return Qb;MM=1;var t=tn(),e=os(),r=ls(),n=yu(),i=T9(),s=TypeError;return Qb=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},Qb}var Xb,AM;function VT(){if(AM)return Xb;AM=1;var t=tn(),e=ls(),r=CT();return Xb=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},Xb}var Jb,FM;function KT(){if(FM)return Jb;FM=1;var t=Dp(),e=tn(),r=ls(),n=yu(),i=$le(),s=ua(),a=Jt(),o=N9(),l=T9(),u=VT(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return Jb=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,T,N=function(z){return E&&u(E,"normal"),new h(!0,z)},q=function(z){return g?(r(z),w?_(z[0],z[1],N):_(z[0],z[1])):w?_(z,N):_(z)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(T=e(I,E)).done;){try{C=q(T.value)}catch(z){u(E,"throw",z)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},Jb}var Zb,LM;function I9(){if(LM)return Zb;LM=1;var t=Jt(),e=TypeError;return Zb=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},Zb}var e0,BM;function R9(){if(BM)return e0;BM=1;var t=Oe(),e=qt(),r=C9(),n=He(),i=xu(),s=KT(),a=I9(),o=Xt(),l=qr(),u=jd(),d=So(),h=jn().f,f=Eu().forEach,p=Mt(),m=Fd(),y=m.set,b=m.getterFor;return e0=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(N,q){y(a(N,I),{type:g,collection:new O}),u(q)||s(q,N[E],{that:N,AS_ENTRIES:w})});var I=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var q=N==="add"||N==="set";N in S&&!(_&&N==="clear")&&i(I,N,function(z,te){var K=T(this).collection;if(!q&&_&&!l(z))return N==="get"?void 0:!1;var L=K[N](z===0?0:z,te);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},e0}var t0,zM;function kle(){if(zM)return t0;zM=1;var t=Ad();return t0=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},t0}var r0,UM;function Dle(){if(UM)return r0;UM=1;var t=vn(),e=DT(),r=er(),n=Mt(),i=r("species");return r0=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},r0}var n0,WM;function j9(){if(WM)return n0;WM=1;var t=Md(),e=DT(),r=kle(),n=Dp(),i=I9(),s=jd(),a=KT(),o=qT(),l=MT(),u=Dle(),d=Mt(),h=C9().fastKey,f=Fd(),p=f.set,m=f.getterFor;return n0={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),T=O(S,P),N,q;return T?T.value=C:(I.last=T={index:q=h(P,!0),key:P,value:C,previous:N=I.last,next:null,removed:!1},I.first||(I.first=T),N&&(N.next=T),d?I.size++:S.size++,q!=="F"&&(I.index[q]=T)),S},O=function(S,P){var C=_(S),I=h(P),T;if(I!=="F")return C.index[I];for(T=C.first;T;T=T.next)if(T.key===P)return T};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var T=I.next,N=I.previous;delete C.index[I.index],I.removed=!0,N&&(N.next=T),T&&(T.previous=N),C.first===I&&(C.first=T),C.last===I&&(C.last=N),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(I(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},n0}var HM;function qle(){if(HM)return IM;HM=1;var t=R9(),e=j9();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),IM}var VM;function Mle(){return VM||(VM=1,qle()),NM}var KM={},i0,GM;function $9(){return GM||(GM=1,i0=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),i0}var s0,YM;function Ale(){if(YM)return s0;YM=1;var t=vn(),e=$9(),r=t("Map");return s0={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},s0}var QM;function Fle(){if(QM)return KM;QM=1;var t=Oe(),e=Qe(),r=os(),n=xo(),i=KT(),s=Ale(),a=bu(),o=He(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),KM}var a0,XM;function Lle(){if(XM)return a0;XM=1,ha(),Mle(),Fle(),zp();var t=Vt();return a0=t.Map,a0}var o0,JM;function Ble(){if(JM)return o0;JM=1;var t=Lle();return fa(),o0=t,o0}var l0,ZM;function zle(){return ZM||(ZM=1,l0=Ble()),l0}var Ule=zle(),k9=ke(Ule),eA={},tA;function Wle(){if(tA)return eA;tA=1;var t=Oe(),e=Eu().some,r=Up(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),eA}var u0,rA;function Hle(){if(rA)return u0;rA=1,Wle();var t=rn();return u0=t("Array","some"),u0}var c0,nA;function Vle(){if(nA)return c0;nA=1;var t=Jt(),e=Hle(),r=Array.prototype;return c0=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},c0}var d0,iA;function Kle(){if(iA)return d0;iA=1;var t=Vle();return d0=t,d0}var h0,sA;function Gle(){return sA||(sA=1,h0=Kle()),h0}var Yle=Gle(),Qle=ke(Yle),f0,aA;function Xle(){if(aA)return f0;aA=1,ha();var t=rn();return f0=t("Array","keys"),f0}var p0,oA;function Jle(){if(oA)return p0;oA=1;var t=Xle();return p0=t,p0}var m0,lA;function Zle(){if(lA)return m0;lA=1,fa();var t=ca(),e=Zt(),r=Jt(),n=Jle(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return m0=function(a){var o=a.keys;return a===i||r(i,a)&&o===i.keys||e(s,t(a))?n:o},m0}var v0,uA;function eue(){return uA||(uA=1,v0=Zle()),v0}var tue=eue(),Wo=ke(tue),cA={},g0,dA;function rue(){if(dA)return g0;dA=1;var t=Su(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return g0=r,g0}var y0,hA;function nue(){if(hA)return y0;hA=1;var t=vu(),e=t.match(/firefox\/(\d+)/i);return y0=!!e&&+e[1],y0}var b0,fA;function iue(){if(fA)return b0;fA=1;var t=vu();return b0=/MSIE|Trident/.test(t),b0}var w0,pA;function sue(){if(pA)return w0;pA=1;var t=vu(),e=t.match(/AppleWebKit\/(\d+)\./);return w0=!!e&&+e[1],w0}var mA;function aue(){if(mA)return cA;mA=1;var t=Oe(),e=Qe(),r=os(),n=ri(),i=ua(),s=QK(),a=da(),o=He(),l=rue(),u=Up(),d=nue(),h=iue(),f=$d(),p=sue(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(T,N){return N.v-T.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),T,N;for(N=0;N<I;N++)N in P&&b(C,P[N]);for(l(C,E(S)),T=i(C),N=0;N<T;)P[N]=C[N++];for(;N<I;)s(P,N++);return P}}),cA}var x0,vA;function oue(){if(vA)return x0;vA=1,aue();var t=rn();return x0=t("Array","sort"),x0}var _0,gA;function lue(){if(gA)return _0;gA=1;var t=Jt(),e=oue(),r=Array.prototype;return _0=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},_0}var S0,yA;function uue(){if(yA)return S0;yA=1;var t=lue();return S0=t,S0}var E0,bA;function cue(){return bA||(bA=1,E0=uue()),E0}var due=cue(),YP=ke(due),O0,wA;function hue(){if(wA)return O0;wA=1,ha();var t=rn();return O0=t("Array","values"),O0}var P0,xA;function fue(){if(xA)return P0;xA=1;var t=hue();return P0=t,P0}var C0,_A;function pue(){if(_A)return C0;_A=1,fa();var t=ca(),e=Zt(),r=Jt(),n=fue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return C0=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},C0}var T0,SA;function mue(){return SA||(SA=1,T0=pue()),T0}var vue=mue(),EA=ke(vue),N0,OA;function gue(){return OA||(OA=1,N0=VK()),N0}var yue=gue(),ul=ke(yue),I0,PA;function bue(){if(PA)return I0;PA=1,ha();var t=rn();return I0=t("Array","entries"),I0}var R0,CA;function wue(){if(CA)return R0;CA=1;var t=bue();return R0=t,R0}var j0,TA;function xue(){if(TA)return j0;TA=1,fa();var t=ca(),e=Zt(),r=Jt(),n=wue(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return j0=function(a){var o=a.entries;return a===i||r(i,a)&&o===i.entries||e(s,t(a))?n:o},j0}var $0,NA;function _ue(){return NA||(NA=1,$0=xue()),$0}var Sue=_ue(),Eue=ke(Sue);const sr=[];for(let t=0;t<256;++t)sr.push((t+256).toString(16).slice(1));function Oue(t,e=0){return(sr[t[e+0]]+sr[t[e+1]]+sr[t[e+2]]+sr[t[e+3]]+"-"+sr[t[e+4]]+sr[t[e+5]]+"-"+sr[t[e+6]]+sr[t[e+7]]+"-"+sr[t[e+8]]+sr[t[e+9]]+"-"+sr[t[e+10]]+sr[t[e+11]]+sr[t[e+12]]+sr[t[e+13]]+sr[t[e+14]]+sr[t[e+15]]).toLowerCase()}let k0;const Pue=new Uint8Array(16);function Cue(){if(!k0){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");k0=crypto.getRandomValues.bind(crypto)}return k0(Pue)}const Tue=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var IA={randomUUID:Tue};function Nue(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??Cue();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,Oue(n)}function Iue(t,e,r){return IA.randomUUID&&!t?IA.randomUUID():Nue(t)}function RA(t){return typeof t=="string"||typeof t=="number"}class GT{constructor(e){Ks(this,"_queue",[]),Ks(this,"_timeout",null),Ks(this,"_extended",null),this.delay=null,this.max=1/0,this.setOptions(e)}setOptions(e){e&&typeof e.delay<"u"&&(this.delay=e.delay),e&&typeof e.max<"u"&&(this.max=e.max),this._flushIfNeeded()}static extend(e,r){const n=new GT(r);if(e.flush!==void 0)throw new Error("Target object already has a property flush");e.flush=()=>{n.flush()};const i=[{name:"flush",original:void 0}];if(r&&r.replace)for(let s=0;s<r.replace.length;s++){const a=r.replace[s];i.push({name:a,original:e[a]}),n.replace(e,a)}return n._extended={object:e,methods:i},n}destroy(){if(this.flush(),this._extended){const e=this._extended.object,r=this._extended.methods;for(let n=0;n<r.length;n++){const i=r[n];i.original?e[i.name]=i.original:delete e[i.name]}this._extended=null}}replace(e,r){const n=this,i=e[r];if(!i)throw new Error("Method "+r+" undefined");e[r]=function(){for(var s=arguments.length,a=new Array(s),o=0;o<s;o++)a[o]=arguments[o];n.queue({args:a,fn:i,context:this})}}queue(e){typeof e=="function"?this._queue.push({fn:e}):this._queue.push(e),this._flushIfNeeded()}_flushIfNeeded(){this._queue.length>this.max&&this.flush(),this._timeout!=null&&(clearTimeout(this._timeout),this._timeout=null),this.queue.length>0&&typeof this.delay=="number"&&(this._timeout=foe(()=>{this.flush()},this.delay))}flush(){var e,r;uo(e=XK(r=this._queue).call(r,0)).call(e,n=>{n.fn.apply(n.context||n.fn,n.args||[])})}}class Yf{constructor(){Ks(this,"_subscribers",{"*":[],add:[],remove:[],update:[]}),Ks(this,"subscribe",Yf.prototype.on),Ks(this,"unsubscribe",Yf.prototype.off)}_trigger(e,r,n){var i;if(e==="*")throw new Error("Cannot trigger event *");uo(i=[...this._subscribers[e],...this._subscribers["*"]]).call(i,s=>{s(e,r,n??null)})}on(e,r){typeof r=="function"&&this._subscribers[e].push(r)}off(e,r){var n;this._subscribers[e]=al(n=this._subscribers[e]).call(n,i=>i!==r)}}var jA={},$A={},kA;function Rue(){if(kA)return $A;kA=1;var t=R9(),e=j9();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),$A}var DA;function jue(){return DA||(DA=1,Rue()),jA}var qA={},D0,MA;function Oo(){if(MA)return D0;MA=1;var t=yu(),e=TypeError;return D0=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},D0}var q0,AA;function Po(){if(AA)return q0;AA=1;var t=vn(),e=$9(),r=t("Set"),n=r.prototype;return q0={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},q0}var M0,FA;function Co(){if(FA)return M0;FA=1;var t=tn();return M0=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},M0}var A0,LA;function Hd(){if(LA)return A0;LA=1;var t=Co();return A0=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},A0}var F0,BA;function YT(){if(BA)return F0;BA=1;var t=Po(),e=Hd(),r=t.Set,n=t.add;return F0=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},F0}var L0,zA;function Vd(){return zA||(zA=1,L0=function(t){return t.size}),L0}var B0,UA;function $ue(){return UA||(UA=1,B0=function(t){return{iterator:t,next:t.next,done:!1}}),B0}var z0,WA;function To(){if(WA)return z0;WA=1;var t=os(),e=ls(),r=tn(),n=_u(),i=$ue(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},z0=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},z0}var U0,HA;function kue(){if(HA)return U0;HA=1;var t=Oo(),e=Po(),r=YT(),n=Vd(),i=To(),s=Hd(),a=Co(),o=e.has,l=e.remove;return U0=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},U0}var W0,VA;function No(){return VA||(VA=1,W0=function(){return!1}),W0}var KA;function Due(){if(KA)return qA;KA=1;var t=Oe(),e=kue(),r=He(),n=No(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),qA}var GA={},H0,YA;function que(){if(YA)return H0;YA=1;var t=Oo(),e=Po(),r=Vd(),n=To(),i=Hd(),s=Co(),a=e.Set,o=e.add,l=e.has;return H0=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},H0}var QA;function Mue(){if(QA)return GA;QA=1;var t=Oe(),e=He(),r=que(),n=No(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),GA}var XA={},V0,JA;function Aue(){if(JA)return V0;JA=1;var t=Oo(),e=Po().has,r=Vd(),n=To(),i=Hd(),s=Co(),a=VT();return V0=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},V0}var ZA;function Fue(){if(ZA)return XA;ZA=1;var t=Oe(),e=Aue(),r=No(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),XA}var eF={},K0,tF;function Lue(){if(tF)return K0;tF=1;var t=Oo(),e=Vd(),r=Hd(),n=To();return K0=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},K0}var rF;function Bue(){if(rF)return eF;rF=1;var t=Oe(),e=Lue(),r=No(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),eF}var nF={},G0,iF;function zue(){if(iF)return G0;iF=1;var t=Oo(),e=Po().has,r=Vd(),n=To(),i=Co(),s=VT();return G0=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},G0}var sF;function Uue(){if(sF)return nF;sF=1;var t=Oe(),e=zue(),r=No(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),nF}var aF={},Y0,oF;function Wue(){if(oF)return Y0;oF=1;var t=Oo(),e=Po(),r=YT(),n=To(),i=Co(),s=e.add,a=e.has,o=e.remove;return Y0=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},Y0}var Q0,lF;function D9(){return lF||(lF=1,Q0=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),Q0}var uF;function Hue(){if(uF)return aF;uF=1;var t=Oe(),e=Wue(),r=D9(),n=No(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),aF}var cF={},X0,dF;function Vue(){if(dF)return X0;dF=1;var t=Oo(),e=Po().add,r=YT(),n=To(),i=Co();return X0=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},X0}var hF;function Kue(){if(hF)return cF;hF=1;var t=Oe(),e=Vue(),r=D9(),n=No(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),cF}var J0,fF;function Gue(){if(fF)return J0;fF=1,ha(),jue(),Due(),Mue(),Fue(),Bue(),Uue(),Hue(),Kue(),zp();var t=Vt();return J0=t.Set,J0}var Z0,pF;function Yue(){if(pF)return Z0;pF=1;var t=Gue();return fa(),Z0=t,Z0}var e1,mF;function Que(){return mF||(mF=1,e1=Yue()),e1}var Xue=Que(),t1=ke(Xue),r1,vF;function Jue(){if(vF)return r1;vF=1,ha(),zp();var t=N9();return r1=t,r1}var n1,gF;function Zue(){if(gF)return n1;gF=1;var t=Jue();return fa(),n1=t,n1}var i1,yF;function ece(){if(yF)return i1;yF=1;var t=Zue();return i1=t,i1}var s1,bF;function tce(){if(bF)return s1;bF=1;var t=ece();return s1=t,s1}var a1,wF;function rce(){return wF||(wF=1,a1=tce()),a1}var o1,xF;function nce(){return xF||(xF=1,o1=rce()),o1}var ice=nce(),l1=ke(ice);class Ia{constructor(e){this._pairs=e}*[ul](){for(const[e,r]of this._pairs)yield[e,r]}*entries(){for(const[e,r]of this._pairs)yield[e,r]}*keys(){for(const[e]of this._pairs)yield e}*values(){for(const[,e]of this._pairs)yield e}toIdArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[0])}toItemArray(){var e;return Wn(e=[...this._pairs]).call(e,r=>r[1])}toEntryArray(){return[...this._pairs]}toObjectMap(){const e=Qae(null);for(const[r,n]of this._pairs)e[r]=n;return e}toMap(){return new k9(this._pairs)}toIdSet(){return new t1(this.toIdArray())}toItemSet(){return new t1(this.toItemArray())}cache(){return new Ia([...this._pairs])}distinct(e){const r=new t1;for(const[n,i]of this._pairs)r.add(e(i,n));return r}filter(e){const r=this._pairs;return new Ia({*[ul](){for(const[n,i]of r)e(i,n)&&(yield[n,i])}})}forEach(e){for(const[r,n]of this._pairs)e(n,r)}map(e){const r=this._pairs;return new Ia({*[ul](){for(const[n,i]of r)yield[n,e(i,n)]}})}max(e){const r=l1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l>s&&(s=l,i=o)}return i}min(e){const r=l1(this._pairs);let n=r.next();if(n.done)return null;let i=n.value[1],s=e(n.value[1],n.value[0]);for(;!(n=r.next()).done;){const[a,o]=n.value,l=e(o,a);l<s&&(s=l,i=o)}return i}reduce(e,r){for(const[n,i]of this._pairs)r=e(r,i,n);return r}sort(e){return new Ia({[ul]:()=>{var r;return l1(YP(r=[...this._pairs]).call(r,(n,i)=>{let[s,a]=n,[o,l]=i;return e(a,l,s,o)}))}})}}function _F(t,e){var r=AT(t);if(dM){var n=dM(t);e&&(n=al(n).call(n,function(i){return P9(t,i).enumerable})),r.push.apply(r,n)}return r}function SF(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?uo(r=_F(Object(i),!0)).call(r,function(s){Ks(t,s,i[s])}):_M?Ple(t,_M(i)):uo(n=_F(Object(i))).call(n,function(s){Nle(t,s,P9(i,s))})}return t}function sce(t,e){return t[e]==null&&(t[e]=Iue()),t}class tu extends Yf{get idProp(){return this._idProp}constructor(e,r){super(),Ks(this,"_queue",null),e&&!li(e)&&(r=e,e=[]),this._options=r||{},this._data=new k9,this.length=0,this._idProp=this._options.fieldId||"id",e&&e.length&&this.add(e),this.setOptions(r)}setOptions(e){e&&e.queue!==void 0&&(e.queue===!1?this._queue&&(this._queue.destroy(),this._queue=null):(this._queue||(this._queue=GT.extend(this,{replace:["add","update","remove"]})),e.queue&&typeof e.queue=="object"&&this._queue.setOptions(e.queue)))}add(e,r){const n=[];let i;if(li(e)){const s=Wn(e).call(e,a=>a[this._idProp]);if(Qle(s).call(s,a=>this._data.has(a)))throw new Error("A duplicate id was found in the parameter array.");for(let a=0,o=e.length;a<o;a++)i=this._addItem(e[a]),n.push(i)}else if(e&&typeof e=="object")i=this._addItem(e),n.push(i);else throw new Error("Unknown dataType");return n.length&&this._trigger("add",{items:n},r),n}update(e,r){const n=[],i=[],s=[],a=[],o=this._idProp,l=u=>{const d=u[o];if(d!=null&&this._data.has(d)){const h=u,f=Aae({},this._data.get(d)),p=this._updateItem(h);i.push(p),a.push(h),s.push(f)}else{const h=this._addItem(u);n.push(h)}};if(li(e))for(let u=0,d=e.length;u<d;u++)e[u]&&typeof e[u]=="object"?l(e[u]):console.warn("Ignoring input item, which is not an object at index "+u);else if(e&&typeof e=="object")l(e);else throw new Error("Unknown dataType");if(n.length&&this._trigger("add",{items:n},r),i.length){const u={items:i,oldData:s,data:a};this._trigger("update",u,r)}return Wae(n).call(n,i)}updateOnly(e,r){var n;li(e)||(e=[e]);const i=Wn(n=Wn(e).call(e,s=>{const a=this._data.get(s[this._idProp]);if(a==null)throw new Error("Updating non-existent items is not allowed.");return{oldData:a,update:s}})).call(n,s=>{let{oldData:a,update:o}=s;const l=a[this._idProp],u=nle(a,o);return this._data.set(l,u),{id:l,oldData:a,updatedData:u}});if(i.length){const s={items:Wn(i).call(i,a=>a.id),oldData:Wn(i).call(i,a=>a.oldData),data:Wn(i).call(i,a=>a.updatedData)};return this._trigger("update",s,r),s.items}else return[]}get(e,r){let n,i,s;RA(e)?(n=e,s=r):li(e)?(i=e,s=r):s=e;const a=s&&s.returnType==="Object"?"Object":"Array",o=s&&al(s),l=[];let u,d,h;if(n!=null)u=this._data.get(n),u&&o&&!o(u)&&(u=void 0);else if(i!=null)for(let p=0,m=i.length;p<m;p++)u=this._data.get(i[p]),u!=null&&(!o||o(u))&&l.push(u);else{var f;d=[...Wo(f=this._data).call(f)];for(let p=0,m=d.length;p<m;p++)h=d[p],u=this._data.get(h),u!=null&&(!o||o(u))&&l.push(u)}if(s&&s.order&&n==null&&this._sort(l,s.order),s&&s.fields){const p=s.fields;if(n!=null&&u!=null)u=this._filterFields(u,p);else for(let m=0,y=l.length;m<y;m++)l[m]=this._filterFields(l[m],p)}if(a=="Object"){const p={};for(let m=0,y=l.length;m<y;m++){const b=l[m],g=b[this._idProp];p[g]=b}return p}else return n!=null?u??null:l}getIds(e){const r=this._data,n=e&&al(e),i=e&&e.order,s=[...Wo(r).call(r)],a=[];if(n)if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l],h=this._data.get(d);h!=null&&n(h)&&o.push(h)}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=this._data.get(u);d!=null&&n(d)&&a.push(d[this._idProp])}else if(i){const o=[];for(let l=0,u=s.length;l<u;l++){const d=s[l];o.push(r.get(d))}this._sort(o,i);for(let l=0,u=o.length;l<u;l++)a.push(o[l][this._idProp])}else for(let o=0,l=s.length;o<l;o++){const u=s[o],d=r.get(u);d!=null&&a.push(d[this._idProp])}return a}getDataSet(){return this}forEach(e,r){const n=r&&al(r),i=this._data,s=[...Wo(i).call(i)];if(r&&r.order){const a=this.get(r);for(let o=0,l=a.length;o<l;o++){const u=a[o],d=u[this._idProp];e(u,d)}}else for(let a=0,o=s.length;a<o;a++){const l=s[a],u=this._data.get(l);u!=null&&(!n||n(u))&&e(u,l)}}map(e,r){const n=r&&al(r),i=[],s=this._data,a=[...Wo(s).call(s)];for(let o=0,l=a.length;o<l;o++){const u=a[o],d=this._data.get(u);d!=null&&(!n||n(d))&&i.push(e(d,u))}return r&&r.order&&this._sort(i,r.order),i}_filterFields(e,r){var n;return e&&Pse(n=li(r)?r:AT(r)).call(n,(i,s)=>(i[s]=e[s],i),{})}_sort(e,r){if(typeof r=="string"){const n=r;YP(e).call(e,(i,s)=>{const a=i[n],o=s[n];return a>o?1:a<o?-1:0})}else if(typeof r=="function")YP(e).call(e,r);else throw new TypeError("Order must be a function or a string")}remove(e,r){const n=[],i=[],s=li(e)?e:[e];for(let a=0,o=s.length;a<o;a++){const l=this._remove(s[a]);if(l){const u=l[this._idProp];u!=null&&(n.push(u),i.push(l))}}return n.length&&this._trigger("remove",{items:n,oldData:i},r),n}_remove(e){let r;if(RA(e)?r=e:e&&typeof e=="object"&&(r=e[this._idProp]),r!=null&&this._data.has(r)){const n=this._data.get(r)||null;return this._data.delete(r),--this.length,n}return null}clear(e){var r;const n=[...Wo(r=this._data).call(r)],i=[];for(let s=0,a=n.length;s<a;s++)i.push(this._data.get(n[s]));return this._data.clear(),this.length=0,this._trigger("remove",{items:n,oldData:i},e),n}max(e){let r=null,n=null;for(const s of EA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a>n)&&(r=s,n=a)}return r||null}min(e){let r=null,n=null;for(const s of EA(i=this._data).call(i)){var i;const a=s[e];typeof a=="number"&&(n==null||a<n)&&(r=s,n=a)}return r||null}distinct(e){const r=this._data,n=[...Wo(r).call(r)],i=[];let s=0;for(let a=0,o=n.length;a<o;a++){const l=n[a],d=r.get(l)[e];let h=!1;for(let f=0;f<s;f++)if(i[f]==d){h=!0;break}!h&&d!==void 0&&(i[s]=d,s++)}return i}_addItem(e){const r=sce(e,this._idProp),n=r[this._idProp];if(this._data.has(n))throw new Error("Cannot add item: item with id "+n+" already exists");return this._data.set(n,r),++this.length,n}_updateItem(e){const r=e[this._idProp];if(r==null)throw new Error("Cannot update item: item has no id (item: "+soe(e)+")");const n=this._data.get(r);if(!n)throw new Error("Cannot update item: no item with id "+r+" found");return this._data.set(r,SF(SF({},n),e)),r}stream(e){if(e){const n=this._data;return new Ia({*[ul](){for(const i of e){const s=n.get(i);s!=null&&(yield[i,s])}}})}else{var r;return new Ia({[ul]:KK(r=Eue(this._data)).call(r,this._data)})}}}function ace(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof e.add=="function"&&typeof e.clear=="function"&&typeof e.distinct=="function"&&typeof uo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.max=="function"&&typeof e.min=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.remove=="function"&&typeof e.setOptions=="function"&&typeof e.stream=="function"&&typeof e.update=="function"&&typeof e.updateOnly=="function"}function q9(t,e){return typeof e=="object"&&e!==null&&t===e.idProp&&typeof uo(e)=="function"&&typeof e.get=="function"&&typeof e.getDataSet=="function"&&typeof e.getIds=="function"&&typeof e.length=="number"&&typeof Wn(e)=="function"&&typeof e.off=="function"&&typeof e.on=="function"&&typeof e.stream=="function"&&ace(t,e.getDataSet())}/**
 * vis-network
 * https://visjs.github.io/vis-network/
 *
 * A dynamic, browser-based visualization library.
 *
 * @version 10.0.2
 * @date    2025-09-15T17:48:13.838Z
 *
 * @copyright (c) 2011-2017 Almende B.V, http://almende.com
 * @copyright (c) 2017-2019 visjs contributors, https://github.com/visjs
 *
 * @license
 * vis.js is dual licensed under both
 *
 *   1. The Apache 2.0 License
 *      http://www.apache.org/licenses/LICENSE-2.0
 *
 *   and
 *
 *   2. The MIT License
 *      http://opensource.org/licenses/MIT
 *
 * vis.js may be distributed under either license.
 */var EF=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Ee(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var OF={},rc,PF;function ut(){if(PF)return rc;PF=1;var t=function(e){return e&&e.Math===Math&&e};return rc=t(typeof globalThis=="object"&&globalThis)||t(typeof window=="object"&&window)||t(typeof self=="object"&&self)||t(typeof EF=="object"&&EF)||t(typeof rc=="object"&&rc)||function(){return this}()||Function("return this")(),rc}var u1,CF;function De(){return CF||(CF=1,u1=function(t){try{return!!t()}catch{return!0}}),u1}var c1,TF;function Kd(){if(TF)return c1;TF=1;var t=De();return c1=!t(function(){var e=(function(){}).bind();return typeof e!="function"||e.hasOwnProperty("prototype")}),c1}var d1,NF;function Vp(){if(NF)return d1;NF=1;var t=Kd(),e=Function.prototype,r=e.apply,n=e.call;return d1=typeof Reflect=="object"&&Reflect.apply||(t?n.bind(r):function(){return n.apply(r,arguments)}),d1}var h1,IF;function Ae(){if(IF)return h1;IF=1;var t=Kd(),e=Function.prototype,r=e.call,n=t&&e.bind.bind(r,r);return h1=t?n:function(i){return function(){return r.apply(i,arguments)}},h1}var f1,RF;function Si(){if(RF)return f1;RF=1;var t=Ae(),e=t({}.toString),r=t("".slice);return f1=function(n){return r(e(n),8,-1)},f1}var p1,jF;function QT(){if(jF)return p1;jF=1;var t=Si(),e=Ae();return p1=function(r){if(t(r)==="Function")return e(r)},p1}var m1,$F;function tr(){if($F)return m1;$F=1;var t=typeof document=="object"&&document.all;return m1=typeof t>"u"&&t!==void 0?function(e){return typeof e=="function"||e===t}:function(e){return typeof e=="function"},m1}var v1={},g1,kF;function Tt(){if(kF)return g1;kF=1;var t=De();return g1=!t(function(){return Object.defineProperty({},1,{get:function(){return 7}})[1]!==7}),g1}var y1,DF;function nn(){if(DF)return y1;DF=1;var t=Kd(),e=Function.prototype.call;return y1=t?e.bind(e):function(){return e.apply(e,arguments)},y1}var b1={},qF;function Kp(){if(qF)return b1;qF=1;var t={}.propertyIsEnumerable,e=Object.getOwnPropertyDescriptor,r=e&&!t.call({1:2},1);return b1.f=r?function(i){var s=e(this,i);return!!s&&s.enumerable}:t,b1}var w1,MF;function Gd(){return MF||(MF=1,w1=function(t,e){return{enumerable:!(t&1),configurable:!(t&2),writable:!(t&4),value:e}}),w1}var x1,AF;function Gp(){if(AF)return x1;AF=1;var t=Ae(),e=De(),r=Si(),n=Object,i=t("".split);return x1=e(function(){return!n("z").propertyIsEnumerable(0)})?function(s){return r(s)==="String"?i(s,""):n(s)}:n,x1}var _1,FF;function Cu(){return FF||(FF=1,_1=function(t){return t==null}),_1}var S1,LF;function us(){if(LF)return S1;LF=1;var t=Cu(),e=TypeError;return S1=function(r){if(t(r))throw new e("Can't call method on "+r);return r},S1}var E1,BF;function ni(){if(BF)return E1;BF=1;var t=Gp(),e=us();return E1=function(r){return t(e(r))},E1}var O1,zF;function rr(){if(zF)return O1;zF=1;var t=tr();return O1=function(e){return typeof e=="object"?e!==null:t(e)},O1}var P1,UF;function Ve(){return UF||(UF=1,P1={}),P1}var C1,WF;function gn(){if(WF)return C1;WF=1;var t=Ve(),e=ut(),r=tr(),n=function(i){return r(i)?i:void 0};return C1=function(i,s){return arguments.length<2?n(t[i])||n(e[i]):t[i]&&t[i][s]||e[i]&&e[i][s]},C1}var T1,HF;function At(){if(HF)return T1;HF=1;var t=Ae();return T1=t({}.isPrototypeOf),T1}var N1,VF;function Tu(){if(VF)return N1;VF=1;var t=ut(),e=t.navigator,r=e&&e.userAgent;return N1=r?String(r):"",N1}var I1,KF;function Yd(){if(KF)return I1;KF=1;var t=ut(),e=Tu(),r=t.process,n=t.Deno,i=r&&r.versions||n&&n.version,s=i&&i.v8,a,o;return s&&(a=s.split("."),o=a[0]>0&&a[0]<4?1:+(a[0]+a[1])),!o&&e&&(a=e.match(/Edge\/(\d+)/),(!a||a[1]>=74)&&(a=e.match(/Chrome\/(\d+)/),a&&(o=+a[1]))),I1=o,I1}var R1,GF;function Nu(){if(GF)return R1;GF=1;var t=Yd(),e=De(),r=ut(),n=r.String;return R1=!!Object.getOwnPropertySymbols&&!e(function(){var i=Symbol("symbol detection");return!n(i)||!(Object(i)instanceof Symbol)||!Symbol.sham&&t&&t<41}),R1}var j1,YF;function M9(){if(YF)return j1;YF=1;var t=Nu();return j1=t&&!Symbol.sham&&typeof Symbol.iterator=="symbol",j1}var $1,QF;function Qd(){if(QF)return $1;QF=1;var t=gn(),e=tr(),r=At(),n=M9(),i=Object;return $1=n?function(s){return typeof s=="symbol"}:function(s){var a=t("Symbol");return e(a)&&r(a.prototype,i(s))},$1}var k1,XF;function Iu(){if(XF)return k1;XF=1;var t=String;return k1=function(e){try{return t(e)}catch{return"Object"}},k1}var D1,JF;function cs(){if(JF)return D1;JF=1;var t=tr(),e=Iu(),r=TypeError;return D1=function(n){if(t(n))return n;throw new r(e(n)+" is not a function")},D1}var q1,ZF;function XT(){if(ZF)return q1;ZF=1;var t=cs(),e=Cu();return q1=function(r,n){var i=r[n];return e(i)?void 0:t(i)},q1}var M1,eL;function oce(){if(eL)return M1;eL=1;var t=nn(),e=tr(),r=rr(),n=TypeError;return M1=function(i,s){var a,o;if(s==="string"&&e(a=i.toString)&&!r(o=t(a,i))||e(a=i.valueOf)&&!r(o=t(a,i))||s!=="string"&&e(a=i.toString)&&!r(o=t(a,i)))return o;throw new n("Can't convert object to primitive value")},M1}var A1={exports:{}},F1,tL;function Ru(){return tL||(tL=1,F1=!0),F1}var L1,rL;function lce(){if(rL)return L1;rL=1;var t=ut(),e=Object.defineProperty;return L1=function(r,n){try{e(t,r,{value:n,configurable:!0,writable:!0})}catch{t[r]=n}return n},L1}var nL;function JT(){if(nL)return A1.exports;nL=1;var t=Ru(),e=ut(),r=lce(),n="__core-js_shared__",i=A1.exports=e[n]||r(n,{});return(i.versions||(i.versions=[])).push({version:"3.44.0",mode:t?"pure":"global",copyright:" 2014-2025 Denis Pushkarev (zloirock.ru)",license:"https://github.com/zloirock/core-js/blob/v3.44.0/LICENSE",source:"https://github.com/zloirock/core-js"}),A1.exports}var B1,iL;function ju(){if(iL)return B1;iL=1;var t=JT();return B1=function(e,r){return t[e]||(t[e]=r||{})},B1}var z1,sL;function yn(){if(sL)return z1;sL=1;var t=us(),e=Object;return z1=function(r){return e(t(r))},z1}var U1,aL;function fr(){if(aL)return U1;aL=1;var t=Ae(),e=yn(),r=t({}.hasOwnProperty);return U1=Object.hasOwn||function(i,s){return r(e(i),s)},U1}var W1,oL;function Yp(){if(oL)return W1;oL=1;var t=Ae(),e=0,r=Math.random(),n=t(1.1.toString);return W1=function(i){return"Symbol("+(i===void 0?"":i)+")_"+n(++e+r,36)},W1}var H1,lL;function Ft(){if(lL)return H1;lL=1;var t=ut(),e=ju(),r=fr(),n=Yp(),i=Nu(),s=M9(),a=t.Symbol,o=e("wks"),l=s?a.for||a:a&&a.withoutSetter||n;return H1=function(u){return r(o,u)||(o[u]=i&&r(a,u)?a[u]:l("Symbol."+u)),o[u]},H1}var V1,uL;function A9(){if(uL)return V1;uL=1;var t=nn(),e=rr(),r=Qd(),n=XT(),i=oce(),s=Ft(),a=TypeError,o=s("toPrimitive");return V1=function(l,u){if(!e(l)||r(l))return l;var d=n(l,o),h;if(d){if(u===void 0&&(u="default"),h=t(d,l,u),!e(h)||r(h))return h;throw new a("Can't convert object to primitive value")}return u===void 0&&(u="number"),i(l,u)},V1}var K1,cL;function ZT(){if(cL)return K1;cL=1;var t=A9(),e=Qd();return K1=function(r){var n=t(r,"string");return e(n)?n:n+""},K1}var G1,dL;function F9(){if(dL)return G1;dL=1;var t=ut(),e=rr(),r=t.document,n=e(r)&&e(r.createElement);return G1=function(i){return n?r.createElement(i):{}},G1}var Y1,hL;function L9(){if(hL)return Y1;hL=1;var t=Tt(),e=De(),r=F9();return Y1=!t&&!e(function(){return Object.defineProperty(r("div"),"a",{get:function(){return 7}}).a!==7}),Y1}var fL;function Qp(){if(fL)return v1;fL=1;var t=Tt(),e=nn(),r=Kp(),n=Gd(),i=ni(),s=ZT(),a=fr(),o=L9(),l=Object.getOwnPropertyDescriptor;return v1.f=t?l:function(d,h){if(d=i(d),h=s(h),o)try{return l(d,h)}catch{}if(a(d,h))return n(!e(r.f,d,h),d[h])},v1}var Q1,pL;function uce(){if(pL)return Q1;pL=1;var t=De(),e=tr(),r=/#|\.prototype\./,n=function(l,u){var d=s[i(l)];return d===o?!0:d===a?!1:e(u)?t(u):!!u},i=n.normalize=function(l){return String(l).replace(r,".").toLowerCase()},s=n.data={},a=n.NATIVE="N",o=n.POLYFILL="P";return Q1=n,Q1}var X1,mL;function Xp(){if(mL)return X1;mL=1;var t=QT(),e=cs(),r=Kd(),n=t(t.bind);return X1=function(i,s){return e(i),s===void 0?i:r?n(i,s):function(){return i.apply(s,arguments)}},X1}var J1={},Z1,vL;function B9(){if(vL)return Z1;vL=1;var t=Tt(),e=De();return Z1=t&&e(function(){return Object.defineProperty(function(){},"prototype",{value:42,writable:!1}).prototype!==42}),Z1}var ew,gL;function Ei(){if(gL)return ew;gL=1;var t=rr(),e=String,r=TypeError;return ew=function(n){if(t(n))return n;throw new r(e(n)+" is not an object")},ew}var yL;function kn(){if(yL)return J1;yL=1;var t=Tt(),e=L9(),r=B9(),n=Ei(),i=ZT(),s=TypeError,a=Object.defineProperty,o=Object.getOwnPropertyDescriptor,l="enumerable",u="configurable",d="writable";return J1.f=t?r?function(f,p,m){if(n(f),p=i(p),n(m),typeof f=="function"&&p==="prototype"&&"value"in m&&d in m&&!m[d]){var y=o(f,p);y&&y[d]&&(f[p]=m.value,m={configurable:u in m?m[u]:y[u],enumerable:l in m?m[l]:y[l],writable:!1})}return a(f,p,m)}:a:function(f,p,m){if(n(f),p=i(p),n(m),e)try{return a(f,p,m)}catch{}if("get"in m||"set"in m)throw new s("Accessors not supported");return"value"in m&&(f[p]=m.value),f},J1}var tw,bL;function $u(){if(bL)return tw;bL=1;var t=Tt(),e=kn(),r=Gd();return tw=t?function(n,i,s){return e.f(n,i,r(1,s))}:function(n,i,s){return n[i]=s,n},tw}var rw,wL;function ge(){if(wL)return rw;wL=1;var t=ut(),e=Vp(),r=QT(),n=tr(),i=Qp().f,s=uce(),a=Ve(),o=Xp(),l=$u(),u=fr(),d=function(h){var f=function(p,m,y){if(this instanceof f){switch(arguments.length){case 0:return new h;case 1:return new h(p);case 2:return new h(p,m)}return new h(p,m,y)}return e(h,this,arguments)};return f.prototype=h.prototype,f};return rw=function(h,f){var p=h.target,m=h.global,y=h.stat,b=h.proto,g=m?t:y?t[p]:t[p]&&t[p].prototype,v=m?a:a[p]||l(a,p,{})[p],x=v.prototype,w,_,E,O,S,P,C,I,T;for(O in f)w=s(m?O:p+(y?".":"#")+O,h.forced),_=!w&&g&&u(g,O),P=v[O],_&&(h.dontCallGetSet?(T=i(g,O),C=T&&T.value):C=g[O]),S=_&&C?C:f[O],!(!w&&!b&&typeof P==typeof S)&&(h.bind&&_?I=o(S,t):h.wrap&&_?I=d(S):b&&n(S)?I=r(S):I=S,(h.sham||S&&S.sham||P&&P.sham)&&l(I,"sham",!0),l(v,O,I),b&&(E=p+"Prototype",u(a,E)||l(a,E,{}),l(a[E],O,S),h.real&&x&&(w||!x[O])&&l(x,O,S)))},rw}var nw,xL;function cce(){if(xL)return nw;xL=1;var t=Math.ceil,e=Math.floor;return nw=Math.trunc||function(n){var i=+n;return(i>0?e:t)(i)},nw}var iw,_L;function ku(){if(_L)return iw;_L=1;var t=cce();return iw=function(e){var r=+e;return r!==r||r===0?0:t(r)},iw}var sw,SL;function Jp(){if(SL)return sw;SL=1;var t=ku(),e=Math.max,r=Math.min;return sw=function(n,i){var s=t(n);return s<0?e(s+i,0):r(s,i)},sw}var aw,EL;function z9(){if(EL)return aw;EL=1;var t=ku(),e=Math.min;return aw=function(r){var n=t(r);return n>0?e(n,9007199254740991):0},aw}var ow,OL;function ds(){if(OL)return ow;OL=1;var t=z9();return ow=function(e){return t(e.length)},ow}var lw,PL;function eN(){if(PL)return lw;PL=1;var t=ni(),e=Jp(),r=ds(),n=function(i){return function(s,a,o){var l=t(s),u=r(l);if(u===0)return!i&&-1;var d=e(o,u),h;if(i&&a!==a){for(;u>d;)if(h=l[d++],h!==h)return!0}else for(;u>d;d++)if((i||d in l)&&l[d]===a)return i||d||0;return!i&&-1}};return lw={includes:n(!0),indexOf:n(!1)},lw}var uw,CL;function Xd(){return CL||(CL=1,uw={}),uw}var cw,TL;function U9(){if(TL)return cw;TL=1;var t=Ae(),e=fr(),r=ni(),n=eN().indexOf,i=Xd(),s=t([].push);return cw=function(a,o){var l=r(a),u=0,d=[],h;for(h in l)!e(i,h)&&e(l,h)&&s(d,h);for(;o.length>u;)e(l,h=o[u++])&&(~n(d,h)||s(d,h));return d},cw}var dw,NL;function tN(){return NL||(NL=1,dw=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]),dw}var hw,IL;function Jd(){if(IL)return hw;IL=1;var t=U9(),e=tN();return hw=Object.keys||function(n){return t(n,e)},hw}var fw={},RL;function Zp(){return RL||(RL=1,fw.f=Object.getOwnPropertySymbols),fw}var pw,jL;function dce(){if(jL)return pw;jL=1;var t=Tt(),e=Ae(),r=nn(),n=De(),i=Jd(),s=Zp(),a=Kp(),o=yn(),l=Gp(),u=Object.assign,d=Object.defineProperty,h=e([].concat);return pw=!u||n(function(){if(t&&u({b:1},u(d({},"a",{enumerable:!0,get:function(){d(this,"b",{value:3,enumerable:!1})}}),{b:2})).b!==1)return!0;var f={},p={},m=Symbol("assign detection"),y="abcdefghijklmnopqrst";return f[m]=7,y.split("").forEach(function(b){p[b]=b}),u({},f)[m]!==7||i(u({},p)).join("")!==y})?function(p,m){for(var y=o(p),b=arguments.length,g=1,v=s.f,x=a.f;b>g;)for(var w=l(arguments[g++]),_=v?h(i(w),v(w)):i(w),E=_.length,O=0,S;E>O;)S=_[O++],(!t||r(x,w,S))&&(y[S]=w[S]);return y}:u,pw}var $L;function hce(){if($L)return OF;$L=1;var t=ge(),e=dce();return t({target:"Object",stat:!0,arity:2,forced:Object.assign!==e},{assign:e}),OF}var mw,kL;function fce(){if(kL)return mw;kL=1,hce();var t=Ve();return mw=t.Object.assign,mw}var vw,DL;function pce(){if(DL)return vw;DL=1;var t=fce();return vw=t,vw}var gw,qL;function mce(){return qL||(qL=1,gw=pce()),gw}var vce=mce(),kt=Ee(vce),ML={},yw,AL;function Du(){if(AL)return yw;AL=1;var t=Ae();return yw=t([].slice),yw}var bw,FL;function gce(){if(FL)return bw;FL=1;var t=Ae(),e=cs(),r=rr(),n=fr(),i=Du(),s=Kd(),a=Function,o=t([].concat),l=t([].join),u={},d=function(h,f,p){if(!n(u,f)){for(var m=[],y=0;y<f;y++)m[y]="a["+y+"]";u[f]=a("C,a","return new C("+l(m,",")+")")}return u[f](h,p)};return bw=s?a.bind:function(f){var p=e(this),m=p.prototype,y=i(arguments,1),b=function(){var v=o(y,i(arguments));return this instanceof b?d(p,v.length,v):p.apply(f,v)};return r(m)&&(b.prototype=m),b},bw}var LL;function yce(){if(LL)return ML;LL=1;var t=ge(),e=gce();return t({target:"Function",proto:!0,forced:Function.bind!==e},{bind:e}),ML}var ww,BL;function pr(){if(BL)return ww;BL=1;var t=ut(),e=Ve();return ww=function(r,n){var i=e[r+"Prototype"],s=i&&i[n];if(s)return s;var a=t[r],o=a&&a.prototype;return o&&o[n]},ww}var xw,zL;function bce(){if(zL)return xw;zL=1,yce();var t=pr();return xw=t("Function","bind"),xw}var _w,UL;function wce(){if(UL)return _w;UL=1;var t=At(),e=bce(),r=Function.prototype;return _w=function(n){var i=n.bind;return n===r||t(r,n)&&i===r.bind?e:i},_w}var Sw,WL;function xce(){if(WL)return Sw;WL=1;var t=wce();return Sw=t,Sw}var Ew,HL;function _ce(){return HL||(HL=1,Ew=xce()),Ew}var Sce=_ce(),Z=Ee(Sce);function rN(t,e,r,n){t.beginPath(),t.arc(e,r,n,0,2*Math.PI,!1),t.closePath()}function Ece(t,e,r,n){t.beginPath(),t.rect(e-n,r-n,n*2,n*2),t.closePath()}function Oce(t,e,r,n){t.beginPath(),n*=1.15,r+=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r-(o-a)),t.lineTo(e+s,r+a),t.lineTo(e-s,r+a),t.lineTo(e,r-(o-a)),t.closePath()}function Pce(t,e,r,n){t.beginPath(),n*=1.15,r-=.275*n;const i=n*2,s=i/2,a=Math.sqrt(3)/6*i,o=Math.sqrt(i*i-s*s);t.moveTo(e,r+(o-a)),t.lineTo(e+s,r-a),t.lineTo(e-s,r-a),t.lineTo(e,r+(o-a)),t.closePath()}function Cce(t,e,r,n){t.beginPath(),n*=.82,r+=.1*n;for(let i=0;i<10;i++){const s=i%2===0?n*1.3:n*.5;t.lineTo(e+s*Math.sin(i*2*Math.PI/10),r-s*Math.cos(i*2*Math.PI/10))}t.closePath()}function Tce(t,e,r,n){t.beginPath(),t.lineTo(e,r+n),t.lineTo(e+n,r),t.lineTo(e,r-n),t.lineTo(e-n,r),t.closePath()}function W9(t,e,r,n,i,s){const a=Math.PI/180;n-2*s<0&&(s=n/2),i-2*s<0&&(s=i/2),t.beginPath(),t.moveTo(e+s,r),t.lineTo(e+n-s,r),t.arc(e+n-s,r+s,s,a*270,a*360,!1),t.lineTo(e+n,r+i-s),t.arc(e+n-s,r+i-s,s,0,a*90,!1),t.lineTo(e+s,r+i),t.arc(e+s,r+i-s,s,a*90,a*180,!1),t.lineTo(e,r+s),t.arc(e+s,r+s,s,a*180,a*270,!1),t.closePath()}function QP(t,e,r,n,i){const s=.5522848,a=n/2*s,o=i/2*s,l=e+n,u=r+i,d=e+n/2,h=r+i/2;t.beginPath(),t.moveTo(e,h),t.bezierCurveTo(e,h-o,d-a,r,d,r),t.bezierCurveTo(d+a,r,l,h-o,l,h),t.bezierCurveTo(l,h+o,d+a,u,d,u),t.bezierCurveTo(d-a,u,e,h+o,e,h),t.closePath()}function H9(t,e,r,n,i){const s=.3333333333333333,a=n,o=i*s,l=.5522848,u=a/2*l,d=o/2*l,h=e+a,f=r+o,p=e+a/2,m=r+o/2,y=r+(i-o/2),b=r+i;t.beginPath(),t.moveTo(h,m),t.bezierCurveTo(h,m+d,p+u,f,p,f),t.bezierCurveTo(p-u,f,e,m+d,e,m),t.bezierCurveTo(e,m-d,p-u,r,p,r),t.bezierCurveTo(p+u,r,h,m-d,h,m),t.lineTo(h,y),t.bezierCurveTo(h,y+d,p+u,b,p,b),t.bezierCurveTo(p-u,b,e,y+d,e,y),t.lineTo(e,m)}function V9(t,e,r,n,i,s){t.beginPath(),t.moveTo(e,r);const a=s.length,o=n-e,l=i-r,u=l/o;let d=Math.sqrt(o*o+l*l),h=0,f=!0,p=0,m=+s[0];for(;d>=.1;)m=+s[h++%a],m>d&&(m=d),p=Math.sqrt(m*m/(1+u*u)),p=o<0?-p:p,e+=p,r+=u*p,f===!0?t.lineTo(e,r):t.moveTo(e,r),d-=m,f=!f}function Nce(t,e,r,n){t.beginPath();const i=6,s=Math.PI*2/i;t.moveTo(e+n,r);for(let a=1;a<i;a++)t.lineTo(e+n*Math.cos(s*a),r+n*Math.sin(s*a));t.closePath()}const VL={circle:rN,dashedLine:V9,database:H9,diamond:Tce,ellipse:QP,ellipse_vis:QP,hexagon:Nce,roundRect:W9,square:Ece,star:Cce,triangle:Oce,triangleDown:Pce};function Ice(t){return Object.prototype.hasOwnProperty.call(VL,t)?VL[t]:function(e){for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];CanvasRenderingContext2D.prototype[t].call(e,n)}}var Ow={exports:{}},KL;function Rce(){return KL||(KL=1,function(t){t.exports=e;function e(n){if(n)return r(n)}function r(n){for(var i in e.prototype)n[i]=e.prototype[i];return n}e.prototype.on=e.prototype.addEventListener=function(n,i){return this._callbacks=this._callbacks||{},(this._callbacks["$"+n]=this._callbacks["$"+n]||[]).push(i),this},e.prototype.once=function(n,i){function s(){this.off(n,s),i.apply(this,arguments)}return s.fn=i,this.on(n,s),this},e.prototype.off=e.prototype.removeListener=e.prototype.removeAllListeners=e.prototype.removeEventListener=function(n,i){if(this._callbacks=this._callbacks||{},arguments.length==0)return this._callbacks={},this;var s=this._callbacks["$"+n];if(!s)return this;if(arguments.length==1)return delete this._callbacks["$"+n],this;for(var a,o=0;o<s.length;o++)if(a=s[o],a===i||a.fn===i){s.splice(o,1);break}return s.length===0&&delete this._callbacks["$"+n],this},e.prototype.emit=function(n){this._callbacks=this._callbacks||{};for(var i=new Array(arguments.length-1),s=this._callbacks["$"+n],a=1;a<arguments.length;a++)i[a-1]=arguments[a];if(s){s=s.slice(0);for(var a=0,o=s.length;a<o;++a)s[a].apply(this,i)}return this},e.prototype.listeners=function(n){return this._callbacks=this._callbacks||{},this._callbacks["$"+n]||[]},e.prototype.hasListeners=function(n){return!!this.listeners(n).length}}(Ow)),Ow.exports}var jce=Rce(),K9=Ee(jce),GL={},Pw,YL;function Io(){if(YL)return Pw;YL=1;var t=Si();return Pw=Array.isArray||function(r){return t(r)==="Array"},Pw}var Cw,QL;function G9(){if(QL)return Cw;QL=1;var t=TypeError,e=9007199254740991;return Cw=function(r){if(r>e)throw t("Maximum allowed index exceeded");return r},Cw}var Tw,XL;function em(){if(XL)return Tw;XL=1;var t=Tt(),e=kn(),r=Gd();return Tw=function(n,i,s){t?e.f(n,i,r(0,s)):n[i]=s},Tw}var Nw,JL;function nN(){if(JL)return Nw;JL=1;var t=Ft(),e=t("toStringTag"),r={};return r[e]="z",Nw=String(r)==="[object z]",Nw}var Iw,ZL;function qu(){if(ZL)return Iw;ZL=1;var t=nN(),e=tr(),r=Si(),n=Ft(),i=n("toStringTag"),s=Object,a=r(function(){return arguments}())==="Arguments",o=function(l,u){try{return l[u]}catch{}};return Iw=t?r:function(l){var u,d,h;return l===void 0?"Undefined":l===null?"Null":typeof(d=o(u=s(l),i))=="string"?d:a?r(u):(h=r(u))==="Object"&&e(u.callee)?"Arguments":h},Iw}var Rw,e4;function $ce(){if(e4)return Rw;e4=1;var t=Ae(),e=tr(),r=JT(),n=t(Function.toString);return e(r.inspectSource)||(r.inspectSource=function(i){return n(i)}),Rw=r.inspectSource,Rw}var jw,t4;function Y9(){if(t4)return jw;t4=1;var t=Ae(),e=De(),r=tr(),n=qu(),i=gn(),s=$ce(),a=function(){},o=i("Reflect","construct"),l=/^\s*(?:class|function)\b/,u=t(l.exec),d=!l.test(a),h=function(m){if(!r(m))return!1;try{return o(a,[],m),!0}catch{return!1}},f=function(m){if(!r(m))return!1;switch(n(m)){case"AsyncFunction":case"GeneratorFunction":case"AsyncGeneratorFunction":return!1}try{return d||!!u(l,s(m))}catch{return!0}};return f.sham=!0,jw=!o||e(function(){var p;return h(h.call)||!h(Object)||!h(function(){p=!0})||p})?f:h,jw}var $w,r4;function kce(){if(r4)return $w;r4=1;var t=Io(),e=Y9(),r=rr(),n=Ft(),i=n("species"),s=Array;return $w=function(a){var o;return t(a)&&(o=a.constructor,e(o)&&(o===s||t(o.prototype))?o=void 0:r(o)&&(o=o[i],o===null&&(o=void 0))),o===void 0?s:o},$w}var kw,n4;function iN(){if(n4)return kw;n4=1;var t=kce();return kw=function(e,r){return new(t(e))(r===0?0:r)},kw}var Dw,i4;function Zd(){if(i4)return Dw;i4=1;var t=De(),e=Ft(),r=Yd(),n=e("species");return Dw=function(i){return r>=51||!t(function(){var s=[],a=s.constructor={};return a[n]=function(){return{foo:1}},s[i](Boolean).foo!==1})},Dw}var s4;function Q9(){if(s4)return GL;s4=1;var t=ge(),e=De(),r=Io(),n=rr(),i=yn(),s=ds(),a=G9(),o=em(),l=iN(),u=Zd(),d=Ft(),h=Yd(),f=d("isConcatSpreadable"),p=h>=51||!e(function(){var b=[];return b[f]=!1,b.concat()[0]!==b}),m=function(b){if(!n(b))return!1;var g=b[f];return g!==void 0?!!g:r(b)},y=!p||!u("concat");return t({target:"Array",proto:!0,arity:1,forced:y},{concat:function(g){var v=i(this),x=l(v,0),w=0,_,E,O,S,P;for(_=-1,O=arguments.length;_<O;_++)if(P=_===-1?v:arguments[_],m(P))for(S=s(P),a(w+S),E=0;E<S;E++,w++)E in P&&o(x,w,P[E]);else a(w+1),o(x,w++,P);return x.length=w,x}}),GL}var a4={},o4={},qw,l4;function Dn(){if(l4)return qw;l4=1;var t=qu(),e=String;return qw=function(r){if(t(r)==="Symbol")throw new TypeError("Cannot convert a Symbol value to a string");return e(r)},qw}var Mw={},u4;function sN(){if(u4)return Mw;u4=1;var t=Tt(),e=B9(),r=kn(),n=Ei(),i=ni(),s=Jd();return Mw.f=t&&!e?Object.defineProperties:function(o,l){n(o);for(var u=i(l),d=s(l),h=d.length,f=0,p;h>f;)r.f(o,p=d[f++],u[p]);return o},Mw}var Aw,c4;function Dce(){if(c4)return Aw;c4=1;var t=gn();return Aw=t("document","documentElement"),Aw}var Fw,d4;function tm(){if(d4)return Fw;d4=1;var t=ju(),e=Yp(),r=t("keys");return Fw=function(n){return r[n]||(r[n]=e(n))},Fw}var Lw,h4;function eh(){if(h4)return Lw;h4=1;var t=Ei(),e=sN(),r=tN(),n=Xd(),i=Dce(),s=F9(),a=tm(),o=">",l="<",u="prototype",d="script",h=a("IE_PROTO"),f=function(){},p=function(v){return l+d+o+v+l+"/"+d+o},m=function(v){v.write(p("")),v.close();var x=v.parentWindow.Object;return v=null,x},y=function(){var v=s("iframe"),x="java"+d+":",w;return v.style.display="none",i.appendChild(v),v.src=String(x),w=v.contentWindow.document,w.open(),w.write(p("document.F=Object")),w.close(),w.F},b,g=function(){try{b=new ActiveXObject("htmlfile")}catch{}g=typeof document<"u"?document.domain&&b?m(b):y():m(b);for(var v=r.length;v--;)delete g[u][r[v]];return g()};return n[h]=!0,Lw=Object.create||function(x,w){var _;return x!==null?(f[u]=t(x),_=new f,f[u]=null,_[h]=x):_=g(),w===void 0?_:e.f(_,w)},Lw}var Bw={},f4;function rm(){if(f4)return Bw;f4=1;var t=U9(),e=tN(),r=e.concat("length","prototype");return Bw.f=Object.getOwnPropertyNames||function(i){return t(i,r)},Bw}var zw={},p4;function aN(){if(p4)return zw;p4=1;var t=Si(),e=ni(),r=rm().f,n=Du(),i=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(a){try{return r(a)}catch{return n(i)}};return zw.f=function(o){return i&&t(o)==="Window"?s(o):r(e(o))},zw}var Uw,m4;function th(){if(m4)return Uw;m4=1;var t=$u();return Uw=function(e,r,n,i){return i&&i.enumerable?e[r]=n:t(e,r,n),e},Uw}var Ww,v4;function oN(){if(v4)return Ww;v4=1;var t=kn();return Ww=function(e,r,n){return t.f(e,r,n)},Ww}var Hw={},g4;function nm(){if(g4)return Hw;g4=1;var t=Ft();return Hw.f=t,Hw}var Vw,y4;function gt(){if(y4)return Vw;y4=1;var t=Ve(),e=fr(),r=nm(),n=kn().f;return Vw=function(i){var s=t.Symbol||(t.Symbol={});e(s,i)||n(s,i,{value:r.f(i)})},Vw}var Kw,b4;function X9(){if(b4)return Kw;b4=1;var t=nn(),e=gn(),r=Ft(),n=th();return Kw=function(){var i=e("Symbol"),s=i&&i.prototype,a=s&&s.valueOf,o=r("toPrimitive");s&&!s[o]&&n(s,o,function(l){return t(a,this)},{arity:1})},Kw}var Gw,w4;function qce(){if(w4)return Gw;w4=1;var t=nN(),e=qu();return Gw=t?{}.toString:function(){return"[object "+e(this)+"]"},Gw}var Yw,x4;function Ro(){if(x4)return Yw;x4=1;var t=nN(),e=kn().f,r=$u(),n=fr(),i=qce(),s=Ft(),a=s("toStringTag");return Yw=function(o,l,u,d){var h=u?o:o&&o.prototype;h&&(n(h,a)||e(h,a,{configurable:!0,value:l}),d&&!t&&r(h,"toString",i))},Yw}var Qw,_4;function J9(){if(_4)return Qw;_4=1;var t=ut(),e=tr(),r=t.WeakMap;return Qw=e(r)&&/native code/.test(String(r)),Qw}var Xw,S4;function jo(){if(S4)return Xw;S4=1;var t=J9(),e=ut(),r=rr(),n=$u(),i=fr(),s=JT(),a=tm(),o=Xd(),l="Object already initialized",u=e.TypeError,d=e.WeakMap,h,f,p,m=function(v){return p(v)?f(v):h(v,{})},y=function(v){return function(x){var w;if(!r(x)||(w=f(x)).type!==v)throw new u("Incompatible receiver, "+v+" required");return w}};if(t||s.state){var b=s.state||(s.state=new d);b.get=b.get,b.has=b.has,b.set=b.set,h=function(v,x){if(b.has(v))throw new u(l);return x.facade=v,b.set(v,x),x},f=function(v){return b.get(v)||{}},p=function(v){return b.has(v)}}else{var g=a("state");o[g]=!0,h=function(v,x){if(i(v,g))throw new u(l);return x.facade=v,n(v,g,x),x},f=function(v){return i(v,g)?v[g]:{}},p=function(v){return i(v,g)}}return Xw={set:h,get:f,has:p,enforce:m,getterFor:y},Xw}var Jw,E4;function pa(){if(E4)return Jw;E4=1;var t=Xp(),e=Ae(),r=Gp(),n=yn(),i=ds(),s=iN(),a=e([].push),o=function(l){var u=l===1,d=l===2,h=l===3,f=l===4,p=l===6,m=l===7,y=l===5||p;return function(b,g,v,x){for(var w=n(b),_=r(w),E=i(_),O=t(g,v),S=0,P=x||s,C=u?P(b,E):d||m?P(b,0):void 0,I,T;E>S;S++)if((y||S in _)&&(I=_[S],T=O(I,S,w),l))if(u)C[S]=T;else if(T)switch(l){case 3:return!0;case 5:return I;case 6:return S;case 2:a(C,I)}else switch(l){case 4:return!1;case 7:a(C,I)}return p?-1:h||f?f:C}};return Jw={forEach:o(0),map:o(1),filter:o(2),some:o(3),every:o(4),find:o(5),findIndex:o(6),filterReject:o(7)},Jw}var O4;function Mce(){if(O4)return o4;O4=1;var t=ge(),e=ut(),r=nn(),n=Ae(),i=Ru(),s=Tt(),a=Nu(),o=De(),l=fr(),u=At(),d=Ei(),h=ni(),f=ZT(),p=Dn(),m=Gd(),y=eh(),b=Jd(),g=rm(),v=aN(),x=Zp(),w=Qp(),_=kn(),E=sN(),O=Kp(),S=th(),P=oN(),C=ju(),I=tm(),T=Xd(),N=Yp(),q=Ft(),z=nm(),te=gt(),K=X9(),L=Ro(),V=jo(),U=pa().forEach,W=I("hidden"),ee="Symbol",fe="prototype",ve=V.set,qe=V.getterFor(ee),be=Object[fe],Se=e.Symbol,Pe=Se&&Se[fe],ct=e.RangeError,Ke=e.TypeError,Lt=e.QObject,nr=w.f,nt=_.f,_r=v.f,at=O.f,Mr=n([].push),Ge=C("symbols"),Bt=C("op-symbols"),sn=C("wks"),an=!Lt||!Lt[fe]||!Lt[fe].findChild,j=function(H,B,G){var X=nr(be,B);X&&delete be[B],nt(H,B,G),X&&H!==be&&nt(be,B,X)},D=s&&o(function(){return y(nt({},"a",{get:function(){return nt(this,"a",{value:7}).a}})).a!==7})?j:nt,F=function(H,B){var G=Ge[H]=y(Pe);return ve(G,{type:ee,tag:H,description:B}),s||(G.description=B),G},ae=function(B,G,X){B===be&&ae(Bt,G,X),d(B);var oe=f(G);return d(X),l(Ge,oe)?(X.enumerable?(l(B,W)&&B[W][oe]&&(B[W][oe]=!1),X=y(X,{enumerable:m(0,!1)})):(l(B,W)||nt(B,W,m(1,y(null))),B[W][oe]=!0),D(B,oe,X)):nt(B,oe,X)},re=function(B,G){d(B);var X=h(G),oe=b(X).concat(ne(X));return U(oe,function($e){(!s||r(de,X,$e))&&ae(B,$e,X[$e])}),B},Y=function(B,G){return G===void 0?y(B):re(y(B),G)},de=function(B){var G=f(B),X=r(at,this,G);return this===be&&l(Ge,G)&&!l(Bt,G)?!1:X||!l(this,G)||!l(Ge,G)||l(this,W)&&this[W][G]?X:!0},Ie=function(B,G){var X=h(B),oe=f(G);if(!(X===be&&l(Ge,oe)&&!l(Bt,oe))){var $e=nr(X,oe);return $e&&l(Ge,oe)&&!(l(X,W)&&X[W][oe])&&($e.enumerable=!0),$e}},k=function(B){var G=_r(h(B)),X=[];return U(G,function(oe){!l(Ge,oe)&&!l(T,oe)&&Mr(X,oe)}),X},ne=function(H){var B=H===be,G=_r(B?Bt:h(H)),X=[];return U(G,function(oe){l(Ge,oe)&&(!B||l(be,oe))&&Mr(X,Ge[oe])}),X};return a||(Se=function(){if(u(Pe,this))throw new Ke("Symbol is not a constructor");var B=!arguments.length||arguments[0]===void 0?void 0:p(arguments[0]),G=N(B),X=function(oe){var $e=this===void 0?e:this;$e===be&&r(X,Bt,oe),l($e,W)&&l($e[W],G)&&($e[W][G]=!1);var Ar=m(1,oe);try{D($e,G,Ar)}catch(ir){if(!(ir instanceof ct))throw ir;j($e,G,Ar)}};return s&&an&&D(be,G,{configurable:!0,set:X}),F(G,B)},Pe=Se[fe],S(Pe,"toString",function(){return qe(this).tag}),S(Se,"withoutSetter",function(H){return F(N(H),H)}),O.f=de,_.f=ae,E.f=re,w.f=Ie,g.f=v.f=k,x.f=ne,z.f=function(H){return F(q(H),H)},s&&(P(Pe,"description",{configurable:!0,get:function(){return qe(this).description}}),i||S(be,"propertyIsEnumerable",de,{unsafe:!0}))),t({global:!0,constructor:!0,wrap:!0,forced:!a,sham:!a},{Symbol:Se}),U(b(sn),function(H){te(H)}),t({target:ee,stat:!0,forced:!a},{useSetter:function(){an=!0},useSimple:function(){an=!1}}),t({target:"Object",stat:!0,forced:!a,sham:!s},{create:Y,defineProperty:ae,defineProperties:re,getOwnPropertyDescriptor:Ie}),t({target:"Object",stat:!0,forced:!a},{getOwnPropertyNames:k}),K(),L(Se,ee),T[W]=!0,o4}var P4={},Zw,C4;function Z9(){if(C4)return Zw;C4=1;var t=Nu();return Zw=t&&!!Symbol.for&&!!Symbol.keyFor,Zw}var T4;function Ace(){if(T4)return P4;T4=1;var t=ge(),e=gn(),r=fr(),n=Dn(),i=ju(),s=Z9(),a=i("string-to-symbol-registry"),o=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{for:function(l){var u=n(l);if(r(a,u))return a[u];var d=e("Symbol")(u);return a[u]=d,o[d]=u,d}}),P4}var N4={},I4;function Fce(){if(I4)return N4;I4=1;var t=ge(),e=fr(),r=Qd(),n=Iu(),i=ju(),s=Z9(),a=i("symbol-to-string-registry");return t({target:"Symbol",stat:!0,forced:!s},{keyFor:function(l){if(!r(l))throw new TypeError(n(l)+" is not a symbol");if(e(a,l))return a[l]}}),N4}var R4={},ex,j4;function Lce(){if(j4)return ex;j4=1;var t=Ae(),e=Io(),r=tr(),n=Si(),i=Dn(),s=t([].push);return ex=function(a){if(r(a))return a;if(e(a)){for(var o=a.length,l=[],u=0;u<o;u++){var d=a[u];typeof d=="string"?s(l,d):(typeof d=="number"||n(d)==="Number"||n(d)==="String")&&s(l,i(d))}var h=l.length,f=!0;return function(p,m){if(f)return f=!1,m;if(e(this))return m;for(var y=0;y<h;y++)if(l[y]===p)return m}}},ex}var $4;function eG(){if($4)return R4;$4=1;var t=ge(),e=gn(),r=Vp(),n=nn(),i=Ae(),s=De(),a=tr(),o=Qd(),l=Du(),u=Lce(),d=Nu(),h=String,f=e("JSON","stringify"),p=i(/./.exec),m=i("".charAt),y=i("".charCodeAt),b=i("".replace),g=i(1.1.toString),v=/[\uD800-\uDFFF]/g,x=/^[\uD800-\uDBFF]$/,w=/^[\uDC00-\uDFFF]$/,_=!d||s(function(){var P=e("Symbol")("stringify detection");return f([P])!=="[null]"||f({a:P})!=="{}"||f(Object(P))!=="{}"}),E=s(function(){return f("\uDF06\uD834")!=='"\\udf06\\ud834"'||f("\uDEAD")!=='"\\udead"'}),O=function(P,C){var I=l(arguments),T=u(C);if(!(!a(T)&&(P===void 0||o(P))))return I[1]=function(N,q){if(a(T)&&(q=n(T,this,h(N),q)),!o(q))return q},r(f,null,I)},S=function(P,C,I){var T=m(I,C-1),N=m(I,C+1);return p(x,P)&&!p(w,N)||p(w,P)&&!p(x,T)?"\\u"+g(y(P,0),16):P};return f&&t({target:"JSON",stat:!0,arity:3,forced:_||E},{stringify:function(C,I,T){var N=l(arguments),q=r(_?O:f,null,N);return E&&typeof q=="string"?b(q,v,S):q}}),R4}var k4={},D4;function Bce(){if(D4)return k4;D4=1;var t=ge(),e=Nu(),r=De(),n=Zp(),i=yn(),s=!e||r(function(){n.f(1)});return t({target:"Object",stat:!0,forced:s},{getOwnPropertySymbols:function(o){var l=n.f;return l?l(i(o)):[]}}),k4}var q4;function tG(){return q4||(q4=1,Mce(),Ace(),Fce(),eG(),Bce()),a4}var M4={},A4;function rG(){if(A4)return M4;A4=1;var t=gt();return t("asyncDispose"),M4}var F4={},L4;function zce(){if(L4)return F4;L4=1;var t=gt();return t("asyncIterator"),F4}var B4={},z4;function nG(){if(z4)return B4;z4=1;var t=gt();return t("dispose"),B4}var U4={},W4;function Uce(){if(W4)return U4;W4=1;var t=gt();return t("hasInstance"),U4}var H4={},V4;function Wce(){if(V4)return H4;V4=1;var t=gt();return t("isConcatSpreadable"),H4}var K4={},G4;function iG(){if(G4)return K4;G4=1;var t=gt();return t("iterator"),K4}var Y4={},Q4;function Hce(){if(Q4)return Y4;Q4=1;var t=gt();return t("match"),Y4}var X4={},J4;function Vce(){if(J4)return X4;J4=1;var t=gt();return t("matchAll"),X4}var Z4={},eB;function Kce(){if(eB)return Z4;eB=1;var t=gt();return t("replace"),Z4}var tB={},rB;function Gce(){if(rB)return tB;rB=1;var t=gt();return t("search"),tB}var nB={},iB;function Yce(){if(iB)return nB;iB=1;var t=gt();return t("species"),nB}var sB={},aB;function Qce(){if(aB)return sB;aB=1;var t=gt();return t("split"),sB}var oB={},lB;function sG(){if(lB)return oB;lB=1;var t=gt(),e=X9();return t("toPrimitive"),e(),oB}var uB={},cB;function Xce(){if(cB)return uB;cB=1;var t=gn(),e=gt(),r=Ro();return e("toStringTag"),r(t("Symbol"),"Symbol"),uB}var dB={},hB;function Jce(){if(hB)return dB;hB=1;var t=gt();return t("unscopables"),dB}var fB={},pB;function Zce(){if(pB)return fB;pB=1;var t=ut(),e=Ro();return e(t.JSON,"JSON",!0),fB}var tx,mB;function ede(){if(mB)return tx;mB=1,Q9(),tG(),rG(),zce(),nG(),Uce(),Wce(),iG(),Hce(),Vce(),Kce(),Gce(),Yce(),Qce(),sG(),Xce(),Jce(),Zce();var t=Ve();return tx=t.Symbol,tx}var vB={},rx,gB;function lN(){return gB||(gB=1,rx=function(){}),rx}var nx,yB;function Mu(){return yB||(yB=1,nx={}),nx}var ix,bB;function tde(){if(bB)return ix;bB=1;var t=Tt(),e=fr(),r=Function.prototype,n=t&&Object.getOwnPropertyDescriptor,i=e(r,"name"),s=i&&(function(){}).name==="something",a=i&&(!t||t&&n(r,"name").configurable);return ix={EXISTS:i,PROPER:s,CONFIGURABLE:a},ix}var sx,wB;function aG(){if(wB)return sx;wB=1;var t=De();return sx=!t(function(){function e(){}return e.prototype.constructor=null,Object.getPrototypeOf(new e)!==e.prototype}),sx}var ax,xB;function im(){if(xB)return ax;xB=1;var t=fr(),e=tr(),r=yn(),n=tm(),i=aG(),s=n("IE_PROTO"),a=Object,o=a.prototype;return ax=i?a.getPrototypeOf:function(l){var u=r(l);if(t(u,s))return u[s];var d=u.constructor;return e(d)&&u instanceof d?d.prototype:u instanceof a?o:null},ax}var ox,_B;function oG(){if(_B)return ox;_B=1;var t=De(),e=tr(),r=rr(),n=eh(),i=im(),s=th(),a=Ft(),o=Ru(),l=a("iterator"),u=!1,d,h,f;[].keys&&(f=[].keys(),"next"in f?(h=i(i(f)),h!==Object.prototype&&(d=h)):u=!0);var p=!r(d)||t(function(){var m={};return d[l].call(m)!==m});return p?d={}:o&&(d=n(d)),e(d[l])||s(d,l,function(){return this}),ox={IteratorPrototype:d,BUGGY_SAFARI_ITERATORS:u},ox}var lx,SB;function rde(){if(SB)return lx;SB=1;var t=oG().IteratorPrototype,e=eh(),r=Gd(),n=Ro(),i=Mu(),s=function(){return this};return lx=function(a,o,l,u){var d=o+" Iterator";return a.prototype=e(t,{next:r(+!u,l)}),n(a,d,!1,!0),i[d]=s,a},lx}var ux,EB;function nde(){if(EB)return ux;EB=1;var t=Ae(),e=cs();return ux=function(r,n,i){try{return t(e(Object.getOwnPropertyDescriptor(r,n)[i]))}catch{}},ux}var cx,OB;function ide(){if(OB)return cx;OB=1;var t=rr();return cx=function(e){return t(e)||e===null},cx}var dx,PB;function sde(){if(PB)return dx;PB=1;var t=ide(),e=String,r=TypeError;return dx=function(n){if(t(n))return n;throw new r("Can't set "+e(n)+" as a prototype")},dx}var hx,CB;function ade(){if(CB)return hx;CB=1;var t=nde(),e=rr(),r=us(),n=sde();return hx=Object.setPrototypeOf||("__proto__"in{}?function(){var i=!1,s={},a;try{a=t(Object.prototype,"__proto__","set"),a(s,[]),i=s instanceof Array}catch{}return function(l,u){return r(l),n(u),e(l)&&(i?a(l,u):l.__proto__=u),l}}():void 0),hx}var fx,TB;function uN(){if(TB)return fx;TB=1;var t=ge(),e=nn(),r=Ru(),n=tde(),i=tr(),s=rde(),a=im(),o=ade(),l=Ro(),u=$u(),d=th(),h=Ft(),f=Mu(),p=oG(),m=n.PROPER,y=n.CONFIGURABLE,b=p.IteratorPrototype,g=p.BUGGY_SAFARI_ITERATORS,v=h("iterator"),x="keys",w="values",_="entries",E=function(){return this};return fx=function(O,S,P,C,I,T,N){s(P,S,C);var q=function(ve){if(ve===I&&V)return V;if(!g&&ve&&ve in K)return K[ve];switch(ve){case x:return function(){return new P(this,ve)};case w:return function(){return new P(this,ve)};case _:return function(){return new P(this,ve)}}return function(){return new P(this)}},z=S+" Iterator",te=!1,K=O.prototype,L=K[v]||K["@@iterator"]||I&&K[I],V=!g&&L||q(I),U=S==="Array"&&K.entries||L,W,ee,fe;if(U&&(W=a(U.call(new O)),W!==Object.prototype&&W.next&&(!r&&a(W)!==b&&(o?o(W,b):i(W[v])||d(W,v,E)),l(W,z,!0,!0),r&&(f[z]=E))),m&&I===w&&L&&L.name!==w&&(!r&&y?u(K,"name",w):(te=!0,V=function(){return e(L,this)})),I)if(ee={values:q(w),keys:T?V:q(x),entries:q(_)},N)for(fe in ee)(g||te||!(fe in K))&&d(K,fe,ee[fe]);else t({target:S,proto:!0,forced:g||te},ee);return(!r||N)&&K[v]!==V&&d(K,v,V,{name:I}),f[S]=V,ee},fx}var px,NB;function cN(){return NB||(NB=1,px=function(t,e){return{value:t,done:e}}),px}var mx,IB;function Au(){if(IB)return mx;IB=1;var t=ni(),e=lN(),r=Mu(),n=jo(),i=kn().f,s=uN(),a=cN(),o=Ru(),l=Tt(),u="Array Iterator",d=n.set,h=n.getterFor(u);mx=s(Array,"Array",function(p,m){d(this,{type:u,target:t(p),index:0,kind:m})},function(){var p=h(this),m=p.target,y=p.index++;if(!m||y>=m.length)return p.target=null,a(void 0,!0);switch(p.kind){case"keys":return a(y,!1);case"values":return a(m[y],!1)}return a([y,m[y]],!1)},"values");var f=r.Arguments=r.Array;if(e("keys"),e("values"),e("entries"),!o&&l&&f.name!=="values")try{i(f,"name",{value:"values"})}catch{}return mx}var vx,RB;function ode(){return RB||(RB=1,vx={CSSRuleList:0,CSSStyleDeclaration:0,CSSValueList:0,ClientRectList:0,DOMRectList:0,DOMStringList:0,DOMTokenList:1,DataTransferItemList:0,FileList:0,HTMLAllCollection:0,HTMLCollection:0,HTMLFormElement:0,HTMLSelectElement:0,MediaList:0,MimeTypeArray:0,NamedNodeMap:0,NodeList:1,PaintRequestList:0,Plugin:0,PluginArray:0,SVGLengthList:0,SVGNumberList:0,SVGPathSegList:0,SVGPointList:0,SVGStringList:0,SVGTransformList:0,SourceBufferList:0,StyleSheetList:0,TextTrackCueList:0,TextTrackList:0,TouchList:0}),vx}var jB;function Fu(){if(jB)return vB;jB=1,Au();var t=ode(),e=ut(),r=Ro(),n=Mu();for(var i in t)r(e[i],i),n[i]=n.Array;return vB}var gx,$B;function lG(){if($B)return gx;$B=1;var t=ede();return Fu(),gx=t,gx}var yx,kB;function lde(){return kB||(kB=1,yx=lG()),yx}var ude=lde(),cde=Ee(ude),DB={},qB;function dde(){if(qB)return DB;qB=1;var t=ge(),e=Io(),r=Y9(),n=rr(),i=Jp(),s=ds(),a=ni(),o=em(),l=Ft(),u=Zd(),d=Du(),h=u("slice"),f=l("species"),p=Array,m=Math.max;return t({target:"Array",proto:!0,forced:!h},{slice:function(b,g){var v=a(this),x=s(v),w=i(b,x),_=i(g===void 0?x:g,x),E,O,S;if(e(v)&&(E=v.constructor,r(E)&&(E===p||e(E.prototype))?E=void 0:n(E)&&(E=E[f],E===null&&(E=void 0)),E===p||E===void 0))return d(v,w,_);for(O=new(E===void 0?p:E)(m(_-w,0)),S=0;w<_;w++,S++)w in v&&o(O,S,v[w]);return O.length=S,O}}),DB}var bx,MB;function hde(){if(MB)return bx;MB=1,dde();var t=pr();return bx=t("Array","slice"),bx}var wx,AB;function fde(){if(AB)return wx;AB=1;var t=At(),e=hde(),r=Array.prototype;return wx=function(n){var i=n.slice;return n===r||t(r,n)&&i===r.slice?e:i},wx}var xx,FB;function pde(){if(FB)return xx;FB=1;var t=fde();return xx=t,xx}var _x,LB;function mde(){return LB||(LB=1,_x=pde()),_x}var vde=mde(),pi=Ee(vde),Sx,BB;function gde(){if(BB)return Sx;BB=1;var t=gn(),e=Ae(),r=rm(),n=Zp(),i=Ei(),s=e([].concat);return Sx=t("Reflect","ownKeys")||function(o){var l=r.f(i(o)),u=n.f;return u?s(l,u(o)):l},Sx}var zB={},UB;function yde(){if(UB)return zB;UB=1;var t=ge(),e=Io();return t({target:"Array",stat:!0},{isArray:e}),zB}var Ex,WB;function bde(){if(WB)return Ex;WB=1,yde();var t=Ve();return Ex=t.Array.isArray,Ex}var Ox,HB;function wde(){if(HB)return Ox;HB=1;var t=bde();return Ox=t,Ox}var Px,VB;function xde(){return VB||(VB=1,Px=wde()),Px}var _de=xde(),Et=Ee(_de),KB={},GB;function Sde(){if(GB)return KB;GB=1;var t=ge(),e=pa().map,r=Zd(),n=r("map");return t({target:"Array",proto:!0,forced:!n},{map:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),KB}var Cx,YB;function Ede(){if(YB)return Cx;YB=1,Sde();var t=pr();return Cx=t("Array","map"),Cx}var Tx,QB;function Ode(){if(QB)return Tx;QB=1;var t=At(),e=Ede(),r=Array.prototype;return Tx=function(n){var i=n.map;return n===r||t(r,n)&&i===r.map?e:i},Tx}var Nx,XB;function Pde(){if(XB)return Nx;XB=1;var t=Ode();return Nx=t,Nx}var Ix,JB;function Cde(){return JB||(JB=1,Ix=Pde()),Ix}var Tde=Cde(),ru=Ee(Tde),ZB={},e3;function Nde(){if(e3)return ZB;e3=1;var t=ge(),e=yn(),r=Jd(),n=De(),i=n(function(){r(1)});return t({target:"Object",stat:!0,forced:i},{keys:function(a){return r(e(a))}}),ZB}var Rx,t3;function Ide(){if(t3)return Rx;t3=1,Nde();var t=Ve();return Rx=t.Object.keys,Rx}var jx,r3;function Rde(){if(r3)return jx;r3=1;var t=Ide();return jx=t,jx}var $x,n3;function jde(){return n3||(n3=1,$x=Rde()),$x}var $de=jde(),xt=Ee($de),i3={},s3;function kde(){if(s3)return i3;s3=1;var t=ge(),e=Ae(),r=Date,n=e(r.prototype.getTime);return t({target:"Date",stat:!0},{now:function(){return n(new r)}}),i3}var kx,a3;function Dde(){if(a3)return kx;a3=1,kde();var t=Ve();return kx=t.Date.now,kx}var Dx,o3;function qde(){if(o3)return Dx;o3=1;var t=Dde();return Dx=t,Dx}var qx,l3;function Mde(){return l3||(l3=1,qx=qde()),qx}var Ade=Mde(),Qf=Ee(Ade),u3={},Mx,c3;function Lu(){if(c3)return Mx;c3=1;var t=De();return Mx=function(e,r){var n=[][e];return!!n&&t(function(){n.call(null,r||function(){return 1},1)})},Mx}var Ax,d3;function Fde(){if(d3)return Ax;d3=1;var t=pa().forEach,e=Lu(),r=e("forEach");return Ax=r?[].forEach:function(i){return t(this,i,arguments.length>1?arguments[1]:void 0)},Ax}var h3;function Lde(){if(h3)return u3;h3=1;var t=ge(),e=Fde();return t({target:"Array",proto:!0,forced:[].forEach!==e},{forEach:e}),u3}var Fx,f3;function Bde(){if(f3)return Fx;f3=1,Lde();var t=pr();return Fx=t("Array","forEach"),Fx}var Lx,p3;function zde(){if(p3)return Lx;p3=1;var t=Bde();return Lx=t,Lx}var Bx,m3;function Ude(){if(m3)return Bx;m3=1;var t=qu(),e=fr(),r=At(),n=zde(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return Bx=function(a){var o=a.forEach;return a===i||r(i,a)&&o===i.forEach||e(s,t(a))?n:o},Bx}var zx,v3;function Wde(){return v3||(v3=1,zx=Ude()),zx}var Hde=Wde(),Ye=Ee(Hde),g3={},y3;function Vde(){if(y3)return g3;y3=1;var t=ge(),e=Ae(),r=Io(),n=e([].reverse),i=[1,2];return t({target:"Array",proto:!0,forced:String(i)===String(i.reverse())},{reverse:function(){return r(this)&&(this.length=this.length),n(this)}}),g3}var Ux,b3;function Kde(){if(b3)return Ux;b3=1,Vde();var t=pr();return Ux=t("Array","reverse"),Ux}var Wx,w3;function Gde(){if(w3)return Wx;w3=1;var t=At(),e=Kde(),r=Array.prototype;return Wx=function(n){var i=n.reverse;return n===r||t(r,n)&&i===r.reverse?e:i},Wx}var Hx,x3;function Yde(){if(x3)return Hx;x3=1;var t=Gde();return Hx=t,Hx}var Vx,_3;function Qde(){return _3||(_3=1,Vx=Yde()),Vx}var Xde=Qde(),Ga=Ee(Xde),S3={},Kx,E3;function Jde(){if(E3)return Kx;E3=1;var t=Tt(),e=Io(),r=TypeError,n=Object.getOwnPropertyDescriptor,i=t&&!function(){if(this!==void 0)return!0;try{Object.defineProperty([],"length",{writable:!1}).length=1}catch(s){return s instanceof TypeError}}();return Kx=i?function(s,a){if(e(s)&&!n(s,"length").writable)throw new r("Cannot set read only .length");return s.length=a}:function(s,a){return s.length=a},Kx}var Gx,O3;function uG(){if(O3)return Gx;O3=1;var t=Iu(),e=TypeError;return Gx=function(r,n){if(!delete r[n])throw new e("Cannot delete property "+t(n)+" of "+t(r))},Gx}var P3;function Zde(){if(P3)return S3;P3=1;var t=ge(),e=yn(),r=Jp(),n=ku(),i=ds(),s=Jde(),a=G9(),o=iN(),l=em(),u=uG(),d=Zd(),h=d("splice"),f=Math.max,p=Math.min;return t({target:"Array",proto:!0,forced:!h},{splice:function(y,b){var g=e(this),v=i(g),x=r(y,v),w=arguments.length,_,E,O,S,P,C;for(w===0?_=E=0:w===1?(_=0,E=v-x):(_=w-2,E=p(f(n(b),0),v-x)),a(v+_-E),O=o(g,E),S=0;S<E;S++)P=x+S,P in g&&l(O,S,g[P]);if(O.length=E,_<E){for(S=x;S<v-E;S++)P=S+E,C=S+_,P in g?g[C]=g[P]:u(g,C);for(S=v;S>v-E+_;S--)u(g,S-1)}else if(_>E)for(S=v-E;S>x;S--)P=S+E-1,C=S+_-1,P in g?g[C]=g[P]:u(g,C);for(S=0;S<_;S++)g[S+x]=arguments[S+2];return s(g,v-E+_),O}}),S3}var Yx,C3;function ehe(){if(C3)return Yx;C3=1,Zde();var t=pr();return Yx=t("Array","splice"),Yx}var Qx,T3;function the(){if(T3)return Qx;T3=1;var t=At(),e=ehe(),r=Array.prototype;return Qx=function(n){var i=n.splice;return n===r||t(r,n)&&i===r.splice?e:i},Qx}var Xx,N3;function rhe(){if(N3)return Xx;N3=1;var t=the();return Xx=t,Xx}var Jx,I3;function nhe(){return I3||(I3=1,Jx=rhe()),Jx}var ihe=nhe(),Ui=Ee(ihe),R3={},j3;function she(){if(j3)return R3;j3=1;var t=ge(),e=eN().includes,r=De(),n=lN(),i=r(function(){return!Array(1).includes()});return t({target:"Array",proto:!0,forced:i},{includes:function(a){return e(this,a,arguments.length>1?arguments[1]:void 0)}}),n("includes"),R3}var Zx,$3;function ahe(){if($3)return Zx;$3=1,she();var t=pr();return Zx=t("Array","includes"),Zx}var k3={},e_,D3;function ohe(){if(D3)return e_;D3=1;var t=rr(),e=Si(),r=Ft(),n=r("match");return e_=function(i){var s;return t(i)&&((s=i[n])!==void 0?!!s:e(i)==="RegExp")},e_}var t_,q3;function lhe(){if(q3)return t_;q3=1;var t=ohe(),e=TypeError;return t_=function(r){if(t(r))throw new e("The method doesn't accept regular expressions");return r},t_}var r_,M3;function uhe(){if(M3)return r_;M3=1;var t=Ft(),e=t("match");return r_=function(r){var n=/./;try{"/./"[r](n)}catch{try{return n[e]=!1,"/./"[r](n)}catch{}}return!1},r_}var A3;function che(){if(A3)return k3;A3=1;var t=ge(),e=Ae(),r=lhe(),n=us(),i=Dn(),s=uhe(),a=e("".indexOf);return t({target:"String",proto:!0,forced:!s("includes")},{includes:function(l){return!!~a(i(n(this)),i(r(l)),arguments.length>1?arguments[1]:void 0)}}),k3}var n_,F3;function dhe(){if(F3)return n_;F3=1,che();var t=pr();return n_=t("String","includes"),n_}var i_,L3;function hhe(){if(L3)return i_;L3=1;var t=At(),e=ahe(),r=dhe(),n=Array.prototype,i=String.prototype;return i_=function(s){var a=s.includes;return s===n||t(n,s)&&a===n.includes?e:typeof s=="string"||s===i||t(i,s)&&a===i.includes?r:a},i_}var s_,B3;function fhe(){if(B3)return s_;B3=1;var t=hhe();return s_=t,s_}var a_,z3;function phe(){return z3||(z3=1,a_=fhe()),a_}var mhe=phe(),Ys=Ee(mhe),U3={},W3;function vhe(){if(W3)return U3;W3=1;var t=ge(),e=De(),r=yn(),n=im(),i=aG(),s=e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getPrototypeOf:function(o){return n(r(o))}}),U3}var o_,H3;function ghe(){if(H3)return o_;H3=1,vhe();var t=Ve();return o_=t.Object.getPrototypeOf,o_}var l_,V3;function yhe(){if(V3)return l_;V3=1;var t=ghe();return l_=t,l_}var u_,K3;function bhe(){return K3||(K3=1,u_=yhe()),u_}var whe=bhe(),G3=Ee(whe),c_,Y3;function xhe(){if(Y3)return c_;Y3=1,Q9();var t=pr();return c_=t("Array","concat"),c_}var d_,Q3;function _he(){if(Q3)return d_;Q3=1;var t=At(),e=xhe(),r=Array.prototype;return d_=function(n){var i=n.concat;return n===r||t(r,n)&&i===r.concat?e:i},d_}var h_,X3;function She(){if(X3)return h_;X3=1;var t=_he();return h_=t,h_}var f_,J3;function Ehe(){return J3||(J3=1,f_=She()),f_}var Ohe=Ehe(),Phe=Ee(Ohe),Z3={},e5;function Che(){if(e5)return Z3;e5=1;var t=ge(),e=pa().filter,r=Zd(),n=r("filter");return t({target:"Array",proto:!0,forced:!n},{filter:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),Z3}var p_,t5;function The(){if(t5)return p_;t5=1,Che();var t=pr();return p_=t("Array","filter"),p_}var m_,r5;function Nhe(){if(r5)return m_;r5=1;var t=At(),e=The(),r=Array.prototype;return m_=function(n){var i=n.filter;return n===r||t(r,n)&&i===r.filter?e:i},m_}var v_,n5;function Ihe(){if(n5)return v_;n5=1;var t=Nhe();return v_=t,v_}var g_,i5;function Rhe(){return i5||(i5=1,g_=Ihe()),g_}var jhe=Rhe(),Wr=Ee(jhe),s5={},y_,a5;function $he(){if(a5)return y_;a5=1;var t=Tt(),e=De(),r=Ae(),n=im(),i=Jd(),s=ni(),a=Kp().f,o=r(a),l=r([].push),u=t&&e(function(){var h=Object.create(null);return h[2]=2,!o(h,2)}),d=function(h){return function(f){for(var p=s(f),m=i(p),y=u&&n(p)===null,b=m.length,g=0,v=[],x;b>g;)x=m[g++],(!t||(y?x in p:o(p,x)))&&l(v,h?[x,p[x]]:p[x]);return v}};return y_={entries:d(!0),values:d(!1)},y_}var o5;function khe(){if(o5)return s5;o5=1;var t=ge(),e=$he().values;return t({target:"Object",stat:!0},{values:function(n){return e(n)}}),s5}var b_,l5;function Dhe(){if(l5)return b_;l5=1,khe();var t=Ve();return b_=t.Object.values,b_}var w_,u5;function qhe(){if(u5)return w_;u5=1;var t=Dhe();return w_=t,w_}var x_,c5;function Mhe(){return c5||(c5=1,x_=qhe()),x_}var Ahe=Mhe(),Fhe=Ee(Ahe),d5={},__,h5;function dN(){return h5||(h5=1,__=`	
\v\f\r \u2028\u2029\uFEFF`),__}var S_,f5;function cG(){if(f5)return S_;f5=1;var t=Ae(),e=us(),r=Dn(),n=dN(),i=t("".replace),s=RegExp("^["+n+"]+"),a=RegExp("(^|[^"+n+"])["+n+"]+$"),o=function(l){return function(u){var d=r(e(u));return l&1&&(d=i(d,s,"")),l&2&&(d=i(d,a,"$1")),d}};return S_={start:o(1),end:o(2),trim:o(3)},S_}var E_,p5;function Lhe(){if(p5)return E_;p5=1;var t=ut(),e=De(),r=Ae(),n=Dn(),i=cG().trim,s=dN(),a=t.parseInt,o=t.Symbol,l=o&&o.iterator,u=/^[+-]?0x/i,d=r(u.exec),h=a(s+"08")!==8||a(s+"0x16")!==22||l&&!e(function(){a(Object(l))});return E_=h?function(p,m){var y=i(n(p));return a(y,m>>>0||(d(u,y)?16:10))}:a,E_}var m5;function Bhe(){if(m5)return d5;m5=1;var t=ge(),e=Lhe();return t({global:!0,forced:parseInt!==e},{parseInt:e}),d5}var O_,v5;function zhe(){if(v5)return O_;v5=1,Bhe();var t=Ve();return O_=t.parseInt,O_}var P_,g5;function Uhe(){if(g5)return P_;g5=1;var t=zhe();return P_=t,P_}var C_,y5;function Whe(){return y5||(y5=1,C_=Uhe()),C_}var Hhe=Whe(),Hn=Ee(Hhe),b5={},w5;function Vhe(){if(w5)return b5;w5=1;var t=ge(),e=QT(),r=eN().indexOf,n=Lu(),i=e([].indexOf),s=!!i&&1/i([1],1,-0)<0,a=s||!n("indexOf");return t({target:"Array",proto:!0,forced:a},{indexOf:function(l){var u=arguments.length>1?arguments[1]:void 0;return s?i(this,l,u)||0:r(this,l,u)}}),b5}var T_,x5;function Khe(){if(x5)return T_;x5=1,Vhe();var t=pr();return T_=t("Array","indexOf"),T_}var N_,_5;function Ghe(){if(_5)return N_;_5=1;var t=At(),e=Khe(),r=Array.prototype;return N_=function(n){var i=n.indexOf;return n===r||t(r,n)&&i===r.indexOf?e:i},N_}var I_,S5;function Yhe(){if(S5)return I_;S5=1;var t=Ghe();return I_=t,I_}var R_,E5;function Qhe(){return E5||(E5=1,R_=Yhe()),R_}var Xhe=Qhe(),Ue=Ee(Xhe),O5={},P5;function Jhe(){if(P5)return O5;P5=1;var t=ge(),e=Tt(),r=eh();return t({target:"Object",stat:!0,sham:!e},{create:r}),O5}var j_,C5;function Zhe(){if(C5)return j_;C5=1,Jhe();var t=Ve(),e=t.Object;return j_=function(n,i){return e.create(n,i)},j_}var $_,T5;function efe(){if(T5)return $_;T5=1;var t=Zhe();return $_=t,$_}var k_,N5;function tfe(){return N5||(N5=1,k_=efe()),k_}var rfe=tfe(),Ya=Ee(rfe),I5={},D_,R5;function nfe(){if(R5)return D_;R5=1;var t=ku(),e=Dn(),r=us(),n=RangeError;return D_=function(s){var a=e(r(this)),o="",l=t(s);if(l<0||l===1/0)throw new n("Wrong number of repetitions");for(;l>0;(l>>>=1)&&(a+=a))l&1&&(o+=a);return o},D_}var q_,j5;function ife(){if(j5)return q_;j5=1;var t=Ae(),e=z9(),r=Dn(),n=nfe(),i=us(),s=t(n),a=t("".slice),o=Math.ceil,l=function(u){return function(d,h,f){var p=r(i(d)),m=e(h),y=p.length,b=f===void 0?" ":r(f),g,v;return m<=y||b===""?p:(g=m-y,v=s(b,o(g/b.length)),v.length>g&&(v=a(v,0,g)),u?p+v:v+p)}};return q_={start:l(!1),end:l(!0)},q_}var M_,$5;function sfe(){if($5)return M_;$5=1;var t=Ae(),e=De(),r=ife().start,n=RangeError,i=isFinite,s=Math.abs,a=Date.prototype,o=a.toISOString,l=t(a.getTime),u=t(a.getUTCDate),d=t(a.getUTCFullYear),h=t(a.getUTCHours),f=t(a.getUTCMilliseconds),p=t(a.getUTCMinutes),m=t(a.getUTCMonth),y=t(a.getUTCSeconds);return M_=e(function(){return o.call(new Date(-5e13-1))!=="0385-07-25T07:06:39.999Z"})||!e(function(){o.call(new Date(NaN))})?function(){if(!i(l(this)))throw new n("Invalid time value");var g=this,v=d(g),x=f(g),w=v<0?"-":v>9999?"+":"";return w+r(s(v),w?6:4,0)+"-"+r(m(g)+1,2,0)+"-"+r(u(g),2,0)+"T"+r(h(g),2,0)+":"+r(p(g),2,0)+":"+r(y(g),2,0)+"."+r(x,3,0)+"Z"}:o,M_}var k5;function afe(){if(k5)return I5;k5=1;var t=ge(),e=nn(),r=yn(),n=A9(),i=sfe(),s=Si(),a=De(),o=a(function(){return new Date(NaN).toJSON()!==null||e(Date.prototype.toJSON,{toISOString:function(){return 1}})!==1});return t({target:"Date",proto:!0,forced:o},{toJSON:function(u){var d=r(this),h=n(d,"number");return typeof h=="number"&&!isFinite(h)?null:!("toISOString"in d)&&s(d)==="Date"?e(i,d):d.toISOString()}}),I5}var A_,D5;function ofe(){if(D5)return A_;D5=1,afe(),eG();var t=Ve(),e=Vp();return t.JSON||(t.JSON={stringify:JSON.stringify}),A_=function(n,i,s){return e(t.JSON.stringify,null,arguments)},A_}var F_,q5;function lfe(){if(q5)return F_;q5=1;var t=ofe();return F_=t,F_}var L_,M5;function ufe(){return M5||(M5=1,L_=lfe()),L_}var cfe=ufe(),rh=Ee(cfe),A5={},F5={},B_,L5;function dG(){if(L5)return B_;L5=1;var t=ut(),e=Tu(),r=Si(),n=function(i){return e.slice(0,i.length)===i};return B_=function(){return n("Bun/")?"BUN":n("Cloudflare-Workers")?"CLOUDFLARE":n("Deno/")?"DENO":n("Node.js/")?"NODE":t.Bun&&typeof Bun.version=="string"?"BUN":t.Deno&&typeof Deno.version=="object"?"DENO":r(t.process)==="process"?"NODE":t.window&&t.document?"BROWSER":"REST"}(),B_}var z_,B5;function dfe(){if(B5)return z_;B5=1;var t=TypeError;return z_=function(e,r){if(e<r)throw new t("Not enough arguments");return e},z_}var U_,z5;function hG(){if(z5)return U_;z5=1;var t=ut(),e=Vp(),r=tr(),n=dG(),i=Tu(),s=Du(),a=dfe(),o=t.Function,l=/MSIE .\./.test(i)||n==="BUN"&&function(){var u=t.Bun.version.split(".");return u.length<3||u[0]==="0"&&(u[1]<3||u[1]==="3"&&u[2]==="0")}();return U_=function(u,d){var h=d?2:1;return l?function(f,p){var m=a(arguments.length,1)>h,y=r(f)?f:o(f),b=m?s(arguments,h):[],g=m?function(){e(y,this,b)}:y;return d?u(g,p):u(g)}:u},U_}var U5;function hfe(){if(U5)return F5;U5=1;var t=ge(),e=ut(),r=hG(),n=r(e.setInterval,!0);return t({global:!0,bind:!0,forced:e.setInterval!==n},{setInterval:n}),F5}var W5={},H5;function ffe(){if(H5)return W5;H5=1;var t=ge(),e=ut(),r=hG(),n=r(e.setTimeout,!0);return t({global:!0,bind:!0,forced:e.setTimeout!==n},{setTimeout:n}),W5}var V5;function fG(){return V5||(V5=1,hfe(),ffe()),A5}var W_,K5;function pfe(){if(K5)return W_;K5=1,fG();var t=Ve();return W_=t.setTimeout,W_}var H_,G5;function mfe(){return G5||(G5=1,H_=pfe()),H_}var vfe=mfe(),Wi=Ee(vfe),Y5={},V_,Q5;function gfe(){if(Q5)return V_;Q5=1;var t=yn(),e=Jp(),r=ds();return V_=function(i){for(var s=t(this),a=r(s),o=arguments.length,l=e(o>1?arguments[1]:void 0,a),u=o>2?arguments[2]:void 0,d=u===void 0?a:e(u,a);d>l;)s[l++]=i;return s},V_}var X5;function yfe(){if(X5)return Y5;X5=1;var t=ge(),e=gfe(),r=lN();return t({target:"Array",proto:!0},{fill:e}),r("fill"),Y5}var K_,J5;function bfe(){if(J5)return K_;J5=1,yfe();var t=pr();return K_=t("Array","fill"),K_}var G_,Z5;function wfe(){if(Z5)return G_;Z5=1;var t=At(),e=bfe(),r=Array.prototype;return G_=function(n){var i=n.fill;return n===r||t(r,n)&&i===r.fill?e:i},G_}var Y_,ez;function xfe(){if(ez)return Y_;ez=1;var t=wfe();return Y_=t,Y_}var Q_,tz;function _fe(){return tz||(tz=1,Q_=xfe()),Q_}var Sfe=_fe(),nh=Ee(Sfe);/*! Hammer.JS - v2.0.17-rc - 2019-12-16
 * http://naver.github.io/egjs
 *
 * Forked By Naver egjs
 * Copyright (c) hammerjs
 * Licensed under the MIT license */function Zn(){return Zn=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var r=arguments[e];for(var n in r)Object.prototype.hasOwnProperty.call(r,n)&&(t[n]=r[n])}return t},Zn.apply(this,arguments)}function qn(t,e){t.prototype=Object.create(e.prototype),t.prototype.constructor=t,t.__proto__=e}function Ah(t){if(t===void 0)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return t}var XP;typeof Object.assign!="function"?XP=function(e){if(e==null)throw new TypeError("Cannot convert undefined or null to object");for(var r=Object(e),n=1;n<arguments.length;n++){var i=arguments[n];if(i!=null)for(var s in i)i.hasOwnProperty(s)&&(r[s]=i[s])}return r}:XP=Object.assign;var po=XP,rz=["","webkit","Moz","MS","ms","o"],Efe=typeof document>"u"?{style:{}}:document.createElement("div"),Ofe="function",cl=Math.round,mo=Math.abs,hN=Date.now;function sm(t,e){for(var r,n,i=e[0].toUpperCase()+e.slice(1),s=0;s<rz.length;){if(r=rz[s],n=r?r+i:e,n in t)return n;s++}}var Hi;typeof window>"u"?Hi={}:Hi=window;var pG=sm(Efe.style,"touchAction"),mG=pG!==void 0;function Pfe(){if(!mG)return!1;var t={},e=Hi.CSS&&Hi.CSS.supports;return["auto","manipulation","pan-y","pan-x","pan-x pan-y","none"].forEach(function(r){return t[r]=e?Hi.CSS.supports("touch-action",r):!0}),t}var vG="compute",gG="auto",JP="manipulation",Qa="none",sd="pan-x",ad="pan-y",Fh=Pfe(),Cfe=/mobile|tablet|ip(ad|hone|od)|android/i,yG="ontouchstart"in Hi,Tfe=sm(Hi,"PointerEvent")!==void 0,Nfe=yG&&Cfe.test(navigator.userAgent),ih="touch",Ife="pen",fN="mouse",Rfe="kinect",jfe=25,$r=1,$o=2,Dt=4,Zr=8,Xf=1,sh=2,ah=4,oh=8,nu=16,xi=sh|ah,Xa=oh|nu,bG=xi|Xa,wG=["x","y"],Jf=["clientX","clientY"];function Vi(t,e,r){var n;if(t)if(t.forEach)t.forEach(e,r);else if(t.length!==void 0)for(n=0;n<t.length;)e.call(r,t[n],n,t),n++;else for(n in t)t.hasOwnProperty(n)&&e.call(r,t[n],n,t)}function am(t,e){return typeof t===Ofe?t.apply(e&&e[0]||void 0,e):t}function Ra(t,e){return t.indexOf(e)>-1}function $fe(t){if(Ra(t,Qa))return Qa;var e=Ra(t,sd),r=Ra(t,ad);return e&&r?Qa:e||r?e?sd:ad:Ra(t,JP)?JP:gG}var xG=function(){function t(r,n){this.manager=r,this.set(n)}var e=t.prototype;return e.set=function(n){n===vG&&(n=this.compute()),mG&&this.manager.element.style&&Fh[n]&&(this.manager.element.style[pG]=n),this.actions=n.toLowerCase().trim()},e.update=function(){this.set(this.manager.options.touchAction)},e.compute=function(){var n=[];return Vi(this.manager.recognizers,function(i){am(i.options.enable,[i])&&(n=n.concat(i.getTouchAction()))}),$fe(n.join(" "))},e.preventDefaults=function(n){var i=n.srcEvent,s=n.offsetDirection;if(this.manager.session.prevented){i.preventDefault();return}var a=this.actions,o=Ra(a,Qa)&&!Fh[Qa],l=Ra(a,ad)&&!Fh[ad],u=Ra(a,sd)&&!Fh[sd];if(o){var d=n.pointers.length===1,h=n.distance<2,f=n.deltaTime<250;if(d&&h&&f)return}if(!(u&&l)&&(o||l&&s&xi||u&&s&Xa))return this.preventSrc(i)},e.preventSrc=function(n){this.manager.session.prevented=!0,n.preventDefault()},t}();function pN(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}function _G(t){var e=t.length;if(e===1)return{x:cl(t[0].clientX),y:cl(t[0].clientY)};for(var r=0,n=0,i=0;i<e;)r+=t[i].clientX,n+=t[i].clientY,i++;return{x:cl(r/e),y:cl(n/e)}}function nz(t){for(var e=[],r=0;r<t.pointers.length;)e[r]={clientX:cl(t.pointers[r].clientX),clientY:cl(t.pointers[r].clientY)},r++;return{timeStamp:hN(),pointers:e,center:_G(e),deltaX:t.deltaX,deltaY:t.deltaY}}function Zf(t,e,r){r||(r=wG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.sqrt(n*n+i*i)}function ZP(t,e,r){r||(r=wG);var n=e[r[0]]-t[r[0]],i=e[r[1]]-t[r[1]];return Math.atan2(i,n)*180/Math.PI}function SG(t,e){return t===e?Xf:mo(t)>=mo(e)?t<0?sh:ah:e<0?oh:nu}function kfe(t,e){var r=e.center,n=t.offsetDelta||{},i=t.prevDelta||{},s=t.prevInput||{};(e.eventType===$r||s.eventType===Dt)&&(i=t.prevDelta={x:s.deltaX||0,y:s.deltaY||0},n=t.offsetDelta={x:r.x,y:r.y}),e.deltaX=i.x+(r.x-n.x),e.deltaY=i.y+(r.y-n.y)}function EG(t,e,r){return{x:e/t||0,y:r/t||0}}function Dfe(t,e){return Zf(e[0],e[1],Jf)/Zf(t[0],t[1],Jf)}function qfe(t,e){return ZP(e[1],e[0],Jf)+ZP(t[1],t[0],Jf)}function Mfe(t,e){var r=t.lastInterval||e,n=e.timeStamp-r.timeStamp,i,s,a,o;if(e.eventType!==Zr&&(n>jfe||r.velocity===void 0)){var l=e.deltaX-r.deltaX,u=e.deltaY-r.deltaY,d=EG(n,l,u);s=d.x,a=d.y,i=mo(d.x)>mo(d.y)?d.x:d.y,o=SG(l,u),t.lastInterval=e}else i=r.velocity,s=r.velocityX,a=r.velocityY,o=r.direction;e.velocity=i,e.velocityX=s,e.velocityY=a,e.direction=o}function Afe(t,e){var r=t.session,n=e.pointers,i=n.length;r.firstInput||(r.firstInput=nz(e)),i>1&&!r.firstMultiple?r.firstMultiple=nz(e):i===1&&(r.firstMultiple=!1);var s=r.firstInput,a=r.firstMultiple,o=a?a.center:s.center,l=e.center=_G(n);e.timeStamp=hN(),e.deltaTime=e.timeStamp-s.timeStamp,e.angle=ZP(o,l),e.distance=Zf(o,l),kfe(r,e),e.offsetDirection=SG(e.deltaX,e.deltaY);var u=EG(e.deltaTime,e.deltaX,e.deltaY);e.overallVelocityX=u.x,e.overallVelocityY=u.y,e.overallVelocity=mo(u.x)>mo(u.y)?u.x:u.y,e.scale=a?Dfe(a.pointers,n):1,e.rotation=a?qfe(a.pointers,n):0,e.maxPointers=r.prevInput?e.pointers.length>r.prevInput.maxPointers?e.pointers.length:r.prevInput.maxPointers:e.pointers.length,Mfe(r,e);var d=t.element,h=e.srcEvent,f;h.composedPath?f=h.composedPath()[0]:h.path?f=h.path[0]:f=h.target,pN(f,d)&&(d=f),e.target=d}function Ffe(t,e,r){var n=r.pointers.length,i=r.changedPointers.length,s=e&$r&&n-i===0,a=e&(Dt|Zr)&&n-i===0;r.isFirst=!!s,r.isFinal=!!a,s&&(t.session={}),r.eventType=e,Afe(t,r),t.emit("hammer.input",r),t.recognize(r),t.session.prevInput=r}function od(t){return t.trim().split(/\s+/g)}function Oc(t,e,r){Vi(od(e),function(n){t.addEventListener(n,r,!1)})}function Pc(t,e,r){Vi(od(e),function(n){t.removeEventListener(n,r,!1)})}function iz(t){var e=t.ownerDocument||t;return e.defaultView||e.parentWindow||window}var Bu=function(){function t(r,n){var i=this;this.manager=r,this.callback=n,this.element=r.element,this.target=r.options.inputTarget,this.domHandler=function(s){am(r.options.enable,[r])&&i.handler(s)},this.init()}var e=t.prototype;return e.handler=function(){},e.init=function(){this.evEl&&Oc(this.element,this.evEl,this.domHandler),this.evTarget&&Oc(this.target,this.evTarget,this.domHandler),this.evWin&&Oc(iz(this.element),this.evWin,this.domHandler)},e.destroy=function(){this.evEl&&Pc(this.element,this.evEl,this.domHandler),this.evTarget&&Pc(this.target,this.evTarget,this.domHandler),this.evWin&&Pc(iz(this.element),this.evWin,this.domHandler)},t}();function vo(t,e,r){if(t.indexOf&&!r)return t.indexOf(e);for(var n=0;n<t.length;){if(r&&t[n][r]==e||!r&&t[n]===e)return n;n++}return-1}var Lfe={pointerdown:$r,pointermove:$o,pointerup:Dt,pointercancel:Zr,pointerout:Zr},Bfe={2:ih,3:Ife,4:fN,5:Rfe},OG="pointerdown",PG="pointermove pointerup pointercancel";Hi.MSPointerEvent&&!Hi.PointerEvent&&(OG="MSPointerDown",PG="MSPointerMove MSPointerUp MSPointerCancel");var CG=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evEl=OG,i.evWin=PG,n=t.apply(this,arguments)||this,n.store=n.manager.session.pointerEvents=[],n}var r=e.prototype;return r.handler=function(i){var s=this.store,a=!1,o=i.type.toLowerCase().replace("ms",""),l=Lfe[o],u=Bfe[i.pointerType]||i.pointerType,d=u===ih,h=vo(s,i.pointerId,"pointerId");l&$r&&(i.button===0||d)?h<0&&(s.push(i),h=s.length-1):l&(Dt|Zr)&&(a=!0),!(h<0)&&(s[h]=i,this.callback(this.manager,l,{pointers:s,changedPointers:[i],pointerType:u,srcEvent:i}),a&&s.splice(h,1))},e}(Bu);function ld(t){return Array.prototype.slice.call(t,0)}function mN(t,e,r){for(var n=[],i=[],s=0;s<t.length;){var a=e?t[s][e]:t[s];vo(i,a)<0&&n.push(t[s]),i[s]=a,s++}return r&&(e?n=n.sort(function(o,l){return o[e]>l[e]}):n=n.sort()),n}var zfe={touchstart:$r,touchmove:$o,touchend:Dt,touchcancel:Zr},Ufe="touchstart touchmove touchend touchcancel",vN=function(t){qn(e,t);function e(){var n;return e.prototype.evTarget=Ufe,n=t.apply(this,arguments)||this,n.targetIds={},n}var r=e.prototype;return r.handler=function(i){var s=zfe[i.type],a=Wfe.call(this,i,s);a&&this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:ih,srcEvent:i})},e}(Bu);function Wfe(t,e){var r=ld(t.touches),n=this.targetIds;if(e&($r|$o)&&r.length===1)return n[r[0].identifier]=!0,[r,r];var i,s,a=ld(t.changedTouches),o=[],l=this.target;if(s=r.filter(function(u){return pN(u.target,l)}),e===$r)for(i=0;i<s.length;)n[s[i].identifier]=!0,i++;for(i=0;i<a.length;)n[a[i].identifier]&&o.push(a[i]),e&(Dt|Zr)&&delete n[a[i].identifier],i++;if(o.length)return[mN(s.concat(o),"identifier",!0),o]}var Hfe={mousedown:$r,mousemove:$o,mouseup:Dt},Vfe="mousedown",Kfe="mousemove mouseup",gN=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evEl=Vfe,i.evWin=Kfe,n=t.apply(this,arguments)||this,n.pressed=!1,n}var r=e.prototype;return r.handler=function(i){var s=Hfe[i.type];s&$r&&i.button===0&&(this.pressed=!0),s&$o&&i.which!==1&&(s=Dt),this.pressed&&(s&Dt&&(this.pressed=!1),this.callback(this.manager,s,{pointers:[i],changedPointers:[i],pointerType:fN,srcEvent:i}))},e}(Bu),Gfe=2500,sz=25;function az(t){var e=t.changedPointers,r=e[0];if(r.identifier===this.primaryTouch){var n={x:r.clientX,y:r.clientY},i=this.lastTouches;this.lastTouches.push(n);var s=function(){var o=i.indexOf(n);o>-1&&i.splice(o,1)};setTimeout(s,Gfe)}}function Yfe(t,e){t&$r?(this.primaryTouch=e.changedPointers[0].identifier,az.call(this,e)):t&(Dt|Zr)&&az.call(this,e)}function Qfe(t){for(var e=t.srcEvent.clientX,r=t.srcEvent.clientY,n=0;n<this.lastTouches.length;n++){var i=this.lastTouches[n],s=Math.abs(e-i.x),a=Math.abs(r-i.y);if(s<=sz&&a<=sz)return!0}return!1}var TG=function(){var t=function(e){qn(r,e);function r(i,s){var a;return a=e.call(this,i,s)||this,a.handler=function(o,l,u){var d=u.pointerType===ih,h=u.pointerType===fN;if(!(h&&u.sourceCapabilities&&u.sourceCapabilities.firesTouchEvents)){if(d)Yfe.call(Ah(Ah(a)),l,u);else if(h&&Qfe.call(Ah(Ah(a)),u))return;a.callback(o,l,u)}},a.touch=new vN(a.manager,a.handler),a.mouse=new gN(a.manager,a.handler),a.primaryTouch=null,a.lastTouches=[],a}var n=r.prototype;return n.destroy=function(){this.touch.destroy(),this.mouse.destroy()},r}(Bu);return t}();function Xfe(t){var e,r=t.options.inputClass;return r?e=r:Tfe?e=CG:Nfe?e=vN:yG?e=TG:e=gN,new e(t,Ffe)}function dl(t,e,r){return Array.isArray(t)?(Vi(t,r[e],r),!0):!1}var of=1,Nn=2,iu=4,Qs=8,Ki=Qs,ud=16,vi=32,Jfe=1;function Zfe(){return Jfe++}function Lh(t,e){var r=e.manager;return r?r.get(t):t}function oz(t){return t&ud?"cancel":t&Qs?"end":t&iu?"move":t&Nn?"start":""}var lh=function(){function t(r){r===void 0&&(r={}),this.options=Zn({enable:!0},r),this.id=Zfe(),this.manager=null,this.state=of,this.simultaneous={},this.requireFail=[]}var e=t.prototype;return e.set=function(n){return po(this.options,n),this.manager&&this.manager.touchAction.update(),this},e.recognizeWith=function(n){if(dl(n,"recognizeWith",this))return this;var i=this.simultaneous;return n=Lh(n,this),i[n.id]||(i[n.id]=n,n.recognizeWith(this)),this},e.dropRecognizeWith=function(n){return dl(n,"dropRecognizeWith",this)?this:(n=Lh(n,this),delete this.simultaneous[n.id],this)},e.requireFailure=function(n){if(dl(n,"requireFailure",this))return this;var i=this.requireFail;return n=Lh(n,this),vo(i,n)===-1&&(i.push(n),n.requireFailure(this)),this},e.dropRequireFailure=function(n){if(dl(n,"dropRequireFailure",this))return this;n=Lh(n,this);var i=vo(this.requireFail,n);return i>-1&&this.requireFail.splice(i,1),this},e.hasRequireFailures=function(){return this.requireFail.length>0},e.canRecognizeWith=function(n){return!!this.simultaneous[n.id]},e.emit=function(n){var i=this,s=this.state;function a(o){i.manager.emit(o,n)}s<Qs&&a(i.options.event+oz(s)),a(i.options.event),n.additionalEvent&&a(n.additionalEvent),s>=Qs&&a(i.options.event+oz(s))},e.tryEmit=function(n){if(this.canEmit())return this.emit(n);this.state=vi},e.canEmit=function(){for(var n=0;n<this.requireFail.length;){if(!(this.requireFail[n].state&(vi|of)))return!1;n++}return!0},e.recognize=function(n){var i=po({},n);if(!am(this.options.enable,[this,i])){this.reset(),this.state=vi;return}this.state&(Ki|ud|vi)&&(this.state=of),this.state=this.process(i),this.state&(Nn|iu|Qs|ud)&&this.tryEmit(i)},e.process=function(n){},e.getTouchAction=function(){},e.reset=function(){},t}(),eC=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"tap",pointers:1,taps:1,interval:300,time:250,threshold:9,posThreshold:10},n))||this,i.pTime=!1,i.pCenter=!1,i._timer=null,i._input=null,i.count=0,i}var r=e.prototype;return r.getTouchAction=function(){return[JP]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime<a.time;if(this.reset(),i.eventType&$r&&this.count===0)return this.failTimeout();if(l&&u&&o){if(i.eventType!==Dt)return this.failTimeout();var d=this.pTime?i.timeStamp-this.pTime<a.interval:!0,h=!this.pCenter||Zf(this.pCenter,i.center)<a.posThreshold;this.pTime=i.timeStamp,this.pCenter=i.center,!h||!d?this.count=1:this.count+=1,this._input=i;var f=this.count%a.taps;if(f===0)return this.hasRequireFailures()?(this._timer=setTimeout(function(){s.state=Ki,s.tryEmit()},a.interval),Nn):Ki}return vi},r.failTimeout=function(){var i=this;return this._timer=setTimeout(function(){i.state=vi},this.options.interval),vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(){this.state===Ki&&(this._input.tapCount=this.count,this.manager.emit(this.options.event,this._input))},e}(lh),su=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({pointers:1},n))||this}var r=e.prototype;return r.attrTest=function(i){var s=this.options.pointers;return s===0||i.pointers.length===s},r.process=function(i){var s=this.state,a=i.eventType,o=s&(Nn|iu),l=this.attrTest(i);return o&&(a&Zr||!l)?s|ud:o||l?a&Dt?s|Qs:s&Nn?s|iu:Nn:vi},e}(lh);function NG(t){return t===nu?"down":t===oh?"up":t===sh?"left":t===ah?"right":""}var yN=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"pan",threshold:10,pointers:1,direction:bG},n))||this,i.pX=null,i.pY=null,i}var r=e.prototype;return r.getTouchAction=function(){var i=this.options.direction,s=[];return i&xi&&s.push(ad),i&Xa&&s.push(sd),s},r.directionTest=function(i){var s=this.options,a=!0,o=i.distance,l=i.direction,u=i.deltaX,d=i.deltaY;return l&s.direction||(s.direction&xi?(l=u===0?Xf:u<0?sh:ah,a=u!==this.pX,o=Math.abs(i.deltaX)):(l=d===0?Xf:d<0?oh:nu,a=d!==this.pY,o=Math.abs(i.deltaY))),i.direction=l,a&&o>s.threshold&&l&s.direction},r.attrTest=function(i){return su.prototype.attrTest.call(this,i)&&(this.state&Nn||!(this.state&Nn)&&this.directionTest(i))},r.emit=function(i){this.pX=i.deltaX,this.pY=i.deltaY;var s=NG(i.direction);s&&(i.additionalEvent=this.options.event+s),t.prototype.emit.call(this,i)},e}(su),IG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"swipe",threshold:10,velocity:.3,direction:xi|Xa,pointers:1},n))||this}var r=e.prototype;return r.getTouchAction=function(){return yN.prototype.getTouchAction.call(this)},r.attrTest=function(i){var s=this.options.direction,a;return s&(xi|Xa)?a=i.overallVelocity:s&xi?a=i.overallVelocityX:s&Xa&&(a=i.overallVelocityY),t.prototype.attrTest.call(this,i)&&s&i.offsetDirection&&i.distance>this.options.threshold&&i.maxPointers===this.options.pointers&&mo(a)>this.options.velocity&&i.eventType&Dt},r.emit=function(i){var s=NG(i.offsetDirection);s&&this.manager.emit(this.options.event+s,i),this.manager.emit(this.options.event,i)},e}(su),RG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"pinch",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Qa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.scale-1)>this.options.threshold||this.state&Nn)},r.emit=function(i){if(i.scale!==1){var s=i.scale<1?"in":"out";i.additionalEvent=this.options.event+s}t.prototype.emit.call(this,i)},e}(su),jG=function(t){qn(e,t);function e(n){return n===void 0&&(n={}),t.call(this,Zn({event:"rotate",threshold:0,pointers:2},n))||this}var r=e.prototype;return r.getTouchAction=function(){return[Qa]},r.attrTest=function(i){return t.prototype.attrTest.call(this,i)&&(Math.abs(i.rotation)>this.options.threshold||this.state&Nn)},e}(su),$G=function(t){qn(e,t);function e(n){var i;return n===void 0&&(n={}),i=t.call(this,Zn({event:"press",pointers:1,time:251,threshold:9},n))||this,i._timer=null,i._input=null,i}var r=e.prototype;return r.getTouchAction=function(){return[gG]},r.process=function(i){var s=this,a=this.options,o=i.pointers.length===a.pointers,l=i.distance<a.threshold,u=i.deltaTime>a.time;if(this._input=i,!l||!o||i.eventType&(Dt|Zr)&&!u)this.reset();else if(i.eventType&$r)this.reset(),this._timer=setTimeout(function(){s.state=Ki,s.tryEmit()},a.time);else if(i.eventType&Dt)return Ki;return vi},r.reset=function(){clearTimeout(this._timer)},r.emit=function(i){this.state===Ki&&(i&&i.eventType&Dt?this.manager.emit(this.options.event+"up",i):(this._input.timeStamp=hN(),this.manager.emit(this.options.event,this._input)))},e}(lh),kG={domEvents:!1,touchAction:vG,enable:!0,inputTarget:null,inputClass:null,cssProps:{userSelect:"none",touchSelect:"none",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},lz=[[jG,{enable:!1}],[RG,{enable:!1},["rotate"]],[IG,{direction:xi}],[yN,{direction:xi},["swipe"]],[eC],[eC,{event:"doubletap",taps:2},["tap"]],[$G]],epe=1,uz=2;function cz(t,e){var r=t.element;if(r.style){var n;Vi(t.options.cssProps,function(i,s){n=sm(r.style,s),e?(t.oldCssProps[n]=r.style[n],r.style[n]=i):r.style[n]=t.oldCssProps[n]||""}),e||(t.oldCssProps={})}}function tpe(t,e){var r=document.createEvent("Event");r.initEvent(t,!0,!0),r.gesture=e,e.target.dispatchEvent(r)}var dz=function(){function t(r,n){var i=this;this.options=po({},kG,n||{}),this.options.inputTarget=this.options.inputTarget||r,this.handlers={},this.session={},this.recognizers=[],this.oldCssProps={},this.element=r,this.input=Xfe(this),this.touchAction=new xG(this,this.options.touchAction),cz(this,!0),Vi(this.options.recognizers,function(s){var a=i.add(new s[0](s[1]));s[2]&&a.recognizeWith(s[2]),s[3]&&a.requireFailure(s[3])},this)}var e=t.prototype;return e.set=function(n){return po(this.options,n),n.touchAction&&this.touchAction.update(),n.inputTarget&&(this.input.destroy(),this.input.target=n.inputTarget,this.input.init()),this},e.stop=function(n){this.session.stopped=n?uz:epe},e.recognize=function(n){var i=this.session;if(!i.stopped){this.touchAction.preventDefaults(n);var s,a=this.recognizers,o=i.curRecognizer;(!o||o&&o.state&Ki)&&(i.curRecognizer=null,o=null);for(var l=0;l<a.length;)s=a[l],i.stopped!==uz&&(!o||s===o||s.canRecognizeWith(o))?s.recognize(n):s.reset(),!o&&s.state&(Nn|iu|Qs)&&(i.curRecognizer=s,o=s),l++}},e.get=function(n){if(n instanceof lh)return n;for(var i=this.recognizers,s=0;s<i.length;s++)if(i[s].options.event===n)return i[s];return null},e.add=function(n){if(dl(n,"add",this))return this;var i=this.get(n.options.event);return i&&this.remove(i),this.recognizers.push(n),n.manager=this,this.touchAction.update(),n},e.remove=function(n){if(dl(n,"remove",this))return this;var i=this.get(n);if(n){var s=this.recognizers,a=vo(s,i);a!==-1&&(s.splice(a,1),this.touchAction.update())}return this},e.on=function(n,i){if(n===void 0||i===void 0)return this;var s=this.handlers;return Vi(od(n),function(a){s[a]=s[a]||[],s[a].push(i)}),this},e.off=function(n,i){if(n===void 0)return this;var s=this.handlers;return Vi(od(n),function(a){i?s[a]&&s[a].splice(vo(s[a],i),1):delete s[a]}),this},e.emit=function(n,i){this.options.domEvents&&tpe(n,i);var s=this.handlers[n]&&this.handlers[n].slice();if(!(!s||!s.length)){i.type=n,i.preventDefault=function(){i.srcEvent.preventDefault()};for(var a=0;a<s.length;)s[a](i),a++}},e.destroy=function(){this.element&&cz(this,!1),this.handlers={},this.session={},this.input.destroy(),this.element=null},t}(),rpe={touchstart:$r,touchmove:$o,touchend:Dt,touchcancel:Zr},npe="touchstart",ipe="touchstart touchmove touchend touchcancel",spe=function(t){qn(e,t);function e(){var n,i=e.prototype;return i.evTarget=npe,i.evWin=ipe,n=t.apply(this,arguments)||this,n.started=!1,n}var r=e.prototype;return r.handler=function(i){var s=rpe[i.type];if(s===$r&&(this.started=!0),!!this.started){var a=ape.call(this,i,s);s&(Dt|Zr)&&a[0].length-a[1].length===0&&(this.started=!1),this.callback(this.manager,s,{pointers:a[0],changedPointers:a[1],pointerType:ih,srcEvent:i})}},e}(Bu);function ape(t,e){var r=ld(t.touches),n=ld(t.changedTouches);return e&(Dt|Zr)&&(r=mN(r.concat(n),"identifier",!0)),[r,n]}function DG(t,e,r){var n="DEPRECATED METHOD: "+e+`
`+r+` AT 
`;return function(){var i=new Error("get-stack-trace"),s=i&&i.stack?i.stack.replace(/^[^\(]+?[\n$]/gm,"").replace(/^\s+at\s+/gm,"").replace(/^Object.<anonymous>\s*\(/gm,"{anonymous}()@"):"Unknown Stack Trace",a=window.console&&(window.console.warn||window.console.log);return a&&a.call(window.console,n,s),t.apply(this,arguments)}}var qG=DG(function(t,e,r){for(var n=Object.keys(e),i=0;i<n.length;)(!r||r&&t[n[i]]===void 0)&&(t[n[i]]=e[n[i]]),i++;return t},"extend","Use `assign`."),ope=DG(function(t,e){return qG(t,e,!0)},"merge","Use `assign`.");function lpe(t,e,r){var n=e.prototype,i;i=t.prototype=Object.create(n),i.constructor=t,i._super=n,r&&po(i,r)}function hz(t,e){return function(){return t.apply(e,arguments)}}var MG=function(){var t=function(r,n){return n===void 0&&(n={}),new dz(r,Zn({recognizers:lz.concat()},n))};return t.VERSION="2.0.17-rc",t.DIRECTION_ALL=bG,t.DIRECTION_DOWN=nu,t.DIRECTION_LEFT=sh,t.DIRECTION_RIGHT=ah,t.DIRECTION_UP=oh,t.DIRECTION_HORIZONTAL=xi,t.DIRECTION_VERTICAL=Xa,t.DIRECTION_NONE=Xf,t.DIRECTION_DOWN=nu,t.INPUT_START=$r,t.INPUT_MOVE=$o,t.INPUT_END=Dt,t.INPUT_CANCEL=Zr,t.STATE_POSSIBLE=of,t.STATE_BEGAN=Nn,t.STATE_CHANGED=iu,t.STATE_ENDED=Qs,t.STATE_RECOGNIZED=Ki,t.STATE_CANCELLED=ud,t.STATE_FAILED=vi,t.Manager=dz,t.Input=Bu,t.TouchAction=xG,t.TouchInput=vN,t.MouseInput=gN,t.PointerEventInput=CG,t.TouchMouseInput=TG,t.SingleTouchInput=spe,t.Recognizer=lh,t.AttrRecognizer=su,t.Tap=eC,t.Pan=yN,t.Swipe=IG,t.Pinch=RG,t.Rotate=jG,t.Press=$G,t.on=Oc,t.off=Pc,t.each=Vi,t.merge=ope,t.extend=qG,t.bindFn=hz,t.assign=po,t.inherit=lpe,t.bindFn=hz,t.prefixed=sm,t.toArray=ld,t.inArray=vo,t.uniqueArray=mN,t.splitStr=od,t.boolOrFn=am,t.hasParent=pN,t.addEventListeners=Oc,t.removeEventListeners=Pc,t.defaults=po({},kG,{preset:lz}),t}();MG.defaults;cde("DELETE");function om(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];return upe(e.length?e:[Qf()])}function upe(t){let[e,r,n]=cpe(t),i=1;const s=()=>{const a=2091639*e+i*23283064365386963e-26;return e=r,r=n,n=a-(i=a|0)};return s.uint32=()=>s()*4294967296,s.fract53=()=>s()+(s()*2097152|0)*11102230246251565e-32,s.algorithm="Alea",s.seed=t,s.version="0.9",s}function cpe(){const t=dpe();let e=t(" "),r=t(" "),n=t(" ");for(let i=0;i<arguments.length;i++)e-=t(i<0||arguments.length<=i?void 0:arguments[i]),e<0&&(e+=1),r-=t(i<0||arguments.length<=i?void 0:arguments[i]),r<0&&(r+=1),n-=t(i<0||arguments.length<=i?void 0:arguments[i]),n<0&&(n+=1);return[e,r,n]}function dpe(){let t=4022871197;return function(e){const r=e.toString();for(let n=0;n<r.length;n++){t+=r.charCodeAt(n);let i=.02519603282416938*t;t=i>>>0,i-=t,i*=t,t=i>>>0,i-=t,t+=i*4294967296}return(t>>>0)*23283064365386963e-26}}function hpe(){const t=()=>{};return{on:t,off:t,destroy:t,emit:t,get(){return{set:t}}}}const bN=typeof window<"u"?window.Hammer||MG:function(){return hpe()};function gi(t){var e;this._cleanupQueue=[],this.active=!1,this._dom={container:t,overlay:document.createElement("div")},this._dom.overlay.classList.add("vis-overlay"),this._dom.container.appendChild(this._dom.overlay),this._cleanupQueue.push(()=>{this._dom.overlay.parentNode.removeChild(this._dom.overlay)});const r=bN(this._dom.overlay);r.on("tap",Z(e=this._onTapOverlay).call(e,this)),this._cleanupQueue.push(()=>{r.destroy()});const n=["tap","doubletap","press","pinch","pan","panstart","panmove","panend"];Ye(n).call(n,i=>{r.on(i,s=>{s.srcEvent.stopPropagation()})}),document&&document.body&&(this._onClick=i=>{fpe(i.target,t)||this.deactivate()},document.body.addEventListener("click",this._onClick),this._cleanupQueue.push(()=>{document.body.removeEventListener("click",this._onClick)})),this._escListener=i=>{("key"in i?i.key==="Escape":i.keyCode===27)&&this.deactivate()}}K9(gi.prototype);gi.current=null;gi.prototype.destroy=function(){this.deactivate();for(const r of Ga(t=Ui(e=this._cleanupQueue).call(e,0)).call(t)){var t,e;r()}};gi.prototype.activate=function(){gi.current&&gi.current.deactivate(),gi.current=this,this.active=!0,this._dom.overlay.style.display="none",this._dom.container.classList.add("vis-active"),this.emit("change"),this.emit("activate"),document.body.addEventListener("keydown",this._escListener)};gi.prototype.deactivate=function(){this.active=!1,this._dom.overlay.style.display="block",this._dom.container.classList.remove("vis-active"),document.body.removeEventListener("keydown",this._escListener),this.emit("change"),this.emit("deactivate")};gi.prototype._onTapOverlay=function(t){this.activate(),t.srcEvent.stopPropagation()};function fpe(t,e){for(;t;){if(t===e)return!0;t=t.parentNode}return!1}const ppe=/^#?([a-f\d]{2})([a-f\d]{2})([a-f\d]{2})$/i,mpe=/^#?([a-f\d])([a-f\d])([a-f\d])$/i,vpe=/^rgb\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *\)$/i,gpe=/^rgba\( *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *(1?\d{1,2}|2[0-4]\d|25[0-5]) *, *([01]|0?\.\d+) *\)$/i;function ys(t){if(t)for(;t.hasChildNodes()===!0;){const e=t.firstChild;e&&(ys(e),t.removeChild(e))}}function bl(t){return t instanceof String||typeof t=="string"}function fz(t){return typeof t=="object"&&t!==null}function go(t,e,r,n){let i=!1;n===!0&&(i=e[r]===null&&t[r]!==void 0),i?delete t[r]:t[r]=e[r]}function AG(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;for(const n in t)if(e[n]!==void 0)if(e[n]===null||typeof e[n]!="object")go(t,e,n,r);else{const i=t[n],s=e[n];fz(i)&&fz(s)&&AG(i,s,r)}}function zu(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Et(r))throw new TypeError("Arrays are not supported by deepExtend");for(let i=0;i<t.length;i++){const s=t[i];if(Object.prototype.hasOwnProperty.call(r,s))if(r[s]&&r[s].constructor===Object)e[s]===void 0&&(e[s]={}),e[s].constructor===Object?et(e[s],r[s],!1,n):go(e,r,s,n);else{if(Et(r[s]))throw new TypeError("Arrays are not supported by deepExtend");go(e,r,s,n)}}return e}function ep(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;if(Et(r))throw new TypeError("Arrays are not supported by deepExtend");for(const i in r)if(Object.prototype.hasOwnProperty.call(r,i)&&!Ys(t).call(t,i))if(r[i]&&r[i].constructor===Object)e[i]===void 0&&(e[i]={}),e[i].constructor===Object?et(e[i],r[i]):go(e,r,i,n);else if(Et(r[i])){e[i]=[];for(let s=0;s<r[i].length;s++)e[i].push(r[i][s])}else go(e,r,i,n);return e}function et(t,e){let r=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1;for(const s in e)if(Object.prototype.hasOwnProperty.call(e,s)||r===!0)if(typeof e[s]=="object"&&e[s]!==null&&G3(e[s])===Object.prototype)t[s]===void 0?t[s]=et({},e[s],r):typeof t[s]=="object"&&t[s]!==null&&G3(t[s])===Object.prototype?et(t[s],e[s],r):go(t,e,s,n);else if(Et(e[s])){var i;t[s]=pi(i=e[s]).call(i)}else go(t,e,s,n);return t}function tp(t,e){return[...t,e]}function ype(t){return pi(t).call(t)}function bpe(t){return t.getBoundingClientRect().left}function wpe(t){return t.getBoundingClientRect().top}function Re(t,e){if(Et(t)){const r=t.length;for(let n=0;n<r;n++)e(t[n],n,t)}else for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&e(t[r],r,t)}function wN(t){let e;switch(t.length){case 3:case 4:return e=mpe.exec(t),e?{r:Hn(e[1]+e[1],16),g:Hn(e[2]+e[2],16),b:Hn(e[3]+e[3],16)}:null;case 6:case 7:return e=ppe.exec(t),e?{r:Hn(e[1],16),g:Hn(e[2],16),b:Hn(e[3],16)}:null;default:return null}}function On(t,e){if(Ys(t).call(t,"rgba"))return t;if(Ys(t).call(t,"rgb")){const r=t.substr(Ue(t).call(t,"(")+1).replace(")","").split(",");return"rgba("+r[0]+","+r[1]+","+r[2]+","+e+")"}else{const r=wN(t);return r==null?t:"rgba("+r.r+","+r.g+","+r.b+","+e+")"}}function FG(t,e,r){var n;return"#"+pi(n=((1<<24)+(t<<16)+(e<<8)+r).toString(16)).call(n,1)}function tC(t,e){if(bl(t)){let n=t;if(BG(n)){var r;const i=ru(r=n.substr(4).substr(0,n.length-5).split(",")).call(r,function(s){return Hn(s)});n=FG(i[0],i[1],i[2])}if(LG(n)===!0){const i=xpe(n),s={h:i.h,s:i.s*.8,v:Math.min(1,i.v*1.02)},a={h:i.h,s:Math.min(1,i.s*1.25),v:i.v*.8},o=rC(a.h,a.s,a.v),l=rC(s.h,s.s,s.v);return{background:n,border:o,highlight:{background:l,border:o},hover:{background:l,border:o}}}else return{background:n,border:n,highlight:{background:n,border:n},hover:{background:n,border:n}}}else return{background:t.background||void 0,border:t.border||void 0,highlight:bl(t.highlight)?{border:t.highlight,background:t.highlight}:{background:t.highlight&&t.highlight.background||void 0,border:t.highlight&&t.highlight.border||void 0},hover:bl(t.hover)?{border:t.hover,background:t.hover}:{border:t.hover&&t.hover.border||void 0,background:t.hover&&t.hover.background||void 0}}}function cc(t,e,r){t=t/255,e=e/255,r=r/255;const n=Math.min(t,Math.min(e,r)),i=Math.max(t,Math.max(e,r));if(n===i)return{h:0,s:0,v:n};const s=t===n?e-r:r===n?t-e:r-t,o=60*((t===n?3:r===n?1:5)-s/(i-n))/360,l=(i-n)/i;return{h:o,s:l,v:i}}function lf(t,e,r){let n,i,s;const a=Math.floor(t*6),o=t*6-a,l=r*(1-e),u=r*(1-o*e),d=r*(1-(1-o)*e);switch(a%6){case 0:n=r,i=d,s=l;break;case 1:n=u,i=r,s=l;break;case 2:n=l,i=r,s=d;break;case 3:n=l,i=u,s=r;break;case 4:n=d,i=l,s=r;break;case 5:n=r,i=l,s=u;break}return{r:Math.floor(n*255),g:Math.floor(i*255),b:Math.floor(s*255)}}function rC(t,e,r){const n=lf(t,e,r);return FG(n.r,n.g,n.b)}function xpe(t){const e=wN(t);if(!e)throw new TypeError("'".concat(t,"' is not a valid color."));return cc(e.r,e.g,e.b)}function LG(t){return/(^#[0-9A-F]{6}$)|(^#[0-9A-F]{3}$)/i.test(t)}function BG(t){return vpe.test(t)}function _pe(t){return gpe.test(t)}function Xs(t){if(t===null||typeof t!="object")return null;if(t instanceof Element)return t;const e=Ya(t);for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&typeof t[r]=="object"&&(e[r]=Xs(t[r]));return e}function _n(t,e,r){let n=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{};const i=function(p){return p!=null},s=function(p){return p!==null&&typeof p=="object"},a=function(p){for(const m in p)if(Object.prototype.hasOwnProperty.call(p,m))return!1;return!0};if(!s(t))throw new Error("Parameter mergeTarget must be an object");if(!s(e))throw new Error("Parameter options must be an object");if(!i(r))throw new Error("Parameter option must have a value");if(!s(n))throw new Error("Parameter globalOptions must be an object");const o=function(p,m,y){s(p[y])||(p[y]={});const b=m[y],g=p[y];for(const v in b)Object.prototype.hasOwnProperty.call(b,v)&&(g[v]=b[v])},l=e[r],d=s(n)&&!a(n)?n[r]:void 0,h=d?d.enabled:void 0;if(l===void 0)return;if(typeof l=="boolean"){s(t[r])||(t[r]={}),t[r].enabled=l;return}if(l===null&&!s(t[r]))if(i(d))t[r]=Ya(d);else return;if(!s(l))return;let f=!0;l.enabled!==void 0?f=l.enabled:h!==void 0&&(f=d.enabled),o(t,e,r),t[r].enabled=f}const Spe={linear(t){return t},easeInQuad(t){return t*t},easeOutQuad(t){return t*(2-t)},easeInOutQuad(t){return t<.5?2*t*t:-1+(4-2*t)*t},easeInCubic(t){return t*t*t},easeOutCubic(t){return--t*t*t+1},easeInOutCubic(t){return t<.5?4*t*t*t:(t-1)*(2*t-2)*(2*t-2)+1},easeInQuart(t){return t*t*t*t},easeOutQuart(t){return 1- --t*t*t*t},easeInOutQuart(t){return t<.5?8*t*t*t*t:1-8*--t*t*t*t},easeInQuint(t){return t*t*t*t*t},easeOutQuint(t){return 1+--t*t*t*t*t},easeInOutQuint(t){return t<.5?16*t*t*t*t*t:1+16*--t*t*t*t*t}};function bs(t,e){let r;Et(e)||(e=[e]);for(const n of t)if(n){r=n[e[0]];for(let i=1;i<e.length;i++)r&&(r=r[e[i]]);if(typeof r<"u")break}return r}const Epe={black:"#000000",navy:"#000080",darkblue:"#00008B",mediumblue:"#0000CD",blue:"#0000FF",darkgreen:"#006400",green:"#008000",teal:"#008080",darkcyan:"#008B8B",deepskyblue:"#00BFFF",darkturquoise:"#00CED1",mediumspringgreen:"#00FA9A",lime:"#00FF00",springgreen:"#00FF7F",aqua:"#00FFFF",cyan:"#00FFFF",midnightblue:"#191970",dodgerblue:"#1E90FF",lightseagreen:"#20B2AA",forestgreen:"#228B22",seagreen:"#2E8B57",darkslategray:"#2F4F4F",limegreen:"#32CD32",mediumseagreen:"#3CB371",turquoise:"#40E0D0",royalblue:"#4169E1",steelblue:"#4682B4",darkslateblue:"#483D8B",mediumturquoise:"#48D1CC",indigo:"#4B0082",darkolivegreen:"#556B2F",cadetblue:"#5F9EA0",cornflowerblue:"#6495ED",mediumaquamarine:"#66CDAA",dimgray:"#696969",slateblue:"#6A5ACD",olivedrab:"#6B8E23",slategray:"#708090",lightslategray:"#778899",mediumslateblue:"#7B68EE",lawngreen:"#7CFC00",chartreuse:"#7FFF00",aquamarine:"#7FFFD4",maroon:"#800000",purple:"#800080",olive:"#808000",gray:"#808080",skyblue:"#87CEEB",lightskyblue:"#87CEFA",blueviolet:"#8A2BE2",darkred:"#8B0000",darkmagenta:"#8B008B",saddlebrown:"#8B4513",darkseagreen:"#8FBC8F",lightgreen:"#90EE90",mediumpurple:"#9370D8",darkviolet:"#9400D3",palegreen:"#98FB98",darkorchid:"#9932CC",yellowgreen:"#9ACD32",sienna:"#A0522D",brown:"#A52A2A",darkgray:"#A9A9A9",lightblue:"#ADD8E6",greenyellow:"#ADFF2F",paleturquoise:"#AFEEEE",lightsteelblue:"#B0C4DE",powderblue:"#B0E0E6",firebrick:"#B22222",darkgoldenrod:"#B8860B",mediumorchid:"#BA55D3",rosybrown:"#BC8F8F",darkkhaki:"#BDB76B",silver:"#C0C0C0",mediumvioletred:"#C71585",indianred:"#CD5C5C",peru:"#CD853F",chocolate:"#D2691E",tan:"#D2B48C",lightgrey:"#D3D3D3",palevioletred:"#D87093",thistle:"#D8BFD8",orchid:"#DA70D6",goldenrod:"#DAA520",crimson:"#DC143C",gainsboro:"#DCDCDC",plum:"#DDA0DD",burlywood:"#DEB887",lightcyan:"#E0FFFF",lavender:"#E6E6FA",darksalmon:"#E9967A",violet:"#EE82EE",palegoldenrod:"#EEE8AA",lightcoral:"#F08080",khaki:"#F0E68C",aliceblue:"#F0F8FF",honeydew:"#F0FFF0",azure:"#F0FFFF",sandybrown:"#F4A460",wheat:"#F5DEB3",beige:"#F5F5DC",whitesmoke:"#F5F5F5",mintcream:"#F5FFFA",ghostwhite:"#F8F8FF",salmon:"#FA8072",antiquewhite:"#FAEBD7",linen:"#FAF0E6",lightgoldenrodyellow:"#FAFAD2",oldlace:"#FDF5E6",red:"#FF0000",fuchsia:"#FF00FF",magenta:"#FF00FF",deeppink:"#FF1493",orangered:"#FF4500",tomato:"#FF6347",hotpink:"#FF69B4",coral:"#FF7F50",darkorange:"#FF8C00",lightsalmon:"#FFA07A",orange:"#FFA500",lightpink:"#FFB6C1",pink:"#FFC0CB",gold:"#FFD700",peachpuff:"#FFDAB9",navajowhite:"#FFDEAD",moccasin:"#FFE4B5",bisque:"#FFE4C4",mistyrose:"#FFE4E1",blanchedalmond:"#FFEBCD",papayawhip:"#FFEFD5",lavenderblush:"#FFF0F5",seashell:"#FFF5EE",cornsilk:"#FFF8DC",lemonchiffon:"#FFFACD",floralwhite:"#FFFAF0",snow:"#FFFAFA",yellow:"#FFFF00",lightyellow:"#FFFFE0",ivory:"#FFFFF0",white:"#FFFFFF"};let Ope=class{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.pixelRatio=e,this.generated=!1,this.centerCoordinates={x:289/2,y:289/2},this.r=289*.49,this.color={r:255,g:255,b:255,a:1},this.hueCircle=void 0,this.initialColor={r:255,g:255,b:255,a:1},this.previousColor=void 0,this.applied=!1,this.updateCallback=()=>{},this.closeCallback=()=>{},this._create()}insertTo(e){this.hammer!==void 0&&(this.hammer.destroy(),this.hammer=void 0),this.container=e,this.container.appendChild(this.frame),this._bindHammer(),this._setSize()}setUpdateCallback(e){if(typeof e=="function")this.updateCallback=e;else throw new Error("Function attempted to set as colorPicker update callback is not a function.")}setCloseCallback(e){if(typeof e=="function")this.closeCallback=e;else throw new Error("Function attempted to set as colorPicker closing callback is not a function.")}_isColorString(e){if(typeof e=="string")return Epe[e]}setColor(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e==="none")return;let n;const i=this._isColorString(e);if(i!==void 0&&(e=i),bl(e)===!0){if(BG(e)===!0){const s=e.substr(4).substr(0,e.length-5).split(",");n={r:s[0],g:s[1],b:s[2],a:1}}else if(_pe(e)===!0){const s=e.substr(5).substr(0,e.length-6).split(",");n={r:s[0],g:s[1],b:s[2],a:s[3]}}else if(LG(e)===!0){const s=wN(e);n={r:s.r,g:s.g,b:s.b,a:1}}}else if(e instanceof Object&&e.r!==void 0&&e.g!==void 0&&e.b!==void 0){const s=e.a!==void 0?e.a:"1.0";n={r:e.r,g:e.g,b:e.b,a:s}}if(n===void 0)throw new Error("Unknown color passed to the colorPicker. Supported are strings: rgb, hex, rgba. Object: rgb ({r:r,g:g,b:b,[a:a]}). Supplied: "+rh(e));this._setColor(n,r)}show(){this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0),this.applied=!1,this.frame.style.display="block",this._generateHueCircle()}_hide(){(arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0)===!0&&(this.previousColor=kt({},this.color)),this.applied===!0&&this.updateCallback(this.initialColor),this.frame.style.display="none",Wi(()=>{this.closeCallback!==void 0&&(this.closeCallback(),this.closeCallback=void 0)},0)}_save(){this.updateCallback(this.color),this.applied=!1,this._hide()}_apply(){this.applied=!0,this.updateCallback(this.color),this._updatePicker(this.color)}_loadLast(){this.previousColor!==void 0?this.setColor(this.previousColor,!1):alert("There is no last color to load...")}_setColor(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0)===!0&&(this.initialColor=kt({},e)),this.color=e;const n=cc(e.r,e.g,e.b),i=2*Math.PI,s=this.r*n.s,a=this.centerCoordinates.x+s*Math.sin(i*n.h),o=this.centerCoordinates.y+s*Math.cos(i*n.h);this.colorPickerSelector.style.left=a-.5*this.colorPickerSelector.clientWidth+"px",this.colorPickerSelector.style.top=o-.5*this.colorPickerSelector.clientHeight+"px",this._updatePicker(e)}_setOpacity(e){this.color.a=e/100,this._updatePicker(this.color)}_setBrightness(e){const r=cc(this.color.r,this.color.g,this.color.b);r.v=e/100;const n=lf(r.h,r.s,r.v);n.a=this.color.a,this.color=n,this._updatePicker()}_updatePicker(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.color;const r=cc(e.r,e.g,e.b),n=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(n.webkitBackingStorePixelRatio||n.mozBackingStorePixelRatio||n.msBackingStorePixelRatio||n.oBackingStorePixelRatio||n.backingStorePixelRatio||1)),n.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const i=this.colorPickerCanvas.clientWidth,s=this.colorPickerCanvas.clientHeight;n.clearRect(0,0,i,s),n.putImageData(this.hueCircle,0,0),n.fillStyle="rgba(0,0,0,"+(1-r.v)+")",n.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),nh(n).call(n),this.brightnessRange.value=100*r.v,this.opacityRange.value=100*e.a,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}_setSize(){this.colorPickerCanvas.style.width="100%",this.colorPickerCanvas.style.height="100%",this.colorPickerCanvas.width=289*this.pixelRatio,this.colorPickerCanvas.height=289*this.pixelRatio}_create(){var e,r,n,i;if(this.frame=document.createElement("div"),this.frame.className="vis-color-picker",this.colorPickerDiv=document.createElement("div"),this.colorPickerSelector=document.createElement("div"),this.colorPickerSelector.className="vis-selector",this.colorPickerDiv.appendChild(this.colorPickerSelector),this.colorPickerCanvas=document.createElement("canvas"),this.colorPickerDiv.appendChild(this.colorPickerCanvas),this.colorPickerCanvas.getContext){const a=this.colorPickerCanvas.getContext("2d");this.pixelRatio=(window.devicePixelRatio||1)/(a.webkitBackingStorePixelRatio||a.mozBackingStorePixelRatio||a.msBackingStorePixelRatio||a.oBackingStorePixelRatio||a.backingStorePixelRatio||1),this.colorPickerCanvas.getContext("2d").setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}else{const a=document.createElement("DIV");a.style.color="red",a.style.fontWeight="bold",a.style.padding="10px",a.innerText="Error: your browser does not support HTML canvas",this.colorPickerCanvas.appendChild(a)}this.colorPickerDiv.className="vis-color",this.opacityDiv=document.createElement("div"),this.opacityDiv.className="vis-opacity",this.brightnessDiv=document.createElement("div"),this.brightnessDiv.className="vis-brightness",this.arrowDiv=document.createElement("div"),this.arrowDiv.className="vis-arrow",this.opacityRange=document.createElement("input");try{this.opacityRange.type="range",this.opacityRange.min="0",this.opacityRange.max="100"}catch{}this.opacityRange.value="100",this.opacityRange.className="vis-range",this.brightnessRange=document.createElement("input");try{this.brightnessRange.type="range",this.brightnessRange.min="0",this.brightnessRange.max="100"}catch{}this.brightnessRange.value="100",this.brightnessRange.className="vis-range",this.opacityDiv.appendChild(this.opacityRange),this.brightnessDiv.appendChild(this.brightnessRange);const s=this;this.opacityRange.onchange=function(){s._setOpacity(this.value)},this.opacityRange.oninput=function(){s._setOpacity(this.value)},this.brightnessRange.onchange=function(){s._setBrightness(this.value)},this.brightnessRange.oninput=function(){s._setBrightness(this.value)},this.brightnessLabel=document.createElement("div"),this.brightnessLabel.className="vis-label vis-brightness",this.brightnessLabel.innerText="brightness:",this.opacityLabel=document.createElement("div"),this.opacityLabel.className="vis-label vis-opacity",this.opacityLabel.innerText="opacity:",this.newColorDiv=document.createElement("div"),this.newColorDiv.className="vis-new-color",this.newColorDiv.innerText="new",this.initialColorDiv=document.createElement("div"),this.initialColorDiv.className="vis-initial-color",this.initialColorDiv.innerText="initial",this.cancelButton=document.createElement("div"),this.cancelButton.className="vis-button vis-cancel",this.cancelButton.innerText="cancel",this.cancelButton.onclick=Z(e=this._hide).call(e,this,!1),this.applyButton=document.createElement("div"),this.applyButton.className="vis-button vis-apply",this.applyButton.innerText="apply",this.applyButton.onclick=Z(r=this._apply).call(r,this),this.saveButton=document.createElement("div"),this.saveButton.className="vis-button vis-save",this.saveButton.innerText="save",this.saveButton.onclick=Z(n=this._save).call(n,this),this.loadButton=document.createElement("div"),this.loadButton.className="vis-button vis-load",this.loadButton.innerText="load last",this.loadButton.onclick=Z(i=this._loadLast).call(i,this),this.frame.appendChild(this.colorPickerDiv),this.frame.appendChild(this.arrowDiv),this.frame.appendChild(this.brightnessLabel),this.frame.appendChild(this.brightnessDiv),this.frame.appendChild(this.opacityLabel),this.frame.appendChild(this.opacityDiv),this.frame.appendChild(this.newColorDiv),this.frame.appendChild(this.initialColorDiv),this.frame.appendChild(this.cancelButton),this.frame.appendChild(this.applyButton),this.frame.appendChild(this.saveButton),this.frame.appendChild(this.loadButton)}_bindHammer(){this.drag={},this.pinch={},this.hammer=new bN(this.colorPickerCanvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.on("hammer.input",e=>{e.isFirst&&this._moveSelector(e)}),this.hammer.on("tap",e=>{this._moveSelector(e)}),this.hammer.on("panstart",e=>{this._moveSelector(e)}),this.hammer.on("panmove",e=>{this._moveSelector(e)}),this.hammer.on("panend",e=>{this._moveSelector(e)})}_generateHueCircle(){if(this.generated===!1){const e=this.colorPickerCanvas.getContext("2d");this.pixelRation===void 0&&(this.pixelRatio=(window.devicePixelRatio||1)/(e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1)),e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0);const r=this.colorPickerCanvas.clientWidth,n=this.colorPickerCanvas.clientHeight;e.clearRect(0,0,r,n);let i,s,a,o;this.centerCoordinates={x:r*.5,y:n*.5},this.r=.49*r;const l=2*Math.PI/360,u=1/360,d=1/this.r;let h;for(a=0;a<360;a++)for(o=0;o<this.r;o++)i=this.centerCoordinates.x+o*Math.sin(l*a),s=this.centerCoordinates.y+o*Math.cos(l*a),h=lf(a*u,o*d,1),e.fillStyle="rgb("+h.r+","+h.g+","+h.b+")",e.fillRect(i-.5,s-.5,2,2);e.strokeStyle="rgba(0,0,0,1)",e.circle(this.centerCoordinates.x,this.centerCoordinates.y,this.r),e.stroke(),this.hueCircle=e.getImageData(0,0,r,n)}this.generated=!0}_moveSelector(e){const r=this.colorPickerDiv.getBoundingClientRect(),n=e.center.x-r.left,i=e.center.y-r.top,s=.5*this.colorPickerDiv.clientHeight,a=.5*this.colorPickerDiv.clientWidth,o=n-a,l=i-s,u=Math.atan2(o,l),d=.98*Math.min(Math.sqrt(o*o+l*l),a),h=Math.cos(u)*d+s,f=Math.sin(u)*d+a;this.colorPickerSelector.style.top=h-.5*this.colorPickerSelector.clientHeight+"px",this.colorPickerSelector.style.left=f-.5*this.colorPickerSelector.clientWidth+"px";let p=u/(2*Math.PI);p=p<0?p+1:p;const m=d/this.r,y=cc(this.color.r,this.color.g,this.color.b);y.h=p,y.s=m;const b=lf(y.h,y.s,y.v);b.a=this.color.a,this.color=b,this.initialColorDiv.style.backgroundColor="rgba("+this.initialColor.r+","+this.initialColor.g+","+this.initialColor.b+","+this.initialColor.a+")",this.newColorDiv.style.backgroundColor="rgba("+this.color.r+","+this.color.g+","+this.color.b+","+this.color.a+")"}};function nC(){for(var t=arguments.length,e=new Array(t),r=0;r<t;r++)e[r]=arguments[r];if(e.length<1)throw new TypeError("Invalid arguments.");if(e.length===1)return document.createTextNode(e[0]);{const n=document.createElement(e[0]);return n.appendChild(nC(...pi(e).call(e,1))),n}}let Ppe=class{constructor(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:1,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:()=>!1;this.parent=e,this.changedOptions=[],this.container=r,this.allowCreation=!1,this.hideOption=s,this.options={},this.initialized=!1,this.popupCounter=0,this.defaultOptions={enabled:!1,filter:!0,container:void 0,showButton:!0},kt(this.options,this.defaultOptions),this.configureOptions=n,this.moduleOptions={},this.domElements=[],this.popupDiv={},this.popupLimit=5,this.popupHistory={},this.colorPicker=new Ope(i),this.wrapper=void 0}setOptions(e){if(e!==void 0){this.popupHistory={},this._removePopup();let r=!0;if(typeof e=="string")this.options.filter=e;else if(Et(e))this.options.filter=e.join();else if(typeof e=="object"){if(e==null)throw new TypeError("options cannot be null");e.container!==void 0&&(this.options.container=e.container),Wr(e)!==void 0&&(this.options.filter=Wr(e)),e.showButton!==void 0&&(this.options.showButton=e.showButton),e.enabled!==void 0&&(r=e.enabled)}else typeof e=="boolean"?(this.options.filter=!0,r=e):typeof e=="function"&&(this.options.filter=e,r=!0);Wr(this.options)===!1&&(r=!1),this.options.enabled=r}this._clean()}setModuleOptions(e){this.moduleOptions=e,this.options.enabled===!0&&(this._clean(),this.options.container!==void 0&&(this.container=this.options.container),this._create())}_create(){this._clean(),this.changedOptions=[];const e=Wr(this.options);let r=0,n=!1;for(const i in this.configureOptions)Object.prototype.hasOwnProperty.call(this.configureOptions,i)&&(this.allowCreation=!1,n=!1,typeof e=="function"?(n=e(i,[]),n=n||this._handleObject(this.configureOptions[i],[i],!0)):(e===!0||Ue(e).call(e,i)!==-1)&&(n=!0),n!==!1&&(this.allowCreation=!0,r>0&&this._makeItem([]),this._makeHeader(i),this._handleObject(this.configureOptions[i],[i])),r++);this._makeButton(),this._push()}_push(){this.wrapper=document.createElement("div"),this.wrapper.className="vis-configuration-wrapper",this.container.appendChild(this.wrapper);for(let e=0;e<this.domElements.length;e++)this.wrapper.appendChild(this.domElements[e]);this._showPopupIfNeeded()}_clean(){for(let e=0;e<this.domElements.length;e++)this.wrapper.removeChild(this.domElements[e]);this.wrapper!==void 0&&(this.container.removeChild(this.wrapper),this.wrapper=void 0),this.domElements=[],this._removePopup()}_getValue(e){let r=this.moduleOptions;for(let n=0;n<e.length;n++)if(r[e[n]]!==void 0)r=r[e[n]];else{r=void 0;break}return r}_makeItem(e){if(this.allowCreation===!0){const s=document.createElement("div");s.className="vis-configuration vis-config-item vis-config-s"+e.length;for(var r=arguments.length,n=new Array(r>1?r-1:0),i=1;i<r;i++)n[i-1]=arguments[i];return Ye(n).call(n,a=>{s.appendChild(a)}),this.domElements.push(s),this.domElements.length}return 0}_makeHeader(e){const r=document.createElement("div");r.className="vis-configuration vis-config-header",r.innerText=e,this._makeItem([],r)}_makeLabel(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=document.createElement("div");if(i.className="vis-configuration vis-config-label vis-config-s"+r.length,n===!0){for(;i.firstChild;)i.removeChild(i.firstChild);i.appendChild(nC("i","b",e))}else i.innerText=e+":";return i}_makeDropdown(e,r,n){const i=document.createElement("select");i.className="vis-configuration vis-config-select";let s=0;r!==void 0&&Ue(e).call(e,r)!==-1&&(s=Ue(e).call(e,r));for(let l=0;l<e.length;l++){const u=document.createElement("option");u.value=e[l],l===s&&(u.selected="selected"),u.innerText=e[l],i.appendChild(u)}const a=this;i.onchange=function(){a._update(this.value,n)};const o=this._makeLabel(n[n.length-1],n);this._makeItem(n,o,i)}_makeRange(e,r,n){const i=e[0],s=e[1],a=e[2],o=e[3],l=document.createElement("input");l.className="vis-configuration vis-config-range";try{l.type="range",l.min=s,l.max=a}catch{}l.step=o;let u="",d=0;r!==void 0?(r<0&&r*1.2<s?(l.min=Math.ceil(r*1.2),d=l.min,u="range increased"):r/1.2<s&&(l.min=Math.ceil(r/1.2),d=l.min,u="range increased"),r*1.2>a&&a!==1&&(l.max=Math.ceil(r*1.2),d=l.max,u="range increased"),l.value=r):l.value=i;const h=document.createElement("input");h.className="vis-configuration vis-config-rangeinput",h.value=l.value;const f=this;l.onchange=function(){h.value=this.value,f._update(Number(this.value),n)},l.oninput=function(){h.value=this.value};const p=this._makeLabel(n[n.length-1],n),m=this._makeItem(n,p,l,h);u!==""&&this.popupHistory[m]!==d&&(this.popupHistory[m]=d,this._setupPopup(u,m))}_makeButton(){if(this.options.showButton===!0){const e=document.createElement("div");e.className="vis-configuration vis-config-button",e.innerText="generate options",e.onclick=()=>{this._printOptions()},e.onmouseover=()=>{e.className="vis-configuration vis-config-button hover"},e.onmouseout=()=>{e.className="vis-configuration vis-config-button"},this.optionsContainer=document.createElement("div"),this.optionsContainer.className="vis-configuration vis-config-option-container",this.domElements.push(this.optionsContainer),this.domElements.push(e)}}_setupPopup(e,r){if(this.initialized===!0&&this.allowCreation===!0&&this.popupCounter<this.popupLimit){const n=document.createElement("div");n.id="vis-configuration-popup",n.className="vis-configuration-popup",n.innerText=e,n.onclick=()=>{this._removePopup()},this.popupCounter+=1,this.popupDiv={html:n,index:r}}}_removePopup(){this.popupDiv.html!==void 0&&(this.popupDiv.html.parentNode.removeChild(this.popupDiv.html),clearTimeout(this.popupDiv.hideTimeout),clearTimeout(this.popupDiv.deleteTimeout),this.popupDiv={})}_showPopupIfNeeded(){if(this.popupDiv.html!==void 0){const r=this.domElements[this.popupDiv.index].getBoundingClientRect();this.popupDiv.html.style.left=r.left+"px",this.popupDiv.html.style.top=r.top-30+"px",document.body.appendChild(this.popupDiv.html),this.popupDiv.hideTimeout=Wi(()=>{this.popupDiv.html.style.opacity=0},1500),this.popupDiv.deleteTimeout=Wi(()=>{this._removePopup()},1800)}}_makeCheckbox(e,r,n){const i=document.createElement("input");i.type="checkbox",i.className="vis-configuration vis-config-checkbox",i.checked=e,r!==void 0&&(i.checked=r,r!==e&&(typeof e=="object"?r!==e.enabled&&this.changedOptions.push({path:n,value:r}):this.changedOptions.push({path:n,value:r})));const s=this;i.onchange=function(){s._update(this.checked,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeTextInput(e,r,n){const i=document.createElement("input");i.type="text",i.className="vis-configuration vis-config-text",i.value=r,r!==e&&this.changedOptions.push({path:n,value:r});const s=this;i.onchange=function(){s._update(this.value,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,i)}_makeColorField(e,r,n){const i=e[1],s=document.createElement("div");r=r===void 0?i:r,r!=="none"?(s.className="vis-configuration vis-config-colorBlock",s.style.backgroundColor=r):s.className="vis-configuration vis-config-colorBlock none",r=r===void 0?i:r,s.onclick=()=>{this._showColorPicker(r,s,n)};const a=this._makeLabel(n[n.length-1],n);this._makeItem(n,a,s)}_showColorPicker(e,r,n){r.onclick=function(){},this.colorPicker.insertTo(r),this.colorPicker.show(),this.colorPicker.setColor(e),this.colorPicker.setUpdateCallback(i=>{const s="rgba("+i.r+","+i.g+","+i.b+","+i.a+")";r.style.backgroundColor=s,this._update(s,n)}),this.colorPicker.setCloseCallback(()=>{r.onclick=()=>{this._showColorPicker(e,r,n)}})}_handleObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=!1;const s=Wr(this.options);let a=!1;for(const o in e)if(Object.prototype.hasOwnProperty.call(e,o)){i=!0;const l=e[o],u=tp(r,o);if(typeof s=="function"&&(i=s(o,r),i===!1&&!Et(l)&&typeof l!="string"&&typeof l!="boolean"&&l instanceof Object&&(this.allowCreation=!1,i=this._handleObject(l,u,!0),this.allowCreation=n===!1)),i!==!1){a=!0;const d=this._getValue(u);if(Et(l))this._handleArray(l,d,u);else if(typeof l=="string")this._makeTextInput(l,d,u);else if(typeof l=="boolean")this._makeCheckbox(l,d,u);else if(l instanceof Object){if(!this.hideOption(r,o,this.moduleOptions))if(l.enabled!==void 0){const h=tp(u,"enabled"),f=this._getValue(h);if(f===!0){const p=this._makeLabel(o,u,!0);this._makeItem(u,p),a=this._handleObject(l,u)||a}else this._makeCheckbox(l,f,u)}else{const h=this._makeLabel(o,u,!0);this._makeItem(u,h),a=this._handleObject(l,u)||a}}else console.error("dont know how to handle",l,o,u)}}return a}_handleArray(e,r,n){typeof e[0]=="string"&&e[0]==="color"?(this._makeColorField(e,r,n),e[1]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="string"?(this._makeDropdown(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:r})):typeof e[0]=="number"&&(this._makeRange(e,r,n),e[0]!==r&&this.changedOptions.push({path:n,value:Number(r)}))}_update(e,r){const n=this._constructOptions(e,r);this.parent.body&&this.parent.body.emitter&&this.parent.body.emitter.emit&&this.parent.body.emitter.emit("configChange",n),this.initialized=!0,this.parent.setOptions(n)}_constructOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{},i=n;e=e==="true"?!0:e,e=e==="false"?!1:e;for(let s=0;s<r.length;s++)r[s]!=="global"&&(i[r[s]]===void 0&&(i[r[s]]={}),s!==r.length-1?i=i[r[s]]:i[r[s]]=e);return n}_printOptions(){const e=this.getOptions();for(;this.optionsContainer.firstChild;)this.optionsContainer.removeChild(this.optionsContainer.firstChild);this.optionsContainer.appendChild(nC("pre","const options = "+rh(e,null,2)))}getOptions(){const e={};for(let r=0;r<this.changedOptions.length;r++)this._constructOptions(this.changedOptions[r].value,this.changedOptions[r].path,e);return e}},Cpe=class{constructor(e,r){this.container=e,this.overflowMethod=r||"cap",this.x=0,this.y=0,this.padding=5,this.hidden=!1,this.frame=document.createElement("div"),this.frame.className="vis-tooltip",this.container.appendChild(this.frame)}setPosition(e,r){this.x=Hn(e),this.y=Hn(r)}setText(e){if(e instanceof Element){for(;this.frame.firstChild;)this.frame.removeChild(this.frame.firstChild);this.frame.appendChild(e)}else this.frame.innerText=e}show(e){if(e===void 0&&(e=!0),e===!0){const r=this.frame.clientHeight,n=this.frame.clientWidth,i=this.frame.parentNode.clientHeight,s=this.frame.parentNode.clientWidth;let a=0,o=0;if(this.overflowMethod=="flip"){let l=!1,u=!0;this.y-r<this.padding&&(u=!1),this.x+n>s-this.padding&&(l=!0),l?a=this.x-n:a=this.x,u?o=this.y-r:o=this.y}else o=this.y-r,o+r+this.padding>i&&(o=i-r-this.padding),o<this.padding&&(o=this.padding),a=this.x,a+n+this.padding>s&&(a=s-n-this.padding),a<this.padding&&(a=this.padding);this.frame.style.left=a+"px",this.frame.style.top=o+"px",this.frame.style.visibility="visible",this.hidden=!1}else this.hide()}hide(){this.hidden=!0,this.frame.style.left="0",this.frame.style.top="0",this.frame.style.visibility="hidden"}destroy(){this.frame.parentNode.removeChild(this.frame)}},nc=!1,pz;const iC="background: #FFeeee; color: #dd0000";let Tpe=class yt{static validate(e,r,n){nc=!1,pz=r;let i=r;return n!==void 0&&(i=r[n]),yt.parse(e,i,[]),nc}static parse(e,r,n){for(const i in e)Object.prototype.hasOwnProperty.call(e,i)&&yt.check(i,e,r,n)}static check(e,r,n,i){if(n[e]===void 0&&n.__any__===void 0){yt.getSuggestion(e,n,i);return}let s=e,a=!0;n[e]===void 0&&n.__any__!==void 0&&(s="__any__",a=yt.getType(r[e])==="object");let o=n[s];a&&o.__type__!==void 0&&(o=o.__type__),yt.checkFields(e,r,n,s,o,i)}static checkFields(e,r,n,i,s,a){const o=function(d){console.error("%c"+d+yt.printLocation(a,e),iC)},l=yt.getType(r[e]),u=s[l];u!==void 0?yt.getType(u)==="array"&&Ue(u).call(u,r[e])===-1?(o('Invalid option detected in "'+e+'". Allowed values are:'+yt.print(u)+' not "'+r[e]+'". '),nc=!0):l==="object"&&i!=="__any__"&&(a=tp(a,e),yt.parse(r[e],n[i],a)):s.any===void 0&&(o('Invalid type received for "'+e+'". Expected: '+yt.print(xt(s))+". Received ["+l+'] "'+r[e]+'"'),nc=!0)}static getType(e){const r=typeof e;return r==="object"?e===null?"null":e instanceof Boolean?"boolean":e instanceof Number?"number":e instanceof String?"string":Et(e)?"array":e instanceof Date?"date":e.nodeType!==void 0?"dom":e._isAMomentObject===!0?"moment":"object":r==="number"?"number":r==="boolean"?"boolean":r==="string"?"string":r===void 0?"undefined":r}static getSuggestion(e,r,n){const i=yt.findInOptions(e,r,n,!1),s=yt.findInOptions(e,pz,[],!0),a=8,o=4;let l;i.indexMatch!==void 0?l=" in "+yt.printLocation(i.path,e,"")+'Perhaps it was incomplete? Did you mean: "'+i.indexMatch+`"?

`:s.distance<=o&&i.distance>s.distance?l=" in "+yt.printLocation(i.path,e,"")+"Perhaps it was misplaced? Matching option found at: "+yt.printLocation(s.path,s.closestMatch,""):i.distance<=a?l='. Did you mean "'+i.closestMatch+'"?'+yt.printLocation(i.path,e):l=". Did you mean one of these: "+yt.print(xt(r))+yt.printLocation(n,e),console.error('%cUnknown option detected: "'+e+'"'+l,iC),nc=!0}static findInOptions(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!1,s=1e9,a="",o=[];const l=e.toLowerCase();let u;for(const h in r){let f;if(r[h].__type__!==void 0&&i===!0){const p=yt.findInOptions(e,r[h],tp(n,h));s>p.distance&&(a=p.closestMatch,o=p.path,s=p.distance,u=p.indexMatch)}else{var d;Ue(d=h.toLowerCase()).call(d,l)!==-1&&(u=h),f=yt.levenshteinDistance(e,h),s>f&&(a=h,o=ype(n),s=f)}}return{closestMatch:a,path:o,distance:s,indexMatch:u}}static printLocation(e,r){let i=`

`+(arguments.length>2&&arguments[2]!==void 0?arguments[2]:`Problem value found at: 
`)+`options = {
`;for(let s=0;s<e.length;s++){for(let a=0;a<s+1;a++)i+="  ";i+=e[s]+`: {
`}for(let s=0;s<e.length+1;s++)i+="  ";i+=r+`
`;for(let s=0;s<e.length+1;s++){for(let a=0;a<e.length-s;a++)i+="  ";i+=`}
`}return i+`

`}static print(e){return rh(e).replace(/(")|(\[)|(\])|(,"__type__")/g,"").replace(/(,)/g,", ")}static levenshteinDistance(e,r){if(e.length===0)return r.length;if(r.length===0)return e.length;const n=[];let i;for(i=0;i<=r.length;i++)n[i]=[i];let s;for(s=0;s<=e.length;s++)n[0][s]=s;for(i=1;i<=r.length;i++)for(s=1;s<=e.length;s++)r.charAt(i-1)==e.charAt(s-1)?n[i][s]=n[i-1][s-1]:n[i][s]=Math.min(n[i-1][s-1]+1,Math.min(n[i][s-1]+1,n[i-1][s]+1));return n[r.length][e.length]}};const Npe=gi,Ipe=Ppe,wl=bN,Rpe=Cpe,zG=iC,jpe=Tpe;function $pe(t){return qs=t,Mpe()}var UG={fontsize:"font.size",fontcolor:"font.color",labelfontcolor:"font.color",fontname:"font.face",color:["color.border","color.background"],fillcolor:"color.background",tooltip:"title",labeltooltip:"title"},xN=Ya(UG);xN.color="color.color";xN.style="dashes";var Cr={NULL:0,DELIMITER:1,IDENTIFIER:2,UNKNOWN:3},mz={"{":!0,"}":!0,"[":!0,"]":!0,";":!0,"=":!0,",":!0,"->":!0,"--":!0},qs="",au=0,Ne="",xe="",zr=Cr.NULL;function kpe(){au=0,Ne=qs.charAt(0)}function Kt(){au++,Ne=qs.charAt(au)}function Ho(){return qs.charAt(au+1)}function vz(t){var e=t.charCodeAt(0);return e<47?e===35||e===46:e<59?e>47:e<91?e>64:e<96?e===95:e<123?e>96:!1}function na(t,e){if(t||(t={}),e)for(var r in e)e.hasOwnProperty(r)&&(t[r]=e[r]);return t}function Dpe(t,e,r){for(var n=e.split("."),i=t;n.length;){var s=n.shift();n.length?(i[s]||(i[s]={}),i=i[s]):i[s]=r}}function WG(t,e){for(var r,n,i=null,s=[t],a=t;a.parent;)s.push(a.parent),a=a.parent;if(a.nodes){for(r=0,n=a.nodes.length;r<n;r++)if(e.id===a.nodes[r].id){i=a.nodes[r];break}}for(i||(i={id:e.id},t.node&&(i.attr=na(i.attr,t.node))),r=s.length-1;r>=0;r--){var o,l=s[r];l.nodes||(l.nodes=[]),Ue(o=l.nodes).call(o,i)===-1&&l.nodes.push(i)}e.attr&&(i.attr=na(i.attr,e.attr))}function qpe(t,e){if(t.edges||(t.edges=[]),t.edges.push(e),t.edge){var r=na({},t.edge);e.attr=na(r,e.attr)}}function HG(t,e,r,n,i){var s={from:e,to:r,type:n};return t.edge&&(s.attr=na({},t.edge)),s.attr=na(s.attr||{},i),i!=null&&i.hasOwnProperty("arrows")&&i.arrows!=null&&(s.arrows={to:{enabled:!0,type:i.arrows.type}},i.arrows=null),s}function tt(){for(zr=Cr.NULL,xe="";Ne===" "||Ne==="	"||Ne===`
`||Ne==="\r";)Kt();do{var t=!1;if(Ne==="#"){for(var e=au-1;qs.charAt(e)===" "||qs.charAt(e)==="	";)e--;if(qs.charAt(e)===`
`||qs.charAt(e)===""){for(;Ne!=""&&Ne!=`
`;)Kt();t=!0}}if(Ne==="/"&&Ho()==="/"){for(;Ne!=""&&Ne!=`
`;)Kt();t=!0}if(Ne==="/"&&Ho()==="*"){for(;Ne!="";)if(Ne==="*"&&Ho()==="/"){Kt(),Kt();break}else Kt();t=!0}for(;Ne===" "||Ne==="	"||Ne===`
`||Ne==="\r";)Kt()}while(t);if(Ne===""){zr=Cr.DELIMITER;return}var r=Ne+Ho();if(mz[r]){zr=Cr.DELIMITER,xe=r,Kt(),Kt();return}if(mz[Ne]){zr=Cr.DELIMITER,xe=Ne,Kt();return}if(vz(Ne)||Ne==="-"){for(xe+=Ne,Kt();vz(Ne);)xe+=Ne,Kt();xe==="false"?xe=!1:xe==="true"?xe=!0:isNaN(Number(xe))||(xe=Number(xe)),zr=Cr.IDENTIFIER;return}if(Ne==='"'){for(Kt();Ne!=""&&(Ne!='"'||Ne==='"'&&Ho()==='"');)Ne==='"'?(xe+=Ne,Kt()):Ne==="\\"&&Ho()==="n"?(xe+=`
`,Kt()):xe+=Ne,Kt();if(Ne!='"')throw Tr('End of string " expected');Kt(),zr=Cr.IDENTIFIER;return}for(zr=Cr.UNKNOWN;Ne!="";)xe+=Ne,Kt();throw new SyntaxError('Syntax error in part "'+YG(xe,30)+'"')}function Mpe(){var t={};if(kpe(),tt(),xe==="strict"&&(t.strict=!0,tt()),(xe==="graph"||xe==="digraph")&&(t.type=xe,tt()),zr===Cr.IDENTIFIER&&(t.id=xe,tt()),xe!="{")throw Tr("Angle bracket { expected");if(tt(),VG(t),xe!="}")throw Tr("Angle bracket } expected");if(tt(),xe!=="")throw Tr("End of file expected");return tt(),delete t.node,delete t.edge,delete t.graph,t}function VG(t){for(;xe!==""&&xe!="}";)Ape(t),xe===";"&&tt()}function Ape(t){var e=KG(t);if(e){GG(t,e);return}var r=Fpe(t);if(!r){if(zr!=Cr.IDENTIFIER)throw Tr("Identifier expected");var n=xe;if(tt(),xe==="="){if(tt(),zr!=Cr.IDENTIFIER)throw Tr("Identifier expected");t[n]=xe,tt()}else Lpe(t,n)}}function KG(t){var e=null;if(xe==="subgraph"&&(e={},e.type="subgraph",tt(),zr===Cr.IDENTIFIER&&(e.id=xe,tt())),xe==="{"){if(tt(),e||(e={}),e.parent=t,e.node=t.node,e.edge=t.edge,e.graph=t.graph,VG(e),xe!="}")throw Tr("Angle bracket } expected");tt(),delete e.node,delete e.edge,delete e.graph,delete e.parent,t.subgraphs||(t.subgraphs=[]),t.subgraphs.push(e)}return e}function Fpe(t){return xe==="node"?(tt(),t.node=Cc(),"node"):xe==="edge"?(tt(),t.edge=Cc(),"edge"):xe==="graph"?(tt(),t.graph=Cc(),"graph"):null}function Lpe(t,e){var r={id:e},n=Cc();n&&(r.attr=n),WG(t,r),GG(t,e)}function GG(t,e){for(;xe==="->"||xe==="--";){var r,n=xe;tt();var i=KG(t);if(i)r=i;else{if(zr!=Cr.IDENTIFIER)throw Tr("Identifier or subgraph expected");r=xe,WG(t,{id:r}),tt()}var s=Cc(),a=HG(t,e,r,n,s);qpe(t,a),e=r}}function Cc(){for(var t,e=null,r={dashed:!0,solid:!1,dotted:[1,5]},n={dot:"circle",box:"box",crow:"crow",curve:"curve",icurve:"inv_curve",normal:"triangle",inv:"inv_triangle",diamond:"diamond",tee:"bar",vee:"vee"},i=new Array,s=new Array;xe==="[";){for(tt(),e={};xe!==""&&xe!="]";){if(zr!=Cr.IDENTIFIER)throw Tr("Attribute name expected");var a=xe;if(tt(),xe!="=")throw Tr("Equal sign = expected");if(tt(),zr!=Cr.IDENTIFIER)throw Tr("Attribute value expected");var o=xe;a==="style"&&(o=r[o]);var l;a==="arrowhead"&&(l=n[o],a="arrows",o={to:{enabled:!0,type:l}}),a==="arrowtail"&&(l=n[o],a="arrows",o={from:{enabled:!0,type:l}}),i.push({attr:e,name:a,value:o}),s.push(a),tt(),xe==","&&tt()}if(xe!="]")throw Tr("Bracket ] expected");tt()}if(Ys(s).call(s,"dir")){var u={};for(u.arrows={},t=0;t<i.length;t++)if(i[t].name==="arrows")if(i[t].value.to!=null)u.arrows.to=t;else if(i[t].value.from!=null)u.arrows.from=t;else throw Tr("Invalid value of arrows");else i[t].name==="dir"&&(u.dir=t);var d=i[u.dir].value;if(!Ys(s).call(s,"arrows"))if(d==="both")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1,i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="forward")i.push({attr:i[u.dir].attr,name:"arrows",value:{to:{enabled:!0}}}),u.arrows.to=i.length-1;else if(d==="back")i.push({attr:i[u.dir].attr,name:"arrows",value:{from:{enabled:!0}}}),u.arrows.from=i.length-1;else if(d==="none")i.push({attr:i[u.dir].attr,name:"arrows",value:""}),u.arrows.to=i.length-1;else throw Tr('Invalid dir type "'+d+'"');var h,f;if(d==="both")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}},Ui(i).call(i,u.arrows.from,1)):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="arrow",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}});else if(d==="back")u.arrows.to&&u.arrows.from?(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f="",h="arrow",u.arrows.from=u.arrows.to,i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="",h=i[u.arrows.from].value.from.type,i[u.arrows.to]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.from]={attr:i[u.arrows.from].attr,name:i[u.arrows.from].name,value:{from:{enabled:!0,type:i[u.arrows.from].value.from.type}}};else if(d==="none"){var p;u.arrows.to?p=u.arrows.to:p=u.arrows.from,i[p]={attr:i[p].attr,name:i[p].name,value:""}}else if(d==="forward")u.arrows.to&&u.arrows.from?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.to?(f=i[u.arrows.to].value.to.type,h="",i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}):u.arrows.from&&(f="arrow",h="",u.arrows.to=u.arrows.from,i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:f},from:{enabled:!0,type:h}}}),i[u.arrows.to]={attr:i[u.arrows.to].attr,name:i[u.arrows.to].name,value:{to:{enabled:!0,type:i[u.arrows.to].value.to.type}}};else throw Tr('Invalid dir type "'+d+'"');Ui(i).call(i,u.dir,1)}var m;if(Ys(s).call(s,"penwidth")){var y=[];for(m=i.length,t=0;t<m;t++)i[t].name!=="width"&&(i[t].name==="penwidth"&&(i[t].name="width"),y.push(i[t]));i=y}for(m=i.length,t=0;t<m;t++)Dpe(i[t].attr,i[t].name,i[t].value);return e}function Tr(t){return new SyntaxError(t+', got "'+YG(xe,30)+'" (char '+au+")")}function YG(t,e){return t.length<=e?t:t.substr(0,27)+"..."}function Bpe(t,e,r){Et(t)?Ye(t).call(t,function(n){Et(e)?Ye(e).call(e,function(i){r(n,i)}):r(n,e)}):Et(e)?Ye(e).call(e,function(n){r(t,n)}):r(t,e)}function X_(t,e,r){for(var n=e.split("."),i=n.pop(),s=t,a=0;a<n.length;a++){var o=n[a];o in s||(s[o]={}),s=s[o]}return s[i]=r,t}function gz(t,e){var r={};for(var n in t)if(t.hasOwnProperty(n)){var i=e[n];Et(i)?Ye(i).call(i,function(s){X_(r,s,t[n])}):typeof i=="string"?X_(r,i,t[n]):X_(r,n,t[n])}return r}function zpe(t){var e=$pe(t),r={nodes:[],edges:[],options:{}};if(e.nodes){var n;Ye(n=e.nodes).call(n,function(a){var o={id:a.id,label:String(a.label||a.id)};na(o,gz(a.attr,UG)),o.image&&(o.shape="image"),r.nodes.push(o)})}if(e.edges){var i,s=function(a){var o={from:a.from,to:a.to};return na(o,gz(a.attr,xN)),o.arrows==null&&a.type==="->"&&(o.arrows="to"),o};Ye(i=e.edges).call(i,function(a){var o,l;if(a.from instanceof Object?o=a.from.nodes:o={id:a.from},a.to instanceof Object?l=a.to.nodes:l={id:a.to},a.from instanceof Object&&a.from.edges){var u;Ye(u=a.from.edges).call(u,function(h){var f=s(h);r.edges.push(f)})}if(Bpe(o,l,function(h,f){var p=HG(r,h.id,f.id,a.type,a.attr),m=s(p);r.edges.push(m)}),a.to instanceof Object&&a.to.edges){var d;Ye(d=a.to.edges).call(d,function(h){var f=s(h);r.edges.push(f)})}})}return e.attr&&(r.options=e.attr),r}function Upe(t,e){var r;const n={edges:{inheritColor:!1},nodes:{fixed:!1,parseColor:!1}};e!=null&&(e.fixed!=null&&(n.nodes.fixed=e.fixed),e.parseColor!=null&&(n.nodes.parseColor=e.parseColor),e.inheritColor!=null&&(n.edges.inheritColor=e.inheritColor));const i=t.edges,s=ru(i).call(i,o=>{const l={from:o.source,id:o.id,to:o.target};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.type==="Directed"&&(l.arrows="to"),o.color&&n.edges.inheritColor===!1&&(l.color=o.color),l});return{nodes:ru(r=t.nodes).call(r,o=>{const l={id:o.id,fixed:n.nodes.fixed&&o.x!=null&&o.y!=null};return o.attributes!=null&&(l.attributes=o.attributes),o.label!=null&&(l.label=o.label),o.size!=null&&(l.size=o.size),o.attributes!=null&&o.attributes.title!=null&&(l.title=o.attributes.title),o.title!=null&&(l.title=o.title),o.x!=null&&(l.x=o.x),o.y!=null&&(l.y=o.y),o.color!=null&&(n.nodes.parseColor===!0?l.color=o.color:l.color={background:o.color,border:o.color,highlight:{background:o.color,border:o.color},hover:{background:o.color,border:o.color}}),l}),edges:s}}const Wpe={addDescription:"Click in an empty space to place a new node.",addEdge:"Add Edge",addNode:"Add Node",back:"Back",close:"Close",createEdgeError:"Cannot link edges to a cluster.",del:"Delete selected",deleteClusterError:"Clusters cannot be deleted.",edgeDescription:"Click on a node and drag the edge to another node to connect them.",edit:"Edit",editClusterError:"Clusters cannot be edited.",editEdge:"Edit Edge",editEdgeDescription:"Click on the control points and drag them to a node to connect to it.",editNode:"Edit Node"},Hpe={addDescription:"Klicke auf eine freie Stelle, um einen neuen Knoten zu plazieren.",addEdge:"Kante hinzufgen",addNode:"Knoten hinzufgen",back:"Zurck",close:"Schlieen",createEdgeError:"Es ist nicht mglich, Kanten mit Clustern zu verbinden.",del:"Lsche Auswahl",deleteClusterError:"Cluster knnen nicht gelscht werden.",edgeDescription:"Klicke auf einen Knoten und ziehe die Kante zu einem anderen Knoten, um diese zu verbinden.",edit:"Editieren",editClusterError:"Cluster knnen nicht editiert werden.",editEdge:"Kante editieren",editEdgeDescription:"Klicke auf die Verbindungspunkte und ziehe diese auf einen Knoten, um sie zu verbinden.",editNode:"Knoten editieren"},Vpe={addDescription:"Haga clic en un lugar vaco para colocar un nuevo nodo.",addEdge:"Aadir arista",addNode:"Aadir nodo",back:"Atrs",close:"Cerrar",createEdgeError:"No se puede conectar una arista a un grupo.",del:"Eliminar seleccin",deleteClusterError:"No es posible eliminar grupos.",edgeDescription:"Haga clic en un nodo y arrastre la arista hacia otro nodo para conectarlos.",edit:"Editar",editClusterError:"No es posible editar grupos.",editEdge:"Editar arista",editEdgeDescription:"Haga clic en un punto de control y arrastrelo a un nodo para conectarlo.",editNode:"Editar nodo"},Kpe={addDescription:"Clicca per aggiungere un nuovo nodo",addEdge:"Aggiungi un vertice",addNode:"Aggiungi un nodo",back:"Indietro",close:"Chiudere",createEdgeError:"Non si possono collegare vertici ad un cluster",del:"Cancella la selezione",deleteClusterError:"I cluster non possono essere cancellati",edgeDescription:"Clicca su un nodo e trascinalo ad un altro nodo per connetterli.",edit:"Modifica",editClusterError:"I clusters non possono essere modificati.",editEdge:"Modifica il vertice",editEdgeDescription:"Clicca sui Punti di controllo e trascinali ad un nodo per connetterli.",editNode:"Modifica il nodo"},Gpe={addDescription:"Klik op een leeg gebied om een nieuwe node te maken.",addEdge:"Link toevoegen",addNode:"Node toevoegen",back:"Terug",close:"Sluiten",createEdgeError:"Kan geen link maken naar een cluster.",del:"Selectie verwijderen",deleteClusterError:"Clusters kunnen niet worden verwijderd.",edgeDescription:"Klik op een node en sleep de link naar een andere node om ze te verbinden.",edit:"Wijzigen",editClusterError:"Clusters kunnen niet worden aangepast.",editEdge:"Link wijzigen",editEdgeDescription:"Klik op de verbindingspunten en sleep ze naar een node om daarmee te verbinden.",editNode:"Node wijzigen"},Ype={addDescription:"Clique em um espao em branco para adicionar um novo n",addEdge:"Adicionar aresta",addNode:"Adicionar n",back:"Voltar",close:"Fechar",createEdgeError:"No foi possvel linkar arestas a um cluster.",del:"Remover selecionado",deleteClusterError:"Clusters no puderam ser removidos.",edgeDescription:"Clique em um n e arraste a aresta at outro n para conect-los",edit:"Editar",editClusterError:"Clusters no puderam ser editados.",editEdge:"Editar aresta",editEdgeDescription:"Clique nos pontos de controle e os arraste para um n para conect-los",editNode:"Editar n"},Qpe={addDescription:"   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"    .",del:" ",deleteClusterError:"    ",edgeDescription:"        ,   .",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Xpe={addDescription:"",addEdge:"",addNode:"",back:"",close:"",createEdgeError:"",del:"",deleteClusterError:"",edgeDescription:"",edit:"",editClusterError:"",editEdge:"",editEdgeDescription:"",editNode:""},Jpe={addDescription:"K   ,    .",addEdge:" ",addNode:" ",back:"",close:"",createEdgeError:"  '   .",del:" ",deleteClusterError:"    .",edgeDescription:"        ,   '.",edit:"",editClusterError:"   .",editEdge:" ",editEdgeDescription:"        ,    .",editNode:" "},Zpe={addDescription:"Cliquez dans un endroit vide pour placer un nud.",addEdge:"Ajouter un lien",addNode:"Ajouter un nud",back:"Retour",close:"Fermer",createEdgeError:"Impossible de crer un lien vers un cluster.",del:"Effacer la slection",deleteClusterError:"Les clusters ne peuvent pas tre effacs.",edgeDescription:"Cliquez sur un nud et glissez le lien vers un autre nud pour les connecter.",edit:"diter",editClusterError:"Les clusters ne peuvent pas tre dits.",editEdge:"diter le lien",editEdgeDescription:"Cliquez sur les points de contrle et glissez-les pour connecter un nud.",editNode:"diter le nud"},eme={addDescription:"Kluknutm do przdnho prostoru mete pidat nov vrchol.",addEdge:"Pidat hranu",addNode:"Pidat vrchol",back:"Zpt",close:"Zavt",createEdgeError:"Nelze pipojit hranu ke shluku.",del:"Smazat vbr",deleteClusterError:"Nelze mazat shluky.",edgeDescription:"Petaenm z jednoho vrcholu do druhho mete spojit tyto vrcholy novou hranou.",edit:"Upravit",editClusterError:"Nelze upravovat shluky.",editEdge:"Upravit hranu",editEdgeDescription:"Petaenm kontrolnho vrcholu hrany ji mete pipojit k jinmu vrcholu.",editNode:"Upravit vrchol"};var tme=Object.freeze({__proto__:null,cn:Xpe,cs:eme,de:Hpe,en:Wpe,es:Vpe,fr:Zpe,it:Kpe,nl:Gpe,pt:Ype,ru:Qpe,uk:Jpe});function rme(t,e){try{const[n,i]=e.split(/[-_ /]/,2),s=n!=null?n.toLowerCase():null,a=i!=null?i.toUpperCase():null;if(s&&a){const o=s+"-"+a;if(Object.prototype.hasOwnProperty.call(t,o))return o;var r;console.warn(Phe(r="Unknown variant ".concat(a," of language ")).call(r,s,"."))}if(s){const o=s;if(Object.prototype.hasOwnProperty.call(t,o))return o;console.warn("Unknown language ".concat(s))}return console.warn("Unknown locale ".concat(e,", falling back to English.")),"en"}catch(n){return console.error(n),console.warn("Unexpected error while normalizing locale ".concat(e,", falling back to English.")),"en"}}class nme{constructor(){this.NUM_ITERATIONS=4,this.image=new Image,this.canvas=document.createElement("canvas")}init(){if(this.initialized())return;this.src=this.image.src;const e=this.image.width,r=this.image.height;this.width=e,this.height=r;const n=Math.floor(r/2),i=Math.floor(r/4),s=Math.floor(r/8),a=Math.floor(r/16),o=Math.floor(e/2),l=Math.floor(e/4),u=Math.floor(e/8),d=Math.floor(e/16);this.canvas.width=3*l,this.canvas.height=n,this.coordinates=[[0,0,o,n],[o,0,l,i],[o,i,u,s],[5*u,i,d,a]],this._fillMipMap()}initialized(){return this.coordinates!==void 0}_fillMipMap(){const e=this.canvas.getContext("2d"),r=this.coordinates[0];e.drawImage(this.image,r[0],r[1],r[2],r[3]);for(let n=1;n<this.NUM_ITERATIONS;n++){const i=this.coordinates[n-1],s=this.coordinates[n];e.drawImage(this.canvas,i[0],i[1],i[2],i[3],s[0],s[1],s[2],s[3])}}drawImageAtPosition(e,r,n,i,s,a){if(this.initialized())if(r>2){r*=.5;let o=0;for(;r>2&&o<this.NUM_ITERATIONS;)r*=.5,o+=1;o>=this.NUM_ITERATIONS&&(o=this.NUM_ITERATIONS-1);const l=this.coordinates[o];e.drawImage(this.canvas,l[0],l[1],l[2],l[3],n,i,s,a)}else e.drawImage(this.image,n,i,s,a)}}class ime{constructor(e){this.images={},this.imageBroken={},this.callback=e}_tryloadBrokenUrl(e,r,n){if(!(e===void 0||n===void 0)){if(r===void 0){console.warn("No broken url image defined");return}n.image.onerror=()=>{console.error("Could not load brokenImage:",r)},n.image.src=r}}_redrawWithImage(e){this.callback&&this.callback(e)}load(e,r){const n=this.images[e];if(n)return n;const i=new nme;return this.images[e]=i,i.image.onload=()=>{this._fixImageCoordinates(i.image),i.init(),this._redrawWithImage(i)},i.image.onerror=()=>{console.error("Could not load image:",e),this._tryloadBrokenUrl(e,r,i)},i.image.src=e,i}_fixImageCoordinates(e){e.width===0&&(document.body.appendChild(e),e.width=e.offsetWidth,e.height=e.offsetHeight,document.body.removeChild(e))}}var yz={},bz={},J_={exports:{}},Z_,wz;function sme(){if(wz)return Z_;wz=1;var t=De();return Z_=t(function(){if(typeof ArrayBuffer=="function"){var e=new ArrayBuffer(8);Object.isExtensible(e)&&Object.defineProperty(e,"a",{value:8})}}),Z_}var eS,xz;function ame(){if(xz)return eS;xz=1;var t=De(),e=rr(),r=Si(),n=sme(),i=Object.isExtensible,s=t(function(){});return eS=s||n?function(o){return!e(o)||n&&r(o)==="ArrayBuffer"?!1:i?i(o):!0}:i,eS}var tS,_z;function QG(){if(_z)return tS;_z=1;var t=De();return tS=!t(function(){return Object.isExtensible(Object.preventExtensions({}))}),tS}var Sz;function lm(){if(Sz)return J_.exports;Sz=1;var t=ge(),e=Ae(),r=Xd(),n=rr(),i=fr(),s=kn().f,a=rm(),o=aN(),l=ame(),u=Yp(),d=QG(),h=!1,f=u("meta"),p=0,m=function(w){s(w,f,{value:{objectID:"O"+p++,weakData:{}}})},y=function(w,_){if(!n(w))return typeof w=="symbol"?w:(typeof w=="string"?"S":"P")+w;if(!i(w,f)){if(!l(w))return"F";if(!_)return"E";m(w)}return w[f].objectID},b=function(w,_){if(!i(w,f)){if(!l(w))return!0;if(!_)return!1;m(w)}return w[f].weakData},g=function(w){return d&&h&&l(w)&&!i(w,f)&&m(w),w},v=function(){x.enable=function(){},h=!0;var w=a.f,_=e([].splice),E={};E[f]=1,w(E).length&&(a.f=function(O){for(var S=w(O),P=0,C=S.length;P<C;P++)if(S[P]===f){_(S,P,1);break}return S},t({target:"Object",stat:!0,forced:!0},{getOwnPropertyNames:o.f}))},x=J_.exports={enable:v,fastKey:y,getWeakData:b,onFreeze:g};return r[f]=!0,J_.exports}var rS,Ez;function ome(){if(Ez)return rS;Ez=1;var t=Ft(),e=Mu(),r=t("iterator"),n=Array.prototype;return rS=function(i){return i!==void 0&&(e.Array===i||n[r]===i)},rS}var nS,Oz;function XG(){if(Oz)return nS;Oz=1;var t=qu(),e=XT(),r=Cu(),n=Mu(),i=Ft(),s=i("iterator");return nS=function(a){if(!r(a))return e(a,s)||e(a,"@@iterator")||n[t(a)]},nS}var iS,Pz;function lme(){if(Pz)return iS;Pz=1;var t=nn(),e=cs(),r=Ei(),n=Iu(),i=XG(),s=TypeError;return iS=function(a,o){var l=arguments.length<2?i(a):o;if(e(l))return r(t(l,a));throw new s(n(a)+" is not iterable")},iS}var sS,Cz;function _N(){if(Cz)return sS;Cz=1;var t=nn(),e=Ei(),r=XT();return sS=function(n,i,s){var a,o;e(n);try{if(a=r(n,"return"),!a){if(i==="throw")throw s;return s}a=t(a,n)}catch(l){o=!0,a=l}if(i==="throw")throw s;if(o)throw a;return e(a),s},sS}var aS,Tz;function um(){if(Tz)return aS;Tz=1;var t=Xp(),e=nn(),r=Ei(),n=Iu(),i=ome(),s=ds(),a=At(),o=lme(),l=XG(),u=_N(),d=TypeError,h=function(p,m){this.stopped=p,this.result=m},f=h.prototype;return aS=function(p,m,y){var b=y&&y.that,g=!!(y&&y.AS_ENTRIES),v=!!(y&&y.IS_RECORD),x=!!(y&&y.IS_ITERATOR),w=!!(y&&y.INTERRUPTED),_=t(m,b),E,O,S,P,C,I,T,N=function(z){return E&&u(E,"normal"),new h(!0,z)},q=function(z){return g?(r(z),w?_(z[0],z[1],N):_(z[0],z[1])):w?_(z,N):_(z)};if(v)E=p.iterator;else if(x)E=p;else{if(O=l(p),!O)throw new d(n(p)+" is not iterable");if(i(O)){for(S=0,P=s(p);P>S;S++)if(C=q(p[S]),C&&a(f,C))return C;return new h(!1)}E=o(p,O)}for(I=v?p.next:E.next;!(T=e(I,E)).done;){try{C=q(T.value)}catch(z){u(E,"throw",z)}if(typeof C=="object"&&C&&a(f,C))return C}return new h(!1)},aS}var oS,Nz;function SN(){if(Nz)return oS;Nz=1;var t=At(),e=TypeError;return oS=function(r,n){if(t(n,r))return r;throw new e("Incorrect invocation")},oS}var lS,Iz;function EN(){if(Iz)return lS;Iz=1;var t=ge(),e=ut(),r=lm(),n=De(),i=$u(),s=um(),a=SN(),o=tr(),l=rr(),u=Cu(),d=Ro(),h=kn().f,f=pa().forEach,p=Tt(),m=jo(),y=m.set,b=m.getterFor;return lS=function(g,v,x){var w=g.indexOf("Map")!==-1,_=g.indexOf("Weak")!==-1,E=w?"set":"add",O=e[g],S=O&&O.prototype,P={},C;if(!p||!o(O)||!(_||S.forEach&&!n(function(){new O().entries().next()})))C=x.getConstructor(v,g,w,E),r.enable();else{C=v(function(N,q){y(a(N,I),{type:g,collection:new O}),u(q)||s(q,N[E],{that:N,AS_ENTRIES:w})});var I=C.prototype,T=b(g);f(["add","clear","delete","forEach","get","has","set","keys","values","entries"],function(N){var q=N==="add"||N==="set";N in S&&!(_&&N==="clear")&&i(I,N,function(z,te){var K=T(this).collection;if(!q&&_&&!l(z))return N==="get"?void 0:!1;var L=K[N](z===0?0:z,te);return q?this:L})}),_||h(I,"size",{configurable:!0,get:function(){return T(this).collection.size}})}return d(C,g,!1,!0),P[g]=C,t({global:!0,forced:!0},P),_||x.setStrong(C,g,w),C},lS}var uS,Rz;function ON(){if(Rz)return uS;Rz=1;var t=th();return uS=function(e,r,n){for(var i in r)n&&n.unsafe&&e[i]?e[i]=r[i]:t(e,i,r[i],n);return e},uS}var cS,jz;function ume(){if(jz)return cS;jz=1;var t=gn(),e=oN(),r=Ft(),n=Tt(),i=r("species");return cS=function(s){var a=t(s);n&&a&&!a[i]&&e(a,i,{configurable:!0,get:function(){return this}})},cS}var dS,$z;function JG(){if($z)return dS;$z=1;var t=eh(),e=oN(),r=ON(),n=Xp(),i=SN(),s=Cu(),a=um(),o=uN(),l=cN(),u=ume(),d=Tt(),h=lm().fastKey,f=jo(),p=f.set,m=f.getterFor;return dS={getConstructor:function(y,b,g,v){var x=y(function(S,P){i(S,w),p(S,{type:b,index:t(null),first:null,last:null,size:0}),d||(S.size=0),s(P)||a(P,S[v],{that:S,AS_ENTRIES:g})}),w=x.prototype,_=m(b),E=function(S,P,C){var I=_(S),T=O(S,P),N,q;return T?T.value=C:(I.last=T={index:q=h(P,!0),key:P,value:C,previous:N=I.last,next:null,removed:!1},I.first||(I.first=T),N&&(N.next=T),d?I.size++:S.size++,q!=="F"&&(I.index[q]=T)),S},O=function(S,P){var C=_(S),I=h(P),T;if(I!=="F")return C.index[I];for(T=C.first;T;T=T.next)if(T.key===P)return T};return r(w,{clear:function(){for(var P=this,C=_(P),I=C.first;I;)I.removed=!0,I.previous&&(I.previous=I.previous.next=null),I=I.next;C.first=C.last=null,C.index=t(null),d?C.size=0:P.size=0},delete:function(S){var P=this,C=_(P),I=O(P,S);if(I){var T=I.next,N=I.previous;delete C.index[I.index],I.removed=!0,N&&(N.next=T),T&&(T.previous=N),C.first===I&&(C.first=T),C.last===I&&(C.last=N),d?C.size--:P.size--}return!!I},forEach:function(P){for(var C=_(this),I=n(P,arguments.length>1?arguments[1]:void 0),T;T=T?T.next:C.first;)for(I(T.value,T.key,this);T&&T.removed;)T=T.previous},has:function(P){return!!O(this,P)}}),r(w,g?{get:function(P){var C=O(this,P);return C&&C.value},set:function(P,C){return E(this,P===0?0:P,C)}}:{add:function(P){return E(this,P=P===0?0:P,P)}}),d&&e(w,"size",{configurable:!0,get:function(){return _(this).size}}),x},setStrong:function(y,b,g){var v=b+" Iterator",x=m(b),w=m(v);o(y,b,function(_,E){p(this,{type:v,target:_,state:x(_),kind:E,last:null})},function(){for(var _=w(this),E=_.kind,O=_.last;O&&O.removed;)O=O.previous;return!_.target||!(_.last=O=O?O.next:_.state.first)?(_.target=null,l(void 0,!0)):l(E==="keys"?O.key:E==="values"?O.value:[O.key,O.value],!1)},g?"entries":"values",!g,!0),u(b)}},dS}var kz;function cme(){if(kz)return bz;kz=1;var t=EN(),e=JG();return t("Map",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),bz}var Dz;function dme(){return Dz||(Dz=1,cme()),yz}var qz={},hS,Mz;function ZG(){return Mz||(Mz=1,hS=function(t,e){return e===1?function(r,n){return r[t](n)}:function(r,n,i){return r[t](n,i)}}),hS}var fS,Az;function hme(){if(Az)return fS;Az=1;var t=gn(),e=ZG(),r=t("Map");return fS={Map:r,set:e("set",2),get:e("get",1),has:e("has",1),remove:e("delete",1),proto:r.prototype},fS}var Fz;function fme(){if(Fz)return qz;Fz=1;var t=ge(),e=Ae(),r=cs(),n=us(),i=um(),s=hme(),a=Ru(),o=De(),l=s.Map,u=s.has,d=s.get,h=s.set,f=e([].push),p=a||o(function(){return l.groupBy("ab",function(m){return m}).get("a").length!==1});return t({target:"Map",stat:!0,forced:a||p},{groupBy:function(y,b){n(y),r(b);var g=new l,v=0;return i(y,function(x){var w=b(x,v++);u(g,w)?f(d(g,w),x):h(g,w,[x])}),g}}),qz}var Lz={},pS,Bz;function pme(){if(Bz)return pS;Bz=1;var t=Ae(),e=ku(),r=Dn(),n=us(),i=t("".charAt),s=t("".charCodeAt),a=t("".slice),o=function(l){return function(u,d){var h=r(n(u)),f=e(d),p=h.length,m,y;return f<0||f>=p?l?"":void 0:(m=s(h,f),m<55296||m>56319||f+1===p||(y=s(h,f+1))<56320||y>57343?l?i(h,f):m:l?a(h,f,f+2):(m-55296<<10)+(y-56320)+65536)}};return pS={codeAt:o(!1),charAt:o(!0)},pS}var zz;function PN(){if(zz)return Lz;zz=1;var t=pme().charAt,e=Dn(),r=jo(),n=uN(),i=cN(),s="String Iterator",a=r.set,o=r.getterFor(s);return n(String,"String",function(l){a(this,{type:s,string:e(l),index:0})},function(){var u=o(this),d=u.string,h=u.index,f;return h>=d.length?i(void 0,!0):(f=t(d,h),u.index+=f.length,i(f,!1))}),Lz}var mS,Uz;function mme(){if(Uz)return mS;Uz=1,Au(),dme(),fme(),PN();var t=Ve();return mS=t.Map,mS}var vS,Wz;function vme(){if(Wz)return vS;Wz=1;var t=mme();return Fu(),vS=t,vS}var gS,Hz;function gme(){return Hz||(Hz=1,gS=vme()),gS}var yme=gme(),CN=Ee(yme);class bme{constructor(){this.clear(),this._defaultIndex=0,this._groupIndex=0,this._defaultGroups=[{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},{border:"#FFA500",background:"#FFFF00",highlight:{border:"#FFA500",background:"#FFFFA3"},hover:{border:"#FFA500",background:"#FFFFA3"}},{border:"#FA0A10",background:"#FB7E81",highlight:{border:"#FA0A10",background:"#FFAFB1"},hover:{border:"#FA0A10",background:"#FFAFB1"}},{border:"#41A906",background:"#7BE141",highlight:{border:"#41A906",background:"#A1EC76"},hover:{border:"#41A906",background:"#A1EC76"}},{border:"#E129F0",background:"#EB7DF4",highlight:{border:"#E129F0",background:"#F0B3F5"},hover:{border:"#E129F0",background:"#F0B3F5"}},{border:"#7C29F0",background:"#AD85E4",highlight:{border:"#7C29F0",background:"#D3BDF0"},hover:{border:"#7C29F0",background:"#D3BDF0"}},{border:"#C37F00",background:"#FFA807",highlight:{border:"#C37F00",background:"#FFCA66"},hover:{border:"#C37F00",background:"#FFCA66"}},{border:"#4220FB",background:"#6E6EFD",highlight:{border:"#4220FB",background:"#9B9BFD"},hover:{border:"#4220FB",background:"#9B9BFD"}},{border:"#FD5A77",background:"#FFC0CB",highlight:{border:"#FD5A77",background:"#FFD1D9"},hover:{border:"#FD5A77",background:"#FFD1D9"}},{border:"#4AD63A",background:"#C2FABC",highlight:{border:"#4AD63A",background:"#E6FFE3"},hover:{border:"#4AD63A",background:"#E6FFE3"}},{border:"#990000",background:"#EE0000",highlight:{border:"#BB0000",background:"#FF3333"},hover:{border:"#BB0000",background:"#FF3333"}},{border:"#FF6000",background:"#FF6000",highlight:{border:"#FF6000",background:"#FF6000"},hover:{border:"#FF6000",background:"#FF6000"}},{border:"#97C2FC",background:"#2B7CE9",highlight:{border:"#D2E5FF",background:"#2B7CE9"},hover:{border:"#D2E5FF",background:"#2B7CE9"}},{border:"#399605",background:"#255C03",highlight:{border:"#399605",background:"#255C03"},hover:{border:"#399605",background:"#255C03"}},{border:"#B70054",background:"#FF007E",highlight:{border:"#B70054",background:"#FF007E"},hover:{border:"#B70054",background:"#FF007E"}},{border:"#AD85E4",background:"#7C29F0",highlight:{border:"#D3BDF0",background:"#7C29F0"},hover:{border:"#D3BDF0",background:"#7C29F0"}},{border:"#4557FA",background:"#000EA1",highlight:{border:"#6E6EFD",background:"#000EA1"},hover:{border:"#6E6EFD",background:"#000EA1"}},{border:"#FFC0CB",background:"#FD5A77",highlight:{border:"#FFD1D9",background:"#FD5A77"},hover:{border:"#FFD1D9",background:"#FD5A77"}},{border:"#C2FABC",background:"#74D66A",highlight:{border:"#E6FFE3",background:"#74D66A"},hover:{border:"#E6FFE3",background:"#74D66A"}},{border:"#EE0000",background:"#990000",highlight:{border:"#FF3333",background:"#BB0000"},hover:{border:"#FF3333",background:"#BB0000"}}],this.options={},this.defaultOptions={useDefaultGroups:!0},kt(this.options,this.defaultOptions)}setOptions(e){const r=["useDefaultGroups"];if(e!==void 0){for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)&&Ue(r).call(r,n)===-1){const i=e[n];this.add(n,i)}}}clear(){this._groups=new CN,this._groupNames=[]}get(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0,n=this._groups.get(e);if(n===void 0&&r)if(this.options.useDefaultGroups===!1&&this._groupNames.length>0){const i=this._groupIndex%this._groupNames.length;++this._groupIndex,n={},n.color=this._groups.get(this._groupNames[i]),this._groups.set(e,n)}else{const i=this._defaultIndex%this._defaultGroups.length;this._defaultIndex++,n={},n.color=this._defaultGroups[i],this._groups.set(e,n)}return n}add(e,r){return this._groups.has(e)||this._groupNames.push(e),this._groups.set(e,r),r}}var Vz={},Kz;function wme(){if(Kz)return Vz;Kz=1;var t=ge();return t({target:"Number",stat:!0},{isNaN:function(r){return r!==r}}),Vz}var yS,Gz;function xme(){if(Gz)return yS;Gz=1,wme();var t=Ve();return yS=t.Number.isNaN,yS}var bS,Yz;function _me(){if(Yz)return bS;Yz=1;var t=xme();return bS=t,bS}var wS,Qz;function Sme(){return Qz||(Qz=1,wS=_me()),wS}var Eme=Sme(),sC=Ee(Eme),Xz={},xS,Jz;function Ome(){if(Jz)return xS;Jz=1;var t=ut(),e=t.isFinite;return xS=Number.isFinite||function(n){return typeof n=="number"&&e(n)},xS}var Zz;function Pme(){if(Zz)return Xz;Zz=1;var t=ge(),e=Ome();return t({target:"Number",stat:!0},{isFinite:e}),Xz}var _S,e6;function Cme(){if(e6)return _S;e6=1,Pme();var t=Ve();return _S=t.Number.isFinite,_S}var SS,t6;function Tme(){if(t6)return SS;t6=1;var t=Cme();return SS=t,SS}var ES,r6;function Nme(){return r6||(r6=1,ES=Tme()),ES}var Ime=Nme(),ja=Ee(Ime),n6={},i6;function Rme(){if(i6)return n6;i6=1;var t=ge(),e=pa().some,r=Lu(),n=r("some");return t({target:"Array",proto:!0,forced:!n},{some:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),n6}var OS,s6;function jme(){if(s6)return OS;s6=1,Rme();var t=pr();return OS=t("Array","some"),OS}var PS,a6;function $me(){if(a6)return PS;a6=1;var t=At(),e=jme(),r=Array.prototype;return PS=function(n){var i=n.some;return n===r||t(r,n)&&i===r.some?e:i},PS}var CS,o6;function kme(){if(o6)return CS;o6=1;var t=$me();return CS=t,CS}var TS,l6;function Dme(){return l6||(l6=1,TS=kme()),TS}var qme=Dme(),Mme=Ee(qme),NS={exports:{}},u6={},c6;function Ame(){if(c6)return u6;c6=1;var t=ge(),e=Tt(),r=kn().f;return t({target:"Object",stat:!0,forced:Object.defineProperty!==r,sham:!e},{defineProperty:r}),u6}var d6;function Fme(){if(d6)return NS.exports;d6=1,Ame();var t=Ve(),e=t.Object,r=NS.exports=function(i,s,a){return e.defineProperty(i,s,a)};return e.defineProperty.sham&&(r.sham=!0),NS.exports}var IS,h6;function eY(){if(h6)return IS;h6=1;var t=Fme();return IS=t,IS}var RS,f6;function Lme(){if(f6)return RS;f6=1;var t=eY();return RS=t,RS}var jS,p6;function Bme(){if(p6)return jS;p6=1;var t=Lme();return jS=t,jS}var $S,m6;function zme(){return m6||(m6=1,$S=Bme()),$S}var Ume=zme(),Wme=Ee(Ume),v6={},g6;function Hme(){if(g6)return v6;g6=1;var t=Ft(),e=kn().f,r=t("metadata"),n=Function.prototype;return n[r]===void 0&&e(n,r,{value:null}),v6}var y6={},b6;function Vme(){return b6||(b6=1,rG()),y6}var w6={},x6;function Kme(){return x6||(x6=1,nG()),w6}var _6={},S6;function Gme(){if(S6)return _6;S6=1;var t=gt();return t("metadata"),_6}var kS,E6;function Yme(){if(E6)return kS;E6=1;var t=lG();return Hme(),Vme(),Kme(),Gme(),kS=t,kS}var O6={},DS,P6;function tY(){if(P6)return DS;P6=1;var t=gn(),e=Ae(),r=t("Symbol"),n=r.keyFor,i=e(r.prototype.valueOf);return DS=r.isRegisteredSymbol||function(a){try{return n(i(a))!==void 0}catch{return!1}},DS}var C6;function Qme(){if(C6)return O6;C6=1;var t=ge(),e=tY();return t({target:"Symbol",stat:!0},{isRegisteredSymbol:e}),O6}var T6={},qS,N6;function rY(){if(N6)return qS;N6=1;for(var t=ju(),e=gn(),r=Ae(),n=Qd(),i=Ft(),s=e("Symbol"),a=s.isWellKnownSymbol,o=e("Object","getOwnPropertyNames"),l=r(s.prototype.valueOf),u=t("wks"),d=0,h=o(s),f=h.length;d<f;d++)try{var p=h[d];n(s[p])&&i(p)}catch{}return qS=function(y){if(a&&a(y))return!0;try{for(var b=l(y),g=0,v=o(u),x=v.length;g<x;g++)if(u[v[g]]==b)return!0}catch{}return!1},qS}var I6;function Xme(){if(I6)return T6;I6=1;var t=ge(),e=rY();return t({target:"Symbol",stat:!0,forced:!0},{isWellKnownSymbol:e}),T6}var R6={},j6;function Jme(){if(j6)return R6;j6=1;var t=gt();return t("customMatcher"),R6}var $6={},k6;function Zme(){if(k6)return $6;k6=1;var t=gt();return t("observable"),$6}var D6={},q6;function eve(){if(q6)return D6;q6=1;var t=ge(),e=tY();return t({target:"Symbol",stat:!0,name:"isRegisteredSymbol"},{isRegistered:e}),D6}var M6={},A6;function tve(){if(A6)return M6;A6=1;var t=ge(),e=rY();return t({target:"Symbol",stat:!0,name:"isWellKnownSymbol",forced:!0},{isWellKnown:e}),M6}var F6={},L6;function rve(){if(L6)return F6;L6=1;var t=gt();return t("matcher"),F6}var B6={},z6;function nve(){if(z6)return B6;z6=1;var t=gt();return t("metadataKey"),B6}var U6={},W6;function ive(){if(W6)return U6;W6=1;var t=gt();return t("patternMatch"),U6}var H6={},V6;function sve(){if(V6)return H6;V6=1;var t=gt();return t("replaceAll"),H6}var MS,K6;function ave(){if(K6)return MS;K6=1;var t=Yme();return Qme(),Xme(),Jme(),Zme(),eve(),tve(),rve(),nve(),ive(),sve(),MS=t,MS}var AS,G6;function ove(){return G6||(G6=1,AS=ave()),AS}var lve=ove(),Bh=Ee(lve),FS,Y6;function uve(){if(Y6)return FS;Y6=1,Au(),PN(),iG();var t=nm();return FS=t.f("iterator"),FS}var LS,Q6;function cve(){if(Q6)return LS;Q6=1;var t=uve();return Fu(),LS=t,LS}var BS,X6;function dve(){if(X6)return BS;X6=1;var t=cve();return BS=t,BS}var zS,J6;function hve(){if(J6)return zS;J6=1;var t=dve();return zS=t,zS}var US,Z6;function fve(){return Z6||(Z6=1,US=hve()),US}var pve=fve(),mve=Ee(pve);function cd(t){"@babel/helpers - typeof";return cd=typeof Bh=="function"&&typeof mve=="symbol"?function(e){return typeof e}:function(e){return e&&typeof Bh=="function"&&e.constructor===Bh&&e!==Bh.prototype?"symbol":typeof e},cd(t)}var WS,eU;function vve(){if(eU)return WS;eU=1,sG();var t=nm();return WS=t.f("toPrimitive"),WS}var HS,tU;function gve(){if(tU)return HS;tU=1;var t=vve();return HS=t,HS}var VS,rU;function yve(){if(rU)return VS;rU=1;var t=gve();return VS=t,VS}var KS,nU;function bve(){if(nU)return KS;nU=1;var t=yve();return KS=t,KS}var GS,iU;function wve(){return iU||(iU=1,GS=bve()),GS}var xve=wve(),_ve=Ee(xve);function Sve(t,e){if(cd(t)!="object"||!t)return t;var r=t[_ve];if(r!==void 0){var n=r.call(t,e);if(cd(n)!="object")return n;throw new TypeError("@@toPrimitive must return a primitive value.")}return(e==="string"?String:Number)(t)}function Eve(t){var e=Sve(t,"string");return cd(e)=="symbol"?e:e+""}function Mi(t,e,r){return(e=Eve(e))in t?Wme(t,e,{value:r,enumerable:!0,configurable:!0,writable:!0}):t[e]=r,t}var sU={},YS,aU;function Ove(){if(aU)return YS;aU=1;var t=ut(),e=De(),r=Ae(),n=Dn(),i=cG().trim,s=dN(),a=r("".charAt),o=t.parseFloat,l=t.Symbol,u=l&&l.iterator,d=1/o(s+"-0")!==-1/0||u&&!e(function(){o(Object(u))});return YS=d?function(f){var p=i(n(f)),m=o(p);return m===0&&a(p,0)==="-"?-0:m}:o,YS}var oU;function Pve(){if(oU)return sU;oU=1;var t=ge(),e=Ove();return t({global:!0,forced:parseFloat!==e},{parseFloat:e}),sU}var QS,lU;function Cve(){if(lU)return QS;lU=1,Pve();var t=Ve();return QS=t.parseFloat,QS}var XS,uU;function Tve(){if(uU)return XS;uU=1;var t=Cve();return XS=t,XS}var JS,cU;function Nve(){return cU||(cU=1,JS=Tve()),JS}var Ive=Nve(),nY=Ee(Ive),dU={},hU;function Rve(){if(hU)return dU;hU=1;var t=ge(),e=De(),r=aN().f,n=e(function(){return!Object.getOwnPropertyNames(1)});return t({target:"Object",stat:!0,forced:n},{getOwnPropertyNames:r}),dU}var ZS,fU;function jve(){if(fU)return ZS;fU=1,Rve();var t=Ve(),e=t.Object;return ZS=function(n){return e.getOwnPropertyNames(n)},ZS}var eE,pU;function $ve(){if(pU)return eE;pU=1;var t=jve();return eE=t,eE}var tE,mU;function kve(){return mU||(mU=1,tE=$ve()),tE}var Dve=kve(),qve=Ee(Dve),rE,vU;function Mve(){if(vU)return rE;vU=1,tG();var t=Ve();return rE=t.Object.getOwnPropertySymbols,rE}var nE,gU;function Ave(){if(gU)return nE;gU=1;var t=Mve();return nE=t,nE}var iE,yU;function Fve(){return yU||(yU=1,iE=Ave()),iE}var Lve=Fve(),ia=Ee(Lve),sE={exports:{}},bU={},wU;function Bve(){if(wU)return bU;wU=1;var t=ge(),e=De(),r=ni(),n=Qp().f,i=Tt(),s=!i||e(function(){n(1)});return t({target:"Object",stat:!0,forced:s,sham:!i},{getOwnPropertyDescriptor:function(o,l){return n(r(o),l)}}),bU}var xU;function zve(){if(xU)return sE.exports;xU=1,Bve();var t=Ve(),e=t.Object,r=sE.exports=function(i,s){return e.getOwnPropertyDescriptor(i,s)};return e.getOwnPropertyDescriptor.sham&&(r.sham=!0),sE.exports}var aE,_U;function Uve(){if(_U)return aE;_U=1;var t=zve();return aE=t,aE}var oE,SU;function Wve(){return SU||(SU=1,oE=Uve()),oE}var Hve=Wve(),ma=Ee(Hve),EU={},OU;function Vve(){if(OU)return EU;OU=1;var t=ge(),e=Tt(),r=gde(),n=ni(),i=Qp(),s=em();return t({target:"Object",stat:!0,sham:!e},{getOwnPropertyDescriptors:function(o){for(var l=n(o),u=i.f,d=r(l),h={},f=0,p,m;d.length>f;)m=u(l,p=d[f++]),m!==void 0&&s(h,p,m);return h}}),EU}var lE,PU;function Kve(){if(PU)return lE;PU=1,Vve();var t=Ve();return lE=t.Object.getOwnPropertyDescriptors,lE}var uE,CU;function Gve(){if(CU)return uE;CU=1;var t=Kve();return uE=t,uE}var cE,TU;function Yve(){return TU||(TU=1,cE=Gve()),cE}var Qve=Yve(),sa=Ee(Qve),dE={exports:{}},NU={},IU;function Xve(){if(IU)return NU;IU=1;var t=ge(),e=Tt(),r=sN().f;return t({target:"Object",stat:!0,forced:Object.defineProperties!==r,sham:!e},{defineProperties:r}),NU}var RU;function Jve(){if(RU)return dE.exports;RU=1,Xve();var t=Ve(),e=t.Object,r=dE.exports=function(i,s){return e.defineProperties(i,s)};return e.defineProperties.sham&&(r.sham=!0),dE.exports}var hE,jU;function Zve(){if(jU)return hE;jU=1;var t=Jve();return hE=t,hE}var fE,$U;function ege(){return $U||($U=1,fE=Zve()),fE}var tge=ege(),cm=Ee(tge),pE,kU;function rge(){return kU||(kU=1,pE=eY()),pE}var nge=rge(),dm=Ee(nge);function TN(t,e){const r=["node","edge","label"];let n=!0;const i=bs(e,"chosen");if(typeof i=="boolean")n=i;else if(typeof i=="object"){if(Ue(r).call(r,t)===-1)throw new Error("choosify: subOption '"+t+"' should be one of '"+r.join("', '")+"'");const s=bs(e,["chosen",t]);(typeof s=="boolean"||typeof s=="function")&&(n=s)}return n}function aC(t,e,r){if(t.width<=0||t.height<=0)return!1;if(r!==void 0){const s={x:e.x-r.x,y:e.y-r.y};if(r.angle!==0){const a=-r.angle;e={x:Math.cos(a)*s.x-Math.sin(a)*s.y,y:Math.sin(a)*s.x+Math.cos(a)*s.y}}else e=s}const n=t.x+t.width,i=t.y+t.width;return t.left<e.x&&n>e.x&&t.top<e.y&&i>e.y}function rp(t){return typeof t=="string"&&t!==""}function iY(t,e,r,n){let i=n.x,s=n.y;if(typeof n.distanceToBorder=="function"){const a=n.distanceToBorder(t,e),o=Math.sin(e)*a,l=Math.cos(e)*a;l===a?(i+=a,s=n.y):o===a?(i=n.x,s-=a):(i+=l,s-=o)}else n.shape.width>n.shape.height?(i=n.x+n.shape.width*.5,s=n.y-r):(i=n.x+r,s=n.y-n.shape.height*.5);return{x:i,y:s}}var mE,DU;function ige(){if(DU)return mE;DU=1,Au();var t=pr();return mE=t("Array","values"),mE}var vE,qU;function sge(){if(qU)return vE;qU=1;var t=ige();return vE=t,vE}var gE,MU;function age(){if(MU)return gE;MU=1,Fu();var t=qu(),e=fr(),r=At(),n=sge(),i=Array.prototype,s={DOMTokenList:!0,NodeList:!0};return gE=function(a){var o=a.values;return a===i||r(i,a)&&o===i.values||e(s,t(a))?n:o},gE}var yE,AU;function oge(){return AU||(AU=1,yE=age()),yE}var lge=oge(),sY=Ee(lge);class uge{constructor(e){this.measureText=e,this.current=0,this.width=0,this.height=0,this.lines=[]}_add(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"normal";this.lines[e]===void 0&&(this.lines[e]={width:0,height:0,blocks:[]});let i=r;(r===void 0||r==="")&&(i=" ");const s=this.measureText(i,n),a=kt({},sY(s));a.text=r,a.width=s.width,a.mod=n,(r===void 0||r==="")&&(a.width=0),this.lines[e].blocks.push(a),this.lines[e].width+=a.width}curWidth(){const e=this.lines[this.current];return e===void 0?0:e.width}append(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r)}newLine(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal";this._add(this.current,e,r),this.current++}determineLineHeights(){for(let e=0;e<this.lines.length;e++){const r=this.lines[e];let n=0;if(r.blocks!==void 0)for(let i=0;i<r.blocks.length;i++){const s=r.blocks[i];n<s.height&&(n=s.height)}r.height=n}}determineLabelSize(){let e=0,r=0;for(let n=0;n<this.lines.length;n++){const i=this.lines[n];i.width>e&&(e=i.width),r+=i.height}this.width=e,this.height=r}removeEmptyBlocks(){const e=[];for(let r=0;r<this.lines.length;r++){const n=this.lines[r];if(n.blocks.length===0||r===this.lines.length-1&&n.width===0)continue;const i={};kt(i,n),i.blocks=[];let s;const a=[];for(let o=0;o<n.blocks.length;o++){const l=n.blocks[o];l.width!==0?a.push(l):s===void 0&&(s=l)}a.length===0&&s!==void 0&&a.push(s),i.blocks=a,e.push(i)}return e}finalize(){this.determineLineHeights(),this.determineLabelSize();const e=this.removeEmptyBlocks();return{width:this.width,height:this.height,lines:e}}}const cge={"<b>":/<b>/,"<i>":/<i>/,"<code>":/<code>/,"</b>":/<\/b>/,"</i>":/<\/i>/,"</code>":/<\/code>/,"*":/\*/,_:/_/,"`":/`/,afterBold:/[^*]/,afterItal:/[^_]/,afterMono:/[^`]/};class FU{constructor(e){this.text=e,this.bold=!1,this.ital=!1,this.mono=!1,this.spacing=!1,this.position=0,this.buffer="",this.modStack=[],this.blocks=[]}mod(){return this.modStack.length===0?"normal":this.modStack[0]}modName(){if(this.modStack.length===0)return"normal";if(this.modStack[0]==="mono")return"mono";if(this.bold&&this.ital)return"boldital";if(this.bold)return"bold";if(this.ital)return"ital"}emitBlock(){this.spacing&&(this.add(" "),this.spacing=!1),this.buffer.length>0&&(this.blocks.push({text:this.buffer,mod:this.modName()}),this.buffer="")}add(e){e===" "&&(this.spacing=!0),this.spacing&&(this.buffer+=" ",this.spacing=!1),e!=" "&&(this.buffer+=e)}parseWS(e){return/[ \t]/.test(e)?(this.mono?this.add(e):this.spacing=!0,!0):!1}setTag(e){this.emitBlock(),this[e]=!0,this.modStack.unshift(e)}unsetTag(e){this.emitBlock(),this[e]=!1,this.modStack.shift()}parseStartTag(e,r){return!this.mono&&!this[e]&&this.match(r)?(this.setTag(e),!0):!1}match(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const[n,i]=this.prepareRegExp(e),s=n.test(this.text.substr(this.position,i));return s&&r&&(this.position+=i-1),s}parseEndTag(e,r,n){let i=this.mod()===e;return e==="mono"?i=i&&this.mono:i=i&&!this.mono,i&&this.match(r)?(n!==void 0?(this.position===this.text.length-1||this.match(n,!1))&&this.unsetTag(e):this.unsetTag(e),!0):!1}replace(e,r){return this.match(e)?(this.add(r),this.position+=length-1,!0):!1}prepareRegExp(e){let r,n;if(e instanceof RegExp)n=e,r=1;else{const i=cge[e];i!==void 0?n=i:n=new RegExp(e),r=e.length}return[n,r]}}class dge{constructor(e,r,n,i){this.ctx=e,this.parent=r,this.selected=n,this.hover=i;const s=(a,o)=>{if(a===void 0)return 0;const l=this.parent.getFormattingValues(e,n,i,o);let u=0;return a!==""&&(u=this.ctx.measureText(a).width),{width:u,values:l}};this.lines=new uge(s)}process(e){if(!rp(e))return this.lines.finalize();const r=this.parent.fontOptions;e=e.replace(/\r\n/g,`
`),e=e.replace(/\r/g,`
`);const n=String(e).split(`
`),i=n.length;if(r.multi)for(let s=0;s<i;s++){const a=this.splitBlocks(n[s],r.multi);if(a!==void 0){if(a.length===0){this.lines.newLine("");continue}if(r.maxWdt>0)for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.splitStringIntoLines(u,l,!0)}else for(let o=0;o<a.length;o++){const l=a[o].mod,u=a[o].text;this.lines.append(u,l)}this.lines.newLine()}}else if(r.maxWdt>0)for(let s=0;s<i;s++)this.splitStringIntoLines(n[s]);else for(let s=0;s<i;s++)this.lines.newLine(n[s]);return this.lines.finalize()}decodeMarkupSystem(e){let r="none";return e==="markdown"||e==="md"?r="markdown":(e===!0||e==="html")&&(r="html"),r}splitHtmlBlocks(e){const r=new FU(e),n=i=>/&/.test(i)?(r.replace(r.text,"&lt;","<")||r.replace(r.text,"&amp;","&")||r.add("&"),!0):!1;for(;r.position<r.text.length;){const i=r.text.charAt(r.position);r.parseWS(i)||/</.test(i)&&(r.parseStartTag("bold","<b>")||r.parseStartTag("ital","<i>")||r.parseStartTag("mono","<code>")||r.parseEndTag("bold","</b>")||r.parseEndTag("ital","</i>")||r.parseEndTag("mono","</code>"))||n(i)||r.add(i),r.position++}return r.emitBlock(),r.blocks}splitMarkdownBlocks(e){const r=new FU(e);let n=!0;const i=s=>/\\/.test(s)?(r.position<this.text.length+1&&(r.position++,s=this.text.charAt(r.position),/ \t/.test(s)?r.spacing=!0:(r.add(s),n=!1)),!0):!1;for(;r.position<r.text.length;){const s=r.text.charAt(r.position);r.parseWS(s)||i(s)||(n||r.spacing)&&(r.parseStartTag("bold","*")||r.parseStartTag("ital","_")||r.parseStartTag("mono","`"))||r.parseEndTag("bold","*","afterBold")||r.parseEndTag("ital","_","afterItal")||r.parseEndTag("mono","`","afterMono")||(r.add(s),n=!1),r.position++}return r.emitBlock(),r.blocks}splitBlocks(e,r){const n=this.decodeMarkupSystem(r);if(n==="none")return[{text:e,mod:"normal"}];if(n==="markdown")return this.splitMarkdownBlocks(e);if(n==="html")return this.splitHtmlBlocks(e)}overMaxWidth(e){const r=this.ctx.measureText(e).width;return this.lines.curWidth()+r>this.parent.fontOptions.maxWdt}getLongestFit(e){let r="",n=0;for(;n<e.length;){const s=r+(r===""?"":" ")+e[n];if(this.overMaxWidth(s))break;r=s,n++}return n}getLongestFitWord(e){let r=0;for(;r<e.length&&!this.overMaxWidth(pi(e).call(e,0,r));)r++;return r}splitStringIntoLines(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"normal",n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.parent.getFormattingValues(this.ctx,this.selected,this.hover,r),e=e.replace(/^( +)/g,"$1\r"),e=e.replace(/([^\r][^ ]*)( +)/g,"$1\r$2\r");let i=e.split("\r");for(;i.length>0;){let s=this.getLongestFit(i);if(s===0){const a=i[0],o=this.getLongestFitWord(a);this.lines.newLine(pi(a).call(a,0,o),r),i[0]=pi(a).call(a,o)}else{let a=s;i[s-1]===" "?s--:i[a]===" "&&a++;const o=pi(i).call(i,0,s).join("");s==i.length&&n?this.lines.append(o,r):this.lines.newLine(o,r),i=pi(i).call(i,a)}}}}const ic=["bold","ital","boldital","mono"];class xl{constructor(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;this.body=e,this.pointToSelf=!1,this.baseSize=void 0,this.fontOptions={},this.setOptions(r),this.size={top:0,left:0,width:0,height:0,yLine:0},this.isEdgeLabel=n}setOptions(e){if(this.elementOptions=e,this.initFontOptions(e.font),rp(e.label)?this.labelDirty=!0:e.label=void 0,e.font!==void 0&&e.font!==null){if(typeof e.font=="string")this.baseSize=this.fontOptions.size;else if(typeof e.font=="object"){const r=e.font.size;r!==void 0&&(this.baseSize=r)}}}initFontOptions(e){if(Re(ic,r=>{this.fontOptions[r]={}}),xl.parseFontString(this.fontOptions,e)){this.fontOptions.vadjust=0;return}Re(e,(r,n)=>{r!=null&&typeof r!="object"&&(this.fontOptions[n]=r)})}static parseFontString(e,r){if(!r||typeof r!="string")return!1;const n=r.split(" ");return e.size=+n[0].replace("px",""),e.face=n[1],e.color=n[2],!0}constrain(e){const r={constrainWidth:!1,maxWdt:-1,minWdt:-1,constrainHeight:!1,minHgt:-1,valign:"middle"},n=bs(e,"widthConstraint");if(typeof n=="number")r.maxWdt=Number(n),r.minWdt=Number(n);else if(typeof n=="object"){const s=bs(e,["widthConstraint","maximum"]);typeof s=="number"&&(r.maxWdt=Number(s));const a=bs(e,["widthConstraint","minimum"]);typeof a=="number"&&(r.minWdt=Number(a))}const i=bs(e,"heightConstraint");if(typeof i=="number")r.minHgt=Number(i);else if(typeof i=="object"){const s=bs(e,["heightConstraint","minimum"]);typeof s=="number"&&(r.minHgt=Number(s));const a=bs(e,["heightConstraint","valign"]);typeof a=="string"&&(a==="top"||a==="bottom")&&(r.valign=a)}return r}update(e,r){this.setOptions(e,!0),this.propagateFonts(r),et(this.fontOptions,this.constrain(r)),this.fontOptions.chooser=TN("label",r)}adjustSizes(e){const r=e?e.right+e.left:0;this.fontOptions.constrainWidth&&(this.fontOptions.maxWdt-=r,this.fontOptions.minWdt-=r);const n=e?e.top+e.bottom:0;this.fontOptions.constrainHeight&&(this.fontOptions.minHgt-=n)}addFontOptionsToPile(e,r){for(let n=0;n<r.length;++n)this.addFontToPile(e,r[n])}addFontToPile(e,r){if(r===void 0||r.font===void 0||r.font===null)return;const n=r.font;e.push(n)}getBasicOptions(e){const r={};for(let n=0;n<e.length;++n){let i=e[n];const s={};xl.parseFontString(s,i)&&(i=s),Re(i,(a,o)=>{a!==void 0&&(Object.prototype.hasOwnProperty.call(r,o)||(Ue(ic).call(ic,o)!==-1?r[o]={}:r[o]=a))})}return r}getFontOption(e,r,n){let i;for(let s=0;s<e.length;++s){const a=e[s];if(Object.prototype.hasOwnProperty.call(a,r)){if(i=a[r],i==null)continue;const o={};if(xl.parseFontString(o,i)&&(i=o),Object.prototype.hasOwnProperty.call(i,n))return i[n]}}if(Object.prototype.hasOwnProperty.call(this.fontOptions,n))return this.fontOptions[n];throw new Error("Did not find value for multi-font for property: '"+n+"'")}getFontOptions(e,r){const n={},i=["color","size","face","mod","vadjust"];for(let s=0;s<i.length;++s){const a=i[s];n[a]=this.getFontOption(e,r,a)}return n}propagateFonts(e){const r=[];this.addFontOptionsToPile(r,e),this.fontOptions=this.getBasicOptions(r);for(let n=0;n<ic.length;++n){const i=ic[n],s=this.fontOptions[i],a=this.getFontOptions(r,i);Re(a,(o,l)=>{s[l]=o}),s.size=Number(s.size),s.vadjust=Number(s.vadjust)}}draw(e,r,n,i,s){let a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";if(this.elementOptions.label===void 0)return;let o=this.fontOptions.size*this.body.view.scale;this.elementOptions.label&&o<this.elementOptions.scaling.label.drawThreshold-1||(o>=this.elementOptions.scaling.label.maxVisible&&(o=Number(this.elementOptions.scaling.label.maxVisible)/this.body.view.scale),this.calculateLabelSize(e,i,s,r,n,a),this._drawBackground(e),this._drawText(e,r,this.size.yLine,a,o))}_drawBackground(e){if(this.fontOptions.background!==void 0&&this.fontOptions.background!=="none"){e.fillStyle=this.fontOptions.background;const r=this.getSize();e.fillRect(r.left,r.top,r.width,r.height)}}_drawText(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"middle",s=arguments.length>4?arguments[4]:void 0;[r,n]=this._setAlignment(e,r,n,i),e.textAlign="left",r=r-this.size.width/2,this.fontOptions.valign&&this.size.height>this.size.labelHeight&&(this.fontOptions.valign==="top"&&(n-=(this.size.height-this.size.labelHeight)/2),this.fontOptions.valign==="bottom"&&(n+=(this.size.height-this.size.labelHeight)/2));for(let a=0;a<this.lineCount;a++){const o=this.lines[a];if(o&&o.blocks){let l=0;this.isEdgeLabel||this.fontOptions.align==="center"?l+=(this.size.width-o.width)/2:this.fontOptions.align==="right"&&(l+=this.size.width-o.width);for(let u=0;u<o.blocks.length;u++){const d=o.blocks[u];e.font=d.font;const[h,f]=this._getColor(d.color,s,d.strokeColor);d.strokeWidth>0&&(e.lineWidth=d.strokeWidth,e.strokeStyle=f,e.lineJoin="round"),e.fillStyle=h,d.strokeWidth>0&&e.strokeText(d.text,r+l,n+d.vadjust),e.fillText(d.text,r+l,n+d.vadjust),l+=d.width}n+=o.height}}}_setAlignment(e,r,n,i){if(this.isEdgeLabel&&this.fontOptions.align!=="horizontal"&&this.pointToSelf===!1){r=0,n=0;const s=2;this.fontOptions.align==="top"?(e.textBaseline="alphabetic",n-=2*s):this.fontOptions.align==="bottom"?(e.textBaseline="hanging",n+=2*s):e.textBaseline="middle"}else e.textBaseline=i;return[r,n]}_getColor(e,r,n){let i=e||"#000000",s=n||"#ffffff";if(r<=this.elementOptions.scaling.label.drawThreshold){const a=Math.max(0,Math.min(1,1-(this.elementOptions.scaling.label.drawThreshold-r)));i=On(i,a),s=On(s,a)}return[i,s]}getTextSize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;return this._processLabel(e,r,n),{width:this.size.width,height:this.size.height,lineCount:this.lineCount}}getSize(){let r=this.size.left,n=this.size.top-.5*2;if(this.isEdgeLabel){const s=-this.size.width*.5;switch(this.fontOptions.align){case"middle":r=s,n=-this.size.height*.5;break;case"top":r=s,n=-(this.size.height+2);break;case"bottom":r=s,n=2;break}}return{left:r,top:n,width:this.size.width,height:this.size.height}}calculateLabelSize(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:0,s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:0,a=arguments.length>5&&arguments[5]!==void 0?arguments[5]:"middle";this._processLabel(e,r,n),this.size.left=i-this.size.width*.5,this.size.top=s-this.size.height*.5,this.size.yLine=s+(1-this.lineCount)*.5*this.fontOptions.size,a==="hanging"&&(this.size.top+=.5*this.fontOptions.size,this.size.top+=4,this.size.yLine+=4)}getFormattingValues(e,r,n,i){const s=function(l,u,d){return u==="normal"?d==="mod"?"":l[d]:l[u][d]!==void 0?l[u][d]:l[d]},a={color:s(this.fontOptions,i,"color"),size:s(this.fontOptions,i,"size"),face:s(this.fontOptions,i,"face"),mod:s(this.fontOptions,i,"mod"),vadjust:s(this.fontOptions,i,"vadjust"),strokeWidth:this.fontOptions.strokeWidth,strokeColor:this.fontOptions.strokeColor};(r||n)&&(i==="normal"&&this.fontOptions.chooser===!0&&this.elementOptions.labelHighlightBold?a.mod="bold":typeof this.fontOptions.chooser=="function"&&this.fontOptions.chooser(a,this.elementOptions.id,r,n));let o="";return a.mod!==void 0&&a.mod!==""&&(o+=a.mod+" "),o+=a.size+"px "+a.face,e.font=o.replace(/"/g,""),a.font=e.font,a.height=a.size,a}differentState(e,r){return e!==this.selectedState||r!==this.hoverState}_processLabelText(e,r,n,i){return new dge(e,this,r,n).process(i)}_processLabel(e,r,n){if(this.labelDirty===!1&&!this.differentState(r,n))return;const i=this._processLabelText(e,r,n,this.elementOptions.label);this.fontOptions.minWdt>0&&i.width<this.fontOptions.minWdt&&(i.width=this.fontOptions.minWdt),this.size.labelHeight=i.height,this.fontOptions.minHgt>0&&i.height<this.fontOptions.minHgt&&(i.height=this.fontOptions.minHgt),this.lines=i.lines,this.lineCount=i.lines.length,this.size.width=i.width,this.size.height=i.height,this.selectedState=r,this.hoverState=n,this.labelDirty=!1}visible(){return!(this.size.width===0||this.size.height===0||this.elementOptions.label===void 0||this.fontOptions.size*this.body.view.scale<this.elementOptions.scaling.label.drawThreshold-1)}}class ko{constructor(e,r,n){this.body=r,this.labelModule=n,this.setOptions(e),this.top=void 0,this.left=void 0,this.height=void 0,this.width=void 0,this.radius=void 0,this.margin=void 0,this.refreshNeeded=!0,this.boundingBox={top:0,left:0,right:0,bottom:0}}setOptions(e){this.options=e}_setMargins(e){this.margin={},this.options.margin&&(typeof this.options.margin=="object"?(this.margin.top=this.options.margin.top,this.margin.right=this.options.margin.right,this.margin.bottom=this.options.margin.bottom,this.margin.left=this.options.margin.left):(this.margin.top=this.options.margin,this.margin.right=this.options.margin,this.margin.bottom=this.options.margin,this.margin.left=this.options.margin)),e.adjustSizes(this.margin)}_distanceToBorder(e,r){const n=this.options.borderWidth;return e&&this.resize(e),Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}enableShadow(e,r){r.shadow&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}enableBorderDashes(e,r){if(r.borderDashes!==!1)if(e.setLineDash!==void 0){let n=r.borderDashes;n===!0&&(n=[5,15]),e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1}disableBorderDashes(e,r){r.borderDashes!==!1&&(e.setLineDash!==void 0?e.setLineDash([0]):(console.warn("setLineDash is not supported in this browser. The dashed borders cannot be used."),this.options.shapeProperties.borderDashes=!1,r.borderDashes=!1))}needsRefresh(e,r){return this.refreshNeeded===!0?(this.refreshNeeded=!1,!0):this.width===void 0||this.labelModule.differentState(e,r)}initContextForDraw(e,r){const n=r.borderWidth/this.body.view.scale;e.lineWidth=Math.min(this.width,n),e.strokeStyle=r.borderColor,e.fillStyle=r.color}performStroke(e,r){const n=r.borderWidth/this.body.view.scale;e.save(),n>0&&(this.enableBorderDashes(e,r),e.stroke(),this.disableBorderDashes(e,r)),e.restore()}performFill(e,r){e.save(),e.fillStyle=r.color,this.enableShadow(e,r),nh(e).call(e),this.disableShadow(e,r),e.restore(),this.performStroke(e,r)}_addBoundingBoxMargin(e){this.boundingBox.left-=e,this.boundingBox.top-=e,this.boundingBox.bottom+=e,this.boundingBox.right+=e}_updateBoundingBox(e,r,n,i,s){n!==void 0&&this.resize(n,i,s),this.left=e-this.width/2,this.top=r-this.height/2,this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s)}getDimensionsFromLabel(e,r,n){this.textSize=this.labelModule.getTextSize(e,r,n);let i=this.textSize.width,s=this.textSize.height;const a=14;return i===0&&(i=a,s=a),{width:i,height:s}}}let hge=class extends ko{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.width=i.width+this.margin.right+this.margin.left,this.height=i.height+this.margin.top+this.margin.bottom,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),W9(e,this.left,this.top,this.width,this.height,a.borderRadius),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}updateBoundingBox(e,r,n,i,s){this._updateBoundingBox(e,r,n,i,s);const a=this.options.shapeProperties.borderRadius;this._addBoundingBoxMargin(a)}distanceToBorder(e,r){e&&this.resize(e);const n=this.options.borderWidth;return Math.min(Math.abs(this.width/2/Math.cos(r)),Math.abs(this.height/2/Math.sin(r)))+n}};class NN extends ko{constructor(e,r,n){super(e,r,n),this.labelOffset=0,this.selected=!1}setOptions(e,r,n){this.options=e,r===void 0&&n===void 0||this.setImages(r,n)}setImages(e,r){r&&this.selected?(this.imageObj=r,this.imageObjAlt=e):(this.imageObj=e,this.imageObjAlt=r)}switchImages(e){const r=e&&!this.selected||!e&&this.selected;if(this.selected=e,this.imageObjAlt!==void 0&&r){const n=this.imageObj;this.imageObj=this.imageObjAlt,this.imageObjAlt=n}}_getImagePadding(){const e={top:0,right:0,bottom:0,left:0};if(this.options.imagePadding){const r=this.options.imagePadding;typeof r=="object"?(e.top=r.top,e.right=r.right,e.bottom=r.bottom,e.left=r.left):(e.top=r,e.right=r,e.bottom=r,e.left=r)}return e}_resizeImage(){let e,r;if(this.options.shapeProperties.useImageSize===!1){let n=1,i=1;this.imageObj.width&&this.imageObj.height&&(this.imageObj.width>this.imageObj.height?n=this.imageObj.width/this.imageObj.height:i=this.imageObj.height/this.imageObj.width),e=this.options.size*2*n,r=this.options.size*2*i}else{const n=this._getImagePadding();e=this.imageObj.width+n.left+n.right,r=this.imageObj.height+n.top+n.bottom}this.width=e,this.height=r,this.radius=.5*this.width}_drawRawCircle(e,r,n,i){this.initContextForDraw(e,i),rN(e,r,n,i.size),this.performFill(e,i)}_drawImageAtPosition(e,r){if(this.imageObj.width!=0){e.globalAlpha=r.opacity!==void 0?r.opacity:1,this.enableShadow(e,r);let n=1;this.options.shapeProperties.interpolation===!0&&(n=this.imageObj.width/this.width/this.body.view.scale);const i=this._getImagePadding(),s=this.left+i.left,a=this.top+i.top,o=this.width-i.left-i.right,l=this.height-i.top-i.bottom;this.imageObj.drawImageAtPosition(e,n,s,a,o,l),this.disableShadow(e,r)}}_drawImageLabel(e,r,n,i,s){let a=0;if(this.height!==void 0){a=this.height*.5;const l=this.labelModule.getTextSize(e,i,s);l.lineCount>=1&&(a+=l.height/2)}const o=n+a;this.options.label&&(this.labelOffset=a),this.labelModule.draw(e,r,o,i,s,"hanging")}}let fge=class extends NN{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n),s=Math.max(i.width+this.margin.right+this.margin.left,i.height+this.margin.top+this.margin.bottom);this.options.size=s/2,this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this._drawRawCircle(e,r,n,a),this.updateBoundingBox(r,n),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,n,i,s)}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size}distanceToBorder(e){return e&&this.resize(e),this.width*.5}};class pge extends NN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s,this.radius=.5*this.width;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){this.switchImages(i),this.resize();let o=r,l=n;this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this._drawRawCircle(e,o,l,a),e.save(),e.clip(),this._drawImageAtPosition(e,a),e.restore(),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n)}updateBoundingBox(e,r){this.options.shapeProperties.coordinateOrigin==="top-left"?(this.boundingBox.top=r,this.boundingBox.left=e,this.boundingBox.right=e+this.options.size*2,this.boundingBox.bottom=r+this.options.size*2):(this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size),this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset)}distanceToBorder(e){return e&&this.resize(e),this.width*.5}}class va extends ko{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{size:this.options.size};if(this.needsRefresh(r,n)){var s,a;this.labelModule.getTextSize(e,r,n);const o=2*i.size;this.width=(s=this.customSizeWidth)!==null&&s!==void 0?s:o,this.height=(a=this.customSizeHeight)!==null&&a!==void 0?a:o,this.radius=.5*this.width}}_drawShape(e,r,n,i,s,a,o,l){return this.resize(e,a,o,l),this.left=i-this.width/2,this.top=s-this.height/2,this.initContextForDraw(e,l),Ice(r)(e,i,s,l.size),this.performFill(e,l),this.options.icon!==void 0&&this.options.icon.code!==void 0&&(e.font=(a?"bold ":"")+this.height/2+"px "+(this.options.icon.face||"FontAwesome"),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",e.fillText(this.options.icon.code,i,s)),{drawExternalLabel:()=>{if(this.options.label!==void 0){this.labelModule.calculateLabelSize(e,a,o,i,s,"hanging");const u=s+.5*this.height+.5*this.labelModule.size.height;this.labelModule.draw(e,i,u,a,o,"hanging")}this.updateBoundingBox(i,s)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.size,this.boundingBox.left=e-this.options.size,this.boundingBox.right=e+this.options.size,this.boundingBox.bottom=r+this.options.size,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height))}}function LU(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Wr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function mge(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ye(r=LU(Object(i),!0)).call(r,function(s){Mi(t,s,i[s])}):sa?cm(t,sa(i)):Ye(n=LU(Object(i))).call(n,function(s){dm(t,s,ma(i,s))})}return t}class vge extends va{constructor(e,r,n,i){super(e,r,n,i),this.ctxRenderer=i}draw(e,r,n,i,s,a){this.resize(e,i,s,a),this.left=r-this.width/2,this.top=n-this.height/2,e.save();const o=this.ctxRenderer({ctx:e,id:this.options.id,x:r,y:n,state:{selected:i,hover:s},style:mge({},a),label:this.options.label});if(o.drawNode!=null&&o.drawNode(),e.restore(),o.drawExternalLabel){const l=o.drawExternalLabel;o.drawExternalLabel=()=>{e.save(),l(),e.restore()}}return o.nodeDimensions&&(this.customSizeWidth=o.nodeDimensions.width,this.customSizeHeight=o.nodeDimensions.height),o}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class gge extends ko{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){if(this.needsRefresh(r,n)){const s=this.getDimensionsFromLabel(e,r,n).width+this.margin.right+this.margin.left;this.width=s,this.height=s,this.radius=this.width/2}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.initContextForDraw(e,a),H9(e,r-this.width/2,n-this.height/2,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let yge=class extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"diamond",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class bge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"circle",2,r,n,i,s,a)}distanceToBorder(e){return e&&this.resize(e),this.options.size}}class BU extends ko{constructor(e,r,n){super(e,r,n)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.needsRefresh(r,n)){const i=this.getDimensionsFromLabel(e,r,n);this.height=i.height*2,this.width=i.width+i.height,this.radius=.5*this.width}}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width*.5,this.top=n-this.height*.5,this.initContextForDraw(e,a),QP(e,this.left,this.top,this.width,this.height),this.performFill(e,a),this.updateBoundingBox(r,n,e,i,s),this.labelModule.draw(e,r,n,i,s)}distanceToBorder(e,r){e&&this.resize(e);const n=this.width*.5,i=this.height*.5,s=Math.sin(r)*n,a=Math.cos(r)*i;return n*i/Math.sqrt(s*s+a*a)}}class wge extends ko{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.iconSize={width:Number(this.options.icon.size),height:Number(this.options.icon.size)},this.width=this.iconSize.width+this.margin.right+this.margin.left,this.height=this.iconSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){return this.resize(e,i,s),this.options.icon.size=this.options.icon.size||50,this.left=r-this.width/2,this.top=n-this.height/2,this._icon(e,r,n,i,s,a),{drawExternalLabel:()=>{this.options.label!==void 0&&this.labelModule.draw(e,this.left+this.iconSize.width/2+this.margin.left,n+this.height/2+5,i),this.updateBoundingBox(r,n)}}}updateBoundingBox(e,r){this.boundingBox.top=r-this.options.icon.size*.5,this.boundingBox.left=e-this.options.icon.size*.5,this.boundingBox.right=e+this.options.icon.size*.5,this.boundingBox.bottom=r+this.options.icon.size*.5,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelModule.size.height+5))}_icon(e,r,n,i,s,a){const o=Number(this.options.icon.size);this.options.icon.code!==void 0?(e.font=[this.options.icon.weight!=null?this.options.icon.weight:i?"bold":"",(this.options.icon.weight!=null&&i?5:0)+o+"px",this.options.icon.face].join(" "),e.fillStyle=this.options.icon.color||"black",e.textAlign="center",e.textBaseline="middle",this.enableShadow(e,a),e.fillText(this.options.icon.code,r,n),this.disableShadow(e,a)):console.error("When using the icon shape, you need to define the code in the icon options object. This can be done per node or globally.")}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let xge=class extends NN{constructor(e,r,n,i,s){super(e,r,n),this.setImages(i,s)}resize(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.selected,n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this.hover;if(this.imageObj.src===void 0||this.imageObj.width===void 0||this.imageObj.height===void 0){const s=this.options.size*2;this.width=s,this.height=s;return}this.needsRefresh(r,n)&&this._resizeImage()}draw(e,r,n,i,s,a){e.save(),this.switchImages(i),this.resize();let o=r,l=n;if(this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=r,this.top=n,o+=this.width/2,l+=this.height/2):(this.left=r-this.width/2,this.top=n-this.height/2),this.options.shapeProperties.useBorderWithImage===!0){const u=this.options.borderWidth,d=this.options.borderWidthSelected||2*this.options.borderWidth,h=(i?d:u)/this.body.view.scale;e.lineWidth=Math.min(this.width,h),e.beginPath();let f=i?this.options.color.highlight.border:s?this.options.color.hover.border:this.options.color.border,p=i?this.options.color.highlight.background:s?this.options.color.hover.background:this.options.color.background;a.opacity!==void 0&&(f=On(f,a.opacity),p=On(p,a.opacity)),e.strokeStyle=f,e.fillStyle=p,e.rect(this.left-.5*e.lineWidth,this.top-.5*e.lineWidth,this.width+e.lineWidth,this.height+e.lineWidth),nh(e).call(e),this.performStroke(e,a),e.closePath()}this._drawImageAtPosition(e,a),this._drawImageLabel(e,o,l,i,s),this.updateBoundingBox(r,n),e.restore()}updateBoundingBox(e,r){this.resize(),this.options.shapeProperties.coordinateOrigin==="top-left"?(this.left=e,this.top=r):(this.left=e-this.width/2,this.top=r-this.height/2),this.boundingBox.left=this.left,this.boundingBox.top=this.top,this.boundingBox.bottom=this.top+this.height,this.boundingBox.right=this.left+this.width,this.options.label!==void 0&&this.labelModule.size.width>0&&(this.boundingBox.left=Math.min(this.boundingBox.left,this.labelModule.size.left),this.boundingBox.right=Math.max(this.boundingBox.right,this.labelModule.size.left+this.labelModule.size.width),this.boundingBox.bottom=Math.max(this.boundingBox.bottom,this.boundingBox.bottom+this.labelOffset))}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class _ge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"square",2,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Sge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"hexagon",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Ege extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"star",4,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}class Oge extends ko{constructor(e,r,n){super(e,r,n),this._setMargins(n)}resize(e,r,n){this.needsRefresh(r,n)&&(this.textSize=this.labelModule.getTextSize(e,r,n),this.width=this.textSize.width+this.margin.right+this.margin.left,this.height=this.textSize.height+this.margin.top+this.margin.bottom,this.radius=.5*this.width)}draw(e,r,n,i,s,a){this.resize(e,i,s),this.left=r-this.width/2,this.top=n-this.height/2,this.enableShadow(e,a),this.labelModule.draw(e,this.left+this.textSize.width/2+this.margin.left,this.top+this.textSize.height/2+this.margin.top,i,s),this.disableShadow(e,a),this.updateBoundingBox(r,n,e,i,s)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}let Pge=class extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangle",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}};class Cge extends va{constructor(e,r,n){super(e,r,n)}draw(e,r,n,i,s,a){return this._drawShape(e,"triangleDown",3,r,n,i,s,a)}distanceToBorder(e,r){return this._distanceToBorder(e,r)}}function zU(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Wr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function UU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ye(r=zU(Object(i),!0)).call(r,function(s){Mi(t,s,i[s])}):sa?cm(t,sa(i)):Ye(n=zU(Object(i))).call(n,function(s){dm(t,s,ma(i,s))})}return t}class ot{constructor(e,r,n,i,s,a){this.options=Xs(s),this.globalOptions=s,this.defaultOptions=a,this.body=r,this.edges=[],this.id=void 0,this.imagelist=n,this.grouplist=i,this.x=void 0,this.y=void 0,this.baseSize=this.options.size,this.baseFontSize=this.options.font.size,this.predefinedPosition=!1,this.selected=!1,this.hover=!1,this.labelModule=new xl(this.body,this.options,!1),this.setOptions(e)}attachEdge(e){var r;Ue(r=this.edges).call(r,e)===-1&&this.edges.push(e)}detachEdge(e){var r;const n=Ue(r=this.edges).call(r,e);if(n!=-1){var i;Ui(i=this.edges).call(i,n,1)}}setOptions(e){const r=this.options.shape;if(!e)return;if(typeof e.color<"u"&&(this._localColor=e.color),e.id!==void 0&&(this.id=e.id),this.id===void 0)throw new Error("Node must have an id");ot.checkMass(e,this.id),e.x!==void 0&&(e.x===null?(this.x=void 0,this.predefinedPosition=!1):(this.x=Hn(e.x),this.predefinedPosition=!0)),e.y!==void 0&&(e.y===null?(this.y=void 0,this.predefinedPosition=!1):(this.y=Hn(e.y),this.predefinedPosition=!0)),e.size!==void 0&&(this.baseSize=e.size),e.value!==void 0&&(e.value=nY(e.value)),ot.parseOptions(this.options,e,!0,this.globalOptions,this.grouplist);const n=[e,this.options,this.defaultOptions];return this.chooser=TN("node",n),this._load_images(),this.updateLabelModule(e),e.opacity!==void 0&&ot.checkOpacity(e.opacity)&&(this.options.opacity=e.opacity),this.updateShape(r),e.hidden!==void 0||e.physics!==void 0}_load_images(){if((this.options.shape==="circularImage"||this.options.shape==="image")&&this.options.image===void 0)throw new Error("Option image must be defined for node type '"+this.options.shape+"'");if(this.options.image!==void 0){if(this.imagelist===void 0)throw new Error("Internal Error: No images provided");if(typeof this.options.image=="string")this.imageObj=this.imagelist.load(this.options.image,this.options.brokenImage,this.id);else{if(this.options.image.unselected===void 0)throw new Error("No unselected image provided");this.imageObj=this.imagelist.load(this.options.image.unselected,this.options.brokenImage,this.id),this.options.image.selected!==void 0?this.imageObjAlt=this.imagelist.load(this.options.image.selected,this.options.brokenImage,this.id):this.imageObjAlt=void 0}}}static checkOpacity(e){return 0<=e&&e<=1}static checkCoordinateOrigin(e){return e===void 0||e==="center"||e==="top-left"}static updateGroupOptions(e,r,n){var i;if(n===void 0)return;const s=e.group;if(r!==void 0&&r.group!==void 0&&s!==r.group)throw new Error("updateGroupOptions: group values in options don't match.");if(!(typeof s=="number"||typeof s=="string"&&s!=""))return;const o=n.get(s);o.opacity!==void 0&&r.opacity===void 0&&(ot.checkOpacity(o.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+o.opacity),o.opacity=void 0));const l=Wr(i=qve(r)).call(i,u=>r[u]!=null);l.push("font"),ep(l,e,o),e.color=tC(e.color)}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4?arguments[4]:void 0;if(ep(["color","fixed","shadow"],e,r,n),ot.checkMass(r),e.opacity!==void 0&&(ot.checkOpacity(e.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity),e.opacity=void 0)),r.opacity!==void 0&&(ot.checkOpacity(r.opacity)||(console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+r.opacity),r.opacity=void 0)),r.shapeProperties&&!ot.checkCoordinateOrigin(r.shapeProperties.coordinateOrigin)&&console.error("Invalid option for node coordinateOrigin, found: "+r.shapeProperties.coordinateOrigin),_n(e,r,"shadow",i),r.color!==void 0&&r.color!==null){const o=tC(r.color);AG(e.color,o)}else n===!0&&r.color===null&&(e.color=Xs(i.color));r.fixed!==void 0&&r.fixed!==null&&(typeof r.fixed=="boolean"?(e.fixed.x=r.fixed,e.fixed.y=r.fixed):(r.fixed.x!==void 0&&typeof r.fixed.x=="boolean"&&(e.fixed.x=r.fixed.x),r.fixed.y!==void 0&&typeof r.fixed.y=="boolean"&&(e.fixed.y=r.fixed.y))),n===!0&&r.font===null&&(e.font=Xs(i.font)),ot.updateGroupOptions(e,r,s),r.scaling!==void 0&&_n(e.scaling,r.scaling,"label",i.scaling)}getFormattingValues(){const e={color:this.options.color.background,opacity:this.options.opacity,borderWidth:this.options.borderWidth,borderColor:this.options.color.border,size:this.options.size,borderDashes:this.options.shapeProperties.borderDashes,borderRadius:this.options.shapeProperties.borderRadius,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y};if(this.selected||this.hover?this.chooser===!0?this.selected?(this.options.borderWidthSelected!=null?e.borderWidth=this.options.borderWidthSelected:e.borderWidth*=2,e.color=this.options.color.highlight.background,e.borderColor=this.options.color.highlight.border,e.shadow=this.options.shadow.enabled):this.hover&&(e.color=this.options.color.hover.background,e.borderColor=this.options.color.hover.border,e.shadow=this.options.shadow.enabled):typeof this.chooser=="function"&&(this.chooser(e,this.options.id,this.selected,this.hover),e.shadow===!1&&(e.shadowColor!==this.options.shadow.color||e.shadowSize!==this.options.shadow.size||e.shadowX!==this.options.shadow.x||e.shadowY!==this.options.shadow.y)&&(e.shadow=!0)):e.shadow=this.options.shadow.enabled,this.options.opacity!==void 0){const r=this.options.opacity;e.borderColor=On(e.borderColor,r),e.color=On(e.color,r),e.shadowColor=On(e.shadowColor,r)}return e}updateLabelModule(e){(this.options.label===void 0||this.options.label===null)&&(this.options.label=""),ot.updateGroupOptions(this.options,UU(UU({},e),{},{color:e&&e.color||this._localColor||void 0}),this.grouplist);const r=this.grouplist.get(this.options.group,!1),n=[e,this.options,r,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,n),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateShape(e){if(e===this.options.shape&&this.shape)this.shape.setOptions(this.options,this.imageObj,this.imageObjAlt);else switch(this.options.shape){case"box":this.shape=new hge(this.options,this.body,this.labelModule);break;case"circle":this.shape=new fge(this.options,this.body,this.labelModule);break;case"circularImage":this.shape=new pge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"custom":this.shape=new vge(this.options,this.body,this.labelModule,this.options.ctxRenderer);break;case"database":this.shape=new gge(this.options,this.body,this.labelModule);break;case"diamond":this.shape=new yge(this.options,this.body,this.labelModule);break;case"dot":this.shape=new bge(this.options,this.body,this.labelModule);break;case"ellipse":this.shape=new BU(this.options,this.body,this.labelModule);break;case"icon":this.shape=new wge(this.options,this.body,this.labelModule);break;case"image":this.shape=new xge(this.options,this.body,this.labelModule,this.imageObj,this.imageObjAlt);break;case"square":this.shape=new _ge(this.options,this.body,this.labelModule);break;case"hexagon":this.shape=new Sge(this.options,this.body,this.labelModule);break;case"star":this.shape=new Ege(this.options,this.body,this.labelModule);break;case"text":this.shape=new Oge(this.options,this.body,this.labelModule);break;case"triangle":this.shape=new Pge(this.options,this.body,this.labelModule);break;case"triangleDown":this.shape=new Cge(this.options,this.body,this.labelModule);break;default:this.shape=new BU(this.options,this.body,this.labelModule);break}this.needsRefresh()}select(){this.selected=!0,this.needsRefresh()}unselect(){this.selected=!1,this.needsRefresh()}needsRefresh(){this.shape.refreshNeeded=!0}getTitle(){return this.options.title}distanceToBorder(e,r){return this.shape.distanceToBorder(e,r)}isFixed(){return this.options.fixed.x&&this.options.fixed.y}isSelected(){return this.selected}getValue(){return this.options.value}getLabelSize(){return this.labelModule.size()}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.size=this.options.scaling.min+i*s}else this.options.size=this.baseSize,this.options.font.size=this.baseFontSize;this.updateLabelModule()}draw(e){const r=this.getFormattingValues();return this.shape.draw(e,this.x,this.y,this.selected,this.hover,r)||{}}updateBoundingBox(e){this.shape.updateBoundingBox(this.x,this.y,e)}resize(e){const r=this.getFormattingValues();this.shape.resize(e,this.selected,this.hover,r)}getItemsOnPoint(e){const r=[];return this.labelModule.visible()&&aC(this.labelModule.getSize(),e)&&r.push({nodeId:this.id,labelId:0}),aC(this.shape.boundingBox,e)&&r.push({nodeId:this.id}),r}isOverlappingWith(e){return this.shape.left<e.right&&this.shape.left+this.shape.width>e.left&&this.shape.top<e.bottom&&this.shape.top+this.shape.height>e.top}isBoundingBoxOverlappingWith(e){return this.shape.boundingBox.left<e.right&&this.shape.boundingBox.right>e.left&&this.shape.boundingBox.top<e.bottom&&this.shape.boundingBox.bottom>e.top}static checkMass(e,r){if(e.mass!==void 0&&e.mass<=0){let n="";r!==void 0&&(n=" in node id: "+r),console.error("%cNegative or zero mass disallowed"+n+", setting mass to 1.",zG),e.mass=1}}}class Tge{constructor(e,r,n,i){var s;if(this.body=e,this.images=r,this.groups=n,this.layoutEngine=i,this.body.functions.createNode=Z(s=this.create).call(s,this),this.nodesListeners={add:(a,o)=>{this.add(o.items)},update:(a,o)=>{this.update(o.items,o.data,o.oldData)},remove:(a,o)=>{this.remove(o.items)}},this.defaultOptions={borderWidth:1,borderWidthSelected:void 0,brokenImage:void 0,color:{border:"#2B7CE9",background:"#97C2FC",highlight:{border:"#2B7CE9",background:"#D2E5FF"},hover:{border:"#2B7CE9",background:"#D2E5FF"}},opacity:void 0,fixed:{x:!1,y:!1},font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:0,strokeColor:"#ffffff",align:"center",vadjust:0,multi:!1,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"monospace",vadjust:2}},group:void 0,hidden:!1,icon:{face:"FontAwesome",code:void 0,size:50,color:"#2B7CE9"},image:void 0,imagePadding:{top:0,right:0,bottom:0,left:0},label:void 0,labelHighlightBold:!0,level:void 0,margin:{top:5,right:5,bottom:5,left:5},mass:1,physics:!0,scaling:{min:10,max:30,label:{enabled:!1,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(a,o,l,u){if(o===a)return .5;{const d=1/(o-a);return Math.max(0,(u-a)*d)}}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},shape:"ellipse",shapeProperties:{borderDashes:!1,borderRadius:6,interpolation:!0,useImageSize:!1,useBorderWithImage:!1,coordinateOrigin:"center"},size:25,title:void 0,value:void 0,x:void 0,y:void 0},this.defaultOptions.mass<=0)throw"Internal error: mass in defaultOptions of NodesHandler may not be zero or negative";this.options=Xs(this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e,r;this.body.emitter.on("refreshNodes",Z(e=this.refresh).call(e,this)),this.body.emitter.on("refresh",Z(r=this.refresh).call(r,this)),this.body.emitter.on("destroy",()=>{Re(this.nodesListeners,(n,i)=>{this.body.data.nodes&&this.body.data.nodes.off(i,n)}),delete this.body.functions.createNode,delete this.nodesListeners.add,delete this.nodesListeners.update,delete this.nodesListeners.remove,delete this.nodesListeners})}setOptions(e){if(e!==void 0){if(ot.parseOptions(this.options,e),e.opacity!==void 0&&(sC(e.opacity)||!ja(e.opacity)||e.opacity<0||e.opacity>1?console.error("Invalid option for node opacity. Value must be between 0 and 1, found: "+e.opacity):this.options.opacity=e.opacity),e.shape!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].updateShape();if(typeof e.font<"u"||typeof e.widthConstraint<"u"||typeof e.heightConstraint<"u")for(const r of xt(this.body.nodes))this.body.nodes[r].updateLabelModule(),this.body.nodes[r].needsRefresh();if(e.size!==void 0)for(const r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&this.body.nodes[r].needsRefresh();(e.hidden!==void 0||e.physics!==void 0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.nodes;if(q9("id",e))this.body.data.nodes=e;else if(Et(e))this.body.data.nodes=new tu,this.body.data.nodes.add(e);else if(!e)this.body.data.nodes=new tu;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.nodesListeners,function(i,s){n.off(s,i)}),this.body.nodes={},this.body.data.nodes){const i=this;Re(this.nodesListeners,function(a,o){i.body.data.nodes.on(o,a)});const s=this.body.data.nodes.getIds();this.add(s,!0)}r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,n;const i=[];for(let s=0;s<e.length;s++){n=e[s];const a=this.body.data.nodes.get(n),o=this.create(a);i.push(o),this.body.nodes[n]=o}this.layoutEngine.positionInitially(i),r===!1&&this.body.emitter.emit("_dataChanged")}update(e,r,n){const i=this.body.nodes;let s=!1;for(let a=0;a<e.length;a++){const o=e[a];let l=i[o];const u=r[a];l!==void 0?l.setOptions(u)&&(s=!0):(s=!0,l=this.create(u),i[o]=l)}!s&&n!==void 0&&(s=Mme(r).call(r,function(a,o){const l=n[o];return l&&l.level!==a.level})),s===!0?this.body.emitter.emit("_dataChanged"):this.body.emitter.emit("_dataUpdated")}remove(e){const r=this.body.nodes;for(let n=0;n<e.length;n++){const i=e[n];delete r[i]}this.body.emitter.emit("_dataChanged")}create(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:ot;return new r(e,this.body,this.images,this.groups,this.options,this.defaultOptions)}refresh(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;Re(this.body.nodes,(r,n)=>{const i=this.body.data.nodes.get(n);i!==void 0&&(e===!0&&r.setOptions({x:null,y:null}),r.setOptions({fixed:!1}),r.setOptions(i))})}getPositions(e){const r={};if(e!==void 0){if(Et(e)===!0){for(let n=0;n<e.length;n++)if(this.body.nodes[e[n]]!==void 0){const i=this.body.nodes[e[n]];r[e[n]]={x:Math.round(i.x),y:Math.round(i.y)}}}else if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];r[e]={x:Math.round(n.x),y:Math.round(n.y)}}}else for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];r[this.body.nodeIndices[n]]={x:Math.round(i.x),y:Math.round(i.y)}}return r}getPosition(e){if(e==null)throw new TypeError("No id was specified for getPosition method.");if(this.body.nodes[e]==null)throw new ReferenceError("NodeId provided for getPosition does not exist. Provided: ".concat(e));return{x:Math.round(this.body.nodes[e].x),y:Math.round(this.body.nodes[e].y)}}storePositions(){const e=[],r=this.body.data.nodes.getDataSet();for(const n of r.get()){const i=n.id,s=this.body.nodes[i],a=Math.round(s.x),o=Math.round(s.y);(n.x!==a||n.y!==o)&&e.push({id:i,x:a,y:o})}r.update(e)}getBoundingBox(e){if(this.body.nodes[e]!==void 0)return this.body.nodes[e].shape.boundingBox}getConnectedNodes(e,r){const n=[];if(this.body.nodes[e]!==void 0){const i=this.body.nodes[e],s={};for(let a=0;a<i.edges.length;a++){const o=i.edges[a];r!=="to"&&o.toId==i.id?s[o.fromId]===void 0&&(n.push(o.fromId),s[o.fromId]=!0):r!=="from"&&o.fromId==i.id&&s[o.toId]===void 0&&(n.push(o.toId),s[o.toId]=!0)}}return n}getConnectedEdges(e){const r=[];if(this.body.nodes[e]!==void 0){const n=this.body.nodes[e];for(let i=0;i<n.edges.length;i++)r.push(n.edges[i].id)}else console.error("NodeId provided for getConnectedEdges does not exist. Provided: ",e);return r}moveNode(e,r,n){this.body.nodes[e]!==void 0?(this.body.nodes[e].x=Number(r),this.body.nodes[e].y=Number(n),Wi(()=>{this.body.emitter.emit("startSimulation")},0)):console.error("Node id supplied to moveNode does not exist. Provided: ",e)}}var WU={},HU;function Nge(){if(HU)return WU;HU=1;var t=ge(),e=Math.hypot,r=Math.abs,n=Math.sqrt,i=!!e&&e(1/0,NaN)!==1/0;return t({target:"Math",stat:!0,arity:2,forced:i},{hypot:function(a,o){for(var l=0,u=0,d=arguments.length,h=0,f,p;u<d;)f=r(arguments[u++]),h<f?(p=h/f,l=l*p*p+1,h=f):f>0?(p=f/h,l+=p*p):l+=f;return h===1/0?1/0:h*n(l)}}),WU}var bE,VU;function Ige(){if(VU)return bE;VU=1,Nge();var t=Ve();return bE=t.Math.hypot,bE}var wE,KU;function Rge(){if(KU)return wE;KU=1;var t=Ige();return wE=t,wE}var xE,GU;function jge(){return GU||(GU=1,xE=Rge()),xE}var $ge=jge(),kge=Ee($ge);class Pt{static transform(e,r){Et(e)||(e=[e]);const n=r.point.x,i=r.point.y,s=r.angle,a=r.length;for(let o=0;o<e.length;++o){const l=e[o],u=l.x*Math.cos(s)-l.y*Math.sin(s),d=l.x*Math.sin(s)+l.y*Math.cos(s);l.x=n+a*u,l.y=i+a*d}}static drawPath(e,r){e.beginPath(),e.moveTo(r[0].x,r[0].y);for(let n=1;n<r.length;++n)e.lineTo(r[n].x,r[n].y);e.closePath()}}let Dge=class extends Pt{static draw(e,r){if(r.image){e.save(),e.translate(r.point.x,r.point.y),e.rotate(Math.PI/2+r.angle);const n=r.imageWidth!=null?r.imageWidth:r.image.width,i=r.imageHeight!=null?r.imageHeight:r.image.height;r.image.drawImageAtPosition(e,1,-n/2,0,n,i),e.restore()}return!1}};class qge extends Pt{static draw(e,r){const n=[{x:0,y:0},{x:-1,y:.3},{x:-.9,y:0},{x:-1,y:-.3}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class Mge{static draw(e,r){const n=[{x:-1,y:0},{x:0,y:.3},{x:-.4,y:0},{x:0,y:-.3}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class Age{static draw(e,r){const n={x:-.4,y:0};Pt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle-i/2,a=r.angle+i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Fge{static draw(e,r){const n={x:-.3,y:0};Pt.transform(n,r),e.strokeStyle=e.fillStyle,e.fillStyle="rgba(0, 0, 0, 0)";const i=Math.PI,s=r.angle+i/2,a=r.angle+3*i/2;return e.beginPath(),e.arc(n.x,n.y,r.length*.4,s,a,!1),e.stroke(),!0}}class Lge{static draw(e,r){const n=[{x:.02,y:0},{x:-1,y:.3},{x:-1,y:-.3}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class Bge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-1,y:0}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class zge{static draw(e,r){const n={x:-.4,y:0};return Pt.transform(n,r),rN(e,n.x,n.y,r.length*.4),!0}}class Uge{static draw(e,r){const n=[{x:0,y:.5},{x:0,y:-.5},{x:-.15,y:-.5},{x:-.15,y:.5}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class Wge{static draw(e,r){const n=[{x:0,y:.3},{x:0,y:-.3},{x:-.6,y:-.3},{x:-.6,y:.3}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class Hge{static draw(e,r){const n=[{x:0,y:0},{x:-.5,y:-.3},{x:-1,y:0},{x:-.5,y:.3}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class Vge{static draw(e,r){const n=[{x:-1,y:.3},{x:-.5,y:0},{x:-1,y:-.3},{x:0,y:0}];return Pt.transform(n,r),Pt.drawPath(e,n),!0}}class aY{static draw(e,r){let n;switch(r.type&&(n=r.type.toLowerCase()),n){case"image":return Dge.draw(e,r);case"circle":return zge.draw(e,r);case"box":return Wge.draw(e,r);case"crow":return Mge.draw(e,r);case"curve":return Age.draw(e,r);case"diamond":return Hge.draw(e,r);case"inv_curve":return Fge.draw(e,r);case"triangle":return Lge.draw(e,r);case"inv_triangle":return Bge.draw(e,r);case"bar":return Uge.draw(e,r);case"vee":return Vge.draw(e,r);case"arrow":default:return qge.draw(e,r)}}}function YU(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Wr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function QU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ye(r=YU(Object(i),!0)).call(r,function(s){Mi(t,s,i[s])}):sa?cm(t,sa(i)):Ye(n=YU(Object(i))).call(n,function(s){dm(t,s,ma(i,s))})}return t}class oY{constructor(e,r,n){Mi(this,"color",{}),Mi(this,"colorDirty",!0),Mi(this,"hoverWidth",1.5),Mi(this,"selectionWidth",2),this._body=r,this._labelModule=n,this.setOptions(e),this.fromPoint=this.from,this.toPoint=this.to}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to]}cleanup(){return!1}setOptions(e){this.options=e,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.id=this.options.id}drawLine(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:this.getViaNode();e.strokeStyle=this.getColor(e,r),e.lineWidth=r.width,r.dashes!==!1?this._drawDashedLine(e,r,s):this._drawLine(e,r,s)}_drawLine(e,r,n,i,s){if(this.from!=this.to)this._line(e,r,n,i,s);else{const[a,o,l]=this._getCircleData(e);this._circle(e,r,a,o,l)}}_drawDashedLine(e,r,n,i,s){e.lineCap="round";const a=Et(r.dashes)?r.dashes:[5,5];if(e.setLineDash!==void 0){if(e.save(),e.setLineDash(a),e.lineDashOffset=0,this.from!=this.to)this._line(e,r,n);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}e.setLineDash([0]),e.lineDashOffset=0,e.restore()}else{if(this.from!=this.to)V9(e,this.from.x,this.from.y,this.to.x,this.to.y,a);else{const[o,l,u]=this._getCircleData(e);this._circle(e,r,o,l,u)}this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}}findBorderPosition(e,r,n){return this.from!=this.to?this._findBorderPosition(e,r,n):this._findBorderPositionCircle(e,r,n)}findBorderPositions(e){if(this.from!=this.to)return{from:this._findBorderPosition(this.from,e),to:this._findBorderPosition(this.to,e)};{var r;const[n,i]=pi(r=this._getCircleData(e)).call(r,0,2);return{from:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.25,high:.6,direction:-1}),to:this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:.6,high:.8,direction:1})}}}_getCircleData(e){const r=this.options.selfReference.size;e!==void 0&&this.from.shape.width===void 0&&this.from.shape.resize(e);const n=iY(e,this.options.selfReference.angle,r,this.from);return[n.x,n.y,r]}_pointOnCircle(e,r,n,i){const s=i*2*Math.PI;return{x:e+n*Math.cos(s),y:r-n*Math.sin(s)}}_findBorderPositionCircle(e,r,n){const i=n.x,s=n.y;let a=n.low,o=n.high;const l=n.direction,u=10,d=this.options.selfReference.size,h=.05;let f,p=(a+o)*.5,m=0;this.options.arrowStrikethrough===!0&&(l===-1?m=this.options.endPointOffset.from:l===1&&(m=this.options.endPointOffset.to));let y=0;do{p=(a+o)*.5,f=this._pointOnCircle(i,s,d,p);const b=Math.atan2(e.y-f.y,e.x-f.x),g=e.distanceToBorder(r,b)+m,v=Math.sqrt(Math.pow(f.x-e.x,2)+Math.pow(f.y-e.y,2)),x=g-v;if(Math.abs(x)<h)break;x>0?l>0?a=p:o=p:l>0?o=p:a=p,++y}while(a<=o&&y<u);return QU(QU({},f),{},{t:p})}getLineWidth(e,r){return e===!0?Math.max(this.selectionWidth,.3/this._body.view.scale):r===!0?Math.max(this.hoverWidth,.3/this._body.view.scale):Math.max(this.options.width,.3/this._body.view.scale)}getColor(e,r){if(r.inheritsColor!==!1){if(r.inheritsColor==="both"&&this.from.id!==this.to.id){const n=e.createLinearGradient(this.from.x,this.from.y,this.to.x,this.to.y);let i=this.from.options.color.highlight.border,s=this.to.options.color.highlight.border;return this.from.selected===!1&&this.to.selected===!1?(i=On(this.from.options.color.border,r.opacity),s=On(this.to.options.color.border,r.opacity)):this.from.selected===!0&&this.to.selected===!1?s=this.to.options.color.border:this.from.selected===!1&&this.to.selected===!0&&(i=this.from.options.color.border),n.addColorStop(0,i),n.addColorStop(1,s),n}return r.inheritsColor==="to"?On(this.to.options.color.border,r.opacity):On(this.from.options.color.border,r.opacity)}else return On(r.color,r.opacity)}_circle(e,r,n,i,s){this.enableShadow(e,r);let a=0,o=Math.PI*2;if(!this.options.selfReference.renderBehindTheNode){const l=this.options.selfReference.angle,u=this.options.selfReference.angle+Math.PI,d=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:-1}),h=this._findBorderPositionCircle(this.from,e,{x:n,y:i,low:l,high:u,direction:1});a=Math.atan2(d.y-i,d.x-n),o=Math.atan2(h.y-i,h.x-n)}e.beginPath(),e.arc(n,i,s,a,o,!1),e.stroke(),this.disableShadow(e,r)}getDistanceToEdge(e,r,n,i,s,a){if(this.from!=this.to)return this._getDistanceToEdge(e,r,n,i,s,a);{const[o,l,u]=this._getCircleData(void 0),d=o-s,h=l-a;return Math.abs(Math.sqrt(d*d+h*h)-u)}}_getDistanceToLine(e,r,n,i,s,a){const o=n-e,l=i-r,u=o*o+l*l;let d=((s-e)*o+(a-r)*l)/u;d>1?d=1:d<0&&(d=0);const h=e+d*o,f=r+d*l,p=h-s,m=f-a;return Math.sqrt(p*p+m*m)}getArrowData(e,r,n,i,s,a){let o,l,u,d,h,f,p;const m=a.width;r==="from"?(u=this.from,d=this.to,h=a.fromArrowScale<0,f=Math.abs(a.fromArrowScale),p=a.fromArrowType):r==="to"?(u=this.to,d=this.from,h=a.toArrowScale<0,f=Math.abs(a.toArrowScale),p=a.toArrowType):(u=this.to,d=this.from,h=a.middleArrowScale<0,f=Math.abs(a.middleArrowScale),p=a.middleArrowType);const y=15*f+3*m;if(u!=d){const x=kge(u.x-d.x,u.y-d.y),w=y/x;if(r!=="middle")if(this.options.smooth.enabled===!0){const _=this._findBorderPosition(u,e,{via:n}),E=this.getPoint(_.t+w*(r==="from"?1:-1),n);o=Math.atan2(_.y-E.y,_.x-E.x),l=_}else o=Math.atan2(u.y-d.y,u.x-d.x),l=this._findBorderPosition(u,e);else{const _=(h?-w:w)/2,E=this.getPoint(.5+_,n),O=this.getPoint(.5-_,n);o=Math.atan2(E.y-O.y,E.x-O.x),l=this.getPoint(.5,n)}}else{const[x,w,_]=this._getCircleData(e);if(r==="from"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:-1});o=S.t*-2*Math.PI+1.5*Math.PI+.1*Math.PI,l=S}else if(r==="to"){const E=this.options.selfReference.angle,O=this.options.selfReference.angle+Math.PI,S=this._findBorderPositionCircle(this.from,e,{x,y:w,low:E,high:O,direction:1});o=S.t*-2*Math.PI+1.5*Math.PI-1.1*Math.PI,l=S}else{const E=this.options.selfReference.angle/(2*Math.PI);l=this._pointOnCircle(x,w,_,E),o=E*-2*Math.PI+1.5*Math.PI+.1*Math.PI}}const b=l.x-y*.9*Math.cos(o),g=l.y-y*.9*Math.sin(o);return{point:l,core:{x:b,y:g},angle:o,length:y,type:p}}drawArrowHead(e,r,n,i,s){e.strokeStyle=this.getColor(e,r),e.fillStyle=e.strokeStyle,e.lineWidth=r.width,aY.draw(e,s)&&(this.enableShadow(e,r),nh(e).call(e),this.disableShadow(e,r))}enableShadow(e,r){r.shadow===!0&&(e.shadowColor=r.shadowColor,e.shadowBlur=r.shadowSize,e.shadowOffsetX=r.shadowX,e.shadowOffsetY=r.shadowY)}disableShadow(e,r){r.shadow===!0&&(e.shadowColor="rgba(0,0,0,0)",e.shadowBlur=0,e.shadowOffsetX=0,e.shadowOffsetY=0)}drawBackground(e,r){if(r.background!==!1){const n={strokeStyle:e.strokeStyle,lineWidth:e.lineWidth,dashes:e.dashes};e.strokeStyle=r.backgroundColor,e.lineWidth=r.backgroundSize,this.setStrokeDashed(e,r.backgroundDashes),e.stroke(),e.strokeStyle=n.strokeStyle,e.lineWidth=n.lineWidth,e.dashes=n.dashes,this.setStrokeDashed(e,r.dashes)}}setStrokeDashed(e,r){if(r!==!1)if(e.setLineDash!==void 0){const n=Et(r)?r:[5,5];e.setLineDash(n)}else console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.");else e.setLineDash!==void 0?e.setLineDash([]):console.warn("setLineDash is not supported in this browser. The dashed stroke cannot be used.")}}function XU(t,e){var r=xt(t);if(ia){var n=ia(t);e&&(n=Wr(n).call(n,function(i){return ma(t,i).enumerable})),r.push.apply(r,n)}return r}function JU(t){for(var e=1;e<arguments.length;e++){var r,n,i=arguments[e]!=null?arguments[e]:{};e%2?Ye(r=XU(Object(i),!0)).call(r,function(s){Mi(t,s,i[s])}):sa?cm(t,sa(i)):Ye(n=XU(Object(i))).call(n,function(s){dm(t,s,ma(i,s))})}return t}class IN extends oY{constructor(e,r,n){super(e,r,n)}_findBorderPositionBezier(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:this._getViaCoordinates();const i=10,s=.2;let a=!1,o=1,l=0,u=this.to,d,h,f=this.options.endPointOffset?this.options.endPointOffset.to:0;e.id===this.from.id&&(u=this.from,a=!0,f=this.options.endPointOffset?this.options.endPointOffset.from:0),this.options.arrowStrikethrough===!1&&(f=0);let p=0;do{h=(l+o)*.5,d=this.getPoint(h,n);const m=Math.atan2(u.y-d.y,u.x-d.x),y=u.distanceToBorder(r,m)+f,b=Math.sqrt(Math.pow(d.x-u.x,2)+Math.pow(d.y-u.y,2)),g=y-b;if(Math.abs(g)<s)break;g<0?a===!1?l=h:o=h:a===!1?o=h:l=h,++p}while(l<=o&&p<i);return JU(JU({},d),{},{t:h})}_getDistanceToBezierEdge(e,r,n,i,s,a,o){let l=1e9,u,d,h,f,p,m=e,y=r;for(d=1;d<10;d++)h=.1*d,f=Math.pow(1-h,2)*e+2*h*(1-h)*o.x+Math.pow(h,2)*n,p=Math.pow(1-h,2)*r+2*h*(1-h)*o.y+Math.pow(h,2)*i,d>0&&(u=this._getDistanceToLine(m,y,f,p,s,a),l=u<l?u:l),m=f,y=p;return l}_bezierCurve(e,r,n,i){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),n!=null&&n.x!=null?i!=null&&i.x!=null?e.bezierCurveTo(n.x,n.y,i.x,i.y,this.toPoint.x,this.toPoint.y):e.quadraticCurveTo(n.x,n.y,this.toPoint.x,this.toPoint.y):e.lineTo(this.toPoint.x,this.toPoint.y),this.drawBackground(e,r),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){return this._getViaCoordinates()}}class ZU extends IN{constructor(e,r,n){super(e,r,n),Mi(this,"via",this.via),this._boundFunction=()=>{this.positionBezierNode()},this._body.emitter.on("_repositionBezierNodes",this._boundFunction)}setOptions(e){super.setOptions(e);let r=!1;this.options.physics!==e.physics&&(r=!0),this.options=e,this.id=this.options.id,this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.setupSupportNode(),this.connect(),r===!0&&(this.via.setOptions({physics:this.options.physics}),this.positionBezierNode())}connect(){this.from=this._body.nodes[this.options.from],this.to=this._body.nodes[this.options.to],this.from===void 0||this.to===void 0||this.options.physics===!1?this.via.setOptions({physics:!1}):this.from.id===this.to.id?this.via.setOptions({physics:!1}):this.via.setOptions({physics:!0})}cleanup(){return this._body.emitter.off("_repositionBezierNodes",this._boundFunction),this.via!==void 0?(delete this._body.nodes[this.via.id],this.via=void 0,!0):!1}setupSupportNode(){if(this.via===void 0){const e="edgeId:"+this.id,r=this._body.functions.createNode({id:e,shape:"circle",physics:!0,hidden:!0});this._body.nodes[e]=r,this.via=r,this.via.parentEdgeId=this.id,this.positionBezierNode()}}positionBezierNode(){this.via!==void 0&&this.from!==void 0&&this.to!==void 0?(this.via.x=.5*(this.from.x+this.to.x),this.via.y=.5*(this.from.y+this.to.y)):this.via!==void 0&&(this.via.x=0,this.via.y=0)}_line(e,r,n){this._bezierCurve(e,r,n)}_getViaCoordinates(){return this.via}getViaNode(){return this.via}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.via;if(this.from===this.to){const[n,i,s]=this._getCircleData(),a=2*Math.PI*(1-e);return{x:n+s*Math.sin(a),y:i+s-s*(1-Math.cos(a))}}else return{x:Math.pow(1-e,2)*this.fromPoint.x+2*e*(1-e)*r.x+Math.pow(e,2)*this.toPoint.x,y:Math.pow(1-e,2)*this.fromPoint.y+2*e*(1-e)*r.y+Math.pow(e,2)*this.toPoint.y}}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r,this.via)}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToBezierEdge(e,r,n,i,s,a,this.via)}}class eW extends IN{constructor(e,r,n){super(e,r,n)}_line(e,r,n){this._bezierCurve(e,r,n)}getViaNode(){return this._getViaCoordinates()}_getViaCoordinates(){const e=this.options.smooth.roundness,r=this.options.smooth.type;let n=Math.abs(this.from.x-this.to.x),i=Math.abs(this.from.y-this.to.y);if(r==="discrete"||r==="diagonalCross"){let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return r==="discrete"&&(n<=i?o=n<e*i?this.from.x:o:l=i<e*n?this.from.y:l),{x:o,y:l}}else if(r==="straightCross"){let s=(1-e)*n,a=(1-e)*i;return n<=i?(s=0,this.from.y<this.to.y&&(a=-a)):(this.from.x<this.to.x&&(s=-s),a=0),{x:this.to.x+s,y:this.to.y+a}}else if(r==="horizontal"){let s=(1-e)*n;return this.from.x<this.to.x&&(s=-s),{x:this.to.x+s,y:this.from.y}}else if(r==="vertical"){let s=(1-e)*i;return this.from.y<this.to.y&&(s=-s),{x:this.from.x,y:this.to.y+s}}else if(r==="curvedCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else if(r==="curvedCCW"){n=this.to.x-this.from.x,i=this.from.y-this.to.y;const s=Math.sqrt(n*n+i*i),a=Math.PI,l=(Math.atan2(i,n)+(-e*.5+.5)*a)%(2*a);return{x:this.from.x+(e*.5+.5)*s*Math.sin(l),y:this.from.y+(e*.5+.5)*s*Math.cos(l)}}else{let s,a;n<=i?s=a=e*i:s=a=e*n,this.from.x>this.to.x&&(s=-s),this.from.y>=this.to.y&&(a=-a);let o=this.from.x+s,l=this.from.y+a;return n<=i?this.from.x<=this.to.x?o=this.to.x<o?this.to.x:o:o=this.to.x>o?this.to.x:o:this.from.y>=this.to.y?l=this.to.y>l?this.to.y:l:l=this.to.y<l?this.to.y:l,{x:o,y:l}}}_findBorderPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:{};return this._findBorderPositionBezier(e,r,n.via)}_getDistanceToEdge(e,r,n,i,s,a){let o=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge(e,r,n,i,s,a,o)}getPoint(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const n=e,i=Math.pow(1-n,2)*this.fromPoint.x+2*n*(1-n)*r.x+Math.pow(n,2)*this.toPoint.x,s=Math.pow(1-n,2)*this.fromPoint.y+2*n*(1-n)*r.y+Math.pow(n,2)*this.toPoint.y;return{x:i,y:s}}}class Kge extends IN{constructor(e,r,n){super(e,r,n)}_getDistanceToBezierEdge2(e,r,n,i,s,a,o,l){let u=1e9,d=e,h=r;const f=[0,0,0,0];for(let p=1;p<10;p++){const m=.1*p;f[0]=Math.pow(1-m,3),f[1]=3*m*Math.pow(1-m,2),f[2]=3*Math.pow(m,2)*(1-m),f[3]=Math.pow(m,3);const y=f[0]*e+f[1]*o.x+f[2]*l.x+f[3]*n,b=f[0]*r+f[1]*o.y+f[2]*l.y+f[3]*i;if(p>0){const g=this._getDistanceToLine(d,h,y,b,s,a);u=g<u?g:u}d=y,h=b}return u}}class tW extends Kge{constructor(e,r,n){super(e,r,n)}_line(e,r,n){const i=n[0],s=n[1];this._bezierCurve(e,r,i,s)}_getViaCoordinates(){const e=this.from.x-this.to.x,r=this.from.y-this.to.y;let n,i,s,a;const o=this.options.smooth.roundness;return(Math.abs(e)>Math.abs(r)||this.options.smooth.forceDirection===!0||this.options.smooth.forceDirection==="horizontal")&&this.options.smooth.forceDirection!=="vertical"?(i=this.from.y,a=this.to.y,n=this.from.x-o*e,s=this.to.x+o*e):(i=this.from.y-o*r,a=this.to.y+o*r,n=this.from.x,s=this.to.x),[{x:n,y:i},{x:s,y:a}]}getViaNode(){return this._getViaCoordinates()}_findBorderPosition(e,r){return this._findBorderPositionBezier(e,r)}_getDistanceToEdge(e,r,n,i,s,a){let[o,l]=arguments.length>6&&arguments[6]!==void 0?arguments[6]:this._getViaCoordinates();return this._getDistanceToBezierEdge2(e,r,n,i,s,a,o,l)}getPoint(e){let[r,n]=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this._getViaCoordinates();const i=e,s=[Math.pow(1-i,3),3*i*Math.pow(1-i,2),3*Math.pow(i,2)*(1-i),Math.pow(i,3)],a=s[0]*this.fromPoint.x+s[1]*r.x+s[2]*n.x+s[3]*this.toPoint.x,o=s[0]*this.fromPoint.y+s[1]*r.y+s[2]*n.y+s[3]*this.toPoint.y;return{x:a,y:o}}}class rW extends oY{constructor(e,r,n){super(e,r,n)}_line(e,r){e.beginPath(),e.moveTo(this.fromPoint.x,this.fromPoint.y),e.lineTo(this.toPoint.x,this.toPoint.y),this.enableShadow(e,r),e.stroke(),this.disableShadow(e,r)}getViaNode(){}getPoint(e){return{x:(1-e)*this.fromPoint.x+e*this.toPoint.x,y:(1-e)*this.fromPoint.y+e*this.toPoint.y}}_findBorderPosition(e,r){let n=this.to,i=this.from;e.id===this.from.id&&(n=this.from,i=this.to);const s=Math.atan2(n.y-i.y,n.x-i.x),a=n.x-i.x,o=n.y-i.y,l=Math.sqrt(a*a+o*o),u=e.distanceToBorder(r,s),d=(l-u)/l;return{x:(1-d)*i.x+d*n.x,y:(1-d)*i.y+d*n.y,t:0}}_getDistanceToEdge(e,r,n,i,s,a){return this._getDistanceToLine(e,r,n,i,s,a)}}class Js{constructor(e,r,n,i,s){if(r===void 0)throw new Error("No body provided");this.options=Xs(i),this.globalOptions=i,this.defaultOptions=s,this.body=r,this.imagelist=n,this.id=void 0,this.fromId=void 0,this.toId=void 0,this.selected=!1,this.hover=!1,this.labelDirty=!0,this.baseWidth=this.options.width,this.baseFontSize=this.options.font.size,this.from=void 0,this.to=void 0,this.edgeType=void 0,this.connected=!1,this.labelModule=new xl(this.body,this.options,!0),this.setOptions(e)}setOptions(e){if(!e)return;let r=typeof e.physics<"u"&&this.options.physics!==e.physics||typeof e.hidden<"u"&&(this.options.hidden||!1)!==(e.hidden||!1)||typeof e.from<"u"&&this.options.from!==e.from||typeof e.to<"u"&&this.options.to!==e.to;Js.parseOptions(this.options,e,!0,this.globalOptions),e.id!==void 0&&(this.id=e.id),e.from!==void 0&&(this.fromId=e.from),e.to!==void 0&&(this.toId=e.to),e.title!==void 0&&(this.title=e.title),e.value!==void 0&&(e.value=nY(e.value));const n=[e,this.options,this.defaultOptions];return this.chooser=TN("edge",n),this.updateLabelModule(e),r=this.updateEdgeType()||r,this._setInteractionWidths(),this.connect(),r}static parseOptions(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1,i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;if(zu(["endPointOffset","arrowStrikethrough","id","from","hidden","hoverWidth","labelHighlightBold","length","line","opacity","physics","scaling","selectionWidth","selfReferenceSize","selfReference","to","title","value","width","font","chosen","widthConstraint"],e,r,n),r.endPointOffset!==void 0&&r.endPointOffset.from!==void 0&&(ja(r.endPointOffset.from)?e.endPointOffset.from=r.endPointOffset.from:(e.endPointOffset.from=i.endPointOffset.from!==void 0?i.endPointOffset.from:0,console.error("endPointOffset.from is not a valid number"))),r.endPointOffset!==void 0&&r.endPointOffset.to!==void 0&&(ja(r.endPointOffset.to)?e.endPointOffset.to=r.endPointOffset.to:(e.endPointOffset.to=i.endPointOffset.to!==void 0?i.endPointOffset.to:0,console.error("endPointOffset.to is not a valid number"))),rp(r.label)?e.label=r.label:rp(e.label)||(e.label=void 0),_n(e,r,"smooth",i),_n(e,r,"shadow",i),_n(e,r,"background",i),r.dashes!==void 0&&r.dashes!==null?e.dashes=r.dashes:n===!0&&r.dashes===null&&(e.dashes=Ya(i.dashes)),r.scaling!==void 0&&r.scaling!==null?(r.scaling.min!==void 0&&(e.scaling.min=r.scaling.min),r.scaling.max!==void 0&&(e.scaling.max=r.scaling.max),_n(e.scaling,r.scaling,"label",i.scaling)):n===!0&&r.scaling===null&&(e.scaling=Ya(i.scaling)),r.arrows!==void 0&&r.arrows!==null)if(typeof r.arrows=="string"){const o=r.arrows.toLowerCase();e.arrows.to.enabled=Ue(o).call(o,"to")!=-1,e.arrows.middle.enabled=Ue(o).call(o,"middle")!=-1,e.arrows.from.enabled=Ue(o).call(o,"from")!=-1}else if(typeof r.arrows=="object")_n(e.arrows,r.arrows,"to",i.arrows),_n(e.arrows,r.arrows,"middle",i.arrows),_n(e.arrows,r.arrows,"from",i.arrows);else throw new Error("The arrow newOptions can only be an object or a string. Refer to the documentation. You used:"+rh(r.arrows));else n===!0&&r.arrows===null&&(e.arrows=Ya(i.arrows));if(r.color!==void 0&&r.color!==null){const o=bl(r.color)?{color:r.color,highlight:r.color,hover:r.color,inherit:!1,opacity:1}:r.color,l=e.color;if(s)et(l,i.color,!1,n);else for(const u in l)Object.prototype.hasOwnProperty.call(l,u)&&delete l[u];if(bl(l))l.color=l,l.highlight=l,l.hover=l,l.inherit=!1,o.opacity===void 0&&(l.opacity=1);else{let u=!1;o.color!==void 0&&(l.color=o.color,u=!0),o.highlight!==void 0&&(l.highlight=o.highlight,u=!0),o.hover!==void 0&&(l.hover=o.hover,u=!0),o.inherit!==void 0&&(l.inherit=o.inherit),o.opacity!==void 0&&(l.opacity=Math.min(1,Math.max(0,o.opacity))),u===!0?l.inherit=!1:l.inherit===void 0&&(l.inherit="from")}}else n===!0&&r.color===null&&(e.color=Xs(i.color));n===!0&&r.font===null&&(e.font=Xs(i.font)),Object.prototype.hasOwnProperty.call(r,"selfReferenceSize")&&(console.warn("The selfReferenceSize property has been deprecated. Please use selfReference property instead. The selfReference can be set like thise selfReference:{size:30, angle:Math.PI / 4}"),e.selfReference.size=r.selfReferenceSize)}getFormattingValues(){const e=this.options.arrows.to===!0||this.options.arrows.to.enabled===!0,r=this.options.arrows.from===!0||this.options.arrows.from.enabled===!0,n=this.options.arrows.middle===!0||this.options.arrows.middle.enabled===!0,i=this.options.color.inherit,s={toArrow:e,toArrowScale:this.options.arrows.to.scaleFactor,toArrowType:this.options.arrows.to.type,toArrowSrc:this.options.arrows.to.src,toArrowImageWidth:this.options.arrows.to.imageWidth,toArrowImageHeight:this.options.arrows.to.imageHeight,middleArrow:n,middleArrowScale:this.options.arrows.middle.scaleFactor,middleArrowType:this.options.arrows.middle.type,middleArrowSrc:this.options.arrows.middle.src,middleArrowImageWidth:this.options.arrows.middle.imageWidth,middleArrowImageHeight:this.options.arrows.middle.imageHeight,fromArrow:r,fromArrowScale:this.options.arrows.from.scaleFactor,fromArrowType:this.options.arrows.from.type,fromArrowSrc:this.options.arrows.from.src,fromArrowImageWidth:this.options.arrows.from.imageWidth,fromArrowImageHeight:this.options.arrows.from.imageHeight,arrowStrikethrough:this.options.arrowStrikethrough,color:i?void 0:this.options.color.color,inheritsColor:i,opacity:this.options.color.opacity,hidden:this.options.hidden,length:this.options.length,shadow:this.options.shadow.enabled,shadowColor:this.options.shadow.color,shadowSize:this.options.shadow.size,shadowX:this.options.shadow.x,shadowY:this.options.shadow.y,dashes:this.options.dashes,width:this.options.width,background:this.options.background.enabled,backgroundColor:this.options.background.color,backgroundSize:this.options.background.size,backgroundDashes:this.options.background.dashes};if(this.selected||this.hover)if(this.chooser===!0){if(this.selected){const a=this.options.selectionWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.highlight,s.shadow=this.options.shadow.enabled}else if(this.hover){const a=this.options.hoverWidth;typeof a=="function"?s.width=a(s.width):typeof a=="number"&&(s.width+=a),s.width=Math.max(s.width,.3/this.body.view.scale),s.color=this.options.color.hover,s.shadow=this.options.shadow.enabled}}else typeof this.chooser=="function"&&(this.chooser(s,this.options.id,this.selected,this.hover),s.color!==void 0&&(s.inheritsColor=!1),s.shadow===!1&&(s.shadowColor!==this.options.shadow.color||s.shadowSize!==this.options.shadow.size||s.shadowX!==this.options.shadow.x||s.shadowY!==this.options.shadow.y)&&(s.shadow=!0));else s.shadow=this.options.shadow.enabled,s.width=Math.max(s.width,.3/this.body.view.scale);return s}updateLabelModule(e){const r=[e,this.options,this.globalOptions,this.defaultOptions];this.labelModule.update(this.options,r),this.labelModule.baseSize!==void 0&&(this.baseFontSize=this.labelModule.baseSize)}updateEdgeType(){const e=this.options.smooth;let r=!1,n=!0;return this.edgeType!==void 0&&((this.edgeType instanceof ZU&&e.enabled===!0&&e.type==="dynamic"||this.edgeType instanceof tW&&e.enabled===!0&&e.type==="cubicBezier"||this.edgeType instanceof eW&&e.enabled===!0&&e.type!=="dynamic"&&e.type!=="cubicBezier"||this.edgeType instanceof rW&&e.type.enabled===!1)&&(n=!1),n===!0&&(r=this.cleanup())),n===!0?e.enabled===!0?e.type==="dynamic"?(r=!0,this.edgeType=new ZU(this.options,this.body,this.labelModule)):e.type==="cubicBezier"?this.edgeType=new tW(this.options,this.body,this.labelModule):this.edgeType=new eW(this.options,this.body,this.labelModule):this.edgeType=new rW(this.options,this.body,this.labelModule):this.edgeType.setOptions(this.options),r}connect(){this.disconnect(),this.from=this.body.nodes[this.fromId]||void 0,this.to=this.body.nodes[this.toId]||void 0,this.connected=this.from!==void 0&&this.to!==void 0,this.connected===!0?(this.from.attachEdge(this),this.to.attachEdge(this)):(this.from&&this.from.detachEdge(this),this.to&&this.to.detachEdge(this)),this.edgeType.connect()}disconnect(){this.from&&(this.from.detachEdge(this),this.from=void 0),this.to&&(this.to.detachEdge(this),this.to=void 0),this.connected=!1}getTitle(){return this.title}isSelected(){return this.selected}getValue(){return this.options.value}setValueRange(e,r,n){if(this.options.value!==void 0){const i=this.options.scaling.customScalingFunction(e,r,n,this.options.value),s=this.options.scaling.max-this.options.scaling.min;if(this.options.scaling.label.enabled===!0){const a=this.options.scaling.label.max-this.options.scaling.label.min;this.options.font.size=this.options.scaling.label.min+i*a}this.options.width=this.options.scaling.min+i*s}else this.options.width=this.baseWidth,this.options.font.size=this.baseFontSize;this._setInteractionWidths(),this.updateLabelModule()}_setInteractionWidths(){typeof this.options.hoverWidth=="function"?this.edgeType.hoverWidth=this.options.hoverWidth(this.options.width):this.edgeType.hoverWidth=this.options.hoverWidth+this.options.width,typeof this.options.selectionWidth=="function"?this.edgeType.selectionWidth=this.options.selectionWidth(this.options.width):this.edgeType.selectionWidth=this.options.selectionWidth+this.options.width}draw(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode();this.edgeType.drawLine(e,r,this.selected,this.hover,n),this.drawLabel(e,n)}drawArrows(e){const r=this.getFormattingValues();if(r.hidden)return;const n=this.edgeType.getViaNode(),i={};this.edgeType.fromPoint=this.edgeType.from,this.edgeType.toPoint=this.edgeType.to,r.fromArrow&&(i.from=this.edgeType.getArrowData(e,"from",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.fromPoint=i.from.core),r.fromArrowSrc&&(i.from.image=this.imagelist.load(r.fromArrowSrc)),r.fromArrowImageWidth&&(i.from.imageWidth=r.fromArrowImageWidth),r.fromArrowImageHeight&&(i.from.imageHeight=r.fromArrowImageHeight)),r.toArrow&&(i.to=this.edgeType.getArrowData(e,"to",n,this.selected,this.hover,r),r.arrowStrikethrough===!1&&(this.edgeType.toPoint=i.to.core),r.toArrowSrc&&(i.to.image=this.imagelist.load(r.toArrowSrc)),r.toArrowImageWidth&&(i.to.imageWidth=r.toArrowImageWidth),r.toArrowImageHeight&&(i.to.imageHeight=r.toArrowImageHeight)),r.middleArrow&&(i.middle=this.edgeType.getArrowData(e,"middle",n,this.selected,this.hover,r),r.middleArrowSrc&&(i.middle.image=this.imagelist.load(r.middleArrowSrc)),r.middleArrowImageWidth&&(i.middle.imageWidth=r.middleArrowImageWidth),r.middleArrowImageHeight&&(i.middle.imageHeight=r.middleArrowImageHeight)),r.fromArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.from),r.middleArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.middle),r.toArrow&&this.edgeType.drawArrowHead(e,r,this.selected,this.hover,i.to)}drawLabel(e,r){if(this.options.label!==void 0){const n=this.from,i=this.to;this.labelModule.differentState(this.selected,this.hover)&&this.labelModule.getTextSize(e,this.selected,this.hover);let s;if(n.id!=i.id){this.labelModule.pointToSelf=!1,s=this.edgeType.getPoint(.5,r),e.save();const a=this._getRotation(e);a.angle!=0&&(e.translate(a.x,a.y),e.rotate(a.angle)),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover),e.restore()}else{this.labelModule.pointToSelf=!0;const a=iY(e,this.options.selfReference.angle,this.options.selfReference.size,n);s=this._pointOnCircle(a.x,a.y,this.options.selfReference.size,this.options.selfReference.angle),this.labelModule.draw(e,s.x,s.y,this.selected,this.hover)}}}getItemsOnPoint(e){const r=[];if(this.labelModule.visible()){const i=this._getRotation();aC(this.labelModule.getSize(),e,i)&&r.push({edgeId:this.id,labelId:0})}const n={left:e.x,top:e.y};return this.isOverlappingWith(n)&&r.push({edgeId:this.id}),r}isOverlappingWith(e){if(this.connected){const n=this.from.x,i=this.from.y,s=this.to.x,a=this.to.y,o=e.left,l=e.top;return this.edgeType.getDistanceToEdge(n,i,s,a,o,l)<10}else return!1}_getRotation(e){const r=this.edgeType.getViaNode(),n=this.edgeType.getPoint(.5,r);e!==void 0&&this.labelModule.calculateLabelSize(e,this.selected,this.hover,n.x,n.y);const i={x:n.x,y:this.labelModule.size.yLine,angle:0};if(!this.labelModule.visible()||this.options.font.align==="horizontal")return i;const s=this.from.y-this.to.y,a=this.from.x-this.to.x;let o=Math.atan2(s,a);return(o<-1&&a<0||o>0&&a<0)&&(o+=Math.PI),i.angle=o,i}_pointOnCircle(e,r,n,i){return{x:e+n*Math.cos(i),y:r-n*Math.sin(i)}}select(){this.selected=!0}unselect(){this.selected=!1}cleanup(){return this.edgeType.cleanup()}remove(){this.cleanup(),this.disconnect(),delete this.body.edges[this.id]}endPointsValid(){return this.body.nodes[this.fromId]!==void 0&&this.body.nodes[this.toId]!==void 0}}class Gge{constructor(e,r,n){var i;this.body=e,this.images=r,this.groups=n,this.body.functions.createEdge=Z(i=this.create).call(i,this),this.edgesListeners={add:(s,a)=>{this.add(a.items)},update:(s,a)=>{this.update(a.items)},remove:(s,a)=>{this.remove(a.items)}},this.options={},this.defaultOptions={arrows:{to:{enabled:!1,scaleFactor:1,type:"arrow"},middle:{enabled:!1,scaleFactor:1,type:"arrow"},from:{enabled:!1,scaleFactor:1,type:"arrow"}},endPointOffset:{from:0,to:0},arrowStrikethrough:!0,color:{color:"#848484",highlight:"#848484",hover:"#848484",inherit:"from",opacity:1},dashes:!1,font:{color:"#343434",size:14,face:"arial",background:"none",strokeWidth:2,strokeColor:"#ffffff",align:"horizontal",multi:!1,vadjust:0,bold:{mod:"bold"},boldital:{mod:"bold italic"},ital:{mod:"italic"},mono:{mod:"",size:15,face:"courier new",vadjust:2}},hidden:!1,hoverWidth:1.5,label:void 0,labelHighlightBold:!0,length:void 0,physics:!0,scaling:{min:1,max:15,label:{enabled:!0,min:14,max:30,maxVisible:30,drawThreshold:5},customScalingFunction:function(s,a,o,l){if(a===s)return .5;{const u=1/(a-s);return Math.max(0,(l-s)*u)}}},selectionWidth:1.5,selfReference:{size:20,angle:Math.PI/4,renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:10,x:5,y:5},background:{enabled:!1,color:"rgba(111,111,111,1)",size:10,dashes:!1},smooth:{enabled:!0,type:"dynamic",forceDirection:"none",roundness:.5},title:void 0,width:1,value:void 0},et(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e=this,r,n;this.body.emitter.on("_forceDisableDynamicCurves",function(i){let s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;i==="dynamic"&&(i="continuous");let a=!1;for(const o in e.body.edges)if(Object.prototype.hasOwnProperty.call(e.body.edges,o)){const l=e.body.edges[o],u=e.body.data.edges.get(o);if(u!=null){const d=u.smooth;d!==void 0&&d.enabled===!0&&d.type==="dynamic"&&(i===void 0?l.setOptions({smooth:!1}):l.setOptions({smooth:{type:i}}),a=!0)}}s===!0&&a===!0&&e.body.emitter.emit("_dataChanged")}),this.body.emitter.on("_dataUpdated",()=>{this.reconnectEdges()}),this.body.emitter.on("refreshEdges",Z(r=this.refresh).call(r,this)),this.body.emitter.on("refresh",Z(n=this.refresh).call(n,this)),this.body.emitter.on("destroy",()=>{Re(this.edgesListeners,(i,s)=>{this.body.data.edges&&this.body.data.edges.off(s,i)}),delete this.body.functions.createEdge,delete this.edgesListeners.add,delete this.edgesListeners.update,delete this.edgesListeners.remove,delete this.edgesListeners})}setOptions(e){if(e!==void 0){Js.parseOptions(this.options,e,!0,this.defaultOptions,!0);let r=!1;if(e.smooth!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&(r=this.body.edges[n].updateEdgeType()||r);if(e.font!==void 0)for(const n in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,n)&&this.body.edges[n].updateLabelModule();(e.hidden!==void 0||e.physics!==void 0||r===!0)&&this.body.emitter.emit("_dataChanged")}}setData(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.data.edges;if(q9("id",e))this.body.data.edges=e;else if(Et(e))this.body.data.edges=new tu,this.body.data.edges.add(e);else if(!e)this.body.data.edges=new tu;else throw new TypeError("Array or DataSet expected");if(n&&Re(this.edgesListeners,(i,s)=>{n.off(s,i)}),this.body.edges={},this.body.data.edges){Re(this.edgesListeners,(s,a)=>{this.body.data.edges.on(a,s)});const i=this.body.data.edges.getIds();this.add(i,!0)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}add(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.edges,i=this.body.data.edges;for(let s=0;s<e.length;s++){const a=e[s],o=n[a];o&&o.disconnect();const l=i.get(a,{showInternalIds:!0});n[a]=this.create(l)}this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),r===!1&&this.body.emitter.emit("_dataChanged")}update(e){const r=this.body.edges,n=this.body.data.edges;let i=!1;for(let s=0;s<e.length;s++){const a=e[s],o=n.get(a),l=r[a];l!==void 0?(l.disconnect(),i=l.setOptions(o)||i,l.connect()):(this.body.edges[a]=this.create(o),i=!0)}i===!0?(this.body.emitter.emit("_adjustEdgesForHierarchicalLayout"),this.body.emitter.emit("_dataChanged")):this.body.emitter.emit("_dataUpdated")}remove(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.length===0)return;const n=this.body.edges;Re(e,i=>{const s=n[i];s!==void 0&&s.remove()}),r&&this.body.emitter.emit("_dataChanged")}refresh(){Re(this.body.edges,(e,r)=>{const n=this.body.data.edges.get(r);n!==void 0&&e.setOptions(n)})}create(e){return new Js(e,this.body,this.images,this.options,this.defaultOptions)}reconnectEdges(){let e;const r=this.body.nodes,n=this.body.edges;for(e in r)Object.prototype.hasOwnProperty.call(r,e)&&(r[e].edges=[]);for(e in n)if(Object.prototype.hasOwnProperty.call(n,e)){const i=n[e];i.from=null,i.to=null,i.connect()}}getConnectedNodes(e){const r=[];if(this.body.edges[e]!==void 0){const n=this.body.edges[e];n.fromId!==void 0&&r.push(n.fromId),n.toId!==void 0&&r.push(n.toId)}return r}_updateState(){this._addMissingEdges(),this._removeInvalidEdges()}_removeInvalidEdges(){const e=[];Re(this.body.edges,(r,n)=>{const i=this.body.nodes[r.toId],s=this.body.nodes[r.fromId];i!==void 0&&i.isCluster===!0||s!==void 0&&s.isCluster===!0||(i===void 0||s===void 0)&&e.push(n)}),this.remove(e,!1)}_addMissingEdges(){const e=this.body.data.edges;if(e==null)return;const r=this.body.edges,n=[];Ye(e).call(e,(i,s)=>{r[s]===void 0&&n.push(s)}),this.add(n,!0)}}class lY{constructor(e,r,n){this.body=e,this.physicsBody=r,this.barnesHutTree,this.setOptions(n),this._rng=om("BARNES HUT SOLVER")}setOptions(e){this.options=e,this.thetaInversed=1/this.options.theta,this.overlapAvoidanceFactor=1-Math.max(0,Math.min(1,this.options.avoidOverlap))}solve(){if(this.options.gravitationalConstant!==0&&this.physicsBody.physicsNodeIndices.length>0){let e;const r=this.body.nodes,n=this.physicsBody.physicsNodeIndices,i=n.length,s=this._formBarnesHutTree(r,n);this.barnesHutTree=s;for(let a=0;a<i;a++)e=r[n[a]],e.options.mass>0&&this._getForceContributions(s.root,e)}}_getForceContributions(e,r){this._getForceContribution(e.children.NW,r),this._getForceContribution(e.children.NE,r),this._getForceContribution(e.children.SW,r),this._getForceContribution(e.children.SE,r)}_getForceContribution(e,r){if(e.childrenCount>0){const n=e.centerOfMass.x-r.x,i=e.centerOfMass.y-r.y,s=Math.sqrt(n*n+i*i);s*e.calcSize>this.thetaInversed?this._calculateForces(s,n,i,r,e):e.childrenCount===4?this._getForceContributions(e,r):e.children.data.id!=r.id&&this._calculateForces(s,n,i,r,e)}}_calculateForces(e,r,n,i,s){e===0&&(e=.1,r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=this.options.gravitationalConstant*s.mass*i.options.mass/Math.pow(e,3),o=r*a,l=n*a;this.physicsBody.forces[i.id].x+=o,this.physicsBody.forces[i.id].y+=l}_formBarnesHutTree(e,r){let n;const i=r.length;let s=e[r[0]].x,a=e[r[0]].y,o=e[r[0]].x,l=e[r[0]].y;for(let b=1;b<i;b++){const g=e[r[b]],v=g.x,x=g.y;g.options.mass>0&&(v<s&&(s=v),v>o&&(o=v),x<a&&(a=x),x>l&&(l=x))}const u=Math.abs(o-s)-Math.abs(l-a);u>0?(a-=.5*u,l+=.5*u):(s+=.5*u,o-=.5*u);const h=Math.max(1e-5,Math.abs(o-s)),f=.5*h,p=.5*(s+o),m=.5*(a+l),y={root:{centerOfMass:{x:0,y:0},mass:0,range:{minX:p-f,maxX:p+f,minY:m-f,maxY:m+f},size:h,calcSize:1/h,children:{data:null},maxWidth:0,level:0,childrenCount:4}};this._splitBranch(y.root);for(let b=0;b<i;b++)n=e[r[b]],n.options.mass>0&&this._placeInTree(y.root,n);return y}_updateBranchMass(e,r){const n=e.centerOfMass,i=e.mass+r.options.mass,s=1/i;n.x=n.x*e.mass+r.x*r.options.mass,n.x*=s,n.y=n.y*e.mass+r.y*r.options.mass,n.y*=s,e.mass=i;const a=Math.max(Math.max(r.height,r.radius),r.width);e.maxWidth=e.maxWidth<a?a:e.maxWidth}_placeInTree(e,r,n){(n!=!0||n===void 0)&&this._updateBranchMass(e,r);const i=e.children.NW.range;let s;i.maxX>r.x?i.maxY>r.y?s="NW":s="SW":i.maxY>r.y?s="NE":s="SE",this._placeInRegion(e,r,s)}_placeInRegion(e,r,n){const i=e.children[n];switch(i.childrenCount){case 0:i.children.data=r,i.childrenCount=1,this._updateBranchMass(i,r);break;case 1:i.children.data.x===r.x&&i.children.data.y===r.y?(r.x+=this._rng(),r.y+=this._rng()):(this._splitBranch(i),this._placeInTree(i,r));break;case 4:this._placeInTree(i,r);break}}_splitBranch(e){let r=null;e.childrenCount===1&&(r=e.children.data,e.mass=0,e.centerOfMass.x=0,e.centerOfMass.y=0),e.childrenCount=4,e.children.data=null,this._insertRegion(e,"NW"),this._insertRegion(e,"NE"),this._insertRegion(e,"SW"),this._insertRegion(e,"SE"),r!=null&&this._placeInTree(e,r)}_insertRegion(e,r){let n,i,s,a;const o=.5*e.size;switch(r){case"NW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY,a=e.range.minY+o;break;case"NE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY,a=e.range.minY+o;break;case"SW":n=e.range.minX,i=e.range.minX+o,s=e.range.minY+o,a=e.range.maxY;break;case"SE":n=e.range.minX+o,i=e.range.maxX,s=e.range.minY+o,a=e.range.maxY;break}e.children[r]={centerOfMass:{x:0,y:0},mass:0,range:{minX:n,maxX:i,minY:s,maxY:a},size:.5*e.size,calcSize:2*e.calcSize,children:{data:null},maxWidth:0,level:e.level+1,childrenCount:0}}_debug(e,r){this.barnesHutTree!==void 0&&(e.lineWidth=1,this._drawBranch(this.barnesHutTree.root,e,r))}_drawBranch(e,r,n){n===void 0&&(n="#FF0000"),e.childrenCount===4&&(this._drawBranch(e.children.NW,r),this._drawBranch(e.children.NE,r),this._drawBranch(e.children.SE,r),this._drawBranch(e.children.SW,r)),r.strokeStyle=n,r.beginPath(),r.moveTo(e.range.minX,e.range.minY),r.lineTo(e.range.maxX,e.range.minY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.minY),r.lineTo(e.range.maxX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.maxX,e.range.maxY),r.lineTo(e.range.minX,e.range.maxY),r.stroke(),r.beginPath(),r.moveTo(e.range.minX,e.range.maxY),r.lineTo(e.range.minX,e.range.minY),r.stroke()}}class Yge{constructor(e,r,n){this._rng=om("REPULSION SOLVER"),this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.nodes,d=this.physicsBody.physicsNodeIndices,h=this.physicsBody.forces,f=this.options.nodeDistance,p=-2/3/f,m=4/3;for(let y=0;y<d.length-1;y++){o=u[d[y]];for(let b=y+1;b<d.length;b++)l=u[d[b]],e=l.x-o.x,r=l.y-o.y,n=Math.sqrt(e*e+r*r),n===0&&(n=.1*this._rng(),e=n),n<2*f&&(n<.5*f?a=1:a=p*n+m,a=a/n,i=e*a,s=r*a,h[o.id].x-=i,h[o.id].y-=s,h[l.id].x+=i,h[l.id].y+=s)}}}class Qge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e,this.overlapAvoidanceFactor=Math.max(0,Math.min(1,this.options.avoidOverlap||0))}solve(){const e=this.body.nodes,r=this.physicsBody.physicsNodeIndices,n=this.physicsBody.forces,i=this.options.nodeDistance;for(let s=0;s<r.length-1;s++){const a=e[r[s]];for(let o=s+1;o<r.length;o++){const l=e[r[o]];if(a.level===l.level){const u=i+this.overlapAvoidanceFactor*((a.shape.radius||0)/2+(l.shape.radius||0)/2),d=l.x-a.x,h=l.y-a.y,f=Math.sqrt(d*d+h*h),p=.05;let m;f<u?m=-Math.pow(p*f,2)+Math.pow(p*u,2):m=0,f!==0&&(m=m/f);const y=d*m,b=h*m;n[a.id].x-=y,n[a.id].y-=b,n[l.id].x+=y,n[l.id].y+=b}}}}}class _E{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r;const n=this.physicsBody.physicsEdgeIndices,i=this.body.edges;let s,a,o;for(let l=0;l<n.length;l++)r=i[n[l]],r.connected===!0&&r.toId!==r.fromId&&this.body.nodes[r.toId]!==void 0&&this.body.nodes[r.fromId]!==void 0&&(r.edgeType.via!==void 0?(e=r.options.length===void 0?this.options.springLength:r.options.length,s=r.to,a=r.edgeType.via,o=r.from,this._calculateSpringForce(s,a,.5*e),this._calculateSpringForce(a,o,.5*e)):(e=r.options.length===void 0?this.options.springLength*1.5:r.options.length,this._calculateSpringForce(r.from,r.to,e)))}_calculateSpringForce(e,r,n){const i=e.x-r.x,s=e.y-r.y,a=Math.max(Math.sqrt(i*i+s*s),.01),o=this.options.springConstant*(n-a)/a,l=i*o,u=s*o;this.physicsBody.forces[e.id]!==void 0&&(this.physicsBody.forces[e.id].x+=l,this.physicsBody.forces[e.id].y+=u),this.physicsBody.forces[r.id]!==void 0&&(this.physicsBody.forces[r.id].x-=l,this.physicsBody.forces[r.id].y-=u)}}class Xge{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i,s,a,o,l;const u=this.body.edges,d=.5,h=this.physicsBody.physicsEdgeIndices,f=this.physicsBody.physicsNodeIndices,p=this.physicsBody.forces;for(let w=0;w<f.length;w++){const _=f[w];p[_].springFx=0,p[_].springFy=0}for(let w=0;w<h.length;w++)r=u[h[w]],r.connected===!0&&(e=r.options.length===void 0?this.options.springLength:r.options.length,n=r.from.x-r.to.x,i=r.from.y-r.to.y,l=Math.sqrt(n*n+i*i),l=l===0?.01:l,o=this.options.springConstant*(e-l)/l,s=n*o,a=i*o,r.to.level!=r.from.level?(p[r.toId]!==void 0&&(p[r.toId].springFx-=s,p[r.toId].springFy-=a),p[r.fromId]!==void 0&&(p[r.fromId].springFx+=s,p[r.fromId].springFy+=a)):(p[r.toId]!==void 0&&(p[r.toId].x-=d*s,p[r.toId].y-=d*a),p[r.fromId]!==void 0&&(p[r.fromId].x+=d*s,p[r.fromId].y+=d*a)));o=1;let m,y;for(let w=0;w<f.length;w++){const _=f[w];m=Math.min(o,Math.max(-o,p[_].springFx)),y=Math.min(o,Math.max(-o,p[_].springFy)),p[_].x+=m,p[_].y+=y}let b=0,g=0;for(let w=0;w<f.length;w++){const _=f[w];b+=p[_].x,g+=p[_].y}const v=b/f.length,x=g/f.length;for(let w=0;w<f.length;w++){const _=f[w];p[_].x-=v,p[_].y-=x}}}class uf{constructor(e,r,n){this.body=e,this.physicsBody=r,this.setOptions(n)}setOptions(e){this.options=e}solve(){let e,r,n,i;const s=this.body.nodes,a=this.physicsBody.physicsNodeIndices,o=this.physicsBody.forces;for(let l=0;l<a.length;l++){const u=a[l];i=s[u],e=-i.x,r=-i.y,n=Math.sqrt(e*e+r*r),this._calculateForces(n,e,r,o,i)}}_calculateForces(e,r,n,i,s){const a=e===0?0:this.options.centralGravity/e;i[s.id].x=r*a,i[s.id].y=n*a}}class Jge extends lY{constructor(e,r,n){super(e,r,n),this._rng=om("FORCE ATLAS 2 BASED REPULSION SOLVER")}_calculateForces(e,r,n,i,s){e===0&&(e=.1*this._rng(),r=e),this.overlapAvoidanceFactor<1&&i.shape.radius&&(e=Math.max(.1+this.overlapAvoidanceFactor*i.shape.radius,e-i.shape.radius));const a=i.edges.length+1,o=this.options.gravitationalConstant*s.mass*i.options.mass*a/Math.pow(e,2),l=r*o,u=n*o;this.physicsBody.forces[i.id].x+=l,this.physicsBody.forces[i.id].y+=u}}class Zge extends uf{constructor(e,r,n){super(e,r,n)}_calculateForces(e,r,n,i,s){if(e>0){const a=s.edges.length+1,o=this.options.centralGravity*a*s.options.mass;i[s.id].x=r*o,i[s.id].y=n*o}}}class eye{constructor(e){this.body=e,this.physicsBody={physicsNodeIndices:[],physicsEdgeIndices:[],forces:{},velocities:{}},this.physicsEnabled=!0,this.simulationInterval=1e3/60,this.requiresTimeout=!0,this.previousStates={},this.referenceState={},this.freezeCache={},this.renderTimer=void 0,this.adaptiveTimestep=!1,this.adaptiveTimestepEnabled=!1,this.adaptiveCounter=0,this.adaptiveInterval=3,this.stabilized=!1,this.startedStabilization=!1,this.stabilizationIterations=0,this.ready=!1,this.options={},this.defaultOptions={enabled:!0,barnesHut:{theta:.5,gravitationalConstant:-2e3,centralGravity:.3,springLength:95,springConstant:.04,damping:.09,avoidOverlap:0},forceAtlas2Based:{theta:.5,gravitationalConstant:-50,centralGravity:.01,springConstant:.08,springLength:100,damping:.4,avoidOverlap:0},repulsion:{centralGravity:.2,springLength:200,springConstant:.05,nodeDistance:100,damping:.09,avoidOverlap:0},hierarchicalRepulsion:{centralGravity:0,springLength:100,springConstant:.01,nodeDistance:120,damping:.09},maxVelocity:50,minVelocity:.75,solver:"barnesHut",stabilization:{enabled:!0,iterations:1e3,updateInterval:50,onlyDynamicEdges:!1,fit:!0},timestep:.5,adaptiveTimestep:!0,wind:{x:0,y:0}},kt(this.options,this.defaultOptions),this.timestep=.5,this.layoutFailed=!1,this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("initPhysics",()=>{this.initPhysics()}),this.body.emitter.on("_layoutFailed",()=>{this.layoutFailed=!0}),this.body.emitter.on("resetPhysics",()=>{this.stopSimulation(),this.ready=!1}),this.body.emitter.on("disablePhysics",()=>{this.physicsEnabled=!1,this.stopSimulation()}),this.body.emitter.on("restorePhysics",()=>{this.setOptions(this.options),this.ready===!0&&this.startSimulation()}),this.body.emitter.on("startSimulation",()=>{this.ready===!0&&this.startSimulation()}),this.body.emitter.on("stopSimulation",()=>{this.stopSimulation()}),this.body.emitter.on("destroy",()=>{this.stopSimulation(!1),this.body.emitter.off()}),this.body.emitter.on("_dataChanged",()=>{this.updatePhysicsData()})}setOptions(e){if(e!==void 0)if(e===!1)this.options.enabled=!1,this.physicsEnabled=!1,this.stopSimulation();else if(e===!0)this.options.enabled=!0,this.physicsEnabled=!0,this.startSimulation();else{this.physicsEnabled=!0,ep(["stabilization"],this.options,e),_n(this.options,e,"stabilization"),e.enabled===void 0&&(this.options.enabled=!0),this.options.enabled===!1&&(this.physicsEnabled=!1,this.stopSimulation());const r=this.options.wind;r&&((typeof r.x!="number"||sC(r.x))&&(r.x=0),(typeof r.y!="number"||sC(r.y))&&(r.y=0)),this.timestep=this.options.timestep}this.init()}init(){let e;this.options.solver==="forceAtlas2Based"?(e=this.options.forceAtlas2Based,this.nodesSolver=new Jge(this.body,this.physicsBody,e),this.edgesSolver=new _E(this.body,this.physicsBody,e),this.gravitySolver=new Zge(this.body,this.physicsBody,e)):this.options.solver==="repulsion"?(e=this.options.repulsion,this.nodesSolver=new Yge(this.body,this.physicsBody,e),this.edgesSolver=new _E(this.body,this.physicsBody,e),this.gravitySolver=new uf(this.body,this.physicsBody,e)):this.options.solver==="hierarchicalRepulsion"?(e=this.options.hierarchicalRepulsion,this.nodesSolver=new Qge(this.body,this.physicsBody,e),this.edgesSolver=new Xge(this.body,this.physicsBody,e),this.gravitySolver=new uf(this.body,this.physicsBody,e)):(e=this.options.barnesHut,this.nodesSolver=new lY(this.body,this.physicsBody,e),this.edgesSolver=new _E(this.body,this.physicsBody,e),this.gravitySolver=new uf(this.body,this.physicsBody,e)),this.modelOptions=e}initPhysics(){this.physicsEnabled===!0&&this.options.enabled===!0?this.options.stabilization.enabled===!0?this.stabilize():(this.stabilized=!1,this.ready=!0,this.body.emitter.emit("fit",{},this.layoutFailed),this.startSimulation()):(this.ready=!0,this.body.emitter.emit("fit"))}startSimulation(){if(this.physicsEnabled===!0&&this.options.enabled===!0){if(this.stabilized=!1,this.adaptiveTimestep=!1,this.body.emitter.emit("_resizeNodes"),this.viewFunction===void 0){var e;this.viewFunction=Z(e=this.simulationStep).call(e,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}else this.body.emitter.emit("_redraw")}stopSimulation(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!0;this.stabilized=!0,e===!0&&this._emitStabilized(),this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.viewFunction=void 0,e===!0&&this.body.emitter.emit("_stopRendering"))}simulationStep(){const e=Qf();this.physicsTick(),(Qf()-e<.4*this.simulationInterval||this.runDoubleSpeed===!0)&&this.stabilized===!1&&(this.physicsTick(),this.runDoubleSpeed=!0),this.stabilized===!0&&this.stopSimulation()}_emitStabilized(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.stabilizationIterations;(this.stabilizationIterations>1||this.startedStabilization===!0)&&Wi(()=>{this.body.emitter.emit("stabilized",{iterations:e}),this.startedStabilization=!1,this.stabilizationIterations=0},0)}physicsStep(){this.gravitySolver.solve(),this.nodesSolver.solve(),this.edgesSolver.solve(),this.moveNodes()}adjustTimeStep(){this._evaluateStepQuality()===!0?this.timestep=1.2*this.timestep:this.timestep/1.2<this.options.timestep?this.timestep=this.options.timestep:(this.adaptiveCounter=-1,this.timestep=Math.max(this.options.timestep,this.timestep/1.2))}physicsTick(){this._startStabilizing(),this.stabilized!==!0&&(this.adaptiveTimestep===!0&&this.adaptiveTimestepEnabled===!0?(this.adaptiveCounter%this.adaptiveInterval===0?(this.timestep=2*this.timestep,this.physicsStep(),this.revert(),this.timestep=.5*this.timestep,this.physicsStep(),this.physicsStep(),this.adjustTimeStep()):this.physicsStep(),this.adaptiveCounter+=1):(this.timestep=this.options.timestep,this.physicsStep()),this.stabilized===!0&&this.revert(),this.stabilizationIterations++)}updatePhysicsData(){this.physicsBody.forces={},this.physicsBody.physicsNodeIndices=[],this.physicsBody.physicsEdgeIndices=[];const e=this.body.nodes,r=this.body.edges;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&e[n].options.physics===!0&&this.physicsBody.physicsNodeIndices.push(e[n].id);for(const n in r)Object.prototype.hasOwnProperty.call(r,n)&&r[n].options.physics===!0&&this.physicsBody.physicsEdgeIndices.push(r[n].id);for(let n=0;n<this.physicsBody.physicsNodeIndices.length;n++){const i=this.physicsBody.physicsNodeIndices[n];this.physicsBody.forces[i]={x:0,y:0},this.physicsBody.velocities[i]===void 0&&(this.physicsBody.velocities[i]={x:0,y:0})}for(const n in this.physicsBody.velocities)e[n]===void 0&&delete this.physicsBody.velocities[n]}revert(){const e=xt(this.previousStates),r=this.body.nodes,n=this.physicsBody.velocities;this.referenceState={};for(let i=0;i<e.length;i++){const s=e[i];r[s]!==void 0?r[s].options.physics===!0&&(this.referenceState[s]={positions:{x:r[s].x,y:r[s].y}},n[s].x=this.previousStates[s].vx,n[s].y=this.previousStates[s].vy,r[s].x=this.previousStates[s].x,r[s].y=this.previousStates[s].y):delete this.previousStates[s]}}_evaluateStepQuality(){let e,r,n;const i=this.body.nodes,s=this.referenceState,a=.3;for(const o in this.referenceState)if(Object.prototype.hasOwnProperty.call(this.referenceState,o)&&i[o]!==void 0&&(e=i[o].x-s[o].positions.x,r=i[o].y-s[o].positions.y,n=Math.sqrt(Math.pow(e,2)+Math.pow(r,2)),n>a))return!1;return!0}moveNodes(){const e=this.physicsBody.physicsNodeIndices;let r=0,n=0;const i=5;for(let s=0;s<e.length;s++){const a=e[s],o=this._performStep(a);r=Math.max(r,o),n+=o}this.adaptiveTimestepEnabled=n/e.length<i,this.stabilized=r<this.options.minVelocity}calculateComponentVelocity(e,r,n){const i=this.modelOptions.damping*e,s=(r-i)/n;e+=s*this.timestep;const a=this.options.maxVelocity||1e9;return Math.abs(e)>a&&(e=e>0?a:-a),e}_performStep(e){const r=this.body.nodes[e],n=this.physicsBody.forces[e];this.options.wind&&(n.x+=this.options.wind.x,n.y+=this.options.wind.y);const i=this.physicsBody.velocities[e];return this.previousStates[e]={x:r.x,y:r.y,vx:i.x,vy:i.y},r.options.fixed.x===!1?(i.x=this.calculateComponentVelocity(i.x,n.x,r.options.mass),r.x+=i.x*this.timestep):(n.x=0,i.x=0),r.options.fixed.y===!1?(i.y=this.calculateComponentVelocity(i.y,n.y,r.options.mass),r.y+=i.y*this.timestep):(n.y=0,i.y=0),Math.sqrt(Math.pow(i.x,2)+Math.pow(i.y,2))}_freezeNodes(){const e=this.body.nodes;for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&e[r].x&&e[r].y){const n=e[r].options.fixed;this.freezeCache[r]={x:n.x,y:n.y},n.x=!0,n.y=!0}}_restoreFrozenNodes(){const e=this.body.nodes;for(const r in e)Object.prototype.hasOwnProperty.call(e,r)&&this.freezeCache[r]!==void 0&&(e[r].options.fixed.x=this.freezeCache[r].x,e[r].options.fixed.y=this.freezeCache[r].y);this.freezeCache={}}stabilize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.stabilization.iterations;if(typeof e!="number"&&(e=this.options.stabilization.iterations,console.error("The stabilize method needs a numeric amount of iterations. Switching to default: ",e)),this.physicsBody.physicsNodeIndices.length===0){this.ready=!0;return}this.adaptiveTimestep=this.options.adaptiveTimestep,this.body.emitter.emit("_resizeNodes"),this.stopSimulation(),this.stabilized=!1,this.body.emitter.emit("_blockRedraw"),this.targetIterations=e,this.options.stabilization.onlyDynamicEdges===!0&&this._freezeNodes(),this.stabilizationIterations=0,Wi(()=>this._stabilizationBatch(),0)}_startStabilizing(){return this.startedStabilization===!0?!1:(this.body.emitter.emit("startStabilizing"),this.startedStabilization=!0,!0)}_stabilizationBatch(){const e=()=>this.stabilized===!1&&this.stabilizationIterations<this.targetIterations,r=()=>{this.body.emitter.emit("stabilizationProgress",{iterations:this.stabilizationIterations,total:this.targetIterations})};this._startStabilizing()&&r();let n=0;for(;e()&&n<this.options.stabilization.updateInterval;)this.physicsTick(),n++;if(r(),e()){var i;Wi(Z(i=this._stabilizationBatch).call(i,this),0)}else this._finalizeStabilization()}_finalizeStabilization(){this.body.emitter.emit("_allowRedraw"),this.options.stabilization.fit===!0&&this.body.emitter.emit("fit"),this.options.stabilization.onlyDynamicEdges===!0&&this._restoreFrozenNodes(),this.body.emitter.emit("stabilizationIterationsDone"),this.body.emitter.emit("_requestRedraw"),this.stabilized===!0?this._emitStabilized():this.startSimulation(),this.ready=!0}_drawForces(e){for(let r=0;r<this.physicsBody.physicsNodeIndices.length;r++){const n=this.physicsBody.physicsNodeIndices[r],i=this.body.nodes[n],s=this.physicsBody.forces[n],a=20,o=.03,l=Math.sqrt(Math.pow(s.x,2)+Math.pow(s.x,2)),u=Math.min(Math.max(5,l),15),d=3*u,h=rC((180-Math.min(1,Math.max(0,o*l))*180)/360,1,1),f={x:i.x+a*s.x,y:i.y+a*s.y};e.lineWidth=u,e.strokeStyle=h,e.beginPath(),e.moveTo(i.x,i.y),e.lineTo(f.x,f.y),e.stroke();const p=Math.atan2(s.y,s.x);e.fillStyle=h,aY.draw(e,{type:"arrow",point:f,angle:p,length:d}),nh(e).call(e)}}}const ar=[];for(let t=0;t<256;++t)ar.push((t+256).toString(16).slice(1));function tye(t,e=0){return(ar[t[e+0]]+ar[t[e+1]]+ar[t[e+2]]+ar[t[e+3]]+"-"+ar[t[e+4]]+ar[t[e+5]]+"-"+ar[t[e+6]]+ar[t[e+7]]+"-"+ar[t[e+8]]+ar[t[e+9]]+"-"+ar[t[e+10]]+ar[t[e+11]]+ar[t[e+12]]+ar[t[e+13]]+ar[t[e+14]]+ar[t[e+15]]).toLowerCase()}let SE;const rye=new Uint8Array(16);function nye(){if(!SE){if(typeof crypto>"u"||!crypto.getRandomValues)throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");SE=crypto.getRandomValues.bind(crypto)}return SE(rye)}const iye=typeof crypto<"u"&&crypto.randomUUID&&crypto.randomUUID.bind(crypto);var nW={randomUUID:iye};function sye(t,e,r){var i;t=t||{};const n=t.random??((i=t.rng)==null?void 0:i.call(t))??nye();if(n.length<16)throw new Error("Random bytes length must be >= 16");return n[6]=n[6]&15|64,n[8]=n[8]&63|128,tye(n)}function Tc(t,e,r){return nW.randomUUID&&!t?nW.randomUUID():sye(t)}class Nr{constructor(){}static getRange(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.shape.boundingBox.left&&(s=o.shape.boundingBox.left),a<o.shape.boundingBox.right&&(a=o.shape.boundingBox.right),n>o.shape.boundingBox.top&&(n=o.shape.boundingBox.top),i<o.shape.boundingBox.bottom&&(i=o.shape.boundingBox.bottom);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static getRangeCore(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:[],n=1e9,i=-1e9,s=1e9,a=-1e9,o;if(r.length>0)for(let l=0;l<r.length;l++)o=e[r[l]],s>o.x&&(s=o.x),a<o.x&&(a=o.x),n>o.y&&(n=o.y),i<o.y&&(i=o.y);return s===1e9&&a===-1e9&&n===1e9&&i===-1e9&&(n=0,i=0,s=0,a=0),{minX:s,maxX:a,minY:n,maxY:i}}static findCenter(e){return{x:.5*(e.maxX+e.minX),y:.5*(e.maxY+e.minY)}}static cloneOptions(e,r){const n={};return r===void 0||r==="node"?(et(n,e.options,!0),n.x=e.x,n.y=e.y,n.amountOfConnections=e.edges.length):et(n,e.options,!0),n}}class aye extends ot{constructor(e,r,n,i,s,a){super(e,r,n,i,s,a),this.isCluster=!0,this.containedNodes={},this.containedEdges={}}_openChildCluster(e){const r=this.body.nodes[e];if(this.containedNodes[e]===void 0)throw new Error("node with id: "+e+" not in current cluster");if(!r.isCluster)throw new Error("node with id: "+e+" is not a cluster");delete this.containedNodes[e],Re(r.edges,n=>{delete this.containedEdges[n.id]}),Re(r.containedNodes,(n,i)=>{this.containedNodes[i]=n}),r.containedNodes={},Re(r.containedEdges,(n,i)=>{this.containedEdges[i]=n}),r.containedEdges={},Re(r.edges,n=>{Re(this.edges,i=>{var s,a;const o=Ue(s=i.clusteringEdgeReplacingIds).call(s,n.id);o!==-1&&(Re(n.clusteringEdgeReplacingIds,l=>{i.clusteringEdgeReplacingIds.push(l),this.body.edges[l].edgeReplacedById=i.id}),Ui(a=i.clusteringEdgeReplacingIds).call(a,o,1))})}),r.edges=[]}}class oye{constructor(e){this.body=e,this.clusteredNodes={},this.clusteredEdges={},this.options={},this.defaultOptions={},kt(this.options,this.defaultOptions),this.body.emitter.on("_resetData",()=>{this.clusteredNodes={},this.clusteredEdges={}})}clusterByHubsize(e,r){e===void 0?e=this._getHubSize():typeof e=="object"&&(r=this._checkOptions(e),e=this._getHubSize());const n=[];for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodes[this.body.nodeIndices[i]];s.edges.length>=e&&n.push(s.id)}for(let i=0;i<n.length;i++)this.clusterByConnection(n[i],r,!0);this.body.emitter.emit("_dataChanged")}cluster(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{},r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(e.joinCondition===void 0)throw new Error("Cannot call clusterByNodeData without a joinCondition function in the options.");e=this._checkOptions(e);const n={},i={};Re(this.body.nodes,(s,a)=>{s.options&&e.joinCondition(s.options)===!0&&(n[a]=s,Re(s.edges,o=>{this.clusteredEdges[o.id]===void 0&&(i[o.id]=o)}))}),this._cluster(n,i,e,r)}clusterByEdgeCount(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;r=this._checkOptions(r);const i=[],s={};let a,o,l;for(let u=0;u<this.body.nodeIndices.length;u++){const d={},h={},f=this.body.nodeIndices[u],p=this.body.nodes[f];if(s[f]===void 0){l=0,o=[];for(let m=0;m<p.edges.length;m++)a=p.edges[m],this.clusteredEdges[a.id]===void 0&&(a.toId!==a.fromId&&l++,o.push(a));if(l===e){const m=function(b){if(r.joinCondition===void 0||r.joinCondition===null)return!0;const g=Nr.cloneOptions(b);return r.joinCondition(g)};let y=!0;for(let b=0;b<o.length;b++){a=o[b];const g=this._getConnectedId(a,f);if(m(p))h[a.id]=a,d[f]=p,d[g]=this.body.nodes[g],s[f]=!0;else{y=!1;break}}if(xt(d).length>0&&xt(h).length>0&&y===!0){const g=function(){for(let v=0;v<i.length;++v)for(const x in d)if(i[v].nodes[x]!==void 0)return i[v]}();if(g!==void 0){for(const v in d)g.nodes[v]===void 0&&(g.nodes[v]=d[v]);for(const v in h)g.edges[v]===void 0&&(g.edges[v]=h[v])}else i.push({nodes:d,edges:h})}}}}for(let u=0;u<i.length;u++)this._cluster(i[u].nodes,i[u].edges,r,!1);n===!0&&this.body.emitter.emit("_dataChanged")}clusterOutliers(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(1,e,r)}clusterBridges(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;this.clusterByEdgeCount(2,e,r)}clusterByConnection(e,r){var n;let i=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No nodeId supplied to clusterByConnection!");if(this.body.nodes[e]===void 0)throw new Error("The nodeId given to clusterByConnection does not exist!");const s=this.body.nodes[e];r=this._checkOptions(r,s),r.clusterNodeProperties.x===void 0&&(r.clusterNodeProperties.x=s.x),r.clusterNodeProperties.y===void 0&&(r.clusterNodeProperties.y=s.y),r.clusterNodeProperties.fixed===void 0&&(r.clusterNodeProperties.fixed={},r.clusterNodeProperties.fixed.x=s.options.fixed.x,r.clusterNodeProperties.fixed.y=s.options.fixed.y);const a={},o={},l=s.id,u=Nr.cloneOptions(s);a[l]=s;for(let h=0;h<s.edges.length;h++){const f=s.edges[h];if(this.clusteredEdges[f.id]===void 0){const p=this._getConnectedId(f,l);if(this.clusteredNodes[p]===void 0)if(p!==l)if(r.joinCondition===void 0)o[f.id]=f,a[p]=this.body.nodes[p];else{const m=Nr.cloneOptions(this.body.nodes[p]);r.joinCondition(u,m)===!0&&(o[f.id]=f,a[p]=this.body.nodes[p])}else o[f.id]=f}}const d=ru(n=xt(a)).call(n,function(h){return a[h].id});for(const h in a){if(!Object.prototype.hasOwnProperty.call(a,h))continue;const f=a[h];for(let p=0;p<f.edges.length;p++){const m=f.edges[p];Ue(d).call(d,this._getConnectedId(m,f.id))>-1&&(o[m.id]=m)}}this._cluster(a,o,r,i)}_createClusterEdges(e,r,n,i){let s,a,o,l,u,d;const h=xt(e),f=[];for(let y=0;y<h.length;y++){a=h[y],o=e[a];for(let b=0;b<o.edges.length;b++)s=o.edges[b],this.clusteredEdges[s.id]===void 0&&(s.toId==s.fromId?r[s.id]=s:s.toId==a?(l=n.id,u=s.fromId,d=u):(l=s.toId,u=n.id,d=l),e[d]===void 0&&f.push({edge:s,fromId:u,toId:l}))}const p=[],m=function(y){for(let b=0;b<p.length;b++){const g=p[b],v=y.fromId===g.fromId&&y.toId===g.toId,x=y.fromId===g.toId&&y.toId===g.fromId;if(v||x)return g}return null};for(let y=0;y<f.length;y++){const b=f[y],g=b.edge;let v=m(b);v===null?(v=this._createClusteredEdge(b.fromId,b.toId,g,i),p.push(v)):v.clusteringEdgeReplacingIds.push(g.id),this.body.edges[g.id].edgeReplacedById=v.id,this._backupEdgeOptions(g),g.setOptions({physics:!1})}}_checkOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};return e.clusterEdgeProperties===void 0&&(e.clusterEdgeProperties={}),e.clusterNodeProperties===void 0&&(e.clusterNodeProperties={}),e}_cluster(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:!0;const s=[];for(const d in e)Object.prototype.hasOwnProperty.call(e,d)&&this.clusteredNodes[d]!==void 0&&s.push(d);for(let d=0;d<s.length;++d)delete e[s[d]];if(xt(e).length==0||xt(e).length==1&&n.clusterNodeProperties.allowSingleNodeCluster!=!0)return;let a=et({},n.clusterNodeProperties);if(n.processProperties!==void 0){const d=[];for(const f in e)if(Object.prototype.hasOwnProperty.call(e,f)){const p=Nr.cloneOptions(e[f]);d.push(p)}const h=[];for(const f in r)if(Object.prototype.hasOwnProperty.call(r,f)&&f.substr(0,12)!=="clusterEdge:"){const p=Nr.cloneOptions(r[f],"edge");h.push(p)}if(a=n.processProperties(a,d,h),!a)throw new Error("The processProperties function does not return properties!")}a.id===void 0&&(a.id="cluster:"+Tc());const o=a.id;a.label===void 0&&(a.label="cluster");let l;a.x===void 0&&(l=this._getClusterPosition(e),a.x=l.x),a.y===void 0&&(l===void 0&&(l=this._getClusterPosition(e)),a.y=l.y),a.id=o;const u=this.body.functions.createNode(a,aye);u.containedNodes=e,u.containedEdges=r,u.clusterEdgeProperties=n.clusterEdgeProperties,this.body.nodes[a.id]=u,this._clusterEdges(e,r,a,n.clusterEdgeProperties),a.id=void 0,i===!0&&this.body.emitter.emit("_dataChanged")}_backupEdgeOptions(e){this.clusteredEdges[e.id]===void 0&&(this.clusteredEdges[e.id]={physics:e.options.physics})}_restoreEdge(e){const r=this.clusteredEdges[e.id];r!==void 0&&(e.setOptions({physics:r.physics}),delete this.clusteredEdges[e.id])}isCluster(e){return this.body.nodes[e]!==void 0?this.body.nodes[e].isCluster===!0:(console.error("Node does not exist."),!1)}_getClusterPosition(e){const r=xt(e);let n=e[r[0]].x,i=e[r[0]].x,s=e[r[0]].y,a=e[r[0]].y,o;for(let l=1;l<r.length;l++)o=e[r[l]],n=o.x<n?o.x:n,i=o.x>i?o.x:i,s=o.y<s?o.y:s,a=o.y>a?o.y:a;return{x:.5*(n+i),y:.5*(s+a)}}openCluster(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!0;if(e===void 0)throw new Error("No clusterNodeId supplied to openCluster.");const i=this.body.nodes[e];if(i===void 0)throw new Error("The clusterNodeId supplied to openCluster does not exist.");if(i.isCluster!==!0||i.containedNodes===void 0||i.containedEdges===void 0)throw new Error("The node:"+e+" is not a valid cluster.");const s=this.findNode(e),a=Ue(s).call(s,e)-1;if(a>=0){const d=s[a];this.body.nodes[d]._openChildCluster(e),delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged");return}const o=i.containedNodes,l=i.containedEdges;if(r!==void 0&&r.releaseFunction!==void 0&&typeof r.releaseFunction=="function"){const d={},h={x:i.x,y:i.y};for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];d[p]={x:m.x,y:m.y}}const f=r.releaseFunction(h,d);for(const p in o)if(Object.prototype.hasOwnProperty.call(o,p)){const m=this.body.nodes[p];f[p]!==void 0&&(m.x=f[p].x===void 0?i.x:f[p].x,m.y=f[p].y===void 0?i.y:f[p].y)}}else Re(o,function(d){d.options.fixed.x===!1&&(d.x=i.x),d.options.fixed.y===!1&&(d.y=i.y)});for(const d in o)if(Object.prototype.hasOwnProperty.call(o,d)){const h=this.body.nodes[d];h.vx=i.vx,h.vy=i.vy,h.setOptions({physics:!0}),delete this.clusteredNodes[d]}const u=[];for(let d=0;d<i.edges.length;d++)u.push(i.edges[d]);for(let d=0;d<u.length;d++){const h=u[d],f=this._getConnectedId(h,e),p=this.clusteredNodes[f];for(let m=0;m<h.clusteringEdgeReplacingIds.length;m++){const y=h.clusteringEdgeReplacingIds[m],b=this.body.edges[y];if(b!==void 0)if(p!==void 0){const g=this.body.nodes[p.clusterId];g.containedEdges[b.id]=b,delete l[b.id];let v=b.fromId,x=b.toId;b.toId==f?x=p.clusterId:v=p.clusterId,this._createClusteredEdge(v,x,b,g.clusterEdgeProperties,{hidden:!1,physics:!0})}else this._restoreEdge(b)}h.remove()}for(const d in l)Object.prototype.hasOwnProperty.call(l,d)&&this._restoreEdge(l[d]);delete this.body.nodes[e],n===!0&&this.body.emitter.emit("_dataChanged")}getNodesInCluster(e){const r=[];if(this.isCluster(e)===!0){const n=this.body.nodes[e].containedNodes;for(const i in n)Object.prototype.hasOwnProperty.call(n,i)&&r.push(this.body.nodes[i].id)}return r}findNode(e){const r=[];let i=0,s;for(;this.clusteredNodes[e]!==void 0&&i<100;){if(s=this.body.nodes[e],s===void 0)return[];r.push(s.id),e=this.clusteredNodes[e].clusterId,i++}return s=this.body.nodes[e],s===void 0?[]:(r.push(s.id),Ga(r).call(r),r)}updateClusteredNode(e,r){if(e===void 0)throw new Error("No clusteredNodeId supplied to updateClusteredNode.");if(r===void 0)throw new Error("No newOptions supplied to updateClusteredNode.");if(this.body.nodes[e]===void 0)throw new Error("The clusteredNodeId supplied to updateClusteredNode does not exist.");this.body.nodes[e].setOptions(r),this.body.emitter.emit("_dataChanged")}updateEdge(e,r){if(e===void 0)throw new Error("No startEdgeId supplied to updateEdge.");if(r===void 0)throw new Error("No newOptions supplied to updateEdge.");if(this.body.edges[e]===void 0)throw new Error("The startEdgeId supplied to updateEdge does not exist.");const n=this.getClusteredEdges(e);for(let i=0;i<n.length;i++)this.body.edges[n[i]].setOptions(r);this.body.emitter.emit("_dataChanged")}getClusteredEdges(e){const r=[];let i=0;for(;e!==void 0&&this.body.edges[e]!==void 0&&i<100;)r.push(this.body.edges[e].id),e=this.body.edges[e].edgeReplacedById,i++;return Ga(r).call(r),r}getBaseEdge(e){return this.getBaseEdges(e)[0]}getBaseEdges(e){const r=[e],n=[],i=[],s=100;let a=0;for(;r.length>0&&a<s;){const o=r.pop();if(o===void 0)continue;const l=this.body.edges[o];if(l===void 0)continue;a++;const u=l.clusteringEdgeReplacingIds;if(u===void 0)i.push(o);else for(let d=0;d<u.length;++d){const h=u[d];Ue(r).call(r,u)!==-1||Ue(n).call(n,u)!==-1||r.push(h)}n.push(o)}return i}_getConnectedId(e,r){return e.toId!=r?e.toId:(e.fromId!=r,e.fromId)}_getHubSize(){let e=0,r=0,n=0,i=0;for(let l=0;l<this.body.nodeIndices.length;l++){const u=this.body.nodes[this.body.nodeIndices[l]];u.edges.length>i&&(i=u.edges.length),e+=u.edges.length,r+=Math.pow(u.edges.length,2),n+=1}e=e/n,r=r/n;const s=r-Math.pow(e,2),a=Math.sqrt(s);let o=Math.floor(e+2*a);return o>i&&(o=i),o}_createClusteredEdge(e,r,n,i,s){const a=Nr.cloneOptions(n,"edge");et(a,i),a.from=e,a.to=r,a.id="clusterEdge:"+Tc(),s!==void 0&&et(a,s);const o=this.body.functions.createEdge(a);return o.clusteringEdgeReplacingIds=[n.id],o.connect(),this.body.edges[o.id]=o,o}_clusterEdges(e,r,n,i){if(r instanceof Js){const s=r,a={};a[s.id]=s,r=a}if(e instanceof ot){const s=e,a={};a[s.id]=s,e=a}if(n==null)throw new Error("_clusterEdges: parameter clusterNode required");i===void 0&&(i=n.clusterEdgeProperties),this._createClusterEdges(e,r,n,i);for(const s in r)if(Object.prototype.hasOwnProperty.call(r,s)&&this.body.edges[s]!==void 0){const a=this.body.edges[s];this._backupEdgeOptions(a),a.setOptions({physics:!1})}for(const s in e)Object.prototype.hasOwnProperty.call(e,s)&&(this.clusteredNodes[s]={clusterId:n.id,node:this.body.nodes[s]},this.body.nodes[s].setOptions({physics:!1}))}_getClusterNodeForNode(e){if(e===void 0)return;const r=this.clusteredNodes[e];if(r===void 0)return;const n=r.clusterId;if(n!==void 0)return this.body.nodes[n]}_filter(e,r){const n=[];return Re(e,i=>{r(i)&&n.push(i)}),n}_updateState(){let e;const r=[],n={},i=l=>{Re(this.body.nodes,u=>{u.isCluster===!0&&l(u)})};for(e in this.clusteredNodes){if(!Object.prototype.hasOwnProperty.call(this.clusteredNodes,e))continue;this.body.nodes[e]===void 0&&r.push(e)}i(function(l){for(let u=0;u<r.length;u++)delete l.containedNodes[r[u]]});for(let l=0;l<r.length;l++)delete this.clusteredNodes[r[l]];Re(this.clusteredEdges,l=>{const u=this.body.edges[l];(u===void 0||!u.endPointsValid())&&(n[l]=l)}),i(function(l){Re(l.containedEdges,(u,d)=>{!u.endPointsValid()&&!n[d]&&(n[d]=d)})}),Re(this.body.edges,(l,u)=>{let d=!0;const h=l.clusteringEdgeReplacingIds;if(h!==void 0){let f=0;Re(h,p=>{const m=this.body.edges[p];m!==void 0&&m.endPointsValid()&&(f+=1)}),d=f>0}(!l.endPointsValid()||!d)&&(n[u]=u)}),i(l=>{Re(n,u=>{delete l.containedEdges[u],Re(l.edges,(d,h)=>{if(d.id===u){l.edges[h]=null;return}d.clusteringEdgeReplacingIds=this._filter(d.clusteringEdgeReplacingIds,function(f){return!n[f]})}),l.edges=this._filter(l.edges,function(d){return d!==null})})}),Re(n,l=>{delete this.clusteredEdges[l]}),Re(n,l=>{delete this.body.edges[l]});const s=xt(this.body.edges);Re(s,l=>{const u=this.body.edges[l],d=this._isClusteredNode(u.fromId)||this._isClusteredNode(u.toId);if(d!==this._isClusteredEdge(u.id))if(d){const h=this._getClusterNodeForNode(u.fromId);h!==void 0&&this._clusterEdges(this.body.nodes[u.fromId],u,h);const f=this._getClusterNodeForNode(u.toId);f!==void 0&&this._clusterEdges(this.body.nodes[u.toId],u,f)}else delete this._clusterEdges[l],this._restoreEdge(u)});let a=!1,o=!0;for(;o;){const l=[];i(function(u){const d=xt(u.containedNodes).length,h=u.options.allowSingleNodeCluster===!0;(h&&d<1||!h&&d<2)&&l.push(u.id)});for(let u=0;u<l.length;++u)this.openCluster(l[u],{},!1);o=l.length>0,a=a||o}a&&this._updateState()}_isClusteredNode(e){return this.clusteredNodes[e]!==void 0}_isClusteredEdge(e){return this.clusteredEdges[e]!==void 0}}class lye{constructor(e,r){this.body=e,this.canvas=r,this.redrawRequested=!1,this.requestAnimationFrameRequestId=void 0,this.renderingActive=!1,this.renderRequests=0,this.allowRedraw=!0,this.dragging=!1,this.zooming=!1,this.options={},this.defaultOptions={hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.on("dragStart",()=>{this.dragging=!0}),this.body.emitter.on("dragEnd",()=>{this.dragging=!1}),this.body.emitter.on("zoom",()=>{this.zooming=!0,window.clearTimeout(this.zoomTimeoutId),this.zoomTimeoutId=Wi(()=>{var r;this.zooming=!1,Z(r=this._requestRedraw).call(r,this)()},250)}),this.body.emitter.on("_resizeNodes",()=>{this._resizeNodes()}),this.body.emitter.on("_redraw",()=>{this.renderingActive===!1&&this._redraw()}),this.body.emitter.on("_blockRedraw",()=>{this.allowRedraw=!1}),this.body.emitter.on("_allowRedraw",()=>{this.allowRedraw=!0,this.redrawRequested=!1}),this.body.emitter.on("_requestRedraw",Z(e=this._requestRedraw).call(e,this)),this.body.emitter.on("_startRendering",()=>{this.renderRequests+=1,this.renderingActive=!0,this._startRendering()}),this.body.emitter.on("_stopRendering",()=>{this.renderRequests-=1,this.renderingActive=this.renderRequests>0,this.requestAnimationFrameRequestId=void 0}),this.body.emitter.on("destroy",()=>{this.renderRequests=0,this.allowRedraw=!1,this.renderingActive=!1,window.cancelAnimationFrame(this.requestAnimationFrameRequestId),this.body.emitter.off()})}setOptions(e){e!==void 0&&zu(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag"],this.options,e)}_startRendering(){if(this.renderingActive===!0&&this.requestAnimationFrameRequestId===void 0){var e;this.requestAnimationFrameRequestId=window.requestAnimationFrame(Z(e=this._renderStep).call(e,this),this.simulationInterval)}}_renderStep(){this.renderingActive===!0&&(this.requestAnimationFrameRequestId=void 0,this._startRendering(),this._redraw())}redraw(){this.body.emitter.emit("setSize"),this._redraw()}_requestRedraw(){this.redrawRequested!==!0&&this.renderingActive===!1&&this.allowRedraw===!0&&(this.redrawRequested=!0,window.requestAnimationFrame(()=>{this._redraw(!1)}))}_redraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;if(this.allowRedraw===!0){this.body.emitter.emit("initRedraw"),this.redrawRequested=!1;const r={drawExternalLabels:null};(this.canvas.frame.canvas.width===0||this.canvas.frame.canvas.height===0)&&this.canvas.setSize(),this.canvas.setTransform();const n=this.canvas.getContext(),i=this.canvas.frame.canvas.clientWidth,s=this.canvas.frame.canvas.clientHeight;if(n.clearRect(0,0,i,s),this.canvas.frame.clientWidth===0)return;if(n.save(),n.translate(this.body.view.translation.x,this.body.view.translation.y),n.scale(this.body.view.scale,this.body.view.scale),n.beginPath(),this.body.emitter.emit("beforeDrawing",n),n.closePath(),e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawEdges(n),this.dragging===!1||this.dragging===!0&&this.options.hideNodesOnDrag===!1){const{drawExternalLabels:a}=this._drawNodes(n,e);r.drawExternalLabels=a}e===!1&&(this.dragging===!1||this.dragging===!0&&this.options.hideEdgesOnDrag===!1)&&(this.zooming===!1||this.zooming===!0&&this.options.hideEdgesOnZoom===!1)&&this._drawArrows(n),r.drawExternalLabels!=null&&r.drawExternalLabels(),e===!1&&this._drawSelectionBox(n),n.beginPath(),this.body.emitter.emit("afterDrawing",n),n.closePath(),n.restore(),e===!0&&n.clearRect(0,0,i,s)}}_resizeNodes(){this.canvas.setTransform();const e=this.canvas.getContext();e.save(),e.translate(this.body.view.translation.x,this.body.view.translation.y),e.scale(this.body.view.scale,this.body.view.scale);const r=this.body.nodes;let n;for(const i in r)Object.prototype.hasOwnProperty.call(r,i)&&(n=r[i],n.resize(e),n.updateBoundingBox(e,n.selected));e.restore()}_drawNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;const n=this.body.nodes,i=this.body.nodeIndices;let s;const a=[],o=[],l=20,u=this.canvas.DOMtoCanvas({x:-l,y:-l}),d=this.canvas.DOMtoCanvas({x:this.canvas.frame.canvas.clientWidth+l,y:this.canvas.frame.canvas.clientHeight+l}),h={top:u.y,left:u.x,bottom:d.y,right:d.x},f=[];for(let b=0;b<i.length;b++)if(s=n[i[b]],s.hover)o.push(i[b]);else if(s.isSelected())a.push(i[b]);else if(r===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else if(s.isBoundingBoxOverlappingWith(h)===!0){const g=s.draw(e);g.drawExternalLabel!=null&&f.push(g.drawExternalLabel)}else s.updateBoundingBox(e,s.selected);let p;const m=a.length,y=o.length;for(p=0;p<m;p++){s=n[a[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}for(p=0;p<y;p++){s=n[o[p]];const b=s.draw(e);b.drawExternalLabel!=null&&f.push(b.drawExternalLabel)}return{drawExternalLabels:()=>{for(const b of f)b()}}}_drawEdges(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.draw(e)}}_drawArrows(e){const r=this.body.edges,n=this.body.edgeIndices;for(let i=0;i<n.length;i++){const s=r[n[i]];s.connected===!0&&s.drawArrows(e)}}_drawSelectionBox(e){if(this.body.selectionBox.show){e.beginPath();const r=this.body.selectionBox.position.end.x-this.body.selectionBox.position.start.x,n=this.body.selectionBox.position.end.y-this.body.selectionBox.position.start.y;e.rect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.fillStyle="rgba(151, 194, 252, 0.2)",e.fillRect(this.body.selectionBox.position.start.x,this.body.selectionBox.position.start.y,r,n),e.strokeStyle="rgba(151, 194, 252, 1)",e.stroke()}else e.closePath()}}var EE,iW;function uye(){if(iW)return EE;iW=1,fG();var t=Ve();return EE=t.setInterval,EE}var OE,sW;function cye(){return sW||(sW=1,OE=uye()),OE}var dye=cye(),hye=Ee(dye);function np(t,e){e.inputHandler=function(r){r.isFirst&&e(r)},t.on("hammer.input",e.inputHandler)}function uY(t,e){return e.inputHandler=function(r){r.isFinal&&e(r)},t.on("hammer.input",e.inputHandler)}class fye{constructor(e){this.body=e,this.pixelRatio=1,this.cameraState={},this.initialized=!1,this.canvasViewCenter={},this._cleanupCallbacks=[],this.options={},this.defaultOptions={autoResize:!0,height:"100%",width:"100%"},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){var e;this.body.emitter.once("resize",r=>{r.width!==0&&(this.body.view.translation.x=r.width*.5),r.height!==0&&(this.body.view.translation.y=r.height*.5)}),this.body.emitter.on("setSize",Z(e=this.setSize).call(e,this)),this.body.emitter.on("destroy",()=>{this.hammerFrame.destroy(),this.hammer.destroy(),this._cleanUp()})}setOptions(e){if(e!==void 0&&zu(["width","height","autoResize"],this.options,e),this._cleanUp(),this.options.autoResize===!0){var r;if(window.ResizeObserver){const i=new ResizeObserver(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")}),{frame:s}=this;i.observe(s),this._cleanupCallbacks.push(()=>{i.unobserve(s)})}else{const i=hye(()=>{this.setSize()===!0&&this.body.emitter.emit("_requestRedraw")},1e3);this._cleanupCallbacks.push(()=>{clearInterval(i)})}const n=Z(r=this._onResize).call(r,this);window.addEventListener("resize",n),this._cleanupCallbacks.push(()=>{window.removeEventListener("resize",n)})}}_cleanUp(){var e,r,n;Ye(e=Ga(r=Ui(n=this._cleanupCallbacks).call(n,0)).call(r)).call(e,i=>{try{i()}catch(s){console.error(s)}})}_onResize(){this.setSize(),this.body.emitter.emit("_redraw")}_getCameraState(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.pixelRatio;this.initialized===!0&&(this.cameraState.previousWidth=this.frame.canvas.width/e,this.cameraState.previousHeight=this.frame.canvas.height/e,this.cameraState.scale=this.body.view.scale,this.cameraState.position=this.DOMtoCanvas({x:.5*this.frame.canvas.width/e,y:.5*this.frame.canvas.height/e}))}_setCameraState(){if(this.cameraState.scale!==void 0&&this.frame.canvas.clientWidth!==0&&this.frame.canvas.clientHeight!==0&&this.pixelRatio!==0&&this.cameraState.previousWidth>0&&this.cameraState.previousHeight>0){const e=this.frame.canvas.width/this.pixelRatio/this.cameraState.previousWidth,r=this.frame.canvas.height/this.pixelRatio/this.cameraState.previousHeight;let n=this.cameraState.scale;e!=1&&r!=1?n=this.cameraState.scale*.5*(e+r):e!=1?n=this.cameraState.scale*e:r!=1&&(n=this.cameraState.scale*r),this.body.view.scale=n;const i=this.DOMtoCanvas({x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight}),s={x:i.x-this.cameraState.position.x,y:i.y-this.cameraState.position.y};this.body.view.translation.x+=s.x*this.body.view.scale,this.body.view.translation.y+=s.y*this.body.view.scale}}_prepareValue(e){if(typeof e=="number")return e+"px";if(typeof e=="string"){if(Ue(e).call(e,"%")!==-1||Ue(e).call(e,"px")!==-1)return e;if(Ue(e).call(e,"%")===-1)return e+"px"}throw new Error("Could not use the value supplied for width or height:"+e)}_create(){for(;this.body.container.hasChildNodes();)this.body.container.removeChild(this.body.container.firstChild);if(this.frame=document.createElement("div"),this.frame.className="vis-network",this.frame.style.position="relative",this.frame.style.overflow="hidden",this.frame.tabIndex=0,this.frame.canvas=document.createElement("canvas"),this.frame.canvas.style.position="relative",this.frame.appendChild(this.frame.canvas),this.frame.canvas.getContext)this._setPixelRatio(),this.setTransform();else{const e=document.createElement("DIV");e.style.color="red",e.style.fontWeight="bold",e.style.padding="10px",e.innerText="Error: your browser does not support HTML canvas",this.frame.canvas.appendChild(e)}this.body.container.appendChild(this.frame),this.body.view.scale=1,this.body.view.translation={x:.5*this.frame.canvas.clientWidth,y:.5*this.frame.canvas.clientHeight},this._bindHammer()}_bindHammer(){this.hammer!==void 0&&this.hammer.destroy(),this.drag={},this.pinch={},this.hammer=new wl(this.frame.canvas),this.hammer.get("pinch").set({enable:!0}),this.hammer.get("pan").set({threshold:5,direction:wl.DIRECTION_ALL}),np(this.hammer,e=>{this.body.eventListeners.onTouch(e)}),this.hammer.on("tap",e=>{this.body.eventListeners.onTap(e)}),this.hammer.on("doubletap",e=>{this.body.eventListeners.onDoubleTap(e)}),this.hammer.on("press",e=>{this.body.eventListeners.onHold(e)}),this.hammer.on("panstart",e=>{this.body.eventListeners.onDragStart(e)}),this.hammer.on("panmove",e=>{this.body.eventListeners.onDrag(e)}),this.hammer.on("panend",e=>{this.body.eventListeners.onDragEnd(e)}),this.hammer.on("pinch",e=>{this.body.eventListeners.onPinch(e)}),this.frame.canvas.addEventListener("wheel",e=>{this.body.eventListeners.onMouseWheel(e)}),this.frame.canvas.addEventListener("mousemove",e=>{this.body.eventListeners.onMouseMove(e)}),this.frame.canvas.addEventListener("contextmenu",e=>{this.body.eventListeners.onContext(e)}),this.hammerFrame=new wl(this.frame),uY(this.hammerFrame,e=>{this.body.eventListeners.onRelease(e)})}setSize(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:this.options.width,r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.height;e=this._prepareValue(e),r=this._prepareValue(r);let n=!1;const i=this.frame.canvas.width,s=this.frame.canvas.height,a=this.pixelRatio;if(this._setPixelRatio(),e!=this.options.width||r!=this.options.height||this.frame.style.width!=e||this.frame.style.height!=r)this._getCameraState(a),this.frame.style.width=e,this.frame.style.height=r,this.frame.canvas.style.width="100%",this.frame.canvas.style.height="100%",this.frame.canvas.width=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),this.frame.canvas.height=Math.round(this.frame.canvas.clientHeight*this.pixelRatio),this.options.width=e,this.options.height=r,this.canvasViewCenter={x:.5*this.frame.clientWidth,y:.5*this.frame.clientHeight},n=!0;else{const o=Math.round(this.frame.canvas.clientWidth*this.pixelRatio),l=Math.round(this.frame.canvas.clientHeight*this.pixelRatio);(this.frame.canvas.width!==o||this.frame.canvas.height!==l)&&this._getCameraState(a),this.frame.canvas.width!==o&&(this.frame.canvas.width=o,n=!0),this.frame.canvas.height!==l&&(this.frame.canvas.height=l,n=!0)}return n===!0&&(this.body.emitter.emit("resize",{width:Math.round(this.frame.canvas.width/this.pixelRatio),height:Math.round(this.frame.canvas.height/this.pixelRatio),oldWidth:Math.round(i/this.pixelRatio),oldHeight:Math.round(s/this.pixelRatio)}),this._setCameraState()),this.initialized=!0,n}getContext(){return this.frame.canvas.getContext("2d")}_determinePixelRatio(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");let r=1;typeof window<"u"&&(r=window.devicePixelRatio||1);const n=e.webkitBackingStorePixelRatio||e.mozBackingStorePixelRatio||e.msBackingStorePixelRatio||e.oBackingStorePixelRatio||e.backingStorePixelRatio||1;return r/n}_setPixelRatio(){this.pixelRatio=this._determinePixelRatio()}setTransform(){const e=this.getContext();if(e===void 0)throw new Error("Could not get canvax context");e.setTransform(this.pixelRatio,0,0,this.pixelRatio,0,0)}_XconvertDOMtoCanvas(e){return(e-this.body.view.translation.x)/this.body.view.scale}_XconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.x}_YconvertDOMtoCanvas(e){return(e-this.body.view.translation.y)/this.body.view.scale}_YconvertCanvasToDOM(e){return e*this.body.view.scale+this.body.view.translation.y}canvasToDOM(e){return{x:this._XconvertCanvasToDOM(e.x),y:this._YconvertCanvasToDOM(e.y)}}DOMtoCanvas(e){return{x:this._XconvertDOMtoCanvas(e.x),y:this._YconvertDOMtoCanvas(e.y)}}}function pye(t,e){const r=kt({nodes:e,minZoomLevel:Number.MIN_VALUE,maxZoomLevel:1},t??{});if(!Et(r.nodes))throw new TypeError("Nodes has to be an array of ids.");if(r.nodes.length===0&&(r.nodes=e),!(typeof r.minZoomLevel=="number"&&r.minZoomLevel>0))throw new TypeError("Min zoom level has to be a number higher than zero.");if(!(typeof r.maxZoomLevel=="number"&&r.minZoomLevel<=r.maxZoomLevel))throw new TypeError("Max zoom level has to be a number higher than min zoom level.");return r}class mye{constructor(e,r){var n,i;this.body=e,this.canvas=r,this.animationSpeed=1/this.renderRefreshRate,this.animationEasingFunction="easeInOutQuint",this.easingTime=0,this.sourceScale=0,this.targetScale=0,this.sourceTranslation=0,this.targetTranslation=0,this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0,this.touchTime=0,this.viewFunction=void 0,this.body.emitter.on("fit",Z(n=this.fit).call(n,this)),this.body.emitter.on("animationFinished",()=>{this.body.emitter.emit("_stopRendering")}),this.body.emitter.on("unlockNode",Z(i=this.releaseNode).call(i,this))}setOptions(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};this.options=e}fit(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;e=pye(e,this.body.nodeIndices);const n=this.canvas.frame.canvas.clientWidth,i=this.canvas.frame.canvas.clientHeight;let s,a;if(n===0||i===0)a=1,s=Nr.getRange(this.body.nodes,e.nodes);else if(r===!0){let u=0;for(const f in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,f)&&this.body.nodes[f].predefinedPosition===!0&&(u+=1);if(u>.5*this.body.nodeIndices.length){this.fit(e,!1);return}s=Nr.getRange(this.body.nodes,e.nodes),a=12.662/(this.body.nodeIndices.length+7.4147)+.0964822;const h=Math.min(n/600,i/600);a*=h}else{this.body.emitter.emit("_resizeNodes"),s=Nr.getRange(this.body.nodes,e.nodes);const u=Math.abs(s.maxX-s.minX)*1.1,d=Math.abs(s.maxY-s.minY)*1.1,h=n/u,f=i/d;a=h<=f?h:f}a>e.maxZoomLevel?a=e.maxZoomLevel:a<e.minZoomLevel&&(a=e.minZoomLevel);const l={position:Nr.findCenter(s),scale:a,animation:e.animation};this.moveTo(l)}focus(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(this.body.nodes[e]!==void 0){const n={x:this.body.nodes[e].x,y:this.body.nodes[e].y};r.position=n,r.lockedOnNode=e,this.moveTo(r)}else console.error("Node: "+e+" cannot be found.")}moveTo(e){if(e===void 0){e={};return}if(e.offset!=null){if(e.offset.x!=null){if(e.offset.x=+e.offset.x,!ja(e.offset.x))throw new TypeError('The option "offset.x" has to be a finite number.')}else e.offset.x=0;if(e.offset.y!=null){if(e.offset.y=+e.offset.y,!ja(e.offset.y))throw new TypeError('The option "offset.y" has to be a finite number.')}else e.offset.x=0}else e.offset={x:0,y:0};if(e.position!=null){if(e.position.x!=null){if(e.position.x=+e.position.x,!ja(e.position.x))throw new TypeError('The option "position.x" has to be a finite number.')}else e.position.x=0;if(e.position.y!=null){if(e.position.y=+e.position.y,!ja(e.position.y))throw new TypeError('The option "position.y" has to be a finite number.')}else e.position.x=0}else e.position=this.getViewPosition();if(e.scale!=null){if(e.scale=+e.scale,!(e.scale>0))throw new TypeError('The option "scale" has to be a number greater than zero.')}else e.scale=this.body.view.scale;e.animation===void 0&&(e.animation={duration:0}),e.animation===!1&&(e.animation={duration:0}),e.animation===!0&&(e.animation={}),e.animation.duration===void 0&&(e.animation.duration=1e3),e.animation.easingFunction===void 0&&(e.animation.easingFunction="easeInOutQuad"),this.animateView(e)}animateView(e){if(e===void 0)return;this.animationEasingFunction=e.animation.easingFunction,this.releaseNode(),e.locked===!0&&(this.lockedOnNodeId=e.lockedOnNode,this.lockedOnNodeOffset=e.offset),this.easingTime!=0&&this._transitionRedraw(!0),this.sourceScale=this.body.view.scale,this.sourceTranslation=this.body.view.translation,this.targetScale=e.scale,this.body.view.scale=this.targetScale;const r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.position.x,y:r.y-e.position.y};if(this.targetTranslation={x:this.sourceTranslation.x+n.x*this.targetScale+e.offset.x,y:this.sourceTranslation.y+n.y*this.targetScale+e.offset.y},e.animation.duration===0)if(this.lockedOnNodeId!=null){var i;this.viewFunction=Z(i=this._lockedRedraw).call(i,this),this.body.emitter.on("initRedraw",this.viewFunction)}else this.body.view.scale=this.targetScale,this.body.view.translation=this.targetTranslation,this.body.emitter.emit("_requestRedraw");else{var s;this.animationSpeed=1/(60*e.animation.duration*.001)||1/60,this.animationEasingFunction=e.animation.easingFunction,this.viewFunction=Z(s=this._transitionRedraw).call(s,this),this.body.emitter.on("initRedraw",this.viewFunction),this.body.emitter.emit("_startRendering")}}_lockedRedraw(){const e={x:this.body.nodes[this.lockedOnNodeId].x,y:this.body.nodes[this.lockedOnNodeId].y},r=this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight}),n={x:r.x-e.x,y:r.y-e.y},i=this.body.view.translation,s={x:i.x+n.x*this.body.view.scale+this.lockedOnNodeOffset.x,y:i.y+n.y*this.body.view.scale+this.lockedOnNodeOffset.y};this.body.view.translation=s}releaseNode(){this.lockedOnNodeId!==void 0&&this.viewFunction!==void 0&&(this.body.emitter.off("initRedraw",this.viewFunction),this.lockedOnNodeId=void 0,this.lockedOnNodeOffset=void 0)}_transitionRedraw(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1;this.easingTime+=this.animationSpeed,this.easingTime=e===!0?1:this.easingTime;const r=Spe[this.animationEasingFunction](this.easingTime);if(this.body.view.scale=this.sourceScale+(this.targetScale-this.sourceScale)*r,this.body.view.translation={x:this.sourceTranslation.x+(this.targetTranslation.x-this.sourceTranslation.x)*r,y:this.sourceTranslation.y+(this.targetTranslation.y-this.sourceTranslation.y)*r},this.easingTime>=1){if(this.body.emitter.off("initRedraw",this.viewFunction),this.easingTime=0,this.lockedOnNodeId!=null){var n;this.viewFunction=Z(n=this._lockedRedraw).call(n,this),this.body.emitter.on("initRedraw",this.viewFunction)}this.body.emitter.emit("animationFinished")}}getScale(){return this.body.view.scale}getViewPosition(){return this.canvas.DOMtoCanvas({x:.5*this.canvas.frame.canvas.clientWidth,y:.5*this.canvas.frame.canvas.clientHeight})}}function aW(t){var e=t&&t.preventDefault||!1,r=t&&t.container||window,n={},i={keydown:{},keyup:{}},s={},a;for(a=97;a<=122;a++)s[String.fromCharCode(a)]={code:65+(a-97),shift:!1};for(a=65;a<=90;a++)s[String.fromCharCode(a)]={code:a,shift:!0};for(a=0;a<=9;a++)s[""+a]={code:48+a,shift:!1};for(a=1;a<=12;a++)s["F"+a]={code:111+a,shift:!1};for(a=0;a<=9;a++)s["num"+a]={code:96+a,shift:!1};s["num*"]={code:106,shift:!1},s["num+"]={code:107,shift:!1},s["num-"]={code:109,shift:!1},s["num/"]={code:111,shift:!1},s["num."]={code:110,shift:!1},s.left={code:37,shift:!1},s.up={code:38,shift:!1},s.right={code:39,shift:!1},s.down={code:40,shift:!1},s.space={code:32,shift:!1},s.enter={code:13,shift:!1},s.shift={code:16,shift:void 0},s.esc={code:27,shift:!1},s.backspace={code:8,shift:!1},s.tab={code:9,shift:!1},s.ctrl={code:17,shift:!1},s.alt={code:18,shift:!1},s.delete={code:46,shift:!1},s.pageup={code:33,shift:!1},s.pagedown={code:34,shift:!1},s["="]={code:187,shift:!1},s["-"]={code:189,shift:!1},s["]"]={code:221,shift:!1},s["["]={code:219,shift:!1};var o=function(d){u(d,"keydown")},l=function(d){u(d,"keyup")},u=function(d,h){if(i[h][d.keyCode]!==void 0){for(var f=i[h][d.keyCode],p=0;p<f.length;p++)(f[p].shift===void 0||f[p].shift==!0&&d.shiftKey==!0||f[p].shift==!1&&d.shiftKey==!1)&&f[p].fn(d);e==!0&&d.preventDefault()}};return n.bind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);i[f][s[d].code]===void 0&&(i[f][s[d].code]=[]),i[f][s[d].code].push({fn:h,shift:s[d].shift})},n.bindAll=function(d,h){h===void 0&&(h="keydown");for(var f in s)s.hasOwnProperty(f)&&n.bind(f,d,h)},n.getKey=function(d){for(var h in s)if(s.hasOwnProperty(h)){if(d.shiftKey==!0&&s[h].shift==!0&&d.keyCode==s[h].code)return h;if(d.shiftKey==!1&&s[h].shift==!1&&d.keyCode==s[h].code)return h;if(d.keyCode==s[h].code&&h=="shift")return h}return"unknown key, currently not supported"},n.unbind=function(d,h,f){if(f===void 0&&(f="keydown"),s[d]===void 0)throw new Error("unsupported key: "+d);if(h!==void 0){var p=[],m=i[f][s[d].code];if(m!==void 0)for(var y=0;y<m.length;y++)m[y].fn==h&&m[y].shift==s[d].shift||p.push(i[f][s[d].code][y]);i[f][s[d].code]=p}else i[f][s[d].code]=[]},n.reset=function(){i={keydown:{},keyup:{}}},n.destroy=function(){i={keydown:{},keyup:{}},r.removeEventListener("keydown",o,!0),r.removeEventListener("keyup",l,!0)},r.addEventListener("keydown",o,!0),r.addEventListener("keyup",l,!0),n}class vye{constructor(e,r){this.body=e,this.canvas=r,this.iconsCreated=!1,this.navigationHammers=[],this.boundFunctions={},this.touchTime=0,this.activated=!1,this.body.emitter.on("activate",()=>{this.activated=!0,this.configureKeyboardBindings()}),this.body.emitter.on("deactivate",()=>{this.activated=!1,this.configureKeyboardBindings()}),this.body.emitter.on("destroy",()=>{this.keycharm!==void 0&&this.keycharm.destroy()}),this.options={}}setOptions(e){e!==void 0&&(this.options=e,this.create())}create(){this.options.navigationButtons===!0?this.iconsCreated===!1&&this.loadNavigationElements():this.iconsCreated===!0&&this.cleanNavigation(),this.configureKeyboardBindings()}cleanNavigation(){if(this.navigationHammers.length!=0){for(let e=0;e<this.navigationHammers.length;e++)this.navigationHammers[e].destroy();this.navigationHammers=[]}this.navigationDOM&&this.navigationDOM.wrapper&&this.navigationDOM.wrapper.parentNode&&this.navigationDOM.wrapper.parentNode.removeChild(this.navigationDOM.wrapper),this.iconsCreated=!1}loadNavigationElements(){this.cleanNavigation(),this.navigationDOM={};const e=["up","down","left","right","zoomIn","zoomOut","zoomExtends"],r=["_moveUp","_moveDown","_moveLeft","_moveRight","_zoomIn","_zoomOut","_fit"];this.navigationDOM.wrapper=document.createElement("div"),this.navigationDOM.wrapper.className="vis-navigation",this.canvas.frame.appendChild(this.navigationDOM.wrapper);for(let a=0;a<e.length;a++){this.navigationDOM[e[a]]=document.createElement("div"),this.navigationDOM[e[a]].className="vis-button vis-"+e[a],this.navigationDOM.wrapper.appendChild(this.navigationDOM[e[a]]);const o=new wl(this.navigationDOM[e[a]]);if(r[a]==="_fit"){var n;np(o,Z(n=this._fit).call(n,this))}else{var i;np(o,Z(i=this.bindToRedraw).call(i,this,r[a]))}this.navigationHammers.push(o)}const s=new wl(this.canvas.frame);uY(s,()=>{this._stopMovement()}),this.navigationHammers.push(s),this.iconsCreated=!0}bindToRedraw(e){if(this.boundFunctions[e]===void 0){var r;this.boundFunctions[e]=Z(r=this[e]).call(r,this),this.body.emitter.on("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_startRendering")}}unbindFromRedraw(e){this.boundFunctions[e]!==void 0&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"),delete this.boundFunctions[e])}_fit(){new Date().valueOf()-this.touchTime>700&&(this.body.emitter.emit("fit",{duration:700}),this.touchTime=new Date().valueOf())}_stopMovement(){for(const e in this.boundFunctions)Object.prototype.hasOwnProperty.call(this.boundFunctions,e)&&(this.body.emitter.off("initRedraw",this.boundFunctions[e]),this.body.emitter.emit("_stopRendering"));this.boundFunctions={}}_moveUp(){this.body.view.translation.y+=this.options.keyboard.speed.y}_moveDown(){this.body.view.translation.y-=this.options.keyboard.speed.y}_moveLeft(){this.body.view.translation.x+=this.options.keyboard.speed.x}_moveRight(){this.body.view.translation.x-=this.options.keyboard.speed.x}_zoomIn(){const e=this.body.view.scale,r=this.body.view.scale*(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:null})}_zoomOut(){const e=this.body.view.scale,r=this.body.view.scale/(1+this.options.keyboard.speed.zoom),n=this.body.view.translation,i=r/e,s=(1-i)*this.canvas.canvasViewCenter.x+n.x*i,a=(1-i)*this.canvas.canvasViewCenter.y+n.y*i;this.body.view.scale=r,this.body.view.translation={x:s,y:a},this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:null})}configureKeyboardBindings(){if(this.keycharm!==void 0&&this.keycharm.destroy(),this.options.keyboard.enabled===!0&&(this.options.keyboard.bindToWindow===!0?this.keycharm=aW({container:window,preventDefault:!0}):this.keycharm=aW({container:this.canvas.frame,preventDefault:!0}),this.keycharm.reset(),this.activated===!0)){var e,r,n,i,s,a,o,l,u,d,h,f,p,m,y,b,g,v,x,w,_,E,O,S;Z(e=this.keycharm).call(e,"up",()=>{this.bindToRedraw("_moveUp")},"keydown"),Z(r=this.keycharm).call(r,"down",()=>{this.bindToRedraw("_moveDown")},"keydown"),Z(n=this.keycharm).call(n,"left",()=>{this.bindToRedraw("_moveLeft")},"keydown"),Z(i=this.keycharm).call(i,"right",()=>{this.bindToRedraw("_moveRight")},"keydown"),Z(s=this.keycharm).call(s,"=",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(a=this.keycharm).call(a,"num+",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(o=this.keycharm).call(o,"num-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(l=this.keycharm).call(l,"-",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(u=this.keycharm).call(u,"[",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(d=this.keycharm).call(d,"]",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(h=this.keycharm).call(h,"pageup",()=>{this.bindToRedraw("_zoomIn")},"keydown"),Z(f=this.keycharm).call(f,"pagedown",()=>{this.bindToRedraw("_zoomOut")},"keydown"),Z(p=this.keycharm).call(p,"up",()=>{this.unbindFromRedraw("_moveUp")},"keyup"),Z(m=this.keycharm).call(m,"down",()=>{this.unbindFromRedraw("_moveDown")},"keyup"),Z(y=this.keycharm).call(y,"left",()=>{this.unbindFromRedraw("_moveLeft")},"keyup"),Z(b=this.keycharm).call(b,"right",()=>{this.unbindFromRedraw("_moveRight")},"keyup"),Z(g=this.keycharm).call(g,"=",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(v=this.keycharm).call(v,"num+",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(x=this.keycharm).call(x,"num-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(w=this.keycharm).call(w,"-",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(_=this.keycharm).call(_,"[",()=>{this.unbindFromRedraw("_zoomOut")},"keyup"),Z(E=this.keycharm).call(E,"]",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(O=this.keycharm).call(O,"pageup",()=>{this.unbindFromRedraw("_zoomIn")},"keyup"),Z(S=this.keycharm).call(S,"pagedown",()=>{this.unbindFromRedraw("_zoomOut")},"keyup")}}}class gye{constructor(e,r,n){var i,s,a,o,l,u,d,h,f,p,m,y,b;this.body=e,this.canvas=r,this.selectionHandler=n,this.navigationHandler=new vye(e,r),this.body.eventListeners.onTap=Z(i=this.onTap).call(i,this),this.body.eventListeners.onTouch=Z(s=this.onTouch).call(s,this),this.body.eventListeners.onDoubleTap=Z(a=this.onDoubleTap).call(a,this),this.body.eventListeners.onHold=Z(o=this.onHold).call(o,this),this.body.eventListeners.onDragStart=Z(l=this.onDragStart).call(l,this),this.body.eventListeners.onDrag=Z(u=this.onDrag).call(u,this),this.body.eventListeners.onDragEnd=Z(d=this.onDragEnd).call(d,this),this.body.eventListeners.onMouseWheel=Z(h=this.onMouseWheel).call(h,this),this.body.eventListeners.onPinch=Z(f=this.onPinch).call(f,this),this.body.eventListeners.onMouseMove=Z(p=this.onMouseMove).call(p,this),this.body.eventListeners.onRelease=Z(m=this.onRelease).call(m,this),this.body.eventListeners.onContext=Z(y=this.onContext).call(y,this),this.touchTime=0,this.drag={},this.pinch={},this.popup=void 0,this.popupObj=void 0,this.popupTimer=void 0,this.body.functions.getPointer=Z(b=this.getPointer).call(b,this),this.options={},this.defaultOptions={dragNodes:!0,dragView:!0,hover:!1,keyboard:{enabled:!1,speed:{x:10,y:10,zoom:.02},bindToWindow:!0,autoFocus:!0},navigationButtons:!1,tooltipDelay:300,zoomView:!0,zoomSpeed:1},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("destroy",()=>{clearTimeout(this.popupTimer),delete this.body.functions.getPointer})}setOptions(e){e!==void 0&&(ep(["hideEdgesOnDrag","hideEdgesOnZoom","hideNodesOnDrag","keyboard","multiselect","selectable","selectConnectedEdges"],this.options,e),_n(this.options,e,"keyboard"),e.tooltip&&(kt(this.options.tooltip,e.tooltip),e.tooltip.color&&(this.options.tooltip.color=tC(e.tooltip.color)))),this.navigationHandler.setOptions(this.options)}getPointer(e){return{x:e.x-bpe(this.canvas.frame.canvas),y:e.y-wpe(this.canvas.frame.canvas)}}onTouch(e){new Date().valueOf()-this.touchTime>50&&(this.drag.pointer=this.getPointer(e.center),this.drag.pinched=!1,this.pinch.scale=this.body.view.scale,this.touchTime=new Date().valueOf())}onTap(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect&&(e.changedPointers[0].ctrlKey||e.changedPointers[0].metaKey);this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r)}onDoubleTap(e){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("doubleClick",e,r)}onHold(e){const r=this.getPointer(e.center),n=this.selectionHandler.options.multiselect;this.checkSelectionChanges(r,n),this.selectionHandler.commitAndEmit(r,e),this.selectionHandler.generateClickEvent("click",e,r),this.selectionHandler.generateClickEvent("hold",e,r)}onRelease(e){if(new Date().valueOf()-this.touchTime>10){const r=this.getPointer(e.center);this.selectionHandler.generateClickEvent("release",e,r),this.touchTime=new Date().valueOf()}}onContext(e){const r=this.getPointer({x:e.clientX,y:e.clientY});this.selectionHandler.generateClickEvent("oncontext",e,r)}checkSelectionChanges(e){(arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1)===!0?this.selectionHandler.selectAdditionalOnPoint(e):this.selectionHandler.selectOnPoint(e)}_determineDifference(e,r){const n=function(i,s){const a=[];for(let o=0;o<i.length;o++){const l=i[o];Ue(s).call(s,l)===-1&&a.push(l)}return a};return{nodes:n(e.nodes,r.nodes),edges:n(e.edges,r.edges)}}onDragStart(e){if(this.drag.dragging)return;this.drag.pointer===void 0&&this.onTouch(e);const r=this.selectionHandler.getNodeAt(this.drag.pointer);if(this.drag.dragging=!0,this.drag.selection=[],this.drag.translation=kt({},this.body.view.translation),this.drag.nodeId=void 0,e.srcEvent.shiftKey){this.body.selectionBox.show=!0;const n=this.getPointer(e.center);this.body.selectionBox.position.start={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)},this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(n.x),y:this.canvas._YconvertDOMtoCanvas(n.y)}}else if(r!==void 0&&this.options.dragNodes===!0){this.drag.nodeId=r.id,r.isSelected()===!1&&this.selectionHandler.setSelection({nodes:[r.id]}),this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer);for(const n of this.selectionHandler.getSelectedNodes()){const i={id:n.id,node:n,x:n.x,y:n.y,xFixed:n.options.fixed.x,yFixed:n.options.fixed.y};n.options.fixed.x=!0,n.options.fixed.y=!0,this.drag.selection.push(i)}}else this.selectionHandler.generateClickEvent("dragStart",e,this.drag.pointer,void 0,!0)}onDrag(e){if(this.drag.pinched===!0)return;this.body.emitter.emit("unlockNode");const r=this.getPointer(e.center),n=this.drag.selection;if(n&&n.length&&this.options.dragNodes===!0){this.selectionHandler.generateClickEvent("dragging",e,r);const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;Ye(n).call(n,a=>{const o=a.node;a.xFixed===!1&&(o.x=this.canvas._XconvertDOMtoCanvas(this.canvas._XconvertCanvasToDOM(a.x)+i)),a.yFixed===!1&&(o.y=this.canvas._YconvertDOMtoCanvas(this.canvas._YconvertCanvasToDOM(a.y)+s))}),this.body.emitter.emit("startSimulation")}else{if(e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}this.body.selectionBox.position.end={x:this.canvas._XconvertDOMtoCanvas(r.x),y:this.canvas._YconvertDOMtoCanvas(r.y)},this.body.emitter.emit("_requestRedraw")}if(this.options.dragView===!0&&!e.srcEvent.shiftKey){if(this.selectionHandler.generateClickEvent("dragging",e,r,void 0,!0),this.drag.pointer===void 0){this.onDragStart(e);return}const i=r.x-this.drag.pointer.x,s=r.y-this.drag.pointer.y;this.body.view.translation={x:this.drag.translation.x+i,y:this.drag.translation.y+s},this.body.emitter.emit("_requestRedraw")}}}onDragEnd(e){if(this.drag.dragging=!1,this.body.selectionBox.show){var r;this.body.selectionBox.show=!1;const n=this.body.selectionBox.position,i={minX:Math.min(n.start.x,n.end.x),minY:Math.min(n.start.y,n.end.y),maxX:Math.max(n.start.x,n.end.x),maxY:Math.max(n.start.y,n.end.y)},s=Wr(r=this.body.nodeIndices).call(r,o=>{const l=this.body.nodes[o];return l.x>=i.minX&&l.x<=i.maxX&&l.y>=i.minY&&l.y<=i.maxY});Ye(s).call(s,o=>this.selectionHandler.selectObject(this.body.nodes[o]));const a=this.getPointer(e.center);this.selectionHandler.commitAndEmit(a,e),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw")}else{const n=this.drag.selection;n&&n.length?(Ye(n).call(n,function(i){i.node.options.fixed.x=i.xFixed,i.node.options.fixed.y=i.yFixed}),this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center)),this.body.emitter.emit("startSimulation")):(this.selectionHandler.generateClickEvent("dragEnd",e,this.getPointer(e.center),void 0,!0),this.body.emitter.emit("_requestRedraw"))}}onPinch(e){const r=this.getPointer(e.center);this.drag.pinched=!0,this.pinch.scale===void 0&&(this.pinch.scale=1);const n=this.pinch.scale*e.scale;this.zoom(n,r)}zoom(e,r){if(this.options.zoomView===!0){const n=this.body.view.scale;e<1e-5&&(e=1e-5),e>10&&(e=10);let i;this.drag!==void 0&&this.drag.dragging===!0&&(i=this.canvas.DOMtoCanvas(this.drag.pointer));const s=this.body.view.translation,a=e/n,o=(1-a)*r.x+s.x*a,l=(1-a)*r.y+s.y*a;if(this.body.view.scale=e,this.body.view.translation={x:o,y:l},i!=null){const u=this.canvas.canvasToDOM(i);this.drag.pointer.x=u.x,this.drag.pointer.y=u.y}this.body.emitter.emit("_requestRedraw"),n<e?this.body.emitter.emit("zoom",{direction:"+",scale:this.body.view.scale,pointer:r}):this.body.emitter.emit("zoom",{direction:"-",scale:this.body.view.scale,pointer:r})}}onMouseWheel(e){if(this.options.zoomView===!0){if(e.deltaY!==0){let r=this.body.view.scale;r*=1+(e.deltaY<0?1:-1)*(this.options.zoomSpeed*.1);const n=this.getPointer({x:e.clientX,y:e.clientY});this.zoom(r,n)}e.preventDefault()}}onMouseMove(e){const r=this.getPointer({x:e.clientX,y:e.clientY});let n=!1;this.popup!==void 0&&(this.popup.hidden===!1&&this._checkHidePopup(r),this.popup.hidden===!1&&(n=!0,this.popup.setPosition(r.x+3,r.y-5),this.popup.show())),this.options.keyboard.autoFocus&&this.options.keyboard.bindToWindow===!1&&this.options.keyboard.enabled===!0&&this.canvas.frame.focus(),n===!1&&(this.popupTimer!==void 0&&(clearInterval(this.popupTimer),this.popupTimer=void 0),this.drag.dragging||(this.popupTimer=Wi(()=>this._checkShowPopup(r),this.options.tooltipDelay))),this.options.hover===!0&&this.selectionHandler.hoverObject(e,r)}_checkShowPopup(e){const r=this.canvas._XconvertDOMtoCanvas(e.x),n=this.canvas._YconvertDOMtoCanvas(e.y),i={left:r,top:n,right:r,bottom:n},s=this.popupObj===void 0?void 0:this.popupObj.id;let a=!1,o="node";if(this.popupObj===void 0){const l=this.body.nodeIndices,u=this.body.nodes;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&(a=!0,d.getTitle()!==void 0&&h.push(l[f]));h.length>0&&(this.popupObj=u[h[h.length-1]],a=!0)}if(this.popupObj===void 0&&a===!1){const l=this.body.edgeIndices,u=this.body.edges;let d;const h=[];for(let f=0;f<l.length;f++)d=u[l[f]],d.isOverlappingWith(i)===!0&&d.connected===!0&&d.getTitle()!==void 0&&h.push(l[f]);h.length>0&&(this.popupObj=u[h[h.length-1]],o="edge")}this.popupObj!==void 0?this.popupObj.id!==s&&(this.popup===void 0&&(this.popup=new Rpe(this.canvas.frame)),this.popup.popupTargetType=o,this.popup.popupTargetId=this.popupObj.id,this.popup.setPosition(e.x+3,e.y-5),this.popup.setText(this.popupObj.getTitle()),this.popup.show(),this.body.emitter.emit("showPopup",this.popupObj.id)):this.popup!==void 0&&(this.popup.hide(),this.body.emitter.emit("hidePopup"))}_checkHidePopup(e){const r=this.selectionHandler._pointerToPositionObject(e);let n=!1;if(this.popup.popupTargetType==="node"){if(this.body.nodes[this.popup.popupTargetId]!==void 0&&(n=this.body.nodes[this.popup.popupTargetId].isOverlappingWith(r),n===!0)){const i=this.selectionHandler.getNodeAt(e);n=i===void 0?!1:i.id===this.popup.popupTargetId}}else this.selectionHandler.getNodeAt(e)===void 0&&this.body.edges[this.popup.popupTargetId]!==void 0&&(n=this.body.edges[this.popup.popupTargetId].isOverlappingWith(r));n===!1&&(this.popupObj=void 0,this.popup.hide(),this.body.emitter.emit("hidePopup"))}}var oW={},lW={},uW;function yye(){if(uW)return lW;uW=1;var t=EN(),e=JG();return t("Set",function(r){return function(){return r(this,arguments.length?arguments[0]:void 0)}},e),lW}var cW;function bye(){return cW||(cW=1,yye()),oW}var dW={},PE,hW;function Do(){if(hW)return PE;hW=1;var t=Iu(),e=TypeError;return PE=function(r){if(typeof r=="object"&&"size"in r&&"has"in r&&"add"in r&&"delete"in r&&"keys"in r)return r;throw new e(t(r)+" is not a set")},PE}var CE,fW;function qo(){if(fW)return CE;fW=1;var t=gn(),e=ZG(),r=t("Set"),n=r.prototype;return CE={Set:r,add:e("add",1),has:e("has",1),remove:e("delete",1),proto:n},CE}var TE,pW;function Mo(){if(pW)return TE;pW=1;var t=nn();return TE=function(e,r,n){for(var i=n?e:e.iterator,s=e.next,a,o;!(a=t(s,i)).done;)if(o=r(a.value),o!==void 0)return o},TE}var NE,mW;function uh(){if(mW)return NE;mW=1;var t=Mo();return NE=function(e,r,n){return n?t(e.keys(),r,!0):e.forEach(r)},NE}var IE,vW;function RN(){if(vW)return IE;vW=1;var t=qo(),e=uh(),r=t.Set,n=t.add;return IE=function(i){var s=new r;return e(i,function(a){n(s,a)}),s},IE}var RE,gW;function ch(){return gW||(gW=1,RE=function(t){return t.size}),RE}var jE,yW;function wye(){return yW||(yW=1,jE=function(t){return{iterator:t,next:t.next,done:!1}}),jE}var $E,bW;function Ao(){if(bW)return $E;bW=1;var t=cs(),e=Ei(),r=nn(),n=ku(),i=wye(),s="Invalid size",a=RangeError,o=TypeError,l=Math.max,u=function(d,h){this.set=d,this.size=l(h,0),this.has=t(d.has),this.keys=t(d.keys)};return u.prototype={getIterator:function(){return i(e(r(this.keys,this.set)))},includes:function(d){return r(this.has,this.set,d)}},$E=function(d){e(d);var h=+d.size;if(h!==h)throw new o(s);var f=n(h);if(f<0)throw new a(s);return new u(d,f)},$E}var kE,wW;function xye(){if(wW)return kE;wW=1;var t=Do(),e=qo(),r=RN(),n=ch(),i=Ao(),s=uh(),a=Mo(),o=e.has,l=e.remove;return kE=function(d){var h=t(this),f=i(d),p=r(h);return n(h)<=f.size?s(h,function(m){f.includes(m)&&l(p,m)}):a(f.getIterator(),function(m){o(p,m)&&l(p,m)}),p},kE}var DE,xW;function Fo(){return xW||(xW=1,DE=function(){return!1}),DE}var _W;function _ye(){if(_W)return dW;_W=1;var t=ge(),e=xye(),r=De(),n=Fo(),i=!n("difference",function(a){return a.size===0}),s=i||r(function(){var a={size:1,has:function(){return!0},keys:function(){var l=0;return{next:function(){var u=l++>1;return o.has(1)&&o.clear(),{done:u,value:2}}}}},o=new Set([1,2,3,4]);return o.difference(a).size!==3});return t({target:"Set",proto:!0,real:!0,forced:s},{difference:e}),dW}var SW={},qE,EW;function Sye(){if(EW)return qE;EW=1;var t=Do(),e=qo(),r=ch(),n=Ao(),i=uh(),s=Mo(),a=e.Set,o=e.add,l=e.has;return qE=function(d){var h=t(this),f=n(d),p=new a;return r(h)>f.size?s(f.getIterator(),function(m){l(h,m)&&o(p,m)}):i(h,function(m){f.includes(m)&&o(p,m)}),p},qE}var OW;function Eye(){if(OW)return SW;OW=1;var t=ge(),e=De(),r=Sye(),n=Fo(),i=!n("intersection",function(s){return s.size===2&&s.has(1)&&s.has(2)})||e(function(){return String(Array.from(new Set([1,2,3]).intersection(new Set([3,2]))))!=="3,2"});return t({target:"Set",proto:!0,real:!0,forced:i},{intersection:r}),SW}var PW={},ME,CW;function Oye(){if(CW)return ME;CW=1;var t=Do(),e=qo().has,r=ch(),n=Ao(),i=uh(),s=Mo(),a=_N();return ME=function(l){var u=t(this),d=n(l);if(r(u)<=d.size)return i(u,function(f){if(d.includes(f))return!1},!0)!==!1;var h=d.getIterator();return s(h,function(f){if(e(u,f))return a(h,"normal",!1)})!==!1},ME}var TW;function Pye(){if(TW)return PW;TW=1;var t=ge(),e=Oye(),r=Fo(),n=!r("isDisjointFrom",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isDisjointFrom:e}),PW}var NW={},AE,IW;function Cye(){if(IW)return AE;IW=1;var t=Do(),e=ch(),r=uh(),n=Ao();return AE=function(s){var a=t(this),o=n(s);return e(a)>o.size?!1:r(a,function(l){if(!o.includes(l))return!1},!0)!==!1},AE}var RW;function Tye(){if(RW)return NW;RW=1;var t=ge(),e=Cye(),r=Fo(),n=!r("isSubsetOf",function(i){return i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSubsetOf:e}),NW}var jW={},FE,$W;function Nye(){if($W)return FE;$W=1;var t=Do(),e=qo().has,r=ch(),n=Ao(),i=Mo(),s=_N();return FE=function(o){var l=t(this),u=n(o);if(r(l)<u.size)return!1;var d=u.getIterator();return i(d,function(h){if(!e(l,h))return s(d,"normal",!1)})!==!1},FE}var kW;function Iye(){if(kW)return jW;kW=1;var t=ge(),e=Nye(),r=Fo(),n=!r("isSupersetOf",function(i){return!i});return t({target:"Set",proto:!0,real:!0,forced:n},{isSupersetOf:e}),jW}var DW={},LE,qW;function Rye(){if(qW)return LE;qW=1;var t=Do(),e=qo(),r=RN(),n=Ao(),i=Mo(),s=e.add,a=e.has,o=e.remove;return LE=function(u){var d=t(this),h=n(u).getIterator(),f=r(d);return i(h,function(p){a(d,p)?o(f,p):s(f,p)}),f},LE}var BE,MW;function cY(){return MW||(MW=1,BE=function(t){try{var e=new Set,r={size:0,has:function(){return!0},keys:function(){return Object.defineProperty({},"next",{get:function(){return e.clear(),e.add(4),function(){return{done:!0}}}})}},n=e[t](r);return n.size===1&&n.values().next().value===4}catch{return!1}}),BE}var AW;function jye(){if(AW)return DW;AW=1;var t=ge(),e=Rye(),r=cY(),n=Fo(),i=!n("symmetricDifference")||!r("symmetricDifference");return t({target:"Set",proto:!0,real:!0,forced:i},{symmetricDifference:e}),DW}var FW={},zE,LW;function $ye(){if(LW)return zE;LW=1;var t=Do(),e=qo().add,r=RN(),n=Ao(),i=Mo();return zE=function(a){var o=t(this),l=n(a).getIterator(),u=r(o);return i(l,function(d){e(u,d)}),u},zE}var BW;function kye(){if(BW)return FW;BW=1;var t=ge(),e=$ye(),r=cY(),n=Fo(),i=!n("union")||!r("union");return t({target:"Set",proto:!0,real:!0,forced:i},{union:e}),FW}var UE,zW;function Dye(){if(zW)return UE;zW=1,Au(),bye(),_ye(),Eye(),Pye(),Tye(),Iye(),jye(),kye(),PN();var t=Ve();return UE=t.Set,UE}var WE,UW;function qye(){if(UW)return WE;UW=1;var t=Dye();return Fu(),WE=t,WE}var HE,WW;function Mye(){return WW||(WW=1,HE=qye()),HE}var Aye=Mye(),_s=Ee(Aye),HW={},VW={},VE,KW;function Fye(){if(KW)return VE;KW=1;var t=Ae(),e=ON(),r=lm().getWeakData,n=SN(),i=Ei(),s=Cu(),a=rr(),o=um(),l=pa(),u=fr(),d=jo(),h=d.set,f=d.getterFor,p=l.find,m=l.findIndex,y=t([].splice),b=0,g=function(w){return w.frozen||(w.frozen=new v)},v=function(){this.entries=[]},x=function(w,_){return p(w.entries,function(E){return E[0]===_})};return v.prototype={get:function(w){var _=x(this,w);if(_)return _[1]},has:function(w){return!!x(this,w)},set:function(w,_){var E=x(this,w);E?E[1]=_:this.entries.push([w,_])},delete:function(w){var _=m(this.entries,function(E){return E[0]===w});return~_&&y(this.entries,_,1),!!~_}},VE={getConstructor:function(w,_,E,O){var S=w(function(T,N){n(T,P),h(T,{type:_,id:b++,frozen:null}),s(N)||o(N,T[O],{that:T,AS_ENTRIES:E})}),P=S.prototype,C=f(_),I=function(T,N,q){var z=C(T),te=r(i(N),!0);return te===!0?g(z).set(N,q):te[z.id]=q,T};return e(P,{delete:function(T){var N=C(this);if(!a(T))return!1;var q=r(T);return q===!0?g(N).delete(T):q&&u(q,N.id)&&delete q[N.id]},has:function(N){var q=C(this);if(!a(N))return!1;var z=r(N);return z===!0?g(q).has(N):z&&u(z,q.id)}}),e(P,E?{get:function(N){var q=C(this);if(a(N)){var z=r(N);if(z===!0)return g(q).get(N);if(z)return z[q.id]}},set:function(N,q){return I(this,N,q)}}:{add:function(N){return I(this,N,!0)}}),S}},VE}var GW;function Lye(){if(GW)return VW;GW=1;var t=QG(),e=ut(),r=Ae(),n=ON(),i=lm(),s=EN(),a=Fye(),o=rr(),l=jo().enforce,u=De(),d=J9(),h=Object,f=Array.isArray,p=h.isExtensible,m=h.isFrozen,y=h.isSealed,b=h.freeze,g=h.seal,v=!e.ActiveXObject&&"ActiveXObject"in e,x,w=function(T){return function(){return T(this,arguments.length?arguments[0]:void 0)}},_=s("WeakMap",w,a),E=_.prototype,O=r(E.set),S=function(){return t&&u(function(){var T=b([]);return O(new _,T,1),!m(T)})};if(d)if(v){x=a.getConstructor(w,"WeakMap",!0),i.enable();var P=r(E.delete),C=r(E.has),I=r(E.get);n(E,{delete:function(T){if(o(T)&&!p(T)){var N=l(this);return N.frozen||(N.frozen=new x),P(this,T)||N.frozen.delete(T)}return P(this,T)},has:function(N){if(o(N)&&!p(N)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,N)||q.frozen.has(N)}return C(this,N)},get:function(N){if(o(N)&&!p(N)){var q=l(this);return q.frozen||(q.frozen=new x),C(this,N)?I(this,N):q.frozen.get(N)}return I(this,N)},set:function(N,q){if(o(N)&&!p(N)){var z=l(this);z.frozen||(z.frozen=new x),C(this,N)?O(this,N,q):z.frozen.set(N,q)}else O(this,N,q);return this}})}else S()&&n(E,{set:function(N,q){var z;return f(N)&&(m(N)?z=b:y(N)&&(z=g)),O(this,N,q),z&&z(N),this}});return VW}var YW;function Bye(){return YW||(YW=1,Lye()),HW}var KE,QW;function zye(){if(QW)return KE;QW=1,Au(),Bye();var t=Ve();return KE=t.WeakMap,KE}var GE,XW;function Uye(){if(XW)return GE;XW=1;var t=zye();return Fu(),GE=t,GE}var YE,JW;function Wye(){return JW||(JW=1,YE=Uye()),YE}var Hye=Wye(),dh=Ee(Hye);function Nc(t,e,r){Vye(t,e),e.set(t,r)}function Vye(t,e){if(e.has(t))throw new TypeError("Cannot initialize the same private elements twice on an object")}function oC(t,e,r){return t.set(dY(t,e),r),r}function Ze(t,e){return t.get(dY(t,e))}function dY(t,e,r){if(typeof t=="function"?t===e:t.has(e))return arguments.length<3?e:r;throw new TypeError("Private element is not present on this object")}function ZW(t,e){const r=new _s;for(const n of e)t.has(n)||r.add(n);return r}var Vo=new dh,An=new dh;class e8{constructor(){Nc(this,Vo,new _s),Nc(this,An,new _s)}get size(){return Ze(An,this).size}add(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(An,this).add(i)}delete(){for(var e=arguments.length,r=new Array(e),n=0;n<e;n++)r[n]=arguments[n];for(const i of r)Ze(An,this).delete(i)}clear(){Ze(An,this).clear()}getSelection(){return[...Ze(An,this)]}getChanges(){return{added:[...ZW(Ze(Vo,this),Ze(An,this))],deleted:[...ZW(Ze(An,this),Ze(Vo,this))],previous:[...new _s(Ze(Vo,this))],current:[...new _s(Ze(An,this))]}}commit(){const e=this.getChanges();oC(Vo,this,Ze(An,this)),oC(An,this,new _s(Ze(Vo,this)));for(const r of e.added)r.select();for(const r of e.deleted)r.unselect();return e}}var ya=new dh,ba=new dh,QE=new dh;class Kye{constructor(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:()=>{};Nc(this,ya,new e8),Nc(this,ba,new e8),Nc(this,QE,void 0),oC(QE,this,e)}get sizeNodes(){return Ze(ya,this).size}get sizeEdges(){return Ze(ba,this).size}getNodes(){return Ze(ya,this).getSelection()}getEdges(){return Ze(ba,this).getSelection()}addNodes(){Ze(ya,this).add(...arguments)}addEdges(){Ze(ba,this).add(...arguments)}deleteNodes(e){Ze(ya,this).delete(e)}deleteEdges(e){Ze(ba,this).delete(e)}clear(){Ze(ya,this).clear(),Ze(ba,this).clear()}commit(){const e={nodes:Ze(ya,this).commit(),edges:Ze(ba,this).commit()};for(var r=arguments.length,n=new Array(r),i=0;i<r;i++)n[i]=arguments[i];return Ze(QE,this).call(this,e,...n),e}}class Gye{constructor(e,r){this.body=e,this.canvas=r,this._selectionAccumulator=new Kye,this.hoverObj={nodes:{},edges:{}},this.options={},this.defaultOptions={multiselect:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0},kt(this.options,this.defaultOptions),this.body.emitter.on("_dataChanged",()=>{this.updateSelection()})}setOptions(e){e!==void 0&&zu(["multiselect","hoverConnectedEdges","selectable","selectConnectedEdges"],this.options,e)}selectOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);this.unselectAll(),n!==void 0&&(r=this.selectObject(n)),this.body.emitter.emit("_requestRedraw")}return r}selectAdditionalOnPoint(e){let r=!1;if(this.options.selectable===!0){const n=this.getNodeAt(e)||this.getEdgeAt(e);n!==void 0&&(r=!0,n.isSelected()===!0?this.deselectObject(n):this.selectObject(n),this.body.emitter.emit("_requestRedraw"))}return r}_initBaseEvent(e,r){const n={};return n.pointer={DOM:{x:r.x,y:r.y},canvas:this.canvas.DOMtoCanvas(r)},n.event=e,n}generateClickEvent(e,r,n,i){let s=arguments.length>4&&arguments[4]!==void 0?arguments[4]:!1;const a=this._initBaseEvent(r,n);if(s===!0)a.nodes=[],a.edges=[];else{const o=this.getSelection();a.nodes=o.nodes,a.edges=o.edges}i!==void 0&&(a.previousSelection=i),e=="click"&&(a.items=this.getClickedItems(n)),r.controlEdge!==void 0&&(a.controlEdge=r.controlEdge),this.body.emitter.emit(e,a)}selectObject(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:this.options.selectConnectedEdges;return e!==void 0?(e instanceof ot?(r===!0&&this._selectionAccumulator.addEdges(...e.edges),this._selectionAccumulator.addNodes(e)):this._selectionAccumulator.addEdges(e),!0):!1}deselectObject(e){e.isSelected()===!0&&(e.selected=!1,this._removeFromSelection(e))}_getAllNodesOverlappingWith(e){const r=[],n=this.body.nodes;for(let i=0;i<this.body.nodeIndices.length;i++){const s=this.body.nodeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}return r}_pointerToPositionObject(e){const r=this.canvas.DOMtoCanvas(e);return{left:r.x-1,top:r.y+1,right:r.x+1,bottom:r.y-1}}getNodeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this._pointerToPositionObject(e),i=this._getAllNodesOverlappingWith(n);if(i.length>0)return r===!0?this.body.nodes[i[i.length-1]]:i[i.length-1]}_getEdgesOverlappingWith(e,r){const n=this.body.edges;for(let i=0;i<this.body.edgeIndices.length;i++){const s=this.body.edgeIndices[i];n[s].isOverlappingWith(e)&&r.push(s)}}_getAllEdgesOverlappingWith(e){const r=[];return this._getEdgesOverlappingWith(e,r),r}getEdgeAt(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;const n=this.canvas.DOMtoCanvas(e);let i=10,s=null;const a=this.body.edges;for(let o=0;o<this.body.edgeIndices.length;o++){const l=this.body.edgeIndices[o],u=a[l];if(u.connected){const d=u.from.x,h=u.from.y,f=u.to.x,p=u.to.y,m=u.edgeType.getDistanceToEdge(d,h,f,p,n.x,n.y);m<i&&(s=l,i=m)}}if(s!==null)return r===!0?this.body.edges[s]:s}_addToHover(e){e instanceof ot?this.hoverObj.nodes[e.id]=e:this.hoverObj.edges[e.id]=e}_removeFromSelection(e){e instanceof ot?(this._selectionAccumulator.deleteNodes(e),this._selectionAccumulator.deleteEdges(...e.edges)):this._selectionAccumulator.deleteEdges(e)}unselectAll(){this._selectionAccumulator.clear()}getSelectedNodeCount(){return this._selectionAccumulator.sizeNodes}getSelectedEdgeCount(){return this._selectionAccumulator.sizeEdges}_hoverConnectedEdges(e){for(let r=0;r<e.edges.length;r++){const n=e.edges[r];n.hover=!0,this._addToHover(n)}}emitBlurEvent(e,r,n){const i=this._initBaseEvent(e,r);n.hover===!0&&(n.hover=!1,n instanceof ot?(i.node=n.id,this.body.emitter.emit("blurNode",i)):(i.edge=n.id,this.body.emitter.emit("blurEdge",i)))}emitHoverEvent(e,r,n){const i=this._initBaseEvent(e,r);let s=!1;return n.hover===!1&&(n.hover=!0,this._addToHover(n),s=!0,n instanceof ot?(i.node=n.id,this.body.emitter.emit("hoverNode",i)):(i.edge=n.id,this.body.emitter.emit("hoverEdge",i))),s}hoverObject(e,r){let n=this.getNodeAt(r);n===void 0&&(n=this.getEdgeAt(r));let i=!1;for(const s in this.hoverObj.nodes)Object.prototype.hasOwnProperty.call(this.hoverObj.nodes,s)&&(n===void 0||n instanceof ot&&n.id!=s||n instanceof Js)&&(this.emitBlurEvent(e,r,this.hoverObj.nodes[s]),delete this.hoverObj.nodes[s],i=!0);for(const s in this.hoverObj.edges)Object.prototype.hasOwnProperty.call(this.hoverObj.edges,s)&&(i===!0?(this.hoverObj.edges[s].hover=!1,delete this.hoverObj.edges[s]):(n===void 0||n instanceof Js&&n.id!=s||n instanceof ot&&!n.hover)&&(this.emitBlurEvent(e,r,this.hoverObj.edges[s]),delete this.hoverObj.edges[s],i=!0));if(n!==void 0){const s=xt(this.hoverObj.edges).length,a=xt(this.hoverObj.nodes).length,o=n instanceof Js&&s===0&&a===0,l=n instanceof ot&&s===0&&a===0;(i||o||l)&&(i=this.emitHoverEvent(e,r,n)),n instanceof ot&&this.options.hoverConnectedEdges===!0&&this._hoverConnectedEdges(n)}i===!0&&this.body.emitter.emit("_requestRedraw")}commitWithoutEmitting(){this._selectionAccumulator.commit()}commitAndEmit(e,r){let n=!1;const i=this._selectionAccumulator.commit(),s={nodes:i.nodes.previous,edges:i.edges.previous};i.edges.deleted.length>0&&(this.generateClickEvent("deselectEdge",r,e,s),n=!0),i.nodes.deleted.length>0&&(this.generateClickEvent("deselectNode",r,e,s),n=!0),i.nodes.added.length>0&&(this.generateClickEvent("selectNode",r,e),n=!0),i.edges.added.length>0&&(this.generateClickEvent("selectEdge",r,e),n=!0),n===!0&&this.generateClickEvent("select",r,e)}getSelection(){return{nodes:this.getSelectedNodeIds(),edges:this.getSelectedEdgeIds()}}getSelectedNodes(){return this._selectionAccumulator.getNodes()}getSelectedEdges(){return this._selectionAccumulator.getEdges()}getSelectedNodeIds(){var e;return ru(e=this._selectionAccumulator.getNodes()).call(e,r=>r.id)}getSelectedEdgeIds(){var e;return ru(e=this._selectionAccumulator.getEdges()).call(e,r=>r.id)}setSelection(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(!e||!e.nodes&&!e.edges)throw new TypeError("Selection must be an object with nodes and/or edges properties");if((r.unselectAll||r.unselectAll===void 0)&&this.unselectAll(),e.nodes)for(const n of e.nodes){const i=this.body.nodes[n];if(!i)throw new RangeError('Node with id "'+n+'" not found');this.selectObject(i,r.highlightEdges)}if(e.edges)for(const n of e.edges){const i=this.body.edges[n];if(!i)throw new RangeError('Edge with id "'+n+'" not found');this.selectObject(i)}this.body.emitter.emit("_requestRedraw"),this._selectionAccumulator.commit()}selectNodes(e){let r=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!0;if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({nodes:e},{highlightEdges:r})}selectEdges(e){if(!e||e.length===void 0)throw"Selection must be an array with ids";this.setSelection({edges:e})}updateSelection(){for(const e in this._selectionAccumulator.getNodes())Object.prototype.hasOwnProperty.call(this.body.nodes,e.id)||this._selectionAccumulator.deleteNodes(e);for(const e in this._selectionAccumulator.getEdges())Object.prototype.hasOwnProperty.call(this.body.edges,e.id)||this._selectionAccumulator.deleteEdges(e)}getClickedItems(e){const r=this.canvas.DOMtoCanvas(e),n=[],i=this.body.nodeIndices,s=this.body.nodes;for(let l=i.length-1;l>=0;l--){const d=s[i[l]].getItemsOnPoint(r);n.push.apply(n,d)}const a=this.body.edgeIndices,o=this.body.edges;for(let l=a.length-1;l>=0;l--){const d=o[a[l]].getItemsOnPoint(r);n.push.apply(n,d)}return n}}var t8={},XE,r8;function Yye(){if(r8)return XE;r8=1;var t=Du(),e=Math.floor,r=function(n,i){var s=n.length;if(s<8)for(var a=1,o,l;a<s;){for(l=a,o=n[a];l&&i(n[l-1],o)>0;)n[l]=n[--l];l!==a++&&(n[l]=o)}else for(var u=e(s/2),d=r(t(n,0,u),i),h=r(t(n,u),i),f=d.length,p=h.length,m=0,y=0;m<f||y<p;)n[m+y]=m<f&&y<p?i(d[m],h[y])<=0?d[m++]:h[y++]:m<f?d[m++]:h[y++];return n};return XE=r,XE}var JE,n8;function Qye(){if(n8)return JE;n8=1;var t=Tu(),e=t.match(/firefox\/(\d+)/i);return JE=!!e&&+e[1],JE}var ZE,i8;function Xye(){if(i8)return ZE;i8=1;var t=Tu();return ZE=/MSIE|Trident/.test(t),ZE}var eO,s8;function Jye(){if(s8)return eO;s8=1;var t=Tu(),e=t.match(/AppleWebKit\/(\d+)\./);return eO=!!e&&+e[1],eO}var a8;function Zye(){if(a8)return t8;a8=1;var t=ge(),e=Ae(),r=cs(),n=yn(),i=ds(),s=uG(),a=Dn(),o=De(),l=Yye(),u=Lu(),d=Qye(),h=Xye(),f=Yd(),p=Jye(),m=[],y=e(m.sort),b=e(m.push),g=o(function(){m.sort(void 0)}),v=o(function(){m.sort(null)}),x=u("sort"),w=!o(function(){if(f)return f<70;if(!(d&&d>3)){if(h)return!0;if(p)return p<603;var O="",S,P,C,I;for(S=65;S<76;S++){switch(P=String.fromCharCode(S),S){case 66:case 69:case 70:case 72:C=3;break;case 68:case 71:C=4;break;default:C=2}for(I=0;I<47;I++)m.push({k:P+I,v:C})}for(m.sort(function(T,N){return N.v-T.v}),I=0;I<m.length;I++)P=m[I].k.charAt(0),O.charAt(O.length-1)!==P&&(O+=P);return O!=="DGBEFHACIJK"}}),_=g||!v||!x||!w,E=function(O){return function(S,P){return P===void 0?-1:S===void 0?1:O!==void 0?+O(S,P)||0:a(S)>a(P)?1:-1}};return t({target:"Array",proto:!0,forced:_},{sort:function(S){S!==void 0&&r(S);var P=n(this);if(w)return S===void 0?y(P):y(P,S);var C=[],I=i(P),T,N;for(N=0;N<I;N++)N in P&&b(C,P[N]);for(l(C,E(S)),T=i(C),N=0;N<T;)P[N]=C[N++];for(;N<I;)s(P,N++);return P}}),t8}var tO,o8;function ebe(){if(o8)return tO;o8=1,Zye();var t=pr();return tO=t("Array","sort"),tO}var rO,l8;function tbe(){if(l8)return rO;l8=1;var t=At(),e=ebe(),r=Array.prototype;return rO=function(n){var i=n.sort;return n===r||t(r,n)&&i===r.sort?e:i},rO}var nO,u8;function rbe(){if(u8)return nO;u8=1;var t=tbe();return nO=t,nO}var iO,c8;function nbe(){return c8||(c8=1,iO=rbe()),iO}var ibe=nbe(),_l=Ee(ibe),d8={},sO,h8;function sbe(){if(h8)return sO;h8=1;var t=cs(),e=yn(),r=Gp(),n=ds(),i=TypeError,s="Reduce of empty array with no initial value",a=function(o){return function(l,u,d,h){var f=e(l),p=r(f),m=n(f);if(t(u),m===0&&d<2)throw new i(s);var y=o?m-1:0,b=o?-1:1;if(d<2)for(;;){if(y in p){h=p[y],y+=b;break}if(y+=b,o?y<0:m<=y)throw new i(s)}for(;o?y>=0:m>y;y+=b)y in p&&(h=u(h,p[y],y,f));return h}};return sO={left:a(!1),right:a(!0)},sO}var aO,f8;function abe(){if(f8)return aO;f8=1;var t=dG();return aO=t==="NODE",aO}var p8;function obe(){if(p8)return d8;p8=1;var t=ge(),e=sbe().left,r=Lu(),n=Yd(),i=abe(),s=!i&&n>79&&n<83,a=s||!r("reduce");return t({target:"Array",proto:!0,forced:a},{reduce:function(l){var u=arguments.length;return e(this,l,u,u>1?arguments[1]:void 0)}}),d8}var oO,m8;function lbe(){if(m8)return oO;m8=1,obe();var t=pr();return oO=t("Array","reduce"),oO}var lO,v8;function ube(){if(v8)return lO;v8=1;var t=At(),e=lbe(),r=Array.prototype;return lO=function(n){var i=n.reduce;return n===r||t(r,n)&&i===r.reduce?e:i},lO}var uO,g8;function cbe(){if(g8)return uO;g8=1;var t=ube();return uO=t,uO}var cO,y8;function dbe(){return y8||(y8=1,cO=cbe()),cO}var hbe=dbe(),hY=Ee(hbe);class fY{abstract(){throw new Error("Can't instantiate abstract class!")}fake_use(){}curveType(){return this.abstract()}getPosition(e){return this.fake_use(e),this.abstract()}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;this.fake_use(e,r,n),this.abstract()}getTreeSize(e){return this.fake_use(e),this.abstract()}sort(e){this.fake_use(e),this.abstract()}fix(e,r){this.fake_use(e,r),this.abstract()}shift(e,r){this.fake_use(e,r),this.abstract()}}class fbe extends fY{constructor(e){super(),this.layout=e}curveType(){return"horizontal"}getPosition(e){return e.x}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.x=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_x,max:r.max_x}}sort(e){_l(e).call(e,function(r,n){return r.x-n.x})}fix(e,r){e.y=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.y=!0}shift(e,r){this.layout.body.nodes[e].x+=r}}class pbe extends fY{constructor(e){super(),this.layout=e}curveType(){return"vertical"}getPosition(e){return e.y}setPosition(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:void 0;n!==void 0&&this.layout.hierarchical.addToOrdering(e,n),e.y=r}getTreeSize(e){const r=this.layout.hierarchical.getTreeSize(this.layout.body.nodes,e);return{min:r.min_y,max:r.max_y}}sort(e){_l(e).call(e,function(r,n){return r.y-n.y})}fix(e,r){e.x=this.layout.options.hierarchical.levelSeparation*r,e.options.fixed.x=!0}shift(e,r){this.layout.body.nodes[e].y+=r}}var b8={},w8;function mbe(){if(w8)return b8;w8=1;var t=ge(),e=pa().every,r=Lu(),n=r("every");return t({target:"Array",proto:!0,forced:!n},{every:function(s){return e(this,s,arguments.length>1?arguments[1]:void 0)}}),b8}var dO,x8;function vbe(){if(x8)return dO;x8=1,mbe();var t=pr();return dO=t("Array","every"),dO}var hO,_8;function gbe(){if(_8)return hO;_8=1;var t=At(),e=vbe(),r=Array.prototype;return hO=function(n){var i=n.every;return n===r||t(r,n)&&i===r.every?e:i},hO}var fO,S8;function ybe(){if(S8)return fO;S8=1;var t=gbe();return fO=t,fO}var pO,E8;function bbe(){return E8||(E8=1,pO=ybe()),pO}var wbe=bbe(),pY=Ee(wbe);function xbe(t,e){const r=new _s;return Ye(t).call(t,n=>{var i;Ye(i=n.edges).call(i,s=>{s.connected&&r.add(s)})}),Ye(r).call(r,n=>{const i=n.from.id,s=n.to.id;e[i]==null&&(e[i]=0),(e[s]==null||e[i]>=e[s])&&(e[s]=e[i]+1)}),e}function _be(t){return mY(e=>{var r,n;return pY(r=Wr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.to===e)},(e,r)=>r>e,"from",t)}function Sbe(t){return mY(e=>{var r,n;return pY(r=Wr(n=e.edges).call(n,i=>t.has(i.toId))).call(r,i=>i.from===e)},(e,r)=>r<e,"to",t)}function mY(t,e,r,n){var i;const s=Ya(null),a=hY(i=[...sY(n).call(n)]).call(i,(h,f)=>h+1+f.edges.length,0),o=r+"Id",l=r==="to"?1:-1;for(const[h,f]of n){if(!n.has(h)||!t(f))continue;s[h]=0;const p=[f];let m=0,y;for(;y=p.pop();){var u,d;if(!n.has(h))continue;const b=s[y.id]+l;if(Ye(u=Wr(d=y.edges).call(d,g=>g.connected&&g.to!==g.from&&g[r]!==y&&n.has(g.toId)&&n.has(g.fromId))).call(u,g=>{const v=g[o],x=s[v];(x==null||e(b,x))&&(s[v]=b,p.push(g[r]))}),m>a)return xbe(n,s);++m}}return s}class Ebe{constructor(){this.childrenReference={},this.parentReference={},this.trees={},this.distributionOrdering={},this.levels={},this.distributionIndex={},this.isTree=!1,this.treeIndex=-1}addRelation(e,r){this.childrenReference[e]===void 0&&(this.childrenReference[e]=[]),this.childrenReference[e].push(r),this.parentReference[r]===void 0&&(this.parentReference[r]=[]),this.parentReference[r].push(e)}checkIfTree(){for(const e in this.parentReference)if(this.parentReference[e].length>1){this.isTree=!1;return}this.isTree=!0}numTrees(){return this.treeIndex+1}setTreeIndex(e,r){r!==void 0&&this.trees[e.id]===void 0&&(this.trees[e.id]=r,this.treeIndex=Math.max(r,this.treeIndex))}ensureLevel(e){this.levels[e]===void 0&&(this.levels[e]=0)}getMaxLevel(e){const r={},n=i=>{if(r[i]!==void 0)return r[i];let s=this.levels[i];if(this.childrenReference[i]){const a=this.childrenReference[i];if(a.length>0)for(let o=0;o<a.length;o++)s=Math.max(s,n(a[o]))}return r[i]=s,s};return n(e)}levelDownstream(e,r){this.levels[r.id]===void 0&&(this.levels[e.id]===void 0&&(this.levels[e.id]=0),this.levels[r.id]=this.levels[e.id]+1)}setMinLevelToZero(){var e;const r=new CN;let n=0;const i=_l(e=[...new _s(Fhe(this.levels))]).call(e,(s,a)=>s-a);for(const s of i)r.set(s,n++);for(const s in this.levels)Object.prototype.hasOwnProperty.call(this.levels,s)&&(this.levels[s]=r.get(this.levels[s]))}getTreeSize(e,r){let n=1e9,i=-1e9,s=1e9,a=-1e9;for(const o in this.trees)if(Object.prototype.hasOwnProperty.call(this.trees,o)&&this.trees[o]===r){const l=e[o];n=Math.min(l.x,n),i=Math.max(l.x,i),s=Math.min(l.y,s),a=Math.max(l.y,a)}return{min_x:n,max_x:i,min_y:s,max_y:a}}hasSameParent(e,r){const n=this.parentReference[e.id],i=this.parentReference[r.id];if(n===void 0||i===void 0)return!1;for(let s=0;s<n.length;s++)for(let a=0;a<i.length;a++)if(n[s]==i[a])return!0;return!1}inSameSubNetwork(e,r){return this.trees[e.id]===this.trees[r.id]}getLevels(){return xt(this.distributionOrdering)}addToOrdering(e,r){this.distributionOrdering[r]===void 0&&(this.distributionOrdering[r]=[]);let n=!1;const i=this.distributionOrdering[r];for(const s in i)if(i[s]===e){n=!0;break}n||(this.distributionOrdering[r].push(e),this.distributionIndex[e.id]=this.distributionOrdering[r].length-1)}}class Obe{constructor(e){this.body=e,this._resetRNG(Math.random()+":"+Qf()),this.setPhysics=!1,this.options={},this.optionsBackup={physics:{}},this.defaultOptions={randomSeed:void 0,improvedLayout:!0,clusterThreshold:150,hierarchical:{enabled:!1,levelSeparation:150,nodeSpacing:100,treeSpacing:200,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:"UD",sortMethod:"hubsize"}},kt(this.options,this.defaultOptions),this.bindEventListeners()}bindEventListeners(){this.body.emitter.on("_dataChanged",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_dataLoaded",()=>{this.layoutNetwork()}),this.body.emitter.on("_resetHierarchicalLayout",()=>{this.setupHierarchicalLayout()}),this.body.emitter.on("_adjustEdgesForHierarchicalLayout",()=>{if(this.options.hierarchical.enabled!==!0)return;const e=this.direction.curveType();this.body.emitter.emit("_forceDisableDynamicCurves",e,!1)})}setOptions(e,r){if(e!==void 0){const n=this.options.hierarchical,i=n.enabled;if(zu(["randomSeed","improvedLayout","clusterThreshold"],this.options,e),_n(this.options,e,"hierarchical"),e.randomSeed!==void 0&&this._resetRNG(e.randomSeed),n.enabled===!0)return i===!0&&this.body.emitter.emit("refresh",!0),n.direction==="RL"||n.direction==="DU"?n.levelSeparation>0&&(n.levelSeparation*=-1):n.levelSeparation<0&&(n.levelSeparation*=-1),this.setDirectionStrategy(),this.body.emitter.emit("_resetHierarchicalLayout"),this.adaptAllOptionsForHierarchicalLayout(r);if(i===!0)return this.body.emitter.emit("refresh"),et(r,this.optionsBackup)}return r}_resetRNG(e){this.initialRandomSeed=e,this._rng=om(this.initialRandomSeed)}adaptAllOptionsForHierarchicalLayout(e){if(this.options.hierarchical.enabled===!0){const r=this.optionsBackup.physics;e.physics===void 0||e.physics===!0?(e.physics={enabled:r.enabled===void 0?!0:r.enabled,solver:"hierarchicalRepulsion"},r.enabled=r.enabled===void 0?!0:r.enabled,r.solver=r.solver||"barnesHut"):typeof e.physics=="object"?(r.enabled=e.physics.enabled===void 0?!0:e.physics.enabled,r.solver=e.physics.solver||"barnesHut",e.physics.solver="hierarchicalRepulsion"):e.physics!==!1&&(r.solver="barnesHut",e.physics={solver:"hierarchicalRepulsion"});let n=this.direction.curveType();if(e.edges===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges={smooth:!1};else if(e.edges.smooth===void 0)this.optionsBackup.edges={smooth:{enabled:!0,type:"dynamic"}},e.edges.smooth=!1;else if(typeof e.edges.smooth=="boolean")this.optionsBackup.edges={smooth:e.edges.smooth},e.edges.smooth={enabled:e.edges.smooth,type:n};else{const i=e.edges.smooth;i.type!==void 0&&i.type!=="dynamic"&&(n=i.type),this.optionsBackup.edges={smooth:{enabled:i.enabled===void 0?!0:i.enabled,type:i.type===void 0?"dynamic":i.type,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}},e.edges.smooth={enabled:i.enabled===void 0?!0:i.enabled,type:n,roundness:i.roundness===void 0?.5:i.roundness,forceDirection:i.forceDirection===void 0?!1:i.forceDirection}}this.body.emitter.emit("_forceDisableDynamicCurves",n)}return e}positionInitially(e){if(this.options.hierarchical.enabled!==!0){this._resetRNG(this.initialRandomSeed);const r=e.length+50;for(let n=0;n<e.length;n++){const i=e[n],s=2*Math.PI*this._rng();i.x===void 0&&(i.x=r*Math.cos(s)),i.y===void 0&&(i.y=r*Math.sin(s))}}}layoutNetwork(){if(this.options.hierarchical.enabled!==!0&&this.options.improvedLayout===!0){const e=this.body.nodeIndices;let r=0;for(let n=0;n<e.length;n++)this.body.nodes[e[n]].predefinedPosition===!0&&(r+=1);if(r<.5*e.length){let i=0;const s=this.options.clusterThreshold,a={clusterNodeProperties:{shape:"ellipse",label:"",group:"",font:{multi:!1}},clusterEdgeProperties:{label:"",font:{multi:!1},smooth:{enabled:!1}}};if(e.length>s){const l=e.length;for(;e.length>s&&i<=10;){i+=1;const u=e.length;i%3===0?this.body.modules.clustering.clusterBridges(a):this.body.modules.clustering.clusterOutliers(a);const d=e.length;if(u==d&&i%3!==0){this._declusterAll(),this.body.emitter.emit("_layoutFailed"),console.info("This network could not be positioned by this version of the improved layout algorithm. Please disable improvedLayout for better performance.");return}}this.body.modules.kamadaKawai.setOptions({springLength:Math.max(150,2*l)})}i>10&&console.info("The clustering didn't succeed within the amount of interations allowed, progressing with partial result."),this.body.modules.kamadaKawai.solve(e,this.body.edgeIndices,!0),this._shiftToCenter();const o=70;for(let l=0;l<e.length;l++){const u=this.body.nodes[e[l]];u.predefinedPosition===!1&&(u.x+=(.5-this._rng())*o,u.y+=(.5-this._rng())*o)}this._declusterAll(),this.body.emitter.emit("_repositionBezierNodes")}}}_shiftToCenter(){const e=Nr.getRangeCore(this.body.nodes,this.body.nodeIndices),r=Nr.findCenter(e);for(let n=0;n<this.body.nodeIndices.length;n++){const i=this.body.nodes[this.body.nodeIndices[n]];i.x-=r.x,i.y-=r.y}}_declusterAll(){let e=!0;for(;e===!0;){e=!1;for(let r=0;r<this.body.nodeIndices.length;r++)this.body.nodes[this.body.nodeIndices[r]].isCluster===!0&&(e=!0,this.body.modules.clustering.openCluster(this.body.nodeIndices[r],{},!1));e===!0&&this.body.emitter.emit("_dataChanged")}}getSeed(){return this.initialRandomSeed}setupHierarchicalLayout(){if(this.options.hierarchical.enabled===!0&&this.body.nodeIndices.length>0){let e,r,n=!1,i=!1;this.lastNodeOnLevel={},this.hierarchical=new Ebe;for(r in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,r)&&(e=this.body.nodes[r],e.options.level!==void 0?(n=!0,this.hierarchical.levels[r]=e.options.level):i=!0);if(i===!0&&n===!0)throw new Error("To use the hierarchical layout, nodes require either no predefined levels or levels have to be defined for all nodes.");{if(i===!0){const a=this.options.hierarchical.sortMethod;a==="hubsize"?this._determineLevelsByHubsize():a==="directed"?this._determineLevelsDirected():a==="custom"&&this._determineLevelsCustomCallback()}for(const a in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,a)&&this.hierarchical.ensureLevel(a);const s=this._getDistribution();this._generateMap(),this._placeNodesByHierarchy(s),this._condenseHierarchy(),this._shiftToCenter()}}}_condenseHierarchy(){var e=this;let r=!1;const n={},i=()=>{const g=a();let v=0;for(let x=0;x<g.length-1;x++){const w=g[x].max-g[x+1].min;v+=w+this.options.hierarchical.treeSpacing,s(x+1,v)}},s=(g,v)=>{const x=this.hierarchical.trees;for(const w in x)Object.prototype.hasOwnProperty.call(x,w)&&x[w]===g&&this.direction.shift(w,v)},a=()=>{const g=[];for(let v=0;v<this.hierarchical.numTrees();v++)g.push(this.direction.getTreeSize(v));return g},o=(g,v)=>{if(!v[g.id]&&(v[g.id]=!0,this.hierarchical.childrenReference[g.id])){const x=this.hierarchical.childrenReference[g.id];if(x.length>0)for(let w=0;w<x.length;w++)o(this.body.nodes[x[w]],v)}},l=function(g){let v=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e9,x=1e9,w=1e9,_=1e9,E=-1e9;for(const O in g)if(Object.prototype.hasOwnProperty.call(g,O)){const S=e.body.nodes[O],P=e.hierarchical.levels[S.id],C=e.direction.getPosition(S),[I,T]=e._getSpaceAroundNode(S,g);x=Math.min(I,x),w=Math.min(T,w),P<=v&&(_=Math.min(C,_),E=Math.max(C,E))}return[_,E,x,w]},u=(g,v)=>{const x=this.hierarchical.getMaxLevel(g.id),w=this.hierarchical.getMaxLevel(v.id);return Math.min(x,w)},d=(g,v,x)=>{const w=this.hierarchical;for(let _=0;_<v.length;_++){const E=v[_],O=w.distributionOrdering[E];if(O.length>1)for(let S=0;S<O.length-1;S++){const P=O[S],C=O[S+1];w.hasSameParent(P,C)&&w.inSameSubNetwork(P,C)&&g(P,C,x)}}},h=function(g,v){let x=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const w=e.direction.getPosition(g),_=e.direction.getPosition(v),E=Math.abs(_-w),O=e.options.hierarchical.nodeSpacing;if(E>O){const S={},P={};o(g,S),o(v,P);const C=u(g,v),I=l(S,C),T=l(P,C),N=I[1],q=T[0],z=T[2];if(Math.abs(N-q)>O){let K=N-q+O;K<-z+O&&(K=-z+O),K<0&&(e._shiftBlock(v.id,K),r=!0,x===!0&&e._centerParent(v))}}},f=(g,v)=>{const x=v.id,w=v.edges,_=this.hierarchical.levels[v.id],E=this.options.hierarchical.levelSeparation*this.options.hierarchical.levelSeparation,O={},S=[];for(let z=0;z<w.length;z++){const te=w[z];if(te.toId!=te.fromId){const K=te.toId==x?te.from:te.to;O[w[z].id]=K,this.hierarchical.levels[K.id]<_&&S.push(te)}}const P=(z,te)=>{let K=0;for(let L=0;L<te.length;L++)if(O[te[L].id]!==void 0){const V=this.direction.getPosition(O[te[L].id])-z;K+=V/Math.sqrt(V*V+E)}return K},C=(z,te)=>{let K=0;for(let L=0;L<te.length;L++)if(O[te[L].id]!==void 0){const V=this.direction.getPosition(O[te[L].id])-z;K-=E*Math.pow(V*V+E,-1.5)}return K},I=(z,te)=>{let K=this.direction.getPosition(v);const L={};for(let V=0;V<z;V++){const U=P(K,te),W=C(K,te),ee=40,fe=Math.max(-ee,Math.min(ee,Math.round(U/W)));if(K=K-fe,L[K]!==void 0)break;L[K]=V}return K},T=z=>{const te=this.direction.getPosition(v);if(n[v.id]===void 0){const ee={};o(v,ee),n[v.id]=ee}const K=l(n[v.id]),L=K[2],V=K[3],U=z-te;let W=0;U>0?W=Math.min(U,V-this.options.hierarchical.nodeSpacing):U<0&&(W=-Math.min(-U,L-this.options.hierarchical.nodeSpacing)),W!=0&&(this._shiftBlock(v.id,W),r=!0)},N=z=>{const te=this.direction.getPosition(v),[K,L]=this._getSpaceAroundNode(v),V=z-te;let U=te;V>0?U=Math.min(te+(L-this.options.hierarchical.nodeSpacing),z):V<0&&(U=Math.max(te-(K-this.options.hierarchical.nodeSpacing),z)),U!==te&&(this.direction.setPosition(v,U),r=!0)};let q=I(g,S);T(q),q=I(g,w),N(q)},p=g=>{let v=this.hierarchical.getLevels();v=Ga(v).call(v);for(let x=0;x<g;x++){r=!1;for(let w=0;w<v.length;w++){const _=v[w],E=this.hierarchical.distributionOrdering[_];for(let O=0;O<E.length;O++)f(1e3,E[O])}if(r!==!0)break}},m=g=>{let v=this.hierarchical.getLevels();v=Ga(v).call(v);for(let x=0;x<g&&(r=!1,d(h,v,!0),r===!0);x++);},y=()=>{for(const g in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,g)&&this._centerParent(this.body.nodes[g])},b=()=>{let g=this.hierarchical.getLevels();g=Ga(g).call(g);for(let v=0;v<g.length;v++){const x=g[v],w=this.hierarchical.distributionOrdering[x];for(let _=0;_<w.length;_++)this._centerParent(w[_])}};this.options.hierarchical.blockShifting===!0&&(m(5),y()),this.options.hierarchical.edgeMinimization===!0&&p(20),this.options.hierarchical.parentCentralization===!0&&b(),i()}_getSpaceAroundNode(e,r){let n=!0;r===void 0&&(n=!1);const i=this.hierarchical.levels[e.id];if(i!==void 0){const s=this.hierarchical.distributionIndex[e.id],a=this.direction.getPosition(e),o=this.hierarchical.distributionOrdering[i];let l=1e9,u=1e9;if(s!==0){const d=o[s-1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);l=a-h}}if(s!=o.length-1){const d=o[s+1];if(n===!0&&r[d.id]===void 0||n===!1){const h=this.direction.getPosition(d);u=Math.min(u,h-a)}}return[l,u]}else return[0,0]}_centerParent(e){if(this.hierarchical.parentReference[e.id]){const r=this.hierarchical.parentReference[e.id];for(let n=0;n<r.length;n++){const i=r[n],s=this.body.nodes[i],a=this.hierarchical.childrenReference[i];if(a!==void 0){const o=this._getCenterPosition(a),l=this.direction.getPosition(s),[u,d]=this._getSpaceAroundNode(s),h=l-o;(h<0&&Math.abs(h)<d-this.options.hierarchical.nodeSpacing||h>0&&Math.abs(h)<u-this.options.hierarchical.nodeSpacing)&&this.direction.setPosition(s,o)}}}}_placeNodesByHierarchy(e){this.positionedNodes={};for(const n in e)if(Object.prototype.hasOwnProperty.call(e,n)){var r;let i=xt(e[n]);i=this._indexArrayToNodes(i),_l(r=this.direction).call(r,i);let s=0;for(let a=0;a<i.length;a++){const o=i[a];if(this.positionedNodes[o.id]===void 0){const l=this.options.hierarchical.nodeSpacing;let u=l*s;s>0&&(u=this.direction.getPosition(i[a-1])+l),this.direction.setPosition(o,u,n),this._validatePositionAndContinue(o,n,u),s++}}}}_placeBranchNodes(e,r){var n;const i=this.hierarchical.childrenReference[e];if(i===void 0)return;const s=[];for(let o=0;o<i.length;o++)s.push(this.body.nodes[i[o]]);_l(n=this.direction).call(n,s);for(let o=0;o<s.length;o++){const l=s[o],u=this.hierarchical.levels[l.id];if(u>r&&this.positionedNodes[l.id]===void 0){const d=this.options.hierarchical.nodeSpacing;let h;o===0?h=this.direction.getPosition(this.body.nodes[e]):h=this.direction.getPosition(s[o-1])+d,this.direction.setPosition(l,h,u),this._validatePositionAndContinue(l,u,h)}else return}const a=this._getCenterPosition(s);this.direction.setPosition(this.body.nodes[e],a,r)}_validatePositionAndContinue(e,r,n){if(this.hierarchical.isTree){if(this.lastNodeOnLevel[r]!==void 0){const i=this.direction.getPosition(this.body.nodes[this.lastNodeOnLevel[r]]);if(n-i<this.options.hierarchical.nodeSpacing){const s=i+this.options.hierarchical.nodeSpacing-n,a=this._findCommonParent(this.lastNodeOnLevel[r],e.id);this._shiftBlock(a.withChild,s)}}this.lastNodeOnLevel[r]=e.id,this.positionedNodes[e.id]=!0,this._placeBranchNodes(e.id,r)}}_indexArrayToNodes(e){const r=[];for(let n=0;n<e.length;n++)r.push(this.body.nodes[e[n]]);return r}_getDistribution(){const e={};let r,n;for(r in this.body.nodes)if(Object.prototype.hasOwnProperty.call(this.body.nodes,r)){n=this.body.nodes[r];const i=this.hierarchical.levels[r]===void 0?0:this.hierarchical.levels[r];this.direction.fix(n,i),e[i]===void 0&&(e[i]={}),e[i][r]=n}return e}_getActiveEdges(e){const r=[];return Re(e.edges,n=>{var i;Ue(i=this.body.edgeIndices).call(i,n.id)!==-1&&r.push(n)}),r}_getHubSizes(){const e={},r=this.body.nodeIndices;Re(r,i=>{const s=this.body.nodes[i],a=this._getActiveEdges(s).length;e[a]=!0});const n=[];return Re(e,i=>{n.push(Number(i))}),_l(n).call(n,function(i,s){return s-i}),n}_determineLevelsByHubsize(){const e=(n,i)=>{this.hierarchical.levelDownstream(n,i)},r=this._getHubSizes();for(let n=0;n<r.length;++n){const i=r[n];if(i===0)break;Re(this.body.nodeIndices,s=>{const a=this.body.nodes[s];i===this._getActiveEdges(a).length&&this._crawlNetwork(e,s)})}}_determineLevelsCustomCallback(){const r=function(i,s,a){},n=(i,s,a)=>{let o=this.hierarchical.levels[i.id];o===void 0&&(o=this.hierarchical.levels[i.id]=1e5);const l=r(Nr.cloneOptions(i,"node"),Nr.cloneOptions(s,"node"),Nr.cloneOptions(a,"edge"));this.hierarchical.levels[s.id]=o+l};this._crawlNetwork(n),this.hierarchical.setMinLevelToZero()}_determineLevelsDirected(){var e;const r=hY(e=this.body.nodeIndices).call(e,(n,i)=>(n.set(i,this.body.nodes[i]),n),new CN);this.options.hierarchical.shakeTowards==="roots"?this.hierarchical.levels=Sbe(r):this.hierarchical.levels=_be(r),this.hierarchical.setMinLevelToZero()}_generateMap(){const e=(r,n)=>{this.hierarchical.levels[n.id]>this.hierarchical.levels[r.id]&&this.hierarchical.addRelation(r.id,n.id)};this._crawlNetwork(e),this.hierarchical.checkIfTree()}_crawlNetwork(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:function(){},r=arguments.length>1?arguments[1]:void 0;const n={},i=(s,a)=>{if(n[s.id]===void 0){this.hierarchical.setTreeIndex(s,a),n[s.id]=!0;let o;const l=this._getActiveEdges(s);for(let u=0;u<l.length;u++){const d=l[u];d.connected===!0&&(d.toId==s.id?o=d.from:o=d.to,s.id!=o.id&&(e(s,o,d),i(o,a)))}}};if(r===void 0){let s=0;for(let a=0;a<this.body.nodeIndices.length;a++){const o=this.body.nodeIndices[a];if(n[o]===void 0){const l=this.body.nodes[o];i(l,s),s+=1}}}else{const s=this.body.nodes[r];if(s===void 0){console.error("Node not found:",r);return}i(s)}}_shiftBlock(e,r){const n={},i=s=>{if(n[s])return;n[s]=!0,this.direction.shift(s,r);const a=this.hierarchical.childrenReference[s];if(a!==void 0)for(let o=0;o<a.length;o++)i(a[o])};i(e)}_findCommonParent(e,r){const n={},i=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];a[d]=!0,i(a,d)}},s=(a,o)=>{const l=this.hierarchical.parentReference[o];if(l!==void 0)for(let u=0;u<l.length;u++){const d=l[u];if(a[d]!==void 0)return{foundParent:d,withChild:o};const h=s(a,d);if(h.foundParent!==null)return h}return{foundParent:null,withChild:o}};return i(n,e),s(n,r)}setDirectionStrategy(){this.options.hierarchical.direction==="UD"||this.options.hierarchical.direction==="DU"?this.direction=new fbe(this):this.direction=new pbe(this)}_getCenterPosition(e){let r=1e9,n=-1e9;for(let i=0;i<e.length;i++){let s;if(e[i].id!==void 0)s=e[i];else{const o=e[i];s=this.body.nodes[o]}const a=this.direction.getPosition(s);r=Math.min(r,a),n=Math.max(n,a)}return .5*(r+n)}}class Pbe{constructor(e,r,n,i){var s,a;this.body=e,this.canvas=r,this.selectionHandler=n,this.interactionHandler=i,this.editMode=!1,this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0,this._domEventListenerCleanupQueue=[],this.temporaryUIFunctions={},this.temporaryEventFunctions=[],this.touchTime=0,this.temporaryIds={nodes:[],edges:[]},this.guiEnabled=!1,this.inMode=!1,this.selectedControlNode=void 0,this.options={},this.defaultOptions={enabled:!1,initiallyActive:!1,addNode:!0,addEdge:!0,editNode:void 0,editEdge:!0,deleteNode:!0,deleteEdge:!0,controlNodeStyle:{shape:"dot",size:6,color:{background:"#ff0000",border:"#3c3c3c",highlight:{background:"#07f968",border:"#3c3c3c"}},borderWidth:2,borderWidthSelected:2}},kt(this.options,this.defaultOptions),this.body.emitter.on("destroy",()=>{this._clean()}),this.body.emitter.on("_dataChanged",Z(s=this._restore).call(s,this)),this.body.emitter.on("_resetData",Z(a=this._restore).call(a,this))}_restore(){this.inMode!==!1&&(this.options.initiallyActive===!0?this.enableEditMode():this.disableEditMode())}setOptions(e,r,n){r!==void 0&&(r.locale!==void 0?this.options.locale=r.locale:this.options.locale=n.locale,r.locales!==void 0?this.options.locales=r.locales:this.options.locales=n.locales),e!==void 0&&(typeof e=="boolean"?this.options.enabled=e:(this.options.enabled=!0,et(this.options,e)),this.options.initiallyActive===!0&&(this.editMode=!0),this._setup())}toggleEditMode(){this.editMode===!0?this.disableEditMode():this.enableEditMode()}enableEditMode(){this.editMode=!0,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="block",this.closeDiv.style.display="block",this.editModeDiv.style.display="none",this.showManipulatorToolbar())}disableEditMode(){this.editMode=!1,this._clean(),this.guiEnabled===!0&&(this.manipulationDiv.style.display="none",this.closeDiv.style.display="none",this.editModeDiv.style.display="block",this._createEditButton())}showManipulatorToolbar(){if(this._clean(),this.manipulationDOM={},this.guiEnabled===!0){var e,r;this.editMode=!0,this.manipulationDiv.style.display="block",this.closeDiv.style.display="block";const n=this.selectionHandler.getSelectedNodeCount(),i=this.selectionHandler.getSelectedEdgeCount(),s=n+i,a=this.options.locales[this.options.locale];let o=!1;this.options.addNode!==!1&&(this._createAddNodeButton(a),o=!0),this.options.addEdge!==!1&&(o===!0?this._createSeperator(1):o=!0,this._createAddEdgeButton(a)),n===1&&typeof this.options.editNode=="function"?(o===!0?this._createSeperator(2):o=!0,this._createEditNodeButton(a)):i===1&&n===0&&this.options.editEdge!==!1&&(o===!0?this._createSeperator(3):o=!0,this._createEditEdgeButton(a)),s!==0&&(n>0&&this.options.deleteNode!==!1?(o===!0&&this._createSeperator(4),this._createDeleteButton(a)):n===0&&this.options.deleteEdge!==!1&&(o===!0&&this._createSeperator(4),this._createDeleteButton(a))),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this)),this._temporaryBindEvent("select",Z(r=this.showManipulatorToolbar).call(r,this))}this.body.emitter.emit("_redraw")}addNodeMode(){var e;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addNode",this.guiEnabled===!0){var r;const n=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(n),this._createSeperator(),this._createDescription(n.addDescription||this.options.locales.en.addDescription),this._bindElementEvents(this.closeDiv,Z(r=this.toggleEditMode).call(r,this))}this._temporaryBindEvent("click",Z(e=this._performAddNode).call(e,this))}editNode(){this.editMode!==!0&&this.enableEditMode(),this._clean();const e=this.selectionHandler.getSelectedNodes()[0];if(e!==void 0)if(this.inMode="editNode",typeof this.options.editNode=="function")if(e.isCluster!==!0){const r=et({},e.options,!1);if(r.x=e.x,r.y=e.y,this.options.editNode.length===2)this.options.editNode(r,n=>{n!=null&&this.inMode==="editNode"&&this.body.data.nodes.getDataSet().update(n),this.showManipulatorToolbar()});else throw new Error("The function for edit does not support two arguments (data, callback)")}else alert(this.options.locales[this.options.locale].editClusterError||this.options.locales.en.editClusterError);else throw new Error("No function has been configured to handle the editing of nodes.");else this.showManipulatorToolbar()}addEdgeMode(){var e,r,n,i,s;if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="addEdge",this.guiEnabled===!0){var a;const o=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(o),this._createSeperator(),this._createDescription(o.edgeDescription||this.options.locales.en.edgeDescription),this._bindElementEvents(this.closeDiv,Z(a=this.toggleEditMode).call(a,this))}this._temporaryBindUI("onTouch",Z(e=this._handleConnect).call(e,this)),this._temporaryBindUI("onDragEnd",Z(r=this._finishConnect).call(r,this)),this._temporaryBindUI("onDrag",Z(n=this._dragControlNode).call(n,this)),this._temporaryBindUI("onRelease",Z(i=this._finishConnect).call(i,this)),this._temporaryBindUI("onDragStart",Z(s=this._dragStartEdge).call(s,this)),this._temporaryBindUI("onHold",()=>{})}editEdgeMode(){if(this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="editEdge",typeof this.options.editEdge=="object"&&typeof this.options.editEdge.editWithoutDrag=="function"&&(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0)){const a=this.body.edges[this.edgeBeingEditedId];this._performEditEdge(a.from.id,a.to.id);return}if(this.guiEnabled===!0){var e;const a=this.options.locales[this.options.locale];this.manipulationDOM={},this._createBackButton(a),this._createSeperator(),this._createDescription(a.editEdgeDescription||this.options.locales.en.editEdgeDescription),this._bindElementEvents(this.closeDiv,Z(e=this.toggleEditMode).call(e,this))}if(this.edgeBeingEditedId=this.selectionHandler.getSelectedEdgeIds()[0],this.edgeBeingEditedId!==void 0){var r,n,i,s;const a=this.body.edges[this.edgeBeingEditedId],o=this._getNewTargetNode(a.from.x,a.from.y),l=this._getNewTargetNode(a.to.x,a.to.y);this.temporaryIds.nodes.push(o.id),this.temporaryIds.nodes.push(l.id),this.body.nodes[o.id]=o,this.body.nodeIndices.push(o.id),this.body.nodes[l.id]=l,this.body.nodeIndices.push(l.id),this._temporaryBindUI("onTouch",Z(r=this._controlNodeTouch).call(r,this)),this._temporaryBindUI("onTap",()=>{}),this._temporaryBindUI("onHold",()=>{}),this._temporaryBindUI("onDragStart",Z(n=this._controlNodeDragStart).call(n,this)),this._temporaryBindUI("onDrag",Z(i=this._controlNodeDrag).call(i,this)),this._temporaryBindUI("onDragEnd",Z(s=this._controlNodeDragEnd).call(s,this)),this._temporaryBindUI("onMouseMove",()=>{}),this._temporaryBindEvent("beforeDrawing",u=>{const d=a.edgeType.findBorderPositions(u);o.selected===!1&&(o.x=d.from.x,o.y=d.from.y),l.selected===!1&&(l.x=d.to.x,l.y=d.to.y)}),this.body.emitter.emit("_redraw")}else this.showManipulatorToolbar()}deleteSelected(){this.editMode!==!0&&this.enableEditMode(),this._clean(),this.inMode="delete";const e=this.selectionHandler.getSelectedNodeIds(),r=this.selectionHandler.getSelectedEdgeIds();let n;if(e.length>0){for(let i=0;i<e.length;i++)if(this.body.nodes[e[i]].isCluster===!0){alert(this.options.locales[this.options.locale].deleteClusterError||this.options.locales.en.deleteClusterError);return}typeof this.options.deleteNode=="function"&&(n=this.options.deleteNode)}else r.length>0&&typeof this.options.deleteEdge=="function"&&(n=this.options.deleteEdge);if(typeof n=="function"){const i={nodes:e,edges:r};if(n.length===2)n(i,s=>{s!=null&&this.inMode==="delete"?(this.body.data.edges.getDataSet().remove(s.edges),this.body.data.nodes.getDataSet().remove(s.nodes),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()):(this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar())});else throw new Error("The function for delete does not support two arguments (data, callback)")}else this.body.data.edges.getDataSet().remove(r),this.body.data.nodes.getDataSet().remove(e),this.body.emitter.emit("startSimulation"),this.showManipulatorToolbar()}_setup(){this.options.enabled===!0?(this.guiEnabled=!0,this._createWrappers(),this.editMode===!1?this._createEditButton():this.showManipulatorToolbar()):(this._removeManipulationDOM(),this.guiEnabled=!1)}_createWrappers(){if(this.manipulationDiv===void 0&&(this.manipulationDiv=document.createElement("div"),this.manipulationDiv.className="vis-manipulation",this.editMode===!0?this.manipulationDiv.style.display="block":this.manipulationDiv.style.display="none",this.canvas.frame.appendChild(this.manipulationDiv)),this.editModeDiv===void 0&&(this.editModeDiv=document.createElement("div"),this.editModeDiv.className="vis-edit-mode",this.editMode===!0?this.editModeDiv.style.display="none":this.editModeDiv.style.display="block",this.canvas.frame.appendChild(this.editModeDiv)),this.closeDiv===void 0){var e,r;this.closeDiv=document.createElement("button"),this.closeDiv.className="vis-close",this.closeDiv.setAttribute("aria-label",(e=(r=this.options.locales[this.options.locale])===null||r===void 0?void 0:r.close)!==null&&e!==void 0?e:this.options.locales.en.close),this.closeDiv.style.display=this.manipulationDiv.style.display,this.canvas.frame.appendChild(this.closeDiv)}}_getNewTargetNode(e,r){const n=et({},this.options.controlNodeStyle);n.id="targetNode"+Tc(),n.hidden=!1,n.physics=!1,n.x=e,n.y=r;const i=this.body.functions.createNode(n);return i.shape.boundingBox={left:e,right:e,top:r,bottom:r},i}_createEditButton(){var e;this._clean(),this.manipulationDOM={},ys(this.editModeDiv);const r=this.options.locales[this.options.locale],n=this._createButton("editMode","vis-edit vis-edit-mode",r.edit||this.options.locales.en.edit);this.editModeDiv.appendChild(n),this._bindElementEvents(n,Z(e=this.toggleEditMode).call(e,this))}_clean(){this.inMode=!1,this.guiEnabled===!0&&(ys(this.editModeDiv),ys(this.manipulationDiv),this._cleanupDOMEventListeners()),this._cleanupTemporaryNodesAndEdges(),this._unbindTemporaryUIs(),this._unbindTemporaryEvents(),this.body.emitter.emit("restorePhysics")}_cleanupDOMEventListeners(){for(const r of Ui(e=this._domEventListenerCleanupQueue).call(e,0)){var e;r()}}_removeManipulationDOM(){this._clean(),ys(this.manipulationDiv),ys(this.editModeDiv),ys(this.closeDiv),this.manipulationDiv&&this.canvas.frame.removeChild(this.manipulationDiv),this.editModeDiv&&this.canvas.frame.removeChild(this.editModeDiv),this.closeDiv&&this.canvas.frame.removeChild(this.closeDiv),this.manipulationDiv=void 0,this.editModeDiv=void 0,this.closeDiv=void 0}_createSeperator(){let e=arguments.length>0&&arguments[0]!==void 0?arguments[0]:1;this.manipulationDOM["seperatorLineDiv"+e]=document.createElement("div"),this.manipulationDOM["seperatorLineDiv"+e].className="vis-separator-line",this.manipulationDiv.appendChild(this.manipulationDOM["seperatorLineDiv"+e])}_createAddNodeButton(e){var r;const n=this._createButton("addNode","vis-add",e.addNode||this.options.locales.en.addNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addNodeMode).call(r,this))}_createAddEdgeButton(e){var r;const n=this._createButton("addEdge","vis-connect",e.addEdge||this.options.locales.en.addEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.addEdgeMode).call(r,this))}_createEditNodeButton(e){var r;const n=this._createButton("editNode","vis-edit",e.editNode||this.options.locales.en.editNode);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editNode).call(r,this))}_createEditEdgeButton(e){var r;const n=this._createButton("editEdge","vis-edit",e.editEdge||this.options.locales.en.editEdge);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.editEdgeMode).call(r,this))}_createDeleteButton(e){var r;let n;this.options.rtl?n="vis-delete-rtl":n="vis-delete";const i=this._createButton("delete",n,e.del||this.options.locales.en.del);this.manipulationDiv.appendChild(i),this._bindElementEvents(i,Z(r=this.deleteSelected).call(r,this))}_createBackButton(e){var r;const n=this._createButton("back","vis-back",e.back||this.options.locales.en.back);this.manipulationDiv.appendChild(n),this._bindElementEvents(n,Z(r=this.showManipulatorToolbar).call(r,this))}_createButton(e,r,n){let i=arguments.length>3&&arguments[3]!==void 0?arguments[3]:"vis-label";return this.manipulationDOM[e+"Div"]=document.createElement("button"),this.manipulationDOM[e+"Div"].className="vis-button "+r,this.manipulationDOM[e+"Label"]=document.createElement("div"),this.manipulationDOM[e+"Label"].className=i,this.manipulationDOM[e+"Label"].innerText=n,this.manipulationDOM[e+"Div"].appendChild(this.manipulationDOM[e+"Label"]),this.manipulationDOM[e+"Div"]}_createDescription(e){this.manipulationDOM.descriptionLabel=document.createElement("div"),this.manipulationDOM.descriptionLabel.className="vis-none",this.manipulationDOM.descriptionLabel.innerText=e,this.manipulationDiv.appendChild(this.manipulationDOM.descriptionLabel)}_temporaryBindEvent(e,r){this.temporaryEventFunctions.push({event:e,boundFunction:r}),this.body.emitter.on(e,r)}_temporaryBindUI(e,r){if(this.body.eventListeners[e]!==void 0)this.temporaryUIFunctions[e]=this.body.eventListeners[e],this.body.eventListeners[e]=r;else throw new Error("This UI function does not exist. Typo? You tried: "+e+" possible are: "+rh(xt(this.body.eventListeners)))}_unbindTemporaryUIs(){for(const e in this.temporaryUIFunctions)Object.prototype.hasOwnProperty.call(this.temporaryUIFunctions,e)&&(this.body.eventListeners[e]=this.temporaryUIFunctions[e],delete this.temporaryUIFunctions[e]);this.temporaryUIFunctions={}}_unbindTemporaryEvents(){for(let e=0;e<this.temporaryEventFunctions.length;e++){const r=this.temporaryEventFunctions[e].event,n=this.temporaryEventFunctions[e].boundFunction;this.body.emitter.off(r,n)}this.temporaryEventFunctions=[]}_bindElementEvents(e,r){const n=new wl(e,{});np(n,r),this._domEventListenerCleanupQueue.push(()=>{n.destroy()});const i=s=>{let{keyCode:a,key:o}=s;(o==="Enter"||o===" "||a===13||a===32)&&r()};e.addEventListener("keyup",i,!1),this._domEventListenerCleanupQueue.push(()=>{e.removeEventListener("keyup",i,!1)})}_cleanupTemporaryNodesAndEdges(){for(let s=0;s<this.temporaryIds.edges.length;s++){var e;this.body.edges[this.temporaryIds.edges[s]].disconnect(),delete this.body.edges[this.temporaryIds.edges[s]];const a=Ue(e=this.body.edgeIndices).call(e,this.temporaryIds.edges[s]);if(a!==-1){var r;Ui(r=this.body.edgeIndices).call(r,a,1)}}for(let s=0;s<this.temporaryIds.nodes.length;s++){var n;delete this.body.nodes[this.temporaryIds.nodes[s]];const a=Ue(n=this.body.nodeIndices).call(n,this.temporaryIds.nodes[s]);if(a!==-1){var i;Ui(i=this.body.nodeIndices).call(i,a,1)}}this.temporaryIds={nodes:[],edges:[]}}_controlNodeTouch(e){this.selectionHandler.unselectAll(),this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation)}_controlNodeDragStart(){const e=this.lastTouch,r=this.selectionHandler._pointerToPositionObject(e),n=this.body.nodes[this.temporaryIds.nodes[0]],i=this.body.nodes[this.temporaryIds.nodes[1]],s=this.body.edges[this.edgeBeingEditedId];this.selectedControlNode=void 0;const a=n.isOverlappingWith(r),o=i.isOverlappingWith(r);a===!0?(this.selectedControlNode=n,s.edgeType.from=n):o===!0&&(this.selectedControlNode=i,s.edgeType.to=i),this.selectedControlNode!==void 0&&this.selectionHandler.selectObject(this.selectedControlNode),this.body.emitter.emit("_redraw")}_controlNodeDrag(e){this.body.emitter.emit("disablePhysics");const r=this.body.functions.getPointer(e.center),n=this.canvas.DOMtoCanvas(r);this.selectedControlNode!==void 0?(this.selectedControlNode.x=n.x,this.selectedControlNode.y=n.y):this.interactionHandler.onDrag(e),this.body.emitter.emit("_redraw")}_controlNodeDragEnd(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r),i=this.body.edges[this.edgeBeingEditedId];if(this.selectedControlNode===void 0)return;this.selectionHandler.unselectAll();const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let o=s.length-1;o>=0;o--)if(s[o]!==this.selectedControlNode.id){a=this.body.nodes[s[o]];break}if(a!==void 0&&this.selectedControlNode!==void 0)if(a.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const o=this.body.nodes[this.temporaryIds.nodes[0]];this.selectedControlNode.id===o.id?this._performEditEdge(a.id,i.to.id):this._performEditEdge(i.from.id,a.id)}else i.updateEdgeType(),this.body.emitter.emit("restorePhysics");this.body.emitter.emit("_redraw")}_handleConnect(e){if(new Date().valueOf()-this.touchTime>100){this.lastTouch=this.body.functions.getPointer(e.center),this.lastTouch.translation=kt({},this.body.view.translation),this.interactionHandler.drag.pointer=this.lastTouch,this.interactionHandler.drag.translation=this.lastTouch.translation;const r=this.lastTouch,n=this.selectionHandler.getNodeAt(r);if(n!==void 0)if(n.isCluster===!0)alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError);else{const i=this._getNewTargetNode(n.x,n.y);this.body.nodes[i.id]=i,this.body.nodeIndices.push(i.id);const s=this.body.functions.createEdge({id:"connectionEdge"+Tc(),from:n.id,to:i.id,physics:!1,smooth:{enabled:!0,type:"continuous",roundness:.5}});this.body.edges[s.id]=s,this.body.edgeIndices.push(s.id),this.temporaryIds.nodes.push(i.id),this.temporaryIds.edges.push(s.id)}this.touchTime=new Date().valueOf()}}_dragControlNode(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}if(e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragging",e,r),this.temporaryIds.nodes[0]!==void 0){const l=this.body.nodes[this.temporaryIds.nodes[0]];l.x=this.canvas._XconvertDOMtoCanvas(r.x),l.y=this.canvas._YconvertDOMtoCanvas(r.y),this.body.emitter.emit("_redraw")}else this.interactionHandler.onDrag(e)}_finishConnect(e){const r=this.body.functions.getPointer(e.center),n=this.selectionHandler._pointerToPositionObject(r);let i;this.temporaryIds.edges[0]!==void 0&&(i=this.body.edges[this.temporaryIds.edges[0]].fromId);const s=this.selectionHandler._getAllNodesOverlappingWith(n);let a;for(let l=s.length-1;l>=0;l--){var o;if(Ue(o=this.temporaryIds.nodes).call(o,s[l])===-1){a=this.body.nodes[s[l]];break}}this._cleanupTemporaryNodesAndEdges(),a!==void 0&&(a.isCluster===!0?alert(this.options.locales[this.options.locale].createEdgeError||this.options.locales.en.createEdgeError):this.body.nodes[i]!==void 0&&this.body.nodes[a.id]!==void 0&&this._performAddEdge(i,a.id)),e.controlEdge={from:i,to:a?a.id:void 0},this.selectionHandler.generateClickEvent("controlNodeDragEnd",e,r),this.body.emitter.emit("_redraw")}_dragStartEdge(e){const r=this.lastTouch;this.selectionHandler.generateClickEvent("dragStart",e,r,void 0,!0)}_performAddNode(e){const r={id:Tc(),x:e.pointer.canvas.x,y:e.pointer.canvas.y,label:"new"};if(typeof this.options.addNode=="function")if(this.options.addNode.length===2)this.options.addNode(r,n=>{n!=null&&this.inMode==="addNode"&&this.body.data.nodes.getDataSet().add(n),this.showManipulatorToolbar()});else throw this.showManipulatorToolbar(),new Error("The function for add does not support two arguments (data,callback)");else this.body.data.nodes.getDataSet().add(r),this.showManipulatorToolbar()}_performAddEdge(e,r){const n={from:e,to:r};if(typeof this.options.addEdge=="function")if(this.options.addEdge.length===2)this.options.addEdge(n,i=>{i!=null&&this.inMode==="addEdge"&&(this.body.data.edges.getDataSet().add(i),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for connect does not support two arguments (data,callback)");else this.body.data.edges.getDataSet().add(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}_performEditEdge(e,r){const n={id:this.edgeBeingEditedId,from:e,to:r,label:this.body.data.edges.get(this.edgeBeingEditedId).label};let i=this.options.editEdge;if(typeof i=="object"&&(i=i.editWithoutDrag),typeof i=="function")if(i.length===2)i(n,s=>{s==null||this.inMode!=="editEdge"?(this.body.edges[n.id].updateEdgeType(),this.body.emitter.emit("_redraw"),this.showManipulatorToolbar()):(this.body.data.edges.getDataSet().update(s),this.selectionHandler.unselectAll(),this.showManipulatorToolbar())});else throw new Error("The function for edit does not support two arguments (data, callback)");else this.body.data.edges.getDataSet().update(n),this.selectionHandler.unselectAll(),this.showManipulatorToolbar()}}const se="string",J="boolean",A="number",dc="array",pe="object",vY="dom",Cbe="any",mO=["arrow","bar","box","circle","crow","curve","diamond","image","inv_curve","inv_triangle","triangle","vee"],vO={borderWidth:{number:A},borderWidthSelected:{number:A,undefined:"undefined"},brokenImage:{string:se,undefined:"undefined"},chosen:{label:{boolean:J,function:"function"},node:{boolean:J,function:"function"},__type__:{object:pe,boolean:J}},color:{border:{string:se},background:{string:se},highlight:{border:{string:se},background:{string:se},__type__:{object:pe,string:se}},hover:{border:{string:se},background:{string:se},__type__:{object:pe,string:se}},__type__:{object:pe,string:se}},opacity:{number:A,undefined:"undefined"},fixed:{x:{boolean:J},y:{boolean:J},__type__:{object:pe,boolean:J}},font:{align:{string:se},color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},vadjust:{number:A},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},__type__:{object:pe,string:se}},group:{string:se,number:A,undefined:"undefined"},heightConstraint:{minimum:{number:A},valign:{string:se},__type__:{object:pe,boolean:J,number:A}},hidden:{boolean:J},icon:{face:{string:se},code:{string:se},size:{number:A},color:{string:se},weight:{string:se,number:A},__type__:{object:pe}},id:{string:se,number:A},image:{selected:{string:se,undefined:"undefined"},unselected:{string:se,undefined:"undefined"},__type__:{object:pe,string:se}},imagePadding:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:pe,number:A}},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},level:{number:A,undefined:"undefined"},margin:{top:{number:A},right:{number:A},bottom:{number:A},left:{number:A},__type__:{object:pe,number:A}},mass:{number:A},physics:{boolean:J},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:J},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:pe,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:pe}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:pe,boolean:J}},shape:{string:["custom","ellipse","circle","database","box","text","image","circularImage","diamond","dot","star","triangle","triangleDown","square","icon","hexagon"]},ctxRenderer:{function:"function"},shapeProperties:{borderDashes:{boolean:J,array:dc},borderRadius:{number:A},interpolation:{boolean:J},useImageSize:{boolean:J},useBorderWithImage:{boolean:J},coordinateOrigin:{string:["center","top-left"]},__type__:{object:pe}},size:{number:A},title:{string:se,dom:vY,undefined:"undefined"},value:{number:A,undefined:"undefined"},widthConstraint:{minimum:{number:A},maximum:{number:A},__type__:{object:pe,boolean:J,number:A}},x:{number:A},y:{number:A},__type__:{object:pe}},Tbe={configure:{enabled:{boolean:J},filter:{boolean:J,string:se,array:dc,function:"function"},container:{dom:vY},showButton:{boolean:J},__type__:{object:pe,boolean:J,string:se,array:dc,function:"function"}},edges:{arrows:{to:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:mO},imageHeight:{number:A},imageWidth:{number:A},src:{string:se},__type__:{object:pe,boolean:J}},middle:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:mO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:pe,boolean:J}},from:{enabled:{boolean:J},scaleFactor:{number:A},type:{string:mO},imageWidth:{number:A},imageHeight:{number:A},src:{string:se},__type__:{object:pe,boolean:J}},__type__:{string:["from","to","middle"],object:pe}},endPointOffset:{from:{number:A},to:{number:A},__type__:{object:pe,number:A}},arrowStrikethrough:{boolean:J},background:{enabled:{boolean:J},color:{string:se},size:{number:A},dashes:{boolean:J,array:dc},__type__:{object:pe,boolean:J}},chosen:{label:{boolean:J,function:"function"},edge:{boolean:J,function:"function"},__type__:{object:pe,boolean:J}},color:{color:{string:se},highlight:{string:se},hover:{string:se},inherit:{string:["from","to","both"],boolean:J},opacity:{number:A},__type__:{object:pe,string:se}},dashes:{boolean:J,array:dc},font:{color:{string:se},size:{number:A},face:{string:se},background:{string:se},strokeWidth:{number:A},strokeColor:{string:se},align:{string:["horizontal","top","middle","bottom"]},vadjust:{number:A},multi:{boolean:J,string:se},bold:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},boldital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},ital:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},mono:{color:{string:se},size:{number:A},face:{string:se},mod:{string:se},vadjust:{number:A},__type__:{object:pe,string:se}},__type__:{object:pe,string:se}},hidden:{boolean:J},hoverWidth:{function:"function",number:A},label:{string:se,undefined:"undefined"},labelHighlightBold:{boolean:J},length:{number:A,undefined:"undefined"},physics:{boolean:J},scaling:{min:{number:A},max:{number:A},label:{enabled:{boolean:J},min:{number:A},max:{number:A},maxVisible:{number:A},drawThreshold:{number:A},__type__:{object:pe,boolean:J}},customScalingFunction:{function:"function"},__type__:{object:pe}},selectionWidth:{function:"function",number:A},selfReferenceSize:{number:A},selfReference:{size:{number:A},angle:{number:A},renderBehindTheNode:{boolean:J},__type__:{object:pe}},shadow:{enabled:{boolean:J},color:{string:se},size:{number:A},x:{number:A},y:{number:A},__type__:{object:pe,boolean:J}},smooth:{enabled:{boolean:J},type:{string:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"]},roundness:{number:A},forceDirection:{string:["horizontal","vertical","none"],boolean:J},__type__:{object:pe,boolean:J}},title:{string:se,undefined:"undefined"},width:{number:A},widthConstraint:{maximum:{number:A},__type__:{object:pe,boolean:J,number:A}},value:{number:A,undefined:"undefined"},__type__:{object:pe}},groups:{useDefaultGroups:{boolean:J},__any__:vO,__type__:{object:pe}},interaction:{dragNodes:{boolean:J},dragView:{boolean:J},hideEdgesOnDrag:{boolean:J},hideEdgesOnZoom:{boolean:J},hideNodesOnDrag:{boolean:J},hover:{boolean:J},keyboard:{enabled:{boolean:J},speed:{x:{number:A},y:{number:A},zoom:{number:A},__type__:{object:pe}},bindToWindow:{boolean:J},autoFocus:{boolean:J},__type__:{object:pe,boolean:J}},multiselect:{boolean:J},navigationButtons:{boolean:J},selectable:{boolean:J},selectConnectedEdges:{boolean:J},hoverConnectedEdges:{boolean:J},tooltipDelay:{number:A},zoomView:{boolean:J},zoomSpeed:{number:A},__type__:{object:pe}},layout:{randomSeed:{undefined:"undefined",number:A,string:se},improvedLayout:{boolean:J},clusterThreshold:{number:A},hierarchical:{enabled:{boolean:J},levelSeparation:{number:A},nodeSpacing:{number:A},treeSpacing:{number:A},blockShifting:{boolean:J},edgeMinimization:{boolean:J},parentCentralization:{boolean:J},direction:{string:["UD","DU","LR","RL"]},sortMethod:{string:["hubsize","directed"]},shakeTowards:{string:["leaves","roots"]},__type__:{object:pe,boolean:J}},__type__:{object:pe}},manipulation:{enabled:{boolean:J},initiallyActive:{boolean:J},addNode:{boolean:J,function:"function"},addEdge:{boolean:J,function:"function"},editNode:{function:"function"},editEdge:{editWithoutDrag:{function:"function"},__type__:{object:pe,boolean:J,function:"function"}},deleteNode:{boolean:J,function:"function"},deleteEdge:{boolean:J,function:"function"},controlNodeStyle:vO,__type__:{object:pe,boolean:J}},nodes:vO,physics:{enabled:{boolean:J},barnesHut:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},forceAtlas2Based:{theta:{number:A},gravitationalConstant:{number:A},centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},repulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},__type__:{object:pe}},hierarchicalRepulsion:{centralGravity:{number:A},springLength:{number:A},springConstant:{number:A},nodeDistance:{number:A},damping:{number:A},avoidOverlap:{number:A},__type__:{object:pe}},maxVelocity:{number:A},minVelocity:{number:A},solver:{string:["barnesHut","repulsion","hierarchicalRepulsion","forceAtlas2Based"]},stabilization:{enabled:{boolean:J},iterations:{number:A},updateInterval:{number:A},onlyDynamicEdges:{boolean:J},fit:{boolean:J},__type__:{object:pe,boolean:J}},timestep:{number:A},adaptiveTimestep:{boolean:J},wind:{x:{number:A},y:{number:A},__type__:{object:pe}},__type__:{object:pe,boolean:J}},autoResize:{boolean:J},clickToUse:{boolean:J},locale:{string:se},locales:{__any__:{any:Cbe},__type__:{object:pe}},height:{string:se},width:{string:se},__type__:{object:pe}},gY={nodes:{borderWidth:[1,0,10,1],borderWidthSelected:[2,0,10,1],color:{border:["color","#2B7CE9"],background:["color","#97C2FC"],highlight:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]},hover:{border:["color","#2B7CE9"],background:["color","#D2E5FF"]}},opacity:[0,0,1,.1],fixed:{x:!1,y:!1},font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[0,0,50,1],strokeColor:["color","#ffffff"]},hidden:!1,labelHighlightBold:!0,physics:!0,scaling:{min:[10,0,200,1],max:[30,0,200,1],label:{enabled:!1,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},shape:["ellipse","box","circle","database","diamond","dot","square","star","text","triangle","triangleDown","hexagon"],shapeProperties:{borderDashes:!1,borderRadius:[6,0,20,1],interpolation:!0,useImageSize:!1},size:[25,0,200,1]},edges:{arrows:{to:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},middle:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"},from:{enabled:!1,scaleFactor:[1,0,3,.05],type:"arrow"}},endPointOffset:{from:[0,-10,10,1],to:[0,-10,10,1]},arrowStrikethrough:!0,color:{color:["color","#848484"],highlight:["color","#848484"],hover:["color","#848484"],inherit:["from","to","both",!0,!1],opacity:[1,0,1,.05]},dashes:!1,font:{color:["color","#343434"],size:[14,0,100,1],face:["arial","verdana","tahoma"],background:["color","none"],strokeWidth:[2,0,50,1],strokeColor:["color","#ffffff"],align:["horizontal","top","middle","bottom"]},hidden:!1,hoverWidth:[1.5,0,5,.1],labelHighlightBold:!0,physics:!0,scaling:{min:[1,0,100,1],max:[15,0,100,1],label:{enabled:!0,min:[14,0,200,1],max:[30,0,200,1],maxVisible:[30,0,200,1],drawThreshold:[5,0,20,1]}},selectionWidth:[1.5,0,5,.1],selfReferenceSize:[20,0,200,1],selfReference:{size:[20,0,200,1],angle:[Math.PI/2,-6*Math.PI,6*Math.PI,Math.PI/8],renderBehindTheNode:!0},shadow:{enabled:!1,color:"rgba(0,0,0,0.5)",size:[10,0,20,1],x:[5,-30,30,1],y:[5,-30,30,1]},smooth:{enabled:!0,type:["dynamic","continuous","discrete","diagonalCross","straightCross","horizontal","vertical","curvedCW","curvedCCW","cubicBezier"],forceDirection:["horizontal","vertical","none"],roundness:[.5,0,1,.05]},width:[1,0,30,1]},layout:{hierarchical:{enabled:!1,levelSeparation:[150,20,500,5],nodeSpacing:[100,20,500,5],treeSpacing:[200,20,500,5],blockShifting:!0,edgeMinimization:!0,parentCentralization:!0,direction:["UD","DU","LR","RL"],sortMethod:["hubsize","directed"],shakeTowards:["leaves","roots"]}},interaction:{dragNodes:!0,dragView:!0,hideEdgesOnDrag:!1,hideEdgesOnZoom:!1,hideNodesOnDrag:!1,hover:!1,keyboard:{enabled:!1,speed:{x:[10,0,40,1],y:[10,0,40,1],zoom:[.02,0,.1,.005]},bindToWindow:!0,autoFocus:!0},multiselect:!1,navigationButtons:!1,selectable:!0,selectConnectedEdges:!0,hoverConnectedEdges:!0,tooltipDelay:[300,0,1e3,25],zoomView:!0,zoomSpeed:[1,.1,2,.1]},manipulation:{enabled:!1,initiallyActive:!1},physics:{enabled:!0,barnesHut:{theta:[.5,.1,1,.05],gravitationalConstant:[-2e3,-3e4,0,50],centralGravity:[.3,0,10,.05],springLength:[95,0,500,5],springConstant:[.04,0,1.2,.005],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},forceAtlas2Based:{theta:[.5,.1,1,.05],gravitationalConstant:[-50,-500,0,1],centralGravity:[.01,0,1,.005],springLength:[95,0,500,5],springConstant:[.08,0,1.2,.005],damping:[.4,0,1,.01],avoidOverlap:[0,0,1,.01]},repulsion:{centralGravity:[.2,0,10,.05],springLength:[200,0,500,5],springConstant:[.05,0,1.2,.005],nodeDistance:[100,0,500,5],damping:[.09,0,1,.01]},hierarchicalRepulsion:{centralGravity:[.2,0,10,.05],springLength:[100,0,500,5],springConstant:[.01,0,1.2,.005],nodeDistance:[120,0,500,5],damping:[.09,0,1,.01],avoidOverlap:[0,0,1,.01]},maxVelocity:[50,0,150,1],minVelocity:[.1,.01,.5,.01],solver:["barnesHut","forceAtlas2Based","repulsion","hierarchicalRepulsion"],timestep:[.5,.01,1,.01],wind:{x:[0,-10,10,.1],y:[0,-10,10,.1]}}},Nbe=(t,e,r)=>{var n;return!!(Ys(t).call(t,"physics")&&Ys(n=gY.physics.solver).call(n,e)&&r.physics.solver!==e&&e!=="wind")};class Ibe{constructor(){}getDistances(e,r,n){const i={},s=e.edges;for(let o=0;o<r.length;o++){const l=r[o],u={};i[l]=u;for(let d=0;d<r.length;d++)u[r[d]]=o==d?0:1e9}for(let o=0;o<n.length;o++){const l=s[n[o]];l.connected===!0&&i[l.fromId]!==void 0&&i[l.toId]!==void 0&&(i[l.fromId][l.toId]=1,i[l.toId][l.fromId]=1)}const a=r.length;for(let o=0;o<a;o++){const l=r[o],u=i[l];for(let d=0;d<a-1;d++){const h=r[d],f=i[h];for(let p=d+1;p<a;p++){const m=r[p],y=i[m],b=Math.min(f[m],f[l]+u[m]);f[m]=b,y[h]=b}}}return i}}class Rbe{constructor(e,r,n){this.body=e,this.springLength=r,this.springConstant=n,this.distanceSolver=new Ibe}setOptions(e){e&&(e.springLength&&(this.springLength=e.springLength),e.springConstant&&(this.springConstant=e.springConstant))}solve(e,r){let n=arguments.length>2&&arguments[2]!==void 0?arguments[2]:!1;const i=this.distanceSolver.getDistances(this.body,e,r);this._createL_matrix(i),this._createK_matrix(i),this._createE_matrix();const s=.01,a=1;let o=0;const l=Math.max(1e3,Math.min(10*this.body.nodeIndices.length,6e3)),u=5;let d=1e9,h=0,f=0,p=0,m=0,y=0;for(;d>s&&o<l;)for(o+=1,[h,d,f,p]=this._getHighestEnergyNode(n),m=d,y=0;m>a&&y<u;)y+=1,this._moveNode(h,f,p),[m,f,p]=this._getEnergy(h)}_getHighestEnergyNode(e){const r=this.body.nodeIndices,n=this.body.nodes;let i=0,s=r[0],a=0,o=0;for(let l=0;l<r.length;l++){const u=r[l];if(n[u].predefinedPosition!==!0||n[u].isCluster===!0&&e===!0||n[u].options.fixed.x!==!0||n[u].options.fixed.y!==!0){const[d,h,f]=this._getEnergy(u);i<d&&(i=d,s=u,a=h,o=f)}}return[s,i,a,o]}_getEnergy(e){const[r,n]=this.E_sums[e];return[Math.sqrt(r**2+n**2),r,n]}_moveNode(e,r,n){const i=this.body.nodeIndices,s=this.body.nodes;let a=0,o=0,l=0;const u=s[e].x,d=s[e].y,h=this.K_matrix[e],f=this.L_matrix[e];for(let w=0;w<i.length;w++){const _=i[w];if(_!==e){const E=s[_].x,O=s[_].y,S=h[_],P=f[_],C=1/((u-E)**2+(d-O)**2)**1.5;a+=S*(1-P*(d-O)**2*C),o+=S*(P*(u-E)*(d-O)*C),l+=S*(1-P*(u-E)**2*C)}}const p=a,m=o,y=r,b=l,g=n,v=(y/p+g/m)/(m/p-b/m),x=-(m*v+y)/p;s[e].x+=x,s[e].y+=v,this._updateE_matrix(e)}_createL_matrix(e){const r=this.body.nodeIndices,n=this.springLength;this.L_matrix=[];for(let i=0;i<r.length;i++){this.L_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.L_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]}}_createK_matrix(e){const r=this.body.nodeIndices,n=this.springConstant;this.K_matrix=[];for(let i=0;i<r.length;i++){this.K_matrix[r[i]]={};for(let s=0;s<r.length;s++)this.K_matrix[r[i]][r[s]]=n*e[r[i]][r[s]]**-2}}_createE_matrix(){const e=this.body.nodeIndices,r=this.body.nodes;this.E_matrix={},this.E_sums={};for(let n=0;n<e.length;n++)this.E_matrix[e[n]]=[];for(let n=0;n<e.length;n++){const i=e[n],s=r[i].x,a=r[i].y;let o=0,l=0;for(let u=n;u<e.length;u++){const d=e[u];if(d!==i){const h=r[d].x,f=r[d].y,p=1/Math.sqrt((s-h)**2+(a-f)**2);this.E_matrix[i][u]=[this.K_matrix[i][d]*(s-h-this.L_matrix[i][d]*(s-h)*p),this.K_matrix[i][d]*(a-f-this.L_matrix[i][d]*(a-f)*p)],this.E_matrix[d][n]=this.E_matrix[i][u],o+=this.E_matrix[i][u][0],l+=this.E_matrix[i][u][1]}}this.E_sums[i]=[o,l]}}_updateE_matrix(e){const r=this.body.nodeIndices,n=this.body.nodes,i=this.E_matrix[e],s=this.K_matrix[e],a=this.L_matrix[e],o=n[e].x,l=n[e].y;let u=0,d=0;for(let h=0;h<r.length;h++){const f=r[h];if(f!==e){const p=i[h],m=p[0],y=p[1],b=n[f].x,g=n[f].y,v=1/Math.sqrt((o-b)**2+(l-g)**2),x=s[f]*(o-b-a[f]*(o-b)*v),w=s[f]*(l-g-a[f]*(l-g)*v);i[h]=[x,w],u+=x,d+=w;const _=this.E_sums[f];_[0]+=x-m,_[1]+=w-y}}this.E_sums[e]=[u,d]}}function he(t,e,r){var n,i,s,a;if(!(this instanceof he))throw new SyntaxError("Constructor must be called with the new operator");this.options={},this.defaultOptions={locale:"en",locales:tme,clickToUse:!1},kt(this.options,this.defaultOptions),this.body={container:t,nodes:{},nodeIndices:[],edges:{},edgeIndices:[],emitter:{on:Z(n=this.on).call(n,this),off:Z(i=this.off).call(i,this),emit:Z(s=this.emit).call(s,this),once:Z(a=this.once).call(a,this)},eventListeners:{onTap:function(){},onTouch:function(){},onDoubleTap:function(){},onHold:function(){},onDragStart:function(){},onDrag:function(){},onDragEnd:function(){},onMouseWheel:function(){},onPinch:function(){},onMouseMove:function(){},onRelease:function(){},onContext:function(){}},data:{nodes:null,edges:null},functions:{createNode:function(){},createEdge:function(){},getPointer:function(){}},modules:{},view:{scale:1,translation:{x:0,y:0}},selectionBox:{show:!1,position:{start:{x:0,y:0},end:{x:0,y:0}}}},this.bindEventListeners(),this.images=new ime(()=>this.body.emitter.emit("_requestRedraw")),this.groups=new bme,this.canvas=new fye(this.body),this.selectionHandler=new Gye(this.body,this.canvas),this.interactionHandler=new gye(this.body,this.canvas,this.selectionHandler),this.view=new mye(this.body,this.canvas),this.renderer=new lye(this.body,this.canvas),this.physics=new eye(this.body),this.layoutEngine=new Obe(this.body),this.clustering=new oye(this.body),this.manipulation=new Pbe(this.body,this.canvas,this.selectionHandler,this.interactionHandler),this.nodesHandler=new Tge(this.body,this.images,this.groups,this.layoutEngine),this.edgesHandler=new Gge(this.body,this.images,this.groups),this.body.modules.kamadaKawai=new Rbe(this.body,150,.05),this.body.modules.clustering=this.clustering,this.canvas._create(),this.setOptions(r),this.setData(e)}K9(he.prototype);he.prototype.setOptions=function(t){if(t===null&&(t=void 0),t!==void 0){if(jpe.validate(t,Tbe)===!0&&console.error("%cErrors have been found in the supplied options object.",zG),zu(["locale","locales","clickToUse"],this.options,t),t.locale!==void 0&&(t.locale=rme(t.locales||this.options.locales,t.locale)),t=this.layoutEngine.setOptions(t.layout,t),this.canvas.setOptions(t),this.groups.setOptions(t.groups),this.nodesHandler.setOptions(t.nodes),this.edgesHandler.setOptions(t.edges),this.physics.setOptions(t.physics),this.manipulation.setOptions(t.manipulation,t,this.options),this.interactionHandler.setOptions(t.interaction),this.renderer.setOptions(t.interaction),this.selectionHandler.setOptions(t.interaction),t.groups!==void 0&&this.body.emitter.emit("refreshNodes"),"configure"in t&&(this.configurator||(this.configurator=new Ipe(this,this.body.container,gY,this.canvas.pixelRatio,Nbe)),this.configurator.setOptions(t.configure)),this.configurator&&this.configurator.options.enabled===!0){const n={nodes:{},edges:{},layout:{},interaction:{},manipulation:{},physics:{},global:{}};et(n.nodes,this.nodesHandler.options),et(n.edges,this.edgesHandler.options),et(n.layout,this.layoutEngine.options),et(n.interaction,this.selectionHandler.options),et(n.interaction,this.renderer.options),et(n.interaction,this.interactionHandler.options),et(n.manipulation,this.manipulation.options),et(n.physics,this.physics.options),et(n.global,this.canvas.options),et(n.global,this.options),this.configurator.setModuleOptions(n)}t.clickToUse!==void 0?t.clickToUse===!0?this.activator===void 0&&(this.activator=new Npe(this.canvas.frame),this.activator.on("change",()=>{this.body.emitter.emit("activate")})):(this.activator!==void 0&&(this.activator.destroy(),delete this.activator),this.body.emitter.emit("activate")):this.body.emitter.emit("activate"),this.canvas.setSize(),this.body.emitter.emit("startSimulation")}};he.prototype._updateVisibleIndices=function(){const t=this.body.nodes,e=this.body.edges;this.body.nodeIndices=[],this.body.edgeIndices=[];for(const r in t)Object.prototype.hasOwnProperty.call(t,r)&&!this.clustering._isClusteredNode(r)&&t[r].options.hidden===!1&&this.body.nodeIndices.push(t[r].id);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const n=e[r],i=t[n.fromId],s=t[n.toId],a=i!==void 0&&s!==void 0;!this.clustering._isClusteredEdge(r)&&n.options.hidden===!1&&a&&i.options.hidden===!1&&s.options.hidden===!1&&this.body.edgeIndices.push(n.id)}};he.prototype.bindEventListeners=function(){this.body.emitter.on("_dataChanged",()=>{this.edgesHandler._updateState(),this.body.emitter.emit("_dataUpdated")}),this.body.emitter.on("_dataUpdated",()=>{this.clustering._updateState(),this._updateVisibleIndices(),this._updateValueRange(this.body.nodes),this._updateValueRange(this.body.edges),this.body.emitter.emit("startSimulation"),this.body.emitter.emit("_requestRedraw")})};he.prototype.setData=function(t){if(this.body.emitter.emit("resetPhysics"),this.body.emitter.emit("_resetData"),this.selectionHandler.unselectAll(),t&&t.dot&&(t.nodes||t.edges))throw new SyntaxError('Data must contain either parameter "dot" or  parameter pair "nodes" and "edges", but not both.');if(this.setOptions(t&&t.options),t&&t.dot){console.warn("The dot property has been deprecated. Please use the static convertDot method to convert DOT into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertDot(dotString);");const e=zpe(t.dot);this.setData(e);return}else if(t&&t.gephi){console.warn("The gephi property has been deprecated. Please use the static convertGephi method to convert gephi into vis.network format and use the normal data format with nodes and edges. This converter is used like this: var data = vis.network.convertGephi(gephiJson);");const e=Upe(t.gephi);this.setData(e);return}else this.nodesHandler.setData(t&&t.nodes,!0),this.edgesHandler.setData(t&&t.edges,!0);this.body.emitter.emit("_dataChanged"),this.body.emitter.emit("_dataLoaded"),this.body.emitter.emit("initPhysics")};he.prototype.destroy=function(){this.body.emitter.emit("destroy"),this.body.emitter.off(),this.off(),delete this.groups,delete this.canvas,delete this.selectionHandler,delete this.interactionHandler,delete this.view,delete this.renderer,delete this.physics,delete this.layoutEngine,delete this.clustering,delete this.manipulation,delete this.nodesHandler,delete this.edgesHandler,delete this.configurator,delete this.images;for(const t in this.body.nodes)Object.prototype.hasOwnProperty.call(this.body.nodes,t)&&delete this.body.nodes[t];for(const t in this.body.edges)Object.prototype.hasOwnProperty.call(this.body.edges,t)&&delete this.body.edges[t];ys(this.body.container)};he.prototype._updateValueRange=function(t){let e,r,n,i=0;for(e in t)if(Object.prototype.hasOwnProperty.call(t,e)){const s=t[e].getValue();s!==void 0&&(r=r===void 0?s:Math.min(s,r),n=n===void 0?s:Math.max(s,n),i+=s)}if(r!==void 0&&n!==void 0)for(e in t)Object.prototype.hasOwnProperty.call(t,e)&&t[e].setValueRange(r,n,i)};he.prototype.isActive=function(){return!this.activator||this.activator.active};he.prototype.setSize=function(){return this.canvas.setSize.apply(this.canvas,arguments)};he.prototype.canvasToDOM=function(){return this.canvas.canvasToDOM.apply(this.canvas,arguments)};he.prototype.DOMtoCanvas=function(){return this.canvas.DOMtoCanvas.apply(this.canvas,arguments)};he.prototype.findNode=function(){return this.clustering.findNode.apply(this.clustering,arguments)};he.prototype.isCluster=function(){return this.clustering.isCluster.apply(this.clustering,arguments)};he.prototype.openCluster=function(){return this.clustering.openCluster.apply(this.clustering,arguments)};he.prototype.cluster=function(){return this.clustering.cluster.apply(this.clustering,arguments)};he.prototype.getNodesInCluster=function(){return this.clustering.getNodesInCluster.apply(this.clustering,arguments)};he.prototype.clusterByConnection=function(){return this.clustering.clusterByConnection.apply(this.clustering,arguments)};he.prototype.clusterByHubsize=function(){return this.clustering.clusterByHubsize.apply(this.clustering,arguments)};he.prototype.updateClusteredNode=function(){return this.clustering.updateClusteredNode.apply(this.clustering,arguments)};he.prototype.getClusteredEdges=function(){return this.clustering.getClusteredEdges.apply(this.clustering,arguments)};he.prototype.getBaseEdge=function(){return this.clustering.getBaseEdge.apply(this.clustering,arguments)};he.prototype.getBaseEdges=function(){return this.clustering.getBaseEdges.apply(this.clustering,arguments)};he.prototype.updateEdge=function(){return this.clustering.updateEdge.apply(this.clustering,arguments)};he.prototype.clusterOutliers=function(){return this.clustering.clusterOutliers.apply(this.clustering,arguments)};he.prototype.getSeed=function(){return this.layoutEngine.getSeed.apply(this.layoutEngine,arguments)};he.prototype.enableEditMode=function(){return this.manipulation.enableEditMode.apply(this.manipulation,arguments)};he.prototype.disableEditMode=function(){return this.manipulation.disableEditMode.apply(this.manipulation,arguments)};he.prototype.addNodeMode=function(){return this.manipulation.addNodeMode.apply(this.manipulation,arguments)};he.prototype.editNode=function(){return this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.editNodeMode=function(){return console.warn("Deprecated: Please use editNode instead of editNodeMode."),this.manipulation.editNode.apply(this.manipulation,arguments)};he.prototype.addEdgeMode=function(){return this.manipulation.addEdgeMode.apply(this.manipulation,arguments)};he.prototype.editEdgeMode=function(){return this.manipulation.editEdgeMode.apply(this.manipulation,arguments)};he.prototype.deleteSelected=function(){return this.manipulation.deleteSelected.apply(this.manipulation,arguments)};he.prototype.getPositions=function(){return this.nodesHandler.getPositions.apply(this.nodesHandler,arguments)};he.prototype.getPosition=function(){return this.nodesHandler.getPosition.apply(this.nodesHandler,arguments)};he.prototype.storePositions=function(){return this.nodesHandler.storePositions.apply(this.nodesHandler,arguments)};he.prototype.moveNode=function(){return this.nodesHandler.moveNode.apply(this.nodesHandler,arguments)};he.prototype.getBoundingBox=function(){return this.nodesHandler.getBoundingBox.apply(this.nodesHandler,arguments)};he.prototype.getConnectedNodes=function(t){return this.body.nodes[t]!==void 0?this.nodesHandler.getConnectedNodes.apply(this.nodesHandler,arguments):this.edgesHandler.getConnectedNodes.apply(this.edgesHandler,arguments)};he.prototype.getConnectedEdges=function(){return this.nodesHandler.getConnectedEdges.apply(this.nodesHandler,arguments)};he.prototype.startSimulation=function(){return this.physics.startSimulation.apply(this.physics,arguments)};he.prototype.stopSimulation=function(){return this.physics.stopSimulation.apply(this.physics,arguments)};he.prototype.stabilize=function(){return this.physics.stabilize.apply(this.physics,arguments)};he.prototype.getSelection=function(){return this.selectionHandler.getSelection.apply(this.selectionHandler,arguments)};he.prototype.setSelection=function(){return this.selectionHandler.setSelection.apply(this.selectionHandler,arguments)};he.prototype.getSelectedNodes=function(){return this.selectionHandler.getSelectedNodeIds.apply(this.selectionHandler,arguments)};he.prototype.getSelectedEdges=function(){return this.selectionHandler.getSelectedEdgeIds.apply(this.selectionHandler,arguments)};he.prototype.getNodeAt=function(){const t=this.selectionHandler.getNodeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.getEdgeAt=function(){const t=this.selectionHandler.getEdgeAt.apply(this.selectionHandler,arguments);return t!==void 0&&t.id!==void 0?t.id:t};he.prototype.selectNodes=function(){return this.selectionHandler.selectNodes.apply(this.selectionHandler,arguments)};he.prototype.selectEdges=function(){return this.selectionHandler.selectEdges.apply(this.selectionHandler,arguments)};he.prototype.unselectAll=function(){this.selectionHandler.unselectAll.apply(this.selectionHandler,arguments),this.selectionHandler.commitWithoutEmitting.apply(this.selectionHandler),this.redraw()};he.prototype.redraw=function(){return this.renderer.redraw.apply(this.renderer,arguments)};he.prototype.getScale=function(){return this.view.getScale.apply(this.view,arguments)};he.prototype.getViewPosition=function(){return this.view.getViewPosition.apply(this.view,arguments)};he.prototype.fit=function(){return this.view.fit.apply(this.view,arguments)};he.prototype.moveTo=function(){return this.view.moveTo.apply(this.view,arguments)};he.prototype.focus=function(){return this.view.focus.apply(this.view,arguments)};he.prototype.releaseNode=function(){return this.view.releaseNode.apply(this.view,arguments)};he.prototype.getOptionsFromConfigurator=function(){let t={};return this.configurator&&(t=this.configurator.getOptions.apply(this.configurator)),t};function jbe({graphData:t,startPersonId:e,onNodeClick:r}){const n=$.useRef(null),i=$.useRef(null),s=en(),a=$.useCallback(d=>{r?r(d):s(`/people/${d}`)},[r,s]);$.useEffect(()=>{if(!n.current||!t||!t.nodes||t.nodes.length===0)return;const d=new tu(t.nodes),h=new tu(t.edges),f={layout:{hierarchical:{enabled:!0,direction:"UD",sortMethod:"directed",levelSeparation:180,nodeSpacing:200,treeSpacing:250,blockShifting:!0,edgeMinimization:!0,parentCentralization:!0}},nodes:{shape:"box",margin:10,font:{size:14,face:'system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", Roboto, sans-serif',color:"#1f2937"},color:{border:"#d1d5db",background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"},hover:{border:"#9ca3af",background:"#f9fafb"}},borderWidth:2,borderWidthSelected:3,shadow:{enabled:!0,color:"rgba(0,0,0,0.1)",size:5,x:0,y:2}},edges:{color:{color:"#9ca3af",highlight:"#6b7280",hover:"#6b7280"},width:2,smooth:{enabled:!0,type:"cubicBezier",forceDirection:"vertical",roundness:.4},arrows:{to:{enabled:!1}}},physics:{enabled:!1},interaction:{hover:!0,tooltipDelay:200,zoomView:!0,dragView:!0,dragNodes:!1,navigationButtons:!1,keyboard:{enabled:!0,bindToWindow:!1}}},p=new he(n.current,{nodes:d,edges:h},f);return i.current=p,p.on("click",m=>{if(m.nodes.length>0){const y=m.nodes[0];a(y)}}),p.on("doubleClick",m=>{m.nodes.length>0&&p.focus(m.nodes[0],{scale:1,animation:{duration:500,easingFunction:"easeInOutQuad"}})}),p.once("stabilized",()=>{const m=t.edges.filter(y=>y.dashes).map(y=>[y.from,y.to]);if(m.length>0){const y=p.getPositions(),b={},g=new Set;m.forEach(([v,x])=>{if(g.has(v)||g.has(x))return;const w=y[v],_=y[x];if(!w||!_)return;const E=(w.x+_.x)/2;b[v]={x:E-60,y:w.y},b[x]={x:E+60,y:_.y},g.add(v),g.add(x)}),Object.entries(b).forEach(([v,x])=>{p.moveNode(v,x.x,x.y)})}setTimeout(()=>{p.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})},50)}),setTimeout(()=>{e&&p&&p.focus(e,{scale:.8,animation:{duration:500,easingFunction:"easeInOutQuad"}})},100),()=>{p&&p.destroy()}},[t,e,a]);const o=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d*1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},l=()=>{if(i.current){const d=i.current.getScale();i.current.moveTo({scale:d/1.3,animation:{duration:300,easingFunction:"easeInOutQuad"}})}},u=()=>{i.current&&i.current.fit({animation:{duration:500,easingFunction:"easeInOutQuad"}})};return!t||!t.nodes||t.nodes.length===0?c.jsx("div",{className:"flex items-center justify-center h-96",children:c.jsx("p",{className:"text-gray-500",children:"No family tree data available"})}):c.jsxs("div",{className:"relative w-full h-full",children:[c.jsxs("div",{className:"absolute top-4 right-4 z-10 flex gap-2 bg-white rounded-lg shadow-lg p-2",children:[c.jsx("button",{onClick:o,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom In",children:c.jsx(XZ,{className:"w-4 h-4"})}),c.jsx("button",{onClick:l,className:"p-2 hover:bg-gray-100 rounded",title:"Zoom Out",children:c.jsx(JZ,{className:"w-4 h-4"})}),c.jsx("button",{onClick:u,className:"p-2 hover:bg-gray-100 rounded",title:"Fit All",children:c.jsx(P7,{className:"w-4 h-4"})})]}),c.jsx("div",{className:"absolute bottom-4 left-4 z-10 text-xs text-gray-500 bg-white/80 px-2 py-1 rounded",children:"Click a person to view details  Double-click to center  Scroll to zoom"}),c.jsx("div",{ref:n,className:"w-full h-full min-h-[600px]",style:{background:"#fafafa"}})]})}const $be=["parent","child","spouse","lover","partner"];function kbe(t){return $be.includes(t==null?void 0:t.toLowerCase())}function Dbe(t){return(t==null?void 0:t.toLowerCase())==="parent"}function qbe(t){return(t==null?void 0:t.toLowerCase())==="child"}function Mbe(t){const e=t==null?void 0:t.toLowerCase();return e==="spouse"||e==="lover"||e==="partner"}function Abe(t,e,r){var d;const n=new Map,i=[],s=new Set,a=new Map;e.forEach(h=>a.set(h.id,h));const o=[{personId:t,depth:0}];s.add(t);function l(h,f){var v,x,w,_;let p=h.name||((v=h.title)==null?void 0:v.rendered)||h.title||`Person ${f}`;if(p&&typeof p=="string"&&typeof document<"u"){const E=document.createElement("textarea");E.innerHTML=p,p=E.value}let m=null,y=((x=h.acf)==null?void 0:x.birth_date)||null;if(y){const E=new Date(y);isNaN(E.getTime())||(m=Math.floor((new Date-E)/(365.25*24*60*60*1e3)))}let b="";switch((w=h.acf)==null?void 0:w.gender){case"male":b="";break;case"female":b="";break;case"non_binary":case"other":case"prefer_not_to_say":b="";break}let g="";if(y)try{const E=new Date(y);if(!isNaN(E.getTime())){const O=String(E.getDate()).padStart(2,"0"),S=String(E.getMonth()+1).padStart(2,"0"),P=E.getFullYear();g=`${O}-${S}-${P}`}}catch{}return{id:f,name:p,gender:((_=h.acf)==null?void 0:_.gender)||"",genderSymbol:b,photo:h.thumbnail||null,age:m,birthDate:y,formattedBirthDate:g}}const u=a.get(t);for(u&&n.set(t,l(u,t));o.length>0;){const{personId:h,depth:f}=o.shift(),p=r.get(h)||[];for(const m of p){if(m.relationship_type_slug&&!kbe(m.relationship_type_slug))continue;const y=m.related_person;if(!y||!a.has(y))continue;if(!n.has(y)){const x=a.get(y);n.set(y,l(x,y))}const b=`${h}-${y}`,g=`${y}-${h}`;if(!i.some(x=>`${x.from}-${x.to}`===b||`${x.from}-${x.to}`===g)){const x=(d=m.relationship_type_slug)==null?void 0:d.toLowerCase();if(Dbe(x))i.push({from:y,to:h,type:"parent-child"});else if(qbe(x))i.push({from:h,to:y,type:"parent-child"});else if(Mbe(x)){const[w,_]=h<y?[h,y]:[y,h];i.push({from:w,to:_,type:"spouse"})}}s.has(y)||(s.add(y),o.push({personId:y,depth:f+1}))}}return{nodes:Array.from(n.values()),edges:i}}function Fbe(t,e,r={}){const{nodes:n,edges:i}=t;if(n.length===0)return{nodes:[],edges:[]};const s=new Map,a=new Map,o=new Map;n.forEach(b=>{s.set(b.id,[]),a.set(b.id,[]),o.set(b.id,[])}),i.forEach(b=>{var g,v,x,w;b.type==="parent-child"?((g=s.get(b.to))==null||g.push(b.from),(v=a.get(b.from))==null||v.push(b.to)):b.type==="spouse"&&((x=o.get(b.from))==null||x.push(b.to),(w=o.get(b.to))==null||w.push(b.from))});const l=new Map,u=new Set,d=[{id:e,generation:0}];for(l.set(e,0),u.add(e);d.length>0;){const{id:b,generation:g}=d.shift(),v=s.get(b)||[];for(const _ of v)u.has(_)||(u.add(_),l.set(_,g-1),d.push({id:_,generation:g-1}));const x=a.get(b)||[];for(const _ of x)u.has(_)||(u.add(_),l.set(_,g+1),d.push({id:_,generation:g+1}));const w=o.get(b)||[];for(const _ of w)u.has(_)||(u.add(_),l.set(_,g),d.push({id:_,generation:g}))}n.forEach(b=>{l.has(b.id)||l.set(b.id,0)});const h=Math.min(...l.values()),f=new Map;l.forEach((b,g)=>{f.set(g,b-h)});function p(b,g,v=!1){const x=b?b.split(" ").map(O=>O[0]).join("").toUpperCase().slice(0,2):"?";let w,_;v?(w="%23d1d5db",_="%236b7280"):g?(w="%23fef3c7",_="%23b45309"):(w="%23e5e7eb",_="%23374151");const E=`<svg xmlns="http://www.w3.org/2000/svg" width="90" height="90" viewBox="0 0 90 90">
      <circle cx="45" cy="45" r="45" fill="${w}"/>
      <text x="45" y="55" text-anchor="middle" font-family="system-ui, sans-serif" font-size="28" font-weight="500" fill="${_}">${x}</text>
    </svg>`;return"data:image/svg+xml,"+encodeURIComponent(E)}const m=n.map(b=>{const g=f.get(b.id)||0,v=b.id===e,x=r[b.id]||!1;let w=b.name;x&&(w=b.name+" ");let _=[w],E="";b.genderSymbol&&(E+=b.genderSymbol+" "),b.age!==null&&(E+=b.age+" "),b.formattedBirthDate&&(E+=b.formattedBirthDate),E.trim()&&_.push(E.trim());const O=b.photo||p(b.name,v,x);let S="#d1d5db";return v?S="#f59e0b":x&&(S="#9ca3af"),{id:b.id,label:_.join(`
`),level:g,shape:"circularImage",image:O,size:45,font:{size:14,face:"system-ui, -apple-system, sans-serif",vadjust:8,color:x?"#6b7280":"#1f2937"},color:{border:S,background:"#ffffff",highlight:{border:"#f59e0b",background:"#fef3c7"}},borderWidth:v?3:2,data:{...b,isDeceased:x}}}),y=i.map((b,g)=>{const v=b.type==="spouse";return{id:`edge-${g}`,from:b.from,to:b.to,arrows:{to:{enabled:!1}},color:{color:v?"#ec4899":"#9ca3af",highlight:v?"#db2777":"#6b7280"},width:2,dashes:v?[5,5]:!1,smooth:!1,length:v?50:300}});return{nodes:m,edges:y}}function Lbe(t){const e=new Map;return t.forEach(r=>{var s;const i=(((s=r.acf)==null?void 0:s.relationships)||[]).map(a=>{var u,d,h,f,p,m;let o="";a.relationship_slug?o=a.relationship_slug.toLowerCase():typeof a.relationship_type=="object"?o=((u=a.relationship_type)==null?void 0:u.slug)||((h=(d=a.relationship_type)==null?void 0:d.name)==null?void 0:h.toLowerCase())||"":typeof a.relationship_type=="string"&&(o=a.relationship_type.toLowerCase());let l=null;return typeof a.related_person=="object"?l=((f=a.related_person)==null?void 0:f.ID)||((p=a.related_person)==null?void 0:p.id)||((m=a.related_person)==null?void 0:m.term_id):(typeof a.related_person=="number"||typeof a.related_person=="string")&&(l=parseInt(a.related_person,10)),{related_person:l,relationship_type:a.relationship_type,relationship_type_slug:o,relationship_name:a.relationship_name||"",relationship_label:a.relationship_label||""}}).filter(a=>a.related_person);e.set(r.id,i)}),e}function Bbe(t,e){const r=new Map;e.forEach(n=>{var i;r.set(n.id,n.slug||((i=n.name)==null?void 0:i.toLowerCase()))}),t.forEach(n=>{n.forEach(i=>{if(!i.relationship_type_slug&&i.relationship_type){const s=typeof i.relationship_type=="object"?i.relationship_type.term_id||i.relationship_type.id:i.relationship_type;i.relationship_type_slug=r.get(s)||""}})})}function zbe(){var p,m;const{id:t}=is(),e=en(),r=parseInt(t,10),{data:n,isLoading:i}=pu(t),{data:s=[],isLoading:a}=Np(),{data:o=[]}=pt({queryKey:["relationship-types"],queryFn:async()=>(await Le.getRelationshipTypes()).data}),l=$.useMemo(()=>s.map(y=>y.id).filter(Boolean),[s]),u=Af({queries:l.map(y=>({queryKey:["person-dates",y],queryFn:async()=>(await Xr.getPersonDates(y)).data,enabled:!!y,staleTime:5*60*1e3}))}),d=$.useMemo(()=>{const y={};return u.forEach((b,g)=>{if(b.data&&l[g]){const v=l[g],x=b.data.some(w=>{const _=Array.isArray(w.date_type)?w.date_type[0]:w.date_type;return(_==null?void 0:_.toLowerCase())==="died"});y[v]=x}}),y},[u,l]);ei(n?`Family Tree - ${n.name||((p=n.title)==null?void 0:p.rendered)||n.title||"Person"}`:"Family Tree");const h=$.useMemo(()=>{if(!n||!s.length)return null;try{const y=Lbe(s);o.length>0&&Bbe(y,o);const b=Abe(r,s,y);return!b||b.nodes.length===0?null:Fbe(b,r,d)}catch(y){return console.error("Error building family tree:",y),null}},[n,s,o,r,d]),f=y=>{e(`/people/${y}`)};return i||a?c.jsx("div",{className:"flex items-center justify-center h-64",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):n?c.jsxs("div",{className:"max-w-full mx-auto space-y-6",children:[c.jsx("div",{className:"flex items-center justify-between",children:c.jsxs("div",{className:"flex items-center gap-4",children:[c.jsxs(me,{to:`/people/${t}`,className:"flex items-center text-gray-600 hover:text-gray-900",children:[c.jsx(ss,{className:"w-4 h-4 md:mr-2"}),c.jsx("span",{className:"hidden md:inline",children:"Back to Person"})]}),c.jsxs("h1",{className:"text-2xl font-bold",children:["Family Tree: ",n.name||((m=n.title)==null?void 0:m.rendered)||n.title||`Person ${t}`]})]})}),c.jsx("div",{className:"card p-6",children:c.jsx("div",{className:"w-full",style:{height:"800px"},children:h&&h.nodes&&h.nodes.length>0?c.jsx(jbe,{graphData:h,startPersonId:r,onNodeClick:f}):c.jsx("div",{className:"flex items-center justify-center h-full",children:c.jsxs("div",{className:"text-center",children:[c.jsx("p",{className:"text-gray-500 mb-2",children:"No family relationships found."}),c.jsx("p",{className:"text-sm text-gray-400",children:"Add parent or child relationships to see the family tree."})]})})})})]}):c.jsxs("div",{className:"card p-6 text-center",children:[c.jsx("p",{className:"text-red-600 mb-4",children:"Failed to load person."}),c.jsx(me,{to:"/people",className:"btn-secondary",children:"Back to People"})]})}function Ube(){const{loginUrl:t,isLoggedIn:e}=fT();return $7(),$.useEffect(()=>{e||(window.location.href=t)},[e,t]),c.jsx("div",{className:"flex items-center justify-center min-h-screen bg-gray-50",children:c.jsxs("div",{className:"text-center",children:[c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600 mx-auto mb-4"}),c.jsx("p",{className:"text-gray-600",children:"Redirecting to login..."})]})})}function Wbe({children:t}){const{isLoggedIn:e,isLoading:r}=fT();return r?c.jsx("div",{className:"flex items-center justify-center min-h-screen",children:c.jsx("div",{className:"animate-spin rounded-full h-8 w-8 border-b-2 border-primary-600"})}):e?t:c.jsx(i7,{to:"/login",replace:!0})}function Hbe(){return c.jsxs(GI,{children:[c.jsx(Xe,{path:"/login",element:c.jsx(Ube,{})}),c.jsx(Xe,{path:"/*",element:c.jsx(Wbe,{children:c.jsx(Dte,{children:c.jsxs(GI,{children:[c.jsx(Xe,{path:"/",element:c.jsx(Wre,{})}),c.jsx(Xe,{path:"/people",element:c.jsx(Jre,{})}),c.jsx(Xe,{path:"/people/new",element:c.jsx(QR,{})}),c.jsx(Xe,{path:"/people/:personId/contact/new",element:c.jsx(JR,{})}),c.jsx(Xe,{path:"/people/:personId/contact/:index/edit",element:c.jsx(JR,{})}),c.jsx(Xe,{path:"/people/:personId/work-history/new",element:c.jsx(XR,{})}),c.jsx(Xe,{path:"/people/:personId/work-history/:index/edit",element:c.jsx(XR,{})}),c.jsx(Xe,{path:"/people/:personId/relationship/new",element:c.jsx(ZR,{})}),c.jsx(Xe,{path:"/people/:personId/relationship/:index/edit",element:c.jsx(ZR,{})}),c.jsx(Xe,{path:"/people/:id/family-tree",element:c.jsx(zbe,{})}),c.jsx(Xe,{path:"/people/:id/edit",element:c.jsx(QR,{})}),c.jsx(Xe,{path:"/people/:id",element:c.jsx(nne,{})}),c.jsx(Xe,{path:"/companies",element:c.jsx(Tne,{})}),c.jsx(Xe,{path:"/companies/new",element:c.jsx(e2,{})}),c.jsx(Xe,{path:"/companies/:id",element:c.jsx(Nne,{})}),c.jsx(Xe,{path:"/companies/:id/edit",element:c.jsx(e2,{})}),c.jsx(Xe,{path:"/dates",element:c.jsx(jne,{})}),c.jsx(Xe,{path:"/dates/new",element:c.jsx(t2,{})}),c.jsx(Xe,{path:"/dates/:id/edit",element:c.jsx(t2,{})}),c.jsx(Xe,{path:"/settings",element:c.jsx(kne,{})}),c.jsx(Xe,{path:"/settings/relationship-types",element:c.jsx(Dne,{})}),c.jsx(Xe,{path:"/settings/import",element:c.jsx(Lne,{})}),c.jsx(Xe,{path:"*",element:c.jsx(i7,{to:"/",replace:!0})})]})})})})]})}const Vbe=new _Z({defaultOptions:{queries:{staleTime:5*60*1e3,retry:1}}}),gO=document.getElementById("root");if(!gO)console.error('Root element not found! Make sure there is a <div id="root"></div> in your HTML.');else try{yO.createRoot(gO).render(c.jsx(Ce.StrictMode,{children:c.jsx(SZ,{client:Vbe,children:c.jsx(WJ,{children:c.jsx(Hbe,{})})})}))}catch(t){console.error("Error mounting React app:",t),gO.innerHTML='<div style="padding: 20px; color: red;"><h1>Error Loading Application</h1><p>Please check the browser console for details.</p></div>'}
